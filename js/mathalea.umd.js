(function(ip,np){typeof exports=="object"&&typeof module<"u"?module.exports=np():typeof define=="function"&&define.amd?define(np):(ip=typeof globalThis<"u"?globalThis:ip||self,ip.MathALEA=np())})(this,function(){"use strict";const ip=["aire","alphanumericAvecEspace","alphanumeric","angles","clavierHms","clavierDeBase","clavierCompare","clavierCompareAvecNombres","clavierDeBaseAvecX","clavierDeBaseAvecFraction","clavierDeBaseAvecFractionPuissanceCrochets","clavierDeBaseAvecEgal","clavierDeBaseAvecVariable","clavierEnsemble","clavierEnsemblePredefini","clavierFullOperations","clavierNumbers","clavierProbabilite","clavierSuite","college6eme","complexes","geolocalisation","grecTrigo","longueur","lycee","masse","clavierFonctionsTerminales","nombresEtDegre","nombresEtDegreCelsius","numbersSpace","numeration","vFON","volume"],np=t=>t!==null&&typeof t=="string"&&ip.includes(t),Xt=ip.reduce((t,e)=>({...t,[e]:e}),{}),Uk=t=>{switch(t){case Xt.clavierDeBase:return["numbersOperations"];case Xt.vFON:return["numbersOperations","vFON"];case Xt.clavierDeBaseAvecX:return["numbersOperationsX"];case Xt.grecTrigo:return["numbers","fullOperations","greek","trigo"];case Xt.clavierHms:return["numbers","hms"];case Xt.clavierCompare:return["compare"];case Xt.clavierCompareAvecNombres:return["numbers","compare","basicOperations"];case Xt.clavierFonctionsTerminales:return["clavierFonctionsTerminales"];case Xt.lycee:return["numbers","fullOperations","variables","advanced"];case Xt.college6eme:return["numbersOperations"];case Xt.clavierDeBaseAvecFraction:return["numbers","basicOperations"];case Xt.clavierDeBaseAvecFractionPuissanceCrochets:return["numbers","basicOperationsPlus"];case Xt.clavierDeBaseAvecEgal:return["numbers2","basicOperations"];case Xt.clavierDeBaseAvecVariable:return["numbers","basicOperations","variables"];case Xt.clavierEnsemble:return["numbersX","ensemble","ensembleDefini"];case Xt.clavierEnsemblePredefini:return["ensembleDefini"];case Xt.clavierSuite:return["numbers","fullOperations","suite"];case Xt.clavierNumbers:return["numbers"];case Xt.complexes:return["complexes"];case Xt.numbersSpace:return["numbersSpace"];case Xt.clavierFullOperations:return["numbers","fullOperations"];case Xt.clavierProbabilite:return["numbers","probabilite","uppercaseXToZ","uppercaseQToW","uppercaseIToP","uppercaseAToH"];case Xt.alphanumeric:return["alphanumeric"];case Xt.alphanumericAvecEspace:return["alphanumeric"];case Xt.longueur:return["numbers","lengths"];case Xt.numeration:return["numbers","numeration"];case Xt.aire:return["numbers","areas"];case Xt.volume:return["numbers","volumes","capacities"];case Xt.masse:return["numbers","masses"];case Xt.angles:return["angles","uppercaseXToZ","uppercaseQToW","uppercaseIToP","uppercaseAToH"];case Xt.nombresEtDegre:return["numbers","degre"];case Xt.geolocalisation:return["numbers","estOuestSudNord"];case Xt.nombresEtDegreCelsius:return["numbers","degreCelsius"];default:throw new Error("This error shouldn't occur. Clavier type: '"+t+"'")}},AH=t=>{if(t==="")return["numbers","fullOperations","variables"];const e=[],r=t==null?void 0:t.split(" ");for(const i of r)if(np(i))e.push(...Uk(i));else if(i.startsWith("unit")||i.startsWith("Unit")){const n=i.match(/\[(.*?)\]/g),a=(n==null?void 0:n.map(s=>s.slice(1,-1)).join(",").split(",").map(s=>s.toLowerCase().replace(/[s]$/,"")))||[];for(const s of a)np(s)&&e.push(...Uk(s))}return e.length!==0?e.filter((n,a,s)=>s.indexOf(n)===a):["numbers","fullOperations","variables"]};var zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $H(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),r}var Vk={exports:{}},db={exports:{}},Gk;function _H(){return Gk||(Gk=1,function(t,e){(function(i,n){t.exports=n()})(typeof self<"u"?self:zr,function(){return function(){var r={};(function(){r.d=function(C,M){for(var S in M)r.o(M,S)&&!r.o(C,S)&&Object.defineProperty(C,S,{enumerable:!0,get:M[S]})}})(),function(){r.o=function(C,M){return Object.prototype.hasOwnProperty.call(C,M)}}();var i={};r.d(i,{default:function(){return $$e}});class n{constructor(M,S){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let I="KaTeX parse error: "+M,B,V;const K=S&&S.loc;if(K&&K.start<=K.end){const ve=K.lexer.input;B=K.start,V=K.end,B===ve.length?I+=" at end of input: ":I+=" at position "+(B+1)+": ";const Ie=ve.slice(B,V).replace(/[^]/g,"$&̲");let Ve;B>15?Ve="…"+ve.slice(B-15,B):Ve=ve.slice(0,B);let Ye;V+15<ve.length?Ye=ve.slice(V,V+15)+"…":Ye=ve.slice(V),I+=Ve+Ie+Ye}const se=new Error(I);return se.name="ParseError",se.__proto__=n.prototype,se.position=B,B!=null&&V!=null&&(se.length=V-B),se.rawMessage=M,se}}n.prototype.__proto__=Error.prototype;var a=n;const s=function(C,M){return C===void 0?M:C},o=/([A-Z])/g,l=function(C){return C.replace(o,"-$1").toLowerCase()},u={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},c=/[&><"']/g;function h(C){return String(C).replace(c,M=>u[M])}const p=function(C){return C.type==="ordgroup"||C.type==="color"?C.body.length===1?p(C.body[0]):C:C.type==="font"?p(C.body):C},d=function(C){const M=p(C);return M.type==="mathord"||M.type==="textord"||M.type==="atom"},m=function(C){if(!C)throw new Error("Expected non-null, but got "+String(C));return C};var v={deflt:s,escape:h,hyphenate:l,getBaseElem:p,isCharacterBox:d,protocolFromUrl:function(C){const M=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(C);return M?M[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(M[1])?null:M[1].toLowerCase():"_relative"}};const y={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:C=>"#"+C},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(C,M)=>(M.push(C),M)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:C=>Math.max(0,C),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:C=>Math.max(0,C),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:C=>Math.max(0,C),cli:"-e, --max-expand <n>",cliProcessor:C=>C==="Infinity"?1/0:parseInt(C)},globalGroup:{type:"boolean",cli:!1}};function x(C){if(C.default)return C.default;const M=C.type,S=Array.isArray(M)?M[0]:M;if(typeof S!="string")return S.enum[0];switch(S){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class g{constructor(M){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,M=M||{};for(const S in y)if(y.hasOwnProperty(S)){const I=y[S];this[S]=M[S]!==void 0?I.processor?I.processor(M[S]):M[S]:x(I)}}reportNonstrict(M,S,I){let B=this.strict;if(typeof B=="function"&&(B=B(M,S,I)),!(!B||B==="ignore")){if(B===!0||B==="error")throw new a("LaTeX-incompatible input and strict mode is set to 'error': "+(S+" ["+M+"]"),I);B==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(S+" ["+M+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+B+"': "+S+" ["+M+"]"))}}useStrictBehavior(M,S,I){let B=this.strict;if(typeof B=="function")try{B=B(M,S,I)}catch{B="error"}return!B||B==="ignore"?!1:B===!0||B==="error"?!0:B==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(S+" ["+M+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+B+"': "+S+" ["+M+"]")),!1)}isTrusted(M){if(M.url&&!M.protocol){const I=v.protocolFromUrl(M.url);if(I==null)return!1;M.protocol=I}return!!(typeof this.trust=="function"?this.trust(M):this.trust)}}class b{constructor(M,S,I){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=M,this.size=S,this.cramped=I}sup(){return z[P[this.id]]}sub(){return z[q[this.id]]}fracNum(){return z[L[this.id]]}fracDen(){return z[Z[this.id]]}cramp(){return z[W[this.id]]}text(){return z[Y[this.id]]}isTight(){return this.size>=2}}const k=0,w=1,N=2,A=3,$=4,D=5,_=6,T=7,z=[new b(k,0,!1),new b(w,0,!0),new b(N,1,!1),new b(A,1,!0),new b($,2,!1),new b(D,2,!0),new b(_,3,!1),new b(T,3,!0)],P=[$,D,$,D,_,T,_,T],q=[D,D,D,D,T,T,T,T],L=[N,A,$,D,_,T,_,T],Z=[A,A,D,D,T,T,T,T],W=[w,w,A,A,D,D,T,T],Y=[k,w,N,A,N,A,N,A];var ie={DISPLAY:z[k],TEXT:z[N],SCRIPT:z[$],SCRIPTSCRIPT:z[_]};const re=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function R(C){for(let M=0;M<re.length;M++){const S=re[M];for(let I=0;I<S.blocks.length;I++){const B=S.blocks[I];if(C>=B[0]&&C<=B[1])return S.name}}return null}const X=[];re.forEach(C=>C.blocks.forEach(M=>X.push(...M)));function E(C){for(let M=0;M<X.length;M+=2)if(C>=X[M]&&C<=X[M+1])return!0;return!1}const oe=80,le=function(C,M){return"M95,"+(622+C+M)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+C/2.075+" -"+C+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+C)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+C)+" "+M+"h400000v"+(40+C)+"h-400000z"},ne=function(C,M){return"M263,"+(601+C+M)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+C/2.084+" -"+C+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+C)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+C)+" "+M+"h400000v"+(40+C)+"h-400000z"},H=function(C,M){return"M983 "+(10+C+M)+`
l`+C/3.13+" -"+C+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+C)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+C)+" "+M+"h400000v"+(40+C)+"h-400000z"},ue=function(C,M){return"M424,"+(2398+C+M)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+C/4.223+" -"+C+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+C)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+C)+" "+M+`
h400000v`+(40+C)+"h-400000z"},ae=function(C,M){return"M473,"+(2713+C+M)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+C/5.298+" -"+C+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+C)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+C)+" "+M+"h400000v"+(40+C)+"H1017.7z"},$e=function(C){const M=C/2;return"M400000 "+C+" H0 L"+M+" 0 l65 45 L145 "+(C-80)+" H400000z"},Ne=function(C,M,S){const I=S-54-M-C;return"M702 "+(C+M)+"H400000"+(40+C)+`
H742v`+I+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+M+"H400000v"+(40+C)+"H742z"},ze=function(C,M,S){M=1e3*M;let I="";switch(C){case"sqrtMain":I=le(M,oe);break;case"sqrtSize1":I=ne(M,oe);break;case"sqrtSize2":I=H(M,oe);break;case"sqrtSize3":I=ue(M,oe);break;case"sqrtSize4":I=ae(M,oe);break;case"sqrtTall":I=Ne(M,oe,S)}return I},Te=function(C,M){switch(C){case"⎜":return"M291 0 H417 V"+M+" H291z M291 0 H417 V"+M+" H291z";case"∣":return"M145 0 H188 V"+M+" H145z M145 0 H188 V"+M+" H145z";case"∥":return"M145 0 H188 V"+M+" H145z M145 0 H188 V"+M+" H145z"+("M367 0 H410 V"+M+" H367z M367 0 H410 V"+M+" H367z");case"⎟":return"M457 0 H583 V"+M+" H457z M457 0 H583 V"+M+" H457z";case"⎢":return"M319 0 H403 V"+M+" H319z M319 0 H403 V"+M+" H319z";case"⎥":return"M263 0 H347 V"+M+" H263z M263 0 H347 V"+M+" H263z";case"⎪":return"M384 0 H504 V"+M+" H384z M384 0 H504 V"+M+" H384z";case"⏐":return"M312 0 H355 V"+M+" H312z M312 0 H355 V"+M+" H312z";case"‖":return"M257 0 H300 V"+M+" H257z M257 0 H300 V"+M+" H257z"+("M478 0 H521 V"+M+" H478z M478 0 H521 V"+M+" H478z");default:return""}},Qe={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},nt=function(C,M){switch(C){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+M+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+M+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+M+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+M+" v1759 h84z";case"vert":return"M145 15 v585 v"+M+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-M+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+M+" v585 h43z";case"doublevert":return"M145 15 v585 v"+M+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-M+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+M+` v585 h43z
M367 15 v585 v`+M+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-M+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+M+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+M+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+M+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+M+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+M+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+M+` v602 h84z
M403 1759 V0 H319 V1759 v`+M+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+M+` v602 h84z
M347 1759 V0 h-84 V1759 v`+M+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(M+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(M+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(M+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(M+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};var rt={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const Ue={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},lt={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function J(C,M){rt[C]=M}function me(C,M,S){if(!rt[M])throw new Error("Font metrics not found for font: "+M+".");let I=C.charCodeAt(0),B=rt[M][I];if(!B&&C[0]in lt&&(I=lt[C[0]].charCodeAt(0),B=rt[M][I]),!B&&S==="text"&&E(I)&&(B=rt[M][77]),B)return{depth:B[0],height:B[1],italic:B[2],skew:B[3],width:B[4]}}const Oe={};function te(C){let M;if(C>=5?M=0:C>=3?M=1:M=2,!Oe[M]){const S=Oe[M]={cssEmPerMu:Ue.quad[M]/18};for(const I in Ue)Ue.hasOwnProperty(I)&&(S[I]=Ue[I][M])}return Oe[M]}const fe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],xe=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ee=function(C,M){return M.size<2?C:fe[C-1][M.size-1]};class Me{constructor(M){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=M.style,this.color=M.color,this.size=M.size||Me.BASESIZE,this.textSize=M.textSize||this.size,this.phantom=!!M.phantom,this.font=M.font||"",this.fontFamily=M.fontFamily||"",this.fontWeight=M.fontWeight||"",this.fontShape=M.fontShape||"",this.sizeMultiplier=xe[this.size-1],this.maxSize=M.maxSize,this.minRuleThickness=M.minRuleThickness,this._fontMetrics=void 0}extend(M){const S={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const I in M)M.hasOwnProperty(I)&&(S[I]=M[I]);return new Me(S)}havingStyle(M){return this.style===M?this:this.extend({style:M,size:Ee(this.textSize,M)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(M){return this.size===M&&this.textSize===M?this:this.extend({style:this.style.text(),size:M,textSize:M,sizeMultiplier:xe[M-1]})}havingBaseStyle(M){M=M||this.style.text();const S=Ee(Me.BASESIZE,M);return this.size===S&&this.textSize===Me.BASESIZE&&this.style===M?this:this.extend({style:M,size:S})}havingBaseSizing(){let M;switch(this.style.id){case 4:case 5:M=3;break;case 6:case 7:M=1;break;default:M=6}return this.extend({style:this.style.text(),size:M})}withColor(M){return this.extend({color:M})}withPhantom(){return this.extend({phantom:!0})}withFont(M){return this.extend({font:M})}withTextFontFamily(M){return this.extend({fontFamily:M,font:""})}withTextFontWeight(M){return this.extend({fontWeight:M,font:""})}withTextFontShape(M){return this.extend({fontShape:M,font:""})}sizingClasses(M){return M.size!==this.size?["sizing","reset-size"+M.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Me.BASESIZE?["sizing","reset-size"+this.size,"size"+Me.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=te(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Me.BASESIZE=6;var Le=Me;const st={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},mt={ex:!0,em:!0,mu:!0},ft=function(C){return typeof C!="string"&&(C=C.unit),C in st||C in mt||C==="ex"},Pe=function(C,M){let S;if(C.unit in st)S=st[C.unit]/M.fontMetrics().ptPerEm/M.sizeMultiplier;else if(C.unit==="mu")S=M.fontMetrics().cssEmPerMu;else{let I;if(M.style.isTight()?I=M.havingStyle(M.style.text()):I=M,C.unit==="ex")S=I.fontMetrics().xHeight;else if(C.unit==="em")S=I.fontMetrics().quad;else throw new a("Invalid unit: '"+C.unit+"'");I!==M&&(S*=I.sizeMultiplier/M.sizeMultiplier)}return Math.min(C.number*S,M.maxSize)},We=function(C){return+C.toFixed(4)+"em"},ot=function(C){return C.filter(M=>M).join(" ")},jt=function(C,M,S){if(this.classes=C||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=S||{},M){M.style.isTight()&&this.classes.push("mtight");const I=M.getColor();I&&(this.style.color=I)}},Er=function(C){const M=document.createElement(C);M.className=ot(this.classes);for(const S in this.style)this.style.hasOwnProperty(S)&&(M.style[S]=this.style[S]);for(const S in this.attributes)this.attributes.hasOwnProperty(S)&&M.setAttribute(S,this.attributes[S]);for(let S=0;S<this.children.length;S++)M.appendChild(this.children[S].toNode());return M},U=/[\s"'>/=\x00-\x1f]/,Se=function(C){let M="<"+C;this.classes.length&&(M+=' class="'+v.escape(ot(this.classes))+'"');let S="";for(const I in this.style)this.style.hasOwnProperty(I)&&(S+=v.hyphenate(I)+":"+this.style[I]+";");S&&(M+=' style="'+v.escape(S)+'"');for(const I in this.attributes)if(this.attributes.hasOwnProperty(I)){if(U.test(I))throw new a("Invalid attribute name '"+I+"'");M+=" "+I+'="'+v.escape(this.attributes[I])+'"'}M+=">";for(let I=0;I<this.children.length;I++)M+=this.children[I].toMarkup();return M+="</"+C+">",M};class Ke{constructor(M,S,I,B){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,jt.call(this,M,I,B),this.children=S||[]}setAttribute(M,S){this.attributes[M]=S}hasClass(M){return this.classes.includes(M)}toNode(){return Er.call(this,"span")}toMarkup(){return Se.call(this,"span")}}class gt{constructor(M,S,I,B){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,jt.call(this,S,B),this.children=I||[],this.setAttribute("href",M)}setAttribute(M,S){this.attributes[M]=S}hasClass(M){return this.classes.includes(M)}toNode(){return Er.call(this,"a")}toMarkup(){return Se.call(this,"a")}}class ar{constructor(M,S,I){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=S,this.src=M,this.classes=["mord"],this.style=I}hasClass(M){return this.classes.includes(M)}toNode(){const M=document.createElement("img");M.src=this.src,M.alt=this.alt,M.className="mord";for(const S in this.style)this.style.hasOwnProperty(S)&&(M.style[S]=this.style[S]);return M}toMarkup(){let M='<img src="'+v.escape(this.src)+'"'+(' alt="'+v.escape(this.alt)+'"'),S="";for(const I in this.style)this.style.hasOwnProperty(I)&&(S+=v.hyphenate(I)+":"+this.style[I]+";");return S&&(M+=' style="'+v.escape(S)+'"'),M+="'/>",M}}const vr={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Ii{constructor(M,S,I,B,V,K,se,ve){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=M,this.height=S||0,this.depth=I||0,this.italic=B||0,this.skew=V||0,this.width=K||0,this.classes=se||[],this.style=ve||{},this.maxFontSize=0;const Ie=R(this.text.charCodeAt(0));Ie&&this.classes.push(Ie+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=vr[this.text])}hasClass(M){return this.classes.includes(M)}toNode(){const M=document.createTextNode(this.text);let S=null;this.italic>0&&(S=document.createElement("span"),S.style.marginRight=We(this.italic)),this.classes.length>0&&(S=S||document.createElement("span"),S.className=ot(this.classes));for(const I in this.style)this.style.hasOwnProperty(I)&&(S=S||document.createElement("span"),S.style[I]=this.style[I]);return S?(S.appendChild(M),S):M}toMarkup(){let M=!1,S="<span";this.classes.length&&(M=!0,S+=' class="',S+=v.escape(ot(this.classes)),S+='"');let I="";this.italic>0&&(I+="margin-right:"+this.italic+"em;");for(const V in this.style)this.style.hasOwnProperty(V)&&(I+=v.hyphenate(V)+":"+this.style[V]+";");I&&(M=!0,S+=' style="'+v.escape(I)+'"');const B=v.escape(this.text);return M?(S+=">",S+=B,S+="</span>",S):B}}class un{constructor(M,S){this.children=void 0,this.attributes=void 0,this.children=M||[],this.attributes=S||{}}toNode(){const S=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const I in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,I)&&S.setAttribute(I,this.attributes[I]);for(let I=0;I<this.children.length;I++)S.appendChild(this.children[I].toNode());return S}toMarkup(){let M='<svg xmlns="http://www.w3.org/2000/svg"';for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&(M+=" "+S+'="'+v.escape(this.attributes[S])+'"');M+=">";for(let S=0;S<this.children.length;S++)M+=this.children[S].toMarkup();return M+="</svg>",M}}class An{constructor(M,S){this.pathName=void 0,this.alternate=void 0,this.pathName=M,this.alternate=S}toNode(){const S=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?S.setAttribute("d",this.alternate):S.setAttribute("d",Qe[this.pathName]),S}toMarkup(){return this.alternate?'<path d="'+v.escape(this.alternate)+'"/>':'<path d="'+v.escape(Qe[this.pathName])+'"/>'}}class oa{constructor(M){this.attributes=void 0,this.attributes=M||{}}toNode(){const S=document.createElementNS("http://www.w3.org/2000/svg","line");for(const I in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,I)&&S.setAttribute(I,this.attributes[I]);return S}toMarkup(){let M="<line";for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&(M+=" "+S+'="'+v.escape(this.attributes[S])+'"');return M+="/>",M}}function Bt(C){if(C instanceof Ii)return C;throw new Error("Expected symbolNode but got "+String(C)+".")}function wr(C){if(C instanceof Ke)return C;throw new Error("Expected span<HtmlDomNode> but got "+String(C)+".")}const tr={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Di={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},la={math:{},text:{}};var Mr=la;function O(C,M,S,I,B,V){la[C][B]={font:M,group:S,replace:I},V&&I&&(la[C][I]=la[C][B])}const j="math",at="text",Q="main",ke="ams",si="accent-token",ct="bin",Pr="close",ka="inner",Yt="mathord",xi="op-token",Fi="open",Fn="punct",De="rel",Xn="spacing",Fe="textord";O(j,Q,De,"≡","\\equiv",!0),O(j,Q,De,"≺","\\prec",!0),O(j,Q,De,"≻","\\succ",!0),O(j,Q,De,"∼","\\sim",!0),O(j,Q,De,"⊥","\\perp"),O(j,Q,De,"⪯","\\preceq",!0),O(j,Q,De,"⪰","\\succeq",!0),O(j,Q,De,"≃","\\simeq",!0),O(j,Q,De,"∣","\\mid",!0),O(j,Q,De,"≪","\\ll",!0),O(j,Q,De,"≫","\\gg",!0),O(j,Q,De,"≍","\\asymp",!0),O(j,Q,De,"∥","\\parallel"),O(j,Q,De,"⋈","\\bowtie",!0),O(j,Q,De,"⌣","\\smile",!0),O(j,Q,De,"⊑","\\sqsubseteq",!0),O(j,Q,De,"⊒","\\sqsupseteq",!0),O(j,Q,De,"≐","\\doteq",!0),O(j,Q,De,"⌢","\\frown",!0),O(j,Q,De,"∋","\\ni",!0),O(j,Q,De,"∝","\\propto",!0),O(j,Q,De,"⊢","\\vdash",!0),O(j,Q,De,"⊣","\\dashv",!0),O(j,Q,De,"∋","\\owns"),O(j,Q,Fn,".","\\ldotp"),O(j,Q,Fn,"⋅","\\cdotp"),O(j,Q,Fe,"#","\\#"),O(at,Q,Fe,"#","\\#"),O(j,Q,Fe,"&","\\&"),O(at,Q,Fe,"&","\\&"),O(j,Q,Fe,"ℵ","\\aleph",!0),O(j,Q,Fe,"∀","\\forall",!0),O(j,Q,Fe,"ℏ","\\hbar",!0),O(j,Q,Fe,"∃","\\exists",!0),O(j,Q,Fe,"∇","\\nabla",!0),O(j,Q,Fe,"♭","\\flat",!0),O(j,Q,Fe,"ℓ","\\ell",!0),O(j,Q,Fe,"♮","\\natural",!0),O(j,Q,Fe,"♣","\\clubsuit",!0),O(j,Q,Fe,"℘","\\wp",!0),O(j,Q,Fe,"♯","\\sharp",!0),O(j,Q,Fe,"♢","\\diamondsuit",!0),O(j,Q,Fe,"ℜ","\\Re",!0),O(j,Q,Fe,"♡","\\heartsuit",!0),O(j,Q,Fe,"ℑ","\\Im",!0),O(j,Q,Fe,"♠","\\spadesuit",!0),O(j,Q,Fe,"§","\\S",!0),O(at,Q,Fe,"§","\\S"),O(j,Q,Fe,"¶","\\P",!0),O(at,Q,Fe,"¶","\\P"),O(j,Q,Fe,"†","\\dag"),O(at,Q,Fe,"†","\\dag"),O(at,Q,Fe,"†","\\textdagger"),O(j,Q,Fe,"‡","\\ddag"),O(at,Q,Fe,"‡","\\ddag"),O(at,Q,Fe,"‡","\\textdaggerdbl"),O(j,Q,Pr,"⎱","\\rmoustache",!0),O(j,Q,Fi,"⎰","\\lmoustache",!0),O(j,Q,Pr,"⟯","\\rgroup",!0),O(j,Q,Fi,"⟮","\\lgroup",!0),O(j,Q,ct,"∓","\\mp",!0),O(j,Q,ct,"⊖","\\ominus",!0),O(j,Q,ct,"⊎","\\uplus",!0),O(j,Q,ct,"⊓","\\sqcap",!0),O(j,Q,ct,"∗","\\ast"),O(j,Q,ct,"⊔","\\sqcup",!0),O(j,Q,ct,"◯","\\bigcirc",!0),O(j,Q,ct,"∙","\\bullet",!0),O(j,Q,ct,"‡","\\ddagger"),O(j,Q,ct,"≀","\\wr",!0),O(j,Q,ct,"⨿","\\amalg"),O(j,Q,ct,"&","\\And"),O(j,Q,De,"⟵","\\longleftarrow",!0),O(j,Q,De,"⇐","\\Leftarrow",!0),O(j,Q,De,"⟸","\\Longleftarrow",!0),O(j,Q,De,"⟶","\\longrightarrow",!0),O(j,Q,De,"⇒","\\Rightarrow",!0),O(j,Q,De,"⟹","\\Longrightarrow",!0),O(j,Q,De,"↔","\\leftrightarrow",!0),O(j,Q,De,"⟷","\\longleftrightarrow",!0),O(j,Q,De,"⇔","\\Leftrightarrow",!0),O(j,Q,De,"⟺","\\Longleftrightarrow",!0),O(j,Q,De,"↦","\\mapsto",!0),O(j,Q,De,"⟼","\\longmapsto",!0),O(j,Q,De,"↗","\\nearrow",!0),O(j,Q,De,"↩","\\hookleftarrow",!0),O(j,Q,De,"↪","\\hookrightarrow",!0),O(j,Q,De,"↘","\\searrow",!0),O(j,Q,De,"↼","\\leftharpoonup",!0),O(j,Q,De,"⇀","\\rightharpoonup",!0),O(j,Q,De,"↙","\\swarrow",!0),O(j,Q,De,"↽","\\leftharpoondown",!0),O(j,Q,De,"⇁","\\rightharpoondown",!0),O(j,Q,De,"↖","\\nwarrow",!0),O(j,Q,De,"⇌","\\rightleftharpoons",!0),O(j,ke,De,"≮","\\nless",!0),O(j,ke,De,"","\\@nleqslant"),O(j,ke,De,"","\\@nleqq"),O(j,ke,De,"⪇","\\lneq",!0),O(j,ke,De,"≨","\\lneqq",!0),O(j,ke,De,"","\\@lvertneqq"),O(j,ke,De,"⋦","\\lnsim",!0),O(j,ke,De,"⪉","\\lnapprox",!0),O(j,ke,De,"⊀","\\nprec",!0),O(j,ke,De,"⋠","\\npreceq",!0),O(j,ke,De,"⋨","\\precnsim",!0),O(j,ke,De,"⪹","\\precnapprox",!0),O(j,ke,De,"≁","\\nsim",!0),O(j,ke,De,"","\\@nshortmid"),O(j,ke,De,"∤","\\nmid",!0),O(j,ke,De,"⊬","\\nvdash",!0),O(j,ke,De,"⊭","\\nvDash",!0),O(j,ke,De,"⋪","\\ntriangleleft"),O(j,ke,De,"⋬","\\ntrianglelefteq",!0),O(j,ke,De,"⊊","\\subsetneq",!0),O(j,ke,De,"","\\@varsubsetneq"),O(j,ke,De,"⫋","\\subsetneqq",!0),O(j,ke,De,"","\\@varsubsetneqq"),O(j,ke,De,"≯","\\ngtr",!0),O(j,ke,De,"","\\@ngeqslant"),O(j,ke,De,"","\\@ngeqq"),O(j,ke,De,"⪈","\\gneq",!0),O(j,ke,De,"≩","\\gneqq",!0),O(j,ke,De,"","\\@gvertneqq"),O(j,ke,De,"⋧","\\gnsim",!0),O(j,ke,De,"⪊","\\gnapprox",!0),O(j,ke,De,"⊁","\\nsucc",!0),O(j,ke,De,"⋡","\\nsucceq",!0),O(j,ke,De,"⋩","\\succnsim",!0),O(j,ke,De,"⪺","\\succnapprox",!0),O(j,ke,De,"≆","\\ncong",!0),O(j,ke,De,"","\\@nshortparallel"),O(j,ke,De,"∦","\\nparallel",!0),O(j,ke,De,"⊯","\\nVDash",!0),O(j,ke,De,"⋫","\\ntriangleright"),O(j,ke,De,"⋭","\\ntrianglerighteq",!0),O(j,ke,De,"","\\@nsupseteqq"),O(j,ke,De,"⊋","\\supsetneq",!0),O(j,ke,De,"","\\@varsupsetneq"),O(j,ke,De,"⫌","\\supsetneqq",!0),O(j,ke,De,"","\\@varsupsetneqq"),O(j,ke,De,"⊮","\\nVdash",!0),O(j,ke,De,"⪵","\\precneqq",!0),O(j,ke,De,"⪶","\\succneqq",!0),O(j,ke,De,"","\\@nsubseteqq"),O(j,ke,ct,"⊴","\\unlhd"),O(j,ke,ct,"⊵","\\unrhd"),O(j,ke,De,"↚","\\nleftarrow",!0),O(j,ke,De,"↛","\\nrightarrow",!0),O(j,ke,De,"⇍","\\nLeftarrow",!0),O(j,ke,De,"⇏","\\nRightarrow",!0),O(j,ke,De,"↮","\\nleftrightarrow",!0),O(j,ke,De,"⇎","\\nLeftrightarrow",!0),O(j,ke,De,"△","\\vartriangle"),O(j,ke,Fe,"ℏ","\\hslash"),O(j,ke,Fe,"▽","\\triangledown"),O(j,ke,Fe,"◊","\\lozenge"),O(j,ke,Fe,"Ⓢ","\\circledS"),O(j,ke,Fe,"®","\\circledR"),O(at,ke,Fe,"®","\\circledR"),O(j,ke,Fe,"∡","\\measuredangle",!0),O(j,ke,Fe,"∄","\\nexists"),O(j,ke,Fe,"℧","\\mho"),O(j,ke,Fe,"Ⅎ","\\Finv",!0),O(j,ke,Fe,"⅁","\\Game",!0),O(j,ke,Fe,"‵","\\backprime"),O(j,ke,Fe,"▲","\\blacktriangle"),O(j,ke,Fe,"▼","\\blacktriangledown"),O(j,ke,Fe,"■","\\blacksquare"),O(j,ke,Fe,"⧫","\\blacklozenge"),O(j,ke,Fe,"★","\\bigstar"),O(j,ke,Fe,"∢","\\sphericalangle",!0),O(j,ke,Fe,"∁","\\complement",!0),O(j,ke,Fe,"ð","\\eth",!0),O(at,Q,Fe,"ð","ð"),O(j,ke,Fe,"╱","\\diagup"),O(j,ke,Fe,"╲","\\diagdown"),O(j,ke,Fe,"□","\\square"),O(j,ke,Fe,"□","\\Box"),O(j,ke,Fe,"◊","\\Diamond"),O(j,ke,Fe,"¥","\\yen",!0),O(at,ke,Fe,"¥","\\yen",!0),O(j,ke,Fe,"✓","\\checkmark",!0),O(at,ke,Fe,"✓","\\checkmark"),O(j,ke,Fe,"ℶ","\\beth",!0),O(j,ke,Fe,"ℸ","\\daleth",!0),O(j,ke,Fe,"ℷ","\\gimel",!0),O(j,ke,Fe,"ϝ","\\digamma",!0),O(j,ke,Fe,"ϰ","\\varkappa"),O(j,ke,Fi,"┌","\\@ulcorner",!0),O(j,ke,Pr,"┐","\\@urcorner",!0),O(j,ke,Fi,"└","\\@llcorner",!0),O(j,ke,Pr,"┘","\\@lrcorner",!0),O(j,ke,De,"≦","\\leqq",!0),O(j,ke,De,"⩽","\\leqslant",!0),O(j,ke,De,"⪕","\\eqslantless",!0),O(j,ke,De,"≲","\\lesssim",!0),O(j,ke,De,"⪅","\\lessapprox",!0),O(j,ke,De,"≊","\\approxeq",!0),O(j,ke,ct,"⋖","\\lessdot"),O(j,ke,De,"⋘","\\lll",!0),O(j,ke,De,"≶","\\lessgtr",!0),O(j,ke,De,"⋚","\\lesseqgtr",!0),O(j,ke,De,"⪋","\\lesseqqgtr",!0),O(j,ke,De,"≑","\\doteqdot"),O(j,ke,De,"≓","\\risingdotseq",!0),O(j,ke,De,"≒","\\fallingdotseq",!0),O(j,ke,De,"∽","\\backsim",!0),O(j,ke,De,"⋍","\\backsimeq",!0),O(j,ke,De,"⫅","\\subseteqq",!0),O(j,ke,De,"⋐","\\Subset",!0),O(j,ke,De,"⊏","\\sqsubset",!0),O(j,ke,De,"≼","\\preccurlyeq",!0),O(j,ke,De,"⋞","\\curlyeqprec",!0),O(j,ke,De,"≾","\\precsim",!0),O(j,ke,De,"⪷","\\precapprox",!0),O(j,ke,De,"⊲","\\vartriangleleft"),O(j,ke,De,"⊴","\\trianglelefteq"),O(j,ke,De,"⊨","\\vDash",!0),O(j,ke,De,"⊪","\\Vvdash",!0),O(j,ke,De,"⌣","\\smallsmile"),O(j,ke,De,"⌢","\\smallfrown"),O(j,ke,De,"≏","\\bumpeq",!0),O(j,ke,De,"≎","\\Bumpeq",!0),O(j,ke,De,"≧","\\geqq",!0),O(j,ke,De,"⩾","\\geqslant",!0),O(j,ke,De,"⪖","\\eqslantgtr",!0),O(j,ke,De,"≳","\\gtrsim",!0),O(j,ke,De,"⪆","\\gtrapprox",!0),O(j,ke,ct,"⋗","\\gtrdot"),O(j,ke,De,"⋙","\\ggg",!0),O(j,ke,De,"≷","\\gtrless",!0),O(j,ke,De,"⋛","\\gtreqless",!0),O(j,ke,De,"⪌","\\gtreqqless",!0),O(j,ke,De,"≖","\\eqcirc",!0),O(j,ke,De,"≗","\\circeq",!0),O(j,ke,De,"≜","\\triangleq",!0),O(j,ke,De,"∼","\\thicksim"),O(j,ke,De,"≈","\\thickapprox"),O(j,ke,De,"⫆","\\supseteqq",!0),O(j,ke,De,"⋑","\\Supset",!0),O(j,ke,De,"⊐","\\sqsupset",!0),O(j,ke,De,"≽","\\succcurlyeq",!0),O(j,ke,De,"⋟","\\curlyeqsucc",!0),O(j,ke,De,"≿","\\succsim",!0),O(j,ke,De,"⪸","\\succapprox",!0),O(j,ke,De,"⊳","\\vartriangleright"),O(j,ke,De,"⊵","\\trianglerighteq"),O(j,ke,De,"⊩","\\Vdash",!0),O(j,ke,De,"∣","\\shortmid"),O(j,ke,De,"∥","\\shortparallel"),O(j,ke,De,"≬","\\between",!0),O(j,ke,De,"⋔","\\pitchfork",!0),O(j,ke,De,"∝","\\varpropto"),O(j,ke,De,"◀","\\blacktriangleleft"),O(j,ke,De,"∴","\\therefore",!0),O(j,ke,De,"∍","\\backepsilon"),O(j,ke,De,"▶","\\blacktriangleright"),O(j,ke,De,"∵","\\because",!0),O(j,ke,De,"⋘","\\llless"),O(j,ke,De,"⋙","\\gggtr"),O(j,ke,ct,"⊲","\\lhd"),O(j,ke,ct,"⊳","\\rhd"),O(j,ke,De,"≂","\\eqsim",!0),O(j,Q,De,"⋈","\\Join"),O(j,ke,De,"≑","\\Doteq",!0),O(j,ke,ct,"∔","\\dotplus",!0),O(j,ke,ct,"∖","\\smallsetminus"),O(j,ke,ct,"⋒","\\Cap",!0),O(j,ke,ct,"⋓","\\Cup",!0),O(j,ke,ct,"⩞","\\doublebarwedge",!0),O(j,ke,ct,"⊟","\\boxminus",!0),O(j,ke,ct,"⊞","\\boxplus",!0),O(j,ke,ct,"⋇","\\divideontimes",!0),O(j,ke,ct,"⋉","\\ltimes",!0),O(j,ke,ct,"⋊","\\rtimes",!0),O(j,ke,ct,"⋋","\\leftthreetimes",!0),O(j,ke,ct,"⋌","\\rightthreetimes",!0),O(j,ke,ct,"⋏","\\curlywedge",!0),O(j,ke,ct,"⋎","\\curlyvee",!0),O(j,ke,ct,"⊝","\\circleddash",!0),O(j,ke,ct,"⊛","\\circledast",!0),O(j,ke,ct,"⋅","\\centerdot"),O(j,ke,ct,"⊺","\\intercal",!0),O(j,ke,ct,"⋒","\\doublecap"),O(j,ke,ct,"⋓","\\doublecup"),O(j,ke,ct,"⊠","\\boxtimes",!0),O(j,ke,De,"⇢","\\dashrightarrow",!0),O(j,ke,De,"⇠","\\dashleftarrow",!0),O(j,ke,De,"⇇","\\leftleftarrows",!0),O(j,ke,De,"⇆","\\leftrightarrows",!0),O(j,ke,De,"⇚","\\Lleftarrow",!0),O(j,ke,De,"↞","\\twoheadleftarrow",!0),O(j,ke,De,"↢","\\leftarrowtail",!0),O(j,ke,De,"↫","\\looparrowleft",!0),O(j,ke,De,"⇋","\\leftrightharpoons",!0),O(j,ke,De,"↶","\\curvearrowleft",!0),O(j,ke,De,"↺","\\circlearrowleft",!0),O(j,ke,De,"↰","\\Lsh",!0),O(j,ke,De,"⇈","\\upuparrows",!0),O(j,ke,De,"↿","\\upharpoonleft",!0),O(j,ke,De,"⇃","\\downharpoonleft",!0),O(j,Q,De,"⊶","\\origof",!0),O(j,Q,De,"⊷","\\imageof",!0),O(j,ke,De,"⊸","\\multimap",!0),O(j,ke,De,"↭","\\leftrightsquigarrow",!0),O(j,ke,De,"⇉","\\rightrightarrows",!0),O(j,ke,De,"⇄","\\rightleftarrows",!0),O(j,ke,De,"↠","\\twoheadrightarrow",!0),O(j,ke,De,"↣","\\rightarrowtail",!0),O(j,ke,De,"↬","\\looparrowright",!0),O(j,ke,De,"↷","\\curvearrowright",!0),O(j,ke,De,"↻","\\circlearrowright",!0),O(j,ke,De,"↱","\\Rsh",!0),O(j,ke,De,"⇊","\\downdownarrows",!0),O(j,ke,De,"↾","\\upharpoonright",!0),O(j,ke,De,"⇂","\\downharpoonright",!0),O(j,ke,De,"⇝","\\rightsquigarrow",!0),O(j,ke,De,"⇝","\\leadsto"),O(j,ke,De,"⇛","\\Rrightarrow",!0),O(j,ke,De,"↾","\\restriction"),O(j,Q,Fe,"‘","`"),O(j,Q,Fe,"$","\\$"),O(at,Q,Fe,"$","\\$"),O(at,Q,Fe,"$","\\textdollar"),O(j,Q,Fe,"%","\\%"),O(at,Q,Fe,"%","\\%"),O(j,Q,Fe,"_","\\_"),O(at,Q,Fe,"_","\\_"),O(at,Q,Fe,"_","\\textunderscore"),O(j,Q,Fe,"∠","\\angle",!0),O(j,Q,Fe,"∞","\\infty",!0),O(j,Q,Fe,"′","\\prime"),O(j,Q,Fe,"△","\\triangle"),O(j,Q,Fe,"Γ","\\Gamma",!0),O(j,Q,Fe,"Δ","\\Delta",!0),O(j,Q,Fe,"Θ","\\Theta",!0),O(j,Q,Fe,"Λ","\\Lambda",!0),O(j,Q,Fe,"Ξ","\\Xi",!0),O(j,Q,Fe,"Π","\\Pi",!0),O(j,Q,Fe,"Σ","\\Sigma",!0),O(j,Q,Fe,"Υ","\\Upsilon",!0),O(j,Q,Fe,"Φ","\\Phi",!0),O(j,Q,Fe,"Ψ","\\Psi",!0),O(j,Q,Fe,"Ω","\\Omega",!0),O(j,Q,Fe,"A","Α"),O(j,Q,Fe,"B","Β"),O(j,Q,Fe,"E","Ε"),O(j,Q,Fe,"Z","Ζ"),O(j,Q,Fe,"H","Η"),O(j,Q,Fe,"I","Ι"),O(j,Q,Fe,"K","Κ"),O(j,Q,Fe,"M","Μ"),O(j,Q,Fe,"N","Ν"),O(j,Q,Fe,"O","Ο"),O(j,Q,Fe,"P","Ρ"),O(j,Q,Fe,"T","Τ"),O(j,Q,Fe,"X","Χ"),O(j,Q,Fe,"¬","\\neg",!0),O(j,Q,Fe,"¬","\\lnot"),O(j,Q,Fe,"⊤","\\top"),O(j,Q,Fe,"⊥","\\bot"),O(j,Q,Fe,"∅","\\emptyset"),O(j,ke,Fe,"∅","\\varnothing"),O(j,Q,Yt,"α","\\alpha",!0),O(j,Q,Yt,"β","\\beta",!0),O(j,Q,Yt,"γ","\\gamma",!0),O(j,Q,Yt,"δ","\\delta",!0),O(j,Q,Yt,"ϵ","\\epsilon",!0),O(j,Q,Yt,"ζ","\\zeta",!0),O(j,Q,Yt,"η","\\eta",!0),O(j,Q,Yt,"θ","\\theta",!0),O(j,Q,Yt,"ι","\\iota",!0),O(j,Q,Yt,"κ","\\kappa",!0),O(j,Q,Yt,"λ","\\lambda",!0),O(j,Q,Yt,"μ","\\mu",!0),O(j,Q,Yt,"ν","\\nu",!0),O(j,Q,Yt,"ξ","\\xi",!0),O(j,Q,Yt,"ο","\\omicron",!0),O(j,Q,Yt,"π","\\pi",!0),O(j,Q,Yt,"ρ","\\rho",!0),O(j,Q,Yt,"σ","\\sigma",!0),O(j,Q,Yt,"τ","\\tau",!0),O(j,Q,Yt,"υ","\\upsilon",!0),O(j,Q,Yt,"ϕ","\\phi",!0),O(j,Q,Yt,"χ","\\chi",!0),O(j,Q,Yt,"ψ","\\psi",!0),O(j,Q,Yt,"ω","\\omega",!0),O(j,Q,Yt,"ε","\\varepsilon",!0),O(j,Q,Yt,"ϑ","\\vartheta",!0),O(j,Q,Yt,"ϖ","\\varpi",!0),O(j,Q,Yt,"ϱ","\\varrho",!0),O(j,Q,Yt,"ς","\\varsigma",!0),O(j,Q,Yt,"φ","\\varphi",!0),O(j,Q,ct,"∗","*",!0),O(j,Q,ct,"+","+"),O(j,Q,ct,"−","-",!0),O(j,Q,ct,"⋅","\\cdot",!0),O(j,Q,ct,"∘","\\circ",!0),O(j,Q,ct,"÷","\\div",!0),O(j,Q,ct,"±","\\pm",!0),O(j,Q,ct,"×","\\times",!0),O(j,Q,ct,"∩","\\cap",!0),O(j,Q,ct,"∪","\\cup",!0),O(j,Q,ct,"∖","\\setminus",!0),O(j,Q,ct,"∧","\\land"),O(j,Q,ct,"∨","\\lor"),O(j,Q,ct,"∧","\\wedge",!0),O(j,Q,ct,"∨","\\vee",!0),O(j,Q,Fe,"√","\\surd"),O(j,Q,Fi,"⟨","\\langle",!0),O(j,Q,Fi,"∣","\\lvert"),O(j,Q,Fi,"∥","\\lVert"),O(j,Q,Pr,"?","?"),O(j,Q,Pr,"!","!"),O(j,Q,Pr,"⟩","\\rangle",!0),O(j,Q,Pr,"∣","\\rvert"),O(j,Q,Pr,"∥","\\rVert"),O(j,Q,De,"=","="),O(j,Q,De,":",":"),O(j,Q,De,"≈","\\approx",!0),O(j,Q,De,"≅","\\cong",!0),O(j,Q,De,"≥","\\ge"),O(j,Q,De,"≥","\\geq",!0),O(j,Q,De,"←","\\gets"),O(j,Q,De,">","\\gt",!0),O(j,Q,De,"∈","\\in",!0),O(j,Q,De,"","\\@not"),O(j,Q,De,"⊂","\\subset",!0),O(j,Q,De,"⊃","\\supset",!0),O(j,Q,De,"⊆","\\subseteq",!0),O(j,Q,De,"⊇","\\supseteq",!0),O(j,ke,De,"⊈","\\nsubseteq",!0),O(j,ke,De,"⊉","\\nsupseteq",!0),O(j,Q,De,"⊨","\\models"),O(j,Q,De,"←","\\leftarrow",!0),O(j,Q,De,"≤","\\le"),O(j,Q,De,"≤","\\leq",!0),O(j,Q,De,"<","\\lt",!0),O(j,Q,De,"→","\\rightarrow",!0),O(j,Q,De,"→","\\to"),O(j,ke,De,"≱","\\ngeq",!0),O(j,ke,De,"≰","\\nleq",!0),O(j,Q,Xn," ","\\ "),O(j,Q,Xn," ","\\space"),O(j,Q,Xn," ","\\nobreakspace"),O(at,Q,Xn," ","\\ "),O(at,Q,Xn," "," "),O(at,Q,Xn," ","\\space"),O(at,Q,Xn," ","\\nobreakspace"),O(j,Q,Xn,null,"\\nobreak"),O(j,Q,Xn,null,"\\allowbreak"),O(j,Q,Fn,",",","),O(j,Q,Fn,";",";"),O(j,ke,ct,"⊼","\\barwedge",!0),O(j,ke,ct,"⊻","\\veebar",!0),O(j,Q,ct,"⊙","\\odot",!0),O(j,Q,ct,"⊕","\\oplus",!0),O(j,Q,ct,"⊗","\\otimes",!0),O(j,Q,Fe,"∂","\\partial",!0),O(j,Q,ct,"⊘","\\oslash",!0),O(j,ke,ct,"⊚","\\circledcirc",!0),O(j,ke,ct,"⊡","\\boxdot",!0),O(j,Q,ct,"△","\\bigtriangleup"),O(j,Q,ct,"▽","\\bigtriangledown"),O(j,Q,ct,"†","\\dagger"),O(j,Q,ct,"⋄","\\diamond"),O(j,Q,ct,"⋆","\\star"),O(j,Q,ct,"◃","\\triangleleft"),O(j,Q,ct,"▹","\\triangleright"),O(j,Q,Fi,"{","\\{"),O(at,Q,Fe,"{","\\{"),O(at,Q,Fe,"{","\\textbraceleft"),O(j,Q,Pr,"}","\\}"),O(at,Q,Fe,"}","\\}"),O(at,Q,Fe,"}","\\textbraceright"),O(j,Q,Fi,"{","\\lbrace"),O(j,Q,Pr,"}","\\rbrace"),O(j,Q,Fi,"[","\\lbrack",!0),O(at,Q,Fe,"[","\\lbrack",!0),O(j,Q,Pr,"]","\\rbrack",!0),O(at,Q,Fe,"]","\\rbrack",!0),O(j,Q,Fi,"(","\\lparen",!0),O(j,Q,Pr,")","\\rparen",!0),O(at,Q,Fe,"<","\\textless",!0),O(at,Q,Fe,">","\\textgreater",!0),O(j,Q,Fi,"⌊","\\lfloor",!0),O(j,Q,Pr,"⌋","\\rfloor",!0),O(j,Q,Fi,"⌈","\\lceil",!0),O(j,Q,Pr,"⌉","\\rceil",!0),O(j,Q,Fe,"\\","\\backslash"),O(j,Q,Fe,"∣","|"),O(j,Q,Fe,"∣","\\vert"),O(at,Q,Fe,"|","\\textbar",!0),O(j,Q,Fe,"∥","\\|"),O(j,Q,Fe,"∥","\\Vert"),O(at,Q,Fe,"∥","\\textbardbl"),O(at,Q,Fe,"~","\\textasciitilde"),O(at,Q,Fe,"\\","\\textbackslash"),O(at,Q,Fe,"^","\\textasciicircum"),O(j,Q,De,"↑","\\uparrow",!0),O(j,Q,De,"⇑","\\Uparrow",!0),O(j,Q,De,"↓","\\downarrow",!0),O(j,Q,De,"⇓","\\Downarrow",!0),O(j,Q,De,"↕","\\updownarrow",!0),O(j,Q,De,"⇕","\\Updownarrow",!0),O(j,Q,xi,"∐","\\coprod"),O(j,Q,xi,"⋁","\\bigvee"),O(j,Q,xi,"⋀","\\bigwedge"),O(j,Q,xi,"⨄","\\biguplus"),O(j,Q,xi,"⋂","\\bigcap"),O(j,Q,xi,"⋃","\\bigcup"),O(j,Q,xi,"∫","\\int"),O(j,Q,xi,"∫","\\intop"),O(j,Q,xi,"∬","\\iint"),O(j,Q,xi,"∭","\\iiint"),O(j,Q,xi,"∏","\\prod"),O(j,Q,xi,"∑","\\sum"),O(j,Q,xi,"⨂","\\bigotimes"),O(j,Q,xi,"⨁","\\bigoplus"),O(j,Q,xi,"⨀","\\bigodot"),O(j,Q,xi,"∮","\\oint"),O(j,Q,xi,"∯","\\oiint"),O(j,Q,xi,"∰","\\oiiint"),O(j,Q,xi,"⨆","\\bigsqcup"),O(j,Q,xi,"∫","\\smallint"),O(at,Q,ka,"…","\\textellipsis"),O(j,Q,ka,"…","\\mathellipsis"),O(at,Q,ka,"…","\\ldots",!0),O(j,Q,ka,"…","\\ldots",!0),O(j,Q,ka,"⋯","\\@cdots",!0),O(j,Q,ka,"⋱","\\ddots",!0),O(j,Q,Fe,"⋮","\\varvdots"),O(at,Q,Fe,"⋮","\\varvdots"),O(j,Q,si,"ˊ","\\acute"),O(j,Q,si,"ˋ","\\grave"),O(j,Q,si,"¨","\\ddot"),O(j,Q,si,"~","\\tilde"),O(j,Q,si,"ˉ","\\bar"),O(j,Q,si,"˘","\\breve"),O(j,Q,si,"ˇ","\\check"),O(j,Q,si,"^","\\hat"),O(j,Q,si,"⃗","\\vec"),O(j,Q,si,"˙","\\dot"),O(j,Q,si,"˚","\\mathring"),O(j,Q,Yt,"","\\@imath"),O(j,Q,Yt,"","\\@jmath"),O(j,Q,Fe,"ı","ı"),O(j,Q,Fe,"ȷ","ȷ"),O(at,Q,Fe,"ı","\\i",!0),O(at,Q,Fe,"ȷ","\\j",!0),O(at,Q,Fe,"ß","\\ss",!0),O(at,Q,Fe,"æ","\\ae",!0),O(at,Q,Fe,"œ","\\oe",!0),O(at,Q,Fe,"ø","\\o",!0),O(at,Q,Fe,"Æ","\\AE",!0),O(at,Q,Fe,"Œ","\\OE",!0),O(at,Q,Fe,"Ø","\\O",!0),O(at,Q,si,"ˊ","\\'"),O(at,Q,si,"ˋ","\\`"),O(at,Q,si,"ˆ","\\^"),O(at,Q,si,"˜","\\~"),O(at,Q,si,"ˉ","\\="),O(at,Q,si,"˘","\\u"),O(at,Q,si,"˙","\\."),O(at,Q,si,"¸","\\c"),O(at,Q,si,"˚","\\r"),O(at,Q,si,"ˇ","\\v"),O(at,Q,si,"¨",'\\"'),O(at,Q,si,"˝","\\H"),O(at,Q,si,"◯","\\textcircled");const Ws={"--":!0,"---":!0,"``":!0,"''":!0};O(at,Q,Fe,"–","--",!0),O(at,Q,Fe,"–","\\textendash"),O(at,Q,Fe,"—","---",!0),O(at,Q,Fe,"—","\\textemdash"),O(at,Q,Fe,"‘","`",!0),O(at,Q,Fe,"‘","\\textquoteleft"),O(at,Q,Fe,"’","'",!0),O(at,Q,Fe,"’","\\textquoteright"),O(at,Q,Fe,"“","``",!0),O(at,Q,Fe,"“","\\textquotedblleft"),O(at,Q,Fe,"”","''",!0),O(at,Q,Fe,"”","\\textquotedblright"),O(j,Q,Fe,"°","\\degree",!0),O(at,Q,Fe,"°","\\degree"),O(at,Q,Fe,"°","\\textdegree",!0),O(j,Q,Fe,"£","\\pounds"),O(j,Q,Fe,"£","\\mathsterling",!0),O(at,Q,Fe,"£","\\pounds"),O(at,Q,Fe,"£","\\textsterling",!0),O(j,ke,Fe,"✠","\\maltese"),O(at,ke,Fe,"✠","\\maltese");const Ta='0123456789/@."';for(let C=0;C<Ta.length;C++){const M=Ta.charAt(C);O(j,Q,Fe,M,M)}const Kr='0123456789!@*()-=+";:?/.,';for(let C=0;C<Kr.length;C++){const M=Kr.charAt(C);O(at,Q,Fe,M,M)}const Yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let C=0;C<Yi.length;C++){const M=Yi.charAt(C);O(j,Q,Yt,M,M),O(at,Q,Fe,M,M)}O(j,ke,Fe,"C","ℂ"),O(at,ke,Fe,"C","ℂ"),O(j,ke,Fe,"H","ℍ"),O(at,ke,Fe,"H","ℍ"),O(j,ke,Fe,"N","ℕ"),O(at,ke,Fe,"N","ℕ"),O(j,ke,Fe,"P","ℙ"),O(at,ke,Fe,"P","ℙ"),O(j,ke,Fe,"Q","ℚ"),O(at,ke,Fe,"Q","ℚ"),O(j,ke,Fe,"R","ℝ"),O(at,ke,Fe,"R","ℝ"),O(j,ke,Fe,"Z","ℤ"),O(at,ke,Fe,"Z","ℤ"),O(j,Q,Yt,"h","ℎ"),O(at,Q,Yt,"h","ℎ");let yr="";for(let C=0;C<Yi.length;C++){const M=Yi.charAt(C);yr=String.fromCharCode(55349,56320+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),yr=String.fromCharCode(55349,56372+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),yr=String.fromCharCode(55349,56424+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),yr=String.fromCharCode(55349,56580+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),yr=String.fromCharCode(55349,56684+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),yr=String.fromCharCode(55349,56736+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),yr=String.fromCharCode(55349,56788+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),yr=String.fromCharCode(55349,56840+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),yr=String.fromCharCode(55349,56944+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),C<26&&(yr=String.fromCharCode(55349,56632+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),yr=String.fromCharCode(55349,56476+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr))}yr="𝕜",O(j,Q,Yt,"k",yr),O(at,Q,Fe,"k",yr);for(let C=0;C<10;C++){const M=C.toString();yr=String.fromCharCode(55349,57294+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),yr=String.fromCharCode(55349,57314+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),yr=String.fromCharCode(55349,57324+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr),yr=String.fromCharCode(55349,57334+C),O(j,Q,Yt,M,yr),O(at,Q,Fe,M,yr)}const Jo="ÐÞþ";for(let C=0;C<Jo.length;C++){const M=Jo.charAt(C);O(j,Q,Yt,M,M),O(at,Q,Fe,M,M)}const po=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Qu=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],vm=function(C,M){const S=C.charCodeAt(0),I=C.charCodeAt(1),B=(S-55296)*1024+(I-56320)+65536,V=M==="math"?0:1;if(119808<=B&&B<120484){const K=Math.floor((B-119808)/26);return[po[K][2],po[K][V]]}else if(120782<=B&&B<=120831){const K=Math.floor((B-120782)/10);return[Qu[K][2],Qu[K][V]]}else{if(B===120485||B===120486)return[po[0][2],po[0][V]];if(120486<B&&B<120782)return["",""];throw new a("Unsupported character: "+C)}};class Q0{constructor(M){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=M,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(M){return this.classes.includes(M)}toNode(){const M=document.createDocumentFragment();for(let S=0;S<this.children.length;S++)M.appendChild(this.children[S].toNode());return M}toMarkup(){let M="";for(let S=0;S<this.children.length;S++)M+=this.children[S].toMarkup();return M}toText(){const M=S=>S.toText();return this.children.map(M).join("")}}const el=function(C,M,S){return Mr[S][C]&&Mr[S][C].replace&&(C=Mr[S][C].replace),{value:C,metrics:me(C,M,S)}},Wa=function(C,M,S,I,B){const V=el(C,M,S),K=V.metrics;C=V.value;let se;if(K){let ve=K.italic;(S==="text"||I&&I.font==="mathit")&&(ve=0),se=new Ii(C,K.height,K.depth,ve,K.skew,K.width,B)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+C+"' in style '"+M+"' and mode '"+S+"'")),se=new Ii(C,0,0,0,0,0,B);if(I){se.maxFontSize=I.sizeMultiplier,I.style.isTight()&&se.classes.push("mtight");const ve=I.getColor();ve&&(se.style.color=ve)}return se},Nh=function(C,M,S,I){return I===void 0&&(I=[]),S.font==="boldsymbol"&&el(C,"Main-Bold",M).metrics?Wa(C,"Main-Bold",M,S,I.concat(["mathbf"])):C==="\\"||Mr[M][C].font==="main"?Wa(C,"Main-Regular",M,S,I):Wa(C,"AMS-Regular",M,S,I.concat(["amsrm"]))},X2=function(C,M,S,I,B){return B!=="textord"&&el(C,"Math-BoldItalic",M).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Q2=function(C,M,S){const I=C.mode,B=C.text,V=["mord"],K=I==="math"||I==="text"&&M.font,se=K?M.font:M.fontFamily;let ve="",Ie="";if(B.charCodeAt(0)===55349&&([ve,Ie]=vm(B,I)),ve.length>0)return Wa(B,ve,I,M,V.concat(Ie));if(se){let Ve,Ye;if(se==="boldsymbol"){const tt=X2(B,I,M,V,S);Ve=tt.fontName,Ye=[tt.fontClass]}else K?(Ve=_G[se].fontName,Ye=[se]):(Ve=Xy(se,M.fontWeight,M.fontShape),Ye=[se,M.fontWeight,M.fontShape]);if(el(B,Ve,I).metrics)return Wa(B,Ve,I,M,V.concat(Ye));if(Ws.hasOwnProperty(B)&&Ve.slice(0,10)==="Typewriter"){const tt=[];for(let wt=0;wt<B.length;wt++)tt.push(Wa(B[wt],Ve,I,M,V.concat(Ye)));return m0(tt)}}if(S==="mathord")return Wa(B,"Math-Italic",I,M,V.concat(["mathnormal"]));if(S==="textord"){const Ve=Mr[I][B]&&Mr[I][B].font;if(Ve==="ams"){const Ye=Xy("amsrm",M.fontWeight,M.fontShape);return Wa(B,Ye,I,M,V.concat("amsrm",M.fontWeight,M.fontShape))}else if(Ve==="main"||!Ve){const Ye=Xy("textrm",M.fontWeight,M.fontShape);return Wa(B,Ye,I,M,V.concat(M.fontWeight,M.fontShape))}else{const Ye=Xy(Ve,M.fontWeight,M.fontShape);return Wa(B,Ye,I,M,V.concat(Ye,M.fontWeight,M.fontShape))}}else throw new Error("unexpected type: "+S+" in makeOrd")},J2=(C,M)=>{if(ot(C.classes)!==ot(M.classes)||C.skew!==M.skew||C.maxFontSize!==M.maxFontSize)return!1;if(C.classes.length===1){const S=C.classes[0];if(S==="mbin"||S==="mord")return!1}for(const S in C.style)if(C.style.hasOwnProperty(S)&&C.style[S]!==M.style[S])return!1;for(const S in M.style)if(M.style.hasOwnProperty(S)&&C.style[S]!==M.style[S])return!1;return!0},eg=C=>{for(let M=0;M<C.length-1;M++){const S=C[M],I=C[M+1];S instanceof Ii&&I instanceof Ii&&J2(S,I)&&(S.text+=I.text,S.height=Math.max(S.height,I.height),S.depth=Math.max(S.depth,I.depth),S.italic=I.italic,C.splice(M+1,1),M--)}return C},Ya=function(C){let M=0,S=0,I=0;for(let B=0;B<C.children.length;B++){const V=C.children[B];V.height>M&&(M=V.height),V.depth>S&&(S=V.depth),V.maxFontSize>I&&(I=V.maxFontSize)}C.height=M,C.depth=S,C.maxFontSize=I},Pn=function(C,M,S,I){const B=new Ke(C,M,S,I);return Ya(B),B},Ca=(C,M,S,I)=>new Ke(C,M,S,I),Ka=function(C,M,S){const I=Pn([C],[],M);return I.height=Math.max(S||M.fontMetrics().defaultRuleThickness,M.minRuleThickness),I.style.borderBottomWidth=We(I.height),I.maxFontSize=1,I},J0=function(C,M,S,I){const B=new gt(C,M,S,I);return Ya(B),B},m0=function(C){const M=new Q0(C);return Ya(M),M},eu=function(C,M){return C instanceof Q0?Pn([],[C],M):C},tu=function(C){if(C.positionType==="individualShift"){const S=C.children,I=[S[0]],B=-S[0].shift-S[0].elem.depth;let V=B;for(let K=1;K<S.length;K++){const se=-S[K].shift-V-S[K].elem.depth,ve=se-(S[K-1].elem.height+S[K-1].elem.depth);V=V+se,I.push({type:"kern",size:ve}),I.push(S[K])}return{children:I,depth:B}}let M;if(C.positionType==="top"){let S=C.positionData;for(let I=0;I<C.children.length;I++){const B=C.children[I];S-=B.type==="kern"?B.size:B.elem.height+B.elem.depth}M=S}else if(C.positionType==="bottom")M=-C.positionData;else{const S=C.children[0];if(S.type!=="elem")throw new Error('First child must have type "elem".');if(C.positionType==="shift")M=-S.elem.depth-C.positionData;else if(C.positionType==="firstBaseline")M=-S.elem.depth;else throw new Error("Invalid positionType "+C.positionType+".")}return{children:C.children,depth:M}},Et=function(C,M){const{children:S,depth:I}=tu(C);let B=0;for(let wt=0;wt<S.length;wt++){const Kt=S[wt];if(Kt.type==="elem"){const sr=Kt.elem;B=Math.max(B,sr.maxFontSize,sr.height)}}B+=2;const V=Pn(["pstrut"],[]);V.style.height=We(B);const K=[];let se=I,ve=I,Ie=I;for(let wt=0;wt<S.length;wt++){const Kt=S[wt];if(Kt.type==="kern")Ie+=Kt.size;else{const sr=Kt.elem,Ai=Kt.wrapperClasses||[],yi=Kt.wrapperStyle||{},Ti=Pn(Ai,[V,sr],void 0,yi);Ti.style.top=We(-B-Ie-sr.depth),Kt.marginLeft&&(Ti.style.marginLeft=Kt.marginLeft),Kt.marginRight&&(Ti.style.marginRight=Kt.marginRight),K.push(Ti),Ie+=sr.height+sr.depth}se=Math.min(se,Ie),ve=Math.max(ve,Ie)}const Ve=Pn(["vlist"],K);Ve.style.height=We(ve);let Ye;if(se<0){const wt=Pn([],[]),Kt=Pn(["vlist"],[wt]);Kt.style.height=We(-se);const sr=Pn(["vlist-s"],[new Ii("​")]);Ye=[Pn(["vlist-r"],[Ve,sr]),Pn(["vlist-r"],[Kt])]}else Ye=[Pn(["vlist-r"],[Ve])];const tt=Pn(["vlist-t"],Ye);return Ye.length===2&&tt.classes.push("vlist-t2"),tt.height=ve,tt.depth=-se,tt},ep=(C,M)=>{const S=Pn(["mspace"],[],M),I=Pe(C,M);return S.style.marginRight=We(I),S},Xy=function(C,M,S){let I="";switch(C){case"amsrm":I="AMS";break;case"textrm":I="Main";break;case"textsf":I="SansSerif";break;case"texttt":I="Typewriter";break;default:I=C}let B;return M==="textbf"&&S==="textit"?B="BoldItalic":M==="textbf"?B="Bold":M==="textit"?B="Italic":B="Regular",I+"-"+B},_G={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},EG={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var Je={fontMap:_G,makeSymbol:Wa,mathsym:Nh,makeSpan:Pn,makeSvgSpan:Ca,makeLineSpan:Ka,makeAnchor:J0,makeFragment:m0,wrapFragment:eu,makeVList:Et,makeOrd:Q2,makeGlue:ep,staticSvg:function(C,M){const[S,I,B]=EG[C],V=new An(S),K=new un([V],{width:We(I),height:We(B),style:"width:"+We(I),viewBox:"0 0 "+1e3*I+" "+1e3*B,preserveAspectRatio:"xMinYMin"}),se=Ca(["overlay"],[K],M);return se.height=B,se.style.height=We(B),se.style.width=We(I),se},svgData:EG,tryCombineChars:eg};const Qn={number:3,unit:"mu"},tp={number:4,unit:"mu"},Ju={number:5,unit:"mu"},zAe={mord:{mop:Qn,mbin:tp,mrel:Ju,minner:Qn},mop:{mord:Qn,mop:Qn,mrel:Ju,minner:Qn},mbin:{mord:tp,mop:tp,mopen:tp,minner:tp},mrel:{mord:Ju,mop:Ju,mopen:Ju,minner:Ju},mopen:{},mclose:{mop:Qn,mbin:tp,mrel:Ju,minner:Qn},mpunct:{mord:Qn,mop:Qn,mrel:Ju,mopen:Qn,mclose:Qn,mpunct:Qn,minner:Qn},minner:{mord:Qn,mop:Qn,mbin:tp,mrel:Ju,mopen:Qn,mpunct:Qn,minner:Qn}},BAe={mord:{mop:Qn},mop:{mord:Qn,mop:Qn},mbin:{},mrel:{},mopen:{},mclose:{mop:Qn},mpunct:{},minner:{mop:Qn}},IG={},Qy={},Jy={};function Ht(C){let{type:M,names:S,props:I,handler:B,htmlBuilder:V,mathmlBuilder:K}=C;const se={type:M,numArgs:I.numArgs,argTypes:I.argTypes,allowedInArgument:!!I.allowedInArgument,allowedInText:!!I.allowedInText,allowedInMath:I.allowedInMath===void 0?!0:I.allowedInMath,numOptionalArgs:I.numOptionalArgs||0,infix:!!I.infix,primitive:!!I.primitive,handler:B};for(let ve=0;ve<S.length;++ve)IG[S[ve]]=se;M&&(V&&(Qy[M]=V),K&&(Jy[M]=K))}function rp(C){let{type:M,htmlBuilder:S,mathmlBuilder:I}=C;Ht({type:M,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:S,mathmlBuilder:I})}const eb=function(C){return C.type==="ordgroup"&&C.body.length===1?C.body[0]:C},Na=function(C){return C.type==="ordgroup"?C.body:[C]},ec=Je.makeSpan,OAe=["leftmost","mbin","mopen","mrel","mop","mpunct"],FAe=["rightmost","mrel","mclose","mpunct"],PAe={display:ie.DISPLAY,text:ie.TEXT,script:ie.SCRIPT,scriptscript:ie.SCRIPTSCRIPT},RAe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Xa=function(C,M,S,I){I===void 0&&(I=[null,null]);const B=[];for(let Ie=0;Ie<C.length;Ie++){const Ve=Pi(C[Ie],M);if(Ve instanceof Q0){const Ye=Ve.children;B.push(...Ye)}else B.push(Ve)}if(Je.tryCombineChars(B),!S)return B;let V=M;if(C.length===1){const Ie=C[0];Ie.type==="sizing"?V=M.havingSize(Ie.size):Ie.type==="styling"&&(V=M.havingStyle(PAe[Ie.style]))}const K=ec([I[0]||"leftmost"],[],M),se=ec([I[1]||"rightmost"],[],M),ve=S==="root";return ck(B,(Ie,Ve)=>{const Ye=Ve.classes[0],tt=Ie.classes[0];Ye==="mbin"&&FAe.includes(tt)?Ve.classes[0]="mord":tt==="mbin"&&OAe.includes(Ye)&&(Ie.classes[0]="mord")},{node:K},se,ve),ck(B,(Ie,Ve)=>{const Ye=pk(Ve),tt=pk(Ie),wt=Ye&&tt?Ie.hasClass("mtight")?BAe[Ye][tt]:zAe[Ye][tt]:null;if(wt)return Je.makeGlue(wt,V)},{node:K},se,ve),B},ck=function(C,M,S,I,B){I&&C.push(I);let V=0;for(;V<C.length;V++){const K=C[V],se=TG(K);if(se){ck(se.children,M,S,null,B);continue}const ve=!K.hasClass("mspace");if(ve){const Ie=M(K,S.node);Ie&&(S.insertAfter?S.insertAfter(Ie):(C.unshift(Ie),V++))}ve?S.node=K:B&&K.hasClass("newline")&&(S.node=ec(["leftmost"])),S.insertAfter=(Ie=>Ve=>{C.splice(Ie+1,0,Ve),V++})(V)}I&&C.pop()},TG=function(C){return C instanceof Q0||C instanceof gt||C instanceof Ke&&C.hasClass("enclosing")?C:null},hk=function(C,M){const S=TG(C);if(S){const I=S.children;if(I.length){if(M==="right")return hk(I[I.length-1],"right");if(M==="left")return hk(I[0],"left")}}return C},pk=function(C,M){return C?(M&&(C=hk(C,M)),RAe[C.classes[0]]||null):null},tg=function(C,M){const S=["nulldelimiter"].concat(C.baseSizingClasses());return ec(M.concat(S))},Pi=function(C,M,S){if(!C)return ec();if(Qy[C.type]){let I=Qy[C.type](C,M);if(S&&M.size!==S.size){I=ec(M.sizingClasses(S),[I],M);const B=M.sizeMultiplier/S.sizeMultiplier;I.height*=B,I.depth*=B}return I}else throw new a("Got group of unknown type: '"+C.type+"'")};function tb(C,M){const S=ec(["base"],C,M),I=ec(["strut"]);return I.style.height=We(S.height+S.depth),S.depth&&(I.style.verticalAlign=We(-S.depth)),S.children.unshift(I),S}function dk(C,M){let S=null;C.length===1&&C[0].type==="tag"&&(S=C[0].tag,C=C[0].body);const I=Xa(C,M,"root");let B;I.length===2&&I[1].hasClass("tag")&&(B=I.pop());const V=[];let K=[];for(let Ie=0;Ie<I.length;Ie++)if(K.push(I[Ie]),I[Ie].hasClass("mbin")||I[Ie].hasClass("mrel")||I[Ie].hasClass("allowbreak")){let Ve=!1;for(;Ie<I.length-1&&I[Ie+1].hasClass("mspace")&&!I[Ie+1].hasClass("newline");)Ie++,K.push(I[Ie]),I[Ie].hasClass("nobreak")&&(Ve=!0);Ve||(V.push(tb(K,M)),K=[])}else I[Ie].hasClass("newline")&&(K.pop(),K.length>0&&(V.push(tb(K,M)),K=[]),V.push(I[Ie]));K.length>0&&V.push(tb(K,M));let se;S?(se=tb(Xa(S,M,!0)),se.classes=["tag"],V.push(se)):B&&V.push(B);const ve=ec(["katex-html"],V);if(ve.setAttribute("aria-hidden","true"),se){const Ie=se.children[0];Ie.style.height=We(ve.height+ve.depth),ve.depth&&(Ie.style.verticalAlign=We(-ve.depth))}return ve}function LG(C){return new Q0(C)}class tl{constructor(M,S,I){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=M,this.attributes={},this.children=S||[],this.classes=I||[]}setAttribute(M,S){this.attributes[M]=S}getAttribute(M){return this.attributes[M]}toNode(){const M=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&M.setAttribute(S,this.attributes[S]);this.classes.length>0&&(M.className=ot(this.classes));for(let S=0;S<this.children.length;S++)if(this.children[S]instanceof ru&&this.children[S+1]instanceof ru){let I=this.children[S].toText()+this.children[++S].toText();for(;this.children[S+1]instanceof ru;)I+=this.children[++S].toText();M.appendChild(new ru(I).toNode())}else M.appendChild(this.children[S].toNode());return M}toMarkup(){let M="<"+this.type;for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&(M+=" "+S+'="',M+=v.escape(this.attributes[S]),M+='"');this.classes.length>0&&(M+=' class ="'+v.escape(ot(this.classes))+'"'),M+=">";for(let S=0;S<this.children.length;S++)M+=this.children[S].toMarkup();return M+="</"+this.type+">",M}toText(){return this.children.map(M=>M.toText()).join("")}}class ru{constructor(M){this.text=void 0,this.text=M}toNode(){return document.createTextNode(this.text)}toMarkup(){return v.escape(this.toText())}toText(){return this.text}}class jAe{constructor(M){this.width=void 0,this.character=void 0,this.width=M,M>=.05555&&M<=.05556?this.character=" ":M>=.1666&&M<=.1667?this.character=" ":M>=.2222&&M<=.2223?this.character=" ":M>=.2777&&M<=.2778?this.character="  ":M>=-.05556&&M<=-.05555?this.character=" ⁣":M>=-.1667&&M<=-.1666?this.character=" ⁣":M>=-.2223&&M<=-.2222?this.character=" ⁣":M>=-.2778&&M<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const M=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return M.setAttribute("width",We(this.width)),M}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+We(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Dt={MathNode:tl,TextNode:ru,SpaceNode:jAe,newDocumentFragment:LG};const Bl=function(C,M,S){return Mr[M][C]&&Mr[M][C].replace&&C.charCodeAt(0)!==55349&&!(Ws.hasOwnProperty(C)&&S&&(S.fontFamily&&S.fontFamily.slice(4,6)==="tt"||S.font&&S.font.slice(4,6)==="tt"))&&(C=Mr[M][C].replace),new Dt.TextNode(C)},mk=function(C){return C.length===1?C[0]:new Dt.MathNode("mrow",C)},fk=function(C,M){if(M.fontFamily==="texttt")return"monospace";if(M.fontFamily==="textsf")return M.fontShape==="textit"&&M.fontWeight==="textbf"?"sans-serif-bold-italic":M.fontShape==="textit"?"sans-serif-italic":M.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(M.fontShape==="textit"&&M.fontWeight==="textbf")return"bold-italic";if(M.fontShape==="textit")return"italic";if(M.fontWeight==="textbf")return"bold";const S=M.font;if(!S||S==="mathnormal")return null;const I=C.mode;if(S==="mathit")return"italic";if(S==="boldsymbol")return C.type==="textord"?"bold":"bold-italic";if(S==="mathbf")return"bold";if(S==="mathbb")return"double-struck";if(S==="mathsfit")return"sans-serif-italic";if(S==="mathfrak")return"fraktur";if(S==="mathscr"||S==="mathcal")return"script";if(S==="mathsf")return"sans-serif";if(S==="mathtt")return"monospace";let B=C.text;if(["\\imath","\\jmath"].includes(B))return null;Mr[I][B]&&Mr[I][B].replace&&(B=Mr[I][B].replace);const V=Je.fontMap[S].fontName;return me(B,V,I)?Je.fontMap[S].variant:null};function gk(C){if(!C)return!1;if(C.type==="mi"&&C.children.length===1){const M=C.children[0];return M instanceof ru&&M.text==="."}else if(C.type==="mo"&&C.children.length===1&&C.getAttribute("separator")==="true"&&C.getAttribute("lspace")==="0em"&&C.getAttribute("rspace")==="0em"){const M=C.children[0];return M instanceof ru&&M.text===","}else return!1}const To=function(C,M,S){if(C.length===1){const V=wn(C[0],M);return S&&V instanceof tl&&V.type==="mo"&&(V.setAttribute("lspace","0em"),V.setAttribute("rspace","0em")),[V]}const I=[];let B;for(let V=0;V<C.length;V++){const K=wn(C[V],M);if(K instanceof tl&&B instanceof tl){if(K.type==="mtext"&&B.type==="mtext"&&K.getAttribute("mathvariant")===B.getAttribute("mathvariant")){B.children.push(...K.children);continue}else if(K.type==="mn"&&B.type==="mn"){B.children.push(...K.children);continue}else if(gk(K)&&B.type==="mn"){B.children.push(...K.children);continue}else if(K.type==="mn"&&gk(B))K.children=[...B.children,...K.children],I.pop();else if((K.type==="msup"||K.type==="msub")&&K.children.length>=1&&(B.type==="mn"||gk(B))){const se=K.children[0];se instanceof tl&&se.type==="mn"&&(se.children=[...B.children,...se.children],I.pop())}else if(B.type==="mi"&&B.children.length===1){const se=B.children[0];if(se instanceof ru&&se.text==="̸"&&(K.type==="mo"||K.type==="mi"||K.type==="mn")){const ve=K.children[0];ve instanceof ru&&ve.text.length>0&&(ve.text=ve.text.slice(0,1)+"̸"+ve.text.slice(1),I.pop())}}}I.push(K),B=K}return I},Sh=function(C,M,S){return mk(To(C,M,S))},wn=function(C,M){if(!C)return new Dt.MathNode("mrow");if(Jy[C.type])return Jy[C.type](C,M);throw new a("Got group of unknown type: '"+C.type+"'")};function zG(C,M,S,I,B){const V=To(C,S);let K;V.length===1&&V[0]instanceof tl&&["mrow","mtable"].includes(V[0].type)?K=V[0]:K=new Dt.MathNode("mrow",V);const se=new Dt.MathNode("annotation",[new Dt.TextNode(M)]);se.setAttribute("encoding","application/x-tex");const ve=new Dt.MathNode("semantics",[K,se]),Ie=new Dt.MathNode("math",[ve]);Ie.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),I&&Ie.setAttribute("display","block");const Ve=B?"katex":"katex-mathml";return Je.makeSpan([Ve],[Ie])}const BG=function(C){return new Le({style:C.displayMode?ie.DISPLAY:ie.TEXT,maxSize:C.maxSize,minRuleThickness:C.minRuleThickness})},OG=function(C,M){if(M.displayMode){const S=["katex-display"];M.leqno&&S.push("leqno"),M.fleqn&&S.push("fleqn"),C=Je.makeSpan(S,[C])}return C},qAe=function(C,M,S){const I=BG(S);let B;if(S.output==="mathml")return zG(C,M,I,S.displayMode,!0);if(S.output==="html"){const V=dk(C,I);B=Je.makeSpan(["katex"],[V])}else{const V=zG(C,M,I,S.displayMode,!1),K=dk(C,I);B=Je.makeSpan(["katex"],[V,K])}return OG(B,S)},UAe=function(C,M,S){const I=BG(S),B=dk(C,I),V=Je.makeSpan(["katex"],[B]);return OG(V,S)},VAe={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},GAe=function(C){const M=new Dt.MathNode("mo",[new Dt.TextNode(VAe[C.replace(/^\\/,"")])]);return M.setAttribute("stretchy","true"),M},ZAe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},HAe=function(C){return C.type==="ordgroup"?C.body.length:1};var tc={encloseSpan:function(C,M,S,I,B){let V;const K=C.height+C.depth+S+I;if(/fbox|color|angl/.test(M)){if(V=Je.makeSpan(["stretchy",M],[],B),M==="fbox"){const se=B.color&&B.getColor();se&&(V.style.borderColor=se)}}else{const se=[];/^[bx]cancel$/.test(M)&&se.push(new oa({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(M)&&se.push(new oa({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const ve=new un(se,{width:"100%",height:We(K)});V=Je.makeSvgSpan([],[ve],B)}return V.height=K,V.style.height=We(K),V},mathMLnode:GAe,svgSpan:function(C,M){function S(){let K=4e5;const se=C.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(se)){const Ie=HAe(C.base);let Ve,Ye,tt;if(Ie>5)se==="widehat"||se==="widecheck"?(Ve=420,K=2364,tt=.42,Ye=se+"4"):(Ve=312,K=2340,tt=.34,Ye="tilde4");else{const sr=[1,1,2,2,3,3][Ie];se==="widehat"||se==="widecheck"?(K=[0,1062,2364,2364,2364][sr],Ve=[0,239,300,360,420][sr],tt=[0,.24,.3,.3,.36,.42][sr],Ye=se+sr):(K=[0,600,1033,2339,2340][sr],Ve=[0,260,286,306,312][sr],tt=[0,.26,.286,.3,.306,.34][sr],Ye="tilde"+sr)}const wt=new An(Ye),Kt=new un([wt],{width:"100%",height:We(tt),viewBox:"0 0 "+K+" "+Ve,preserveAspectRatio:"none"});return{span:Je.makeSvgSpan([],[Kt],M),minWidth:0,height:tt}}else{const ve=[],Ie=ZAe[se],[Ve,Ye,tt]=Ie,wt=tt/1e3,Kt=Ve.length;let sr,Ai;if(Kt===1){const yi=Ie[3];sr=["hide-tail"],Ai=[yi]}else if(Kt===2)sr=["halfarrow-left","halfarrow-right"],Ai=["xMinYMin","xMaxYMin"];else if(Kt===3)sr=["brace-left","brace-center","brace-right"],Ai=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Kt+" children.");for(let yi=0;yi<Kt;yi++){const Ti=new An(Ve[yi]),Ki=new un([Ti],{width:"400em",height:We(wt),viewBox:"0 0 "+K+" "+tt,preserveAspectRatio:Ai[yi]+" slice"}),$n=Je.makeSvgSpan([sr[yi]],[Ki],M);if(Kt===1)return{span:$n,minWidth:Ye,height:wt};$n.style.height=We(wt),ve.push($n)}return{span:Je.makeSpan(["stretchy"],ve,M),minWidth:Ye,height:wt}}}const{span:I,minWidth:B,height:V}=S();return I.height=V,I.style.height=We(V),B>0&&(I.style.minWidth=We(B)),I}};function oi(C,M){if(!C||C.type!==M)throw new Error("Expected node of type "+M+", but got "+(C?"node of type "+C.type:String(C)));return C}function vk(C){const M=rb(C);if(!M)throw new Error("Expected node of symbol group type, but got "+(C?"node of type "+C.type:String(C)));return M}function rb(C){return C&&(C.type==="atom"||Di.hasOwnProperty(C.type))?C:null}const yk=(C,M)=>{let S,I,B;C&&C.type==="supsub"?(I=oi(C.base,"accent"),S=I.base,C.base=S,B=wr(Pi(C,M)),C.base=I):(I=oi(C,"accent"),S=I.base);const V=Pi(S,M.havingCrampedStyle()),K=I.isShifty&&v.isCharacterBox(S);let se=0;if(K){const tt=v.getBaseElem(S),wt=Pi(tt,M.havingCrampedStyle());se=Bt(wt).skew}const ve=I.label==="\\c";let Ie=ve?V.height+V.depth:Math.min(V.height,M.fontMetrics().xHeight),Ve;if(I.isStretchy)Ve=tc.svgSpan(I,M),Ve=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:V},{type:"elem",elem:Ve,wrapperClasses:["svg-align"],wrapperStyle:se>0?{width:"calc(100% - "+We(2*se)+")",marginLeft:We(2*se)}:void 0}]},M);else{let tt,wt;I.label==="\\vec"?(tt=Je.staticSvg("vec",M),wt=Je.svgData.vec[1]):(tt=Je.makeOrd({mode:I.mode,text:I.label},M,"textord"),tt=Bt(tt),tt.italic=0,wt=tt.width,ve&&(Ie+=tt.depth)),Ve=Je.makeSpan(["accent-body"],[tt]);const Kt=I.label==="\\textcircled";Kt&&(Ve.classes.push("accent-full"),Ie=V.height);let sr=se;Kt||(sr-=wt/2),Ve.style.left=We(sr),I.label==="\\textcircled"&&(Ve.style.top=".2em"),Ve=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:V},{type:"kern",size:-Ie},{type:"elem",elem:Ve}]},M)}const Ye=Je.makeSpan(["mord","accent"],[Ve],M);return B?(B.children[0]=Ye,B.height=Math.max(Ye.height,B.height),B.classes[0]="mord",B):Ye},FG=(C,M)=>{const S=C.isStretchy?tc.mathMLnode(C.label):new Dt.MathNode("mo",[Bl(C.label,C.mode)]),I=new Dt.MathNode("mover",[wn(C.base,M),S]);return I.setAttribute("accent","true"),I},WAe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(C=>"\\"+C).join("|"));Ht({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(C,M)=>{const S=eb(M[0]),I=!WAe.test(C.funcName),B=!I||C.funcName==="\\widehat"||C.funcName==="\\widetilde"||C.funcName==="\\widecheck";return{type:"accent",mode:C.parser.mode,label:C.funcName,isStretchy:I,isShifty:B,base:S}},htmlBuilder:yk,mathmlBuilder:FG}),Ht({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(C,M)=>{const S=M[0];let I=C.parser.mode;return I==="math"&&(C.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+C.funcName+" works only in text mode"),I="text"),{type:"accent",mode:I,label:C.funcName,isStretchy:!1,isShifty:!0,base:S}},htmlBuilder:yk,mathmlBuilder:FG}),Ht({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(C,M)=>{let{parser:S,funcName:I}=C;const B=M[0];return{type:"accentUnder",mode:S.mode,label:I,base:B}},htmlBuilder:(C,M)=>{const S=Pi(C.base,M),I=tc.svgSpan(C,M),B=C.label==="\\utilde"?.12:0,V=Je.makeVList({positionType:"top",positionData:S.height,children:[{type:"elem",elem:I,wrapperClasses:["svg-align"]},{type:"kern",size:B},{type:"elem",elem:S}]},M);return Je.makeSpan(["mord","accentunder"],[V],M)},mathmlBuilder:(C,M)=>{const S=tc.mathMLnode(C.label),I=new Dt.MathNode("munder",[wn(C.base,M),S]);return I.setAttribute("accentunder","true"),I}});const ib=C=>{const M=new Dt.MathNode("mpadded",C?[C]:[]);return M.setAttribute("width","+0.6em"),M.setAttribute("lspace","0.3em"),M};Ht({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(C,M,S){let{parser:I,funcName:B}=C;return{type:"xArrow",mode:I.mode,label:B,body:M[0],below:S[0]}},htmlBuilder(C,M){const S=M.style;let I=M.havingStyle(S.sup());const B=Je.wrapFragment(Pi(C.body,I,M),M),V=C.label.slice(0,2)==="\\x"?"x":"cd";B.classes.push(V+"-arrow-pad");let K;C.below&&(I=M.havingStyle(S.sub()),K=Je.wrapFragment(Pi(C.below,I,M),M),K.classes.push(V+"-arrow-pad"));const se=tc.svgSpan(C,M),ve=-M.fontMetrics().axisHeight+.5*se.height;let Ie=-M.fontMetrics().axisHeight-.5*se.height-.111;(B.depth>.25||C.label==="\\xleftequilibrium")&&(Ie-=B.depth);let Ve;if(K){const Ye=-M.fontMetrics().axisHeight+K.height+.5*se.height+.111;Ve=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:B,shift:Ie},{type:"elem",elem:se,shift:ve},{type:"elem",elem:K,shift:Ye}]},M)}else Ve=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:B,shift:Ie},{type:"elem",elem:se,shift:ve}]},M);return Ve.children[0].children[0].children[1].classes.push("svg-align"),Je.makeSpan(["mrel","x-arrow"],[Ve],M)},mathmlBuilder(C,M){const S=tc.mathMLnode(C.label);S.setAttribute("minsize",C.label.charAt(0)==="x"?"1.75em":"3.0em");let I;if(C.body){const B=ib(wn(C.body,M));if(C.below){const V=ib(wn(C.below,M));I=new Dt.MathNode("munderover",[S,V,B])}else I=new Dt.MathNode("mover",[S,B])}else if(C.below){const B=ib(wn(C.below,M));I=new Dt.MathNode("munder",[S,B])}else I=ib(),I=new Dt.MathNode("mover",[S,I]);return I}});const YAe=Je.makeSpan;function PG(C,M){const S=Xa(C.body,M,!0);return YAe([C.mclass],S,M)}function RG(C,M){let S;const I=To(C.body,M);return C.mclass==="minner"?S=new Dt.MathNode("mpadded",I):C.mclass==="mord"?C.isCharacterBox?(S=I[0],S.type="mi"):S=new Dt.MathNode("mi",I):(C.isCharacterBox?(S=I[0],S.type="mo"):S=new Dt.MathNode("mo",I),C.mclass==="mbin"?(S.attributes.lspace="0.22em",S.attributes.rspace="0.22em"):C.mclass==="mpunct"?(S.attributes.lspace="0em",S.attributes.rspace="0.17em"):C.mclass==="mopen"||C.mclass==="mclose"?(S.attributes.lspace="0em",S.attributes.rspace="0em"):C.mclass==="minner"&&(S.attributes.lspace="0.0556em",S.attributes.width="+0.1111em")),S}Ht({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(C,M){let{parser:S,funcName:I}=C;const B=M[0];return{type:"mclass",mode:S.mode,mclass:"m"+I.slice(5),body:Na(B),isCharacterBox:v.isCharacterBox(B)}},htmlBuilder:PG,mathmlBuilder:RG});const nb=C=>{const M=C.type==="ordgroup"&&C.body.length?C.body[0]:C;return M.type==="atom"&&(M.family==="bin"||M.family==="rel")?"m"+M.family:"mord"};Ht({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(C,M){let{parser:S}=C;return{type:"mclass",mode:S.mode,mclass:nb(M[0]),body:Na(M[1]),isCharacterBox:v.isCharacterBox(M[1])}}}),Ht({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(C,M){let{parser:S,funcName:I}=C;const B=M[1],V=M[0];let K;I!=="\\stackrel"?K=nb(B):K="mrel";const se={type:"op",mode:B.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:I!=="\\stackrel",body:Na(B)},ve={type:"supsub",mode:V.mode,base:se,sup:I==="\\underset"?null:V,sub:I==="\\underset"?V:null};return{type:"mclass",mode:S.mode,mclass:K,body:[ve],isCharacterBox:v.isCharacterBox(ve)}},htmlBuilder:PG,mathmlBuilder:RG}),Ht({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(C,M){let{parser:S}=C;return{type:"pmb",mode:S.mode,mclass:nb(M[0]),body:Na(M[0])}},htmlBuilder(C,M){const S=Xa(C.body,M,!0),I=Je.makeSpan([C.mclass],S,M);return I.style.textShadow="0.02em 0.01em 0.04px",I},mathmlBuilder(C,M){const S=To(C.body,M),I=new Dt.MathNode("mstyle",S);return I.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),I}});const KAe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},jG=()=>({type:"styling",body:[],mode:"math",style:"display"}),qG=C=>C.type==="textord"&&C.text==="@",XAe=(C,M)=>(C.type==="mathord"||C.type==="atom")&&C.text===M;function QAe(C,M,S){const I=KAe[C];switch(I){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return S.callFunction(I,[M[0]],[M[1]]);case"\\uparrow":case"\\downarrow":{const B=S.callFunction("\\\\cdleft",[M[0]],[]),V={type:"atom",text:I,mode:"math",family:"rel"},K=S.callFunction("\\Big",[V],[]),se=S.callFunction("\\\\cdright",[M[1]],[]),ve={type:"ordgroup",mode:"math",body:[B,K,se]};return S.callFunction("\\\\cdparent",[ve],[])}case"\\\\cdlongequal":return S.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const B={type:"textord",text:"\\Vert",mode:"math"};return S.callFunction("\\Big",[B],[])}default:return{type:"textord",text:" ",mode:"math"}}}function JAe(C){const M=[];for(C.gullet.beginGroup(),C.gullet.macros.set("\\cr","\\\\\\relax"),C.gullet.beginGroup();;){M.push(C.parseExpression(!1,"\\\\")),C.gullet.endGroup(),C.gullet.beginGroup();const V=C.fetch().text;if(V==="&"||V==="\\\\")C.consume();else if(V==="\\end"){M[M.length-1].length===0&&M.pop();break}else throw new a("Expected \\\\ or \\cr or \\end",C.nextToken)}let S=[];const I=[S];for(let V=0;V<M.length;V++){const K=M[V];let se=jG();for(let ve=0;ve<K.length;ve++)if(!qG(K[ve]))se.body.push(K[ve]);else{S.push(se),ve+=1;const Ie=vk(K[ve]).text,Ve=new Array(2);if(Ve[0]={type:"ordgroup",mode:"math",body:[]},Ve[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(Ie)>-1))if("<>AV".indexOf(Ie)>-1)for(let wt=0;wt<2;wt++){let Kt=!0;for(let sr=ve+1;sr<K.length;sr++){if(XAe(K[sr],Ie)){Kt=!1,ve=sr;break}if(qG(K[sr]))throw new a("Missing a "+Ie+" character to complete a CD arrow.",K[sr]);Ve[wt].body.push(K[sr])}if(Kt)throw new a("Missing a "+Ie+" character to complete a CD arrow.",K[ve])}else throw new a('Expected one of "<>AV=|." after @',K[ve]);const tt={type:"styling",body:[QAe(Ie,Ve,C)],mode:"math",style:"display"};S.push(tt),se=jG()}V%2===0?S.push(se):S.shift(),S=[],I.push(S)}C.gullet.endGroup(),C.gullet.endGroup();const B=new Array(I[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:I,arraystretch:1,addJot:!0,rowGaps:[null],cols:B,colSeparationType:"CD",hLinesBeforeRow:new Array(I.length+1).fill([])}}Ht({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(C,M){let{parser:S,funcName:I}=C;return{type:"cdlabel",mode:S.mode,side:I.slice(4),label:M[0]}},htmlBuilder(C,M){const S=M.havingStyle(M.style.sup()),I=Je.wrapFragment(Pi(C.label,S,M),M);return I.classes.push("cd-label-"+C.side),I.style.bottom=We(.8-I.depth),I.height=0,I.depth=0,I},mathmlBuilder(C,M){let S=new Dt.MathNode("mrow",[wn(C.label,M)]);return S=new Dt.MathNode("mpadded",[S]),S.setAttribute("width","0"),C.side==="left"&&S.setAttribute("lspace","-1width"),S.setAttribute("voffset","0.7em"),S=new Dt.MathNode("mstyle",[S]),S.setAttribute("displaystyle","false"),S.setAttribute("scriptlevel","1"),S}}),Ht({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(C,M){let{parser:S}=C;return{type:"cdlabelparent",mode:S.mode,fragment:M[0]}},htmlBuilder(C,M){const S=Je.wrapFragment(Pi(C.fragment,M),M);return S.classes.push("cd-vert-arrow"),S},mathmlBuilder(C,M){return new Dt.MathNode("mrow",[wn(C.fragment,M)])}}),Ht({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(C,M){let{parser:S}=C;const B=oi(M[0],"ordgroup").body;let V="";for(let ve=0;ve<B.length;ve++){const Ie=oi(B[ve],"textord");V+=Ie.text}let K=parseInt(V),se;if(isNaN(K))throw new a("\\@char has non-numeric argument "+V);if(K<0||K>=1114111)throw new a("\\@char with invalid code point "+V);return K<=65535?se=String.fromCharCode(K):(K-=65536,se=String.fromCharCode((K>>10)+55296,(K&1023)+56320)),{type:"textord",mode:S.mode,text:se}}});const UG=(C,M)=>{const S=Xa(C.body,M.withColor(C.color),!1);return Je.makeFragment(S)},VG=(C,M)=>{const S=To(C.body,M.withColor(C.color)),I=new Dt.MathNode("mstyle",S);return I.setAttribute("mathcolor",C.color),I};Ht({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(C,M){let{parser:S}=C;const I=oi(M[0],"color-token").color,B=M[1];return{type:"color",mode:S.mode,color:I,body:Na(B)}},htmlBuilder:UG,mathmlBuilder:VG}),Ht({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(C,M){let{parser:S,breakOnTokenText:I}=C;const B=oi(M[0],"color-token").color;S.gullet.macros.set("\\current@color",B);const V=S.parseExpression(!0,I);return{type:"color",mode:S.mode,color:B,body:V}},htmlBuilder:UG,mathmlBuilder:VG}),Ht({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(C,M,S){let{parser:I}=C;const B=I.gullet.future().text==="["?I.parseSizeGroup(!0):null,V=!I.settings.displayMode||!I.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:I.mode,newLine:V,size:B&&oi(B,"size").value}},htmlBuilder(C,M){const S=Je.makeSpan(["mspace"],[],M);return C.newLine&&(S.classes.push("newline"),C.size&&(S.style.marginTop=We(Pe(C.size,M)))),S},mathmlBuilder(C,M){const S=new Dt.MathNode("mspace");return C.newLine&&(S.setAttribute("linebreak","newline"),C.size&&S.setAttribute("height",We(Pe(C.size,M)))),S}});const bk={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},GG=C=>{const M=C.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(M))throw new a("Expected a control sequence",C);return M},e$e=C=>{let M=C.gullet.popToken();return M.text==="="&&(M=C.gullet.popToken(),M.text===" "&&(M=C.gullet.popToken())),M},ZG=(C,M,S,I)=>{let B=C.gullet.macros.get(S.text);B==null&&(S.noexpand=!0,B={tokens:[S],numArgs:0,unexpandable:!C.gullet.isExpandable(S.text)}),C.gullet.macros.set(M,B,I)};Ht({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(C){let{parser:M,funcName:S}=C;M.consumeSpaces();const I=M.fetch();if(bk[I.text])return(S==="\\global"||S==="\\\\globallong")&&(I.text=bk[I.text]),oi(M.parseFunction(),"internal");throw new a("Invalid token after macro prefix",I)}}),Ht({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(C){let{parser:M,funcName:S}=C,I=M.gullet.popToken();const B=I.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(B))throw new a("Expected a control sequence",I);let V=0,K;const se=[[]];for(;M.gullet.future().text!=="{";)if(I=M.gullet.popToken(),I.text==="#"){if(M.gullet.future().text==="{"){K=M.gullet.future(),se[V].push("{");break}if(I=M.gullet.popToken(),!/^[1-9]$/.test(I.text))throw new a('Invalid argument number "'+I.text+'"');if(parseInt(I.text)!==V+1)throw new a('Argument number "'+I.text+'" out of order');V++,se.push([])}else{if(I.text==="EOF")throw new a("Expected a macro definition");se[V].push(I.text)}let{tokens:ve}=M.gullet.consumeArg();return K&&ve.unshift(K),(S==="\\edef"||S==="\\xdef")&&(ve=M.gullet.expandTokens(ve),ve.reverse()),M.gullet.macros.set(B,{tokens:ve,numArgs:V,delimiters:se},S===bk[S]),{type:"internal",mode:M.mode}}}),Ht({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(C){let{parser:M,funcName:S}=C;const I=GG(M.gullet.popToken());M.gullet.consumeSpaces();const B=e$e(M);return ZG(M,I,B,S==="\\\\globallet"),{type:"internal",mode:M.mode}}}),Ht({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(C){let{parser:M,funcName:S}=C;const I=GG(M.gullet.popToken()),B=M.gullet.popToken(),V=M.gullet.popToken();return ZG(M,I,V,S==="\\\\globalfuture"),M.gullet.pushToken(V),M.gullet.pushToken(B),{type:"internal",mode:M.mode}}});const rg=function(C,M,S){const I=Mr.math[C]&&Mr.math[C].replace,B=me(I||C,M,S);if(!B)throw new Error("Unsupported symbol "+C+" and font size "+M+".");return B},xk=function(C,M,S,I){const B=S.havingBaseStyle(M),V=Je.makeSpan(I.concat(B.sizingClasses(S)),[C],S),K=B.sizeMultiplier/S.sizeMultiplier;return V.height*=K,V.depth*=K,V.maxFontSize=B.sizeMultiplier,V},HG=function(C,M,S){const I=M.havingBaseStyle(S),B=(1-M.sizeMultiplier/I.sizeMultiplier)*M.fontMetrics().axisHeight;C.classes.push("delimcenter"),C.style.top=We(B),C.height-=B,C.depth+=B},t$e=function(C,M,S,I,B,V){const K=Je.makeSymbol(C,"Main-Regular",B,I),se=xk(K,M,I,V);return S&&HG(se,I,M),se},r$e=function(C,M,S,I){return Je.makeSymbol(C,"Size"+M+"-Regular",S,I)},WG=function(C,M,S,I,B,V){const K=r$e(C,M,B,I),se=xk(Je.makeSpan(["delimsizing","size"+M],[K],I),ie.TEXT,I,V);return S&&HG(se,I,ie.TEXT),se},wk=function(C,M,S){let I;return M==="Size1-Regular"?I="delim-size1":I="delim-size4",{type:"elem",elem:Je.makeSpan(["delimsizinginner",I],[Je.makeSpan([],[Je.makeSymbol(C,M,S)])])}},Mk=function(C,M,S){const I=rt["Size4-Regular"][C.charCodeAt(0)]?rt["Size4-Regular"][C.charCodeAt(0)][4]:rt["Size1-Regular"][C.charCodeAt(0)][4],B=new An("inner",Te(C,Math.round(1e3*M))),V=new un([B],{width:We(I),height:We(M),style:"width:"+We(I),viewBox:"0 0 "+1e3*I+" "+Math.round(1e3*M),preserveAspectRatio:"xMinYMin"}),K=Je.makeSvgSpan([],[V],S);return K.height=M,K.style.height=We(M),K.style.width=We(I),{type:"elem",elem:K}},kk=.008,ab={type:"kern",size:-1*kk},i$e=["|","\\lvert","\\rvert","\\vert"],n$e=["\\|","\\lVert","\\rVert","\\Vert"],YG=function(C,M,S,I,B,V){let K,se,ve,Ie,Ve="",Ye=0;K=ve=Ie=C,se=null;let tt="Size1-Regular";C==="\\uparrow"?ve=Ie="⏐":C==="\\Uparrow"?ve=Ie="‖":C==="\\downarrow"?K=ve="⏐":C==="\\Downarrow"?K=ve="‖":C==="\\updownarrow"?(K="\\uparrow",ve="⏐",Ie="\\downarrow"):C==="\\Updownarrow"?(K="\\Uparrow",ve="‖",Ie="\\Downarrow"):i$e.includes(C)?(ve="∣",Ve="vert",Ye=333):n$e.includes(C)?(ve="∥",Ve="doublevert",Ye=556):C==="["||C==="\\lbrack"?(K="⎡",ve="⎢",Ie="⎣",tt="Size4-Regular",Ve="lbrack",Ye=667):C==="]"||C==="\\rbrack"?(K="⎤",ve="⎥",Ie="⎦",tt="Size4-Regular",Ve="rbrack",Ye=667):C==="\\lfloor"||C==="⌊"?(ve=K="⎢",Ie="⎣",tt="Size4-Regular",Ve="lfloor",Ye=667):C==="\\lceil"||C==="⌈"?(K="⎡",ve=Ie="⎢",tt="Size4-Regular",Ve="lceil",Ye=667):C==="\\rfloor"||C==="⌋"?(ve=K="⎥",Ie="⎦",tt="Size4-Regular",Ve="rfloor",Ye=667):C==="\\rceil"||C==="⌉"?(K="⎤",ve=Ie="⎥",tt="Size4-Regular",Ve="rceil",Ye=667):C==="("||C==="\\lparen"?(K="⎛",ve="⎜",Ie="⎝",tt="Size4-Regular",Ve="lparen",Ye=875):C===")"||C==="\\rparen"?(K="⎞",ve="⎟",Ie="⎠",tt="Size4-Regular",Ve="rparen",Ye=875):C==="\\{"||C==="\\lbrace"?(K="⎧",se="⎨",Ie="⎩",ve="⎪",tt="Size4-Regular"):C==="\\}"||C==="\\rbrace"?(K="⎫",se="⎬",Ie="⎭",ve="⎪",tt="Size4-Regular"):C==="\\lgroup"||C==="⟮"?(K="⎧",Ie="⎩",ve="⎪",tt="Size4-Regular"):C==="\\rgroup"||C==="⟯"?(K="⎫",Ie="⎭",ve="⎪",tt="Size4-Regular"):C==="\\lmoustache"||C==="⎰"?(K="⎧",Ie="⎭",ve="⎪",tt="Size4-Regular"):(C==="\\rmoustache"||C==="⎱")&&(K="⎫",Ie="⎩",ve="⎪",tt="Size4-Regular");const wt=rg(K,tt,B),Kt=wt.height+wt.depth,sr=rg(ve,tt,B),Ai=sr.height+sr.depth,yi=rg(Ie,tt,B),Ti=yi.height+yi.depth;let Ki=0,$n=1;if(se!==null){const ua=rg(se,tt,B);Ki=ua.height+ua.depth,$n=2}const mo=Kt+Ti+Ki,Qa=Math.max(0,Math.ceil((M-mo)/($n*Ai))),Ol=mo+Qa*$n*Ai;let bm=I.fontMetrics().axisHeight;S&&(bm*=I.sizeMultiplier);const Ri=Ol/2-bm,cn=[];if(Ve.length>0){const ua=Ol-Kt-Ti,Jn=Math.round(Ol*1e3),Fl=nt(Ve,Math.round(ua*1e3)),_$e=new An(Ve,Fl),PZ=(Ye/1e3).toFixed(3)+"em",RZ=(Jn/1e3).toFixed(3)+"em",E$e=new un([_$e],{width:PZ,height:RZ,viewBox:"0 0 "+Ye+" "+Jn}),cb=Je.makeSvgSpan([],[E$e],I);cb.height=Jn/1e3,cb.style.width=PZ,cb.style.height=RZ,cn.push({type:"elem",elem:cb})}else{if(cn.push(wk(Ie,tt,B)),cn.push(ab),se===null){const ua=Ol-Kt-Ti+2*kk;cn.push(Mk(ve,ua,I))}else{const ua=(Ol-Kt-Ti-Ki)/2+2*kk;cn.push(Mk(ve,ua,I)),cn.push(ab),cn.push(wk(se,tt,B)),cn.push(ab),cn.push(Mk(ve,ua,I))}cn.push(ab),cn.push(wk(K,tt,B))}const In=I.havingBaseStyle(ie.TEXT),Rn=Je.makeVList({positionType:"bottom",positionData:Ri,children:cn},In);return xk(Je.makeSpan(["delimsizing","mult"],[Rn],In),ie.TEXT,I,V)},Ck=80,Nk=.08,Sk=function(C,M,S,I,B){const V=ze(C,I,S),K=new An(C,V),se=new un([K],{width:"400em",height:We(M),viewBox:"0 0 400000 "+S,preserveAspectRatio:"xMinYMin slice"});return Je.makeSvgSpan(["hide-tail"],[se],B)},a$e=function(C,M){const S=M.havingBaseSizing(),I=JG("\\surd",C*S.sizeMultiplier,QG,S);let B=S.sizeMultiplier;const V=Math.max(0,M.minRuleThickness-M.fontMetrics().sqrtRuleThickness);let K,se=0,ve=0,Ie=0,Ve;return I.type==="small"?(Ie=1e3+1e3*V+Ck,C<1?B=1:C<1.4&&(B=.7),se=(1+V+Nk)/B,ve=(1+V)/B,K=Sk("sqrtMain",se,Ie,V,M),K.style.minWidth="0.853em",Ve=.833/B):I.type==="large"?(Ie=(1e3+Ck)*ig[I.size],ve=(ig[I.size]+V)/B,se=(ig[I.size]+V+Nk)/B,K=Sk("sqrtSize"+I.size,se,Ie,V,M),K.style.minWidth="1.02em",Ve=1/B):(se=C+V+Nk,ve=C+V,Ie=Math.floor(1e3*C+V)+Ck,K=Sk("sqrtTall",se,Ie,V,M),K.style.minWidth="0.742em",Ve=1.056),K.height=ve,K.style.height=We(se),{span:K,advanceWidth:Ve,ruleWidth:(M.fontMetrics().sqrtRuleThickness+V)*B}},KG=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],s$e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],XG=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ig=[0,1.2,1.8,2.4,3],o$e=function(C,M,S,I,B){if(C==="<"||C==="\\lt"||C==="⟨"?C="\\langle":(C===">"||C==="\\gt"||C==="⟩")&&(C="\\rangle"),KG.includes(C)||XG.includes(C))return WG(C,M,!1,S,I,B);if(s$e.includes(C))return YG(C,ig[M],!1,S,I,B);throw new a("Illegal delimiter: '"+C+"'")},l$e=[{type:"small",style:ie.SCRIPTSCRIPT},{type:"small",style:ie.SCRIPT},{type:"small",style:ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],u$e=[{type:"small",style:ie.SCRIPTSCRIPT},{type:"small",style:ie.SCRIPT},{type:"small",style:ie.TEXT},{type:"stack"}],QG=[{type:"small",style:ie.SCRIPTSCRIPT},{type:"small",style:ie.SCRIPT},{type:"small",style:ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],c$e=function(C){if(C.type==="small")return"Main-Regular";if(C.type==="large")return"Size"+C.size+"-Regular";if(C.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+C.type+"' here.")},JG=function(C,M,S,I){const B=Math.min(2,3-I.style.size);for(let V=B;V<S.length&&S[V].type!=="stack";V++){const K=rg(C,c$e(S[V]),"math");let se=K.height+K.depth;if(S[V].type==="small"){const ve=I.havingBaseStyle(S[V].style);se*=ve.sizeMultiplier}if(se>M)return S[V]}return S[S.length-1]},eZ=function(C,M,S,I,B,V){C==="<"||C==="\\lt"||C==="⟨"?C="\\langle":(C===">"||C==="\\gt"||C==="⟩")&&(C="\\rangle");let K;XG.includes(C)?K=l$e:KG.includes(C)?K=QG:K=u$e;const se=JG(C,M,K,I);return se.type==="small"?t$e(C,se.style,S,I,B,V):se.type==="large"?WG(C,se.size,S,I,B,V):YG(C,M,S,I,B,V)};var rc={sqrtImage:a$e,sizedDelim:o$e,sizeToMaxHeight:ig,customSizedDelim:eZ,leftRightDelim:function(C,M,S,I,B,V){const K=I.fontMetrics().axisHeight*I.sizeMultiplier,se=901,ve=5/I.fontMetrics().ptPerEm,Ie=Math.max(M-K,S+K),Ve=Math.max(Ie/500*se,2*Ie-ve);return eZ(C,Ve,!0,I,B,V)}};const tZ={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},h$e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function sb(C,M){const S=rb(C);if(S&&h$e.includes(S.text))return S;throw S?new a("Invalid delimiter '"+S.text+"' after '"+M.funcName+"'",C):new a("Invalid delimiter type '"+C.type+"'",C)}Ht({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(C,M)=>{const S=sb(M[0],C);return{type:"delimsizing",mode:C.parser.mode,size:tZ[C.funcName].size,mclass:tZ[C.funcName].mclass,delim:S.text}},htmlBuilder:(C,M)=>C.delim==="."?Je.makeSpan([C.mclass]):rc.sizedDelim(C.delim,C.size,M,C.mode,[C.mclass]),mathmlBuilder:C=>{const M=[];C.delim!=="."&&M.push(Bl(C.delim,C.mode));const S=new Dt.MathNode("mo",M);C.mclass==="mopen"||C.mclass==="mclose"?S.setAttribute("fence","true"):S.setAttribute("fence","false"),S.setAttribute("stretchy","true");const I=We(rc.sizeToMaxHeight[C.size]);return S.setAttribute("minsize",I),S.setAttribute("maxsize",I),S}});function rZ(C){if(!C.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ht({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(C,M)=>{const S=C.parser.gullet.macros.get("\\current@color");if(S&&typeof S!="string")throw new a("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:C.parser.mode,delim:sb(M[0],C).text,color:S}}}),Ht({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(C,M)=>{const S=sb(M[0],C),I=C.parser;++I.leftrightDepth;const B=I.parseExpression(!1);--I.leftrightDepth,I.expect("\\right",!1);const V=oi(I.parseFunction(),"leftright-right");return{type:"leftright",mode:I.mode,body:B,left:S.text,right:V.delim,rightColor:V.color}},htmlBuilder:(C,M)=>{rZ(C);const S=Xa(C.body,M,!0,["mopen","mclose"]);let I=0,B=0,V=!1;for(let ve=0;ve<S.length;ve++)S[ve].isMiddle?V=!0:(I=Math.max(S[ve].height,I),B=Math.max(S[ve].depth,B));I*=M.sizeMultiplier,B*=M.sizeMultiplier;let K;if(C.left==="."?K=tg(M,["mopen"]):K=rc.leftRightDelim(C.left,I,B,M,C.mode,["mopen"]),S.unshift(K),V)for(let ve=1;ve<S.length;ve++){const Ve=S[ve].isMiddle;Ve&&(S[ve]=rc.leftRightDelim(Ve.delim,I,B,Ve.options,C.mode,[]))}let se;if(C.right===".")se=tg(M,["mclose"]);else{const ve=C.rightColor?M.withColor(C.rightColor):M;se=rc.leftRightDelim(C.right,I,B,ve,C.mode,["mclose"])}return S.push(se),Je.makeSpan(["minner"],S,M)},mathmlBuilder:(C,M)=>{rZ(C);const S=To(C.body,M);if(C.left!=="."){const I=new Dt.MathNode("mo",[Bl(C.left,C.mode)]);I.setAttribute("fence","true"),S.unshift(I)}if(C.right!=="."){const I=new Dt.MathNode("mo",[Bl(C.right,C.mode)]);I.setAttribute("fence","true"),C.rightColor&&I.setAttribute("mathcolor",C.rightColor),S.push(I)}return mk(S)}}),Ht({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(C,M)=>{const S=sb(M[0],C);if(!C.parser.leftrightDepth)throw new a("\\middle without preceding \\left",S);return{type:"middle",mode:C.parser.mode,delim:S.text}},htmlBuilder:(C,M)=>{let S;if(C.delim===".")S=tg(M,[]);else{S=rc.sizedDelim(C.delim,1,M,C.mode,[]);const I={delim:C.delim,options:M};S.isMiddle=I}return S},mathmlBuilder:(C,M)=>{const S=C.delim==="\\vert"||C.delim==="|"?Bl("|","text"):Bl(C.delim,C.mode),I=new Dt.MathNode("mo",[S]);return I.setAttribute("fence","true"),I.setAttribute("lspace","0.05em"),I.setAttribute("rspace","0.05em"),I}});const Dk=(C,M)=>{const S=Je.wrapFragment(Pi(C.body,M),M),I=C.label.slice(1);let B=M.sizeMultiplier,V,K=0;const se=v.isCharacterBox(C.body);if(I==="sout")V=Je.makeSpan(["stretchy","sout"]),V.height=M.fontMetrics().defaultRuleThickness/B,K=-.5*M.fontMetrics().xHeight;else if(I==="phase"){const Ie=Pe({number:.6,unit:"pt"},M),Ve=Pe({number:.35,unit:"ex"},M),Ye=M.havingBaseSizing();B=B/Ye.sizeMultiplier;const tt=S.height+S.depth+Ie+Ve;S.style.paddingLeft=We(tt/2+Ie);const wt=Math.floor(1e3*tt*B),Kt=$e(wt),sr=new un([new An("phase",Kt)],{width:"400em",height:We(wt/1e3),viewBox:"0 0 400000 "+wt,preserveAspectRatio:"xMinYMin slice"});V=Je.makeSvgSpan(["hide-tail"],[sr],M),V.style.height=We(tt),K=S.depth+Ie+Ve}else{/cancel/.test(I)?se||S.classes.push("cancel-pad"):I==="angl"?S.classes.push("anglpad"):S.classes.push("boxpad");let Ie=0,Ve=0,Ye=0;/box/.test(I)?(Ye=Math.max(M.fontMetrics().fboxrule,M.minRuleThickness),Ie=M.fontMetrics().fboxsep+(I==="colorbox"?0:Ye),Ve=Ie):I==="angl"?(Ye=Math.max(M.fontMetrics().defaultRuleThickness,M.minRuleThickness),Ie=4*Ye,Ve=Math.max(0,.25-S.depth)):(Ie=se?.2:0,Ve=Ie),V=tc.encloseSpan(S,I,Ie,Ve,M),/fbox|boxed|fcolorbox/.test(I)?(V.style.borderStyle="solid",V.style.borderWidth=We(Ye)):I==="angl"&&Ye!==.049&&(V.style.borderTopWidth=We(Ye),V.style.borderRightWidth=We(Ye)),K=S.depth+Ve,C.backgroundColor&&(V.style.backgroundColor=C.backgroundColor,C.borderColor&&(V.style.borderColor=C.borderColor))}let ve;if(C.backgroundColor)ve=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:V,shift:K},{type:"elem",elem:S,shift:0}]},M);else{const Ie=/cancel|phase/.test(I)?["svg-align"]:[];ve=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:S,shift:0},{type:"elem",elem:V,shift:K,wrapperClasses:Ie}]},M)}return/cancel/.test(I)&&(ve.height=S.height,ve.depth=S.depth),/cancel/.test(I)&&!se?Je.makeSpan(["mord","cancel-lap"],[ve],M):Je.makeSpan(["mord"],[ve],M)},Ak=(C,M)=>{let S=0;const I=new Dt.MathNode(C.label.indexOf("colorbox")>-1?"mpadded":"menclose",[wn(C.body,M)]);switch(C.label){case"\\cancel":I.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":I.setAttribute("notation","downdiagonalstrike");break;case"\\phase":I.setAttribute("notation","phasorangle");break;case"\\sout":I.setAttribute("notation","horizontalstrike");break;case"\\fbox":I.setAttribute("notation","box");break;case"\\angl":I.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(S=M.fontMetrics().fboxsep*M.fontMetrics().ptPerEm,I.setAttribute("width","+"+2*S+"pt"),I.setAttribute("height","+"+2*S+"pt"),I.setAttribute("lspace",S+"pt"),I.setAttribute("voffset",S+"pt"),C.label==="\\fcolorbox"){const B=Math.max(M.fontMetrics().fboxrule,M.minRuleThickness);I.setAttribute("style","border: "+B+"em solid "+String(C.borderColor))}break;case"\\xcancel":I.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return C.backgroundColor&&I.setAttribute("mathbackground",C.backgroundColor),I};Ht({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(C,M,S){let{parser:I,funcName:B}=C;const V=oi(M[0],"color-token").color,K=M[1];return{type:"enclose",mode:I.mode,label:B,backgroundColor:V,body:K}},htmlBuilder:Dk,mathmlBuilder:Ak}),Ht({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(C,M,S){let{parser:I,funcName:B}=C;const V=oi(M[0],"color-token").color,K=oi(M[1],"color-token").color,se=M[2];return{type:"enclose",mode:I.mode,label:B,backgroundColor:K,borderColor:V,body:se}},htmlBuilder:Dk,mathmlBuilder:Ak}),Ht({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(C,M){let{parser:S}=C;return{type:"enclose",mode:S.mode,label:"\\fbox",body:M[0]}}}),Ht({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(C,M){let{parser:S,funcName:I}=C;const B=M[0];return{type:"enclose",mode:S.mode,label:I,body:B}},htmlBuilder:Dk,mathmlBuilder:Ak}),Ht({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(C,M){let{parser:S}=C;return{type:"enclose",mode:S.mode,label:"\\angl",body:M[0]}}});const iZ={};function iu(C){let{type:M,names:S,props:I,handler:B,htmlBuilder:V,mathmlBuilder:K}=C;const se={type:M,numArgs:I.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:B};for(let ve=0;ve<S.length;++ve)iZ[S[ve]]=se;V&&(Qy[M]=V),K&&(Jy[M]=K)}const nZ={};function pe(C,M){nZ[C]=M}class Lo{constructor(M,S,I){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=M,this.start=S,this.end=I}static range(M,S){return S?!M||!M.loc||!S.loc||M.loc.lexer!==S.loc.lexer?null:new Lo(M.loc.lexer,M.loc.start,S.loc.end):M&&M.loc}}class rl{constructor(M,S){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=M,this.loc=S}range(M,S){return new rl(S,Lo.range(this,M))}}function aZ(C){const M=[];C.consumeSpaces();let S=C.fetch().text;for(S==="\\relax"&&(C.consume(),C.consumeSpaces(),S=C.fetch().text);S==="\\hline"||S==="\\hdashline";)C.consume(),M.push(S==="\\hdashline"),C.consumeSpaces(),S=C.fetch().text;return M}const ob=C=>{if(!C.parser.settings.displayMode)throw new a("{"+C.envName+"} can be used only in display mode.")};function $k(C){if(C.indexOf("ed")===-1)return C.indexOf("*")===-1}function Dh(C,M,S){let{hskipBeforeAndAfter:I,addJot:B,cols:V,arraystretch:K,colSeparationType:se,autoTag:ve,singleRow:Ie,emptySingleRow:Ve,maxNumCols:Ye,leqno:tt}=M;if(C.gullet.beginGroup(),Ie||C.gullet.macros.set("\\cr","\\\\\\relax"),!K){const $n=C.gullet.expandMacroAsText("\\arraystretch");if($n==null)K=1;else if(K=parseFloat($n),!K||K<0)throw new a("Invalid \\arraystretch: "+$n)}C.gullet.beginGroup();let wt=[];const Kt=[wt],sr=[],Ai=[],yi=ve!=null?[]:void 0;function Ti(){ve&&C.gullet.macros.set("\\@eqnsw","1",!0)}function Ki(){yi&&(C.gullet.macros.get("\\df@tag")?(yi.push(C.subparse([new rl("\\df@tag")])),C.gullet.macros.set("\\df@tag",void 0,!0)):yi.push(!!ve&&C.gullet.macros.get("\\@eqnsw")==="1"))}for(Ti(),Ai.push(aZ(C));;){let $n=C.parseExpression(!1,Ie?"\\end":"\\\\");C.gullet.endGroup(),C.gullet.beginGroup(),$n={type:"ordgroup",mode:C.mode,body:$n},S&&($n={type:"styling",mode:C.mode,style:S,body:[$n]}),wt.push($n);const mo=C.fetch().text;if(mo==="&"){if(Ye&&wt.length===Ye){if(Ie||se)throw new a("Too many tab characters: &",C.nextToken);C.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}C.consume()}else if(mo==="\\end"){Ki(),wt.length===1&&$n.type==="styling"&&$n.body[0].body.length===0&&(Kt.length>1||!Ve)&&Kt.pop(),Ai.length<Kt.length+1&&Ai.push([]);break}else if(mo==="\\\\"){C.consume();let Qa;C.gullet.future().text!==" "&&(Qa=C.parseSizeGroup(!0)),sr.push(Qa?Qa.value:null),Ki(),Ai.push(aZ(C)),wt=[],Kt.push(wt),Ti()}else throw new a("Expected & or \\\\ or \\cr or \\end",C.nextToken)}return C.gullet.endGroup(),C.gullet.endGroup(),{type:"array",mode:C.mode,addJot:B,arraystretch:K,body:Kt,cols:V,rowGaps:sr,hskipBeforeAndAfter:I,hLinesBeforeRow:Ai,colSeparationType:se,tags:yi,leqno:tt}}function _k(C){return C.slice(0,1)==="d"?"display":"text"}const nu=function(C,M){let S,I;const B=C.body.length,V=C.hLinesBeforeRow;let K=0,se=new Array(B);const ve=[],Ie=Math.max(M.fontMetrics().arrayRuleWidth,M.minRuleThickness),Ve=1/M.fontMetrics().ptPerEm;let Ye=5*Ve;C.colSeparationType&&C.colSeparationType==="small"&&(Ye=.2778*(M.havingStyle(ie.SCRIPT).sizeMultiplier/M.sizeMultiplier));const tt=C.colSeparationType==="CD"?Pe({number:3,unit:"ex"},M):12*Ve,wt=3*Ve,Kt=C.arraystretch*tt,sr=.7*Kt,Ai=.3*Kt;let yi=0;function Ti(Ri){for(let cn=0;cn<Ri.length;++cn)cn>0&&(yi+=.25),ve.push({pos:yi,isDashed:Ri[cn]})}for(Ti(V[0]),S=0;S<C.body.length;++S){const Ri=C.body[S];let cn=sr,In=Ai;K<Ri.length&&(K=Ri.length);const Rn=new Array(Ri.length);for(I=0;I<Ri.length;++I){const Fl=Pi(Ri[I],M);In<Fl.depth&&(In=Fl.depth),cn<Fl.height&&(cn=Fl.height),Rn[I]=Fl}const ua=C.rowGaps[S];let Jn=0;ua&&(Jn=Pe(ua,M),Jn>0&&(Jn+=Ai,In<Jn&&(In=Jn),Jn=0)),C.addJot&&(In+=wt),Rn.height=cn,Rn.depth=In,yi+=cn,Rn.pos=yi,yi+=In+Jn,se[S]=Rn,Ti(V[S+1])}const Ki=yi/2+M.fontMetrics().axisHeight,$n=C.cols||[],mo=[];let Qa,Ol;const bm=[];if(C.tags&&C.tags.some(Ri=>Ri))for(S=0;S<B;++S){const Ri=se[S],cn=Ri.pos-Ki,In=C.tags[S];let Rn;In===!0?Rn=Je.makeSpan(["eqn-num"],[],M):In===!1?Rn=Je.makeSpan([],[],M):Rn=Je.makeSpan([],Xa(In,M,!0),M),Rn.depth=Ri.depth,Rn.height=Ri.height,bm.push({type:"elem",elem:Rn,shift:cn})}for(I=0,Ol=0;I<K||Ol<$n.length;++I,++Ol){let Ri=$n[Ol]||{},cn=!0;for(;Ri.type==="separator";){if(cn||(Qa=Je.makeSpan(["arraycolsep"],[]),Qa.style.width=We(M.fontMetrics().doubleRuleSep),mo.push(Qa)),Ri.separator==="|"||Ri.separator===":"){const ua=Ri.separator==="|"?"solid":"dashed",Jn=Je.makeSpan(["vertical-separator"],[],M);Jn.style.height=We(yi),Jn.style.borderRightWidth=We(Ie),Jn.style.borderRightStyle=ua,Jn.style.margin="0 "+We(-Ie/2);const Fl=yi-Ki;Fl&&(Jn.style.verticalAlign=We(-Fl)),mo.push(Jn)}else throw new a("Invalid separator type: "+Ri.separator);Ol++,Ri=$n[Ol]||{},cn=!1}if(I>=K)continue;let In;(I>0||C.hskipBeforeAndAfter)&&(In=v.deflt(Ri.pregap,Ye),In!==0&&(Qa=Je.makeSpan(["arraycolsep"],[]),Qa.style.width=We(In),mo.push(Qa)));let Rn=[];for(S=0;S<B;++S){const ua=se[S],Jn=ua[I];if(!Jn)continue;const Fl=ua.pos-Ki;Jn.depth=ua.depth,Jn.height=ua.height,Rn.push({type:"elem",elem:Jn,shift:Fl})}Rn=Je.makeVList({positionType:"individualShift",children:Rn},M),Rn=Je.makeSpan(["col-align-"+(Ri.align||"c")],[Rn]),mo.push(Rn),(I<K-1||C.hskipBeforeAndAfter)&&(In=v.deflt(Ri.postgap,Ye),In!==0&&(Qa=Je.makeSpan(["arraycolsep"],[]),Qa.style.width=We(In),mo.push(Qa)))}if(se=Je.makeSpan(["mtable"],mo),ve.length>0){const Ri=Je.makeLineSpan("hline",M,Ie),cn=Je.makeLineSpan("hdashline",M,Ie),In=[{type:"elem",elem:se,shift:0}];for(;ve.length>0;){const Rn=ve.pop(),ua=Rn.pos-Ki;Rn.isDashed?In.push({type:"elem",elem:cn,shift:ua}):In.push({type:"elem",elem:Ri,shift:ua})}se=Je.makeVList({positionType:"individualShift",children:In},M)}if(bm.length===0)return Je.makeSpan(["mord"],[se],M);{let Ri=Je.makeVList({positionType:"individualShift",children:bm},M);return Ri=Je.makeSpan(["tag"],[Ri],M),Je.makeFragment([se,Ri])}},p$e={c:"center ",l:"left ",r:"right "},au=function(C,M){const S=[],I=new Dt.MathNode("mtd",[],["mtr-glue"]),B=new Dt.MathNode("mtd",[],["mml-eqn-num"]);for(let Ye=0;Ye<C.body.length;Ye++){const tt=C.body[Ye],wt=[];for(let Kt=0;Kt<tt.length;Kt++)wt.push(new Dt.MathNode("mtd",[wn(tt[Kt],M)]));C.tags&&C.tags[Ye]&&(wt.unshift(I),wt.push(I),C.leqno?wt.unshift(B):wt.push(B)),S.push(new Dt.MathNode("mtr",wt))}let V=new Dt.MathNode("mtable",S);const K=C.arraystretch===.5?.1:.16+C.arraystretch-1+(C.addJot?.09:0);V.setAttribute("rowspacing",We(K));let se="",ve="";if(C.cols&&C.cols.length>0){const Ye=C.cols;let tt="",wt=!1,Kt=0,sr=Ye.length;Ye[0].type==="separator"&&(se+="top ",Kt=1),Ye[Ye.length-1].type==="separator"&&(se+="bottom ",sr-=1);for(let Ai=Kt;Ai<sr;Ai++)Ye[Ai].type==="align"?(ve+=p$e[Ye[Ai].align],wt&&(tt+="none "),wt=!0):Ye[Ai].type==="separator"&&wt&&(tt+=Ye[Ai].separator==="|"?"solid ":"dashed ",wt=!1);V.setAttribute("columnalign",ve.trim()),/[sd]/.test(tt)&&V.setAttribute("columnlines",tt.trim())}if(C.colSeparationType==="align"){const Ye=C.cols||[];let tt="";for(let wt=1;wt<Ye.length;wt++)tt+=wt%2?"0em ":"1em ";V.setAttribute("columnspacing",tt.trim())}else C.colSeparationType==="alignat"||C.colSeparationType==="gather"?V.setAttribute("columnspacing","0em"):C.colSeparationType==="small"?V.setAttribute("columnspacing","0.2778em"):C.colSeparationType==="CD"?V.setAttribute("columnspacing","0.5em"):V.setAttribute("columnspacing","1em");let Ie="";const Ve=C.hLinesBeforeRow;se+=Ve[0].length>0?"left ":"",se+=Ve[Ve.length-1].length>0?"right ":"";for(let Ye=1;Ye<Ve.length-1;Ye++)Ie+=Ve[Ye].length===0?"none ":Ve[Ye][0]?"dashed ":"solid ";return/[sd]/.test(Ie)&&V.setAttribute("rowlines",Ie.trim()),se!==""&&(V=new Dt.MathNode("menclose",[V]),V.setAttribute("notation",se.trim())),C.arraystretch&&C.arraystretch<1&&(V=new Dt.MathNode("mstyle",[V]),V.setAttribute("scriptlevel","1")),V},sZ=function(C,M){C.envName.indexOf("ed")===-1&&ob(C);const S=[],I=C.envName.indexOf("at")>-1?"alignat":"align",B=C.envName==="split",V=Dh(C.parser,{cols:S,addJot:!0,autoTag:B?void 0:$k(C.envName),emptySingleRow:!0,colSeparationType:I,maxNumCols:B?2:void 0,leqno:C.parser.settings.leqno},"display");let K,se=0;const ve={type:"ordgroup",mode:C.mode,body:[]};if(M[0]&&M[0].type==="ordgroup"){let Ve="";for(let Ye=0;Ye<M[0].body.length;Ye++){const tt=oi(M[0].body[Ye],"textord");Ve+=tt.text}K=Number(Ve),se=K*2}const Ie=!se;V.body.forEach(function(Ve){for(let Ye=1;Ye<Ve.length;Ye+=2){const tt=oi(Ve[Ye],"styling");oi(tt.body[0],"ordgroup").body.unshift(ve)}if(Ie)se<Ve.length&&(se=Ve.length);else{const Ye=Ve.length/2;if(K<Ye)throw new a("Too many math in a row: "+("expected "+K+", but got "+Ye),Ve[0])}});for(let Ve=0;Ve<se;++Ve){let Ye="r",tt=0;Ve%2===1?Ye="l":Ve>0&&Ie&&(tt=1),S[Ve]={type:"align",align:Ye,pregap:tt,postgap:0}}return V.colSeparationType=Ie?"align":"alignat",V};iu({type:"array",names:["array","darray"],props:{numArgs:1},handler(C,M){const B=(rb(M[0])?[M[0]]:oi(M[0],"ordgroup").body).map(function(K){const ve=vk(K).text;if("lcr".indexOf(ve)!==-1)return{type:"align",align:ve};if(ve==="|")return{type:"separator",separator:"|"};if(ve===":")return{type:"separator",separator:":"};throw new a("Unknown column alignment: "+ve,K)}),V={cols:B,hskipBeforeAndAfter:!0,maxNumCols:B.length};return Dh(C.parser,V,_k(C.envName))},htmlBuilder:nu,mathmlBuilder:au}),iu({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(C){const M={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[C.envName.replace("*","")];let S="c";const I={hskipBeforeAndAfter:!1,cols:[{type:"align",align:S}]};if(C.envName.charAt(C.envName.length-1)==="*"){const K=C.parser;if(K.consumeSpaces(),K.fetch().text==="["){if(K.consume(),K.consumeSpaces(),S=K.fetch().text,"lcr".indexOf(S)===-1)throw new a("Expected l or c or r",K.nextToken);K.consume(),K.consumeSpaces(),K.expect("]"),K.consume(),I.cols=[{type:"align",align:S}]}}const B=Dh(C.parser,I,_k(C.envName)),V=Math.max(0,...B.body.map(K=>K.length));return B.cols=new Array(V).fill({type:"align",align:S}),M?{type:"leftright",mode:C.mode,body:[B],left:M[0],right:M[1],rightColor:void 0}:B},htmlBuilder:nu,mathmlBuilder:au}),iu({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(C){const M={arraystretch:.5},S=Dh(C.parser,M,"script");return S.colSeparationType="small",S},htmlBuilder:nu,mathmlBuilder:au}),iu({type:"array",names:["subarray"],props:{numArgs:1},handler(C,M){const B=(rb(M[0])?[M[0]]:oi(M[0],"ordgroup").body).map(function(K){const ve=vk(K).text;if("lc".indexOf(ve)!==-1)return{type:"align",align:ve};throw new a("Unknown column alignment: "+ve,K)});if(B.length>1)throw new a("{subarray} can contain only one column");let V={cols:B,hskipBeforeAndAfter:!1,arraystretch:.5};if(V=Dh(C.parser,V,"script"),V.body.length>0&&V.body[0].length>1)throw new a("{subarray} can contain only one column");return V},htmlBuilder:nu,mathmlBuilder:au}),iu({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(C){const M={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},S=Dh(C.parser,M,_k(C.envName));return{type:"leftright",mode:C.mode,body:[S],left:C.envName.indexOf("r")>-1?".":"\\{",right:C.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:nu,mathmlBuilder:au}),iu({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:sZ,htmlBuilder:nu,mathmlBuilder:au}),iu({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(C){["gather","gather*"].includes(C.envName)&&ob(C);const M={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:$k(C.envName),emptySingleRow:!0,leqno:C.parser.settings.leqno};return Dh(C.parser,M,"display")},htmlBuilder:nu,mathmlBuilder:au}),iu({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:sZ,htmlBuilder:nu,mathmlBuilder:au}),iu({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(C){ob(C);const M={autoTag:$k(C.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:C.parser.settings.leqno};return Dh(C.parser,M,"display")},htmlBuilder:nu,mathmlBuilder:au}),iu({type:"array",names:["CD"],props:{numArgs:0},handler(C){return ob(C),JAe(C.parser)},htmlBuilder:nu,mathmlBuilder:au}),pe("\\nonumber","\\gdef\\@eqnsw{0}"),pe("\\notag","\\nonumber"),Ht({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(C,M){throw new a(C.funcName+" valid only within array environment")}});var oZ=iZ;Ht({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(C,M){let{parser:S,funcName:I}=C;const B=M[0];if(B.type!=="ordgroup")throw new a("Invalid environment name",B);let V="";for(let K=0;K<B.body.length;++K)V+=oi(B.body[K],"textord").text;if(I==="\\begin"){if(!oZ.hasOwnProperty(V))throw new a("No such environment: "+V,B);const K=oZ[V],{args:se,optArgs:ve}=S.parseArguments("\\begin{"+V+"}",K),Ie={mode:S.mode,envName:V,parser:S},Ve=K.handler(Ie,se,ve);S.expect("\\end",!1);const Ye=S.nextToken,tt=oi(S.parseFunction(),"environment");if(tt.name!==V)throw new a("Mismatch: \\begin{"+V+"} matched by \\end{"+tt.name+"}",Ye);return Ve}return{type:"environment",mode:S.mode,name:V,nameGroup:B}}});const lZ=(C,M)=>{const S=C.font,I=M.withFont(S);return Pi(C.body,I)},uZ=(C,M)=>{const S=C.font,I=M.withFont(S);return wn(C.body,I)},cZ={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ht({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(C,M)=>{let{parser:S,funcName:I}=C;const B=eb(M[0]);let V=I;return V in cZ&&(V=cZ[V]),{type:"font",mode:S.mode,font:V.slice(1),body:B}},htmlBuilder:lZ,mathmlBuilder:uZ}),Ht({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(C,M)=>{let{parser:S}=C;const I=M[0],B=v.isCharacterBox(I);return{type:"mclass",mode:S.mode,mclass:nb(I),body:[{type:"font",mode:S.mode,font:"boldsymbol",body:I}],isCharacterBox:B}}}),Ht({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(C,M)=>{let{parser:S,funcName:I,breakOnTokenText:B}=C;const{mode:V}=S,K=S.parseExpression(!0,B),se="math"+I.slice(1);return{type:"font",mode:V,font:se,body:{type:"ordgroup",mode:S.mode,body:K}}},htmlBuilder:lZ,mathmlBuilder:uZ});const hZ=(C,M)=>{let S=M;return C==="display"?S=S.id>=ie.SCRIPT.id?S.text():ie.DISPLAY:C==="text"&&S.size===ie.DISPLAY.size?S=ie.TEXT:C==="script"?S=ie.SCRIPT:C==="scriptscript"&&(S=ie.SCRIPTSCRIPT),S},Ek=(C,M)=>{const S=hZ(C.size,M.style),I=S.fracNum(),B=S.fracDen();let V;V=M.havingStyle(I);const K=Pi(C.numer,V,M);if(C.continued){const Ti=8.5/M.fontMetrics().ptPerEm,Ki=3.5/M.fontMetrics().ptPerEm;K.height=K.height<Ti?Ti:K.height,K.depth=K.depth<Ki?Ki:K.depth}V=M.havingStyle(B);const se=Pi(C.denom,V,M);let ve,Ie,Ve;C.hasBarLine?(C.barSize?(Ie=Pe(C.barSize,M),ve=Je.makeLineSpan("frac-line",M,Ie)):ve=Je.makeLineSpan("frac-line",M),Ie=ve.height,Ve=ve.height):(ve=null,Ie=0,Ve=M.fontMetrics().defaultRuleThickness);let Ye,tt,wt;S.size===ie.DISPLAY.size||C.size==="display"?(Ye=M.fontMetrics().num1,Ie>0?tt=3*Ve:tt=7*Ve,wt=M.fontMetrics().denom1):(Ie>0?(Ye=M.fontMetrics().num2,tt=Ve):(Ye=M.fontMetrics().num3,tt=3*Ve),wt=M.fontMetrics().denom2);let Kt;if(ve){const Ti=M.fontMetrics().axisHeight;Ye-K.depth-(Ti+.5*Ie)<tt&&(Ye+=tt-(Ye-K.depth-(Ti+.5*Ie))),Ti-.5*Ie-(se.height-wt)<tt&&(wt+=tt-(Ti-.5*Ie-(se.height-wt)));const Ki=-(Ti-.5*Ie);Kt=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:se,shift:wt},{type:"elem",elem:ve,shift:Ki},{type:"elem",elem:K,shift:-Ye}]},M)}else{const Ti=Ye-K.depth-(se.height-wt);Ti<tt&&(Ye+=.5*(tt-Ti),wt+=.5*(tt-Ti)),Kt=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:se,shift:wt},{type:"elem",elem:K,shift:-Ye}]},M)}V=M.havingStyle(S),Kt.height*=V.sizeMultiplier/M.sizeMultiplier,Kt.depth*=V.sizeMultiplier/M.sizeMultiplier;let sr;S.size===ie.DISPLAY.size?sr=M.fontMetrics().delim1:S.size===ie.SCRIPTSCRIPT.size?sr=M.havingStyle(ie.SCRIPT).fontMetrics().delim2:sr=M.fontMetrics().delim2;let Ai,yi;return C.leftDelim==null?Ai=tg(M,["mopen"]):Ai=rc.customSizedDelim(C.leftDelim,sr,!0,M.havingStyle(S),C.mode,["mopen"]),C.continued?yi=Je.makeSpan([]):C.rightDelim==null?yi=tg(M,["mclose"]):yi=rc.customSizedDelim(C.rightDelim,sr,!0,M.havingStyle(S),C.mode,["mclose"]),Je.makeSpan(["mord"].concat(V.sizingClasses(M)),[Ai,Je.makeSpan(["mfrac"],[Kt]),yi],M)},Ik=(C,M)=>{let S=new Dt.MathNode("mfrac",[wn(C.numer,M),wn(C.denom,M)]);if(!C.hasBarLine)S.setAttribute("linethickness","0px");else if(C.barSize){const B=Pe(C.barSize,M);S.setAttribute("linethickness",We(B))}const I=hZ(C.size,M.style);if(I.size!==M.style.size){S=new Dt.MathNode("mstyle",[S]);const B=I.size===ie.DISPLAY.size?"true":"false";S.setAttribute("displaystyle",B),S.setAttribute("scriptlevel","0")}if(C.leftDelim!=null||C.rightDelim!=null){const B=[];if(C.leftDelim!=null){const V=new Dt.MathNode("mo",[new Dt.TextNode(C.leftDelim.replace("\\",""))]);V.setAttribute("fence","true"),B.push(V)}if(B.push(S),C.rightDelim!=null){const V=new Dt.MathNode("mo",[new Dt.TextNode(C.rightDelim.replace("\\",""))]);V.setAttribute("fence","true"),B.push(V)}return mk(B)}return S};Ht({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(C,M)=>{let{parser:S,funcName:I}=C;const B=M[0],V=M[1];let K,se=null,ve=null,Ie="auto";switch(I){case"\\dfrac":case"\\frac":case"\\tfrac":K=!0;break;case"\\\\atopfrac":K=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":K=!1,se="(",ve=")";break;case"\\\\bracefrac":K=!1,se="\\{",ve="\\}";break;case"\\\\brackfrac":K=!1,se="[",ve="]";break;default:throw new Error("Unrecognized genfrac command")}switch(I){case"\\dfrac":case"\\dbinom":Ie="display";break;case"\\tfrac":case"\\tbinom":Ie="text";break}return{type:"genfrac",mode:S.mode,continued:!1,numer:B,denom:V,hasBarLine:K,leftDelim:se,rightDelim:ve,size:Ie,barSize:null}},htmlBuilder:Ek,mathmlBuilder:Ik}),Ht({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(C,M)=>{let{parser:S,funcName:I}=C;const B=M[0],V=M[1];return{type:"genfrac",mode:S.mode,continued:!0,numer:B,denom:V,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Ht({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(C){let{parser:M,funcName:S,token:I}=C,B;switch(S){case"\\over":B="\\frac";break;case"\\choose":B="\\binom";break;case"\\atop":B="\\\\atopfrac";break;case"\\brace":B="\\\\bracefrac";break;case"\\brack":B="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:M.mode,replaceWith:B,token:I}}});const pZ=["display","text","script","scriptscript"],dZ=function(C){let M=null;return C.length>0&&(M=C,M=M==="."?null:M),M};Ht({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(C,M){let{parser:S}=C;const I=M[4],B=M[5],V=eb(M[0]),K=V.type==="atom"&&V.family==="open"?dZ(V.text):null,se=eb(M[1]),ve=se.type==="atom"&&se.family==="close"?dZ(se.text):null,Ie=oi(M[2],"size");let Ve,Ye=null;Ie.isBlank?Ve=!0:(Ye=Ie.value,Ve=Ye.number>0);let tt="auto",wt=M[3];if(wt.type==="ordgroup"){if(wt.body.length>0){const Kt=oi(wt.body[0],"textord");tt=pZ[Number(Kt.text)]}}else wt=oi(wt,"textord"),tt=pZ[Number(wt.text)];return{type:"genfrac",mode:S.mode,numer:I,denom:B,continued:!1,hasBarLine:Ve,barSize:Ye,leftDelim:K,rightDelim:ve,size:tt}},htmlBuilder:Ek,mathmlBuilder:Ik}),Ht({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(C,M){let{parser:S,funcName:I,token:B}=C;return{type:"infix",mode:S.mode,replaceWith:"\\\\abovefrac",size:oi(M[0],"size").value,token:B}}}),Ht({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(C,M)=>{let{parser:S,funcName:I}=C;const B=M[0],V=m(oi(M[1],"infix").size),K=M[2],se=V.number>0;return{type:"genfrac",mode:S.mode,numer:B,denom:K,continued:!1,hasBarLine:se,barSize:V,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Ek,mathmlBuilder:Ik});const mZ=(C,M)=>{const S=M.style;let I,B;C.type==="supsub"?(I=C.sup?Pi(C.sup,M.havingStyle(S.sup()),M):Pi(C.sub,M.havingStyle(S.sub()),M),B=oi(C.base,"horizBrace")):B=oi(C,"horizBrace");const V=Pi(B.base,M.havingBaseStyle(ie.DISPLAY)),K=tc.svgSpan(B,M);let se;if(B.isOver?(se=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:V},{type:"kern",size:.1},{type:"elem",elem:K}]},M),se.children[0].children[0].children[1].classes.push("svg-align")):(se=Je.makeVList({positionType:"bottom",positionData:V.depth+.1+K.height,children:[{type:"elem",elem:K},{type:"kern",size:.1},{type:"elem",elem:V}]},M),se.children[0].children[0].children[0].classes.push("svg-align")),I){const ve=Je.makeSpan(["mord",B.isOver?"mover":"munder"],[se],M);B.isOver?se=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ve},{type:"kern",size:.2},{type:"elem",elem:I}]},M):se=Je.makeVList({positionType:"bottom",positionData:ve.depth+.2+I.height+I.depth,children:[{type:"elem",elem:I},{type:"kern",size:.2},{type:"elem",elem:ve}]},M)}return Je.makeSpan(["mord",B.isOver?"mover":"munder"],[se],M)};Ht({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(C,M){let{parser:S,funcName:I}=C;return{type:"horizBrace",mode:S.mode,label:I,isOver:/^\\over/.test(I),base:M[0]}},htmlBuilder:mZ,mathmlBuilder:(C,M)=>{const S=tc.mathMLnode(C.label);return new Dt.MathNode(C.isOver?"mover":"munder",[wn(C.base,M),S])}}),Ht({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(C,M)=>{let{parser:S}=C;const I=M[1],B=oi(M[0],"url").url;return S.settings.isTrusted({command:"\\href",url:B})?{type:"href",mode:S.mode,href:B,body:Na(I)}:S.formatUnsupportedCmd("\\href")},htmlBuilder:(C,M)=>{const S=Xa(C.body,M,!1);return Je.makeAnchor(C.href,[],S,M)},mathmlBuilder:(C,M)=>{let S=Sh(C.body,M);return S instanceof tl||(S=new tl("mrow",[S])),S.setAttribute("href",C.href),S}}),Ht({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(C,M)=>{let{parser:S}=C;const I=oi(M[0],"url").url;if(!S.settings.isTrusted({command:"\\url",url:I}))return S.formatUnsupportedCmd("\\url");const B=[];for(let K=0;K<I.length;K++){let se=I[K];se==="~"&&(se="\\textasciitilde"),B.push({type:"textord",mode:"text",text:se})}const V={type:"text",mode:S.mode,font:"\\texttt",body:B};return{type:"href",mode:S.mode,href:I,body:Na(V)}}}),Ht({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(C,M){let{parser:S}=C;return{type:"hbox",mode:S.mode,body:Na(M[0])}},htmlBuilder(C,M){const S=Xa(C.body,M,!1);return Je.makeFragment(S)},mathmlBuilder(C,M){return new Dt.MathNode("mrow",To(C.body,M))}}),Ht({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(C,M)=>{let{parser:S,funcName:I,token:B}=C;const V=oi(M[0],"raw").string,K=M[1];S.settings.strict&&S.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let se;const ve={};switch(I){case"\\htmlClass":ve.class=V,se={command:"\\htmlClass",class:V};break;case"\\htmlId":ve.id=V,se={command:"\\htmlId",id:V};break;case"\\htmlStyle":ve.style=V,se={command:"\\htmlStyle",style:V};break;case"\\htmlData":{const Ie=V.split(",");for(let Ve=0;Ve<Ie.length;Ve++){const Ye=Ie[Ve].split("=");if(Ye.length!==2)throw new a("Error parsing key-value for \\htmlData");ve["data-"+Ye[0].trim()]=Ye[1].trim()}se={command:"\\htmlData",attributes:ve};break}default:throw new Error("Unrecognized html command")}return S.settings.isTrusted(se)?{type:"html",mode:S.mode,attributes:ve,body:Na(K)}:S.formatUnsupportedCmd(I)},htmlBuilder:(C,M)=>{const S=Xa(C.body,M,!1),I=["enclosing"];C.attributes.class&&I.push(...C.attributes.class.trim().split(/\s+/));const B=Je.makeSpan(I,S,M);for(const V in C.attributes)V!=="class"&&C.attributes.hasOwnProperty(V)&&B.setAttribute(V,C.attributes[V]);return B},mathmlBuilder:(C,M)=>Sh(C.body,M)}),Ht({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(C,M)=>{let{parser:S}=C;return{type:"htmlmathml",mode:S.mode,html:Na(M[0]),mathml:Na(M[1])}},htmlBuilder:(C,M)=>{const S=Xa(C.html,M,!1);return Je.makeFragment(S)},mathmlBuilder:(C,M)=>Sh(C.mathml,M)});const Tk=function(C){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(C))return{number:+C,unit:"bp"};{const M=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(C);if(!M)throw new a("Invalid size: '"+C+"' in \\includegraphics");const S={number:+(M[1]+M[2]),unit:M[3]};if(!ft(S))throw new a("Invalid unit: '"+S.unit+"' in \\includegraphics.");return S}};Ht({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(C,M,S)=>{let{parser:I}=C,B={number:0,unit:"em"},V={number:.9,unit:"em"},K={number:0,unit:"em"},se="";if(S[0]){const Ve=oi(S[0],"raw").string.split(",");for(let Ye=0;Ye<Ve.length;Ye++){const tt=Ve[Ye].split("=");if(tt.length===2){const wt=tt[1].trim();switch(tt[0].trim()){case"alt":se=wt;break;case"width":B=Tk(wt);break;case"height":V=Tk(wt);break;case"totalheight":K=Tk(wt);break;default:throw new a("Invalid key: '"+tt[0]+"' in \\includegraphics.")}}}}const ve=oi(M[0],"url").url;return se===""&&(se=ve,se=se.replace(/^.*[\\/]/,""),se=se.substring(0,se.lastIndexOf("."))),I.settings.isTrusted({command:"\\includegraphics",url:ve})?{type:"includegraphics",mode:I.mode,alt:se,width:B,height:V,totalheight:K,src:ve}:I.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(C,M)=>{const S=Pe(C.height,M);let I=0;C.totalheight.number>0&&(I=Pe(C.totalheight,M)-S);let B=0;C.width.number>0&&(B=Pe(C.width,M));const V={height:We(S+I)};B>0&&(V.width=We(B)),I>0&&(V.verticalAlign=We(-I));const K=new ar(C.src,C.alt,V);return K.height=S,K.depth=I,K},mathmlBuilder:(C,M)=>{const S=new Dt.MathNode("mglyph",[]);S.setAttribute("alt",C.alt);const I=Pe(C.height,M);let B=0;if(C.totalheight.number>0&&(B=Pe(C.totalheight,M)-I,S.setAttribute("valign",We(-B))),S.setAttribute("height",We(I+B)),C.width.number>0){const V=Pe(C.width,M);S.setAttribute("width",We(V))}return S.setAttribute("src",C.src),S}}),Ht({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(C,M){let{parser:S,funcName:I}=C;const B=oi(M[0],"size");if(S.settings.strict){const V=I[1]==="m",K=B.value.unit==="mu";V?(K||S.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+I+" supports only mu units, "+("not "+B.value.unit+" units")),S.mode!=="math"&&S.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+I+" works only in math mode")):K&&S.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+I+" doesn't support mu units")}return{type:"kern",mode:S.mode,dimension:B.value}},htmlBuilder(C,M){return Je.makeGlue(C.dimension,M)},mathmlBuilder(C,M){const S=Pe(C.dimension,M);return new Dt.SpaceNode(S)}}),Ht({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(C,M)=>{let{parser:S,funcName:I}=C;const B=M[0];return{type:"lap",mode:S.mode,alignment:I.slice(5),body:B}},htmlBuilder:(C,M)=>{let S;C.alignment==="clap"?(S=Je.makeSpan([],[Pi(C.body,M)]),S=Je.makeSpan(["inner"],[S],M)):S=Je.makeSpan(["inner"],[Pi(C.body,M)]);const I=Je.makeSpan(["fix"],[]);let B=Je.makeSpan([C.alignment],[S,I],M);const V=Je.makeSpan(["strut"]);return V.style.height=We(B.height+B.depth),B.depth&&(V.style.verticalAlign=We(-B.depth)),B.children.unshift(V),B=Je.makeSpan(["thinbox"],[B],M),Je.makeSpan(["mord","vbox"],[B],M)},mathmlBuilder:(C,M)=>{const S=new Dt.MathNode("mpadded",[wn(C.body,M)]);if(C.alignment!=="rlap"){const I=C.alignment==="llap"?"-1":"-0.5";S.setAttribute("lspace",I+"width")}return S.setAttribute("width","0px"),S}}),Ht({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(C,M){let{funcName:S,parser:I}=C;const B=I.mode;I.switchMode("math");const V=S==="\\("?"\\)":"$",K=I.parseExpression(!1,V);return I.expect(V),I.switchMode(B),{type:"styling",mode:I.mode,style:"text",body:K}}}),Ht({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(C,M){throw new a("Mismatched "+C.funcName)}});const fZ=(C,M)=>{switch(M.style.size){case ie.DISPLAY.size:return C.display;case ie.TEXT.size:return C.text;case ie.SCRIPT.size:return C.script;case ie.SCRIPTSCRIPT.size:return C.scriptscript;default:return C.text}};Ht({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(C,M)=>{let{parser:S}=C;return{type:"mathchoice",mode:S.mode,display:Na(M[0]),text:Na(M[1]),script:Na(M[2]),scriptscript:Na(M[3])}},htmlBuilder:(C,M)=>{const S=fZ(C,M),I=Xa(S,M,!1);return Je.makeFragment(I)},mathmlBuilder:(C,M)=>{const S=fZ(C,M);return Sh(S,M)}});const gZ=(C,M,S,I,B,V,K)=>{C=Je.makeSpan([],[C]);const se=S&&v.isCharacterBox(S);let ve,Ie;if(M){const tt=Pi(M,I.havingStyle(B.sup()),I);Ie={elem:tt,kern:Math.max(I.fontMetrics().bigOpSpacing1,I.fontMetrics().bigOpSpacing3-tt.depth)}}if(S){const tt=Pi(S,I.havingStyle(B.sub()),I);ve={elem:tt,kern:Math.max(I.fontMetrics().bigOpSpacing2,I.fontMetrics().bigOpSpacing4-tt.height)}}let Ve;if(Ie&&ve){const tt=I.fontMetrics().bigOpSpacing5+ve.elem.height+ve.elem.depth+ve.kern+C.depth+K;Ve=Je.makeVList({positionType:"bottom",positionData:tt,children:[{type:"kern",size:I.fontMetrics().bigOpSpacing5},{type:"elem",elem:ve.elem,marginLeft:We(-V)},{type:"kern",size:ve.kern},{type:"elem",elem:C},{type:"kern",size:Ie.kern},{type:"elem",elem:Ie.elem,marginLeft:We(V)},{type:"kern",size:I.fontMetrics().bigOpSpacing5}]},I)}else if(ve){const tt=C.height-K;Ve=Je.makeVList({positionType:"top",positionData:tt,children:[{type:"kern",size:I.fontMetrics().bigOpSpacing5},{type:"elem",elem:ve.elem,marginLeft:We(-V)},{type:"kern",size:ve.kern},{type:"elem",elem:C}]},I)}else if(Ie){const tt=C.depth+K;Ve=Je.makeVList({positionType:"bottom",positionData:tt,children:[{type:"elem",elem:C},{type:"kern",size:Ie.kern},{type:"elem",elem:Ie.elem,marginLeft:We(V)},{type:"kern",size:I.fontMetrics().bigOpSpacing5}]},I)}else return C;const Ye=[Ve];if(ve&&V!==0&&!se){const tt=Je.makeSpan(["mspace"],[],I);tt.style.marginRight=We(V),Ye.unshift(tt)}return Je.makeSpan(["mop","op-limits"],Ye,I)},vZ=["\\smallint"],ym=(C,M)=>{let S,I,B=!1,V;C.type==="supsub"?(S=C.sup,I=C.sub,V=oi(C.base,"op"),B=!0):V=oi(C,"op");const K=M.style;let se=!1;K.size===ie.DISPLAY.size&&V.symbol&&!vZ.includes(V.name)&&(se=!0);let ve;if(V.symbol){const Ye=se?"Size2-Regular":"Size1-Regular";let tt="";if((V.name==="\\oiint"||V.name==="\\oiiint")&&(tt=V.name.slice(1),V.name=tt==="oiint"?"\\iint":"\\iiint"),ve=Je.makeSymbol(V.name,Ye,"math",M,["mop","op-symbol",se?"large-op":"small-op"]),tt.length>0){const wt=ve.italic,Kt=Je.staticSvg(tt+"Size"+(se?"2":"1"),M);ve=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ve,shift:0},{type:"elem",elem:Kt,shift:se?.08:0}]},M),V.name="\\"+tt,ve.classes.unshift("mop"),ve.italic=wt}}else if(V.body){const Ye=Xa(V.body,M,!0);Ye.length===1&&Ye[0]instanceof Ii?(ve=Ye[0],ve.classes[0]="mop"):ve=Je.makeSpan(["mop"],Ye,M)}else{const Ye=[];for(let tt=1;tt<V.name.length;tt++)Ye.push(Je.mathsym(V.name[tt],V.mode,M));ve=Je.makeSpan(["mop"],Ye,M)}let Ie=0,Ve=0;return(ve instanceof Ii||V.name==="\\oiint"||V.name==="\\oiiint")&&!V.suppressBaseShift&&(Ie=(ve.height-ve.depth)/2-M.fontMetrics().axisHeight,Ve=ve.italic),B?gZ(ve,S,I,M,K,Ve,Ie):(Ie&&(ve.style.position="relative",ve.style.top=We(Ie)),ve)},ng=(C,M)=>{let S;if(C.symbol)S=new tl("mo",[Bl(C.name,C.mode)]),vZ.includes(C.name)&&S.setAttribute("largeop","false");else if(C.body)S=new tl("mo",To(C.body,M));else{S=new tl("mi",[new ru(C.name.slice(1))]);const I=new tl("mo",[Bl("⁡","text")]);C.parentIsSupSub?S=new tl("mrow",[S,I]):S=LG([S,I])}return S},d$e={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Ht({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(C,M)=>{let{parser:S,funcName:I}=C,B=I;return B.length===1&&(B=d$e[B]),{type:"op",mode:S.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:B}},htmlBuilder:ym,mathmlBuilder:ng}),Ht({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(C,M)=>{let{parser:S}=C;const I=M[0];return{type:"op",mode:S.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Na(I)}},htmlBuilder:ym,mathmlBuilder:ng});const m$e={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Ht({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(C){let{parser:M,funcName:S}=C;return{type:"op",mode:M.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:S}},htmlBuilder:ym,mathmlBuilder:ng}),Ht({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(C){let{parser:M,funcName:S}=C;return{type:"op",mode:M.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:S}},htmlBuilder:ym,mathmlBuilder:ng}),Ht({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(C){let{parser:M,funcName:S}=C,I=S;return I.length===1&&(I=m$e[I]),{type:"op",mode:M.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:I}},htmlBuilder:ym,mathmlBuilder:ng});const yZ=(C,M)=>{let S,I,B=!1,V;C.type==="supsub"?(S=C.sup,I=C.sub,V=oi(C.base,"operatorname"),B=!0):V=oi(C,"operatorname");let K;if(V.body.length>0){const se=V.body.map(Ie=>{const Ve=Ie.text;return typeof Ve=="string"?{type:"textord",mode:Ie.mode,text:Ve}:Ie}),ve=Xa(se,M.withFont("mathrm"),!0);for(let Ie=0;Ie<ve.length;Ie++){const Ve=ve[Ie];Ve instanceof Ii&&(Ve.text=Ve.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}K=Je.makeSpan(["mop"],ve,M)}else K=Je.makeSpan(["mop"],[],M);return B?gZ(K,S,I,M,M.style,0,0):K};Ht({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(C,M)=>{let{parser:S,funcName:I}=C;const B=M[0];return{type:"operatorname",mode:S.mode,body:Na(B),alwaysHandleSupSub:I==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:yZ,mathmlBuilder:(C,M)=>{let S=To(C.body,M.withFont("mathrm")),I=!0;for(let K=0;K<S.length;K++){const se=S[K];if(!(se instanceof Dt.SpaceNode))if(se instanceof Dt.MathNode)switch(se.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const ve=se.children[0];se.children.length===1&&ve instanceof Dt.TextNode?ve.text=ve.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):I=!1;break}default:I=!1}else I=!1}if(I){const K=S.map(se=>se.toText()).join("");S=[new Dt.TextNode(K)]}const B=new Dt.MathNode("mi",S);B.setAttribute("mathvariant","normal");const V=new Dt.MathNode("mo",[Bl("⁡","text")]);return C.parentIsSupSub?new Dt.MathNode("mrow",[B,V]):Dt.newDocumentFragment([B,V])}}),pe("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),rp({type:"ordgroup",htmlBuilder(C,M){return C.semisimple?Je.makeFragment(Xa(C.body,M,!1)):Je.makeSpan(["mord"],Xa(C.body,M,!0),M)},mathmlBuilder(C,M){return Sh(C.body,M,!0)}}),Ht({type:"overline",names:["\\overline"],props:{numArgs:1},handler(C,M){let{parser:S}=C;const I=M[0];return{type:"overline",mode:S.mode,body:I}},htmlBuilder(C,M){const S=Pi(C.body,M.havingCrampedStyle()),I=Je.makeLineSpan("overline-line",M),B=M.fontMetrics().defaultRuleThickness,V=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:S},{type:"kern",size:3*B},{type:"elem",elem:I},{type:"kern",size:B}]},M);return Je.makeSpan(["mord","overline"],[V],M)},mathmlBuilder(C,M){const S=new Dt.MathNode("mo",[new Dt.TextNode("‾")]);S.setAttribute("stretchy","true");const I=new Dt.MathNode("mover",[wn(C.body,M),S]);return I.setAttribute("accent","true"),I}}),Ht({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(C,M)=>{let{parser:S}=C;const I=M[0];return{type:"phantom",mode:S.mode,body:Na(I)}},htmlBuilder:(C,M)=>{const S=Xa(C.body,M.withPhantom(),!1);return Je.makeFragment(S)},mathmlBuilder:(C,M)=>{const S=To(C.body,M);return new Dt.MathNode("mphantom",S)}}),Ht({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(C,M)=>{let{parser:S}=C;const I=M[0];return{type:"hphantom",mode:S.mode,body:I}},htmlBuilder:(C,M)=>{let S=Je.makeSpan([],[Pi(C.body,M.withPhantom())]);if(S.height=0,S.depth=0,S.children)for(let I=0;I<S.children.length;I++)S.children[I].height=0,S.children[I].depth=0;return S=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:S}]},M),Je.makeSpan(["mord"],[S],M)},mathmlBuilder:(C,M)=>{const S=To(Na(C.body),M),I=new Dt.MathNode("mphantom",S),B=new Dt.MathNode("mpadded",[I]);return B.setAttribute("height","0px"),B.setAttribute("depth","0px"),B}}),Ht({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(C,M)=>{let{parser:S}=C;const I=M[0];return{type:"vphantom",mode:S.mode,body:I}},htmlBuilder:(C,M)=>{const S=Je.makeSpan(["inner"],[Pi(C.body,M.withPhantom())]),I=Je.makeSpan(["fix"],[]);return Je.makeSpan(["mord","rlap"],[S,I],M)},mathmlBuilder:(C,M)=>{const S=To(Na(C.body),M),I=new Dt.MathNode("mphantom",S),B=new Dt.MathNode("mpadded",[I]);return B.setAttribute("width","0px"),B}}),Ht({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(C,M){let{parser:S}=C;const I=oi(M[0],"size").value,B=M[1];return{type:"raisebox",mode:S.mode,dy:I,body:B}},htmlBuilder(C,M){const S=Pi(C.body,M),I=Pe(C.dy,M);return Je.makeVList({positionType:"shift",positionData:-I,children:[{type:"elem",elem:S}]},M)},mathmlBuilder(C,M){const S=new Dt.MathNode("mpadded",[wn(C.body,M)]),I=C.dy.number+C.dy.unit;return S.setAttribute("voffset",I),S}}),Ht({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(C){let{parser:M}=C;return{type:"internal",mode:M.mode}}}),Ht({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(C,M,S){let{parser:I}=C;const B=S[0],V=oi(M[0],"size"),K=oi(M[1],"size");return{type:"rule",mode:I.mode,shift:B&&oi(B,"size").value,width:V.value,height:K.value}},htmlBuilder(C,M){const S=Je.makeSpan(["mord","rule"],[],M),I=Pe(C.width,M),B=Pe(C.height,M),V=C.shift?Pe(C.shift,M):0;return S.style.borderRightWidth=We(I),S.style.borderTopWidth=We(B),S.style.bottom=We(V),S.width=I,S.height=B+V,S.depth=-V,S.maxFontSize=B*1.125*M.sizeMultiplier,S},mathmlBuilder(C,M){const S=Pe(C.width,M),I=Pe(C.height,M),B=C.shift?Pe(C.shift,M):0,V=M.color&&M.getColor()||"black",K=new Dt.MathNode("mspace");K.setAttribute("mathbackground",V),K.setAttribute("width",We(S)),K.setAttribute("height",We(I));const se=new Dt.MathNode("mpadded",[K]);return B>=0?se.setAttribute("height",We(B)):(se.setAttribute("height",We(B)),se.setAttribute("depth",We(-B))),se.setAttribute("voffset",We(B)),se}});function bZ(C,M,S){const I=Xa(C,M,!1),B=M.sizeMultiplier/S.sizeMultiplier;for(let V=0;V<I.length;V++){const K=I[V].classes.indexOf("sizing");K<0?Array.prototype.push.apply(I[V].classes,M.sizingClasses(S)):I[V].classes[K+1]==="reset-size"+M.size&&(I[V].classes[K+1]="reset-size"+S.size),I[V].height*=B,I[V].depth*=B}return Je.makeFragment(I)}const xZ=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Ht({type:"sizing",names:xZ,props:{numArgs:0,allowedInText:!0},handler:(C,M)=>{let{breakOnTokenText:S,funcName:I,parser:B}=C;const V=B.parseExpression(!1,S);return{type:"sizing",mode:B.mode,size:xZ.indexOf(I)+1,body:V}},htmlBuilder:(C,M)=>{const S=M.havingSize(C.size);return bZ(C.body,S,M)},mathmlBuilder:(C,M)=>{const S=M.havingSize(C.size),I=To(C.body,S),B=new Dt.MathNode("mstyle",I);return B.setAttribute("mathsize",We(S.sizeMultiplier)),B}}),Ht({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(C,M,S)=>{let{parser:I}=C,B=!1,V=!1;const K=S[0]&&oi(S[0],"ordgroup");if(K){let ve="";for(let Ie=0;Ie<K.body.length;++Ie)if(ve=K.body[Ie].text,ve==="t")B=!0;else if(ve==="b")V=!0;else{B=!1,V=!1;break}}else B=!0,V=!0;const se=M[0];return{type:"smash",mode:I.mode,body:se,smashHeight:B,smashDepth:V}},htmlBuilder:(C,M)=>{const S=Je.makeSpan([],[Pi(C.body,M)]);if(!C.smashHeight&&!C.smashDepth)return S;if(C.smashHeight&&(S.height=0,S.children))for(let B=0;B<S.children.length;B++)S.children[B].height=0;if(C.smashDepth&&(S.depth=0,S.children))for(let B=0;B<S.children.length;B++)S.children[B].depth=0;const I=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:S}]},M);return Je.makeSpan(["mord"],[I],M)},mathmlBuilder:(C,M)=>{const S=new Dt.MathNode("mpadded",[wn(C.body,M)]);return C.smashHeight&&S.setAttribute("height","0px"),C.smashDepth&&S.setAttribute("depth","0px"),S}}),Ht({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(C,M,S){let{parser:I}=C;const B=S[0],V=M[0];return{type:"sqrt",mode:I.mode,body:V,index:B}},htmlBuilder(C,M){let S=Pi(C.body,M.havingCrampedStyle());S.height===0&&(S.height=M.fontMetrics().xHeight),S=Je.wrapFragment(S,M);const B=M.fontMetrics().defaultRuleThickness;let V=B;M.style.id<ie.TEXT.id&&(V=M.fontMetrics().xHeight);let K=B+V/4;const se=S.height+S.depth+K+B,{span:ve,ruleWidth:Ie,advanceWidth:Ve}=rc.sqrtImage(se,M),Ye=ve.height-Ie;Ye>S.height+S.depth+K&&(K=(K+Ye-S.height-S.depth)/2);const tt=ve.height-S.height-K-Ie;S.style.paddingLeft=We(Ve);const wt=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:S,wrapperClasses:["svg-align"]},{type:"kern",size:-(S.height+tt)},{type:"elem",elem:ve},{type:"kern",size:Ie}]},M);if(C.index){const Kt=M.havingStyle(ie.SCRIPTSCRIPT),sr=Pi(C.index,Kt,M),Ai=.6*(wt.height-wt.depth),yi=Je.makeVList({positionType:"shift",positionData:-Ai,children:[{type:"elem",elem:sr}]},M),Ti=Je.makeSpan(["root"],[yi]);return Je.makeSpan(["mord","sqrt"],[Ti,wt],M)}else return Je.makeSpan(["mord","sqrt"],[wt],M)},mathmlBuilder(C,M){const{body:S,index:I}=C;return I?new Dt.MathNode("mroot",[wn(S,M),wn(I,M)]):new Dt.MathNode("msqrt",[wn(S,M)])}});const wZ={display:ie.DISPLAY,text:ie.TEXT,script:ie.SCRIPT,scriptscript:ie.SCRIPTSCRIPT};Ht({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(C,M){let{breakOnTokenText:S,funcName:I,parser:B}=C;const V=B.parseExpression(!0,S),K=I.slice(1,I.length-5);return{type:"styling",mode:B.mode,style:K,body:V}},htmlBuilder(C,M){const S=wZ[C.style],I=M.havingStyle(S).withFont("");return bZ(C.body,I,M)},mathmlBuilder(C,M){const S=wZ[C.style],I=M.havingStyle(S),B=To(C.body,I),V=new Dt.MathNode("mstyle",B),se={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[C.style];return V.setAttribute("scriptlevel",se[0]),V.setAttribute("displaystyle",se[1]),V}});const f$e=function(C,M){const S=C.base;return S?S.type==="op"?S.limits&&(M.style.size===ie.DISPLAY.size||S.alwaysHandleSupSub)?ym:null:S.type==="operatorname"?S.alwaysHandleSupSub&&(M.style.size===ie.DISPLAY.size||S.limits)?yZ:null:S.type==="accent"?v.isCharacterBox(S.base)?yk:null:S.type==="horizBrace"&&!C.sub===S.isOver?mZ:null:null};rp({type:"supsub",htmlBuilder(C,M){const S=f$e(C,M);if(S)return S(C,M);const{base:I,sup:B,sub:V}=C,K=Pi(I,M);let se,ve;const Ie=M.fontMetrics();let Ve=0,Ye=0;const tt=I&&v.isCharacterBox(I);if(B){const Ki=M.havingStyle(M.style.sup());se=Pi(B,Ki,M),tt||(Ve=K.height-Ki.fontMetrics().supDrop*Ki.sizeMultiplier/M.sizeMultiplier)}if(V){const Ki=M.havingStyle(M.style.sub());ve=Pi(V,Ki,M),tt||(Ye=K.depth+Ki.fontMetrics().subDrop*Ki.sizeMultiplier/M.sizeMultiplier)}let wt;M.style===ie.DISPLAY?wt=Ie.sup1:M.style.cramped?wt=Ie.sup3:wt=Ie.sup2;const Kt=M.sizeMultiplier,sr=We(.5/Ie.ptPerEm/Kt);let Ai=null;if(ve){const Ki=C.base&&C.base.type==="op"&&C.base.name&&(C.base.name==="\\oiint"||C.base.name==="\\oiiint");(K instanceof Ii||Ki)&&(Ai=We(-K.italic))}let yi;if(se&&ve){Ve=Math.max(Ve,wt,se.depth+.25*Ie.xHeight),Ye=Math.max(Ye,Ie.sub2);const $n=4*Ie.defaultRuleThickness;if(Ve-se.depth-(ve.height-Ye)<$n){Ye=$n-(Ve-se.depth)+ve.height;const Qa=.8*Ie.xHeight-(Ve-se.depth);Qa>0&&(Ve+=Qa,Ye-=Qa)}const mo=[{type:"elem",elem:ve,shift:Ye,marginRight:sr,marginLeft:Ai},{type:"elem",elem:se,shift:-Ve,marginRight:sr}];yi=Je.makeVList({positionType:"individualShift",children:mo},M)}else if(ve){Ye=Math.max(Ye,Ie.sub1,ve.height-.8*Ie.xHeight);const Ki=[{type:"elem",elem:ve,marginLeft:Ai,marginRight:sr}];yi=Je.makeVList({positionType:"shift",positionData:Ye,children:Ki},M)}else if(se)Ve=Math.max(Ve,wt,se.depth+.25*Ie.xHeight),yi=Je.makeVList({positionType:"shift",positionData:-Ve,children:[{type:"elem",elem:se,marginRight:sr}]},M);else throw new Error("supsub must have either sup or sub.");const Ti=pk(K,"right")||"mord";return Je.makeSpan([Ti],[K,Je.makeSpan(["msupsub"],[yi])],M)},mathmlBuilder(C,M){let S=!1,I,B;C.base&&C.base.type==="horizBrace"&&(B=!!C.sup,B===C.base.isOver&&(S=!0,I=C.base.isOver)),C.base&&(C.base.type==="op"||C.base.type==="operatorname")&&(C.base.parentIsSupSub=!0);const V=[wn(C.base,M)];C.sub&&V.push(wn(C.sub,M)),C.sup&&V.push(wn(C.sup,M));let K;if(S)K=I?"mover":"munder";else if(C.sub)if(C.sup){const se=C.base;se&&se.type==="op"&&se.limits&&M.style===ie.DISPLAY||se&&se.type==="operatorname"&&se.alwaysHandleSupSub&&(M.style===ie.DISPLAY||se.limits)?K="munderover":K="msubsup"}else{const se=C.base;se&&se.type==="op"&&se.limits&&(M.style===ie.DISPLAY||se.alwaysHandleSupSub)||se&&se.type==="operatorname"&&se.alwaysHandleSupSub&&(se.limits||M.style===ie.DISPLAY)?K="munder":K="msub"}else{const se=C.base;se&&se.type==="op"&&se.limits&&(M.style===ie.DISPLAY||se.alwaysHandleSupSub)||se&&se.type==="operatorname"&&se.alwaysHandleSupSub&&(se.limits||M.style===ie.DISPLAY)?K="mover":K="msup"}return new Dt.MathNode(K,V)}}),rp({type:"atom",htmlBuilder(C,M){return Je.mathsym(C.text,C.mode,M,["m"+C.family])},mathmlBuilder(C,M){const S=new Dt.MathNode("mo",[Bl(C.text,C.mode)]);if(C.family==="bin"){const I=fk(C,M);I==="bold-italic"&&S.setAttribute("mathvariant",I)}else C.family==="punct"?S.setAttribute("separator","true"):(C.family==="open"||C.family==="close")&&S.setAttribute("stretchy","false");return S}});const MZ={mi:"italic",mn:"normal",mtext:"normal"};rp({type:"mathord",htmlBuilder(C,M){return Je.makeOrd(C,M,"mathord")},mathmlBuilder(C,M){const S=new Dt.MathNode("mi",[Bl(C.text,C.mode,M)]),I=fk(C,M)||"italic";return I!==MZ[S.type]&&S.setAttribute("mathvariant",I),S}}),rp({type:"textord",htmlBuilder(C,M){return Je.makeOrd(C,M,"textord")},mathmlBuilder(C,M){const S=Bl(C.text,C.mode,M),I=fk(C,M)||"normal";let B;return C.mode==="text"?B=new Dt.MathNode("mtext",[S]):/[0-9]/.test(C.text)?B=new Dt.MathNode("mn",[S]):C.text==="\\prime"?B=new Dt.MathNode("mo",[S]):B=new Dt.MathNode("mi",[S]),I!==MZ[B.type]&&B.setAttribute("mathvariant",I),B}});const Lk={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},zk={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};rp({type:"spacing",htmlBuilder(C,M){if(zk.hasOwnProperty(C.text)){const S=zk[C.text].className||"";if(C.mode==="text"){const I=Je.makeOrd(C,M,"textord");return I.classes.push(S),I}else return Je.makeSpan(["mspace",S],[Je.mathsym(C.text,C.mode,M)],M)}else{if(Lk.hasOwnProperty(C.text))return Je.makeSpan(["mspace",Lk[C.text]],[],M);throw new a('Unknown type of space "'+C.text+'"')}},mathmlBuilder(C,M){let S;if(zk.hasOwnProperty(C.text))S=new Dt.MathNode("mtext",[new Dt.TextNode(" ")]);else{if(Lk.hasOwnProperty(C.text))return new Dt.MathNode("mspace");throw new a('Unknown type of space "'+C.text+'"')}return S}});const kZ=()=>{const C=new Dt.MathNode("mtd",[]);return C.setAttribute("width","50%"),C};rp({type:"tag",mathmlBuilder(C,M){const S=new Dt.MathNode("mtable",[new Dt.MathNode("mtr",[kZ(),new Dt.MathNode("mtd",[Sh(C.body,M)]),kZ(),new Dt.MathNode("mtd",[Sh(C.tag,M)])])]);return S.setAttribute("width","100%"),S}});const CZ={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},NZ={"\\textbf":"textbf","\\textmd":"textmd"},g$e={"\\textit":"textit","\\textup":"textup"},SZ=(C,M)=>{const S=C.font;if(S){if(CZ[S])return M.withTextFontFamily(CZ[S]);if(NZ[S])return M.withTextFontWeight(NZ[S]);if(S==="\\emph")return M.fontShape==="textit"?M.withTextFontShape("textup"):M.withTextFontShape("textit")}else return M;return M.withTextFontShape(g$e[S])};Ht({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(C,M){let{parser:S,funcName:I}=C;const B=M[0];return{type:"text",mode:S.mode,body:Na(B),font:I}},htmlBuilder(C,M){const S=SZ(C,M),I=Xa(C.body,S,!0);return Je.makeSpan(["mord","text"],I,S)},mathmlBuilder(C,M){const S=SZ(C,M);return Sh(C.body,S)}}),Ht({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(C,M){let{parser:S}=C;return{type:"underline",mode:S.mode,body:M[0]}},htmlBuilder(C,M){const S=Pi(C.body,M),I=Je.makeLineSpan("underline-line",M),B=M.fontMetrics().defaultRuleThickness,V=Je.makeVList({positionType:"top",positionData:S.height,children:[{type:"kern",size:B},{type:"elem",elem:I},{type:"kern",size:3*B},{type:"elem",elem:S}]},M);return Je.makeSpan(["mord","underline"],[V],M)},mathmlBuilder(C,M){const S=new Dt.MathNode("mo",[new Dt.TextNode("‾")]);S.setAttribute("stretchy","true");const I=new Dt.MathNode("munder",[wn(C.body,M),S]);return I.setAttribute("accentunder","true"),I}}),Ht({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(C,M){let{parser:S}=C;return{type:"vcenter",mode:S.mode,body:M[0]}},htmlBuilder(C,M){const S=Pi(C.body,M),I=M.fontMetrics().axisHeight,B=.5*(S.height-I-(S.depth+I));return Je.makeVList({positionType:"shift",positionData:B,children:[{type:"elem",elem:S}]},M)},mathmlBuilder(C,M){return new Dt.MathNode("mpadded",[wn(C.body,M)],["vcenter"])}}),Ht({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(C,M,S){throw new a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(C,M){const S=DZ(C),I=[],B=M.havingStyle(M.style.text());for(let V=0;V<S.length;V++){let K=S[V];K==="~"&&(K="\\textasciitilde"),I.push(Je.makeSymbol(K,"Typewriter-Regular",C.mode,B,["mord","texttt"]))}return Je.makeSpan(["mord","text"].concat(B.sizingClasses(M)),Je.tryCombineChars(I),B)},mathmlBuilder(C,M){const S=new Dt.TextNode(DZ(C)),I=new Dt.MathNode("mtext",[S]);return I.setAttribute("mathvariant","monospace"),I}});const DZ=C=>C.body.replace(/ /g,C.star?"␣":" ");var Ah=IG;const AZ=`[ \r
	]`,v$e="\\\\[a-zA-Z@]+",y$e="\\\\[^\uD800-\uDFFF]",b$e="("+v$e+")"+AZ+"*",x$e=`\\\\(
|[ \r	]+
?)[ \r	]*`,Bk="[̀-ͯ]",w$e=new RegExp(Bk+"+$"),M$e="("+AZ+"+)|"+(x$e+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(Bk+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Bk+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+b$e)+("|"+y$e+")");class $Z{constructor(M,S){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=M,this.settings=S,this.tokenRegex=new RegExp(M$e,"g"),this.catcodes={"%":14,"~":13}}setCatcode(M,S){this.catcodes[M]=S}lex(){const M=this.input,S=this.tokenRegex.lastIndex;if(S===M.length)return new rl("EOF",new Lo(this,S,S));const I=this.tokenRegex.exec(M);if(I===null||I.index!==S)throw new a("Unexpected character: '"+M[S]+"'",new rl(M[S],new Lo(this,S,S+1)));const B=I[6]||I[3]||(I[2]?"\\ ":" ");if(this.catcodes[B]===14){const V=M.indexOf(`
`,this.tokenRegex.lastIndex);return V===-1?(this.tokenRegex.lastIndex=M.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=V+1,this.lex()}return new rl(B,new Lo(this,S,this.tokenRegex.lastIndex))}}class k$e{constructor(M,S){M===void 0&&(M={}),S===void 0&&(S={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=S,this.builtins=M,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new a("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const M=this.undefStack.pop();for(const S in M)M.hasOwnProperty(S)&&(M[S]==null?delete this.current[S]:this.current[S]=M[S])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(M){return this.current.hasOwnProperty(M)||this.builtins.hasOwnProperty(M)}get(M){return this.current.hasOwnProperty(M)?this.current[M]:this.builtins[M]}set(M,S,I){if(I===void 0&&(I=!1),I){for(let B=0;B<this.undefStack.length;B++)delete this.undefStack[B][M];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][M]=S)}else{const B=this.undefStack[this.undefStack.length-1];B&&!B.hasOwnProperty(M)&&(B[M]=this.current[M])}S==null?delete this.current[M]:this.current[M]=S}}var C$e=nZ;pe("\\noexpand",function(C){const M=C.popToken();return C.isExpandable(M.text)&&(M.noexpand=!0,M.treatAsRelax=!0),{tokens:[M],numArgs:0}}),pe("\\expandafter",function(C){const M=C.popToken();return C.expandOnce(!0),{tokens:[M],numArgs:0}}),pe("\\@firstoftwo",function(C){return{tokens:C.consumeArgs(2)[0],numArgs:0}}),pe("\\@secondoftwo",function(C){return{tokens:C.consumeArgs(2)[1],numArgs:0}}),pe("\\@ifnextchar",function(C){const M=C.consumeArgs(3);C.consumeSpaces();const S=C.future();return M[0].length===1&&M[0][0].text===S.text?{tokens:M[1],numArgs:0}:{tokens:M[2],numArgs:0}}),pe("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),pe("\\TextOrMath",function(C){const M=C.consumeArgs(2);return C.mode==="text"?{tokens:M[0],numArgs:0}:{tokens:M[1],numArgs:0}});const _Z={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};pe("\\char",function(C){let M=C.popToken(),S,I="";if(M.text==="'")S=8,M=C.popToken();else if(M.text==='"')S=16,M=C.popToken();else if(M.text==="`")if(M=C.popToken(),M.text[0]==="\\")I=M.text.charCodeAt(1);else{if(M.text==="EOF")throw new a("\\char` missing argument");I=M.text.charCodeAt(0)}else S=10;if(S){if(I=_Z[M.text],I==null||I>=S)throw new a("Invalid base-"+S+" digit "+M.text);let B;for(;(B=_Z[C.future().text])!=null&&B<S;)I*=S,I+=B,C.popToken()}return"\\@char{"+I+"}"});const Ok=(C,M,S,I)=>{let B=C.consumeArg().tokens;if(B.length!==1)throw new a("\\newcommand's first argument must be a macro name");const V=B[0].text,K=C.isDefined(V);if(K&&!M)throw new a("\\newcommand{"+V+"} attempting to redefine "+(V+"; use \\renewcommand"));if(!K&&!S)throw new a("\\renewcommand{"+V+"} when command "+V+" does not yet exist; use \\newcommand");let se=0;if(B=C.consumeArg().tokens,B.length===1&&B[0].text==="["){let ve="",Ie=C.expandNextToken();for(;Ie.text!=="]"&&Ie.text!=="EOF";)ve+=Ie.text,Ie=C.expandNextToken();if(!ve.match(/^\s*[0-9]+\s*$/))throw new a("Invalid number of arguments: "+ve);se=parseInt(ve),B=C.consumeArg().tokens}return K&&I||C.macros.set(V,{tokens:B,numArgs:se}),""};pe("\\newcommand",C=>Ok(C,!1,!0,!1)),pe("\\renewcommand",C=>Ok(C,!0,!1,!1)),pe("\\providecommand",C=>Ok(C,!0,!0,!0)),pe("\\message",C=>{const M=C.consumeArgs(1)[0];return console.log(M.reverse().map(S=>S.text).join("")),""}),pe("\\errmessage",C=>{const M=C.consumeArgs(1)[0];return console.error(M.reverse().map(S=>S.text).join("")),""}),pe("\\show",C=>{const M=C.popToken(),S=M.text;return console.log(M,C.macros.get(S),Ah[S],Mr.math[S],Mr.text[S]),""}),pe("\\bgroup","{"),pe("\\egroup","}"),pe("~","\\nobreakspace"),pe("\\lq","`"),pe("\\rq","'"),pe("\\aa","\\r a"),pe("\\AA","\\r A"),pe("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),pe("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),pe("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),pe("ℬ","\\mathscr{B}"),pe("ℰ","\\mathscr{E}"),pe("ℱ","\\mathscr{F}"),pe("ℋ","\\mathscr{H}"),pe("ℐ","\\mathscr{I}"),pe("ℒ","\\mathscr{L}"),pe("ℳ","\\mathscr{M}"),pe("ℛ","\\mathscr{R}"),pe("ℭ","\\mathfrak{C}"),pe("ℌ","\\mathfrak{H}"),pe("ℨ","\\mathfrak{Z}"),pe("\\Bbbk","\\Bbb{k}"),pe("·","\\cdotp"),pe("\\llap","\\mathllap{\\textrm{#1}}"),pe("\\rlap","\\mathrlap{\\textrm{#1}}"),pe("\\clap","\\mathclap{\\textrm{#1}}"),pe("\\mathstrut","\\vphantom{(}"),pe("\\underbar","\\underline{\\text{#1}}"),pe("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),pe("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),pe("\\ne","\\neq"),pe("≠","\\neq"),pe("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),pe("∉","\\notin"),pe("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),pe("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),pe("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),pe("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),pe("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),pe("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),pe("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),pe("⟂","\\perp"),pe("‼","\\mathclose{!\\mkern-0.8mu!}"),pe("∌","\\notni"),pe("⌜","\\ulcorner"),pe("⌝","\\urcorner"),pe("⌞","\\llcorner"),pe("⌟","\\lrcorner"),pe("©","\\copyright"),pe("®","\\textregistered"),pe("️","\\textregistered"),pe("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),pe("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),pe("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),pe("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),pe("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),pe("⋮","\\vdots"),pe("\\varGamma","\\mathit{\\Gamma}"),pe("\\varDelta","\\mathit{\\Delta}"),pe("\\varTheta","\\mathit{\\Theta}"),pe("\\varLambda","\\mathit{\\Lambda}"),pe("\\varXi","\\mathit{\\Xi}"),pe("\\varPi","\\mathit{\\Pi}"),pe("\\varSigma","\\mathit{\\Sigma}"),pe("\\varUpsilon","\\mathit{\\Upsilon}"),pe("\\varPhi","\\mathit{\\Phi}"),pe("\\varPsi","\\mathit{\\Psi}"),pe("\\varOmega","\\mathit{\\Omega}"),pe("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),pe("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),pe("\\boxed","\\fbox{$\\displaystyle{#1}$}"),pe("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),pe("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),pe("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),pe("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),pe("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const EZ={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};pe("\\dots",function(C){let M="\\dotso";const S=C.expandAfterFuture().text;return S in EZ?M=EZ[S]:(S.slice(0,4)==="\\not"||S in Mr.math&&["bin","rel"].includes(Mr.math[S].group))&&(M="\\dotsb"),M});const Fk={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};pe("\\dotso",function(C){return C.future().text in Fk?"\\ldots\\,":"\\ldots"}),pe("\\dotsc",function(C){const M=C.future().text;return M in Fk&&M!==","?"\\ldots\\,":"\\ldots"}),pe("\\cdots",function(C){return C.future().text in Fk?"\\@cdots\\,":"\\@cdots"}),pe("\\dotsb","\\cdots"),pe("\\dotsm","\\cdots"),pe("\\dotsi","\\!\\cdots"),pe("\\dotsx","\\ldots\\,"),pe("\\DOTSI","\\relax"),pe("\\DOTSB","\\relax"),pe("\\DOTSX","\\relax"),pe("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),pe("\\,","\\tmspace+{3mu}{.1667em}"),pe("\\thinspace","\\,"),pe("\\>","\\mskip{4mu}"),pe("\\:","\\tmspace+{4mu}{.2222em}"),pe("\\medspace","\\:"),pe("\\;","\\tmspace+{5mu}{.2777em}"),pe("\\thickspace","\\;"),pe("\\!","\\tmspace-{3mu}{.1667em}"),pe("\\negthinspace","\\!"),pe("\\negmedspace","\\tmspace-{4mu}{.2222em}"),pe("\\negthickspace","\\tmspace-{5mu}{.277em}"),pe("\\enspace","\\kern.5em "),pe("\\enskip","\\hskip.5em\\relax"),pe("\\quad","\\hskip1em\\relax"),pe("\\qquad","\\hskip2em\\relax"),pe("\\tag","\\@ifstar\\tag@literal\\tag@paren"),pe("\\tag@paren","\\tag@literal{({#1})}"),pe("\\tag@literal",C=>{if(C.macros.get("\\df@tag"))throw new a("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),pe("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),pe("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),pe("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),pe("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),pe("\\newline","\\\\\\relax"),pe("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const IZ=We(rt["Main-Regular"][84][1]-.7*rt["Main-Regular"][65][1]);pe("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+IZ+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),pe("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+IZ+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),pe("\\hspace","\\@ifstar\\@hspacer\\@hspace"),pe("\\@hspace","\\hskip #1\\relax"),pe("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),pe("\\ordinarycolon",":"),pe("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),pe("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),pe("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),pe("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),pe("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),pe("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),pe("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),pe("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),pe("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),pe("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),pe("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),pe("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),pe("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),pe("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),pe("∷","\\dblcolon"),pe("∹","\\eqcolon"),pe("≔","\\coloneqq"),pe("≕","\\eqqcolon"),pe("⩴","\\Coloneqq"),pe("\\ratio","\\vcentcolon"),pe("\\coloncolon","\\dblcolon"),pe("\\colonequals","\\coloneqq"),pe("\\coloncolonequals","\\Coloneqq"),pe("\\equalscolon","\\eqqcolon"),pe("\\equalscoloncolon","\\Eqqcolon"),pe("\\colonminus","\\coloneq"),pe("\\coloncolonminus","\\Coloneq"),pe("\\minuscolon","\\eqcolon"),pe("\\minuscoloncolon","\\Eqcolon"),pe("\\coloncolonapprox","\\Colonapprox"),pe("\\coloncolonsim","\\Colonsim"),pe("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),pe("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),pe("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),pe("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),pe("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),pe("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),pe("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),pe("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),pe("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),pe("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),pe("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),pe("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),pe("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),pe("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),pe("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),pe("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),pe("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),pe("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),pe("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),pe("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),pe("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),pe("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),pe("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),pe("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),pe("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),pe("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),pe("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),pe("\\imath","\\html@mathml{\\@imath}{ı}"),pe("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),pe("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),pe("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),pe("⟦","\\llbracket"),pe("⟧","\\rrbracket"),pe("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),pe("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),pe("⦃","\\lBrace"),pe("⦄","\\rBrace"),pe("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),pe("⦵","\\minuso"),pe("\\darr","\\downarrow"),pe("\\dArr","\\Downarrow"),pe("\\Darr","\\Downarrow"),pe("\\lang","\\langle"),pe("\\rang","\\rangle"),pe("\\uarr","\\uparrow"),pe("\\uArr","\\Uparrow"),pe("\\Uarr","\\Uparrow"),pe("\\N","\\mathbb{N}"),pe("\\R","\\mathbb{R}"),pe("\\Z","\\mathbb{Z}"),pe("\\alef","\\aleph"),pe("\\alefsym","\\aleph"),pe("\\Alpha","\\mathrm{A}"),pe("\\Beta","\\mathrm{B}"),pe("\\bull","\\bullet"),pe("\\Chi","\\mathrm{X}"),pe("\\clubs","\\clubsuit"),pe("\\cnums","\\mathbb{C}"),pe("\\Complex","\\mathbb{C}"),pe("\\Dagger","\\ddagger"),pe("\\diamonds","\\diamondsuit"),pe("\\empty","\\emptyset"),pe("\\Epsilon","\\mathrm{E}"),pe("\\Eta","\\mathrm{H}"),pe("\\exist","\\exists"),pe("\\harr","\\leftrightarrow"),pe("\\hArr","\\Leftrightarrow"),pe("\\Harr","\\Leftrightarrow"),pe("\\hearts","\\heartsuit"),pe("\\image","\\Im"),pe("\\infin","\\infty"),pe("\\Iota","\\mathrm{I}"),pe("\\isin","\\in"),pe("\\Kappa","\\mathrm{K}"),pe("\\larr","\\leftarrow"),pe("\\lArr","\\Leftarrow"),pe("\\Larr","\\Leftarrow"),pe("\\lrarr","\\leftrightarrow"),pe("\\lrArr","\\Leftrightarrow"),pe("\\Lrarr","\\Leftrightarrow"),pe("\\Mu","\\mathrm{M}"),pe("\\natnums","\\mathbb{N}"),pe("\\Nu","\\mathrm{N}"),pe("\\Omicron","\\mathrm{O}"),pe("\\plusmn","\\pm"),pe("\\rarr","\\rightarrow"),pe("\\rArr","\\Rightarrow"),pe("\\Rarr","\\Rightarrow"),pe("\\real","\\Re"),pe("\\reals","\\mathbb{R}"),pe("\\Reals","\\mathbb{R}"),pe("\\Rho","\\mathrm{P}"),pe("\\sdot","\\cdot"),pe("\\sect","\\S"),pe("\\spades","\\spadesuit"),pe("\\sub","\\subset"),pe("\\sube","\\subseteq"),pe("\\supe","\\supseteq"),pe("\\Tau","\\mathrm{T}"),pe("\\thetasym","\\vartheta"),pe("\\weierp","\\wp"),pe("\\Zeta","\\mathrm{Z}"),pe("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),pe("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),pe("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),pe("\\bra","\\mathinner{\\langle{#1}|}"),pe("\\ket","\\mathinner{|{#1}\\rangle}"),pe("\\braket","\\mathinner{\\langle{#1}\\rangle}"),pe("\\Bra","\\left\\langle#1\\right|"),pe("\\Ket","\\left|#1\\right\\rangle");const TZ=C=>M=>{const S=M.consumeArg().tokens,I=M.consumeArg().tokens,B=M.consumeArg().tokens,V=M.consumeArg().tokens,K=M.macros.get("|"),se=M.macros.get("\\|");M.macros.beginGroup();const ve=Ye=>tt=>{C&&(tt.macros.set("|",K),B.length&&tt.macros.set("\\|",se));let wt=Ye;return!Ye&&B.length&&tt.future().text==="|"&&(tt.popToken(),wt=!0),{tokens:wt?B:I,numArgs:0}};M.macros.set("|",ve(!1)),B.length&&M.macros.set("\\|",ve(!0));const Ie=M.consumeArg().tokens,Ve=M.expandTokens([...V,...Ie,...S]);return M.macros.endGroup(),{tokens:Ve.reverse(),numArgs:0}};pe("\\bra@ket",TZ(!1)),pe("\\bra@set",TZ(!0)),pe("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),pe("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),pe("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),pe("\\angln","{\\angl n}"),pe("\\blue","\\textcolor{##6495ed}{#1}"),pe("\\orange","\\textcolor{##ffa500}{#1}"),pe("\\pink","\\textcolor{##ff00af}{#1}"),pe("\\red","\\textcolor{##df0030}{#1}"),pe("\\green","\\textcolor{##28ae7b}{#1}"),pe("\\gray","\\textcolor{gray}{#1}"),pe("\\purple","\\textcolor{##9d38bd}{#1}"),pe("\\blueA","\\textcolor{##ccfaff}{#1}"),pe("\\blueB","\\textcolor{##80f6ff}{#1}"),pe("\\blueC","\\textcolor{##63d9ea}{#1}"),pe("\\blueD","\\textcolor{##11accd}{#1}"),pe("\\blueE","\\textcolor{##0c7f99}{#1}"),pe("\\tealA","\\textcolor{##94fff5}{#1}"),pe("\\tealB","\\textcolor{##26edd5}{#1}"),pe("\\tealC","\\textcolor{##01d1c1}{#1}"),pe("\\tealD","\\textcolor{##01a995}{#1}"),pe("\\tealE","\\textcolor{##208170}{#1}"),pe("\\greenA","\\textcolor{##b6ffb0}{#1}"),pe("\\greenB","\\textcolor{##8af281}{#1}"),pe("\\greenC","\\textcolor{##74cf70}{#1}"),pe("\\greenD","\\textcolor{##1fab54}{#1}"),pe("\\greenE","\\textcolor{##0d923f}{#1}"),pe("\\goldA","\\textcolor{##ffd0a9}{#1}"),pe("\\goldB","\\textcolor{##ffbb71}{#1}"),pe("\\goldC","\\textcolor{##ff9c39}{#1}"),pe("\\goldD","\\textcolor{##e07d10}{#1}"),pe("\\goldE","\\textcolor{##a75a05}{#1}"),pe("\\redA","\\textcolor{##fca9a9}{#1}"),pe("\\redB","\\textcolor{##ff8482}{#1}"),pe("\\redC","\\textcolor{##f9685d}{#1}"),pe("\\redD","\\textcolor{##e84d39}{#1}"),pe("\\redE","\\textcolor{##bc2612}{#1}"),pe("\\maroonA","\\textcolor{##ffbde0}{#1}"),pe("\\maroonB","\\textcolor{##ff92c6}{#1}"),pe("\\maroonC","\\textcolor{##ed5fa6}{#1}"),pe("\\maroonD","\\textcolor{##ca337c}{#1}"),pe("\\maroonE","\\textcolor{##9e034e}{#1}"),pe("\\purpleA","\\textcolor{##ddd7ff}{#1}"),pe("\\purpleB","\\textcolor{##c6b9fc}{#1}"),pe("\\purpleC","\\textcolor{##aa87ff}{#1}"),pe("\\purpleD","\\textcolor{##7854ab}{#1}"),pe("\\purpleE","\\textcolor{##543b78}{#1}"),pe("\\mintA","\\textcolor{##f5f9e8}{#1}"),pe("\\mintB","\\textcolor{##edf2df}{#1}"),pe("\\mintC","\\textcolor{##e0e5cc}{#1}"),pe("\\grayA","\\textcolor{##f6f7f7}{#1}"),pe("\\grayB","\\textcolor{##f0f1f2}{#1}"),pe("\\grayC","\\textcolor{##e3e5e6}{#1}"),pe("\\grayD","\\textcolor{##d6d8da}{#1}"),pe("\\grayE","\\textcolor{##babec2}{#1}"),pe("\\grayF","\\textcolor{##888d93}{#1}"),pe("\\grayG","\\textcolor{##626569}{#1}"),pe("\\grayH","\\textcolor{##3b3e40}{#1}"),pe("\\grayI","\\textcolor{##21242c}{#1}"),pe("\\kaBlue","\\textcolor{##314453}{#1}"),pe("\\kaGreen","\\textcolor{##71B307}{#1}");const LZ={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class N$e{constructor(M,S,I){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=S,this.expansionCount=0,this.feed(M),this.macros=new k$e(C$e,S.macros),this.mode=I,this.stack=[]}feed(M){this.lexer=new $Z(M,this.settings)}switchMode(M){this.mode=M}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(M){this.stack.push(M)}pushTokens(M){this.stack.push(...M)}scanArgument(M){let S,I,B;if(M){if(this.consumeSpaces(),this.future().text!=="[")return null;S=this.popToken(),{tokens:B,end:I}=this.consumeArg(["]"])}else({tokens:B,start:S,end:I}=this.consumeArg());return this.pushToken(new rl("EOF",I.loc)),this.pushTokens(B),new rl("",Lo.range(S,I))}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(M){const S=[],I=M&&M.length>0;I||this.consumeSpaces();const B=this.future();let V,K=0,se=0;do{if(V=this.popToken(),S.push(V),V.text==="{")++K;else if(V.text==="}"){if(--K,K===-1)throw new a("Extra }",V)}else if(V.text==="EOF")throw new a("Unexpected end of input in a macro argument, expected '"+(M&&I?M[se]:"}")+"'",V);if(M&&I)if((K===0||K===1&&M[se]==="{")&&V.text===M[se]){if(++se,se===M.length){S.splice(-se,se);break}}else se=0}while(K!==0||I);return B.text==="{"&&S[S.length-1].text==="}"&&(S.pop(),S.shift()),S.reverse(),{tokens:S,start:B,end:V}}consumeArgs(M,S){if(S){if(S.length!==M+1)throw new a("The length of delimiters doesn't match the number of args!");const B=S[0];for(let V=0;V<B.length;V++){const K=this.popToken();if(B[V]!==K.text)throw new a("Use of the macro doesn't match its definition",K)}}const I=[];for(let B=0;B<M;B++)I.push(this.consumeArg(S&&S[B+1]).tokens);return I}countExpansion(M){if(this.expansionCount+=M,this.expansionCount>this.settings.maxExpand)throw new a("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(M){const S=this.popToken(),I=S.text,B=S.noexpand?null:this._getExpansion(I);if(B==null||M&&B.unexpandable){if(M&&B==null&&I[0]==="\\"&&!this.isDefined(I))throw new a("Undefined control sequence: "+I);return this.pushToken(S),!1}this.countExpansion(1);let V=B.tokens;const K=this.consumeArgs(B.numArgs,B.delimiters);if(B.numArgs){V=V.slice();for(let se=V.length-1;se>=0;--se){let ve=V[se];if(ve.text==="#"){if(se===0)throw new a("Incomplete placeholder at end of macro body",ve);if(ve=V[--se],ve.text==="#")V.splice(se+1,1);else if(/^[1-9]$/.test(ve.text))V.splice(se,2,...K[+ve.text-1]);else throw new a("Not a valid argument number",ve)}}}return this.pushTokens(V),V.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const M=this.stack.pop();return M.treatAsRelax&&(M.text="\\relax"),M}throw new Error}expandMacro(M){return this.macros.has(M)?this.expandTokens([new rl(M)]):void 0}expandTokens(M){const S=[],I=this.stack.length;for(this.pushTokens(M);this.stack.length>I;)if(this.expandOnce(!0)===!1){const B=this.stack.pop();B.treatAsRelax&&(B.noexpand=!1,B.treatAsRelax=!1),S.push(B)}return this.countExpansion(S.length),S}expandMacroAsText(M){const S=this.expandMacro(M);return S&&S.map(I=>I.text).join("")}_getExpansion(M){const S=this.macros.get(M);if(S==null)return S;if(M.length===1){const B=this.lexer.catcodes[M];if(B!=null&&B!==13)return}const I=typeof S=="function"?S(this):S;if(typeof I=="string"){let B=0;if(I.indexOf("#")!==-1){const Ie=I.replace(/##/g,"");for(;Ie.indexOf("#"+(B+1))!==-1;)++B}const V=new $Z(I,this.settings),K=[];let se=V.lex();for(;se.text!=="EOF";)K.push(se),se=V.lex();return K.reverse(),{tokens:K,numArgs:B}}return I}isDefined(M){return this.macros.has(M)||Ah.hasOwnProperty(M)||Mr.math.hasOwnProperty(M)||Mr.text.hasOwnProperty(M)||LZ.hasOwnProperty(M)}isExpandable(M){const S=this.macros.get(M);return S!=null?typeof S=="string"||typeof S=="function"||!S.unexpandable:Ah.hasOwnProperty(M)&&!Ah[M].primitive}}const zZ=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,lb=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Pk={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},BZ={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class ub{constructor(M,S){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new N$e(M,S,this.mode),this.settings=S,this.leftrightDepth=0}expect(M,S){if(S===void 0&&(S=!0),this.fetch().text!==M)throw new a("Expected '"+M+"', got '"+this.fetch().text+"'",this.fetch());S&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(M){this.mode=M,this.gullet.switchMode(M)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const M=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),M}finally{this.gullet.endGroups()}}subparse(M){const S=this.nextToken;this.consume(),this.gullet.pushToken(new rl("}")),this.gullet.pushTokens(M);const I=this.parseExpression(!1);return this.expect("}"),this.nextToken=S,I}parseExpression(M,S){const I=[];for(;;){this.mode==="math"&&this.consumeSpaces();const B=this.fetch();if(ub.endOfExpression.indexOf(B.text)!==-1||S&&B.text===S||M&&Ah[B.text]&&Ah[B.text].infix)break;const V=this.parseAtom(S);if(V){if(V.type==="internal")continue}else break;I.push(V)}return this.mode==="text"&&this.formLigatures(I),this.handleInfixNodes(I)}handleInfixNodes(M){let S=-1,I;for(let B=0;B<M.length;B++)if(M[B].type==="infix"){if(S!==-1)throw new a("only one infix operator per group",M[B].token);S=B,I=M[B].replaceWith}if(S!==-1&&I){let B,V;const K=M.slice(0,S),se=M.slice(S+1);K.length===1&&K[0].type==="ordgroup"?B=K[0]:B={type:"ordgroup",mode:this.mode,body:K},se.length===1&&se[0].type==="ordgroup"?V=se[0]:V={type:"ordgroup",mode:this.mode,body:se};let ve;return I==="\\\\abovefrac"?ve=this.callFunction(I,[B,M[S],V],[]):ve=this.callFunction(I,[B,V],[]),[ve]}else return M}handleSupSubscript(M){const S=this.fetch(),I=S.text;this.consume(),this.consumeSpaces();let B;do{var V;B=this.parseGroup(M)}while(((V=B)==null?void 0:V.type)==="internal");if(!B)throw new a("Expected group after '"+I+"'",S);return B}formatUnsupportedCmd(M){const S=[];for(let V=0;V<M.length;V++)S.push({type:"textord",mode:"text",text:M[V]});const I={type:"text",mode:this.mode,body:S};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[I]}}parseAtom(M){const S=this.parseGroup("atom",M);if((S==null?void 0:S.type)==="internal"||this.mode==="text")return S;let I,B;for(;;){this.consumeSpaces();const V=this.fetch();if(V.text==="\\limits"||V.text==="\\nolimits"){if(S&&S.type==="op"){const K=V.text==="\\limits";S.limits=K,S.alwaysHandleSupSub=!0}else if(S&&S.type==="operatorname")S.alwaysHandleSupSub&&(S.limits=V.text==="\\limits");else throw new a("Limit controls must follow a math operator",V);this.consume()}else if(V.text==="^"){if(I)throw new a("Double superscript",V);I=this.handleSupSubscript("superscript")}else if(V.text==="_"){if(B)throw new a("Double subscript",V);B=this.handleSupSubscript("subscript")}else if(V.text==="'"){if(I)throw new a("Double superscript",V);const K={type:"textord",mode:this.mode,text:"\\prime"},se=[K];for(this.consume();this.fetch().text==="'";)se.push(K),this.consume();this.fetch().text==="^"&&se.push(this.handleSupSubscript("superscript")),I={type:"ordgroup",mode:this.mode,body:se}}else if(lb[V.text]){const K=zZ.test(V.text),se=[];for(se.push(new rl(lb[V.text])),this.consume();;){const Ie=this.fetch().text;if(!lb[Ie]||zZ.test(Ie)!==K)break;se.unshift(new rl(lb[Ie])),this.consume()}const ve=this.subparse(se);K?B={type:"ordgroup",mode:"math",body:ve}:I={type:"ordgroup",mode:"math",body:ve}}else break}return I||B?{type:"supsub",mode:this.mode,base:S,sup:I,sub:B}:S}parseFunction(M,S){const I=this.fetch(),B=I.text,V=Ah[B];if(!V)return null;if(this.consume(),S&&S!=="atom"&&!V.allowedInArgument)throw new a("Got function '"+B+"' with no arguments"+(S?" as "+S:""),I);if(this.mode==="text"&&!V.allowedInText)throw new a("Can't use function '"+B+"' in text mode",I);if(this.mode==="math"&&V.allowedInMath===!1)throw new a("Can't use function '"+B+"' in math mode",I);const{args:K,optArgs:se}=this.parseArguments(B,V);return this.callFunction(B,K,se,I,M)}callFunction(M,S,I,B,V){const K={funcName:M,parser:this,token:B,breakOnTokenText:V},se=Ah[M];if(se&&se.handler)return se.handler(K,S,I);throw new a("No function handler for "+M)}parseArguments(M,S){const I=S.numArgs+S.numOptionalArgs;if(I===0)return{args:[],optArgs:[]};const B=[],V=[];for(let K=0;K<I;K++){let se=S.argTypes&&S.argTypes[K];const ve=K<S.numOptionalArgs;(S.primitive&&se==null||S.type==="sqrt"&&K===1&&V[0]==null)&&(se="primitive");const Ie=this.parseGroupOfType("argument to '"+M+"'",se,ve);if(ve)V.push(Ie);else if(Ie!=null)B.push(Ie);else throw new a("Null argument, please report this as a bug")}return{args:B,optArgs:V}}parseGroupOfType(M,S,I){switch(S){case"color":return this.parseColorGroup(I);case"size":return this.parseSizeGroup(I);case"url":return this.parseUrlGroup(I);case"math":case"text":return this.parseArgumentGroup(I,S);case"hbox":{const B=this.parseArgumentGroup(I,"text");return B!=null?{type:"styling",mode:B.mode,body:[B],style:"text"}:null}case"raw":{const B=this.parseStringGroup("raw",I);return B!=null?{type:"raw",mode:"text",string:B.text}:null}case"primitive":{if(I)throw new a("A primitive argument cannot be optional");const B=this.parseGroup(M);if(B==null)throw new a("Expected group as "+M,this.fetch());return B}case"original":case null:case void 0:return this.parseArgumentGroup(I);default:throw new a("Unknown group type as "+M,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(M,S){const I=this.gullet.scanArgument(S);if(I==null)return null;let B="",V;for(;(V=this.fetch()).text!=="EOF";)B+=V.text,this.consume();return this.consume(),I.text=B,I}parseRegexGroup(M,S){const I=this.fetch();let B=I,V="",K;for(;(K=this.fetch()).text!=="EOF"&&M.test(V+K.text);)B=K,V+=B.text,this.consume();if(V==="")throw new a("Invalid "+S+": '"+I.text+"'",I);return I.range(B,V)}parseColorGroup(M){const S=this.parseStringGroup("color",M);if(S==null)return null;const I=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(S.text);if(!I)throw new a("Invalid color: '"+S.text+"'",S);let B=I[0];return/^[0-9a-f]{6}$/i.test(B)&&(B="#"+B),{type:"color-token",mode:this.mode,color:B}}parseSizeGroup(M){let S,I=!1;if(this.gullet.consumeSpaces(),!M&&this.gullet.future().text!=="{"?S=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):S=this.parseStringGroup("size",M),!S)return null;!M&&S.text.length===0&&(S.text="0pt",I=!0);const B=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(S.text);if(!B)throw new a("Invalid size: '"+S.text+"'",S);const V={number:+(B[1]+B[2]),unit:B[3]};if(!ft(V))throw new a("Invalid unit: '"+V.unit+"'",S);return{type:"size",mode:this.mode,value:V,isBlank:I}}parseUrlGroup(M){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const S=this.parseStringGroup("url",M);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),S==null)return null;const I=S.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:I}}parseArgumentGroup(M,S){const I=this.gullet.scanArgument(M);if(I==null)return null;const B=this.mode;S&&this.switchMode(S),this.gullet.beginGroup();const V=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const K={type:"ordgroup",mode:this.mode,loc:I.loc,body:V};return S&&this.switchMode(B),K}parseGroup(M,S){const I=this.fetch(),B=I.text;let V;if(B==="{"||B==="\\begingroup"){this.consume();const K=B==="{"?"}":"\\endgroup";this.gullet.beginGroup();const se=this.parseExpression(!1,K),ve=this.fetch();this.expect(K),this.gullet.endGroup(),V={type:"ordgroup",mode:this.mode,loc:Lo.range(I,ve),body:se,semisimple:B==="\\begingroup"||void 0}}else if(V=this.parseFunction(S,M)||this.parseSymbol(),V==null&&B[0]==="\\"&&!LZ.hasOwnProperty(B)){if(this.settings.throwOnError)throw new a("Undefined control sequence: "+B,I);V=this.formatUnsupportedCmd(B),this.consume()}return V}formLigatures(M){let S=M.length-1;for(let I=0;I<S;++I){const B=M[I],V=B.text;V==="-"&&M[I+1].text==="-"&&(I+1<S&&M[I+2].text==="-"?(M.splice(I,3,{type:"textord",mode:"text",loc:Lo.range(B,M[I+2]),text:"---"}),S-=2):(M.splice(I,2,{type:"textord",mode:"text",loc:Lo.range(B,M[I+1]),text:"--"}),S-=1)),(V==="'"||V==="`")&&M[I+1].text===V&&(M.splice(I,2,{type:"textord",mode:"text",loc:Lo.range(B,M[I+1]),text:V+V}),S-=1)}}parseSymbol(){const M=this.fetch();let S=M.text;if(/^\\verb[^a-zA-Z]/.test(S)){this.consume();let V=S.slice(5);const K=V.charAt(0)==="*";if(K&&(V=V.slice(1)),V.length<2||V.charAt(0)!==V.slice(-1))throw new a(`\\verb assertion failed --
                    please report what input caused this bug`);return V=V.slice(1,-1),{type:"verb",mode:"text",body:V,star:K}}BZ.hasOwnProperty(S[0])&&!Mr[this.mode][S[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+S[0]+'" used in math mode',M),S=BZ[S[0]]+S.slice(1));const I=w$e.exec(S);I&&(S=S.substring(0,I.index),S==="i"?S="ı":S==="j"&&(S="ȷ"));let B;if(Mr[this.mode][S]){this.settings.strict&&this.mode==="math"&&Jo.indexOf(S)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+S[0]+'" used in math mode',M);const V=Mr[this.mode][S].group,K=Lo.range(M);let se;if(tr.hasOwnProperty(V)){const ve=V;se={type:"atom",mode:this.mode,family:ve,loc:K,text:S}}else se={type:V,mode:this.mode,loc:K,text:S};B=se}else if(S.charCodeAt(0)>=128)this.settings.strict&&(E(S.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+S[0]+'" used in math mode',M):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+S[0]+'"'+(" ("+S.charCodeAt(0)+")"),M)),B={type:"textord",mode:"text",loc:Lo.range(M),text:S};else return null;if(this.consume(),I)for(let V=0;V<I[0].length;V++){const K=I[0][V];if(!Pk[K])throw new a("Unknown accent ' "+K+"'",M);const se=Pk[K][this.mode]||Pk[K].text;if(!se)throw new a("Accent "+K+" unsupported in "+this.mode+" mode",M);B={type:"accent",mode:this.mode,loc:Lo.range(M),label:se,isStretchy:!1,isShifty:!0,base:B}}return B}}ub.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Rk=function(C,M){if(!(typeof C=="string"||C instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const S=new ub(C,M);delete S.gullet.macros.current["\\df@tag"];let I=S.parse();if(delete S.gullet.macros.current["\\current@color"],delete S.gullet.macros.current["\\color"],S.gullet.macros.get("\\df@tag")){if(!M.displayMode)throw new a("\\tag works only in display equations");I=[{type:"tag",mode:"text",body:I,tag:S.subparse([new rl("\\df@tag")])}]}return I};let OZ=function(C,M,S){M.textContent="";const I=jk(C,S).toNode();M.appendChild(I)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),OZ=function(){throw new a("KaTeX doesn't work in quirks mode.")});const S$e=function(C,M){return jk(C,M).toMarkup()},D$e=function(C,M){const S=new g(M);return Rk(C,S)},FZ=function(C,M,S){if(S.throwOnError||!(C instanceof a))throw C;const I=Je.makeSpan(["katex-error"],[new Ii(M)]);return I.setAttribute("title",C.toString()),I.setAttribute("style","color:"+S.errorColor),I},jk=function(C,M){const S=new g(M);try{const I=Rk(C,S);return qAe(I,C,S)}catch(I){return FZ(I,C,S)}};var A$e={version:"0.16.25",render:OZ,renderToString:S$e,ParseError:a,SETTINGS_SCHEMA:y,__parse:D$e,__renderToDomTree:jk,__renderToHTMLTree:function(C,M){const S=new g(M);try{const I=Rk(C,S);return UAe(I,C,S)}catch(I){return FZ(I,C,S)}},__setFontMetrics:J,__defineSymbol:O,__defineFunction:Ht,__defineMacro:pe,__domTree:{Span:Ke,Anchor:gt,SymbolNode:Ii,SvgNode:un,PathNode:An,LineNode:oa}},$$e=A$e;return i=i.default,i}()})}(db)),db.exports}(function(t,e){(function(i,n){t.exports=n(_H())})(typeof self<"u"?self:zr,function(r){return function(){var i={757:function(x){x.exports=r}},n={};function a(x){var g=n[x];if(g!==void 0)return g.exports;var b=n[x]={exports:{}};return i[x](b,b.exports,a),b.exports}(function(){a.n=function(x){var g=x&&x.__esModule?function(){return x.default}:function(){return x};return a.d(g,{a:g}),g}})(),function(){a.d=function(x,g){for(var b in g)a.o(g,b)&&!a.o(x,b)&&Object.defineProperty(x,b,{enumerable:!0,get:g[b]})}}(),function(){a.o=function(x,g){return Object.prototype.hasOwnProperty.call(x,g)}}();var s={};a.d(s,{default:function(){return y}});var o=a(757),l=a.n(o);const u=function(x,g,b){let k=b,w=0;const N=x.length;for(;k<g.length;){const A=g[k];if(w<=0&&g.slice(k,k+N)===x)return k;A==="\\"?k++:A==="{"?w++:A==="}"&&w--,k++}return-1},c=function(x){return x.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},h=/^\\begin{/;var d=function(x,g){let b;const k=[],w=new RegExp("("+g.map(N=>c(N.left)).join("|")+")");for(;b=x.search(w),b!==-1;){b>0&&(k.push({type:"text",data:x.slice(0,b)}),x=x.slice(b));const N=g.findIndex(D=>x.startsWith(D.left));if(b=u(g[N].right,x,g[N].left.length),b===-1)break;const A=x.slice(0,b+g[N].right.length),$=h.test(A)?A:x.slice(g[N].left.length,b);k.push({type:"math",data:$,rawData:A,display:g[N].display}),x=x.slice(b+g[N].right.length)}return x!==""&&k.push({type:"text",data:x}),k};const m=function(x,g){const b=d(x,g.delimiters);if(b.length===1&&b[0].type==="text")return null;const k=document.createDocumentFragment();for(let w=0;w<b.length;w++)if(b[w].type==="text")k.appendChild(document.createTextNode(b[w].data));else{const N=document.createElement("span");let A=b[w].data;g.displayMode=b[w].display;try{g.preProcess&&(A=g.preProcess(A)),l().render(A,N,g)}catch($){if(!($ instanceof l().ParseError))throw $;g.errorCallback("KaTeX auto-render: Failed to parse `"+b[w].data+"` with ",$),k.appendChild(document.createTextNode(b[w].rawData));continue}k.appendChild(N)}return k},f=function(x,g){for(let b=0;b<x.childNodes.length;b++){const k=x.childNodes[b];if(k.nodeType===3){let w=k.textContent,N=k.nextSibling,A=0;for(;N&&N.nodeType===Node.TEXT_NODE;)w+=N.textContent,N=N.nextSibling,A++;const $=m(w,g);if($){for(let D=0;D<A;D++)k.nextSibling.remove();b+=$.childNodes.length-1,x.replaceChild($,k)}else b+=A}else if(k.nodeType===1){const w=" "+k.className+" ";g.ignoredTags.indexOf(k.nodeName.toLowerCase())===-1&&g.ignoredClasses.every(A=>w.indexOf(" "+A+" ")===-1)&&f(k,g)}}};var y=function(x,g){if(!x)throw new Error("No element provided to render");const b={};for(const k in g)g.hasOwnProperty(k)&&(b[k]=g[k]);b.delimiters=b.delimiters||[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}],b.ignoredTags=b.ignoredTags||["script","noscript","style","textarea","pre","code","option"],b.ignoredClasses=b.ignoredClasses||[],b.errorCallback=b.errorCallback||console.error,b.macros=b.macros||{},f(x,b)};return s=s.default,s}()})})(Vk);var EH=Vk.exports;const mb=Eh(EH);function IH(t,e){const r=document.createElement("div");r.style.display="flex",r.classList.add("apiGeom-color-palette");for(const i of t){const n=document.createElement("button");n.style.backgroundColor=i,n.style.width="30px",n.style.height="30px",n.style.marginRight="10px",n.style.marginLeft="4px",n.style.marginTop="10px",n.style.cursor="pointer",n.style.borderRadius="5px",n.style.backgroundColor=i,n.style.border="1px solid black",n.style.padding="2px",n.title=TH(i),n.addEventListener("click",()=>{var a;e.options.color=i,fb(e),e.options.changeColorChangeActionToSetOptions&&((a=e.buttons.get("SET_OPTIONS"))==null||a.click())}),r.appendChild(n)}return setTimeout(()=>{fb(e)},100),r}function fb(t){const e=document.querySelectorAll(".apiGeom-color-palette button");for(const r of Array.from(e)){const i=r;i.style.backgroundColor===t.options.color?(i.style.boxShadow="0px 0px 10px 0px rgba(0,0,0,0.75)",i.style.transform="scale(1.2) translate(1px, 1px"):(i.style.boxShadow="",i.style.transform="")}}const Zk={black:"Noir",blue:"Bleu",gray:"Gris",green:"Vert",lightgray:"Gris clair",purple:"Violet",red:"Rouge",yellow:"Jaune"};function TH(t){return Zk[t]!==void 0?Zk[t]:t.charAt(0).toUpperCase()+t.slice(1)}const LH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='183.46666'%20height='36'%20viewBox='0%200%20172%2033.750001'%20id='svg7795'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='traitPointilles.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs7797'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='2.9324129'%20inkscape:cx='91.73333'%20inkscape:cy='18.073853'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1620'%20inkscape:window-height='2786'%20inkscape:window-x='-11'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20units='px'%20height='40px'%20/%3e%3cmetadata%20id='metadata7800'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-222.57143,-232.07648)'%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:7.80938;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:15.6188,%2015.6188;stroke-dashoffset:0;stroke-opacity:1'%20d='M%20237.13226,248.95148%20H%20383.91529'%20id='path2564'%20sodipodi:nodetypes='cc'%20/%3e%3c/g%3e%3c/svg%3e",zH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='183.46666'%20height='36'%20viewBox='0%200%20172%2033.750001'%20id='svg7795'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='traitContinu.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs7797'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='7.6035613'%20inkscape:cx='35.378159'%20inkscape:cy='18.017873'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1620'%20inkscape:window-height='2786'%20inkscape:window-x='-11'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20units='px'%20height='40px'%20/%3e%3cmetadata%20id='metadata7800'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-222.57143,-232.07648)'%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:7.80938;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1'%20d='M%20235.17991,248.95148%20H%20381.96294'%20id='path2564'%20sodipodi:nodetypes='cc'%20/%3e%3c/g%3e%3c/svg%3e";function BH(t){const e=document.createElement("div");e.style.display="flex",e.classList.add("apiGeom-dashed-choice");for(const r of["noDashed","dashed"]){const i=document.createElement("img");i.src=r==="noDashed"?zH:LH,i.title=r==="noDashed"?"Trait plein":"Pointillés",i.style.width="30px",i.style.margin="10px",i.style.marginLeft="4px",i.style.marginTop="30px",i.style.cursor="pointer",i.style.padding="2px",i.addEventListener("click",()=>{t.options.isDashed=r==="dashed",gb(t)}),i.id=r,e.appendChild(i)}return setTimeout(()=>{gb(t)},100),e}function gb(t){const e=document.querySelectorAll(".apiGeom-dashed-choice img#dashed"),r=document.querySelectorAll(".apiGeom-dashed-choice img#noDashed");if(t.options.isDashed){for(const i of Array.from(r)){const n=i;n.style.boxShadow="",n.style.transform=""}for(const i of Array.from(e)){const n=i;n.style.boxShadow="0px 0px 10px 0px rgba(0,0,0,0.75)",n.style.transform="scale(1.2) translate(1px, 1px"}}else{for(const i of Array.from(e)){const n=i;n.style.boxShadow="",n.style.transform=""}for(const i of Array.from(r)){const n=i;n.style.boxShadow="0px 0px 10px 0px rgba(0,0,0,0.75)",n.style.transform="scale(1.2) translate(1px, 1px"}}}function OH(t,e,r=!1){var i;if(r&&(t.stackUndo=[],t.stackRedo=[]),t.elements.clear(),t.divFigure!=null&&(t.divFigure.innerHTML=""),t.clearHtml(),(i=t.divFigure)==null||i.appendChild(t.svg),e.options!=null){const n=e.options;for(const[a,s]of Object.entries(n))a in t.options&&(t.options[a]=s)}fb(t),gb(t),t.pointer=t.create("Point",{isChild:!0,isFree:!1,isVisible:!1,color:"black",shape:"",x:0,y:0}),t.pointer.type="pointer";for(const n of Object.values(e))if(n.type==="Point")t.create("Point",{x:n.x,y:n.y,...n});else if(n.type==="Arc"){const a=t.elements.get(n.idCenter),s=t.elements.get(n.idStart),o=t.elements.get(n.idDynamicAngle);t.create("Arc",{center:a,dynamicAngle:o,start:s,...n})}else if(n.type==="ArcByCenterRadiusAndAngles"){const a=t.elements.get(n.idCenter),s=n.radius,o=n.startAngle,l=n.endAngle;t.create("ArcByCenterRadiusAndAngles",{center:a,endAngle:l,radius:s,startAngle:o,...n})}else if(n.type==="BisectorByPoints"){const a=t.elements.get(n.idOrigin),s=t.elements.get(n.idPointOnSide1),o=t.elements.get(n.idPointOnSide2);t.create("BisectorByPoints",{origin:a,pointOnSide1:s,pointOnSide2:o,...n})}else if(n.type==="Circle"){const a=t.elements.get(n.idCenter);t.create("Circle",{center:a,radius:n.radius,...n})}else if(n.type==="CircleCenterPoint"){const a=t.elements.get(n.idCenter),s=t.elements.get(n.idPoint);t.create("CircleCenterPoint",{center:a,point:s,...n})}else if(n.type==="CircleDynamicRadius"){const a=t.elements.get(n.idCenter),s=t.elements.get(n.idRadius);t.create("CircleCenterDynamicRadius",{center:a,radius:s,...n})}else if(n.type==="CircleFractionDiagram"){const a=new Set(n.arrayIndicesSectorsInColor);t.create("CircleFractionDiagram",{indicesSectorsInColor:a,...n})}else if(n.type==="Distance"){const a=t.elements.get(n.idPoint1),s=t.elements.get(n.idPoint2);t.create("Distance",{point1:a,point2:s,...n})}else if(n.type==="DynamicX"){const a=t.elements.get(n.idPoint);t.create("DynamicX",{point:a,...n})}else if(n.type==="DynamicY"){const a=t.elements.get(n.idPoint);t.create("DynamicY",{point:a,...n})}else if(n.type==="PointOnLine"){const a=t.elements.get(n.idLine);t.create("PointOnLine",{line:a,...n})}else if(n.type==="PointOnCircle"){const a=t.elements.get(n.idCircle);t.create("PointOnCircle",{circle:a,...n})}else if(n.type==="GraphByParts")t.create("GraphByParts",{...n});else if(n.type==="Graph")t.create("Graph",{...n});else if(n.type==="GraduatedLine")t.create("GraduatedLine",{...n});else if(n.type==="Grid")t.create("Grid",{...n});else if(n.type==="Line"){const a=t.elements.get(n.idPoint1),s=t.elements.get(n.idPoint2);t.create("Line",{point1:a,point2:s,...n})}else if(n.type==="Middle"){const a=t.elements.get(n.idPoint1),s=t.elements.get(n.idPoint2);t.create("Middle",{point1:a,point2:s,...n})}else if(n.type==="LineByPointVector"){const a=t.elements.get(n.idVector),s=t.elements.get(n.idPoint);t.create("LineByPointVector",{point:s,vector:a,...n})}else if(n.type==="LineFractionDiagram"){const a=new Set(n.arrayIndicesRectanglesInColor);t.create("LineFractionDiagram",{indicesRectanglesInColor:a,...n})}else if(n.type==="RectangleFractionDiagram"){const a=new Set(n.arrayIndicesRectanglesInColor);t.create("RectangleFractionDiagram",{indicesRectanglesInColor:a,...n})}else if(n.type==="LineParallel"){const a=t.elements.get(n.idLine),s=t.elements.get(n.idPoint);t.create("LineParallel",{line:a,point:s,...n})}else if(n.type==="LinePerpendicular"){const a=t.elements.get(n.idLine),s=t.elements.get(n.idPoint);t.create("LinePerpendicular",{line:a,point:s,...n})}else if(n.type==="MarkBetweenPoints"){const a=t.elements.get(n.idPoint1),s=t.elements.get(n.idPoint2);t.create("MarkBetweenPoints",{text:n.text,point1:a,point2:s,...n})}else if(n.type==="MarkRightAngle"){const a=t.elements.get(n.idPoint),s=t.elements.get(n.idDirectionPoint);t.create("MarkRightAngle",{point:a,directionPoint:s,...n})}else if(n.type==="PerpendicularBisector"){const a=t.elements.get(n.idSegment);t.create("PerpendicularBisector",{segment:a,...n})}else if(n.type==="PerpendicularBisectorByPoints"){const a=t.elements.get(n.idPoint1),s=t.elements.get(n.idPoint2);t.create("PerpendicularBisectorByPoints",{point1:a,point2:s,...n})}else if(n.type==="ElementByReflect"){const a=t.elements.get(n.idTransformationOrigin),s=t.elements.get(n.idTransformationCenter);a.reflect(s,n)}else if(n.type==="ElementByReflectOverLine"){const a=t.elements.get(n.idTransformationOrigin),s=t.elements.get(n.idTransformationLine);a.reflectOverLine(s,n)}else if(n.type==="ElementByDilate"){const a=t.elements.get(n.idTransformationOrigin),s=t.elements.get(n.idTransformationCenter),o=n.transformationFactor;a.dilate(s,o,n)}else if(n.type==="ElementByRotation"){const a=t.elements.get(n.idTransformationOrigin),s=t.elements.get(n.idTransformationCenter),o=n.transformationAngle;a.rotate(s,o,n)}else if(n.type==="ElementByTranslation"){const a=t.elements.get(n.idTransformationOrigin),s=t.elements.get(n.idTransformationPoint1),o=t.elements.get(n.idTransformationPoint2);a.translate(s,o,n)}else if(n.type==="PointByProjection"){const a=t.elements.get(n.idOrigin),s=t.elements.get(n.idLine);t.create("PointByProjection",{line:s,origin:a,...n})}else if(n.type==="PointByProjectionOnAxisX"){const a=t.elements.get(n.idOrigin);t.create("PointByProjectionOnAxisX",{origin:a,...n})}else if(n.type==="PointByProjectionOnAxisY"){const a=t.elements.get(n.idOrigin);t.create("PointByProjectionOnAxisY",{origin:a,...n})}else if(n.type==="PointIntersectionLL"){const a=t.elements.get(n.idLine1),s=t.elements.get(n.idLine2);t.create("PointIntersectionLL",{line1:a,line2:s,...n})}else if(n.type==="PointIntersectionCC"){const a=t.elements.get(n.idCircle1),s=t.elements.get(n.idCircle2);t.create("PointIntersectionCC",{circle1:a,circle2:s,...n})}else if(n.type==="PointIntersectionLC"){const a=t.elements.get(n.idLine),s=t.elements.get(n.idCircle);t.create("PointIntersectionLC",{circle:s,line:a,...n})}else if(n.type==="PointOnGraph"){const a=t.elements.get(n.idGraph);t.create("PointOnGraph",{graph:a,...n})}else if(n.type==="PointOnPolyline"){const a=t.elements.get(n.idPolyline);t.create("PointOnPolyline",{polyline:a,...n})}else if(n.type==="Segment"){const a=t.elements.get(n.idPoint1),s=t.elements.get(n.idPoint2);t.create("Segment",{point1:a,point2:s,...n})}else if(n.type==="Polyline"){const a=[];for(const s of n.idPoints)a.push(t.elements.get(s));t.create("Polyline",{points:a,...n})}else if(n.type==="Polygon"){const a=[];for(const s of n.idPoints)a.push(t.elements.get(s));t.create("Polygon",{points:a,...n})}else if(n.type==="Ray"){const a=t.elements.get(n.idPoint1),s=t.elements.get(n.idPoint2);t.create("Ray",{point1:a,point2:s,...n})}else if(n.type==="TextByPosition")t.create("TextByPosition",{text:n.text,x:n.x,y:n.y,...n});else if(n.type==="TextByPoint"){const a=t.elements.get(n.idPoint);t.create("TextByPoint",{point:a,text:n.text,...n})}else if(n.type==="TextDynamicByPosition"){const a=t.elements.get(n.idDynamicNumber);t.create("TextDynamicByPosition",{dynamicNumber:a,...n})}else if(n.type==="Vector"){const a=t.elements.get(n.idOrigin);t.create("Vector",{origin:a,...n})}else if(n.type==="VectorByPoints"){const a=t.elements.get(n.idOrigin),s=t.elements.get(n.idPoint1),o=t.elements.get(n.idPoint2);t.create("VectorByPoints",{origin:a,point1:s,point2:o,...n})}else if(n.type==="VectorPerpendicular"){const a=t.elements.get(n.idOrigin),s=t.elements.get(n.idLine);t.create("VectorPerpendicular",{line:s,origin:a,...n})}if(t.stackUndo.length===0&&t.saveState(),r&&"history"in e&&e.history!==null){const n=e.history;t.stackUndo=[...n],t.handleUndoRedoButtons()}}const og={lightest:"#f87f5c",title:"#342A34",titlelight:"#f5f1f3"},Hk=15,Wk=100,FH=2,Yk=10**4,Kk=10**-4,PH=1,Xk=300,Qk=30,Jk=30,eC=30,RH="50px",jH="large",qH=.1,UH=["","|","||","|||","✖︎","O","◼︎","▲","★"],su="#F15929",lg="rgba(241, 89, 41, 0.5)",tC={animationStepInterval:3e3,automaticUserMessage:!0,borderSize:.2,color:"currentColor",colorPointPolygon:"none",changeColorChangeActionToSetOptions:!1,discFillOpacity:.2,displayGrid:!1,distanceWithoutNewPoint:.2,fillColor:"none",fillColorAndBorderColorAreSame:!1,fillOpacity:.2,gridWithTwoPointsOnSamePosition:!0,fontSize:"1em",isDashed:!1,labelAutomaticForPoints:void 0,labelDxInPixels:15,labelDyInPixels:15,latexHeight:12,labelIsVisible:!0,latexWidth:18,limitNumberOfElement:new Map,mark:"||",moveTextGrid:15,pointDescriptionWithCoordinates:!0,pointSize:5,thickness:1,shape:"x",shapeForPolygon:"x",thicknessForPoint:2,tmpColor:"gray",tmpFillColor:lg,tmpFillOpacity:.2,tmpIsDashed:!0,tmpThickness:1,tmpShape:"x"},VH=["SAVE","OPEN","UNDO","REDO","DRAG","DOWNLOAD_LATEX_SVG","HIDE","REMOVE","POINT","POINT_ON","POINT_INTERSECTION","MIDDLE","SEGMENT","LINE","RAY","POLYGON","LINE_PARALLEL","LINE_PERPENDICULAR","PERPENDICULAR_BISECTOR","BISECTOR_BY_POINTS","CIRCLE_CENTER_POINT","CIRCLE_RADIUS","REFLECTION_OVER_LINE","REFLECTION","ROTATE","TRANSLATION","DILATE","VECTOR","GRID","SET_OPTIONS","FILL","NAME_POINT","MOVE_LABEL","MARK_BETWEEN_POINTS","DESCRIPTION","SHAKE","ZOOM_IN","ZOOM_OUT"];class Xi{constructor(e=0,r=0){this.x=e,this.y=r}}function rC(t,e){if(t.x===void 0||t.y===void 0||e.x===void 0||e.y===void 0)return Number.NaN;try{return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}catch{return Number.NaN}}function iC(t,e,r=1){try{const i=t.center,n=e.center,a=t._radius,s=e._radius,o=i.x,l=n.x,u=i.y,c=n.y;if(o===void 0||l===void 0||u===void 0||c===void 0)return new Xi;const h=l-o,p=c-u,d=Math.sqrt(p*p+h*h);if(d>a+s)return{x:Number.NaN,y:Number.NaN};if(d<Math.abs(a-s))return{x:Number.NaN,y:Number.NaN};const m=(a*a-s*s+d*d)/(2*d),f=o+h*m/d,v=u+p*m/d,y=Math.sqrt(a*a-m*m),x=-p*(y/d),g=h*(y/d),b=f+x,k=f-x,w=v+g,N=v-g;return r===1?N>w?new Xi(k,N):new Xi(b,w):N>w?new Xi(b,w):new Xi(k,N)}catch{return new Xi(Number.NaN,Number.NaN)}}function nC(t,e){try{const[r,i,n]=t.equation,[a,s,o]=e.equation;let l,u;if(a*i-s*r===0)return{x:Number.NaN,y:Number.NaN};u=(o*r-n*a)/(a*i-s*r),r===0?l=(-o-s*u)/a:l=(-n-i*u)/r;let c=!0;return t.type==="Segment"&&(l<Math.min(t.point1.x,t.point2.x)||l>Math.max(t.point1.x,t.point2.x)||u<Math.min(t.point1.y,t.point2.y)||u>Math.max(t.point1.y,t.point2.y))&&(c=!1),e.type==="Segment"&&(l<Math.min(e.point1.x,e.point2.x)||l>Math.max(e.point1.x,e.point2.x)||u<Math.min(e.point1.y,e.point2.y)||u>Math.max(e.point1.y,e.point2.y))&&(c=!1),t.type==="Ray"&&(t.point1.x<t.point2.x&&l<t.point1.x&&(c=!1),t.point1.x>t.point2.x&&l>t.point1.x&&(c=!1),t.point1.y<t.point2.y&&u<t.point1.y&&(c=!1),t.point1.y>t.point2.y&&u>t.point1.y&&(c=!1)),e.type==="Ray"&&(e.point1.x<e.point2.x&&l<e.point1.x&&(c=!1),e.point1.x>e.point2.x&&l>e.point1.x&&(c=!1),e.point1.y<e.point2.y&&u<e.point1.y&&(c=!1),e.point1.y>e.point2.y&&u>e.point1.y&&(c=!1)),c||(l=Number.NaN,u=Number.NaN),new Xi(l,u)}catch(r){return console.error(r),new Xi(Number.NaN,Number.NaN)}}function hn(t,e){return Math.hypot(t.x-e.x,t.y-e.y)}function ug(t,e){try{const r=t.y-e.y,i=e.x-t.x,n=(t.x-e.x)*t.y+(e.y-t.y)*t.x;return[r,i,n]}catch(r){return console.error("Erreur dans Line.equation()",r),[Number.NaN,Number.NaN,Number.NaN]}}function aC(t,e,r=1){try{const i=e.center,n=e.radius,[a,s,o]=t.equation,l=i.x,u=i.y;let c,h,p,d,m,f;if(s===0){if(p=-o/a,m=p,c=4*(-l*l-o*o/(a*a)-2*l*o/a+n*n),c<0)return new Xi(Number.NaN,Number.NaN);Math.abs(c)<10**-6?(d=u+Math.sqrt(c)/2,f=d):(d=u-Math.sqrt(c)/2,f=u+Math.sqrt(c)/2)}else if(a===0){if(d=-o/s,f=d,c=4*(-u*u-o*o/(s*s)-2*u*o/s+n*n),c<0)return new Xi(Number.NaN,Number.NaN);Math.abs(c)<10**-6?(p=l+Math.sqrt(c)/2,m=p):(p=l-Math.sqrt(c)/2,m=l+Math.sqrt(c)/2)}else{if(c=(2*(a*o/(s*s)+u*a/s-l))**2-4*(1+(a/s)**2)*(l*l+u*u+(o/s)**2+2*u*o/s-n*n),c<0)return new Xi(Number.NaN,Number.NaN);Math.abs(c)<10**-6?(h=Math.sqrt(c),p=(-2*(a*o/(s*s)+u*a/s-l)-h)/(2*(1+(a/s)**2)),m=p,d=(-a*p-o)/s,f=d):(h=Math.sqrt(c),p=(-2*(a*o/(s*s)+u*a/s-l)-h)/(2*(1+(a/s)**2)),m=(-2*(a*o/(s*s)+u*a/s-l)+h)/(2*(1+(a/s)**2)),d=(-a*p-o)/s,f=(-a*m-o)/s)}return r===1?f>d?new Xi(m,f):new Xi(p,d):f>d?new Xi(p,d):new Xi(m,f)}catch{return new Xi(Number.NaN,Number.NaN)}}function xm(t,e){try{const[r,i,n]=e.equation,a=1/(r*r+i*i);let s,o;if(r===0)s=t.x,o=-n/i;else if(i===0)o=t.y,s=-n/r;else{if(t.x===void 0||t.y===void 0)return new Xi;s=a*(i*i*t.x-r*i*t.y-r*n),o=a*(-r*i*t.x+r*r*t.y+r*r*n/i)-n/i}return new Xi(s,o)}catch{return new Xi(Number.NaN,Number.NaN)}}function nl(t,e,r){try{if(e.x===void 0||e.y===void 0||t.x===void 0||t.y===void 0)return new Xi;const i=e.x+(t.x-e.x)*Math.cos(r*Math.PI/180)-(t.y-e.y)*Math.sin(r*Math.PI/180),n=e.y+(t.x-e.x)*Math.sin(r*Math.PI/180)+(t.y-e.y)*Math.cos(r*Math.PI/180);return new Xi(i,n)}catch{return new Xi(Number.NaN,Number.NaN)}}function cg(t,e,r){if(t.x===void 0||t.y===void 0||e.x===void 0||e.y===void 0)return new Xi;try{const i=e.x+r*(t.x-e.x),n=e.y+r*(t.y-e.y);return new Xi(i,n)}catch{return new Xi(Number.NaN,Number.NaN)}}function al(t,e,r,i){if(t.x===void 0||t.y===void 0||e.x===void 0||e.y===void 0)return new Xi;try{const n=i*Math.PI/180,a=e.x+r*(Math.cos(n)*(t.x-e.x)-Math.sin(n)*(t.y-e.y)),s=e.y+r*(Math.cos(n)*(t.y-e.y)+Math.sin(n)*(t.x-e.x));return new Xi(a,s)}catch{return new Xi(Number.NaN,Number.NaN)}}function GH(t,e){let r,i;const[n,a,s]=e.equation,o=1/(n*n+a*a);return n===0?(r=t.x,i=-(t.y+2*s/a)):a===0?(i=t.y,r=-(t.x+2*s/n)):(r=o*((a*a-n*n)*t.x-2*n*a*t.y-2*n*s),i=o*((n*n-a*a)*t.y-2*n*a*t.x+n*n*s/a-a*s)-s/a),{x:r,y:i}}function ZH(t,e,r){const i=t.x+r.x-e.x,n=t.y+r.y-e.y;return{x:i,y:n}}function HH(t,e,r){const i={x:r.x-e.x,y:r.y-e.y},n={x:t.x-e.x,y:t.y-e.y};return(n.x*i.y-i.x*n.y>=0?1:-1)*sC(t,e,r)}function sC(t,e,r){const i={norme:0,x:t.x-e.x,y:t.y-e.y};i.norme=Math.sqrt(i.x**2+i.y**2);const n={norme:0,x:r.x-e.x,y:r.y-e.y};n.norme=Math.sqrt(n.x**2+n.y**2);const a=i.x*n.x+i.y*n.y;return i.norme*n.norme<Kk?0:Math.acos(a/(i.norme*n.norme))*180/Math.PI}function hg(t,e){try{const r=(t.x+e.x)/2,i=(t.y+e.y)/2,n=e.x-t.x,s=-(e.y-t.y),o=n,l=Math.sqrt(s*s+o*o),u=s/l,c=o/l,h=u*.5,p=c*.5,d=r+h,m=i+p;return new Xi(d,m)}catch{return new Xi(Number.NaN,Number.NaN)}}function oC({line:t,point:e,figure:r}){try{const i=e.x,n=e.y;let a,s;return t.point2.x-t.point1.x===0?(a=i,s=r.yMax):(a=i+5,s=n+5*(t.point2.y-t.point1.y)/(t.point2.x-t.point1.x)),{x1:i,y1:n,x2:a,y2:s}}catch(i){return console.error("Erreur dans Coords.parallelCoords",i),{x1:Number.NaN,y1:Number.NaN,x2:Number.NaN,y2:Number.NaN}}}function et(t,e=4){return Math.round(t*10**e)/10**e}function zo(t,e=4){return et(t,e).toLocaleString("fr-FR")==="-0"?"0":et(t,e).toLocaleString("fr-FR").replace(",","{,}")}function ac({delta:t=3,figure:e,repeat:r=5,time:i=1}){const n=i/r;e.container.style.animation="none",e.container.offsetWidth,e.container.style.animation=`shake ${n}s`,e.container.style.animationIterationCount=r.toString();const a=u=>{const h=et(u+(Math.random()-.5)*t,1);return h>e.xMin+.5&&h<e.xMax-.5?h:u},s=u=>{const h=et(u+(Math.random()-.5)*t,1);return h>e.yMin+2&&h<e.yMax-2?h:u},l=[...e.elements.values()].filter(u=>u.type!=="pointer"&&u.type==="Point").filter(u=>u.isFree);for(let u=0;u<r;u++)for(const c of l)c.moveTo(a(c.x),s(c.y));e.container.style.animation="none"}function WH({angle:t,figure:e,label1:r,label2:i,label3:n}){const a=[...e.elements.values()].filter(d=>d.type!=="pointer"&&d.type.includes("Point")),s=a.filter(d=>d.label===r),o=a.filter(d=>d.label===i),l=a.filter(d=>d.label===n);if(s.length===0)return{isValid:!1,message:`Il n'y a pas de point $${r}$ dans la figure.`};if(s.length>1)return{isValid:!1,message:`Il y a plusieurs points nommés $${r}$ dans la figure.`};if(o.length===0)return{isValid:!1,message:`Il n'y a pas de point $${i}$ dans la figure.`};if(o.length>1)return{isValid:!1,message:`Il y a plusieurs points nommés $${i}$ dans la figure.`};if(l.length===0)return{isValid:!1,message:`Il n'y a pas de point $${n}$ dans la figure.`};if(l.length>1)return{isValid:!1,message:`Il y a plusieurs points nommés $${n}$ dans la figure.`};let u=!0;const c=s[0],h=o[0],p=l[0];for(let d=0;d<3;d++)u=u&&et(sC(c,h,p),2)===et(t,2),ac({figure:e});return u?{isValid:u,message:`L'angle $\\widehat{${r}${i}${n}}$ est bien toujours égal à ${t}°.`}:{isValid:u,message:`L'angle $\\widehat{${r}${i}${n}}$ n'est pas toujours égal à ${t}°.`}}function YH({center:t,figure:e,labelCenter:r,radius:i}){const n=[...e.elements.values()].filter(o=>o.type.includes("Circle"));let a=[];if(r&&(a=n.filter(o=>o.center.label===r)),n.length===0)return{isValid:!1,message:"Il n'y a pas de cercle dans la figure."};const s=n.find(o=>et(o.center.x)===et(t.x)&&et(o.center.y)===et(t.y)&&et(o.radius)===et(i));if(!s)return{isValid:!1,message:`Le cercle de centre $(${et(t.x,2)}\\;;\\;${et(t.y,2)})$ et de rayon ${et(i,1)} n'existe pas dans la figure.`};if(r){const o=a.find(l=>et(l.center.x)===et(t.x)&&et(l.center.y)===et(t.y)&&et(l.radius)===et(i));return o?{isValid:!0,message:"",element:o}:{isValid:!1,message:`Le cercle de centre $(${et(t.x,2)}\\;;\\;${et(t.y,2)})$ et de rayon ${et(i,2)} est bien tracé mais son centre n'est pas ${r}.`,element:s}}return{isValid:!0,message:"",element:s}}function KH(t){const e=t.replace(/^#/,""),r=Number.parseInt(e,16),i=r>>16&255,n=r>>8&255,a=r&255;return`{rgb,255:red,${i}; green,${n}; blue,${a}}`}function XH(t){const e=t.match(/\d+(\.\d+)?/g);if(e&&e.length>=3){const r=Number.parseInt(e[0]),i=Number.parseInt(e[1]),n=Number.parseInt(e[2]);return`{rgb,255:red,${r}; green,${i}; blue,${n}}`}throw new Error("Invalid RGBA color format")}function vb(t){return t.includes("#")?KH(t):t.includes("rgba")?XH(t):t==="currentColor"?"black":t}class fn{constructor(e,{color:r,id:i,isChild:n,isDashed:a,isSelectable:s,isVisible:o,opacity:l,thickness:u}){if(this._isHover=!1,this._isSelected=!1,this._opacity=1,this.isHidden=!1,this.isDeletable=!0,this.figure=e,this.isChild=n??!1,this.isSelectable=s??!0,i==null||this.figure.elements.has(i)){if(i!=null&&this.figure.elements.has(i))throw Error(`id ${i} déjà utilisé`);if(this.isChild){let c=0;for(;this.figure.elements.has(`elementTmp${c.toString()}`);)c++;this.id=`elementTmp${c.toString()}`}else{let c=0;for(;this.figure.elements.has(`element${c.toString()}`);)c++;this.id=`element${c.toString()}`}}else this.id=i;this.figure.elements.set(this.id,this),this._color=r??this.figure.options.color,this._thickness=u??this.figure.options.thickness,this._isDashed=a??this.figure.options.isDashed,this._isVisible=o??!0,this._opacity=l??1,this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","g"),this.observers=[]}changeColor(e,r){const i=r==="mathalea"?su:r;if(e.groupSvg.children.length>0)for(const n of Array.from(e.groupSvg.children))n.setAttribute("stroke",i);else e.groupSvg.setAttribute("stroke",i)}distancePointer(e,r){return Number.POSITIVE_INFINITY}draw(){}hide(){this.isVisible=!1,this.isHidden=!0}jsonOptions(){var r,i,n,a,s;const e={color:this.color,id:this.id,isChild:this.isChild,isDashed:this.isDashed,isVisible:this.isVisible,isSelectable:this.isSelectable,isDeletable:this.isDeletable,opacity:this.opacity,thickness:this.thickness,type:this.type};return((r=this.transformation)==null?void 0:r.type)==="dilate"?{...e,idTransformationCenter:this.transformation.center.id,idTransformationOrigin:this.transformation.origin.id,transformationFactor:this.transformation.factor,type:"ElementByDilate"}:((i=this.transformation)==null?void 0:i.type)==="reflect"?{...e,idTransformationCenter:this.transformation.center.id,idTransformationOrigin:this.transformation.origin.id,type:"ElementByReflect"}:((n=this.transformation)==null?void 0:n.type)==="reflectOverLine"?{...e,idTransformationLine:this.transformation.line.id,idTransformationOrigin:this.transformation.origin.id,type:"ElementByReflectOverLine"}:((a=this.transformation)==null?void 0:a.type)==="rotation"?{...e,idTransformationCenter:this.transformation.center.id,idTransformationOrigin:this.transformation.origin.id,transformationAngle:this.transformation.angle,type:"ElementByRotation"}:((s=this.transformation)==null?void 0:s.type)==="translation"?{...e,idTransformationPoint1:this.transformation.point1.id,idTransformationPoint2:this.transformation.point2.id,idTransformationOrigin:this.transformation.origin.id,type:"ElementByTranslation"}:e}notify(){for(const e of this.observers)e.update()}remove(){if(!this.isDeletable)return;const e=this.figure.elements.get(this.id),r=e==null?void 0:e.observers;if(r!==void 0)for(const i of r)i.remove();e!==void 0&&this.figure.elements.delete(this.id),this.groupSvg.remove()}setVisibilityColorThicknessAndDashed(){this.isVisible=this._isVisible,this.color=this._color,this.thickness=this._thickness,!this.type.includes("Point")&&(this.isDashed=this._isDashed)}show(){this.isVisible=!0}subscribe(e){this.observers.push(e)}temp(){return this.figure.tmpElements.push(this),this.color=this.figure.options.tmpColor,this.thickness=this.figure.options.tmpThickness,"isDashed"in this&&(this.isDashed=this.figure.options.tmpIsDashed),"fillColor"in this&&(this.fillColor=this.figure.options.tmpFillColor),"fillOpacity"in this&&(this.fillOpacity=this.figure.options.tmpFillOpacity),this}tempShow(){this.isVisible=!0,this.changeColor(this,this.figure.options.tmpColor),sc(this,.5)}toJSON(){return{...this.jsonOptions}}unsubscribe(e){this.observers=this.observers.filter(r=>r!==e)}update(){}set color(e){this._color=e,this.changeColor(this,e)}get color(){return this._color}get description(){return this.id}set isDashed(e){e?this.groupSvg.setAttribute("stroke-dasharray","4 3"):this.groupSvg.removeAttribute("stroke-dasharray"),this._isDashed=e}get isDashed(){return this._isDashed}get isHover(){return this._isHover}set isHover(e){this.figure.currentState==="HIDE"?e?(this.changeColor(this,su),sc(this,this._thickness+2)):!this._isSelected&&!this.isHidden?(this.changeColor(this,this._color),sc(this,this._thickness)):this.tempShow():e?(this.changeColor(this,su),sc(this,this._thickness+2)):!this._isSelected&&!this.isHidden&&(this.changeColor(this,this._color),sc(this,this._thickness)),this._isHover=e}get isSelected(){return this._isSelected}set isSelected(e){e?(this.changeColor(this,su),sc(this,this._thickness+2)):this._isHover||(this.changeColor(this,this._color),sc(this,this._thickness)),this._isSelected=e}set isVisible(e){e?this.figure.svg.appendChild(this.groupSvg):this.groupSvg.remove(),this._isVisible=e}get isVisible(){return this._isVisible}get latex(){return`% ${this.type} ${this.id}} n'a pas de sortie LaTeX`}get latexOptions(){const e=[];return this.color!=="black"&&this.color!==""&&e.push(`color=${vb(this.color)}`),this.thickness!==1&&e.push(`line width=${this.thickness}`),this.isDashed&&e.push("dashed"),e.length>0?`[${e.join(",")}]`:""}get opacity(){return this._opacity}set opacity(e){this._opacity=e,this.groupSvg.setAttribute("opacity",`${e}`)}set thickness(e){this._thickness=e,sc(this,e)}get thickness(){return this._thickness}}function sc(t,e){if(t.groupSvg.children.length>0)for(const r of Array.from(t.groupSvg.children))(r.getAttribute("stroke-readonly")===null||r.getAttribute("stroke-readonly")==="0")&&r.setAttribute("stroke-width",`${e}`);else t.groupSvg.setAttribute("stroke-width",`${e}`)}function QH({checkOnlyAbscissa:t=!1,figure:e,label:r,x:i,y:n=0,color:a}){let s=[];if(a!==void 0?s=[...e.elements.values()].filter(u=>u instanceof fn&&u.type!=="pointer"&&u.type.includes("Point")&&u.color===a):s=[...e.elements.values()].filter(u=>u.type!=="pointer"&&u.type.startsWith("Point")&&u instanceof fn&&u.isSelectable),r!==void 0){const u=s.filter(d=>d.label===r);if(u.length===0)return{isValid:!1,message:`Il n'y a pas de point $${r}$ dans la figure.`,points:[]};if(u.length>1)return{isValid:!1,message:`Il y a ${u.length} points $${r}$ dans la figure.`,points:u};const c=u[0],h=et(c.x)===et(i)&&et(c.y)===et(n);let p;return t?p=h?"":`Le point $${r}$ a pour abscisse $${zo(c.x)}$ et non $${zo(i)}$.`:p=h?"":`Le point $${r}$ a pour coordonnées $(${zo(c.x)}\\;;\\;${zo(c.y)})$ et non $(${zo(i)}\\;;\\;${zo(n)})$.`,{isValid:h,message:p,points:[c]}}let o=s.filter(u=>et(u.x)===et(i)&&et(u.y)===et(n));return t&&(o=s.filter(u=>et(u.x)===et(i))),o.length===0?t?{isValid:!1,message:`Il n'y a pas de point d'abscisse $${zo(i)}$ dans la figure.`,points:[]}:{isValid:!1,message:`Il n'y a pas de point en $(${zo(i)}\\;;\\;${zo(n)})$ dans la figure.`,points:[]}:o.length>1?t?{isValid:!0,message:`Il y a ${o.length} points d'abscisse $${zo(i)}$ dans la figure.`,points:o}:{isValid:!0,message:`Il y a ${o.length} points de coordonnées $(${zo(i)}\\;;\\;${zo(n)})$ dans la figure.`,points:o}:{isValid:!0,message:"",points:[o[0]]}}function JH({distance:t,figure:e,label1:r,label2:i,shake:n=!0,time:a=0}){const s=[...e.elements.values()].filter(d=>d.type!=="pointer"&&d.type.includes("Point")),o=s.filter(d=>d.label===r);if(o.length===0)return{isValid:!1,message:`Il n'y a pas de point $${r}$ dans la figure.`};if(o.length>1)return{isValid:!1,message:`Il y a ${o.length} points $${r}$ dans la figure.`};const l=s.filter(d=>d.label===i);if(l.length===0)return{isValid:!1,message:`Il n'y a pas de point $${i}$ dans la figure.`};if(l.length>1)return{isValid:!1,message:`Il y a ${l.length} points $${i}$ dans la figure.`};const u=o[0],c=l[0];let h=Math.abs(hn(u,c)-t)<.001;n&&(ac({figure:e,time:a}),h=h&&Math.abs(hn(u,c)-t)<.001,ac({figure:e,time:a}),h=h&&Math.abs(hn(u,c)-t)<.001);let p="";return h?p=`La distance entre les points $${r}$ et $${i}$ est bien toujours égale à ${t}.`:p=`La distance entre les points $${r}$ et $${i}$ n'est pas toujours égale à ${t}.`,{isValid:h,message:p}}function eW({figure:t,point1:e,point2:r,color:i}){let n,a;if(n=[...t.elements.values()].filter(u=>u.type.includes("Line")),n.length===0)return{isValid:!1,message:"Il n'y a pas de droite dans la figure."};if(i!==void 0){if(a=n.filter(p=>p.color===i),a.length===0)return{isValid:!1,message:"Il n'y a pas de droite de la couleur demandée dans la figure."};const[u,c,h]=ug(e,r);for(const p of a){const[d,m,f]=p.equation;if(lC(u,c,h,d,m,f))return{isValid:!0,message:"La droite a bien été tracée."}}}const[s,o,l]=ug(e,r);for(const u of n){const[c,h,p]=u.equation;if(lC(s,o,l,c,h,p))return i===void 0?{isValid:!0,message:"La droite a bien été tracée."}:{isValid:!1,message:"La droite n'est pas tracée de la bonne couleur."}}return{isValid:!1,message:"Aucune droite ne correspond à la réponse attendue."}}function lC(t,e,r,i,n,a,s=2){if(e===0&&n===0)return r/t===a/i;const o=e!==0?-t/e:Number.POSITIVE_INFINITY,l=n!==0?-i/n:Number.POSITIVE_INFINITY,u=e!==0?-r/e:Number.NaN,c=n!==0?-a/n:Number.NaN;return et(o,s)===et(l,s)&&et(u,s)===et(c,s)}function tW({figure:t,label1:e,label2:r,time:i=0}){const[n,a]=e.split(""),[s,o]=r.split(""),l=[...t.elements.values()].filter(g=>g.type!=="pointer"&&g.type.includes("Point")),u=l.filter(g=>g.label===n);if(u.length===0)return{isValid:!1,message:`Il n'y a pas de point $${n}$ dans la figure.`};if(u.length>1)return{isValid:!1,message:`Il y a ${u.length} points $${n}$ dans la figure.`};const c=l.filter(g=>g.label===a);if(c.length===0)return{isValid:!1,message:`Il n'y a pas de point $${a}$ dans la figure.`};if(c.length>1)return{isValid:!1,message:`Il y a ${c.length} points $${a}$ dans la figure.`};const h=l.filter(g=>g.label===s);if(h.length===0)return{isValid:!1,message:`Il n'y a pas de point $${s}$ dans la figure.`};if(h.length>1)return{isValid:!1,message:`Il y a ${h.length} points $${s}$ dans la figure.`};const p=l.filter(g=>g.label===o);if(p.length===0)return{isValid:!1,message:`Il n'y a pas de point $${o}$ dans la figure.`};if(p.length>1)return{isValid:!1,message:`Il y a ${p.length} points $${o}$ dans la figure.`};const d=u[0],m=c[0],f=h[0],v=p[0];let y=et((m.y-d.y)/(m.x-d.x),2)===et((v.y-f.y)/(v.x-f.x),2);ac({figure:t,time:i}),y=y&&et((m.y-d.y)/(m.x-d.x),2)===et((v.y-f.y)/(v.x-f.x),2),ac({figure:t,time:i}),y=y&&et((m.y-d.y)/(m.x-d.x),2)===et((v.y-f.y)/(v.x-f.x),2);const x=y?`Les droites $(${n}${a})$ et $(${s}${o})$ sont bien toujours parallèles.`:`Les droites $(${n}${a})$ et $(${s}${o})$ ne sont pas toujours parallèles.`;return{isValid:y,message:x}}let f0=class extends fn{constructor(e,{borderSize:r,color:i=e.options.color,isDashed:n=e.options.isDashed,point1:a,point2:s,shape:o="",thickness:l=e.options.thickness,...u}){super(e,u),this.type="Segment",this.point1=a,this.point2=s,this.shape=o,this.borderSize=r??e.options.borderSize,this.color=i,this.thickness=l,this.isDashed=n,this.point1.subscribe(this),this.point2.subscribe(this)}dilate(e,r,i){const n=this.point1.dilate(e,r,{isChild:!0,isVisible:!1}),a=this.point2.dilate(e,r,{isChild:!0,isVisible:!1,...i});let s=this.type;s!=="Ray"&&s!=="Segment"&&(s="Line");const o=this.figure.create(s,{point1:n,point2:a});return o.transformation={center:e,factor:r,origin:this,type:"dilate"},o}distancePointer(e,r){const i={x:e,y:r},n=hn(i,this.point1),a=hn(i,this.point2),s=hn(this.point1,this.point2),o=((e-this.point1.x)*(this.point2.x-this.point1.x)+(r-this.point1.y)*(this.point2.y-this.point1.y))/s**2;if(o<0)return n;if(o>1)return a;const l=this.point1.x+o*(this.point2.x-this.point1.x),u=this.point1.y+o*(this.point2.y-this.point1.y);return hn(i,{x:l,y:u})}draw(){this.svgLine=document.createElementNS("http://www.w3.org/2000/svg","line"),this.groupSvg.appendChild(this.svgLine),this.shape!==""&&(this.svgBorder1=document.createElementNS("http://www.w3.org/2000/svg","line"),this.svgBorder2=document.createElementNS("http://www.w3.org/2000/svg","line"),this.svgArrow1=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.svgArrow2=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.groupSvg.appendChild(this.svgBorder1),this.groupSvg.appendChild(this.svgBorder2),this.groupSvg.appendChild(this.svgArrow1),this.groupSvg.appendChild(this.svgArrow2)),this.setVisibilityColorThicknessAndDashed(),this.update()}drawArrow1(){const e={x:this.point1.x,y:this.point1.y},r={x:this.point2.x,y:this.point2.y},i=Math.hypot(this.point1.x-this.point2.x,this.point1.y-this.point2.y),{x:n,y:a}=al(r,e,1/i*this.borderSize*2,45),{x:s,y:o}=al(r,e,1/i*this.borderSize*2,-45),l=this.figure.xToSx(n),u=this.figure.xToSx(s),c=this.figure.yToSy(a),h=this.figure.yToSy(o),p=this.figure.xToSx(e.x),d=this.figure.yToSy(e.y);uC(l,u,c,h,p,d)&&(this.svgArrow1.setAttribute("points",`${l},${c} ${p},${d} ${u},${h}`),this.groupSvg.appendChild(this.svgArrow1))}drawArrow2(){const e={x:this.point1.x,y:this.point1.y},r={x:this.point2.x,y:this.point2.y},i=Math.hypot(this.point1.x-this.point2.x,this.point1.y-this.point2.y),{x:n,y:a}=al(e,r,1/i*this.borderSize*2,45),{x:s,y:o}=al(e,r,1/i*this.borderSize*2,-45),l=this.figure.xToSx(n),u=this.figure.xToSx(s),c=this.figure.yToSy(a),h=this.figure.yToSy(o),p=this.figure.xToSx(r.x),d=this.figure.yToSy(r.y);uC(l,u,c,h,p,d)&&(this.svgArrow2.setAttribute("points",`${l},${c} ${p},${d} ${u},${h}`),this.groupSvg.appendChild(this.svgArrow2))}drawBorder1(){const e={x:this.point1.x,y:this.point1.y},r={x:this.point2.x,y:this.point2.y},i=Math.hypot(this.point1.x-this.point2.x,this.point1.y-this.point2.y),{x:n,y:a}=al(r,e,1/i*this.borderSize,90),{x:s,y:o}=al(r,e,1/i*this.borderSize,-90),l=this.figure.xToSx(n).toString(),u=this.figure.xToSx(s).toString(),c=this.figure.yToSy(a).toString(),h=this.figure.yToSy(o).toString();this.svgBorder1.setAttribute("x1",l),this.svgBorder1.setAttribute("y1",c),this.svgBorder1.setAttribute("x2",u),this.svgBorder1.setAttribute("y2",h),this.groupSvg.appendChild(this.svgBorder1)}drawBorder2(){const e={x:this.point1.x,y:this.point1.y},r={x:this.point2.x,y:this.point2.y},i=Math.hypot(this.point1.x-this.point2.x,this.point1.y-this.point2.y),{x:n,y:a}=al(e,r,1/i*this.borderSize,90),{x:s,y:o}=al(e,r,1/i*this.borderSize,-90),l=this.figure.xToSx(n).toString(),u=this.figure.xToSx(s).toString(),c=this.figure.yToSy(a).toString(),h=this.figure.yToSy(o).toString();this.svgBorder2.setAttribute("x1",l),this.svgBorder2.setAttribute("y1",c),this.svgBorder2.setAttribute("x2",u),this.svgBorder2.setAttribute("y2",h),this.groupSvg.appendChild(this.svgBorder2)}reflect(e,r){const i=this.point1.reflect(e,{isChild:!0,isVisible:!1}),n=this.point2.reflect(e,{isChild:!0,isVisible:!1});let a=this.type;a!=="Ray"&&a!=="Segment"&&(a="Line");const s=this.figure.create(a,{point1:i,point2:n,...r});return s.transformation={center:e,origin:this,type:"reflect"},s}reflectOverLine(e,r){const i=this.point1.reflectOverLine(e,{isChild:!0,isVisible:!1}),n=this.point2.reflectOverLine(e,{isChild:!0,isVisible:!1});let a=this.type;a!=="Ray"&&a!=="Segment"&&(a="Line");const s=this.figure.create(a,{point1:i,point2:n,...r});return s.transformation={line:e,origin:this,type:"reflectOverLine"},s}rotate(e,r,i){const n=this.point1.rotate(e,r,{isChild:!0,isVisible:!1}),a=this.point2.rotate(e,r,{isChild:!0,isVisible:!1,...i});let s=this.type;s!=="Ray"&&s!=="Segment"&&(s="Line");const o=this.figure.create(s,{point1:n,point2:a});return o.transformation={angle:r,center:e,origin:this,type:"rotation"},o}toJSON(){return{...this.jsonOptions(),borderSize:this.borderSize,idPoint1:this.point1.id,idPoint2:this.point2.id,shape:this.shape}}translate(e,r,i){const n=this.point1.translate(e,r),a=this.point2.translate(e,r);let s=this.type;s!=="Ray"&&s!=="Segment"&&(s="Line");const o=this.figure.create(s,{point1:n,point2:a,...i});return o.transformation={origin:this,point1:e,point2:r,type:"translation"},o}update(){var e,r,i,n,a,s,o,l,u,c,h;if(this.notify(),this.point1.x===void 0||this.point1.y===void 0||this.point2.x===void 0||this.point2.y===void 0||!Number.isFinite(this.point1.x)||!Number.isFinite(this.point1.y)||!Number.isFinite(this.point2.x)||!Number.isFinite(this.point2.y))this.svgLine.removeAttribute("x1"),this.svgLine.removeAttribute("x2"),this.svgLine.removeAttribute("y1"),this.svgLine.removeAttribute("y2");else{const p=this.figure.xToSx(this.point1.x),d=this.figure.xToSx(this.point2.x),m=this.figure.yToSy(this.point1.y),f=this.figure.yToSy(this.point2.y);this.svgLine.setAttribute("x1",`${p}`),this.svgLine.setAttribute("y1",`${m}`),this.svgLine.setAttribute("x2",`${d}`),this.svgLine.setAttribute("y2",`${f}`)}((e=this.shape)==null?void 0:e.at(0))==="|"?(this.drawBorder1(),(r=this.svgArrow1)==null||r.remove()):((i=this.shape)==null?void 0:i.at(0))==="<"?(this.drawArrow1(),(n=this.svgBorder1)==null||n.remove()):((a=this.svgArrow1)==null||a.remove(),(s=this.svgBorder1)==null||s.remove()),((o=this.shape)==null?void 0:o.at(-1))==="|"?(this.drawBorder2(),this.svgArrow2.remove()):((l=this.shape)==null?void 0:l.at(-1))===">"?(this.drawArrow2(),(u=this.svgBorder2)==null||u.remove()):((c=this.svgArrow2)==null||c.remove(),(h=this.svgBorder2)==null||h.remove())}get angleWithHorizontalInDegres(){const[e,r]=this.equation;return Math.atan2(-e,r)*180/Math.PI}get color(){return this._color}set color(e){super.color=e;for(const r of[this.svgArrow1,this.svgArrow2])r!==void 0&&(r.setAttribute("stroke",e),r.setAttribute("fill",e))}get description(){return`Segment ${this.notation}`}get equation(){if(this.point1.x===void 0||this.point1.y===void 0||this.point2.x===void 0||this.point2.y===void 0)return[Number.NaN,Number.NaN,Number.NaN];try{const e=this.point1.y-this.point2.y,r=this.point2.x-this.point1.x,i=(this.point1.x-this.point2.x)*this.point1.y+(this.point2.y-this.point1.y)*this.point1.x;return[e,r,i]}catch(e){return console.error("Erreur dans Line.equation()",e),[Number.NaN,Number.NaN,Number.NaN]}}get latex(){let e=`%${this.description}`,i=[this.latexOptions.replace(/^\[|\]$/g,"").trim(),this.shape].filter(Boolean).join(", ");return(i.includes("->")||i.includes("<-"))&&(i+=", >=stealth"),e+=`
\\draw[${i}] (${this.point1.x}, ${this.point1.y}) -- (${this.point2.x}, ${this.point2.y});`,e}get notation(){const e=this.point1.label!==""?this.point1.label:this.point1.id,r=this.point2.label!==""?this.point2.label:this.point2.id;return`[${e}${r}]`}get unitPerpendicularVectorBinome(){try{const[e,r]=this.equation;return{x:e,y:r}}catch(e){return console.error("Erreur dans Line.directeur()",e),{x:Number.NaN,y:Number.NaN}}}get unitVectorBinome(){try{const[e,r]=this.equation;return{x:r,y:-e}}catch(e){return console.error("Erreur dans Line.normal()",e),{x:Number.NaN,y:Number.NaN}}}};function uC(...t){for(const e of t)if(!Number.isFinite(e))return!1;return!0}function rW({color:t,label1:e,label2:r,figure:i}){const n=[...i.elements.values()].filter(c=>c.type!=="pointer"&&c.type.includes("Point")),a=n.filter(c=>c.label===e),s=n.filter(c=>c.label===r);if(a.length===0)return{isValid:!1,message:`Il n'y a pas de point $${e}$ dans la figure.`};if(a.length>1)return{isValid:!1,message:`Il y a plusieurs points nommés $${e}$ dans la figure.`};if(s.length===0)return{isValid:!1,message:`Il n'y a pas de point $${r}$ dans la figure.`};if(s.length>1)return{isValid:!1,message:`Il y a plusieurs points nommés $${r}$ dans la figure.`};let o=[...i.elements.values()].filter(c=>c instanceof f0);if(t!==void 0){if(o=o.filter(c=>c instanceof f0&&c.color===t),o.length>1)return{isValid:!1,message:`Il y a plusieurs droites de couleur ${t}.`};if(o.length===0)return{isValid:!1,message:`Il n'y a aucune droite de couleur ${t}.`}}if(o.length===0)return{isValid:!1,message:"Aucune droite n'est tracée."};let l=!1;for(const c of o){const h=hn(c.point1,a[0]),p=hn(c.point1,s[0]),d=hn(c.point2,a[0]),m=hn(c.point2,s[0]);if(l=Math.abs(h-p)<.001&&Math.abs(d-m)<.001,l)break}let u=l?`La médiatrice de $[${e+r}]$ bien construite`:`La médiatrice de [$${e+r}]$ n'est pas construite`;return u+=t!==void 0&&l?` en ${t}.`:".",{isValid:l,message:u}}function iW({figure:t,label:e,x:r,y:i,color:n}){let a=[];if(n!==void 0?a=[...t.elements.values()].filter(l=>l instanceof fn&&l.type!=="pointer"&&l.type==="Point"&&l.color===n):a=[...t.elements.values()].filter(l=>l.type!=="pointer"&&l.type==="Point"),e!==void 0){const l=a.filter(p=>p.label===e);if(l.length===0)return{isValid:!1,message:`Il n'y a pas de point $${e}$ dans la figure.`,points:[]};if(l.length>1)return{isValid:!1,message:`Il y a ${l.length} points $${e}$ dans la figure.`,points:l};const u=l[0],c=et(u.x)===et(r)&&et(u.y)===et(i),h=c?"":`Le point $${e}$ n'est pas  non bien placé dans la figure.`;return{isValid:c,message:h,points:[u]}}const s=a.filter(l=>et(l.x)===et(r)&&et(l.y)===et(i));return s.length===0?{isValid:!1,message:"Un point attendu n'est pas à sa place dans la figure.",points:[]}:s.length>1?{isValid:!0,message:`Il y a ${s.length} points confondus à la place d'un point attendu dans la figure.`,points:s}:{isValid:!0,message:"",points:[s[0]]}}function pg(t,e,r){const i=t<=e&&e<=r,n=t>=e&&e>=r;return i||n}function nW({figure:t,labelPt:e,labelPt1:r,labelPt2:i}){const n=[...t.elements.values()].filter(o=>o.type!=="pointer"&&o.type.includes("Point")&&"label"in o&&o.label===e);if(n.length===0)return{isValid:!1,message:`Il n'existe pas de point ${e} sur la figure.`};if(n.length>1)return{isValid:!1,message:`Il existe trop de points ${e} sur la figure.`};const a=[...t.elements.values()].filter(o=>o.type!=="pointer"&&o.type.includes("Point")&&"label"in o&&o.label===r);if(a.length===0)return{isValid:!1,message:`Il n'existe pas de point ${r} sur la figure.`};if(a.length>1)return{isValid:!1,message:`Il existe trop de points ${r} sur la figure.`};const s=[...t.elements.values()].filter(o=>o.type!=="pointer"&&o.type.includes("Point")&&"label"in o&&o.label===i);return s.length===0?{isValid:!1,message:`Il n'existe pas de point ${i} sur la figure.`}:s.length>1?{isValid:!1,message:`Il existe trop de points ${i} sur la figure.`}:!t.checkPointOnLine({labelPt:e,nameLine:`${r}${i}`}).isValid||!pg(a[0].x,n[0].x,s[0].x)||!pg(a[0].y,n[0].y,s[0].y)?{isValid:!1,message:`Le point ${e} n'est pas sur le segment[${r}${i}].`}:{isValid:!0,message:`Le point ${e} est sur le segment[${r}${i}].`}}function wm(t,e){return Math.hypot(t.x-e.x,t.y-e.y)}function aW(t){try{let e,r;return t>180?(e=1,r=0):t<-180?(e=1,r=1):(e=0,r=t>0?0:1),[e,r]}catch{return[Number.NaN,Number.NaN]}}function yb(t){return t-2*Math.PI*Math.floor((t+Math.PI)/(2*Math.PI))}function cC(t,e,r){const i=r*Math.PI/180;return{x:t.x+e*Math.cos(i),y:t.y+e*Math.sin(i)}}class hC extends fn{constructor(e,{axeX:r=!0,axeY:i=!0,color:n="black",grid:a=!0,labelX:s=!0,labelY:o=!0,stepX:l=1,stepY:u=1,subGrid:c=!1,subGridDivisions:h=5,xMax:p=e.xMax,xMin:d=e.xMin,yMax:m=e.yMax,yMin:f=e.yMin,strokeWidthGrid:v=.5,thickThickness:y=2,thickHeight:x=4,repereOij:g=!1,...b}={}){super(e,{...b}),this.type="Grid",this._color=n,this.axeX=r,this.axeY=i,this.grid=a,this.subGrid=c,this.labelX=s,this.labelY=o,this.stepX=l,this.stepY=u,this.subGridDivisions=h,this.xMin=d,this.xMax=p,this.yMin=f,this.yMax=m,this.labels=[],this.vectors=[],this.strokeWidthGrid=v,this.thickThickness=y,this.thickHeight=x,this.repereOij=g,this.thicks=document.createElementNS("http://www.w3.org/2000/svg","g")}draw(){if(this.axeX){const r=document.createElementNS("http://www.w3.org/2000/svg","defs");this.figure.svg.appendChild(r);const i=document.createElementNS("http://www.w3.org/2000/svg","marker");i.setAttribute("id","arrow"),i.setAttribute("markerWidth","20"),i.setAttribute("markerHeight","20"),i.setAttribute("refX","0"),i.setAttribute("refY","6"),i.setAttribute("orient","auto"),i.setAttribute("markerUnits","strokeWidth");const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d","M0,0 L0,12 L18,6 z"),i.appendChild(n),r.appendChild(i);const a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",this.figure.xToSx(this.xMin).toString()),a.setAttribute("y1",this.figure.yToSy(0).toString()),a.setAttribute("x2",(this.figure.xToSx(this.xMax)-20).toString()),a.setAttribute("y2",this.figure.yToSy(0).toString()),a.setAttribute("stroke","black"),a.setAttribute("stroke-width","1"),a.setAttribute("marker-end","url(#arrow)");for(let s=0;s<this.xMax;s+=this.stepX){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",this.figure.xToSx(s).toString()),o.setAttribute("y1",(-this.thickHeight).toString()),o.setAttribute("x2",this.figure.xToSx(s).toString()),o.setAttribute("y2",this.thickHeight.toString()),o.setAttribute("stroke",this._color),o.setAttribute("stroke-width",this.thickThickness.toString()),this.thicks.appendChild(o)}for(let s=0;s>=this.xMin;s-=this.stepX){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",this.figure.xToSx(s).toString()),o.setAttribute("y1",(-this.thickHeight).toString()),o.setAttribute("x2",this.figure.xToSx(s).toString()),o.setAttribute("y2",this.thickHeight.toString()),o.setAttribute("stroke",this._color),o.setAttribute("stroke-width",this.thickThickness.toString()),this.thicks.appendChild(o)}this.groupSvg.appendChild(a)}if(this.axeY){const r=document.createElementNS("http://www.w3.org/2000/svg","defs");this.figure.svg.appendChild(r);const i=document.createElementNS("http://www.w3.org/2000/svg","marker");i.setAttribute("id","arrow"),i.setAttribute("markerWidth","20"),i.setAttribute("markerHeight","20"),i.setAttribute("refX","0"),i.setAttribute("refY","6"),i.setAttribute("orient","auto"),i.setAttribute("markerUnits","strokeWidth");const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d","M0,0 L0,12 L18,6 z"),i.appendChild(n),r.appendChild(i);const a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",this.figure.xToSx(0).toString()),a.setAttribute("y1",this.figure.yToSy(this.yMin).toString()),a.setAttribute("x2",this.figure.xToSx(0).toString()),a.setAttribute("y2",(this.figure.yToSy(this.yMax)+20).toString()),a.setAttribute("stroke","black"),a.setAttribute("stroke-width","1"),a.setAttribute("marker-end","url(#arrow)");for(let s=0;s<this.yMax;s+=this.stepY){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",(-this.thickHeight).toString()),o.setAttribute("y1",this.figure.yToSy(s).toString()),o.setAttribute("x2",this.thickHeight.toString()),o.setAttribute("y2",this.figure.yToSy(s).toString()),o.setAttribute("stroke",this._color),o.setAttribute("stroke-width",this.thickThickness.toString()),this.thicks.appendChild(o)}for(let s=0;s>=this.yMin;s-=this.stepY){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",(-this.thickHeight).toString()),o.setAttribute("y1",this.figure.yToSy(s).toString()),o.setAttribute("x2",this.thickHeight.toString()),o.setAttribute("y2",this.figure.yToSy(s).toString()),o.setAttribute("stroke",this._color),o.setAttribute("stroke-width",this.thickThickness.toString()),this.thicks.appendChild(o)}this.groupSvg.appendChild(a)}if(this.grid){const r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("stroke","gray"),r.setAttribute("stroke-opacity","0.5"),this.groupSvg.appendChild(r);for(let i=this.xMin<=0?0:this.xMin;i<=this.xMax;i+=this.stepX){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1",this.figure.xToSx(i).toString()),n.setAttribute("y1",this.figure.yToSy(this.yMin).toString()),n.setAttribute("x2",this.figure.xToSx(i).toString()),n.setAttribute("y2",this.figure.yToSy(this.yMax).toString()),n.setAttribute("stroke-width",this.strokeWidthGrid.toString()),r.appendChild(n)}for(let i=this.xMax<0?this.xMax:this.xMax<this.stepX?0:-1;i>=this.xMin;i-=this.stepX){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1",this.figure.xToSx(i).toString()),n.setAttribute("y1",this.figure.yToSy(this.yMin).toString()),n.setAttribute("x2",this.figure.xToSx(i).toString()),n.setAttribute("y2",this.figure.yToSy(this.yMax).toString()),n.setAttribute("stroke-width","0.5"),r.appendChild(n)}for(let i=this.yMin<=0?0:this.yMin;i<=this.yMax;i+=this.stepY){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1",this.figure.xToSx(this.xMin).toString()),n.setAttribute("y1",this.figure.yToSy(i).toString()),n.setAttribute("x2",this.figure.xToSx(this.xMax).toString()),n.setAttribute("y2",this.figure.yToSy(i).toString()),n.setAttribute("stroke-width",this.strokeWidthGrid.toString()),r.appendChild(n)}for(let i=this.yMax<0?this.yMax:this.yMax<this.stepY?0:-1;i>=this.yMin;i-=this.stepY){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1",this.figure.xToSx(this.xMin).toString()),n.setAttribute("y1",this.figure.yToSy(i).toString()),n.setAttribute("x2",this.figure.xToSx(this.xMax).toString()),n.setAttribute("y2",this.figure.yToSy(i).toString()),n.setAttribute("stroke-width","0.5"),r.appendChild(n)}}if(this.subGrid){const r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("stroke","gray"),r.setAttribute("stroke-opacity","0.2"),this.groupSvg.appendChild(r);for(let i=this.xMin;i<=this.xMax;i+=this.stepX/this.subGridDivisions){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1",this.figure.xToSx(i).toString()),n.setAttribute("y1",this.figure.yToSy(this.yMin).toString()),n.setAttribute("x2",this.figure.xToSx(i).toString()),n.setAttribute("y2",this.figure.yToSy(this.yMax).toString()),n.setAttribute("stroke-width","0.25"),r.appendChild(n)}for(let i=this.yMin;i<=this.yMax;i+=this.stepY/this.subGridDivisions){const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1",this.figure.xToSx(this.xMin).toString()),n.setAttribute("y1",this.figure.yToSy(i).toString()),n.setAttribute("x2",this.figure.xToSx(this.xMax).toString()),n.setAttribute("y2",this.figure.yToSy(i).toString()),n.setAttribute("stroke-width","0.25"),r.appendChild(n)}}if(this.labelX){for(let r=this.labelY?this.stepX:0;r<this.xMax;r+=this.stepX)this.labels.push(this.figure.create("TextByPosition",{anchor:"topCenter",dyInPixels:-this.thickHeight-2,fontSize:"0.67em",isChild:!0,isSelectable:!0,text:`$${r.toString()}$`,x:r,y:0}));for(let r=-this.stepX;r>=this.xMin;r-=this.stepX)this.labels.push(this.figure.create("TextByPosition",{anchor:"topCenter",dyInPixels:-this.thickHeight-2,fontSize:"0.67em",isChild:!0,isSelectable:!0,text:`$${r.toString()}$`,x:r,y:0}))}if(this.labelY){for(let r=this.stepY;r<this.yMax;r+=this.stepY)this.labels.push(this.figure.create("TextByPosition",{anchor:"middleRight",dxInPixels:-this.thickHeight-5,dyInPixels:0,fontSize:"0.67em",isChild:!0,isSelectable:!0,text:`$${r.toString()}$`,x:0,y:r}));for(let r=-this.stepY;r>=this.yMin;r-=this.stepY)this.labels.push(this.figure.create("TextByPosition",{anchor:"middleRight",dxInPixels:-this.thickHeight-5,dyInPixels:2,fontSize:"0.67em",isChild:!0,isSelectable:!0,text:`$${r.toString()}$`,x:0,y:r-.1}));this.labelX||this.labels.push(this.figure.create("TextByPosition",{anchor:"middleRight",dxInPixels:this.thickHeight+10,dyInPixels:2,fontSize:"0.67em",isChild:!0,isSelectable:!0,text:"$0$",x:-1.2,y:0}))}if(this.groupSvg.appendChild(this.thicks),this.setVisibilityColorThicknessAndDashed(),this.repereOij){const r=this.figure.create("Point",{x:0,y:0,isVisible:!1,isChild:!0});this.vectors=[this.figure.create("Vector",{origin:r,x:1,y:0,color:su,thickness:3,isChild:!0}),this.figure.create("Vector",{origin:r,x:0,y:1,color:su,thickness:3,isChild:!0})],this.labels.push(this.figure.create("TextByPosition",{text:"$O$",x:-.25,y:-.25,anchor:"topRight",color:su,fontSize:"8pt",isChild:!0}),this.figure.create("TextByPosition",{text:"$\\vec \\imath$",x:.5,y:-.25,anchor:"topRight",color:su,fontSize:"8pt",isChild:!0}),this.figure.create("TextByPosition",{text:"$\\vec \\jmath$",x:-.5,y:.25,anchor:"bottomRight",color:su,fontSize:"8pt",isChild:!0}))}this.update()}get latex(){let e=`%${this.description}`;return e+=`
\\tkzInit[xmin=${this.xMin}, xmax=${this.xMax}, ymin=${this.yMin}, ymax=${this.yMax}]`,e+=`
\\tkzGrid[thick]`,e+="\\tkzAxeXY",e}get isVisible(){return super.isVisible}set isVisible(e){super.isVisible=e;for(const r of this.labels)r.isVisible=e;for(const r of this.vectors)r.isVisible=e}toJSON(){return{...this.jsonOptions(),xMin:this.xMin,xMax:this.xMax,yMin:this.yMin,yMax:this.yMax,axeX:this.axeX,axeY:this.axeY,grid:this.grid,labelX:this.labelX,labelY:this.labelY,repereOij:this.repereOij,stepX:this.stepX,stepY:this.stepY,subGrid:this.subGrid,thickHeight:this.thickHeight,thickThickness:this.thickThickness}}}let ca=class extends fn{constructor(e,{color:r=e.options.color,colorLabel:i=e.options.color,id:n,isChild:a,isFree:s=!0,isSelectable:o,isVisible:l=!0,label:u,labelIsVisible:c=e.options.labelIsVisible??!0,labelDxInPixels:h,labelDyInPixels:p,shape:d=e.options.shape,sizeInPixels:m,thickness:f,x:v=0,y=0}){if(n===void 0){let x=0;for(;e.elements.has(`point${x.toString()}`);)x++;n=`point${x.toString()}`}super(e,{color:r,id:n,isChild:a,isSelectable:o,thickness:f}),this.type="Point",this._shape=d??"x",this._sizeInPixels=m??e.options.pointSize,this._thickness=f??e.options.thicknessForPoint,this.labelDxInPixels=h??e.options.labelDxInPixels,this.labelDyInPixels=p??e.options.labelDyInPixels,this.figure.snapGrid&&this.isVisible?(this._x=Math.round(v/this.figure.dx)*this.figure.dx,this._y=Math.round(y/this.figure.dy)*this.figure.dy):(this._x=v,this._y=y),this.label=u,this.labelIsVisible=c,this._colorLabel=i,this.isFree=s,this._isVisible=l??!0}redraw(){var e,r,i,n,a,s,o,l,u,c,h,p;if(this.notify(),Number.isNaN(this._x)||Number.isNaN(this._y)){(e=this.svgCircle)==null||e.remove(),(r=this.svgLine1)==null||r.remove(),(i=this.svgLine2)==null||i.remove(),(n=this.elementTextLabel)==null||n.hide();return}if(this.elementTextLabel===void 0||this.elementTextLabel.x>this.figure.xMax||this.elementTextLabel.y>this.figure.yMax||this.elementTextLabel.x<this.figure.xMin||this.elementTextLabel.y<this.figure.yMin?(a=this.elementTextLabel)==null||a.hide():this.isVisible&&this.labelIsVisible&&((s=this.elementTextLabel)==null||s.show()),this._shape==="x"){const d=this.figure.xToSx(this._x)-this._sizeInPixels,m=this.figure.xToSx(this._x)+this._sizeInPixels,f=this.figure.xToSx(this._x)+this._sizeInPixels,v=this.figure.xToSx(this._x)-this._sizeInPixels,y=this.figure.yToSy(this._y)-this._sizeInPixels,x=this.figure.yToSy(this._y)+this._sizeInPixels,g=this.figure.yToSy(this._y)-this._sizeInPixels,b=this.figure.yToSy(this._y)+this._sizeInPixels;this.svgLine1.setAttribute("x1",`${d}`),this.svgLine1.setAttribute("y1",`${y}`),this.svgLine1.setAttribute("x2",`${m}`),this.svgLine1.setAttribute("y2",`${x}`),this.svgLine2.setAttribute("x1",`${f}`),this.svgLine2.setAttribute("y1",`${g}`),this.svgLine2.setAttribute("x2",`${v}`),this.svgLine2.setAttribute("y2",`${b}`),(o=this.svgCircle)==null||o.remove(),this.groupSvg.appendChild(this.svgLine1),this.groupSvg.appendChild(this.svgLine2)}else if(this._shape==="o"){const d=this.figure.xToSx(this._x),m=this.figure.yToSy(this._y),f=this._sizeInPixels;this.svgCircle.setAttribute("cx",`${d}`),this.svgCircle.setAttribute("cy",`${m}`),this.svgCircle.setAttribute("r",`${f}`),(l=this.svgLine1)==null||l.remove(),(u=this.svgLine2)==null||u.remove(),this.groupSvg.appendChild(this.svgCircle)}else this._shape===""&&((c=this.svgLine1)==null||c.remove(),(h=this.svgLine2)==null||h.remove(),(p=this.svgCircle)==null||p.remove())}createSegmentToAxeX(){const e=this.figure.create("PointByProjectionOnAxisX",{isVisible:!1,origin:this});return this.figure.create("Segment",{isDashed:!0,point1:this,point2:e})}createSegmentToAxeY(){const e=this.figure.create("PointByProjectionOnAxisY",{isVisible:!1,origin:this});return this.figure.create("Segment",{isDashed:!0,point1:this,point2:e})}dilate(e,r,i){const n=this.figure.create("Point",i);return n.transformation={center:e,factor:r,origin:this,type:"dilate"},this.subscribe(n),e.subscribe(n),n.isFree=!1,n.update(),n}distancePointer(e,r){return this._x===void 0||this._y===void 0?Number.POSITIVE_INFINITY:Math.hypot((this._x-e)*this.figure.scale*this.figure.xScale,(this._y-r)*this.figure.scale*this.figure.yScale)}draw(){this.svgLine1=document.createElementNS("http://www.w3.org/2000/svg","line"),this.svgLine2=document.createElementNS("http://www.w3.org/2000/svg","line"),this.svgCircle=document.createElementNS("http://www.w3.org/2000/svg","circle"),this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","g"),this.setVisibilityColorThicknessAndDashed(),this.isVisible&&(this.shape=this._shape,this.label=this._label),this.update()}isInArc(e){const[r,i]=[this.x,this.y],n=wm(this,e.center),a=wm(e.center,e.start);if(n>a)return!1;const s=yb(Math.atan2(i-e.center.y,r-e.center.x)),o=yb(Math.atan2(e.start.y-e.center.y,e.start.x-e.center.x)),l=yb(o+e.dynamicAngle.value*Math.PI/180);return o<l?o<s&&s<l:o<s||s<l}isInCircle(e){return(this.x-e.center.x)**2+(this.y-e.center.y)**2<=e.radius**2}isInPolygon(e){const r=this.x,i=this.y;let n=!1;for(let a=0;a<e.points.length;a++){const s=e.points.at(a%e.points.length),o=e.points.at((a+1)%e.points.length);s.y>i!=o.y>i&&r<(o.x-s.x)*(i-s.y)/(o.y-s.y)+s.x&&(n=!n)}return n}isOnline(e){const[r,i,n]=e.equation;let a=Math.abs(r*this.x+i*this.y+n)<10**-6;return e.type==="Segment"&&(this.x<Math.min(e.point1.x,e.point2.x)||this.x>Math.max(e.point1.x,e.point2.x)||this.y<Math.min(e.point1.y,e.point2.y)||this.y>Math.max(e.point1.y,e.point2.y))&&(a=!1),e.type==="Ray"&&(e.point1.x<e.point2.x&&this.x<e.point1.x&&(a=!1),e.point1.x>e.point2.x&&this.x>e.point1.x&&(a=!1),e.point1.y<e.point2.y&&this.y<e.point1.y&&(a=!1),e.point1.y>e.point2.y&&this.y>e.point1.y&&(a=!1)),a}jsonOptions(){return{...super.jsonOptions(),colorLabel:this.colorLabel,label:this.label,labelDxInPixels:this.labelDxInPixels,labelDyInPixels:this.labelDyInPixels,shape:this.shape,sizeInPixels:this.sizeInPixels,x:et(this.x),y:et(this.y)}}moveTo(e,r){this.x=e,this.y=r}reflect(e,r){const i=this.figure.create("Point",r);return i.transformation={center:e,origin:this,type:"reflect"},this.subscribe(i),e.subscribe(i),i.isFree=!1,i.update(),i}reflectOverLine(e,r){const i=this.figure.create("Point",r);return i.transformation={line:e,origin:this,type:"reflectOverLine"},this.subscribe(i),e.subscribe(i),i.isFree=!1,i.update(),i}rotate(e,r,i){const n=this.figure.create("Point",i);return n.transformation={angle:r,center:e,origin:this,type:"rotation"},this.subscribe(n),e.subscribe(n),n.isFree=!1,n.update(),n}toJSON(){return this.jsonOptions()}translate(e,r,i){const n=this.figure.create("Point",i);return n.transformation={origin:this,point1:e,point2:r,type:"translation"},this.subscribe(n),e.subscribe(n),r.subscribe(n),n.isFree=!1,n.update(),n}translateVector(e,r){const i=this.figure.create("Point",r);return i.transformation={origin:this,vector:e,type:"translationVector"},this.subscribe(i),e.subscribe(i),i.isFree=!1,i.update(),i}update(){var e,r,i,n,a,s;if(((e=this.transformation)==null?void 0:e.type)==="reflect")this._x=2*this.transformation.center.x-this.transformation.origin.x,this._y=2*this.transformation.center.y-this.transformation.origin.y;else if(((r=this.transformation)==null?void 0:r.type)==="dilate")this._x=this.transformation.center.x+this.transformation.factor*(this.transformation.origin.x-this.transformation.center.x),this._y=this.transformation.center.y+this.transformation.factor*(this.transformation.origin.y-this.transformation.center.y);else if(((i=this.transformation)==null?void 0:i.type)==="rotation"){const{x:o,y:l}=nl(this.transformation.origin,this.transformation.center,this.transformation.angle);this._x=o,this._y=l}else if(((n=this.transformation)==null?void 0:n.type)==="reflectOverLine"){const{x:o,y:l}=GH(this.transformation.origin,this.transformation.line);this._x=o,this._y=l}else if(((a=this.transformation)==null?void 0:a.type)==="translation"){const{x:o,y:l}=ZH(this.transformation.origin,this.transformation.point1,this.transformation.point2);this._x=o,this._y=l}else if(((s=this.transformation)==null?void 0:s.type)==="translationVector"){const o=this.transformation.origin.x+this.transformation.vector.x,l=this.transformation.origin.y+this.transformation.vector.y;this._x=o,this._y=l}this.redraw()}get color(){return this._color}set color(e){this._color=e,this.svgCircle!==void 0&&(this.svgCircle.setAttribute("fill",e),this.svgCircle.setAttribute("stroke",e)),this.svgLine1!==void 0&&this.svgLine1.setAttribute("stroke",e),this.svgLine2!==void 0&&this.svgLine2.setAttribute("stroke",e)}get colorLabel(){return this._colorLabel}set colorLabel(e){this._colorLabel=e,this.elementTextLabel!==void 0&&(this.elementTextLabel.color=e)}get description(){var e,r,i,n,a,s,o,l,u;return((e=this.transformation)==null?void 0:e.type)==="reflect"?`Point $${this.label}$ image du point $${this.transformation.origin.notation}$ dans la symétrie de centre $${(r=this.transformation)==null?void 0:r.center.notation}$`:((i=this.transformation)==null?void 0:i.type)==="reflectOverLine"?`Point $${this.label}$ image du point $${this.transformation.origin.notation}$ dans la symétrie d'axe $${(n=this.transformation)==null?void 0:n.line.notation}$`:((a=this.transformation)==null?void 0:a.type)==="dilate"?`Point $${this.label}$ image du point $${this.transformation.origin.notation}$ dans l'homothétie de centre $${(s=this.transformation)==null?void 0:s.center.notation}$ et de rapport $${this.transformation.factor}$`:((o=this.transformation)==null?void 0:o.type)==="rotation"?`Point $${this.label}$ image du point $${this.transformation.origin.notation}$ dans la rotation de centre $${this.transformation.center.notation}$ et d'angle $${Math.abs(this.transformation.angle)}\\degree$ dans le sens ${this.transformation.angle>0?"anti-horaire":"horaire"}`:((l=this.transformation)==null?void 0:l.type)==="translation"?`Point $${this.label}$ image du point $${this.transformation.origin.notation}$ dans la translation qui transforme $${this.transformation.point1.notation}$ en $${this.transformation.point2.notation}$`:((u=this.transformation)==null?void 0:u.type)==="translationVector"?`Point $${this.label}$ image
      du point $${this.transformation.origin.notation}$
      par la translation de vecteur $${this.transformation.vector.notation}$
      `:this.figure.options.pointDescriptionWithCoordinates?`Point $${this.label}$ libre de coordonnées $(${et(this.x,2).toString().replace(".",",")}\\;;\\;${et(this.y,2).toString().replace(".",",")})$`:`Point $${this.label}$`}get isVisible(){return this._isVisible}set isVisible(e){var r,i;this._isVisible=e,this.isVisible?(r=this.elementTextLabel)==null||r.show():(i=this.elementTextLabel)==null||i.hide(),this.isVisible||(this.labelIsVisible=!1),super.isVisible=e}get label(){return this._label===void 0?"":this._label}set label(e){var r;if(this._label=e,!this.isVisible||!this.labelIsVisible){(r=this.elementTextLabel)==null||r.hide();return}e!==void 0&&e.length>0&&(this.elementTextLabel===void 0?this.elementTextLabel=this.figure.create("TextByPoint",{color:this.colorLabel,dxInPixels:this.labelDxInPixels*this.figure.scale,dyInPixels:this.labelDyInPixels*this.figure.scale,id:`${this.id}_label`,isChild:!0,isSelectable:!0,point:this,text:`$${e}$`}):(this.elementTextLabel.text=`$${e}$`,this.elementTextLabel.color=this._colorLabel))}get latex(){if(this.shape==="")return"";let e=`% Point ${this.label}`;return e+=`
\\draw${this.latexOptions} plot[mark=${this.shape}, mark size=${.15/this.figure.scale}cm] coordinates{(${this.x},${this.y})};`,e}get notation(){return this.label!==""?this.label:this.id}get shape(){return this._shape}set shape(e){var r,i,n,a,s,o,l;this._shape=e,this._shape==="x"?(this.figure.svg.appendChild(this.groupSvg),(r=this.svgCircle)==null||r.remove(),this.groupSvg.appendChild(this.svgLine1),this.groupSvg.appendChild(this.svgLine2)):this._shape==="o"?(this.figure.svg.appendChild(this.groupSvg),(i=this.svgLine1)==null||i.remove(),(n=this.svgLine2)==null||n.remove(),this.groupSvg.appendChild(this.svgCircle)):this._shape===""&&((a=this.groupSvg)==null||a.remove(),(s=this.svgLine1)==null||s.remove(),(o=this.svgLine2)==null||o.remove(),(l=this.svgCircle)==null||l.remove()),this.update()}get sizeInPixels(){return this._sizeInPixels}set sizeInPixels(e){this._sizeInPixels=e,this.update()}get x(){return this._x}set x(e){this.figure.snapGrid&&this.isVisible?(this._x=Math.round(e/this.figure.dx)*this.figure.dx,this.figure.options.gridWithTwoPointsOnSamePosition||this.goToClosestFreePosition()):this._x=e,this.update()}get y(){return this._y}set y(e){this.figure.snapGrid&&this.isVisible?(this._y=Math.round(e/this.figure.dy)*this.figure.dy,this.figure.options.gridWithTwoPointsOnSamePosition||this.goToClosestFreePosition()):this._y=e,this.update()}goToClosestFreePosition(){const{points:r}=this.figure.checkCoords({x:this._x,y:this._y}),i=[...this.figure.elements.values()].find(s=>s instanceof hC),n=this._x>=this.figure.xMin&&this._x<=this.figure.xMax&&this._y>=this.figure.yMin&&this._y<=this.figure.yMax,a=i!==void 0&&this._x<=i.xMax&&this._x>=i.xMin&&this._y<=i.yMax&&this._y>=i.yMin;if(!(r.length===1&&n&&(!i||a)))for(let s=1;s<=10;s++)for(const o of[0,s,-s])for(const l of[0,s,-s]){if(l===0&&o===0)continue;const u=this._x+l*this.figure.dx,c=this._y+o*this.figure.dy;if(!(u<this.figure.xMin||u>this.figure.xMax||c<this.figure.yMin&&c>this.figure.yMax||i!==void 0&&(u<i.xMin||u>i.xMax||c<i.yMin&&c>i.yMax))&&this.checkAndMove(l*this.figure.dx,o*this.figure.dy))return}}checkAndMove(e,r){const i=this._x+e,n=this._y+r,{points:a}=this.figure.checkCoords({x:i,y:n});return a.length===0?(this._x=i,this._y=n,!0):!1}};class pC extends ca{constructor(e,{line1:r,line2:i,...n}){const a=nC(r,i);super(e,{isFree:!1,x:a.x,y:a.y,...n}),this.type="PointIntersectionLL",this.line1=r,this.line2=i,this.line1.subscribe(this),this.line2.subscribe(this)}toJSON(){return{...this.jsonOptions(),...super.jsonOptions(),idLine1:this.line1.id,idLine2:this.line2.id,label:this.label,shape:this.shape,sizeInPixels:this.sizeInPixels}}update(){if(!(this.line1===void 0||this.line2===void 0)){try{const e=nC(this.line1,this.line2);this._x=e.x,this._y=e.y,super.update()}catch(e){console.error("Erreur dans PointIntersectionLL.update()",e)}this.notify()}}get description(){const e=this.line1.notation,r=this.line2.notation;return`Point $${this.notation}$ à l'intersection de la droite $${e}$ et de la droite $${r}$`}}function sW({figure:t,labelPt:e,nameLine1:r,nameLine2:i}){let n=[...t.elements.values()].filter(c=>c.type!=="pointer"&&c.type.includes("Point")&&"label"in c&&c.label===e);if(n.length===0)return{isValid:!1,message:`Il n'existe pas de point ${e} sur la figure.`};if(n.length>1)return{isValid:!1,message:`Il existe trop de points ${e} sur la figure.`};const a=[...t.elements.values()].filter(c=>c.type.includes("Line")||c.type.includes("Segment")||c.type.includes("Ray"));let s,o;const l=Array.isArray(r)?r[0]:r,u=Array.isArray(i)?i[0]:i;if(a.length!==0){if(s=a.filter(c=>r.includes(c.notation)),s.length===0)return{isValid:!1,message:`${l} n'existe pas sur la figure.`};if(o=a.filter(c=>i.includes(c.notation)),o.length===0)return{isValid:!1,message:`${u} n'existe pas sur la figure.`}}return n=[...t.elements.values()].filter(c=>c instanceof pC&&c.type!=="pointer"&&c.type.includes("PointIntersectionLL")&&"label"in c&&c.label===e&&s.some(h=>c.line1===h||c.line2===h)&&o.some(h=>c.line1===h||c.line2===h)),n.length===0?{isValid:!1,message:`Le point ${e} n'est pas à l'intersection de ${l} et de ${u}.`}:{isValid:!0,message:`Le point ${e} est à l'intersection de ${l} et de ${u}.`}}class Ih extends f0{constructor(e,{point1:r,point2:i,...n}){super(e,{point1:r,point2:i,...n}),this.type="Line"}distancePointer(e,r){const i={x:e,y:r},n=xm(i,this);return hn(i,n)}update(){var a,s,o,l;const[e,r,i,n]=dC(this.point1,this.point2);Number.isNaN(e)||Number.isNaN(i)||Number.isNaN(r)||Number.isNaN(r)?(this.svgLine.removeAttribute("x1"),this.svgLine.removeAttribute("x2"),this.svgLine.removeAttribute("y1"),this.svgLine.removeAttribute("y2")):(this.svgLine.setAttribute("x1",`${this.figure.xToSx(e)}`),this.svgLine.setAttribute("y1",`${this.figure.yToSy(r)}`),this.svgLine.setAttribute("x2",`${this.figure.xToSx(i)}`),this.svgLine.setAttribute("y2",`${this.figure.yToSy(n)}`)),((a=this.shape)==null?void 0:a.at(0))==="|"?this.drawBorder1():(s=this.svgBorder1)==null||s.remove(),((o=this.shape)==null?void 0:o.at(-1))==="|"?this.drawBorder2():(l=this.svgBorder2)==null||l.remove(),this.notify()}get description(){return this.point1.label!==""||this.point2.label!==""?`Droite ${this.notation}`:`Droite n°${[...this.figure.elements.values()].filter(i=>i instanceof Ih).indexOf(this)+1}`}get latex(){const[e,r,i,n]=dC(this.point1,this.point2);let a=`%${this.description}`;return a+=`
\\draw${this.latexOptions} (${e}, ${r}) -- (${i}, ${n});`,a}get notation(){const e=this.point1.label!==""?this.point1.label:this.point1.id,r=this.point2.label!==""?this.point2.label:this.point2.id;return`(${e}${r})`}}function dC(t,e){if(t.x===void 0||t.y===void 0||e.x===void 0||e.y===void 0||Number.isNaN(t.x)||Number.isNaN(t.y)||Number.isNaN(e.x)||Number.isNaN(e.y))return[Number.NaN,Number.NaN,Number.NaN,Number.NaN];try{const r=t.figure;let i=Yk;if(e.x!==t.x&&(i=(e.y-t.y)/(e.x-t.x)),Math.abs(i)>=Yk)return[t.x,r.yMax,t.x,r.yMin];if(Math.abs(i)<Kk)return[r.xMin,t.y,r.xMax,t.y];let n=r.xMin,a=t.y+(r.xMin-t.x)*i;a>r.yMax?(a=r.yMax,n=t.x+(r.yMax-t.y)/i):a<r.yMin&&(a=r.yMin,n=t.x+(r.yMin-t.y)/i);let s=r.xMax,o=t.y+(r.xMax-t.x)*i;return o>r.yMax?(o=r.yMax,s=t.x+(r.yMax-t.y)/i):o<r.yMin&&(o=r.yMin,s=t.x+(r.yMin-t.y)/i),[n,a,s,o]}catch(r){return console.error("Erreur dans Line.getCoordsOut",r),[Number.NaN,Number.NaN,Number.NaN,Number.NaN]}}class bb extends f0{constructor(e,{point1:r,point2:i,...n}){super(e,{point1:r,point2:i,...n}),this.type="Ray"}distancePointer(e,r){const i={x:e,y:r},n={x:this.point2.x-this.point1.x,y:this.point2.y-this.point1.y},a=Math.hypot(n.x,n.y);if(a===0)return hn(i,this.point1);const s={x:n.x/a,y:n.y/a},o=(s.x*(e-this.point1.x)+s.y*(r-this.point1.y))/a;if(o<0)return hn(i,this.point1);const l=this.point1.x+n.x*o,u=this.point1.y+n.y*o;return hn(i,{x:l,y:u})}update(){var u,c,h,p;const[e,r,i,n]=mC(this.point1,this.point2),[a,s,o,l]=[this.figure.xToSx(e),this.figure.yToSy(r),this.figure.xToSx(i),this.figure.yToSy(n)];!Number.isFinite(a)||!Number.isFinite(o)||!Number.isFinite(s)||!Number.isFinite(l)?(this.svgLine.removeAttribute("x1"),this.svgLine.removeAttribute("x2"),this.svgLine.removeAttribute("y1"),this.svgLine.removeAttribute("y2")):(this.svgLine.setAttribute("x1",`${a}`),this.svgLine.setAttribute("y1",`${s}`),this.svgLine.setAttribute("x2",`${o}`),this.svgLine.setAttribute("y2",`${l}`)),((u=this.shape)==null?void 0:u.at(0))==="|"?this.drawBorder1():(c=this.svgBorder1)==null||c.remove(),((h=this.shape)==null?void 0:h.at(-1))==="|"?this.drawBorder2():(p=this.svgBorder2)==null||p.remove(),this.notify()}get description(){return`Demi-droite ${this.notation}`}get latex(){const[e,r,i,n]=mC(this.point1,this.point2);let a=`%${this.description}`;return a+=`
\\draw${this.latexOptions} (${e}, ${r}) -- (${i}, ${n});`,a}get notation(){const e=this.point1.label!==""?this.point1.label:this.point1.id,r=this.point2.label!==""?this.point2.label:this.point2.id;return`[${e}${r})`}}function mC(t,e){if(t.x===void 0||t.y===void 0||e.x===void 0||e.y===void 0||Number.isNaN(t.x)||Number.isNaN(t.y)||Number.isNaN(e.x)||Number.isNaN(e.y))return[Number.NaN,Number.NaN,Number.NaN,Number.NaN];try{const r=t.figure;let i=Number.POSITIVE_INFINITY;if(e.x!==t.x&&(i=(e.y-t.y)/(e.x-t.x)),i===Number.POSITIVE_INFINITY)return t.y>e.y?[t.x,t.y,t.x,r.yMin]:[t.x,t.y,t.x,r.yMax];if(Math.abs(i)<10**-4)return t.x>e.x?[t.x,t.y,r.xMin,t.y]:[t.x,t.y,r.xMax,t.y];let n,a,s=0;if(e.x>t.x){for(;n=t.x+s,a=t.y+s*i,s++,!(n>r.xMax+1||a>r.yMax+1||a<r.yMin-1););return[t.x,t.y,n,a]}for(;n=t.x-s,a=t.y-s*i,s++,!(n<r.xMin-1||a>r.yMax+1||a<r.yMin-1););return[t.x,t.y,n,a]}catch(r){return console.error("Erreur dans Ray.getRayCoordsOut",r),[Number.NaN,Number.NaN,Number.NaN,Number.NaN]}}class fC extends ca{constructor(e,{k:r,line:i,shape:n="|",...a}){r===void 0&&(r=Math.random()),n===void 0&&(n="|"),super(e,{x:99,y:99,shape:n,...a}),this.center=i.point1,this.origin=i.point2,this.k=r,this.type="PointOnLine",this.line=i,this.isFree=!0,this.line.subscribe(this)}moveTo(e,r){const i={x:e,y:r};try{const[n,a,s]=this.line.equation,o=1/(n*n+a*a);let l,u;if(n===0?(l=i.x,u=-s/a):a===0?(u=i.y,l=-s/n):i.x===void 0||i.y===void 0?(l=Number.NaN,u=Number.NaN):(l=o*(a*a*i.x-n*a*i.y-n*s),u=o*(-n*a*i.x+n*n*i.y+n*n*s/a)-s/a),this.line instanceof f0){const c=this.line;if(this.line instanceof Ih){let h=1;(this.line.point1.x<this.line.point2.x&&l<this.line.point1.x||this.line.point1.x>this.line.point2.x&&l>this.line.point1.x||this.line.point1.y<this.line.point2.y&&u<this.line.point1.y||this.line.point1.y>this.line.point2.y&&u>this.line.point1.y)&&(h=-1),this.k=h*Math.hypot(l-this.line.point1.x,u-this.line.point1.y)/Math.hypot(this.line.point2.x-this.line.point1.x,this.line.point2.y-this.line.point1.y)}else if(c instanceof bb){const h=this.line;h.point1.x<h.point2.x&&l<h.point1.x?this.k=0:h.point1.x>h.point2.x&&l>h.point1.x?this.k=0:h.point1.y<h.point2.y&&u<h.point1.y?this.k=0:h.point1.y>h.point2.y&&u>h.point1.y?this.k=0:this.k=Math.hypot(l-h.point1.x,u-h.point1.y)/Math.hypot(h.point2.x-h.point1.x,h.point2.y-h.point1.y)}else if(c instanceof f0){const h=this.line;l<Math.min(h.point1.x,h.point2.x)?this.k=h.point1.x<h.point2.x?0:1:l>Math.max(h.point1.x,h.point2.x)?this.k=h.point1.x<h.point2.x?1:0:u<Math.min(h.point1.y,h.point2.y)?this.k=h.point1.y<h.point2.y?0:1:u>Math.max(h.point1.y,h.point2.y)?this.k=h.point1.y<h.point2.y?1:0:this.k=Math.hypot(l-h.point1.x,u-h.point1.y)/Math.hypot(h.point2.x-h.point1.x,h.point2.y-h.point1.y)}}}catch{console.error("Erreur dans le moveTo PointOnLine")}this.update()}toJSON(){return{...this.jsonOptions(),idLine:this.line.id,k:this.k,label:this.label,shape:this.shape}}update(){if(this._x=this.center.x+this.k*(this.origin.x-this.center.x),this._y=this.center.y+this.k*(this.origin.y-this.center.y),this.shape==="|"){const e={x:this.line.point1.x,y:this.line.point1.y},r={x:this._x,y:this._y},i=Math.hypot(this.line.point1.x-this._x,this.line.point1.y-this._y);let{x:n,y:a}=al(e,r,1/i*this.sizeInPixels/this.figure.pixelsPerUnit*Math.sqrt(2),90),{x:s,y:o}=al(e,r,1/i*this.sizeInPixels/this.figure.pixelsPerUnit*Math.sqrt(2),-90);if(!Number.isFinite(n)||!Number.isFinite(s)||!Number.isFinite(a)||!Number.isFinite(o)){const{x:l,y:u}=al(r,e,1/i*this.sizeInPixels/this.figure.pixelsPerUnit*Math.sqrt(2),90),{x:c,y:h}=al(r,e,1/i*this.sizeInPixels/this.figure.pixelsPerUnit*Math.sqrt(2),-90);n=l,s=c,a=u,o=h}if(Number.isFinite(n)&&Number.isFinite(s)&&Number.isFinite(a)&&Number.isFinite(o)){const l=this.figure.xToSx(n).toString(),u=this.figure.xToSx(s).toString(),c=this.figure.yToSy(a).toString(),h=this.figure.yToSy(o).toString();this.svgLine1.setAttribute("x1",l),this.svgLine1.setAttribute("y1",c),this.svgLine1.setAttribute("x2",u),this.svgLine1.setAttribute("y2",h),this.groupSvg.appendChild(this.svgLine1)}else console.error("Erreur dans le update de PointOnLine")}super.update()}get description(){return`Point sur $${this.line.notation}$`}get x(){return this._x}set x(e){const[r,i,n]=this.line.equation,a=(-r*e-n)/i;this.moveTo(e,a)}get y(){return this._y}set y(e){const[r,i,n]=this.line.equation,a=(-i*e-n)/r;this.moveTo(a,e)}}function oW({figure:t,labelPt:e,nameLine:r}){let i=[...t.elements.values()].filter(s=>s.type!=="pointer"&&s.type.includes("Point")&&"label"in s&&s.label===e);if(i.length===0)return{isValid:!1,message:`Il n'existe pas de point ${e} sur la figure.`};if(i.length>1)return{isValid:!1,message:`Il existe trop de points ${e} sur la figure.`};let n=[...t.elements.values()].filter(s=>s.type.includes("Line")||s.type.includes("Segment")||s.type.includes("Ray"));n.length===0&&(n=n.filter(s=>r.includes(s.notation)));const a=Array.isArray(r)?r[0]:r;return n.length===0?{isValid:!1,message:`${a} n'existe pas sur la figure.`}:(i=[...t.elements.values()].filter(s=>s instanceof fC&&s.type!=="pointer"&&s.type.includes("PointOnLine")&&n.some(o=>s.line===o)),i.length===0?{isValid:!1,message:`Il n'existe pas de point sur ${a}.`}:(i=i.filter(s=>s.label===e),i.length===0?{isValid:!1,message:`Il n'existe pas de point ${e} sur ${a}.`}:{isValid:!0,message:`Le point ${e} sur ${a}.`}))}function lW({figure:t,points:e,color:r,acceptSegments:i=!0}){let n=[...t.elements.values()].filter(s=>s.type.includes("Polygon"));if(r!==void 0&&(n=n.filter(s=>s.color===r)),n.length===0){if(i){let s=[...t.elements.values()].filter(c=>c.type==="Segment");if(r!==void 0&&(s=s.filter(c=>c.color===r)),s.length===0)return{isValid:!1,message:r===void 0?"Il n'y a ni polygone, ni segments dans la figure.":`Il n'y a ni polygone, ni segments de couleur ${r} dans la figure.`};const o=e.length,l=(c,h)=>et(c.x)===et(h.x)&&et(c.y)===et(h.y);let u=!0;for(let c=0;c<o;c++){const h=e[c],p=e[(c+1)%o];if(!s.some(m=>l(m.point1,h)&&l(m.point2,p)||l(m.point1,p)&&l(m.point2,h))){u=!1;break}}return{isValid:u,message:u?"Les segments du polygone ont bien été tracés.":r===void 0?"Tous les côtés n'ont pas été tracés.":"Tous les côtés n'ont pas été tracés avec la couleur demandée."}}return{isValid:!1,message:r===void 0?"Il n'y a pas de polygones dans la figure.":`Il n'y a pas de polygones de couleur ${r} dans la figure.`}}let a=!1;for(const s of n){if(s.points.length!==e.length)continue;const o=e.length,l=(c,h)=>et(c.x)===et(h.x)&&et(c.y)===et(h.y),u=(c,h)=>{for(let p=0;p<o;p++){let d=!0;for(let m=0;m<o;m++)if(!l(c[(m+p)%o],h[m])){d=!1;break}if(d)return!0}return!1};if(u(e,s.points)||u([...e].reverse(),s.points)){a=!0;break}}return{isValid:a,message:a?"Le polygone a bien été tracé":""}}function uW({figure:t,labels:e,color:r}){let i=[...t.elements.values()].filter(a=>a.type.includes("Polygon"));if(r!==void 0&&(i=i.filter(a=>a.color===r)),i.length===0)return{isValid:!1,message:r===void 0?"Il n'y a pas de polygones dans la figure.":`Il n'y a pas de polygones de couleur ${r} dans la figure.`};let n=!1;for(const a of i){if(a.points.length!==e.length)continue;const s=e.findIndex(h=>h===a.points[0].label);if(s===-1||(n=e.slice(s).concat(e.slice(0,s)).every((h,p)=>h===a.points[p].label),n))break;const l=e.reverse(),u=l.findIndex(h=>h===a.points[0].label);if(n=l.slice(u).concat(l.slice(0,u)).every((h,p)=>h===a.points[p].label),n)break}return{isValid:n,message:""}}function cW({figure:t,point1:e,point2:r,color:i}){let n=[...t.elements.values()].filter(l=>l.type==="Ray");const[a,s,o]=ug(e,r);if(n.length===0)return{isValid:!1,message:"Il n'y a pas de demi-droite dans la figure."};if(i!==void 0&&(n=n.filter(l=>l.color===i),n.length===0))return{isValid:!1,message:"Il n'y a pas de demi-droite de la couleur demandée dans la figure."};for(const l of n){const[u,c,h]=l.equation;if(gC(a,s,o,u,c,h)&&et(l.point1.x)===et(e.x)&&et(l.point1.y)===et(e.y)){const p={x:et(l.point2.x-l.point1.x),y:et(l.point2.y-l.point1.y)},d={x:et(r.x-e.x),y:et(r.y-e.y)};if(p.x*d.x>=0&&p.y*d.y>=0)return{isValid:!0,message:"La demi-droite a bien été tracée."}}}if(i!==void 0){n=[...t.elements.values()].filter(l=>l.type==="Ray");for(const l of n){const[u,c,h]=l.equation;if(gC(a,s,o,u,c,h)&&et(l.point1.x)===et(e.x)&&et(l.point1.y)===et(e.y)){const p={x:et(l.point2.x-l.point1.x),y:et(l.point2.y-l.point1.y)},d={x:et(r.x)-et(e.x),y:et(r.y)-et(e.y)};if(p.x*d.x>=0&&p.y*d.y>=0)return{isValid:!1,message:"Il n'y a pas de demi-droite de la couleur demandée dans la figure."}}}}return{isValid:!1,message:"Aucune demi-droite ne correspond à la réponse attendue."}}function gC(t,e,r,i,n,a,s=2){if(e===0&&n===0)return r/t===a/i;const o=e!==0?-t/e:Number.POSITIVE_INFINITY,l=n!==0?-i/n:Number.POSITIVE_INFINITY,u=e!==0?-r/e:Number.NaN,c=n!==0?-a/n:Number.NaN;return et(o,s)===et(l,s)&&et(u,s)===et(c,s)}function hW({figure:t,label1:e,label2:r,time:i=0}){const[n,a]=e.split(""),[s,o]=r.split(""),l=[...t.elements.values()].filter(g=>g.type!=="pointer"&&g.type.includes("Point")),u=l.filter(g=>g.label===n);if(u.length===0)return{isValid:!1,message:`Il n'y a pas de point $${n}$ dans la figure.`};if(u.length>1)return{isValid:!1,message:`Il y a ${u.length} points $${n}$ dans la figure.`};const c=l.filter(g=>g.label===a);if(c.length===0)return{isValid:!1,message:`Il n'y a pas de point $${a}$ dans la figure.`};if(c.length>1)return{isValid:!1,message:`Il y a ${c.length} points $${a}$ dans la figure.`};const h=l.filter(g=>g.label===s);if(h.length===0)return{isValid:!1,message:`Il n'y a pas de point $${s}$ dans la figure.`};if(h.length>1)return{isValid:!1,message:`Il y a ${h.length} points $${s}$ dans la figure.`};const p=l.filter(g=>g.label===o);if(p.length===0)return{isValid:!1,message:`Il n'y a pas de point $${o}$ dans la figure.`};if(p.length>1)return{isValid:!1,message:`Il y a ${p.length} points $${o}$ dans la figure.`};const d=u[0],m=c[0],f=h[0],v=p[0];let y=et(hn(d,m),2)===et(hn(f,v),2);ac({figure:t,time:i}),y=y&&et(hn(d,m),2)===et(hn(f,v),2),ac({figure:t,time:i}),y=y&&et(hn(d,m),2)===et(hn(f,v),2),ac({figure:t,time:i}),y=y&&et(hn(d,m),2)===et(hn(f,v),2);const x=y?`Les longueurs $${n}${a}$ et $${s}${o}$ sont bien toujours égales.`:`Les longueurs $${n}${a}$ et $${s}${o}$ ne sont pas toujours égales.`;return{isValid:y,message:x}}function pW({figure:t,point1:e,point2:r,color:i}){let n=[...t.elements.values()].filter(u=>u.type==="Segment");if(n.length===0)return{isValid:!1,message:"Il n'y a pas de segment dans la figure."};if(i!==void 0&&(n=n.filter(u=>u.color===i)),n.length===0)return{isValid:!1,message:"Il n'y a pas de segment de la couleur demandée dans la figure."};const[a,s,o]=ug(e,r),l=n.filter(u=>{const[c,h,p]=u.equation;return dW(a,s,o,c,h,p)});if(l.length===0)return{isValid:!1,message:"Les segments ne sont pas confondus."};for(const u of l){if(et(u.point1.x)===et(e.x)&&et(u.point1.y)===et(e.y)&&et(u.point2.x)===et(r.x)&&et(u.point2.y)===et(r.y)||et(u.point2.x)===et(e.x)&&et(u.point2.y)===et(e.y)&&et(u.point1.x)===et(r.x)&&et(u.point1.y)===et(r.y))return{isValid:!0,message:"Le segment a bien été tracé."};if(u.point1.x<=e.x&&e.x<=u.point2.x&&u.point1.y<=e.y&&e.y<=u.point2.y&&u.point1.x<=r.x&&r.x<=u.point2.x&&u.point1.y<=r.y&&r.y<=u.point2.y)return{isValid:!0,message:"Un segment plus grand existe."}}if(i!==void 0){n=[...t.elements.values()].filter(u=>u.type.includes("Segment"));for(const u of l)if(et(u.point1.x)===et(e.x)&&et(u.point1.y)===et(e.y)&&et(u.point2.x)===et(r.x)&&et(u.point2.y)===et(r.y)||et(u.point2.x)===et(e.x)&&et(u.point2.y)===et(e.y)&&et(u.point1.x)===et(r.x)&&et(u.point1.y)===et(r.y))return{isValid:!1,message:"Le segment n'est pas tracé de la bonne couleur."}}return{isValid:!1,message:"Aucun segment ne correspond à la réponse attendue."}}function dW(t,e,r,i,n,a,s=2){if(e===0&&n===0)return r/t===a/i;const o=e!==0?-t/e:Number.POSITIVE_INFINITY,l=n!==0?-i/n:Number.POSITIVE_INFINITY,u=e!==0?-r/e:Number.NaN,c=n!==0?-a/n:Number.NaN;return et(o,s)===et(l,s)&&et(u,s)===et(c,s)}function mW({color:t,figure:e,labelOrigin:r,labelPoint2:i,x:n,xOrigin:a,y:s,yOrigin:o}){let u=[...e.elements.values()].filter(f=>f.type==="Vector"||f.type==="VectorByPoints").filter(f=>f.x===n&&f.y===s);if(t!==void 0&&(u=u.filter(f=>f.color===t)),u.length===0)return{isValid:!1,message:`Il n'y a aucun vecteur de coordonnées $(${n}\\;;\\;${s})$`,vectors:[]};const c=()=>{const f=u.filter(v=>v.point1.label===r);return f.length===0?{isValid:!1,message:`Il n'y a aucun vecteur de coordonnées $(${n}\\;;\\;${s})$ dont l'origine est nommée $${r}$`,vectors:[]}:{isValid:!0,message:"",vectors:f}},h=()=>{const f=u.filter(v=>v.point1.label===r&&v.point2.label===i);return f.length===0?{isValid:!1,message:`Il n'y a aucun vecteur de coordonnées $(${n}\\;;\\;${s})$ dont l'origine est nommée $${r}$ et l'extrémité est nommée $${i}$`,vectors:[]}:{isValid:!0,message:"",vectors:f}},p=()=>{const f=u.filter(v=>v.point1.x===a&&v.point1.y===o);return u.length===0&&f.length===0?{isValid:!1,message:`Il n'y a aucun vecteur de coordonnées $(${n}\\;;\\;${s})$ dont l'origine a pour coordonnées $(${a}\\;;\\;${o})$`,vectors:[]}:u.length>0&&f.length===0?{isValid:!1,message:`Il y a bien un vecteur de coordonnées $(${n}\\;;\\;${s})$ mais son origine n'a pas pour coordonnées $(${a}\\;;\\;${o})$`,vectors:u}:{isValid:!0,message:"",vectors:f}},d=()=>{const f=u.filter(v=>v.point1.label===r&&v.point1.x===a&&v.point1.y===o);return f.length===0?{isValid:!1,message:`Il n'y a aucun vecteur de coordonnées $(${n}\\;;\\;${s})$ dont l'origine est nommée $${r}$ et a pour coordonnées $(${a}\\;;\\;${o})$`,vectors:[]}:{isValid:!0,message:"",vectors:f}},m=()=>{const f=u.filter(v=>v.point1.label===r&&v.point2.label===i&&v.point1.x===a&&v.point1.y===o);return f.length===0?{isValid:!1,message:`Il n'y a aucun vecteur de coordonnées $(${n}\\;;\\;${s})$ dont l'origine est nommée $${r}$, l'extrémité est nommée $${i}$ et a pour coordonnées $(${a}\\;;\\;${o})$`,vectors:[]}:{isValid:!0,message:"",vectors:f}};return u.length===1?r!==void 0&&r!==""&&i===void 0&&a===void 0&&o===void 0?c():r!==void 0&&r!==""&&i!==void 0&&i!==""&&a===void 0&&o===void 0?h():r===void 0&&i===void 0&&a!==void 0&&o!==void 0?p():r!==void 0&&r!==""&&i===void 0&&a!==void 0&&o!==void 0?d():r!==void 0&&r!==""&&i!==void 0&&i!==""&&a!==void 0&&o!==void 0?m():{isValid:!0,message:`Il y a bien un vecteur de coordonnées $(${n}\\;;\\;${s})$`,vectors:u}:{isValid:!1,message:`Il y a ${u.length} vecteurs de coordonnées $(${n}\\;;\\;${s})`,vectors:u}}async function fW({delta:t=3,figure:e,repeat:r=5,time:i=1}){const n=i/r;e.container.style.animation="none",e.container.offsetWidth,e.container.style.animation=`shake ${n}s`,e.container.style.animationIterationCount=r.toString();const a=c=>{const p=et(c+(Math.random()-.5)*t,1);return p>e.xMin+.5&&p<e.xMax-.5?p:c},s=c=>{const p=et(c+(Math.random()-.5)*t,1);return p>e.yMin+2&&p<e.yMax-2?p:c},o=[...e.elements.values()].filter(c=>c.type!=="pointer"&&c instanceof ca),l=o.filter(c=>c.x<e.xMax&&c.x>e.xMin&&c.y<e.yMax&&c.y>e.yMin),u=o.filter(c=>c.isFree);for(let c=0;c<r;c++){for(const h of u){const{x:p,y:d}=h;h.moveTo(a(h.x),s(h.y)),vW(l)||h.moveTo(p,d)}await gW(i/r/o.length*1e3)}e.container.style.animation="none"}async function gW(t){await new Promise(e=>{setTimeout(e,t)})}function vW(t){const e=t[0].figure;return t.every(r=>pg(e.xMin,r.x,e.xMax)&&pg(e.yMin,r.y,e.yMax))}class ap{constructor(e,{isChild:r=!1,textAfter:i="",textBefore:n=""}){if(this.figure=e,this.isChild=r,this.isChild){let a=0;for(;this.figure.elements.has(`elementTmp${a.toString()}`);)a++;this.id=`elementTmp${a.toString()}`}else{let a=0;for(;this.figure.elements.has(`element${a.toString()}`);)a++;this.id=`element${a.toString()}`}this.figure.elements.set(this.id,this),this.observers=[],this._value=Number.NaN,this.type="",this.textBefore=n,this.textAfter=i}display({color:e,maximumFractionDigits:r,minimumFractionDigits:i,textAfter:n="",textBefore:a="",x:s,y:o}){return this.figure.create("TextDynamicByPosition",{color:e,dynamicNumber:this,id:`${this.id}_display`,maximumFractionDigits:r,minimumFractionDigits:i,textAfter:n,textBefore:a,x:s,y:o})}draw(){}notify(){for(const e of this.observers)e.update()}remove(){this.figure.elements.delete(this.id);for(const e of this.observers)e.remove()}subscribe(e){this.observers.push(e)}toJSON(){return{id:this.id,isChild:this.isChild,type:this.type}}unsubscribe(e){this.observers=this.observers.filter(r=>r!==e)}update(){this.notify()}get label(){return this._label}get string(){return this.textBefore+this.value.toString()+this.textAfter}set value(e){this._value=e,this.notify()}get value(){return this._value}}let yW=class extends ap{constructor(e,{center:r,end:i,start:n}){super(e,{isChild:!1}),this.start=n,this.center=r,this.end=i,this.start.subscribe(this),this.center.subscribe(this),this.end.subscribe(this),this.update()}toJSON(){return{id:this.id,idCenter:this.center.id,idEnd:this.end.id,idStart:this.start.id,isChild:this.isChild,type:this.type}}update(){this._value=HH(this.start,this.center,this.end),this.notify()}};class vC extends ap{constructor(e,{isChild:r=!1,point1:i,point2:n}){super(e,{isChild:r}),this.type="Distance",this.point1=i,this.idPoint1=i.id,this.point2=n,this.idPoint2=n.id,this.point1.subscribe(this),this.point2.subscribe(this),this.update()}remove(){const e=this.figure.elements.get(this.id);if(e!=null&&e.observers)for(const r of e.observers)r.remove();e!==void 0&&this.figure.elements.delete(this.id)}toJSON(){return{id:this.id,idPoint1:this.idPoint1,idPoint2:this.idPoint2,isChild:this.isChild,type:this.type}}update(){try{this.value=Math.hypot(this.point1.x-this.point2.x,this.point1.y-this.point2.y)}catch(e){console.error("Erreur dans Distance.update()",e)}this.notify()}}class bW extends ap{constructor(e,{calculus:r,dynamicNumbers:i,...n}){super(e,{...n}),this.calculus=r,this.dynamicNumbers=i;for(const a of this.dynamicNumbers)a.subscribe(this);this.update()}update(){const e=[];for(const r of this.dynamicNumbers)e.push(r.value);this._value=this.calculus(e),this.notify()}}class xW extends ap{constructor(e,{point:r}){super(e,{}),this.point=r,this.point.subscribe(this),this.dynamicText=this.figure.create("TextDynamicByPosition",{color:"blue",dynamicNumber:this,isChild:!0,maximumFractionDigits:2,minimumFractionDigits:0,textAfter:"",textBefore:"",x:r.x,y:-1}),this.type="DynamicX",this.update(),this.dynamicText.div.style.fontWeight="bolder"}toJSON(){return{...super.toJSON(),idPoint:this.point.id}}update(){this.value=this.point.x,this.dynamicText.x=this.point.x,this.point.y>0?this.dynamicText.y=-1:this.dynamicText.y=1,this.notify()}}class wW extends ap{constructor(e,{point:r}){super(e,{}),this.point=r,this.point.subscribe(this),this.dynamicText=this.figure.create("TextDynamicByPosition",{color:"blue",dynamicNumber:this,isChild:!0,maximumFractionDigits:2,minimumFractionDigits:0,textAfter:"",textBefore:"",x:-1,y:r.y}),this.type="DynamicY",this.update(),this.dynamicText.div.style.fontWeight="bolder"}toJSON(){return{...super.toJSON(),idPoint:this.point.id}}update(){this.value=this.point.y,this.dynamicText.y=this.point.y,this.point.x>0?this.dynamicText.x=-1:this.dynamicText.x=1,this.notify()}}function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Sa.apply(null,arguments)}var dg={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Ys(t,e){if(mg(t,e))return t[e];throw typeof t[e]=="function"&&xb(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function sp(t,e,r){if(mg(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function mg(t,e){return!kW(t)&&!Array.isArray(t)?!1:Vt(CW,e)?!0:!(e in Object.prototype||e in Function.prototype)}function MW(t,e){if(!xb(t,e))throw new Error('No access to method "'+e+'"');return t[e]}function xb(t,e){return t==null||typeof t[e]!="function"||Vt(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:Vt(NW,e)?!0:!(e in Object.prototype||e in Function.prototype)}function kW(t){return typeof t=="object"&&t&&t.constructor===Object}var CW={length:!0,name:!0},NW={toString:!0,valueOf:!0,toLocaleString:!0};class fg{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return Ys(this.wrappedObject,e)}set(e,r){return sp(this.wrappedObject,e,r),this}has(e){return mg(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return bC(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){mg(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class yC{constructor(e,r,i){this.a=e,this.b=r,this.bKeys=i,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,r){return this.bKeys.has(e)?this.b.set(e,r):this.a.set(e,r),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return bC(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function bC(t,e){return{next:()=>{var r=t.next();return r.done?r:{value:e(r.value),done:!1}}}}function Mm(){return new Map}function op(t){if(!t)return Mm();if(zh(t))return t;if(Lh(t))return new fg(t);throw new Error("createMap can create maps from objects or Maps")}function SW(t){if(t instanceof fg)return t.wrappedObject;var e={};for(var r of t.keys()){var i=t.get(r);sp(e,r,i)}return e}function Rr(t){return typeof t=="number"}function Or(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function lp(t){return typeof t=="bigint"}function Rl(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function Th(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function Ks(t){return t&&t.constructor.prototype.isUnit===!0||!1}function ms(t){return typeof t=="string"}var Li=Array.isArray;function hr(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function fo(t){return Array.isArray(t)||hr(t)}function km(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function oc(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function gg(t){return t&&t.constructor.prototype.isRange===!0||!1}function Cm(t){return t&&t.constructor.prototype.isIndex===!0||!1}function xC(t){return typeof t=="boolean"}function wC(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function wb(t){return t&&t.constructor.prototype.isHelp===!0||!1}function Mb(t){return typeof t=="function"}function MC(t){return t instanceof Date}function kC(t){return t instanceof RegExp}function Lh(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Rl(t)&&!Th(t))}function zh(t){return t?t instanceof Map||t instanceof fg||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function DW(t){return zh(t)&&zh(t.a)&&zh(t.b)}function AW(t){return zh(t)&&Lh(t.wrappedObject)}function CC(t){return t===null}function NC(t){return t===void 0}function lc(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Bo(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function SC(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function DC(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function AC(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function mi(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function kb(t){return mi(t)||ea(t)&&t.args.length===1&&mi(t.args[0])&&"-+~".includes(t.op)}function up(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function ou(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function Bh(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function Vi(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function Nm(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function ea(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function g0(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function $C(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function _C(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function La(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function Cb(t){return t&&t.constructor.prototype.isChain===!0||!1}function an(t){var e=typeof t;return e==="object"?t===null?"null":Or(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function kr(t){var e=typeof t;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return kr(r)});if(t instanceof Date)return new Date(t.valueOf());if(Or(t))return t;if(Lh(t))return $W(t,kr);if(e==="function")return t;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function $W(t,e){var r={};for(var i in t)Vt(t,i)&&(r[i]=e(t[i]));return r}function EC(t,e){for(var r in e)Vt(e,r)&&(t[r]=e[r]);return t}function IC(t,e){if(Array.isArray(e))throw new TypeError("Arrays are not supported by deepExtend");for(var r in e)if(Vt(e,r)&&!(r in Object.prototype)&&!(r in Function.prototype))if(e[r]&&e[r].constructor===Object)t[r]===void 0&&(t[r]={}),t[r]&&t[r].constructor===Object?IC(t[r],e[r]):t[r]=e[r];else{if(Array.isArray(e[r]))throw new TypeError("Arrays are not supported by deepExtend");t[r]=e[r]}return t}function lu(t,e){var r,i,n;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;i++)if(!lu(t[i],e[i]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!lu(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function _W(t){var e={};return TC(t,e),e}function TC(t,e){for(var r in t)if(Vt(t,r)){var i=t[r];typeof i=="object"&&i!==null?TC(i,e):e[r]=i}}function Oh(t,e,r){var i=!0,n;Object.defineProperty(t,e,{get:function(){return i&&(n=r(),i=!1),n},set:function(s){n=s,i=!1},configurable:!0,enumerable:!0})}function Vt(t,e){return t&&Object.hasOwnProperty.call(t,e)}function EW(t){return t&&typeof t.factory=="function"}function IW(t,e){for(var r={},i=0;i<e.length;i++){var n=e[i],a=t[n];a!==void 0&&(r[n]=a)}return r}var Nb=["Matrix","Array"],Sb=["number","BigNumber","bigint","Fraction"];function TW(t,e){function r(i){if(i){if(i.epsilon!==void 0){console.warn('Warning: The configuration option "epsilon" is deprecated. Use "relTol" and "absTol" instead.');var n=kr(i);return n.relTol=i.epsilon,n.absTol=i.epsilon*.001,delete n.epsilon,r(n)}var a=kr(t);LC(i,"matrix",Nb),LC(i,"number",Sb),IC(t,i);var s=kr(t),o=kr(i);return e("config",s,a,o),s}else return kr(t)}return r.MATRIX_OPTIONS=Nb,r.NUMBER_OPTIONS=Sb,Object.keys(dg).forEach(i=>{Object.defineProperty(r,i,{get:()=>t[i],enumerable:!0,configurable:!0})}),r}function LC(t,e,r){t[e]!==void 0&&!r.includes(t[e])&&console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+r.map(i=>JSON.stringify(i)).join(", ")+".")}var pt=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(dg)};Sa(pt,dg,{MATRIX_OPTIONS:Nb,NUMBER_OPTIONS:Sb});function zC(){return!0}function sl(){return!1}function cp(){}const BC="Argument is not a typed-function.";function OC(){function t(te){return typeof te=="object"&&te!==null&&te.constructor===Object}const e=[{name:"number",test:function(te){return typeof te=="number"}},{name:"string",test:function(te){return typeof te=="string"}},{name:"boolean",test:function(te){return typeof te=="boolean"}},{name:"Function",test:function(te){return typeof te=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(te){return te instanceof Date}},{name:"RegExp",test:function(te){return te instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(te){return te===null}},{name:"undefined",test:function(te){return te===void 0}}],r={name:"any",test:zC,isAny:!0};let i,n,a=0,s={createCount:0};function o(te){const fe=i.get(te);if(fe)return fe;let xe='Unknown type "'+te+'"';const Ee=te.toLowerCase();let Me;for(Me of n)if(Me.toLowerCase()===Ee){xe+='. Did you mean "'+Me+'" ?';break}throw new TypeError(xe)}function l(te){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const xe=fe?o(fe).index:n.length,Ee=[];for(let Le=0;Le<te.length;++Le){if(!te[Le]||typeof te[Le].name!="string"||typeof te[Le].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const st=te[Le].name;if(i.has(st))throw new TypeError('Duplicate type name "'+st+'"');Ee.push(st),i.set(st,{name:st,test:te[Le].test,isAny:te[Le].isAny,index:xe+Le,conversionsTo:[]})}const Me=n.slice(xe);n=n.slice(0,xe).concat(Ee).concat(Me);for(let Le=xe+Ee.length;Le<n.length;++Le)i.get(n[Le]).index=Le}function u(){i=new Map,n=[],a=0,l([r],!1)}u(),l(e);function c(){let te;for(te of n)i.get(te).conversionsTo=[];a=0}function h(te){const fe=n.filter(xe=>{const Ee=i.get(xe);return!Ee.isAny&&Ee.test(te)});return fe.length?fe:["any"]}function p(te){return te&&typeof te=="function"&&"_typedFunctionData"in te}function d(te,fe,xe){if(!p(te))throw new TypeError(BC);const Ee=xe&&xe.exact,Me=Array.isArray(fe)?fe.join(","):fe,Le=b(Me),st=v(Le);if(!Ee||st in te.signatures){const We=te._typedFunctionData.signatureMap.get(st);if(We)return We}const mt=Le.length;let ft;if(Ee){ft=[];let We;for(We in te.signatures)ft.push(te._typedFunctionData.signatureMap.get(We))}else ft=te._typedFunctionData.signatures;for(let We=0;We<mt;++We){const ot=Le[We],jt=[];let Er;for(Er of ft){const U=A(Er.params,We);if(!(!U||ot.restParam&&!U.restParam)){if(!U.hasAny){const Se=g(U);if(ot.types.some(Ke=>!Se.has(Ke.name)))continue}jt.push(Er)}}if(ft=jt,ft.length===0)break}let Pe;for(Pe of ft)if(Pe.params.length<=mt)return Pe;throw new TypeError("Signature not found (signature: "+(te.name||"unnamed")+"("+v(Le,", ")+"))")}function m(te,fe,xe){return d(te,fe,xe).implementation}function f(te,fe){const xe=o(fe);if(xe.test(te))return te;const Ee=xe.conversionsTo;if(Ee.length===0)throw new Error("There are no conversions to "+fe+" defined.");for(let Me=0;Me<Ee.length;Me++)if(o(Ee[Me].from).test(te))return Ee[Me].convert(te);throw new Error("Cannot convert "+te+" to "+fe)}function v(te){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return te.map(xe=>xe.name).join(fe)}function y(te){const fe=te.indexOf("...")===0,Ee=(fe?te.length>3?te.slice(3):"any":te).split("|").map(mt=>o(mt.trim()));let Me=!1,Le=fe?"...":"";return{types:Ee.map(function(mt){return Me=mt.isAny||Me,Le+=mt.name+"|",{name:mt.name,typeIndex:mt.index,test:mt.test,isAny:mt.isAny,conversion:null,conversionIndex:-1}}),name:Le.slice(0,-1),hasAny:Me,hasConversion:!1,restParam:fe}}function x(te){const fe=te.types.map(st=>st.name),xe=Z(fe);let Ee=te.hasAny,Me=te.name;const Le=xe.map(function(st){const mt=o(st.from);return Ee=mt.isAny||Ee,Me+="|"+st.from,{name:st.from,typeIndex:mt.index,test:mt.test,isAny:mt.isAny,conversion:st,conversionIndex:st.index}});return{types:te.types.concat(Le),name:Me,hasAny:Ee,hasConversion:Le.length>0,restParam:te.restParam}}function g(te){return te.typeSet||(te.typeSet=new Set,te.types.forEach(fe=>te.typeSet.add(fe.name))),te.typeSet}function b(te){const fe=[];if(typeof te!="string")throw new TypeError("Signatures must be strings");const xe=te.trim();if(xe==="")return fe;const Ee=xe.split(",");for(let Me=0;Me<Ee.length;++Me){const Le=y(Ee[Me].trim());if(Le.restParam&&Me!==Ee.length-1)throw new SyntaxError('Unexpected rest parameter "'+Ee[Me]+'": only allowed for the last parameter');if(Le.types.length===0)return null;fe.push(Le)}return fe}function k(te){const fe=ue(te);return fe?fe.restParam:!1}function w(te){if(!te||te.types.length===0)return zC;if(te.types.length===1)return o(te.types[0].name).test;if(te.types.length===2){const fe=o(te.types[0].name).test,xe=o(te.types[1].name).test;return function(Me){return fe(Me)||xe(Me)}}else{const fe=te.types.map(function(xe){return o(xe.name).test});return function(Ee){for(let Me=0;Me<fe.length;Me++)if(fe[Me](Ee))return!0;return!1}}}function N(te){let fe,xe,Ee;if(k(te)){fe=H(te).map(w);const Me=fe.length,Le=w(ue(te)),st=function(mt){for(let ft=Me;ft<mt.length;ft++)if(!Le(mt[ft]))return!1;return!0};return function(ft){for(let Pe=0;Pe<fe.length;Pe++)if(!fe[Pe](ft[Pe]))return!1;return st(ft)&&ft.length>=Me+1}}else return te.length===0?function(Le){return Le.length===0}:te.length===1?(xe=w(te[0]),function(Le){return xe(Le[0])&&Le.length===1}):te.length===2?(xe=w(te[0]),Ee=w(te[1]),function(Le){return xe(Le[0])&&Ee(Le[1])&&Le.length===2}):(fe=te.map(w),function(Le){for(let st=0;st<fe.length;st++)if(!fe[st](Le[st]))return!1;return Le.length===fe.length})}function A(te,fe){return fe<te.length?te[fe]:k(te)?ue(te):null}function $(te,fe){const xe=A(te,fe);return xe?g(xe):new Set}function D(te){return te.conversion===null||te.conversion===void 0}function _(te,fe){const xe=new Set;return te.forEach(Ee=>{const Me=$(Ee.params,fe);let Le;for(Le of Me)xe.add(Le)}),xe.has("any")?["any"]:Array.from(xe)}function T(te,fe,xe){let Ee,Me;const Le=te||"unnamed";let st=xe,mt;for(mt=0;mt<fe.length;mt++){const ot=[];if(st.forEach(jt=>{const Er=A(jt.params,mt),U=w(Er);(mt<jt.params.length||k(jt.params))&&U(fe[mt])&&ot.push(jt)}),ot.length===0){if(Me=_(st,mt),Me.length>0){const jt=h(fe[mt]);return Ee=new TypeError("Unexpected type of argument in function "+Le+" (expected: "+Me.join(" or ")+", actual: "+jt.join(" | ")+", index: "+mt+")"),Ee.data={category:"wrongType",fn:Le,index:mt,actual:jt,expected:Me},Ee}}else st=ot}const ft=st.map(function(ot){return k(ot.params)?1/0:ot.params.length});if(fe.length<Math.min.apply(null,ft))return Me=_(st,mt),Ee=new TypeError("Too few arguments in function "+Le+" (expected: "+Me.join(" or ")+", index: "+fe.length+")"),Ee.data={category:"tooFewArgs",fn:Le,index:fe.length,expected:Me},Ee;const Pe=Math.max.apply(null,ft);if(fe.length>Pe)return Ee=new TypeError("Too many arguments in function "+Le+" (expected: "+Pe+", actual: "+fe.length+")"),Ee.data={category:"tooManyArgs",fn:Le,index:fe.length,expectedLength:Pe},Ee;const We=[];for(let ot=0;ot<fe.length;++ot)We.push(h(fe[ot]).join("|"));return Ee=new TypeError('Arguments of type "'+We.join(", ")+'" do not match any of the defined signatures of function '+Le+"."),Ee.data={category:"mismatch",actual:We},Ee}function z(te){let fe=n.length+1;for(let xe=0;xe<te.types.length;xe++)D(te.types[xe])&&(fe=Math.min(fe,te.types[xe].typeIndex));return fe}function P(te){let fe=a+1;for(let xe=0;xe<te.types.length;xe++)D(te.types[xe])||(fe=Math.min(fe,te.types[xe].conversionIndex));return fe}function q(te,fe){if(te.hasAny){if(!fe.hasAny)return 1}else if(fe.hasAny)return-1;if(te.restParam){if(!fe.restParam)return 1}else if(fe.restParam)return-1;if(te.hasConversion){if(!fe.hasConversion)return 1}else if(fe.hasConversion)return-1;const xe=z(te)-z(fe);if(xe<0)return-1;if(xe>0)return 1;const Ee=P(te)-P(fe);return Ee<0?-1:Ee>0?1:0}function L(te,fe){const xe=te.params,Ee=fe.params,Me=ue(xe),Le=ue(Ee),st=k(xe),mt=k(Ee);if(st&&Me.hasAny){if(!mt||!Le.hasAny)return 1}else if(mt&&Le.hasAny)return-1;let ft=0,Pe=0,We;for(We of xe)We.hasAny&&++ft,We.hasConversion&&++Pe;let ot=0,jt=0;for(We of Ee)We.hasAny&&++ot,We.hasConversion&&++jt;if(ft!==ot)return ft-ot;if(st&&Me.hasConversion){if(!mt||!Le.hasConversion)return 1}else if(mt&&Le.hasConversion)return-1;if(Pe!==jt)return Pe-jt;if(st){if(!mt)return 1}else if(mt)return-1;const Er=(xe.length-Ee.length)*(st?-1:1);if(Er!==0)return Er;const U=[];let Se=0;for(let gt=0;gt<xe.length;++gt){const ar=q(xe[gt],Ee[gt]);U.push(ar),Se+=ar}if(Se!==0)return Se;let Ke;for(Ke of U)if(Ke!==0)return Ke;return 0}function Z(te){if(te.length===0)return[];const fe=te.map(o);te.length>1&&fe.sort((Me,Le)=>Me.index-Le.index);let xe=fe[0].conversionsTo;if(te.length===1)return xe;xe=xe.concat([]);const Ee=new Set(te);for(let Me=1;Me<fe.length;++Me){let Le;for(Le of fe[Me].conversionsTo)Ee.has(Le.from)||(xe.push(Le),Ee.add(Le.from))}return xe}function W(te,fe){let xe=fe;if(te.some(Me=>Me.hasConversion)){const Me=k(te),Le=te.map(Y);xe=function(){const mt=[],ft=Me?arguments.length-1:arguments.length;for(let Pe=0;Pe<ft;Pe++)mt[Pe]=Le[Pe](arguments[Pe]);return Me&&(mt[ft]=arguments[ft].map(Le[ft])),fe.apply(this,mt)}}let Ee=xe;if(k(te)){const Me=te.length-1;Ee=function(){return xe.apply(this,ae(arguments,0,Me).concat([ae(arguments,Me)]))}}return Ee}function Y(te){let fe,xe,Ee,Me;const Le=[],st=[];switch(te.types.forEach(function(mt){mt.conversion&&(Le.push(o(mt.conversion.from).test),st.push(mt.conversion.convert))}),st.length){case 0:return function(ft){return ft};case 1:return fe=Le[0],Ee=st[0],function(ft){return fe(ft)?Ee(ft):ft};case 2:return fe=Le[0],xe=Le[1],Ee=st[0],Me=st[1],function(ft){return fe(ft)?Ee(ft):xe(ft)?Me(ft):ft};default:return function(ft){for(let Pe=0;Pe<st.length;Pe++)if(Le[Pe](ft))return st[Pe](ft);return ft}}}function ie(te){function fe(xe,Ee,Me){if(Ee<xe.length){const Le=xe[Ee];let st=[];if(Le.restParam){const mt=Le.types.filter(D);mt.length<Le.types.length&&st.push({types:mt,name:"..."+mt.map(ft=>ft.name).join("|"),hasAny:mt.some(ft=>ft.isAny),hasConversion:!1,restParam:!0}),st.push(Le)}else st=Le.types.map(function(mt){return{types:[mt],name:mt.name,hasAny:mt.isAny,hasConversion:mt.conversion,restParam:!1}});return Ne(st,function(mt){return fe(xe,Ee+1,Me.concat([mt]))})}else return[Me]}return fe(te,0,[])}function re(te,fe){const xe=Math.max(te.length,fe.length);for(let mt=0;mt<xe;mt++){const ft=$(te,mt),Pe=$(fe,mt);let We=!1,ot;for(ot of Pe)if(ft.has(ot)){We=!0;break}if(!We)return!1}const Ee=te.length,Me=fe.length,Le=k(te),st=k(fe);return Le?st?Ee===Me:Me>=Ee:st?Ee>=Me:Ee===Me}function R(te){return te.map(fe=>rt(fe)?Qe(fe.referToSelf.callback):nt(fe)?Te(fe.referTo.references,fe.referTo.callback):fe)}function X(te,fe,xe){const Ee=[];let Me;for(Me of te){let Le=xe[Me];if(typeof Le!="number")throw new TypeError('No definition for referenced signature "'+Me+'"');if(Le=fe[Le],typeof Le!="function")return!1;Ee.push(Le)}return Ee}function E(te,fe,xe){const Ee=R(te),Me=new Array(Ee.length).fill(!1);let Le=!0;for(;Le;){Le=!1;let st=!0;for(let mt=0;mt<Ee.length;++mt){if(Me[mt])continue;const ft=Ee[mt];if(rt(ft))Ee[mt]=ft.referToSelf.callback(xe),Ee[mt].referToSelf=ft.referToSelf,Me[mt]=!0,st=!1;else if(nt(ft)){const Pe=X(ft.referTo.references,Ee,fe);Pe?(Ee[mt]=ft.referTo.callback.apply(this,Pe),Ee[mt].referTo=ft.referTo,Me[mt]=!0,st=!1):Le=!0}}if(st&&Le)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Ee}function oe(te){const fe=/\bthis(\(|\.signatures\b)/;Object.keys(te).forEach(xe=>{const Ee=te[xe];if(fe.test(Ee.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function le(te,fe){if(s.createCount++,Object.keys(fe).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&oe(fe);const xe=[],Ee=[],Me={},Le=[];let st;for(st in fe){if(!Object.prototype.hasOwnProperty.call(fe,st))continue;const Kr=b(st);if(!Kr)continue;xe.forEach(function(po){if(re(po,Kr))throw new TypeError('Conflicting signatures "'+v(po)+'" and "'+v(Kr)+'".')}),xe.push(Kr);const Yi=Ee.length;Ee.push(fe[st]);const yr=Kr.map(x);let Jo;for(Jo of ie(yr)){const po=v(Jo);Le.push({params:Jo,name:po,fn:Yi}),Jo.every(Qu=>!Qu.hasConversion)&&(Me[po]=Yi)}}Le.sort(L);const mt=E(Ee,Me,Ta);let ft;for(ft in Me)Object.prototype.hasOwnProperty.call(Me,ft)&&(Me[ft]=mt[Me[ft]]);const Pe=[],We=new Map;for(ft of Le)We.has(ft.name)||(ft.fn=mt[ft.fn],Pe.push(ft),We.set(ft.name,ft));const ot=Pe[0]&&Pe[0].params.length<=2&&!k(Pe[0].params),jt=Pe[1]&&Pe[1].params.length<=2&&!k(Pe[1].params),Er=Pe[2]&&Pe[2].params.length<=2&&!k(Pe[2].params),U=Pe[3]&&Pe[3].params.length<=2&&!k(Pe[3].params),Se=Pe[4]&&Pe[4].params.length<=2&&!k(Pe[4].params),Ke=Pe[5]&&Pe[5].params.length<=2&&!k(Pe[5].params),gt=ot&&jt&&Er&&U&&Se&&Ke;for(let Kr=0;Kr<Pe.length;++Kr)Pe[Kr].test=N(Pe[Kr].params);const ar=ot?w(Pe[0].params[0]):sl,vr=jt?w(Pe[1].params[0]):sl,Ii=Er?w(Pe[2].params[0]):sl,un=U?w(Pe[3].params[0]):sl,An=Se?w(Pe[4].params[0]):sl,oa=Ke?w(Pe[5].params[0]):sl,Bt=ot?w(Pe[0].params[1]):sl,wr=jt?w(Pe[1].params[1]):sl,tr=Er?w(Pe[2].params[1]):sl,Di=U?w(Pe[3].params[1]):sl,la=Se?w(Pe[4].params[1]):sl,Mr=Ke?w(Pe[5].params[1]):sl;for(let Kr=0;Kr<Pe.length;++Kr)Pe[Kr].implementation=W(Pe[Kr].params,Pe[Kr].fn);const O=ot?Pe[0].implementation:cp,j=jt?Pe[1].implementation:cp,at=Er?Pe[2].implementation:cp,Q=U?Pe[3].implementation:cp,ke=Se?Pe[4].implementation:cp,si=Ke?Pe[5].implementation:cp,ct=ot?Pe[0].params.length:-1,Pr=jt?Pe[1].params.length:-1,ka=Er?Pe[2].params.length:-1,Yt=U?Pe[3].params.length:-1,xi=Se?Pe[4].params.length:-1,Fi=Ke?Pe[5].params.length:-1,Fn=gt?6:0,De=Pe.length,Xn=Pe.map(Kr=>Kr.test),Fe=Pe.map(Kr=>Kr.implementation),Ws=function(){for(let Yi=Fn;Yi<De;Yi++)if(Xn[Yi](arguments))return Fe[Yi].apply(this,arguments);return s.onMismatch(te,arguments,Pe)};function Ta(Kr,Yi){return arguments.length===ct&&ar(Kr)&&Bt(Yi)?O.apply(this,arguments):arguments.length===Pr&&vr(Kr)&&wr(Yi)?j.apply(this,arguments):arguments.length===ka&&Ii(Kr)&&tr(Yi)?at.apply(this,arguments):arguments.length===Yt&&un(Kr)&&Di(Yi)?Q.apply(this,arguments):arguments.length===xi&&An(Kr)&&la(Yi)?ke.apply(this,arguments):arguments.length===Fi&&oa(Kr)&&Mr(Yi)?si.apply(this,arguments):Ws.apply(this,arguments)}try{Object.defineProperty(Ta,"name",{value:te})}catch{}return Ta.signatures=Me,Ta._typedFunctionData={signatures:Pe,signatureMap:We},Ta}function ne(te,fe,xe){throw T(te,fe,xe)}function H(te){return ae(te,0,te.length-1)}function ue(te){return te[te.length-1]}function ae(te,fe,xe){return Array.prototype.slice.call(te,fe,xe)}function $e(te,fe){for(let xe=0;xe<te.length;xe++)if(fe(te[xe]))return te[xe]}function Ne(te,fe){return Array.prototype.concat.apply([],te.map(fe))}function ze(){const te=H(arguments).map(xe=>v(b(xe))),fe=ue(arguments);if(typeof fe!="function")throw new TypeError("Callback function expected as last argument");return Te(te,fe)}function Te(te,fe){return{referTo:{references:te,callback:fe}}}function Qe(te){if(typeof te!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:te}}}function nt(te){return te&&typeof te.referTo=="object"&&Array.isArray(te.referTo.references)&&typeof te.referTo.callback=="function"}function rt(te){return te&&typeof te.referToSelf=="object"&&typeof te.referToSelf.callback=="function"}function Ue(te,fe){if(!te)return fe;if(fe&&fe!==te){const xe=new Error("Function names do not match (expected: "+te+", actual: "+fe+")");throw xe.data={actual:fe,expected:te},xe}return te}function lt(te){let fe;for(const xe in te)Object.prototype.hasOwnProperty.call(te,xe)&&(p(te[xe])||typeof te[xe].signature=="string")&&(fe=Ue(fe,te[xe].name));return fe}function J(te,fe){let xe;for(xe in fe)if(Object.prototype.hasOwnProperty.call(fe,xe)){if(xe in te&&fe[xe]!==te[xe]){const Ee=new Error('Signature "'+xe+'" is defined twice');throw Ee.data={signature:xe,sourceFunction:fe[xe],destFunction:te[xe]},Ee}te[xe]=fe[xe]}}const me=s;s=function(te){const fe=typeof te=="string",xe=fe?1:0;let Ee=fe?te:"";const Me={};for(let Le=xe;Le<arguments.length;++Le){const st=arguments[Le];let mt={},ft;if(typeof st=="function"?(ft=st.name,typeof st.signature=="string"?mt[st.signature]=st:p(st)&&(mt=st.signatures)):t(st)&&(mt=st,fe||(ft=lt(st))),Object.keys(mt).length===0){const Pe=new TypeError("Argument to 'typed' at index "+Le+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Pe.data={index:Le,argument:st},Pe}fe||(Ee=Ue(Ee,ft)),J(Me,mt)}return le(Ee||"",Me)},s.create=OC,s.createCount=me.createCount,s.onMismatch=ne,s.throwMismatchError=ne,s.createError=T,s.clear=u,s.clearConversions=c,s.addTypes=l,s._findType=o,s.referTo=ze,s.referToSelf=Qe,s.convert=f,s.findSignature=d,s.find=m,s.isTypedFunction=p,s.warnAgainstDeprecatedThis=!0,s.addType=function(te,fe){let xe="any";fe!==!1&&i.has("Object")&&(xe="Object"),s.addTypes([te],xe)};function Oe(te){if(!te||typeof te.from!="string"||typeof te.to!="string"||typeof te.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(te.to===te.from)throw new SyntaxError('Illegal to define conversion from "'+te.from+'" to itself.')}return s.addConversion=function(te){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Oe(te);const xe=o(te.to),Ee=xe.conversionsTo.find(Me=>Me.from===te.from);if(Ee)if(fe&&fe.override)s.removeConversion({from:Ee.from,to:te.to,convert:Ee.convert});else throw new Error('There is already a conversion from "'+te.from+'" to "'+xe.name+'"');xe.conversionsTo.push({from:te.from,convert:te.convert,index:a++})},s.addConversions=function(te,fe){te.forEach(xe=>s.addConversion(xe,fe))},s.removeConversion=function(te){Oe(te);const fe=o(te.to),xe=$e(fe.conversionsTo,Me=>Me.from===te.from);if(!xe)throw new Error("Attempt to remove nonexistent conversion from "+te.from+" to "+te.to);if(xe.convert!==te.convert)throw new Error("Conversion to remove does not match existing conversion");const Ee=fe.conversionsTo.indexOf(xe);fe.conversionsTo.splice(Ee,1)},s.resolve=function(te,fe){if(!p(te))throw new TypeError(BC);const xe=te._typedFunctionData.signatures;for(let Ee=0;Ee<xe.length;++Ee)if(xe[Ee].test(fe))return xe[Ee];return null},s}const Sm=OC();function ce(t,e,r,i){function n(a){var s=IW(a,e.map(FC));return LW(t,e,a),r(s)}return n.isFactory=!0,n.fn=t,n.dependencies=e.slice().sort(),i&&(n.meta=i),n}function Dm(t){return typeof t=="function"&&typeof t.fn=="string"&&Array.isArray(t.dependencies)}function LW(t,e,r){var i=e.filter(a=>!zW(a)).every(a=>r[a]!==void 0);if(!i){var n=e.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(n.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function zW(t){return t&&t[0]==="?"}function FC(t){return t&&t[0]==="?"?t.slice(1):t}function rr(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}function uc(t,e){if(e.number==="bigint")try{BigInt(t)}catch{return e.numberFallback}return e.number}var cc=Math.sign||function(t){return t>0?1:t<0?-1:0},BW=Math.log2||function(e){return Math.log(e)/Math.LN2},OW=Math.log10||function(e){return Math.log(e)/Math.LN10},FW=Math.log1p||function(t){return Math.log(t+1)},PW=Math.cbrt||function(e){if(e===0)return e;var r=e<0,i;return r&&(e=-e),isFinite(e)?(i=Math.exp(Math.log(e)/3),i=(e/(i*i)+2*i)/3):i=e,r?-i:i},RW=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Db(t,e,r){var i={2:"0b",8:"0o",16:"0x"},n=i[e],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!rr(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!rr(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),a="i".concat(r)}var s="";return t<0&&(t=-t,s="-"),"".concat(s).concat(n).concat(t.toString(e)).concat(a)}function Fh(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:r,precision:i,wordSize:n}=PC(e);switch(r){case"fixed":return RC(t,i);case"exponential":return jC(t,i);case"engineering":return jW(t,i);case"bin":return Db(t,2,n);case"oct":return Db(t,8,n);case"hex":return Db(t,16,n);case"auto":return qW(t,i,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function PC(t){var e="auto",r,i;if(t!==void 0)if(Rr(t))r=t;else if(Or(t))r=t.toNumber();else if(Lh(t))t.precision!==void 0&&(r=qC(t.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),t.wordSize!==void 0&&(i=qC(t.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),t.notation&&(e=t.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:r,wordSize:i}}function Am(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],i=e[2],n=parseFloat(e[4]||"0"),a=i.indexOf(".");n+=a!==-1?a-1:i.length-1;var s=i.replace(".","").replace(/^0*/,function(o){return n-=o.length,""}).replace(/0*$/,"").split("").map(function(o){return parseInt(o)});return s.length===0&&(s.push(0),n++),{sign:r,coefficients:s,exponent:n}}function jW(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Am(t),i=vg(r,e),n=i.exponent,a=i.coefficients,s=n%3===0?n:n<0?n-3-n%3:n-n%3;if(Rr(e))for(;e>a.length||n-s+1>a.length;)a.push(0);else for(var o=Math.abs(n-s)-(a.length-1),l=0;l<o;l++)a.push(0);for(var u=Math.abs(n-s),c=1;u>0;)c++,u--;var h=a.slice(c).join(""),p=Rr(e)&&h.length||h.match(/[1-9]/)?"."+h:"",d=a.slice(0,c).join("")+p+"e"+(n>=0?"+":"")+s.toString();return i.sign+d}function RC(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Am(t),i=typeof e=="number"?vg(r,r.exponent+1+e):r,n=i.coefficients,a=i.exponent+1,s=a+(e||0);return n.length<s&&(n=n.concat(hp(s-n.length))),a<0&&(n=hp(-a+1).concat(n),a=1),a<n.length&&n.splice(a,0,a===0?"0.":"."),i.sign+n.join("")}function jC(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Am(t),i=e?vg(r,e):r,n=i.coefficients,a=i.exponent;n.length<e&&(n=n.concat(hp(e-n.length)));var s=n.shift();return i.sign+s+(n.length>0?"."+n.join(""):"")+"e"+(a>=0?"+":"")+a}function qW(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var i=UC(r==null?void 0:r.lowerExp,-3),n=UC(r==null?void 0:r.upperExp,5),a=Am(t),s=e?vg(a,e):a;if(s.exponent<i||s.exponent>=n)return jC(t,e);var o=s.coefficients,l=s.exponent;o.length<e&&(o=o.concat(hp(e-o.length))),o=o.concat(hp(l-o.length+1+(o.length<e?e-o.length:0))),o=hp(-l).concat(o);var u=l>0?l:0;return u<o.length-1&&o.splice(u+1,0,"."),s.sign+o.join("")}function vg(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},i=r.coefficients;e<=0;)i.unshift(0),r.exponent++,e++;if(i.length>e){var n=i.splice(e,i.length-e);if(n[0]>=5){var a=e-1;for(i[a]++;i[a]===10;)i.pop(),a===0&&(i.unshift(0),r.exponent++,a++),a--,i[a]++}}return r}function hp(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function UW(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Ja(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(t)||isNaN(e)?!1:!isFinite(t)||!isFinite(e)?t===e:t===e?!0:Math.abs(t-e)<=Math.max(r*Math.max(Math.abs(t),Math.abs(e)),i)}var VW=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},GW=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},ZW=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},HW=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},WW=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},YW=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function KW(t,e){var r=!0,i=e>0?!0:e<0?!1:1/e===1/0;return r^i?-t:t}function qC(t,e){if(Rr(t))return t;if(Or(t))return t.toNumber();e()}function UC(t,e){return Rr(t)?t:Or(t)?t.toNumber():e}var VC=function(){return VC=Sm.create,Sm},XW=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],GC=ce("typed",XW,function(e){var{BigNumber:r,Complex:i,DenseMatrix:n,Fraction:a}=e,s=VC();return s.clear(),s.addTypes([{name:"number",test:Rr},{name:"Complex",test:Rl},{name:"BigNumber",test:Or},{name:"bigint",test:lp},{name:"Fraction",test:Th},{name:"Unit",test:Ks},{name:"identifier",test:o=>ms&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(o)},{name:"string",test:ms},{name:"Chain",test:Cb},{name:"Array",test:Li},{name:"Matrix",test:hr},{name:"DenseMatrix",test:km},{name:"SparseMatrix",test:oc},{name:"Range",test:gg},{name:"Index",test:Cm},{name:"boolean",test:xC},{name:"ResultSet",test:wC},{name:"Help",test:wb},{name:"function",test:Mb},{name:"Date",test:MC},{name:"RegExp",test:kC},{name:"null",test:CC},{name:"undefined",test:NC},{name:"AccessorNode",test:lc},{name:"ArrayNode",test:Bo},{name:"AssignmentNode",test:SC},{name:"BlockNode",test:DC},{name:"ConditionalNode",test:AC},{name:"ConstantNode",test:mi},{name:"FunctionNode",test:ou},{name:"FunctionAssignmentNode",test:up},{name:"IndexNode",test:Bh},{name:"Node",test:Vi},{name:"ObjectNode",test:Nm},{name:"OperatorNode",test:ea},{name:"ParenthesisNode",test:g0},{name:"RangeNode",test:$C},{name:"RelationalNode",test:_C},{name:"SymbolNode",test:La},{name:"Map",test:zh},{name:"Object",test:Lh}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||yg(l),UW(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return i||bg(l),new i(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return i||bg(l),new i(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return r||yg(l),new r(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return a||xg(l),new a(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return i||bg(l),new i(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||xg(l);var u=new a(l);if(u.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(l){var u=Number(l);if(isNaN(u))throw new Error('Cannot convert "'+l+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(l){r||yg(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){a||xg(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){i||bg(l);try{return new i(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||yg(l),new r(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||xg(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return n||QW(),new n(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),s.onMismatch=(o,l,u)=>{var c=s.createError(o,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&fo(l[0])&&u.some(p=>!p.params.includes(","))){var h=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw h.data=c.data,h}throw c},s.onMismatch=(o,l,u)=>{var c=s.createError(o,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&fo(l[0])&&u.some(p=>!p.params.includes(","))){var h=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw h.data=c.data,h}throw c},s});function yg(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function bg(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function QW(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function xg(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var JW="ResultSet",eY=[],ZC=ce(JW,eY,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0});/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var pp=9e15,hc=1e9,Ab="0123456789abcdef",wg="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Mg="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",$b={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-pp,maxE:pp,crypto:!1},HC,uu,jr=!0,kg="[DecimalError] ",pc=kg+"Invalid argument: ",WC=kg+"Precision limit exceeded",YC=kg+"crypto unavailable",KC="[object Decimal]",$s=Math.floor,za=Math.pow,tY=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,rY=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,iY=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,XC=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jl=1e7,Dr=7,nY=9007199254740991,aY=wg.length-1,_b=Mg.length-1,bt={toStringTag:KC};bt.absoluteValue=bt.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),mr(t)},bt.ceil=function(){return mr(new this.constructor(this),this.e+1,2)},bt.clampedTo=bt.clamp=function(t,e){var r,i=this,n=i.constructor;if(t=new n(t),e=new n(e),!t.s||!e.s)return new n(NaN);if(t.gt(e))throw Error(pc+e);return r=i.cmp(t),r<0?t:i.cmp(e)>0?e:new n(i)},bt.comparedTo=bt.cmp=function(t){var e,r,i,n,a=this,s=a.d,o=(t=new a.constructor(t)).d,l=a.s,u=t.s;if(!s||!o)return!l||!u?NaN:l!==u?l:s===o?0:!s^l<0?1:-1;if(!s[0]||!o[0])return s[0]?l:o[0]?-u:0;if(l!==u)return l;if(a.e!==t.e)return a.e>t.e^l<0?1:-1;for(i=s.length,n=o.length,e=0,r=i<n?i:n;e<r;++e)if(s[e]!==o[e])return s[e]>o[e]^l<0?1:-1;return i===n?0:i>n^l<0?1:-1},bt.cosine=bt.cos=function(){var t,e,r=this,i=r.constructor;return r.d?r.d[0]?(t=i.precision,e=i.rounding,i.precision=t+Math.max(r.e,r.sd())+Dr,i.rounding=1,r=sY(i,iN(i,r)),i.precision=t,i.rounding=e,mr(uu==2||uu==3?r.neg():r,t,e,!0)):new i(1):new i(NaN)},bt.cubeRoot=bt.cbrt=function(){var t,e,r,i,n,a,s,o,l,u,c=this,h=c.constructor;if(!c.isFinite()||c.isZero())return new h(c);for(jr=!1,a=c.s*za(c.s*c,1/3),!a||Math.abs(a)==1/0?(r=fs(c.d),t=c.e,(a=(t-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=za(r,1/3),t=$s((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),i=new h(r),i.s=c.s):i=new h(a.toString()),s=(t=h.precision)+3;;)if(o=i,l=o.times(o).times(o),u=l.plus(c),i=gn(u.plus(c).times(o),u.plus(l),s+2,1),fs(o.d).slice(0,s)===(r=fs(i.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!n&&r=="4999"){if(!n&&(mr(o,t+1,0),o.times(o).times(o).eq(c))){i=o;break}s+=4,n=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(mr(i,t+1,1),e=!i.times(i).times(i).eq(c));break}return jr=!0,mr(i,t,h.rounding,e)},bt.decimalPlaces=bt.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-$s(this.e/Dr))*Dr,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r},bt.dividedBy=bt.div=function(t){return gn(this,new this.constructor(t))},bt.dividedToIntegerBy=bt.divToInt=function(t){var e=this,r=e.constructor;return mr(gn(e,new r(t),0,1,1),r.precision,r.rounding)},bt.equals=bt.eq=function(t){return this.cmp(t)===0},bt.floor=function(){return mr(new this.constructor(this),this.e+1,3)},bt.greaterThan=bt.gt=function(t){return this.cmp(t)>0},bt.greaterThanOrEqualTo=bt.gte=function(t){var e=this.cmp(t);return e==1||e===0},bt.hyperbolicCosine=bt.cosh=function(){var t,e,r,i,n,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;r=s.precision,i=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,n=a.d.length,n<32?(t=Math.ceil(n/3),e=(1/Ag(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=dp(s,1,a.times(e),new s(1),!0);for(var l,u=t,c=new s(8);u--;)l=a.times(a),a=o.minus(l.times(c.minus(l.times(c))));return mr(a,s.precision=r,s.rounding=i,!0)},bt.hyperbolicSine=bt.sinh=function(){var t,e,r,i,n=this,a=n.constructor;if(!n.isFinite()||n.isZero())return new a(n);if(e=a.precision,r=a.rounding,a.precision=e+Math.max(n.e,n.sd())+4,a.rounding=1,i=n.d.length,i<3)n=dp(a,2,n,n,!0);else{t=1.4*Math.sqrt(i),t=t>16?16:t|0,n=n.times(1/Ag(5,t)),n=dp(a,2,n,n,!0);for(var s,o=new a(5),l=new a(16),u=new a(20);t--;)s=n.times(n),n=n.times(o.plus(s.times(l.times(s).plus(u))))}return a.precision=e,a.rounding=r,mr(n,e,r,!0)},bt.hyperbolicTangent=bt.tanh=function(){var t,e,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+7,i.rounding=1,gn(r.sinh(),r.cosh(),i.precision=t,i.rounding=e)):new i(r.s)},bt.inverseCosine=bt.acos=function(){var t=this,e=t.constructor,r=t.abs().cmp(1),i=e.precision,n=e.rounding;return r!==-1?r===0?t.isNeg()?y0(e,i,n):new e(0):new e(NaN):t.isZero()?y0(e,i+4,n).times(.5):(e.precision=i+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=i,e.rounding=n,t.times(2))},bt.inverseHyperbolicCosine=bt.acosh=function(){var t,e,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(t=i.precision,e=i.rounding,i.precision=t+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,jr=!1,r=r.times(r).minus(1).sqrt().plus(r),jr=!0,i.precision=t,i.rounding=e,r.ln()):new i(r)},bt.inverseHyperbolicSine=bt.asinh=function(){var t,e,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,jr=!1,r=r.times(r).plus(1).sqrt().plus(r),jr=!0,i.precision=t,i.rounding=e,r.ln())},bt.inverseHyperbolicTangent=bt.atanh=function(){var t,e,r,i,n=this,a=n.constructor;return n.isFinite()?n.e>=0?new a(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(t=a.precision,e=a.rounding,i=n.sd(),Math.max(i,t)<2*-n.e-1?mr(new a(n),t,e,!0):(a.precision=r=i-n.e,n=gn(n.plus(1),new a(1).minus(n),r+t,1),a.precision=t+4,a.rounding=1,n=n.ln(),a.precision=t,a.rounding=e,n.times(.5))):new a(NaN)},bt.inverseSine=bt.asin=function(){var t,e,r,i,n=this,a=n.constructor;return n.isZero()?new a(n):(e=n.abs().cmp(1),r=a.precision,i=a.rounding,e!==-1?e===0?(t=y0(a,r+4,i).times(.5),t.s=n.s,t):new a(NaN):(a.precision=r+6,a.rounding=1,n=n.div(new a(1).minus(n.times(n)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=i,n.times(2)))},bt.inverseTangent=bt.atan=function(){var t,e,r,i,n,a,s,o,l,u=this,c=u.constructor,h=c.precision,p=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&h+4<=_b)return s=y0(c,h+4,p).times(.25),s.s=u.s,s}else{if(!u.s)return new c(NaN);if(h+4<=_b)return s=y0(c,h+4,p).times(.5),s.s=u.s,s}for(c.precision=o=h+10,c.rounding=1,r=Math.min(28,o/Dr+2|0),t=r;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(jr=!1,e=Math.ceil(o/Dr),i=1,l=u.times(u),s=new c(u),n=u;t!==-1;)if(n=n.times(l),a=s.minus(n.div(i+=2)),n=n.times(l),s=a.plus(n.div(i+=2)),s.d[e]!==void 0)for(t=e;s.d[t]===a.d[t]&&t--;);return r&&(s=s.times(2<<r-1)),jr=!0,mr(s,c.precision=h,c.rounding=p,!0)},bt.isFinite=function(){return!!this.d},bt.isInteger=bt.isInt=function(){return!!this.d&&$s(this.e/Dr)>this.d.length-2},bt.isNaN=function(){return!this.s},bt.isNegative=bt.isNeg=function(){return this.s<0},bt.isPositive=bt.isPos=function(){return this.s>0},bt.isZero=function(){return!!this.d&&this.d[0]===0},bt.lessThan=bt.lt=function(t){return this.cmp(t)<0},bt.lessThanOrEqualTo=bt.lte=function(t){return this.cmp(t)<1},bt.logarithm=bt.log=function(t){var e,r,i,n,a,s,o,l,u=this,c=u.constructor,h=c.precision,p=c.rounding,d=5;if(t==null)t=new c(10),e=!0;else{if(t=new c(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(r=u.d,u.s<0||!r||!r[0]||u.eq(1))return new c(r&&!r[0]?-1/0:u.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)a=!0;else{for(n=r[0];n%10===0;)n/=10;a=n!==1}if(jr=!1,o=h+d,s=mc(u,o),i=e?Sg(c,o+10):mc(t,o),l=gn(s,i,o,1),$m(l.d,n=h,p))do if(o+=10,s=mc(u,o),i=e?Sg(c,o+10):mc(t,o),l=gn(s,i,o,1),!a){+fs(l.d).slice(n+1,n+15)+1==1e14&&(l=mr(l,h+1,0));break}while($m(l.d,n+=10,p));return jr=!0,mr(l,h,p)},bt.minus=bt.sub=function(t){var e,r,i,n,a,s,o,l,u,c,h,p,d=this,m=d.constructor;if(t=new m(t),!d.d||!t.d)return!d.s||!t.s?t=new m(NaN):d.d?t.s=-t.s:t=new m(t.d||d.s!==t.s?d:NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(u=d.d,p=t.d,o=m.precision,l=m.rounding,!u[0]||!p[0]){if(p[0])t.s=-t.s;else if(u[0])t=new m(d);else return new m(l===3?-0:0);return jr?mr(t,o,l):t}if(r=$s(t.e/Dr),c=$s(d.e/Dr),u=u.slice(),a=c-r,a){for(h=a<0,h?(e=u,a=-a,s=p.length):(e=p,r=c,s=u.length),i=Math.max(Math.ceil(o/Dr),s)+2,a>i&&(a=i,e.length=1),e.reverse(),i=a;i--;)e.push(0);e.reverse()}else{for(i=u.length,s=p.length,h=i<s,h&&(s=i),i=0;i<s;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}a=0}for(h&&(e=u,u=p,p=e,t.s=-t.s),s=u.length,i=p.length-s;i>0;--i)u[s++]=0;for(i=p.length;i>a;){if(u[--i]<p[i]){for(n=i;n&&u[--n]===0;)u[n]=jl-1;--u[n],u[i]+=jl}u[i]-=p[i]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=Ng(u,r),jr?mr(t,o,l):t):new m(l===3?-0:0)},bt.modulo=bt.mod=function(t){var e,r=this,i=r.constructor;return t=new i(t),!r.d||!t.s||t.d&&!t.d[0]?new i(NaN):!t.d||r.d&&!r.d[0]?mr(new i(r),i.precision,i.rounding):(jr=!1,i.modulo==9?(e=gn(r,t.abs(),0,3,1),e.s*=t.s):e=gn(r,t,0,i.modulo,1),e=e.times(t),jr=!0,r.minus(e))},bt.naturalExponential=bt.exp=function(){return Eb(this)},bt.naturalLogarithm=bt.ln=function(){return mc(this)},bt.negated=bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,mr(t)},bt.plus=bt.add=function(t){var e,r,i,n,a,s,o,l,u,c,h=this,p=h.constructor;if(t=new p(t),!h.d||!t.d)return!h.s||!t.s?t=new p(NaN):h.d||(t=new p(t.d||h.s===t.s?h:NaN)),t;if(h.s!=t.s)return t.s=-t.s,h.minus(t);if(u=h.d,c=t.d,o=p.precision,l=p.rounding,!u[0]||!c[0])return c[0]||(t=new p(h)),jr?mr(t,o,l):t;if(a=$s(h.e/Dr),i=$s(t.e/Dr),u=u.slice(),n=a-i,n){for(n<0?(r=u,n=-n,s=c.length):(r=c,i=a,s=u.length),a=Math.ceil(o/Dr),s=a>s?a+1:s+1,n>s&&(n=s,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for(s=u.length,n=c.length,s-n<0&&(n=s,r=c,c=u,u=r),e=0;n;)e=(u[--n]=u[n]+c[n]+e)/jl|0,u[n]%=jl;for(e&&(u.unshift(e),++i),s=u.length;u[--s]==0;)u.pop();return t.d=u,t.e=Ng(u,i),jr?mr(t,o,l):t},bt.precision=bt.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(pc+t);return r.d?(e=QC(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e},bt.round=function(){var t=this,e=t.constructor;return mr(new e(t),t.e+1,e.rounding)},bt.sine=bt.sin=function(){var t,e,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+Math.max(r.e,r.sd())+Dr,i.rounding=1,r=lY(i,iN(i,r)),i.precision=t,i.rounding=e,mr(uu>2?r.neg():r,t,e,!0)):new i(NaN)},bt.squareRoot=bt.sqrt=function(){var t,e,r,i,n,a,s=this,o=s.d,l=s.e,u=s.s,c=s.constructor;if(u!==1||!o||!o[0])return new c(!u||u<0&&(!o||o[0])?NaN:o?s:1/0);for(jr=!1,u=Math.sqrt(+s),u==0||u==1/0?(e=fs(o),(e.length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=$s((l+1)/2)-(l<0||l%2),u==1/0?e="5e"+l:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),i=new c(e)):i=new c(u.toString()),r=(l=c.precision)+3;;)if(a=i,i=a.plus(gn(s,a,r+2,1)).times(.5),fs(a.d).slice(0,r)===(e=fs(i.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!n&&e=="4999"){if(!n&&(mr(a,l+1,0),a.times(a).eq(s))){i=a;break}r+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(mr(i,l+1,1),t=!i.times(i).eq(s));break}return jr=!0,mr(i,l,c.rounding,t)},bt.tangent=bt.tan=function(){var t,e,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+10,i.rounding=1,r=r.sin(),r.s=1,r=gn(r,new i(1).minus(r.times(r)).sqrt(),t+10,0),i.precision=t,i.rounding=e,mr(uu==2||uu==4?r.neg():r,t,e,!0)):new i(NaN)},bt.times=bt.mul=function(t){var e,r,i,n,a,s,o,l,u,c=this,h=c.constructor,p=c.d,d=(t=new h(t)).d;if(t.s*=c.s,!p||!p[0]||!d||!d[0])return new h(!t.s||p&&!p[0]&&!d||d&&!d[0]&&!p?NaN:!p||!d?t.s/0:t.s*0);for(r=$s(c.e/Dr)+$s(t.e/Dr),l=p.length,u=d.length,l<u&&(a=p,p=d,d=a,s=l,l=u,u=s),a=[],s=l+u,i=s;i--;)a.push(0);for(i=u;--i>=0;){for(e=0,n=l+i;n>i;)o=a[n]+d[i]*p[n-i-1]+e,a[n--]=o%jl|0,e=o/jl|0;a[n]=(a[n]+e)%jl|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=Ng(a,r),jr?mr(t,h.precision,h.rounding):t},bt.toBinary=function(t,e){return Ib(this,2,t,e)},bt.toDecimalPlaces=bt.toDP=function(t,e){var r=this,i=r.constructor;return r=new i(r),t===void 0?r:(go(t,0,hc),e===void 0?e=i.rounding:go(e,0,8),mr(r,t+r.e+1,e))},bt.toExponential=function(t,e){var r,i=this,n=i.constructor;return t===void 0?r=v0(i,!0):(go(t,0,hc),e===void 0?e=n.rounding:go(e,0,8),i=mr(new n(i),t+1,e),r=v0(i,!0,t+1)),i.isNeg()&&!i.isZero()?"-"+r:r},bt.toFixed=function(t,e){var r,i,n=this,a=n.constructor;return t===void 0?r=v0(n):(go(t,0,hc),e===void 0?e=a.rounding:go(e,0,8),i=mr(new a(n),t+n.e+1,e),r=v0(i,!1,t+i.e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},bt.toFraction=function(t){var e,r,i,n,a,s,o,l,u,c,h,p,d=this,m=d.d,f=d.constructor;if(!m)return new f(d);if(u=r=new f(1),i=l=new f(0),e=new f(i),a=e.e=QC(m)-d.e-1,s=a%Dr,e.d[0]=za(10,s<0?Dr+s:s),t==null)t=a>0?e:u;else{if(o=new f(t),!o.isInt()||o.lt(u))throw Error(pc+o);t=o.gt(e)?a>0?e:u:o}for(jr=!1,o=new f(fs(m)),c=f.precision,f.precision=a=m.length*Dr*2;h=gn(o,e,0,1,1),n=r.plus(h.times(i)),n.cmp(t)!=1;)r=i,i=n,n=u,u=l.plus(h.times(n)),l=n,n=e,e=o.minus(h.times(n)),o=n;return n=gn(t.minus(r),i,0,1,1),l=l.plus(n.times(u)),r=r.plus(n.times(i)),l.s=u.s=d.s,p=gn(u,i,a,1).minus(d).abs().cmp(gn(l,r,a,1).minus(d).abs())<1?[u,i]:[l,r],f.precision=c,jr=!0,p},bt.toHexadecimal=bt.toHex=function(t,e){return Ib(this,16,t,e)},bt.toNearest=function(t,e){var r=this,i=r.constructor;if(r=new i(r),t==null){if(!r.d)return r;t=new i(1),e=i.rounding}else{if(t=new i(t),e===void 0?e=i.rounding:go(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(jr=!1,r=gn(r,t,0,e,1).times(t),jr=!0,mr(r)):(t.s=r.s,r=t),r},bt.toNumber=function(){return+this},bt.toOctal=function(t,e){return Ib(this,8,t,e)},bt.toPower=bt.pow=function(t){var e,r,i,n,a,s,o=this,l=o.constructor,u=+(t=new l(t));if(!o.d||!t.d||!o.d[0]||!t.d[0])return new l(za(+o,u));if(o=new l(o),o.eq(1))return o;if(i=l.precision,a=l.rounding,t.eq(1))return mr(o,i,a);if(e=$s(t.e/Dr),e>=t.d.length-1&&(r=u<0?-u:u)<=nY)return n=JC(l,o,r,i),t.s<0?new l(1).div(n):mr(n,i,a);if(s=o.s,s<0){if(e<t.d.length-1)return new l(NaN);if(t.d[e]&1||(s=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=s,o}return r=za(+o,u),e=r==0||!isFinite(r)?$s(u*(Math.log("0."+fs(o.d))/Math.LN10+o.e+1)):new l(r+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?s/0:0):(jr=!1,l.rounding=o.s=1,r=Math.min(12,(e+"").length),n=Eb(t.times(mc(o,i+r)),i),n.d&&(n=mr(n,i+5,1),$m(n.d,i,a)&&(e=i+10,n=mr(Eb(t.times(mc(o,e+r)),e),e+5,1),+fs(n.d).slice(i+1,i+15)+1==1e14&&(n=mr(n,i+1,0)))),n.s=s,jr=!0,l.rounding=a,mr(n,i,a))},bt.toPrecision=function(t,e){var r,i=this,n=i.constructor;return t===void 0?r=v0(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(go(t,1,hc),e===void 0?e=n.rounding:go(e,0,8),i=mr(new n(i),t,e),r=v0(i,t<=i.e||i.e<=n.toExpNeg,t)),i.isNeg()&&!i.isZero()?"-"+r:r},bt.toSignificantDigits=bt.toSD=function(t,e){var r=this,i=r.constructor;return t===void 0?(t=i.precision,e=i.rounding):(go(t,1,hc),e===void 0?e=i.rounding:go(e,0,8)),mr(new i(r),t,e)},bt.toString=function(){var t=this,e=t.constructor,r=v0(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},bt.truncated=bt.trunc=function(){return mr(new this.constructor(this),this.e+1,1)},bt.valueOf=bt.toJSON=function(){var t=this,e=t.constructor,r=v0(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function fs(t){var e,r,i,n=t.length-1,a="",s=t[0];if(n>0){for(a+=s,e=1;e<n;e++)i=t[e]+"",r=Dr-i.length,r&&(a+=dc(r)),a+=i;s=t[e],i=s+"",r=Dr-i.length,r&&(a+=dc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}function go(t,e,r){if(t!==~~t||t<e||t>r)throw Error(pc+t)}function $m(t,e,r,i){var n,a,s,o;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=Dr,n=0):(n=Math.ceil((e+1)/Dr),e%=Dr),a=za(10,Dr-e),o=t[n]%a|0,i==null?e<3?(e==0?o=o/100|0:e==1&&(o=o/10|0),s=r<4&&o==99999||r>3&&o==49999||o==5e4||o==0):s=(r<4&&o+1==a||r>3&&o+1==a/2)&&(t[n+1]/a/100|0)==za(10,e-2)-1||(o==a/2||o==0)&&(t[n+1]/a/100|0)==0:e<4?(e==0?o=o/1e3|0:e==1?o=o/100|0:e==2&&(o=o/10|0),s=(i||r<4)&&o==9999||!i&&r>3&&o==4999):s=((i||r<4)&&o+1==a||!i&&r>3&&o+1==a/2)&&(t[n+1]/a/1e3|0)==za(10,e-3)-1,s}function Cg(t,e,r){for(var i,n=[0],a,s=0,o=t.length;s<o;){for(a=n.length;a--;)n[a]*=e;for(n[0]+=Ab.indexOf(t.charAt(s++)),i=0;i<n.length;i++)n[i]>r-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/r|0,n[i]%=r)}return n.reverse()}function sY(t,e){var r,i,n;if(e.isZero())return e;i=e.d.length,i<32?(r=Math.ceil(i/3),n=(1/Ag(4,r)).toString()):(r=16,n="2.3283064365386962890625e-10"),t.precision+=r,e=dp(t,1,e.times(n),new t(1));for(var a=r;a--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return t.precision-=r,e}var gn=function(){function t(i,n,a){var s,o=0,l=i.length;for(i=i.slice();l--;)s=i[l]*n+o,i[l]=s%a|0,o=s/a|0;return o&&i.unshift(o),i}function e(i,n,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(i[o]!=n[o]){l=i[o]>n[o]?1:-1;break}return l}function r(i,n,a,s){for(var o=0;a--;)i[a]-=o,o=i[a]<n[a]?1:0,i[a]=o*s+i[a]-n[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,a,s,o,l){var u,c,h,p,d,m,f,v,y,x,g,b,k,w,N,A,$,D,_,T,z=i.constructor,P=i.s==n.s?1:-1,q=i.d,L=n.d;if(!q||!q[0]||!L||!L[0])return new z(!i.s||!n.s||(q?L&&q[0]==L[0]:!L)?NaN:q&&q[0]==0||!L?P*0:P/0);for(l?(d=1,c=i.e-n.e):(l=jl,d=Dr,c=$s(i.e/d)-$s(n.e/d)),_=L.length,$=q.length,y=new z(P),x=y.d=[],h=0;L[h]==(q[h]||0);h++);if(L[h]>(q[h]||0)&&c--,a==null?(w=a=z.precision,s=z.rounding):o?w=a+(i.e-n.e)+1:w=a,w<0)x.push(1),m=!0;else{if(w=w/d+2|0,h=0,_==1){for(p=0,L=L[0],w++;(h<$||p)&&w--;h++)N=p*l+(q[h]||0),x[h]=N/L|0,p=N%L|0;m=p||h<$}else{for(p=l/(L[0]+1)|0,p>1&&(L=t(L,p,l),q=t(q,p,l),_=L.length,$=q.length),A=_,g=q.slice(0,_),b=g.length;b<_;)g[b++]=0;T=L.slice(),T.unshift(0),D=L[0],L[1]>=l/2&&++D;do p=0,u=e(L,g,_,b),u<0?(k=g[0],_!=b&&(k=k*l+(g[1]||0)),p=k/D|0,p>1?(p>=l&&(p=l-1),f=t(L,p,l),v=f.length,b=g.length,u=e(f,g,v,b),u==1&&(p--,r(f,_<v?T:L,v,l))):(p==0&&(u=p=1),f=L.slice()),v=f.length,v<b&&f.unshift(0),r(g,f,b,l),u==-1&&(b=g.length,u=e(L,g,_,b),u<1&&(p++,r(g,_<b?T:L,b,l))),b=g.length):u===0&&(p++,g=[0]),x[h++]=p,u&&g[0]?g[b++]=q[A]||0:(g=[q[A]],b=1);while((A++<$||g[0]!==void 0)&&w--);m=g[0]!==void 0}x[0]||x.shift()}if(d==1)y.e=c,HC=m;else{for(h=1,p=x[0];p>=10;p/=10)h++;y.e=h+c*d-1,mr(y,o?a+y.e+1:a,s,m)}return y}}();function mr(t,e,r,i){var n,a,s,o,l,u,c,h,p,d=t.constructor;e:if(e!=null){if(h=t.d,!h)return t;for(n=1,o=h[0];o>=10;o/=10)n++;if(a=e-n,a<0)a+=Dr,s=e,c=h[p=0],l=c/za(10,n-s-1)%10|0;else if(p=Math.ceil((a+1)/Dr),o=h.length,p>=o)if(i){for(;o++<=p;)h.push(0);c=l=0,n=1,a%=Dr,s=a-Dr+1}else break e;else{for(c=o=h[p],n=1;o>=10;o/=10)n++;a%=Dr,s=a-Dr+n,l=s<0?0:c/za(10,n-s-1)%10|0}if(i=i||e<0||h[p+1]!==void 0||(s<0?c:c%za(10,n-s-1)),u=r<4?(l||i)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||i||r==6&&(a>0?s>0?c/za(10,n-s):0:h[p-1])%10&1||r==(t.s<0?8:7)),e<1||!h[0])return h.length=0,u?(e-=t.e+1,h[0]=za(10,(Dr-e%Dr)%Dr),t.e=-e||0):h[0]=t.e=0,t;if(a==0?(h.length=p,o=1,p--):(h.length=p+1,o=za(10,Dr-a),h[p]=s>0?(c/za(10,n-s)%za(10,s)|0)*o:0),u)for(;;)if(p==0){for(a=1,s=h[0];s>=10;s/=10)a++;for(s=h[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(t.e++,h[0]==jl&&(h[0]=1));break}else{if(h[p]+=o,h[p]!=jl)break;h[p--]=0,o=1}for(a=h.length;h[--a]===0;)h.pop()}return jr&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function v0(t,e,r){if(!t.isFinite())return rN(t);var i,n=t.e,a=fs(t.d),s=a.length;return e?(r&&(i=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+dc(i):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):n<0?(a="0."+dc(-n-1)+a,r&&(i=r-s)>0&&(a+=dc(i))):n>=s?(a+=dc(n+1-s),r&&(i=r-n-1)>0&&(a=a+"."+dc(i))):((i=n+1)<s&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-s)>0&&(n+1===s&&(a+="."),a+=dc(i))),a}function Ng(t,e){var r=t[0];for(e*=Dr;r>=10;r/=10)e++;return e}function Sg(t,e,r){if(e>aY)throw jr=!0,r&&(t.precision=r),Error(WC);return mr(new t(wg),e,1,!0)}function y0(t,e,r){if(e>_b)throw Error(WC);return mr(new t(Mg),e,r,!0)}function QC(t){var e=t.length-1,r=e*Dr+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function dc(t){for(var e="";t--;)e+="0";return e}function JC(t,e,r,i){var n,a=new t(1),s=Math.ceil(i/Dr+4);for(jr=!1;;){if(r%2&&(a=a.times(e),nN(a.d,s)&&(n=!0)),r=$s(r/2),r===0){r=a.d.length-1,n&&a.d[r]===0&&++a.d[r];break}e=e.times(e),nN(e.d,s)}return jr=!0,a}function eN(t){return t.d[t.d.length-1]&1}function tN(t,e,r){for(var i,n,a=new t(e[0]),s=0;++s<e.length;){if(n=new t(e[s]),!n.s){a=n;break}i=a.cmp(n),(i===r||i===0&&a.s===r)&&(a=n)}return a}function Eb(t,e){var r,i,n,a,s,o,l,u=0,c=0,h=0,p=t.constructor,d=p.rounding,m=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(jr=!1,l=m):l=e,o=new p(.03125);t.e>-2;)t=t.times(o),h+=5;for(i=Math.log(za(2,h))/Math.LN10*2+5|0,l+=i,r=a=s=new p(1),p.precision=l;;){if(a=mr(a.times(t),l,1),r=r.times(++c),o=s.plus(gn(a,r,l,1)),fs(o.d).slice(0,l)===fs(s.d).slice(0,l)){for(n=h;n--;)s=mr(s.times(s),l,1);if(e==null)if(u<3&&$m(s.d,l-i,d,u))p.precision=l+=10,r=a=o=new p(1),c=0,u++;else return mr(s,p.precision=m,d,jr=!0);else return p.precision=m,s}s=o}}function mc(t,e){var r,i,n,a,s,o,l,u,c,h,p,d=1,m=10,f=t,v=f.d,y=f.constructor,x=y.rounding,g=y.precision;if(f.s<0||!v||!v[0]||!f.e&&v[0]==1&&v.length==1)return new y(v&&!v[0]?-1/0:f.s!=1?NaN:v?0:f);if(e==null?(jr=!1,c=g):c=e,y.precision=c+=m,r=fs(v),i=r.charAt(0),Math.abs(a=f.e)<15e14){for(;i<7&&i!=1||i==1&&r.charAt(1)>3;)f=f.times(t),r=fs(f.d),i=r.charAt(0),d++;a=f.e,i>1?(f=new y("0."+r),a++):f=new y(i+"."+r.slice(1))}else return u=Sg(y,c+2,g).times(a+""),f=mc(new y(i+"."+r.slice(1)),c-m).plus(u),y.precision=g,e==null?mr(f,g,x,jr=!0):f;for(h=f,l=s=f=gn(f.minus(1),f.plus(1),c,1),p=mr(f.times(f),c,1),n=3;;){if(s=mr(s.times(p),c,1),u=l.plus(gn(s,new y(n),c,1)),fs(u.d).slice(0,c)===fs(l.d).slice(0,c))if(l=l.times(2),a!==0&&(l=l.plus(Sg(y,c+2,g).times(a+""))),l=gn(l,new y(d),c,1),e==null)if($m(l.d,c-m,x,o))y.precision=c+=m,u=s=f=gn(h.minus(1),h.plus(1),c,1),p=mr(f.times(f),c,1),n=o=1;else return mr(l,y.precision=g,x,jr=!0);else return y.precision=g,l;l=u,n+=2}}function rN(t){return String(t.s*t.s/0)}function Dg(t,e){var r,i,n;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length),i=0;e.charCodeAt(i)===48;i++);for(n=e.length;e.charCodeAt(n-1)===48;--n);if(e=e.slice(i,n),e){if(n-=i,t.e=r=r-i-1,t.d=[],i=(r+1)%Dr,r<0&&(i+=Dr),i<n){for(i&&t.d.push(+e.slice(0,i)),n-=Dr;i<n;)t.d.push(+e.slice(i,i+=Dr));e=e.slice(i),i=Dr-e.length}else i-=n;for(;i--;)e+="0";t.d.push(+e),jr&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function oY(t,e){var r,i,n,a,s,o,l,u,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),XC.test(e))return Dg(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(rY.test(e))r=16,e=e.toLowerCase();else if(tY.test(e))r=2;else if(iY.test(e))r=8;else throw Error(pc+e);for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),s=a>=0,i=t.constructor,s&&(e=e.replace(".",""),o=e.length,a=o-a,n=JC(i,new i(r),a,a*2)),u=Cg(e,r,jl),c=u.length-1,a=c;u[a]===0;--a)u.pop();return a<0?new i(t.s*0):(t.e=Ng(u,c),t.d=u,jr=!1,s&&(t=gn(t,n,o*4)),l&&(t=t.times(Math.abs(l)<54?za(2,l):Cr.pow(2,l))),jr=!0,t)}function lY(t,e){var r,i=e.d.length;if(i<3)return e.isZero()?e:dp(t,2,e,e);r=1.4*Math.sqrt(i),r=r>16?16:r|0,e=e.times(1/Ag(5,r)),e=dp(t,2,e,e);for(var n,a=new t(5),s=new t(16),o=new t(20);r--;)n=e.times(e),e=e.times(a.plus(n.times(s.times(n).minus(o))));return e}function dp(t,e,r,i,n){var a,s,o,l,u=t.precision,c=Math.ceil(u/Dr);for(jr=!1,l=r.times(r),o=new t(i);;){if(s=gn(o.times(l),new t(e++*e++),u,1),o=n?i.plus(s):i.minus(s),i=gn(s.times(l),new t(e++*e++),u,1),s=o.plus(i),s.d[c]!==void 0){for(a=c;s.d[a]===o.d[a]&&a--;);if(a==-1)break}a=o,o=i,i=s,s=a}return jr=!0,s.d.length=c+1,s}function Ag(t,e){for(var r=t;--e;)r*=t;return r}function iN(t,e){var r,i=e.s<0,n=y0(t,t.precision,1),a=n.times(.5);if(e=e.abs(),e.lte(a))return uu=i?4:1,e;if(r=e.divToInt(n),r.isZero())uu=i?3:2;else{if(e=e.minus(r.times(n)),e.lte(a))return uu=eN(r)?i?2:3:i?4:1,e;uu=eN(r)?i?1:4:i?3:2}return e.minus(n).abs()}function Ib(t,e,r,i){var n,a,s,o,l,u,c,h,p,d=t.constructor,m=r!==void 0;if(m?(go(r,1,hc),i===void 0?i=d.rounding:go(i,0,8)):(r=d.precision,i=d.rounding),!t.isFinite())c=rN(t);else{for(c=v0(t),s=c.indexOf("."),m?(n=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):n=e,s>=0&&(c=c.replace(".",""),p=new d(1),p.e=c.length-s,p.d=Cg(v0(p),10,n),p.e=p.d.length),h=Cg(c,10,n),a=l=h.length;h[--l]==0;)h.pop();if(!h[0])c=m?"0p+0":"0";else{if(s<0?a--:(t=new d(t),t.d=h,t.e=a,t=gn(t,p,r,i,0,n),h=t.d,a=t.e,u=HC),s=h[r],o=n/2,u=u||h[r+1]!==void 0,u=i<4?(s!==void 0||u)&&(i===0||i===(t.s<0?3:2)):s>o||s===o&&(i===4||u||i===6&&h[r-1]&1||i===(t.s<0?8:7)),h.length=r,u)for(;++h[--r]>n-1;)h[r]=0,r||(++a,h.unshift(1));for(l=h.length;!h[l-1];--l);for(s=0,c="";s<l;s++)c+=Ab.charAt(h[s]);if(m){if(l>1)if(e==16||e==8){for(s=e==16?4:3,--l;l%s;l++)c+="0";for(h=Cg(c,n,e),l=h.length;!h[l-1];--l);for(s=1,c="1.";s<l;s++)c+=Ab.charAt(h[s])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>l)for(a-=l;a--;)c+="0";else a<l&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return t.s<0?"-"+c:c}function nN(t,e){if(t.length>e)return t.length=e,!0}function uY(t){return new this(t).abs()}function cY(t){return new this(t).acos()}function hY(t){return new this(t).acosh()}function pY(t,e){return new this(t).plus(e)}function dY(t){return new this(t).asin()}function mY(t){return new this(t).asinh()}function fY(t){return new this(t).atan()}function gY(t){return new this(t).atanh()}function vY(t,e){t=new this(t),e=new this(e);var r,i=this.precision,n=this.rounding,a=i+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=y0(this,a,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?y0(this,i,n):new this(0),r.s=t.s):!t.d||e.isZero()?(r=y0(this,a,1).times(.5),r.s=t.s):e.s<0?(this.precision=a,this.rounding=1,r=this.atan(gn(t,e,a,1)),e=y0(this,a,1),this.precision=i,this.rounding=n,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(gn(t,e,a,1)),r}function yY(t){return new this(t).cbrt()}function bY(t){return mr(t=new this(t),t.e+1,2)}function xY(t,e,r){return new this(t).clamp(e,r)}function wY(t){if(!t||typeof t!="object")throw Error(kg+"Object expected");var e,r,i,n=t.defaults===!0,a=["precision",1,hc,"rounding",0,8,"toExpNeg",-pp,0,"toExpPos",0,pp,"maxE",0,pp,"minE",-pp,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(r=a[e],n&&(this[r]=$b[r]),(i=t[r])!==void 0)if($s(i)===i&&i>=a[e+1]&&i<=a[e+2])this[r]=i;else throw Error(pc+r+": "+i);if(r="crypto",n&&(this[r]=$b[r]),(i=t[r])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(YC);else this[r]=!1;else throw Error(pc+r+": "+i);return this}function MY(t){return new this(t).cos()}function kY(t){return new this(t).cosh()}function aN(t){var e,r,i;function n(a){var s,o,l,u=this;if(!(u instanceof n))return new n(a);if(u.constructor=n,sN(a)){u.s=a.s,jr?!a.d||a.e>n.maxE?(u.e=NaN,u.d=null):a.e<n.minE?(u.e=0,u.d=[0]):(u.e=a.e,u.d=a.d.slice()):(u.e=a.e,u.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){u.s=1/a<0?-1:1,u.e=0,u.d=[0];return}if(a<0?(a=-a,u.s=-1):u.s=1,a===~~a&&a<1e7){for(s=0,o=a;o>=10;o/=10)s++;jr?s>n.maxE?(u.e=NaN,u.d=null):s<n.minE?(u.e=0,u.d=[0]):(u.e=s,u.d=[a]):(u.e=s,u.d=[a]);return}if(a*0!==0){a||(u.s=NaN),u.e=NaN,u.d=null;return}return Dg(u,a.toString())}if(l==="string")return(o=a.charCodeAt(0))===45?(a=a.slice(1),u.s=-1):(o===43&&(a=a.slice(1)),u.s=1),XC.test(a)?Dg(u,a):oY(u,a);if(l==="bigint")return a<0?(a=-a,u.s=-1):u.s=1,Dg(u,a.toString());throw Error(pc+a)}if(n.prototype=bt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=wY,n.clone=aN,n.isDecimal=sN,n.abs=uY,n.acos=cY,n.acosh=hY,n.add=pY,n.asin=dY,n.asinh=mY,n.atan=fY,n.atanh=gY,n.atan2=vY,n.cbrt=yY,n.ceil=bY,n.clamp=xY,n.cos=MY,n.cosh=kY,n.div=CY,n.exp=NY,n.floor=SY,n.hypot=DY,n.ln=AY,n.log=$Y,n.log10=EY,n.log2=_Y,n.max=IY,n.min=TY,n.mod=LY,n.mul=zY,n.pow=BY,n.random=OY,n.round=FY,n.sign=PY,n.sin=RY,n.sinh=jY,n.sqrt=qY,n.sub=UY,n.sum=VY,n.tan=GY,n.tanh=ZY,n.trunc=HY,t===void 0&&(t={}),t&&t.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)t.hasOwnProperty(r=i[e++])||(t[r]=this[r]);return n.config(t),n}function CY(t,e){return new this(t).div(e)}function NY(t){return new this(t).exp()}function SY(t){return mr(t=new this(t),t.e+1,3)}function DY(){var t,e,r=new this(0);for(jr=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return jr=!0,new this(1/0);r=e}return jr=!0,r.sqrt()}function sN(t){return t instanceof Cr||t&&t.toStringTag===KC||!1}function AY(t){return new this(t).ln()}function $Y(t,e){return new this(t).log(e)}function _Y(t){return new this(t).log(2)}function EY(t){return new this(t).log(10)}function IY(){return tN(this,arguments,-1)}function TY(){return tN(this,arguments,1)}function LY(t,e){return new this(t).mod(e)}function zY(t,e){return new this(t).mul(e)}function BY(t,e){return new this(t).pow(e)}function OY(t){var e,r,i,n,a=0,s=new this(1),o=[];if(t===void 0?t=this.precision:go(t,1,hc),i=Math.ceil(t/Dr),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));a<i;)n=e[a],n>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=n%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);a<i;)n=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(e,a):(o.push(n%1e7),a+=4);a=i/4}else throw Error(YC);else for(;a<i;)o[a++]=Math.random()*1e7|0;for(i=o[--a],t%=Dr,i&&t&&(n=za(10,Dr-t),o[a]=(i/n|0)*n);o[a]===0;a--)o.pop();if(a<0)r=0,o=[0];else{for(r=-1;o[0]===0;r-=Dr)o.shift();for(i=1,n=o[0];n>=10;n/=10)i++;i<Dr&&(r-=Dr-i)}return s.e=r,s.d=o,s}function FY(t){return mr(t=new this(t),t.e+1,this.rounding)}function PY(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function RY(t){return new this(t).sin()}function jY(t){return new this(t).sinh()}function qY(t){return new this(t).sqrt()}function UY(t,e){return new this(t).sub(e)}function VY(){var t=0,e=arguments,r=new this(e[t]);for(jr=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return jr=!0,mr(r,this.precision,this.rounding)}function GY(t){return new this(t).tan()}function ZY(t){return new this(t).tanh()}function HY(t){return mr(t=new this(t),t.e+1,1)}bt[Symbol.for("nodejs.util.inspect.custom")]=bt.toString,bt[Symbol.toStringTag]="Decimal";var Cr=bt.constructor=aN($b);wg=new Cr(wg),Mg=new Cr(Mg);var WY="BigNumber",YY=["?on","config"],oN=ce(WY,YY,t=>{var{on:e,config:r}=t,i=Cr.clone({precision:r.precision,modulo:Cr.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(n){return new i(n.value)},e&&e("config",function(n,a){n.precision!==a.precision&&i.config({precision:n.precision})}),i},{isClass:!0});const _s=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:(Math.exp(t)+Math.exp(-t))*.5},ol=Math.sinh||function(t){return Math.abs(t)<1e-9?t:(Math.exp(t)-Math.exp(-t))*.5},KY=function(t){const e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;const r=t*t;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},Tb=function(t,e){return t=Math.abs(t),e=Math.abs(e),t<e&&([t,e]=[e,t]),t<1e8?Math.sqrt(t*t+e*e):(e/=t,t*Math.sqrt(1+e*e))},mp=function(){throw SyntaxError("Invalid Param")};function Lb(t,e){const r=Math.abs(t),i=Math.abs(e);return t===0?Math.log(i):e===0?Math.log(r):r<3e3&&i<3e3?Math.log(t*t+e*e)*.5:(t=t*.5,e=e*.5,.5*Math.log(t*t+e*e)+Math.LN2)}const XY={re:0,im:0},Ph=function(t,e){const r=XY;if(t==null)r.re=r.im=0;else if(e!==void 0)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!isFinite(t.abs)&&isFinite(t.arg))return dt.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!isFinite(t.r)&&isFinite(t.phi))return dt.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi)}else t.length===2?(r.re=t[0],r.im=t[1]):mp();break;case"string":r.im=r.re=0;const i=t.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let n=1,a=0;i===null&&mp();for(let s=0;s<i.length;s++){const o=i[s];o===" "||o==="	"||o===`
`||(o==="+"?n++:o==="-"?a++:o==="i"||o==="I"?(n+a===0&&mp(),i[s+1]!==" "&&!isNaN(i[s+1])?(r.im+=parseFloat((a%2?"-":"")+i[s+1]),s++):r.im+=parseFloat((a%2?"-":"")+"1"),n=a=0):((n+a===0||isNaN(o))&&mp(),i[s+1]==="i"||i[s+1]==="I"?(r.im+=parseFloat((a%2?"-":"")+o),s++):r.re+=parseFloat((a%2?"-":"")+o),n=a=0))}n+a>0&&mp();break;case"number":r.im=0,r.re=t;break;default:mp()}return isNaN(r.re)||isNaN(r.im),r};function dt(t,e){if(!(this instanceof dt))return new dt(t,e);const r=Ph(t,e);this.re=r.re,this.im=r.im}dt.prototype={re:0,im:0,sign:function(){const t=Tb(this.re,this.im);return new dt(this.re/t,this.im/t)},add:function(t,e){const r=Ph(t,e),i=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im));return i||n?i&&n?dt.NAN:dt.INFINITY:new dt(this.re+r.re,this.im+r.im)},sub:function(t,e){const r=Ph(t,e),i=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im));return i||n?i&&n?dt.NAN:dt.INFINITY:new dt(this.re-r.re,this.im-r.im)},mul:function(t,e){const r=Ph(t,e),i=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im)),a=this.re===0&&this.im===0,s=r.re===0&&r.im===0;return i&&s||n&&a?dt.NAN:i||n?dt.INFINITY:r.im===0&&this.im===0?new dt(this.re*r.re,0):new dt(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){const r=Ph(t,e),i=this.isInfinite(),n=!(isFinite(r.re)&&isFinite(r.im)),a=this.re===0&&this.im===0,s=r.re===0&&r.im===0;if(a&&s||i&&n)return dt.NAN;if(s||i)return dt.INFINITY;if(a||n)return dt.ZERO;if(r.im===0)return new dt(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const o=r.re/r.im,l=r.re*o+r.im;return new dt((this.re*o+this.im)/l,(this.im*o-this.re)/l)}else{const o=r.im/r.re,l=r.im*o+r.re;return new dt((this.re+this.im*o)/l,(this.im-this.re*o)/l)}},pow:function(t,e){const r=Ph(t,e),i=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return dt.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new dt(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new dt(Math.pow(this.im,r.re),0);case 1:return new dt(0,Math.pow(this.im,r.re));case 2:return new dt(-Math.pow(this.im,r.re),0);case 3:return new dt(0,-Math.pow(this.im,r.re))}}if(i&&r.re>0)return dt.ZERO;const a=Math.atan2(this.im,this.re),s=Lb(this.re,this.im);let o=Math.exp(r.re*s-r.im*a),l=r.im*s+r.re*a;return new dt(o*Math.cos(l),o*Math.sin(l))},sqrt:function(){const t=this.re,e=this.im;if(e===0)return t>=0?new dt(Math.sqrt(t),0):new dt(0,Math.sqrt(-t));const r=Tb(t,e);let i=Math.sqrt(.5*(r+Math.abs(t))),n=Math.abs(e)/(2*i);return t>=0?new dt(i,e<0?-n:n):new dt(n,e<0?-i:i)},exp:function(){const t=Math.exp(this.re);return this.im===0?new dt(t,0):new dt(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){const t=this.re,e=this.im;return new dt(Math.expm1(t)*Math.cos(e)+KY(e),Math.exp(t)*Math.sin(e))},log:function(){const t=this.re,e=this.im;return e===0&&t>0?new dt(Math.log(t),0):new dt(Lb(t,e),Math.atan2(e,t))},abs:function(){return Tb(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const t=this.re,e=this.im;return new dt(Math.sin(t)*_s(e),Math.cos(t)*ol(e))},cos:function(){const t=this.re,e=this.im;return new dt(Math.cos(t)*_s(e),-Math.sin(t)*ol(e))},tan:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)+_s(e);return new dt(Math.sin(t)/r,ol(e)/r)},cot:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)-_s(e);return new dt(-Math.sin(t)/r,ol(e)/r)},sec:function(){const t=this.re,e=this.im,r=.5*_s(2*e)+.5*Math.cos(2*t);return new dt(Math.cos(t)*_s(e)/r,Math.sin(t)*ol(e)/r)},csc:function(){const t=this.re,e=this.im,r=.5*_s(2*e)-.5*Math.cos(2*t);return new dt(Math.sin(t)*_s(e)/r,-Math.cos(t)*ol(e)/r)},asin:function(){const t=this.re,e=this.im,r=new dt(e*e-t*t+1,-2*t*e).sqrt(),i=new dt(r.re-e,r.im+t).log();return new dt(i.im,-i.re)},acos:function(){const t=this.re,e=this.im,r=new dt(e*e-t*t+1,-2*t*e).sqrt(),i=new dt(r.re-e,r.im+t).log();return new dt(Math.PI/2-i.im,i.re)},atan:function(){const t=this.re,e=this.im;if(t===0){if(e===1)return new dt(0,1/0);if(e===-1)return new dt(0,-1/0)}const r=t*t+(1-e)*(1-e),i=new dt((1-e*e-t*t)/r,-2*t/r).log();return new dt(-.5*i.im,.5*i.re)},acot:function(){const t=this.re,e=this.im;if(e===0)return new dt(Math.atan2(1,t),0);const r=t*t+e*e;return r!==0?new dt(t/r,-e/r).atan():new dt(t!==0?t/0:0,e!==0?-e/0:0).atan()},asec:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new dt(0,1/0);const r=t*t+e*e;return r!==0?new dt(t/r,-e/r).acos():new dt(t!==0?t/0:0,e!==0?-e/0:0).acos()},acsc:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new dt(Math.PI/2,1/0);const r=t*t+e*e;return r!==0?new dt(t/r,-e/r).asin():new dt(t!==0?t/0:0,e!==0?-e/0:0).asin()},sinh:function(){const t=this.re,e=this.im;return new dt(ol(t)*Math.cos(e),_s(t)*Math.sin(e))},cosh:function(){const t=this.re,e=this.im;return new dt(_s(t)*Math.cos(e),ol(t)*Math.sin(e))},tanh:function(){const t=2*this.re,e=2*this.im,r=_s(t)+Math.cos(e);return new dt(ol(t)/r,Math.sin(e)/r)},coth:function(){const t=2*this.re,e=2*this.im,r=_s(t)-Math.cos(e);return new dt(ol(t)/r,-Math.sin(e)/r)},csch:function(){const t=this.re,e=this.im,r=Math.cos(2*e)-_s(2*t);return new dt(-2*ol(t)*Math.cos(e)/r,2*_s(t)*Math.sin(e)/r)},sech:function(){const t=this.re,e=this.im,r=Math.cos(2*e)+_s(2*t);return new dt(2*_s(t)*Math.cos(e)/r,-2*ol(t)*Math.sin(e)/r)},asinh:function(){let t=this.im;this.im=-this.re,this.re=t;const e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){const t=this.acos();if(t.im<=0){const e=t.re;t.re=-t.im,t.im=e}else{const e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){const t=this.re,e=this.im,r=t>1&&e===0,i=1-t,n=1+t,a=i*i+e*e,s=a!==0?new dt((n*i-e*e)/a,(e*i+n*e)/a):new dt(t!==-1?t/0:0,e!==0?e/0:0),o=s.re;return s.re=Lb(s.re,s.im)/2,s.im=Math.atan2(s.im,o)/2,r&&(s.im=-s.im),s},acoth:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new dt(0,Math.PI/2);const r=t*t+e*e;return r!==0?new dt(t/r,-e/r).atanh():new dt(t!==0?t/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const t=this.re,e=this.im;if(e===0)return new dt(t!==0?Math.log(t+Math.sqrt(t*t+1)):1/0,0);const r=t*t+e*e;return r!==0?new dt(t/r,-e/r).asinh():new dt(t!==0?t/0:0,e!==0?-e/0:0).asinh()},asech:function(){const t=this.re,e=this.im;if(this.isZero())return dt.INFINITY;const r=t*t+e*e;return r!==0?new dt(t/r,-e/r).acosh():new dt(t!==0?t/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return dt.INFINITY;if(this.isInfinite())return dt.ZERO;const t=this.re,e=this.im,r=t*t+e*e;return new dt(t/r,-e/r)},conjugate:function(){return new dt(this.re,-this.im)},neg:function(){return new dt(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new dt(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new dt(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new dt(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){const r=Ph(t,e);return Math.abs(r.re-this.re)<=dt.EPSILON&&Math.abs(r.im-this.im)<=dt.EPSILON},clone:function(){return new dt(this.re,this.im)},toString:function(){let t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<dt.EPSILON&&(t=0),Math.abs(e)<dt.EPSILON&&(e=0),e===0?r+t:(t!==0?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),e!==1&&(r+=e),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},dt.ZERO=new dt(0,0),dt.ONE=new dt(1,0),dt.I=new dt(0,1),dt.PI=new dt(Math.PI,0),dt.E=new dt(Math.E,0),dt.INFINITY=new dt(1/0,1/0),dt.NAN=new dt(NaN,NaN),dt.EPSILON=1e-15;var QY="Complex",JY=[],lN=ce(QY,JY,()=>(Object.defineProperty(dt,"name",{value:"Complex"}),dt.prototype.constructor=dt,dt.prototype.type="Complex",dt.prototype.isComplex=!0,dt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},dt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},dt.prototype.format=function(t){var e="",r=this.im,i=this.re,n=Fh(this.re,t),a=Fh(this.im,t),s=Rr(t)?t:t?t.precision:null;if(s!==null){var o=Math.pow(10,-s);Math.abs(i/r)<o&&(i=0),Math.abs(r/i)<o&&(r=0)}return r===0?e=n:i===0?r===1?e="i":r===-1?e="-i":e=a+"i":r<0?r===-1?e=n+" - i":e=n+" - "+a.substring(1)+"i":r===1?e=n+" + i":e=n+" + "+a+"i",e},dt.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return dt(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],i=arguments[1];if(Rr(r)){if(Ks(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),Rr(i))return new dt({r,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},dt.prototype.valueOf=dt.prototype.toString,dt.fromJSON=function(t){return new dt(t)},dt.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},dt),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(t){if(isNaN(t))throw new Error("");return t});const or=BigInt(0),li=BigInt(1),es=BigInt(2),_m=BigInt(3),fp=BigInt(5),vo=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const eK=2e3,qt={s:li,n:or,d:li};function cu(t,e){try{t=BigInt(t)}catch{throw fc()}return t*e}function ql(t){return typeof t=="bigint"?t:Math.floor(t)}function Tn(t,e){if(e===or)throw zb();const r=Object.create(ll.prototype);r.s=t<or?-li:li,t=t<or?-t:t;const i=Rh(t,e);return r.n=t/i,r.d=e/i,r}const tK=[es*es,es,es*es,es,es*es,es*_m,es,es*_m];function gp(t){const e=Object.create(null);if(t<=li)return e[t]=li,e;const r=i=>{e[i]=(e[i]||or)+li};for(;t%es===or;)r(es),t/=es;for(;t%_m===or;)r(_m),t/=_m;for(;t%fp===or;)r(fp),t/=fp;for(let i=0,n=es+fp;n*n<=t;){for(;t%n===or;)r(n),t/=n;n+=tK[i],i=i+1&7}return t>li&&r(t),e}const ts=function(t,e){let r=or,i=li,n=li;if(t!=null)if(e!==void 0){if(typeof t=="bigint")r=t;else{if(isNaN(t))throw fc();if(t%1!==0)throw uN();r=BigInt(t)}if(typeof e=="bigint")i=e;else{if(isNaN(e))throw fc();if(e%1!==0)throw uN();i=BigInt(e)}n=r*i}else if(typeof t=="object"){if("d"in t&&"n"in t)r=BigInt(t.n),i=BigInt(t.d),"s"in t&&(r*=BigInt(t.s));else if(0 in t)r=BigInt(t[0]),1 in t&&(i=BigInt(t[1]));else if(typeof t=="bigint")r=t;else throw fc();n=r*i}else if(typeof t=="number"){if(isNaN(t))throw fc();if(t<0&&(n=-li,t=-t),t%1===0)r=BigInt(t);else{let a=1,s=0,o=1,l=1,u=1,c=1e7;for(t>=1&&(a=10**Math.floor(1+Math.log10(t)),t/=a);o<=c&&u<=c;){let h=(s+l)/(o+u);if(t===h){o+u<=c?(r=s+l,i=o+u):u>o?(r=l,i=u):(r=s,i=o);break}else t>h?(s+=l,o+=u):(l+=s,u+=o),o>c?(r=l,i=u):(r=s,i=o)}r=BigInt(r)*BigInt(a),i=BigInt(i)}}else if(typeof t=="string"){let a=0,s=or,o=or,l=or,u=li,c=li,h=t.replace(/_/g,"").match(/\d+|./g);if(h===null)throw fc();if(h[a]==="-"?(n=-li,a++):h[a]==="+"&&a++,h.length===a+1?o=cu(h[a++],n):h[a+1]==="."||h[a]==="."?(h[a]!=="."&&(s=cu(h[a++],n)),a++,(a+1===h.length||h[a+1]==="("&&h[a+3]===")"||h[a+1]==="'"&&h[a+3]==="'")&&(o=cu(h[a],n),u=vo**BigInt(h[a].length),a++),(h[a]==="("&&h[a+2]===")"||h[a]==="'"&&h[a+2]==="'")&&(l=cu(h[a+1],n),c=vo**BigInt(h[a+1].length)-li,a+=3)):h[a+1]==="/"||h[a+1]===":"?(o=cu(h[a],n),u=cu(h[a+2],li),a+=3):h[a+3]==="/"&&h[a+1]===" "&&(s=cu(h[a],n),o=cu(h[a+2],n),u=cu(h[a+4],li),a+=5),h.length<=a)i=u*c,n=r=l+i*s+c*o;else throw fc()}else if(typeof t=="bigint")r=t,n=t,i=li;else throw fc();if(i===or)throw zb();qt.s=n<or?-li:li,qt.n=r<or?-r:r,qt.d=i<or?-i:i};function rK(t,e,r){let i=li;for(;e>or;t=t*t%r,e>>=li)e&li&&(i=i*t%r);return i}function iK(t,e){for(;e%es===or;e/=es);for(;e%fp===or;e/=fp);if(e===li)return or;let r=vo%e,i=1;for(;r!==li;i++)if(r=r*vo%e,i>eK)return or;return BigInt(i)}function nK(t,e,r){let i=li,n=rK(vo,r,e);for(let a=0;a<300;a++){if(i===n)return BigInt(a);i=i*vo%e,n=n*vo%e}return 0}function Rh(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function ll(t,e){if(ts(t,e),this instanceof ll)t=Rh(qt.d,qt.n),this.s=qt.s,this.n=qt.n/t,this.d=qt.d/t;else return Tn(qt.s*qt.n,qt.d)}const zb=function(){return new Error("Division by Zero")},fc=function(){return new Error("Invalid argument")},uN=function(){return new Error("Parameters must be integer")};ll.prototype={s:li,n:or,d:li,abs:function(){return Tn(this.n,this.d)},neg:function(){return Tn(-this.s*this.n,this.d)},add:function(t,e){return ts(t,e),Tn(this.s*this.n*qt.d+qt.s*this.d*qt.n,this.d*qt.d)},sub:function(t,e){return ts(t,e),Tn(this.s*this.n*qt.d-qt.s*this.d*qt.n,this.d*qt.d)},mul:function(t,e){return ts(t,e),Tn(this.s*qt.s*this.n*qt.n,this.d*qt.d)},div:function(t,e){return ts(t,e),Tn(this.s*qt.s*this.n*qt.d,this.d*qt.n)},clone:function(){return Tn(this.s*this.n,this.d)},mod:function(t,e){if(t===void 0)return Tn(this.s*this.n%this.d,li);if(ts(t,e),or===qt.n*this.d)throw zb();return Tn(this.s*(qt.d*this.n)%(qt.n*this.d),qt.d*this.d)},gcd:function(t,e){return ts(t,e),Tn(Rh(qt.n,this.n)*Rh(qt.d,this.d),qt.d*this.d)},lcm:function(t,e){return ts(t,e),qt.n===or&&this.n===or?Tn(or,li):Tn(qt.n*this.n,Rh(qt.n,this.n)*Rh(qt.d,this.d))},inverse:function(){return Tn(this.s*this.d,this.n)},pow:function(t,e){if(ts(t,e),qt.d===li)return qt.s<or?Tn((this.s*this.d)**qt.n,this.n**qt.n):Tn((this.s*this.n)**qt.n,this.d**qt.n);if(this.s<or)return null;let r=gp(this.n),i=gp(this.d),n=li,a=li;for(let s in r)if(s!=="1"){if(s==="0"){n=or;break}if(r[s]*=qt.n,r[s]%qt.d===or)r[s]/=qt.d;else return null;n*=BigInt(s)**r[s]}for(let s in i)if(s!=="1"){if(i[s]*=qt.n,i[s]%qt.d===or)i[s]/=qt.d;else return null;a*=BigInt(s)**i[s]}return qt.s<or?Tn(a,n):Tn(n,a)},log:function(t,e){if(ts(t,e),this.s<=or||qt.s<=or)return null;const r=Object.create(null),i=gp(qt.n),n=gp(qt.d),a=gp(this.n),s=gp(this.d);for(const u in n)i[u]=(i[u]||or)-n[u];for(const u in s)a[u]=(a[u]||or)-s[u];for(const u in i)u!=="1"&&(r[u]=!0);for(const u in a)u!=="1"&&(r[u]=!0);let o=null,l=null;for(const u in r){const c=i[u]||or,h=a[u]||or;if(c===or){if(h!==or)return null;continue}let p=h,d=c;const m=Rh(p,d);if(p/=m,d/=m,o===null&&l===null)o=p,l=d;else if(p*l!==o*d)return null}return o!==null&&l!==null?Tn(o,l):null},equals:function(t,e){return ts(t,e),this.s*this.n*qt.d===qt.s*qt.n*this.d},lt:function(t,e){return ts(t,e),this.s*this.n*qt.d<qt.s*qt.n*this.d},lte:function(t,e){return ts(t,e),this.s*this.n*qt.d<=qt.s*qt.n*this.d},gt:function(t,e){return ts(t,e),this.s*this.n*qt.d>qt.s*qt.n*this.d},gte:function(t,e){return ts(t,e),this.s*this.n*qt.d>=qt.s*qt.n*this.d},compare:function(t,e){ts(t,e);let r=this.s*this.n*qt.d-qt.s*qt.n*this.d;return(or<r)-(r<or)},ceil:function(t){return t=vo**BigInt(t||0),Tn(ql(this.s*t*this.n/this.d)+(t*this.n%this.d>or&&this.s>=or?li:or),t)},floor:function(t){return t=vo**BigInt(t||0),Tn(ql(this.s*t*this.n/this.d)-(t*this.n%this.d>or&&this.s<or?li:or),t)},round:function(t){return t=vo**BigInt(t||0),Tn(ql(this.s*t*this.n/this.d)+this.s*((this.s>=or?li:or)+es*(t*this.n%this.d)>this.d?li:or),t)},roundTo:function(t,e){ts(t,e);const r=this.n*qt.d,i=this.d*qt.n,n=r%i;let a=ql(r/i);return n+n>=i&&a++,Tn(this.s*a*qt.n,qt.d)},divisible:function(t,e){return ts(t,e),qt.n===or?!1:this.n*qt.d%(qt.n*this.d)===or},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(t=15){let e=this.n,r=this.d,i=iK(e,r),n=nK(e,r,i),a=this.s<or?"-":"";if(a+=ql(e/r),e%=r,e*=vo,e&&(a+="."),i){for(let s=n;s--;)a+=ql(e/r),e%=r,e*=vo;a+="(";for(let s=i;s--;)a+=ql(e/r),e%=r,e*=vo;a+=")"}else for(let s=t;e&&s--;)a+=ql(e/r),e%=r,e*=vo;return a},toFraction:function(t=!1){let e=this.n,r=this.d,i=this.s<or?"-":"";if(r===li)i+=e;else{const n=ql(e/r);t&&n>or&&(i+=n,i+=" ",e%=r),i+=e,i+="/",i+=r}return i},toLatex:function(t=!1){let e=this.n,r=this.d,i=this.s<or?"-":"";if(r===li)i+=e;else{const n=ql(e/r);t&&n>or&&(i+=n,e%=r),i+="\\frac{",i+=e,i+="}{",i+=r,i+="}"}return i},toContinued:function(){let t=this.n,e=this.d;const r=[];for(;e;){r.push(ql(t/e));const i=t%e;t=e,e=i}return r},simplify:function(t=.001){const e=BigInt(Math.ceil(1/t)),r=this.abs(),i=r.toContinued();for(let n=1;n<i.length;n++){let a=Tn(i[n-1],li);for(let o=n-2;o>=0;o--)a=a.inverse().add(i[o]);let s=a.sub(r);if(s.n*e<s.d)return a.mul(this.s)}return this}};var aK="Fraction",sK=[],cN=ce(aK,sK,()=>(Object.defineProperty(ll,"name",{value:"Fraction"}),ll.prototype.constructor=ll,ll.prototype.type="Fraction",ll.prototype.isFraction=!0,ll.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},ll.fromJSON=function(t){return new ll(t)},ll),{isClass:!0}),oK="Range",lK=[],uK=ce(oK,lK,()=>{function t(e,r,i){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var n=e!=null,a=r!=null,s=i!=null;if(n){if(Or(e))e=e.toNumber();else if(typeof e!="number"&&!lp(e))throw new TypeError("Parameter start must be a number or bigint")}if(a){if(Or(r))r=r.toNumber();else if(typeof r!="number"&&!lp(r))throw new TypeError("Parameter end must be a number or bigint")}if(s){if(Or(i))i=i.toNumber();else if(typeof i!="number"&&!lp(i))throw new TypeError("Parameter step must be a number or bigint")}if(this.start=n?parseFloat(e):0,this.end=a?parseFloat(r):0,this.step=s?parseFloat(i):1,s&&Ja(this.step,0))throw new Error("Step must not be zero")}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var r=e.split(":"),i=r.map(function(a){return parseFloat(a)}),n=i.some(function(a){return isNaN(a)});if(n)return null;switch(i.length){case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[2],i[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,r=this.start,i=this.step,n=this.end,a=n-r;return cc(i)===cc(a)?e=Math.ceil(a/i):a===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var r=this.start,i=this.step,n=this.end,a=0;if(i>0)for(;r<n;)e(r,[a],this),r+=i,a++;else if(i<0)for(;r>n;)e(r,[a],this),r+=i,a++},t.prototype.map=function(e){var r=[];return this.forEach(function(i,n,a){r[n[0]]=e(i,n,a)}),r},t.prototype.toArray=function(){var e=[];return this.forEach(function(r,i){e[i[0]]=r}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var r=Fh(this.start,e);return this.step!==1&&(r+=":"+Fh(this.step,e)),r+=":"+Fh(this.end,e),r},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0}),cK="Matrix",hK=[],hN=ce(cK,hK,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,i){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,i){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function Bb(t,e,r){var i=t.constructor,n=new i(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!rr(r))throw new Error("size must be an integer");if(t.greaterThan(n.pow(r-1).sub(1))||t.lessThan(n.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(n.pow(r))),a="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function pK(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:i,wordSize:n}=PC(e);switch(r){case"fixed":return mK(t,i);case"exponential":return pN(t,i);case"engineering":return dK(t,i);case"bin":return Bb(t,2,n);case"oct":return Bb(t,8,n);case"hex":return Bb(t,16,n);case"auto":{var a=dN(e==null?void 0:e.lowerExp,-3),s=dN(e==null?void 0:e.upperExp,5);if(t.isZero())return"0";var o,l=t.toSignificantDigits(i),u=l.e;return u>=a&&u<s?o=l.toFixed():o=pN(t,i),o.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],h=arguments[4];return c!=="."?c+h:h})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function dK(t,e){var r=t.e,i=r%3===0?r:r<0?r-3-r%3:r-r%3,n=t.mul(Math.pow(10,-i)),a=n.toPrecision(e);if(a.includes("e")){var s=t.constructor;a=new s(a).toFixed()}return a+"e"+(r>=0?"+":"")+i.toString()}function pN(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function mK(t,e){return t.toFixed(e)}function dN(t,e){return Rr(t)?t:Or(t)?t.toNumber():e}function fK(t,e){var r=t.length-e.length,i=t.length;return t.substring(r,i)===e}function ei(t,e){var r=gK(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function gK(t,e){if(typeof t=="number")return Fh(t,e);if(Or(t))return pK(t,e);if(vK(t))return!e||e.fraction!=="decimal"?"".concat(t.s*t.n,"/").concat(t.d):t.toString();if(Array.isArray(t))return fN(t,e);if(ms(t))return vp(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(i=>vp(i)+": "+ei(t[i],e));return"{"+r.join(", ")+"}"}return String(t)}function vp(t){for(var e=String(t),r="",i=0;i<e.length;){var n=e.charAt(i);r+=n in mN?mN[n]:n,i++}return'"'+r+'"'}var mN={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function ul(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function fN(t,e){if(Array.isArray(t)){for(var r="[",i=t.length,n=0;n<i;n++)n!==0&&(r+=", "),r+=fN(t[n],e);return r+="]",r}else return ei(t,e)}function vK(t){return t&&typeof t=="object"&&typeof t.s=="bigint"&&typeof t.n=="bigint"&&typeof t.d=="bigint"||!1}function Ob(t,e){if(!ms(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+an(t)+", index: 0)");if(!ms(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+an(e)+", index: 1)");return t===e?0:t>e?1:-1}function Wr(t,e,r){if(!(this instanceof Wr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}Wr.prototype=new RangeError,Wr.prototype.constructor=RangeError,Wr.prototype.name="DimensionError",Wr.prototype.isDimensionError=!0;function cl(t,e,r){if(!(this instanceof cl))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}cl.prototype=new RangeError,cl.prototype.constructor=RangeError,cl.prototype.name="IndexError",cl.prototype.isIndexError=!0;function Tr(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function gN(t,e,r){var i,n=t.length;if(n!==e[r])throw new Wr(n,e[r]);if(r<e.length-1){var a=r+1;for(i=0;i<n;i++){var s=t[i];if(!Array.isArray(s))throw new Wr(e.length-1,e.length,"<");gN(t[i],e,a)}}else for(i=0;i<n;i++)if(Array.isArray(t[i]))throw new Wr(e.length+1,e.length,">")}function vN(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new Wr(t.length,0)}else gN(t,e,0)}function $g(t,e){var r=t.isMatrix?t._size:Tr(t),i=e._sourceSize;i.forEach((n,a)=>{if(n!==null&&n!==r[a])throw new Wr(n,r[a])})}function pn(t,e){if(t!==void 0){if(!Rr(t)||!rr(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new cl(t,e)}}function yp(t){for(var e=0;e<t._dimensions.length;++e){var r=t._dimensions[e];if(r._data&&Li(r._data)){if(r._size[0]===0)return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(ms(r)&&r.length===0)return!0}return!1}function bp(t,e,r){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(n){if(!Rr(n)||!rr(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ei(e)+")")}),(Rr(t)||Or(t))&&(t=[t]);var i=r!==void 0?r:0;return Fb(t,e,0,i),t}function Fb(t,e,r,i){var n,a,s=t.length,o=e[r],l=Math.min(s,o);if(t.length=o,r<e.length-1){var u=r+1;for(n=0;n<l;n++)a=t[n],Array.isArray(a)||(a=[a],t[n]=a),Fb(a,e,u,i);for(n=l;n<o;n++)a=[],t[n]=a,Fb(a,e,u,i)}else{for(n=0;n<l;n++)for(;Array.isArray(t[n]);)t[n]=t[n][0];for(n=l;n<o;n++)t[n]=i}}function Pb(t,e){var r=Ci(t,!0),i=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Wr(0,i,"!=");e=Rb(e,i);var n=yN(e);if(i!==n)throw new Wr(n,i,"!=");try{return yK(r,e)}catch(a){throw a instanceof Wr?new Wr(n,i,"!="):a}}function Rb(t,e){var r=yN(t),i=t.slice(),n=-1,a=t.indexOf(n),s=t.indexOf(n,a+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var o=a>=0,l=e%r===0;if(o)if(l)i[a]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return i}function yN(t){return t.reduce((e,r)=>e*r,1)}function yK(t,e){for(var r=t,i,n=e.length-1;n>0;n--){var a=e[n];i=[];for(var s=r.length/a,o=0;o<s;o++)i.push(r.slice(o*a,(o+1)*a));r=i}return r}function _g(t,e){for(var r=Tr(t);Array.isArray(t)&&t.length===1;)t=t[0],r.shift();for(var i=r.length;r[i-1]===1;)i--;return i<r.length&&(t=bN(t,i,0),r.length=i),t}function bN(t,e,r){var i,n;if(r<e){var a=r+1;for(i=0,n=t.length;i<n;i++)t[i]=bN(t[i],e,a)}else for(;Array.isArray(t);)t=t[0];return t}function xN(t,e,r,i){var n=i||Tr(t);if(r)for(var a=0;a<r;a++)t=[t],n.unshift(1);for(t=wN(t,e,0);n.length<e;)n.push(1);return t}function wN(t,e,r){var i,n;if(Array.isArray(t)){var a=r+1;for(i=0,n=t.length;i<n;i++)t[i]=wN(t[i],e,a)}else for(var s=r;s<e;s++)t=[t];return t}function Ci(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(t))return t;if(typeof e!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return e?n(t):i(t),r;function i(a){for(var s=0;s<a.length;s++){var o=a[s];Array.isArray(o)?i(o):r.push(o)}}function n(a){if(Array.isArray(a[0]))for(var s=0;s<a.length;s++)n(a[s]);else for(var o=0;o<a.length;o++)r.push(a[o])}}function gc(t,e){return Array.prototype.map.call(t,e)}function MN(t,e){Array.prototype.forEach.call(t,e)}function kN(t,e){if(Tr(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function CN(t,e){if(Tr(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r=>e.test(r))}function NN(t,e){return Array.prototype.join.call(t,e)}function xp(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var i=1;i<t.length;i++)t[i]===t[i-1]?r++:r=0,e.push({value:t[i],identifier:r});return e}function Eg(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e}function Ig(t,e){for(var r,i=0,n=0;n<t.length;n++){var a=t[n],s=Array.isArray(a);if(n===0&&s&&(i=a.length),s&&a.length!==i)return;var o=s?Ig(a,e):e(a);if(r===void 0)r=o;else if(r!==o)return"mixed"}return r}function SN(t,e,r,i){if(i<r){if(t.length!==e.length)throw new Wr(t.length,e.length);for(var n=[],a=0;a<t.length;a++)n[a]=SN(t[a],e[a],r,i+1);return n}else return t.concat(e)}function DN(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(r,i){return SN(r,i,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function Tg(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var i=e.map(p=>p.length),n=Math.max(...i),a=new Array(n).fill(null),s=0;s<e.length;s++)for(var o=e[s],l=i[s],u=0;u<l;u++){var c=n-l+u;o[u]>a[c]&&(a[c]=o[u])}for(var h=0;h<e.length;h++)AN(e[h],a);return a}function AN(t,e){for(var r=e.length,i=t.length,n=0;n<i;n++){var a=r-i+n;if(t[n]<e[a]&&t[n]>1||t[n]>e[a])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(i," with size ").concat(t[n]," to size ").concat(e[a]))}}function jh(t,e){var r=Tr(t);if(lu(r,e))return t;AN(r,e);var i=Tg(r,e),n=i.length,a=[...Array(n-r.length).fill(1),...r],s=xK(t);r.length<n&&(s=Pb(s,a),r=Tr(s));for(var o=0;o<n;o++)r[o]<i[o]&&(s=bK(s,i[o],o),r=Tr(s));return s}function bK(t,e,r){return DN(...Array(e).fill(t),r)}function Lg(t,e){if(!Array.isArray(t))throw new Error("Array expected");var r=Tr(t);if(e.length!==r.length)throw new Wr(e.length,r.length);for(var i=0;i<e.length;i++)pn(e[i],r[i]);return e.reduce((n,a)=>n[a],t)}function jb(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return[];if(r)return a(t);var i=[];return n(t,0);function n(s,o){if(Array.isArray(s)){for(var l=s.length,u=Array(l),c=0;c<l;c++)i[o]=c,u[c]=n(s[c],o+1);return u}else return e(s,i.slice(0,o),t)}function a(s){if(Array.isArray(s)){for(var o=s.length,l=Array(o),u=0;u<o;u++)l[u]=a(s[u]);return l}else return e(s)}}function $N(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return;if(r){a(t);return}var i=[];n(t,0);function n(s,o){if(Array.isArray(s))for(var l=s.length,u=0;u<l;u++)i[o]=u,n(s[u],o+1);else e(s,i.slice(0,o),t)}function a(s){if(Array.isArray(s))for(var o=s.length,l=0;l<o;l++)a(s[l]);else e(s)}}function xK(t){return Sa([],t)}function qh(t,e,r,i){if(Sm.isTypedFunction(t)){var n;if(i)n=1;else{var a=(e.isMatrix?e.size():Tr(e)).map(()=>0),s=e.isMatrix?e.get(a):Lg(e,a);n=kK(t,s,a,e)}var o;if(e.isMatrix&&e.dataType!=="mixed"&&e.dataType!==void 0){var l=wK(t,n);o=l!==void 0?l:t}else o=t;return n>=1&&n<=3?{isUnary:n===1,fn:function(){for(var c=arguments.length,h=new Array(c),p=0;p<c;p++)h[p]=arguments[p];return _N(o,h.slice(0,n),r,t.name)}}:{isUnary:!1,fn:function(){for(var c=arguments.length,h=new Array(c),p=0;p<c;p++)h[p]=arguments[p];return _N(o,h,r,t.name)}}}return i===void 0?{isUnary:MK(t),fn:t}:{isUnary:i,fn:t}}function wK(t,e){var r=[];if(Object.entries(t.signatures).forEach(i=>{var[n,a]=i;n.split(",").length===e&&r.push(a)}),r.length===1)return r[0]}function MK(t){if(t.length!==1)return!1;var e=t.toString();if(/arguments/.test(e))return!1;var r=e.match(/\(.*?\)/);return!/\.\.\./.test(r)}function kK(t,e,r,i){for(var n=[e,r,i],a=3;a>0;a--){var s=n.slice(0,a);if(Sm.resolve(t,s)!==null)return a}}function _N(t,e,r,i){try{return t(...e)}catch(n){CK(n,e,r,i)}}function CK(t,e,r,i){var n;if(t instanceof TypeError&&((n=t.data)===null||n===void 0?void 0:n.category)==="wrongType"){var a=[];throw a.push("value: ".concat(an(e[0]))),e.length>=2&&a.push("index: ".concat(an(e[1]))),e.length>=3&&a.push("array: ".concat(an(e[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(i,"(").concat(a.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(i,": ").concat(t.message))}var NK="DenseMatrix",SK=["Matrix"],EN=ce(NK,SK,t=>{var{Matrix:e}=t;function r(c,h){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!ms(h))throw new Error("Invalid datatype: "+h);if(hr(c))c.type==="DenseMatrix"?(this._data=kr(c._data),this._size=kr(c._size),this._datatype=h||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=h||c._datatype);else if(c&&Li(c.data)&&Li(c.size))this._data=c.data,this._size=c.size,vN(this._data,this._size),this._datatype=h||c.datatype;else if(Li(c))this._data=u(c),this._size=Tr(this._data),vN(this._data,this._size),this._datatype=h;else{if(c)throw new TypeError("Unsupported type of data ("+an(c)+")");this._data=[],this._size=[0],this._datatype=h}}r.prototype=new e,r.prototype.createDenseMatrix=function(c,h){return new r(c,h)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Ig(this._data,an)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(c,h){return new r(c,h)},r.prototype.subset=function(c,h,p){switch(arguments.length){case 1:return i(this,c);case 2:case 3:return a(this,c,h,p);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(c){return Lg(this._data,c)},r.prototype.set=function(c,h,p){if(!Li(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new Wr(c.length,this._size.length,"<");var d,m,f,v=c.map(function(x){return x+1});l(this,v,p);var y=this._data;for(d=0,m=c.length-1;d<m;d++)f=c[d],pn(f,y.length),y=y[f];return f=c[c.length-1],pn(f,y.length),y[f]=h,this};function i(c,h){if(!Cm(h))throw new TypeError("Invalid index");var p=h.isScalar();if(p)return c.get(h.min());var d=h.size();if(d.length!==c._size.length)throw new Wr(d.length,c._size.length);for(var m=h.min(),f=h.max(),v=0,y=c._size.length;v<y;v++)pn(m[v],c._size[v]),pn(f[v],c._size[v]);var x=new r([]),g=n(c._data,h);return x._size=g.size,x._datatype=c._datatype,x._data=g.data,x}function n(c,h){var p=h.size().length-1,d=Array(p);return{data:m(c),size:d};function m(f){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=h.dimension(v);return d[v]=y.size()[0],v<p?y.map(x=>(pn(x,f.length),m(f[x],v+1))).valueOf():y.map(x=>(pn(x,f.length),f[x])).valueOf()}}function a(c,h,p,d){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var m=h.size(),f=h.isScalar(),v;if(hr(p)?(v=p.size(),p=p.valueOf()):v=Tr(p),f){if(v.length!==0)throw new TypeError("Scalar expected");c.set(h.min(),p,d)}else{if(!lu(v,m))try{v.length===0?p=jh([p],m):p=jh(p,m),v=Tr(p)}catch{}if(m.length<c._size.length)throw new Wr(m.length,c._size.length,"<");if(v.length<m.length){for(var y=0,x=0;m[y]===1&&v[y]===1;)y++;for(;m[y]===1;)x++,y++;p=xN(p,m.length,x,v)}if(!lu(m,v))throw new Wr(m,v,">");var g=h.max().map(function(b){return b+1});l(c,g,d),s(c._data,h,p)}return c}function s(c,h,p){var d=h.size().length-1;m(c,p);function m(f,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=h.dimension(y);y<d?x.forEach((g,b)=>{pn(g,f.length),m(f[g],v[b[0]],y+1)}):x.forEach((g,b)=>{pn(g,f.length),f[g]=v[b[0]]})}}r.prototype.resize=function(c,h,p){if(!fo(c))throw new TypeError("Array or Matrix expected");var d=c.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),m=p?this.clone():this;return o(m,d,h)};function o(c,h,p){if(h.length===0){for(var d=c._data;Li(d);)d=d[0];return d}return c._size=h.slice(0),c._data=bp(c._data,c._size,p),c}r.prototype.reshape=function(c,h){var p=h?this.clone():this;p._data=Pb(p._data,c);var d=p._size.reduce((m,f)=>m*f);return p._size=Rb(c,d),p};function l(c,h,p){for(var d=c._size.slice(0),m=!1;d.length<h.length;)d.push(0),m=!0;for(var f=0,v=h.length;f<v;f++)h[f]>d[f]&&(d[f]=h[f],m=!0);m&&o(c,d,p)}r.prototype.clone=function(){var c=new r({data:kr(this._data),size:kr(this._size),datatype:this._datatype});return c},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this,d=p._size.length-1;if(d<0)return p.clone();var m=qh(c,p,"map",h),f=m.fn,v=p.create(void 0,p._datatype);if(v._size=p._size,h||m.isUnary)return v._data=w(p._data),v;if(d===0){for(var y=p.valueOf(),x=Array(y.length),g=0;g<y.length;g++)x[g]=f(y[g],[g],p);return v._data=x,v}var b=[];return v._data=k(p._data),v;function k(N){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=Array(N.length);if(A<d)for(var D=0;D<N.length;D++)b[A]=D,$[D]=k(N[D],A+1);else for(var _=0;_<N.length;_++)b[A]=_,$[_]=f(N[_],b.slice(),p);return $}function w(N){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=Array(N.length);if(A<d)for(var D=0;D<N.length;D++)$[D]=w(N[D],A+1);else for(var _=0;_<N.length;_++)$[_]=f(N[_]);return $}},r.prototype.forEach=function(c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this,d=p._size.length-1;if(d<0)return;var m=qh(c,p,"map",h),f=m.fn;if(h||m.isUnary){g(p._data);return}if(d===0){for(var v=0;v<p._data.length;v++)f(p._data[v],[v],p);return}var y=[];x(p._data);function x(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(k<d)for(var w=0;w<b.length;w++)y[k]=w,x(b[w],k+1);else for(var N=0;N<b.length;N++)y[k]=N,f(b[N],y.slice(),p)}function g(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(k<d)for(var w=0;w<b.length;w++)g(b[w],k+1);else for(var N=0;N<b.length;N++)f(b[N])}},r.prototype[Symbol.iterator]=function*(){var c=this._size.length-1;if(!(c<0)){if(c===0){for(var h=0;h<this._data.length;h++)yield{value:this._data[h],index:[h]};return}for(var p=Array(c+1).fill(0),d=this._size.reduce((x,g)=>x*g,1),m=0;m<d;m++){for(var f=this._data,v=0;v<c;v++)f=f[p[v]];yield{value:f[p[c]],index:p.slice()};for(var y=c;y>=0&&(p[y]++,!(p[y]<this._size[y]));y--)p[y]=0}}},r.prototype.rows=function(){var c=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var d of p)c.push(new r([d],this._datatype));return c},r.prototype.columns=function(){var c=this,h=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,m=function(y){var x=d.map(g=>[g[y]]);h.push(new r(x,c._datatype))},f=0;f<p[1];f++)m(f);return h},r.prototype.toArray=function(){return kr(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(c){return ei(this._data,c)},r.prototype.toString=function(){return ei(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(c){if(c){if(Or(c)&&(c=c.toNumber()),!Rr(c)||!rr(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var h=c>0?c:0,p=c<0?-c:0,d=this._size[0],m=this._size[1],f=Math.min(d-p,m-h),v=[],y=0;y<f;y++)v[y]=this._data[y+p][y+h];return new r({data:v,size:[f],datatype:this._datatype})},r.diagonal=function(c,h,p,d){if(!Li(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(N){if(Or(N)&&(N=N.toNumber()),!Rr(N)||!rr(N)||N<1)throw new Error("Size values must be positive integers");return N}),p){if(Or(p)&&(p=p.toNumber()),!Rr(p)||!rr(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var m=p>0?p:0,f=p<0?-p:0,v=c[0],y=c[1],x=Math.min(v-f,y-m),g;if(Li(h)){if(h.length!==x)throw new Error("Invalid value array length");g=function(A){return h[A]}}else if(hr(h)){var b=h.size();if(b.length!==1||b[0]!==x)throw new Error("Invalid matrix length");g=function(A){return h.get([A])}}else g=function(){return h};d||(d=Or(g(0))?g(0).mul(0):0);var k=[];if(c.length>0){k=bp(k,c,d);for(var w=0;w<x;w++)k[w+f][w+m]=g(w)}return new r({data:k,size:[v,y]})},r.fromJSON=function(c){return new r(c)},r.prototype.swapRows=function(c,h){if(!Rr(c)||!rr(c)||!Rr(h)||!rr(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return pn(c,this._size[0]),pn(h,this._size[0]),r._swapRows(c,h,this._data),this},r._swapRows=function(c,h,p){var d=p[c];p[c]=p[h],p[h]=d};function u(c){return hr(c)?u(c.valueOf()):Li(c)?c.map(u):c}return r},{isClass:!0}),IN="clone",DK=["typed"],AK=ce(IN,DK,t=>{var{typed:e}=t;return e(IN,{any:kr})});function TN(t){var e=t.length,r=t[0].length,i,n,a=[];for(n=0;n<r;n++){var s=[];for(i=0;i<e;i++)s.push(t[i][n]);a.push(s)}return a}function wp(t){for(var e=0;e<t.length;e++)if(fo(t[e]))return!0;return!1}function vc(t,e){hr(t)?t.forEach(r=>e(r),!1,!0):$N(t,e,!0)}function Gr(t,e,r){if(!r)return hr(t)?t.map(n=>e(n),!1,!0):jb(t,e,!0);var i=n=>n===0?n:e(n);return hr(t)?t.map(n=>i(n),!1,!0):jb(t,i,!0)}function zg(t,e,r){var i=Array.isArray(t)?Tr(t):t.size();if(e<0||e>=i.length)throw new cl(e,i.length);return hr(t)?t.create(Bg(t.valueOf(),e,r),t.datatype()):Bg(t,e,r)}function Bg(t,e,r){var i,n,a,s;if(e<=0)if(Array.isArray(t[0])){for(s=TN(t),n=[],i=0;i<s.length;i++)n[i]=Bg(s[i],e-1,r);return n}else{for(a=t[0],i=1;i<t.length;i++)a=r(a,t[i]);return a}else{for(n=[],i=0;i<t.length;i++)n[i]=Bg(t[i],e-1,r);return n}}function LN(t,e,r,i,n,a,s,o,l,u,c){var h=t._values,p=t._index,d=t._ptr,m,f,v,y;if(i)for(f=d[e],v=d[e+1],m=f;m<v;m++)y=p[m],r[y]!==a?(r[y]=a,s.push(y),i[y]=h[m]):(i[y]=o(i[y],h[m]),n[y]=a);else for(f=d[e],v=d[e+1],m=f;m<v;m++)y=p[m],r[y]!==a?(r[y]=a,s.push(y)):n[y]=a}var zN="isInteger",$K=["typed"],BN=ce(zN,$K,t=>{var{typed:e}=t;return e(zN,{number:rr,BigNumber:function(i){return i.isInt()},bigint:function(i){return!0},Fraction:function(i){return i.d===1n},"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r))})}),Ul="number",Mp="number, number";function ON(t){return Math.abs(t)}ON.signature=Ul;function FN(t,e){return t+e}FN.signature=Mp;function PN(t,e){return t-e}PN.signature=Mp;function RN(t,e){return t*e}RN.signature=Mp;function jN(t){return-t}jN.signature=Ul;function qN(t){return t}qN.signature=Ul;function Em(t){return PW(t)}Em.signature=Ul;function UN(t){return t*t*t}UN.signature=Ul;function VN(t){return Math.exp(t)}VN.signature=Ul;function GN(t){return RW(t)}GN.signature=Ul;function ZN(t,e){if(!rr(t)||!rr(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,i=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(i/t)}ZN.signature=Mp;function HN(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function Og(t){return OW(t)}Og.signature=Ul;function qb(t){return BW(t)}qb.signature=Ul;function WN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=e<0;if(r&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return r?1/0:0;if(!isFinite(t))return r?0:t;var i=Math.pow(Math.abs(t),1/e);return i=t<0?-i:i,r?1/i:i}function Ub(t){return cc(t)}Ub.signature=Ul;function YN(t){return t*t}YN.signature=Ul;function KN(t,e){var r,i,n,a=0,s=1,o=1,l=0;if(!rr(t)||!rr(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)i=Math.floor(t/e),n=t-i*e,r=a,a=s-i*a,s=r,r=o,o=l-i*o,l=r,t=e,e=n;var u;return t<0?u=[-t,-s,-l]:u=[t,t?s:0,l],u}KN.signature=Mp;function XN(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}XN.signature=Mp;function Im(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!rr(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(RC(t,e))}var _K="number",kp="number, number";function QN(t,e){if(!rr(t)||!rr(e))throw new Error("Integers expected in function bitAnd");return t&e}QN.signature=kp;function JN(t){if(!rr(t))throw new Error("Integer expected in function bitNot");return~t}JN.signature=_K;function eS(t,e){if(!rr(t)||!rr(e))throw new Error("Integers expected in function bitOr");return t|e}eS.signature=kp;function tS(t,e){if(!rr(t)||!rr(e))throw new Error("Integers expected in function bitXor");return t^e}tS.signature=kp;function rS(t,e){if(!rr(t)||!rr(e))throw new Error("Integers expected in function leftShift");return t<<e}rS.signature=kp;function iS(t,e){if(!rr(t)||!rr(e))throw new Error("Integers expected in function rightArithShift");return t>>e}iS.signature=kp;function nS(t,e){if(!rr(t)||!rr(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}nS.signature=kp;function hu(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return hu(t,r)*hu(r+1,e)}function aS(t,e){if(!rr(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!rr(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,i=1,n=e<r?r+1:e+1,a=2,s=e<r?e:r,o=n;o<=t;++o)for(i*=o;a<=s&&i%a===0;)i/=a,++a;return a<=s&&(i/=hu(a,s)),i}aS.signature="number, number";var EK=Math.PI,IK=2*Math.PI,TK=Math.E,LK=1.618033988749895,zK="number",Vb="number, number";function sS(t){return!t}sS.signature=zK;function Gb(t,e){return!!(t||e)}Gb.signature=Vb;function Zb(t,e){return!!t!=!!e}Zb.signature=Vb;function Hb(t,e){return!!(t&&e)}Hb.signature=Vb;function Fg(t){var e;if(rr(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:hu(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Fg(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,i=r*t,n=i*t,a=n*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*i)-571/(2488320*n)+163879/(209018880*a)+5246819/(75246796800*a*t))}--t,e=Cp[0];for(var s=1;s<Cp.length;++s)e+=Cp[s]/(t+s);var o=t+oS+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,t+.5)*Math.exp(-o)*e}Fg.signature="number";var oS=4.7421875,Cp=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],lS=.9189385332046728,BK=5,OK=7,uS=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Pg(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-Pg(1-t);t=t-1;for(var e=t+BK+.5,r=uS[0],i=OK-1;i>=1;i--)r+=uS[i]/(t+i);return lS+(t+.5)*Math.log(e)-e+Math.log(r)}Pg.signature="number";var Es="number";function cS(t){return VW(t)}cS.signature=Es;function hS(t){return Math.atan(1/t)}hS.signature=Es;function pS(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}pS.signature=Es;function dS(t){return Math.asin(1/t)}dS.signature=Es;function mS(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}mS.signature=Es;function fS(t){return Math.acos(1/t)}fS.signature=Es;function gS(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}gS.signature=Es;function vS(t){return GW(t)}vS.signature=Es;function yS(t){return ZW(t)}yS.signature=Es;function bS(t){return 1/Math.tan(t)}bS.signature=Es;function xS(t){var e=Math.exp(2*t);return(e+1)/(e-1)}xS.signature=Es;function wS(t){return 1/Math.sin(t)}wS.signature=Es;function MS(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*cc(t)}MS.signature=Es;function kS(t){return 1/Math.cos(t)}kS.signature=Es;function CS(t){return 2/(Math.exp(t)+Math.exp(-t))}CS.signature=Es;function NS(t){return WW(t)}NS.signature=Es;var Wb="number";function SS(t){return t<0}SS.signature=Wb;function DS(t){return t>0}DS.signature=Wb;function AS(t){return Number.isNaN(t)}AS.signature=Wb;function hl(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return t.isNaN()||e.isNaN()?!1:!t.isFinite()||!e.isFinite()?t.eq(e):t.eq(e)?!0:t.minus(e).abs().lte(t.constructor.max(t.constructor.max(t.abs(),e.abs()).mul(r),i))}var $S="isNegative",FK=["typed","config"],PK=ce($S,FK,t=>{var{typed:e,config:r}=t;return e($S,{number:i=>Ja(i,0,r.relTol,r.absTol)?!1:SS(i),BigNumber:i=>hl(i,new i.constructor(0),r.relTol,r.absTol)?!1:i.isNeg()&&!i.isZero()&&!i.isNaN(),bigint:i=>i<0n,Fraction:i=>i.s<0n,Unit:e.referToSelf(i=>n=>e.find(i,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(i=>n=>Gr(n,i))})}),_S="isNumeric",RK=["typed"],ES=ce(_S,RK,t=>{var{typed:e}=t;return e(_S,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r))})}),IS="hasNumericValue",jK=["typed","isNumeric"],qK=ce(IS,jK,t=>{var{typed:e,isNumeric:r}=t;return e(IS,{boolean:()=>!0,string:function(n){return n.trim().length>0&&!isNaN(Number(n))},any:function(n){return r(n)}})}),TS="isPositive",UK=["typed","config"],VK=ce(TS,UK,t=>{var{typed:e,config:r}=t;return e(TS,{number:i=>Ja(i,0,r.relTol,r.absTol)?!1:DS(i),BigNumber:i=>hl(i,new i.constructor(0),r.relTol,r.absTol)?!1:!i.isNeg()&&!i.isZero()&&!i.isNaN(),bigint:i=>i>0n,Fraction:i=>i.s>0n&&i.n>0n,Unit:e.referToSelf(i=>n=>e.find(i,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(i=>n=>Gr(n,i))})}),LS="isZero",GK=["typed","equalScalar"],zS=ce(LS,GK,t=>{var{typed:e,equalScalar:r}=t;return e(LS,{"number | BigNumber | Complex | Fraction":i=>r(i,0),bigint:i=>i===0n,Unit:e.referToSelf(i=>n=>e.find(i,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(i=>n=>Gr(n,i))})}),BS="isNaN",ZK=["typed"],HK=ce(BS,ZK,t=>{var{typed:e}=t;return e(BS,{number:AS,BigNumber:function(i){return i.isNaN()},bigint:function(i){return!1},Fraction:function(i){return!1},Complex:function(i){return i.isNaN()},Unit:function(i){return Number.isNaN(i.value)},"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r))})}),OS="typeOf",WK=["typed"],YK=ce(OS,WK,t=>{var{typed:e}=t;return e(OS,{any:an})});function KK(t,e,r,i){return Ja(t.re,e.re,r,i)&&Ja(t.im,e.im,r,i)}var Np=ce("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(i,n)=>{if(!i.equalBase(n))throw new Error("Cannot compare units with different base");return e.find(r,[i.valueType(),n.valueType()])(i.value,n.value)})}}),Rg="equalScalar",XK=["typed","config"],FS=ce(Rg,XK,t=>{var{typed:e,config:r}=t,i=Np({typed:e});return e(Rg,{"boolean, boolean":function(a,s){return a===s},"number, number":function(a,s){return Ja(a,s,r.relTol,r.absTol)},"BigNumber, BigNumber":function(a,s){return a.eq(s)||hl(a,s,r.relTol,r.absTol)},"bigint, bigint":function(a,s){return a===s},"Fraction, Fraction":function(a,s){return a.equals(s)},"Complex, Complex":function(a,s){return KK(a,s,r.relTol,r.absTol)}},i)});ce(Rg,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Rg,{"number, number":function(n,a){return Ja(n,a,r.relTol,r.absTol)}})});var QK="SparseMatrix",JK=["typed","equalScalar","Matrix"],PS=ce(QK,JK,t=>{var{typed:e,equalScalar:r,Matrix:i}=t;function n(f,v){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!ms(v))throw new Error("Invalid datatype: "+v);if(hr(f))a(this,f,v);else if(f&&Li(f.index)&&Li(f.ptr)&&Li(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=v||f.datatype;else if(Li(f))s(this,f,v);else{if(f)throw new TypeError("Unsupported type of data ("+an(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function a(f,v,y){v.type==="SparseMatrix"?(f._values=v._values?kr(v._values):void 0,f._index=kr(v._index),f._ptr=kr(v._ptr),f._size=kr(v._size),f._datatype=y||v._datatype):s(f,v.valueOf(),y||v._datatype)}function s(f,v,y){f._values=[],f._index=[],f._ptr=[],f._datatype=y;var x=v.length,g=0,b=r,k=0;if(ms(y)&&(b=e.find(r,[y,y])||r,k=e.convert(0,y)),x>0){var w=0;do{f._ptr.push(f._index.length);for(var N=0;N<x;N++){var A=v[N];if(Li(A)){if(w===0&&g<A.length&&(g=A.length),w<A.length){var $=A[w];b($,k)||(f._values.push($),f._index.push(N))}}else w===0&&g<1&&(g=1),b(A,k)||(f._values.push(A),f._index.push(N))}w++}while(w<g)}f._ptr.push(f._index.length),f._size=[x,g]}n.prototype=new i,n.prototype.createSparseMatrix=function(f,v){return new n(f,v)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Ig(this._values,an)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(f,v){return new n(f,v)},n.prototype.density=function(){var f=this._size[0],v=this._size[1];return f!==0&&v!==0?this._index.length/(f*v):0},n.prototype.subset=function(f,v,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,f);case 2:case 3:return l(this,f,v,y);default:throw new SyntaxError("Wrong number of arguments")}};function o(f,v){if(!Cm(v))throw new TypeError("Invalid index");var y=v.isScalar();if(y)return f.get(v.min());var x=v.size();if(x.length!==f._size.length)throw new Wr(x.length,f._size.length);var g,b,k,w,N=v.min(),A=v.max();for(g=0,b=f._size.length;g<b;g++)pn(N[g],f._size[g]),pn(A[g],f._size[g]);var $=f._values,D=f._index,_=f._ptr,T=v.dimension(0),z=v.dimension(1),P=[],q=[];T.forEach(function(Y,ie){q[Y]=ie[0],P[Y]=!0});var L=$?[]:void 0,Z=[],W=[];return z.forEach(function(Y){for(W.push(Z.length),k=_[Y],w=_[Y+1];k<w;k++)g=D[k],P[g]===!0&&(Z.push(q[g]),L&&L.push($[k]))}),W.push(Z.length),new n({values:L,index:Z,ptr:W,size:x,datatype:f._datatype})}function l(f,v,y,x){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var g=v.size(),b=v.isScalar(),k;if(hr(y)?(k=y.size(),y=y.toArray()):k=Tr(y),b){if(k.length!==0)throw new TypeError("Scalar expected");f.set(v.min(),y,x)}else{if(g.length!==1&&g.length!==2)throw new Wr(g.length,f._size.length,"<");if(k.length<g.length){for(var w=0,N=0;g[w]===1&&k[w]===1;)w++;for(;g[w]===1;)N++,w++;y=xN(y,g.length,N,k)}if(!lu(g,k))throw new Wr(g,k,">");if(g.length===1){var A=v.dimension(0);A.forEach(function(_,T){pn(_),f.set([_,0],y[T[0]],x)})}else{var $=v.dimension(0),D=v.dimension(1);$.forEach(function(_,T){pn(_),D.forEach(function(z,P){pn(z),f.set([_,z],y[T[0]][P[0]],x)})})}}return f}n.prototype.get=function(f){if(!Li(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Wr(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=f[0],y=f[1];pn(v,this._size[0]),pn(y,this._size[1]);var x=u(v,this._ptr[y],this._ptr[y+1],this._index);return x<this._ptr[y+1]&&this._index[x]===v?this._values[x]:0},n.prototype.set=function(f,v,y){if(!Li(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Wr(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var x=f[0],g=f[1],b=this._size[0],k=this._size[1],w=r,N=0;ms(this._datatype)&&(w=e.find(r,[this._datatype,this._datatype])||r,N=e.convert(0,this._datatype)),(x>b-1||g>k-1)&&(p(this,Math.max(x+1,b),Math.max(g+1,k),y),b=this._size[0],k=this._size[1]),pn(x,b),pn(g,k);var A=u(x,this._ptr[g],this._ptr[g+1],this._index);return A<this._ptr[g+1]&&this._index[A]===x?w(v,N)?c(A,g,this._values,this._index,this._ptr):this._values[A]=v:w(v,N)||h(A,x,g,v,this._values,this._index,this._ptr),this};function u(f,v,y,x){if(y-v===0)return y;for(var g=v;g<y;g++)if(x[g]===f)return g;return v}function c(f,v,y,x,g){y.splice(f,1),x.splice(f,1);for(var b=v+1;b<g.length;b++)g[b]--}function h(f,v,y,x,g,b,k){g.splice(f,0,x),b.splice(f,0,v);for(var w=y+1;w<k.length;w++)k[w]++}n.prototype.resize=function(f,v,y){if(!fo(f))throw new TypeError("Array or Matrix expected");var x=f.valueOf().map(b=>Array.isArray(b)&&b.length===1?b[0]:b);if(x.length!==2)throw new Error("Only two dimensions matrix are supported");x.forEach(function(b){if(!Rr(b)||!rr(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ei(x)+")")});var g=y?this.clone():this;return p(g,x[0],x[1],v)};function p(f,v,y,x){var g=x||0,b=r,k=0;ms(f._datatype)&&(b=e.find(r,[f._datatype,f._datatype])||r,k=e.convert(0,f._datatype),g=e.convert(g,f._datatype));var w=!b(g,k),N=f._size[0],A=f._size[1],$,D,_;if(y>A){for(D=A;D<y;D++)if(f._ptr[D]=f._values.length,w)for($=0;$<N;$++)f._values.push(g),f._index.push($);f._ptr[y]=f._values.length}else y<A&&(f._ptr.splice(y+1,A-y),f._values.splice(f._ptr[y],f._values.length),f._index.splice(f._ptr[y],f._index.length));if(A=y,v>N){if(w){var T=0;for(D=0;D<A;D++){f._ptr[D]=f._ptr[D]+T,_=f._ptr[D+1]+T;var z=0;for($=N;$<v;$++,z++)f._values.splice(_+z,0,g),f._index.splice(_+z,0,$),T++}f._ptr[A]=f._values.length}}else if(v<N){var P=0;for(D=0;D<A;D++){f._ptr[D]=f._ptr[D]-P;var q=f._ptr[D],L=f._ptr[D+1]-P;for(_=q;_<L;_++)$=f._index[_],$>v-1&&(f._values.splice(_,1),f._index.splice(_,1),P++)}f._ptr[D]=f._values.length}return f._size[0]=v,f._size[1]=y,f}n.prototype.reshape=function(f,v){if(!Li(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(Y){if(!Rr(Y)||!rr(Y)||Y<=-2||Y===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ei(f)+")")});var y=this._size[0]*this._size[1];f=Rb(f,y);var x=f[0]*f[1];if(y!==x)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=v?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return g;for(var b=[],k=0;k<g._ptr.length;k++)for(var w=0;w<g._ptr[k+1]-g._ptr[k];w++)b.push(k);for(var N=g._values.slice(),A=g._index.slice(),$=0;$<g._index.length;$++){var D=A[$],_=b[$],T=D*g._size[1]+_;b[$]=T%f[1],A[$]=Math.floor(T/f[1])}g._values.length=0,g._index.length=0,g._ptr.length=f[1]+1,g._size=f.slice();for(var z=0;z<g._ptr.length;z++)g._ptr[z]=0;for(var P=0;P<N.length;P++){var q=A[P],L=b[P],Z=N[P],W=u(q,g._ptr[L],g._ptr[L+1],g._index);h(W,q,L,Z,g._values,g._index,g._ptr)}return g},n.prototype.clone=function(){var f=new n({values:this._values?kr(this._values):void 0,index:kr(this._index),ptr:kr(this._ptr),size:kr(this._size),datatype:this._datatype});return f},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(f,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,x=this._size[0],g=this._size[1],b=qh(f,y,"map"),k=function(N,A,$){return b.fn(N,[A,$],y)};return d(this,0,x-1,0,g-1,k,v)};function d(f,v,y,x,g,b,k){var w=[],N=[],A=[],$=r,D=0;ms(f._datatype)&&($=e.find(r,[f._datatype,f._datatype])||r,D=e.convert(0,f._datatype));for(var _=function(X,E,oe){var le=b(X,E,oe);$(le,D)||(w.push(le),N.push(E))},T=x;T<=g;T++){A.push(w.length);var z=f._ptr[T],P=f._ptr[T+1];if(k)for(var q=z;q<P;q++){var L=f._index[q];L>=v&&L<=y&&_(f._values[q],L-v,T-x)}else{for(var Z={},W=z;W<P;W++){var Y=f._index[W];Z[Y]=f._values[W]}for(var ie=v;ie<=y;ie++){var re=ie in Z?Z[ie]:0;_(re,ie-v,T-x)}}}return A.push(w.length),new n({values:w,index:N,ptr:A,size:[y-v+1,g-x+1]})}n.prototype.forEach=function(f,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,x=this._size[0],g=this._size[1],b=qh(f,y,"forEach"),k=0;k<g;k++){var w=this._ptr[k],N=this._ptr[k+1];if(v)for(var A=w;A<N;A++){var $=this._index[A];b.fn(this._values[A],[$,k],y)}else{for(var D={},_=w;_<N;_++){var T=this._index[_];D[T]=this._values[_]}for(var z=0;z<x;z++){var P=z in D?D[z]:0;b.fn(P,[z,k],y)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],v=0;v<f;v++)for(var y=this._ptr[v],x=this._ptr[v+1],g=y;g<x;g++){var b=this._index[g];yield{value:this._values[g],index:[b,v]}}},n.prototype.toArray=function(){return m(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return m(this._values,this._index,this._ptr,this._size,!1)};function m(f,v,y,x,g){var b=x[0],k=x[1],w=[],N,A;for(N=0;N<b;N++)for(w[N]=[],A=0;A<k;A++)w[N][A]=0;for(A=0;A<k;A++)for(var $=y[A],D=y[A+1],_=$;_<D;_++)N=v[_],w[N][A]=f?g?kr(f[_]):f[_]:1;return w}return n.prototype.format=function(f){for(var v=this._size[0],y=this._size[1],x=this.density(),g="Sparse Matrix ["+ei(v,f)+" x "+ei(y,f)+"] density: "+ei(x,f)+`
`,b=0;b<y;b++)for(var k=this._ptr[b],w=this._ptr[b+1],N=k;N<w;N++){var A=this._index[N];g+=`
    (`+ei(A,f)+", "+ei(b,f)+") ==> "+(this._values?ei(this._values[N],f):"X")}return g},n.prototype.toString=function(){return ei(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(f){if(f){if(Or(f)&&(f=f.toNumber()),!Rr(f)||!rr(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var v=f>0?f:0,y=f<0?-f:0,x=this._size[0],g=this._size[1],b=Math.min(x-y,g-v),k=[],w=[],N=[];N[0]=0;for(var A=v;A<g&&k.length<b;A++)for(var $=this._ptr[A],D=this._ptr[A+1],_=$;_<D;_++){var T=this._index[_];if(T===A-v+y){k.push(this._values[_]),w[k.length-1]=T-y;break}}return N.push(k.length),new n({values:k,index:w,ptr:N,size:[b,1]})},n.fromJSON=function(f){return new n(f)},n.diagonal=function(f,v,y,x,g){if(!Li(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(Y){if(Or(Y)&&(Y=Y.toNumber()),!Rr(Y)||!rr(Y)||Y<1)throw new Error("Size values must be positive integers");return Y}),y){if(Or(y)&&(y=y.toNumber()),!Rr(y)||!rr(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var b=r,k=0;ms(g)&&(b=e.find(r,[g,g])||r,k=e.convert(0,g));var w=y>0?y:0,N=y<0?-y:0,A=f[0],$=f[1],D=Math.min(A-N,$-w),_;if(Li(v)){if(v.length!==D)throw new Error("Invalid value array length");_=function(ie){return v[ie]}}else if(hr(v)){var T=v.size();if(T.length!==1||T[0]!==D)throw new Error("Invalid matrix length");_=function(ie){return v.get([ie])}}else _=function(){return v};for(var z=[],P=[],q=[],L=0;L<$;L++){q.push(z.length);var Z=L-w;if(Z>=0&&Z<D){var W=_(Z);b(W,k)||(P.push(Z+N),z.push(W))}}return q.push(z.length),new n({values:z,index:P,ptr:q,size:[A,$]})},n.prototype.swapRows=function(f,v){if(!Rr(f)||!rr(f)||!Rr(v)||!rr(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return pn(f,this._size[0]),pn(v,this._size[0]),n._swapRows(f,v,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(f,v,y,x,g){for(var b=x[f],k=x[f+1],w=b;w<k;w++)g(y[w],v[w])},n._swapRows=function(f,v,y,x,g,b){for(var k=0;k<y;k++){var w=b[k],N=b[k+1],A=u(f,w,N,g),$=u(v,w,N,g);if(A<N&&$<N&&g[A]===f&&g[$]===v){if(x){var D=x[A];x[A]=x[$],x[$]=D}continue}if(A<N&&g[A]===f&&($>=N||g[$]!==v)){var _=x?x[A]:void 0;g.splice($,0,v),x&&x.splice($,0,_),g.splice($<=A?A+1:A,1),x&&x.splice($<=A?A+1:A,1);continue}if($<N&&g[$]===v&&(A>=N||g[A]!==f)){var T=x?x[$]:void 0;g.splice(A,0,f),x&&x.splice(A,0,T),g.splice(A<=$?$+1:$,1),x&&x.splice(A<=$?$+1:$,1)}}},n},{isClass:!0}),eX="number",tX=["typed"];function rX(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],i=e[2],n=e[3];return{input:t,radix:r,integerPart:i,fractionalPart:n}}else return null}function iX(t){for(var e=parseInt(t.integerPart,t.radix),r=0,i=0;i<t.fractionalPart.length;i++){var n=parseInt(t.fractionalPart[i],t.radix);r+=n/Math.pow(t.radix,i+1)}var a=e+r;if(isNaN(a))throw new SyntaxError('String "'+t.input+'" is not a valid number');return a}var RS=ce(eX,tX,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var a=rX(n);if(a)return iX(a);var s=0,o=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);o&&(s=Number(o[2]),n=o[1]);var l=Number(n);if(isNaN(l))throw new SyntaxError('String "'+n+'" is not a valid number');if(o){if(l>2**s-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));l>=2**(s-1)&&(l=l-2**s)}return l},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:e.referToSelf(i=>n=>{var a=n.clone();return a.value=i(n.value),a}),null:function(n){return 0},"Unit, string | Unit":function(n,a){return n.toNumber(a)},"Array | Matrix":e.referToSelf(i=>n=>Gr(n,i))});return r.fromJSON=function(i){return parseFloat(i.value)},r}),nX="bigint",aX=["typed"],sX=ce(nX,aX,t=>{var{typed:e}=t,r=e("bigint",{"":function(){return 0n},bigint:function(n){return n},number:function(n){return BigInt(n.toFixed())},BigNumber:function(n){return BigInt(n.round().toString())},Fraction:function(n){return BigInt(n.valueOf().toFixed())},"string | boolean":function(n){return BigInt(n)},null:function(n){return 0n},"Array | Matrix":e.referToSelf(i=>n=>Gr(n,i))});return r.fromJSON=function(i){return BigInt(i.value)},r}),jS="string",oX=["typed"],lX=ce(jS,oX,t=>{var{typed:e}=t;return e(jS,{"":function(){return""},number:Fh,null:function(i){return"null"},boolean:function(i){return i+""},string:function(i){return i},"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r)),any:function(i){return String(i)}})}),qS="boolean",uX=["typed"],cX=ce(qS,uX,t=>{var{typed:e}=t;return e(qS,{"":function(){return!1},boolean:function(i){return i},number:function(i){return!!i},null:function(i){return!1},BigNumber:function(i){return!i.isZero()},string:function(i){var n=i.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;var a=Number(i);if(i!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+i+'" to a boolean')},"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r))})}),hX="bignumber",pX=["typed","BigNumber"],US=ce(hX,pX,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(n){return new r(n+"")},string:function(n){var a=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var s=a[2],o=r(a[1]),l=new r(2).pow(Number(s));if(o.gt(l.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var u=new r(2).pow(Number(s)-1);return o.gte(u)?o.sub(l):o}return new r(n)},BigNumber:function(n){return n},bigint:function(n){return new r(n.toString())},Unit:e.referToSelf(i=>n=>{var a=n.clone();return a.value=i(n.value),a}),Fraction:function(n){return new r(String(n.n)).div(String(n.d)).times(String(n.s))},null:function(n){return new r(0)},"Array | Matrix":e.referToSelf(i=>n=>Gr(n,i))})}),dX="complex",mX=["typed","Complex"],fX=ce(dX,mX,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(n){return new r(n,0)},"number, number":function(n,a){return new r(n,a)},"BigNumber, BigNumber":function(n,a){return new r(n.toNumber(),a.toNumber())},Fraction:function(n){return new r(n.valueOf(),0)},Complex:function(n){return n.clone()},string:function(n){return r(n)},null:function(n){return r(0)},Object:function(n){if("re"in n&&"im"in n)return new r(n.re,n.im);if("r"in n&&"phi"in n||"abs"in n&&"arg"in n)return new r(n);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(i=>n=>Gr(n,i))})}),gX="fraction",vX=["typed","Fraction"],VS=ce(gX,vX,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new r(n)},string:function(n){return new r(n)},"number, number":function(n,a){return new r(n,a)},"bigint, bigint":function(n,a){return new r(n,a)},null:function(n){return new r(0)},BigNumber:function(n){return new r(n.toString())},bigint:function(n){return new r(n.toString())},Fraction:function(n){return n},Unit:e.referToSelf(i=>n=>{var a=n.clone();return a.value=i(n.value),a}),Object:function(n){return new r(n)},"Array | Matrix":e.referToSelf(i=>n=>Gr(n,i))})}),GS="matrix",yX=["typed","Matrix","DenseMatrix","SparseMatrix"],ZS=ce(GS,yX,t=>{var{typed:e,Matrix:r,DenseMatrix:i,SparseMatrix:n}=t;return e(GS,{"":function(){return a([])},string:function(o){return a([],o)},"string, string":function(o,l){return a([],o,l)},Array:function(o){return a(o)},Matrix:function(o){return a(o,o.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(s,o,l){if(o==="dense"||o==="default"||o===void 0)return new i(s,l);if(o==="sparse")return new n(s,l);throw new TypeError("Unknown matrix type "+JSON.stringify(o)+".")}}),HS="matrixFromFunction",bX=["typed","matrix","isZero"],xX=ce(HS,bX,t=>{var{typed:e,matrix:r,isZero:i}=t;return e(HS,{"Array | Matrix, function, string, string":function(s,o,l,u){return n(s,o,l,u)},"Array | Matrix, function, string":function(s,o,l){return n(s,o,l)},"Matrix, function":function(s,o){return n(s,o,"dense")},"Array, function":function(s,o){return n(s,o,"dense").toArray()},"Array | Matrix, string, function":function(s,o,l){return n(s,l,o)},"Array | Matrix, string, string, function":function(s,o,l,u){return n(s,u,o,l)}});function n(a,s,o,l){var u;return l!==void 0?u=r(o,l):u=r(o),u.resize(a),u.forEach(function(c,h){var p=s(h);i(p)||u.set(h,p)}),u}}),WS="matrixFromRows",wX=["typed","matrix","flatten","size"],MX=ce(WS,wX,t=>{var{typed:e,matrix:r,flatten:i,size:n}=t;return e(WS,{"...Array":function(l){return a(l)},"...Matrix":function(l){return r(a(l.map(u=>u.toArray())))}});function a(o){if(o.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=s(o[0]),u=[];for(var c of o){var h=s(c);if(h!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(h|0));u.push(i(c))}return u}function s(o){var l=n(o);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),YS="matrixFromColumns",kX=["typed","matrix","flatten","size"],CX=ce(YS,kX,t=>{var{typed:e,matrix:r,flatten:i,size:n}=t;return e(YS,{"...Array":function(l){return a(l)},"...Matrix":function(l){return r(a(l.map(u=>u.toArray())))}});function a(o){if(o.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=s(o[0]),u=[],c=0;c<l;c++)u[c]=[];for(var h of o){var p=s(h);if(p!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(p|0));for(var d=i(h),m=0;m<l;m++)u[m].push(d[m])}return u}function s(o){var l=n(o);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),KS="splitUnit",NX=["typed"],SX=ce(KS,NX,t=>{var{typed:e}=t;return e(KS,{"Unit, Array":function(i,n){return i.splitUnit(n)}})}),XS="unaryMinus",DX=["typed"],QS=ce(XS,DX,t=>{var{typed:e}=t;return e(XS,{number:jN,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:e.referToSelf(r=>i=>{var n=i.clone();return n.value=e.find(r,n.valueType())(i.value),n}),"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r,!0))})}),JS="unaryPlus",AX=["typed","config","numeric"],$X=ce(JS,AX,t=>{var{typed:e,config:r,numeric:i}=t;return e(JS,{number:qN,Complex:function(a){return a},BigNumber:function(a){return a},bigint:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(n=>a=>Gr(a,n,!0)),boolean:function(a){return i(a?1:0,r.number)},string:function(a){return i(a,uc(a,r))}})}),eD="abs",_X=["typed"],tD=ce(eD,_X,t=>{var{typed:e}=t;return e(eD,{number:ON,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r,!0))})}),rD="mapSlices",EX=["typed","isInteger"],Yb=ce(rD,EX,t=>{var{typed:e,isInteger:r}=t;return e(rD,{"Array | Matrix, number | BigNumber, function":function(n,a,s){if(!r(a))throw new TypeError("Integer number expected for dimension");var o=Array.isArray(n)?Tr(n):n.size();if(a<0||a>=o.length)throw new cl(a,o.length);return hr(n)?n.create(jg(n.valueOf(),a,s),n.datatype()):jg(n,a,s)}})},{formerly:"apply"});function jg(t,e,r){var i,n,a;if(e<=0)if(Array.isArray(t[0])){for(a=IX(t),n=[],i=0;i<a.length;i++)n[i]=jg(a[i],e-1,r);return n}else return r(t);else{for(n=[],i=0;i<t.length;i++)n[i]=jg(t[i],e-1,r);return n}}function IX(t){var e=t.length,r=t[0].length,i,n,a=[];for(n=0;n<r;n++){var s=[];for(i=0;i<e;i++)s.push(t[i][n]);a.push(s)}return a}var iD="addScalar",TX=["typed"],nD=ce(iD,TX,t=>{var{typed:e}=t;return e(iD,{"number, number":FN,"Complex, Complex":function(i,n){return i.add(n)},"BigNumber, BigNumber":function(i,n){return i.plus(n)},"bigint, bigint":function(i,n){return i+n},"Fraction, Fraction":function(i,n){return i.add(n)},"Unit, Unit":e.referToSelf(r=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var a=i.clone();return a.value=e.find(r,[a.valueType(),n.valueType()])(a.value,n.value),a.fixPrefix=!1,a})})}),aD="subtractScalar",LX=["typed"],sD=ce(aD,LX,t=>{var{typed:e}=t;return e(aD,{"number, number":PN,"Complex, Complex":function(i,n){return i.sub(n)},"BigNumber, BigNumber":function(i,n){return i.minus(n)},"bigint, bigint":function(i,n){return i-n},"Fraction, Fraction":function(i,n){return i.sub(n)},"Unit, Unit":e.referToSelf(r=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var a=i.clone();return a.value=e.find(r,[a.valueType(),n.valueType()])(a.value,n.value),a.fixPrefix=!1,a})})}),oD="cbrt",zX=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],BX=ce(oD,zX,t=>{var{config:e,typed:r,isNegative:i,unaryMinus:n,matrix:a,Complex:s,BigNumber:o,Fraction:l}=t;return r(oD,{number:Em,Complex:u,"Complex, boolean":u,BigNumber:function(p){return p.cbrt()},Unit:c});function u(h,p){var d=h.arg()/3,m=h.abs(),f=new s(Em(m),0).mul(new s(0,d).exp());if(p){var v=[f,new s(Em(m),0).mul(new s(0,d+Math.PI*2/3).exp()),new s(Em(m),0).mul(new s(0,d-Math.PI*2/3).exp())];return e.matrix==="Array"?v:a(v)}else return f}function c(h){if(h.value&&Rl(h.value)){var p=h.clone();return p.value=1,p=p.pow(1/3),p.value=u(h.value),p}else{var d=i(h.value);d&&(h.value=n(h.value));var m;Or(h.value)?m=new o(1).div(3):Th(h.value)?m=new l(1,3):m=1/3;var f=h.pow(m);return d&&(f.value=n(f.value)),f}}}),OX="matAlgo11xS0s",FX=["typed","equalScalar"],gs=ce(OX,FX,t=>{var{typed:e,equalScalar:r}=t;return function(n,a,s,o){var l=n._values,u=n._index,c=n._ptr,h=n._size,p=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=h[0],m=h[1],f,v=r,y=0,x=s;typeof p=="string"&&(f=p,v=e.find(r,[f,f]),y=e.convert(0,f),a=e.convert(a,f),x=e.find(s,[f,f]));for(var g=[],b=[],k=[],w=0;w<m;w++){k[w]=b.length;for(var N=c[w],A=c[w+1],$=N;$<A;$++){var D=u[$],_=o?x(a,l[$]):x(l[$],a);v(_,y)||(b.push(D),g.push(_))}}return k[m]=b.length,n.createSparseMatrix({values:g,index:b,ptr:k,size:[d,m],datatype:f})}}),PX="matAlgo12xSfs",RX=["typed","DenseMatrix"],Ba=ce(PX,RX,t=>{var{typed:e,DenseMatrix:r}=t;return function(n,a,s,o){var l=n._values,u=n._index,c=n._ptr,h=n._size,p=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=h[0],m=h[1],f,v=s;typeof p=="string"&&(f=p,a=e.convert(a,f),v=e.find(s,[f,f]));for(var y=[],x=[],g=[],b=0;b<m;b++){for(var k=b+1,w=c[b],N=c[b+1],A=w;A<N;A++){var $=u[A];x[$]=l[A],g[$]=k}for(var D=0;D<d;D++)b===0&&(y[D]=[]),g[D]===k?y[D][b]=o?v(a,x[D]):v(x[D],a):y[D][b]=o?v(a,0):v(0,a)}return new r({data:y,size:[d,m],datatype:f})}}),jX="matAlgo14xDs",qX=["typed"],pl=ce(jX,qX,t=>{var{typed:e}=t;return function(n,a,s,o){var l=n._data,u=n._size,c=n._datatype,h,p=s;typeof c=="string"&&(h=c,a=e.convert(a,h),p=e.find(s,[h,h]));var d=u.length>0?r(p,0,u,u[0],l,a,o):[];return n.createDenseMatrix({data:d,size:kr(u),datatype:h})};function r(i,n,a,s,o,l,u){var c=[];if(n===a.length-1)for(var h=0;h<s;h++)c[h]=u?i(l,o[h]):i(o[h],l);else for(var p=0;p<s;p++)c[p]=r(i,n+1,a,a[n+1],o[p],l,u);return c}}),Kb="ceil",UX=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],VX=new Cr(10),GX=ce(Kb,["typed","config","round"],t=>{var{typed:e,config:r,round:i}=t;function n(a){var s=Math.ceil(a),o=i(a);return s===o?s:Ja(a,o,r.relTol,r.absTol)&&!Ja(a,s,r.relTol,r.absTol)?o:s}return e(Kb,{number:n,"number, number":function(s,o){if(!rr(o))throw new RangeError("number of decimals in function ceil must be an integer");if(o<0||o>15)throw new RangeError("number of decimals in ceil number must be in range 0-15");var l=10**o;return n(s*l)/l}})}),lD=ce(Kb,UX,t=>{var{typed:e,config:r,round:i,matrix:n,equalScalar:a,zeros:s,DenseMatrix:o}=t,l=gs({typed:e,equalScalar:a}),u=Ba({typed:e,DenseMatrix:o}),c=pl({typed:e}),h=GX({typed:e,config:r,round:i});function p(d){var m=(y,x)=>hl(y,x,r.relTol,r.absTol),f=d.ceil(),v=i(d);return f.eq(v)?f:m(d,v)&&!m(d,f)?v:f}return e("ceil",{number:h.signatures.number,"number,number":h.signatures["number,number"],Complex:function(m){return m.ceil()},"Complex, number":function(m,f){return m.ceil(f)},"Complex, BigNumber":function(m,f){return m.ceil(f.toNumber())},BigNumber:p,"BigNumber, BigNumber":function(m,f){var v=VX.pow(f);return p(m.mul(v)).div(v)},bigint:d=>d,"bigint, number":(d,m)=>d,"bigint, BigNumber":(d,m)=>d,Fraction:function(m){return m.ceil()},"Fraction, number":function(m,f){return m.ceil(f)},"Fraction, BigNumber":function(m,f){return m.ceil(f.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(m,f,v){var y=m.toNumeric(v);return v.multiply(d(y,f))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(m,f,v)=>d(m,f.toNumber(),v)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(m,f,v)=>Gr(m,y=>d(y,f,v),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(m,f)=>d(m,0,f)),"Array | Matrix":e.referToSelf(d=>m=>Gr(m,d,!0)),"Array, number | BigNumber":e.referToSelf(d=>(m,f)=>Gr(m,v=>d(v,f),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(m,f)=>l(m,f,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(m,f)=>c(m,f,d,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(m,f)=>c(n(f),m,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(m,f)=>a(m,0)?s(f.size(),f.storage()):f.storage()==="dense"?c(f,m,d,!0):u(f,m,d,!0))})}),uD="cube",ZX=["typed"],HX=ce(uD,ZX,t=>{var{typed:e}=t;return e(uD,{number:UN,Complex:function(i){return i.mul(i).mul(i)},BigNumber:function(i){return i.times(i).times(i)},bigint:function(i){return i*i*i},Fraction:function(i){return i.pow(3)},Unit:function(i){return i.pow(3)}})}),cD="exp",WX=["typed"],YX=ce(cD,WX,t=>{var{typed:e}=t;return e(cD,{number:VN,Complex:function(i){return i.exp()},BigNumber:function(i){return i.exp()}})}),hD="expm1",KX=["typed","Complex"],XX=ce(hD,KX,t=>{var{typed:e,Complex:r}=t;return e(hD,{number:GN,Complex:function(n){var a=Math.exp(n.re);return new r(a*Math.cos(n.im)-1,a*Math.sin(n.im))},BigNumber:function(n){return n.exp().minus(1)}})}),Xb="fix",QX=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],JX=ce(Xb,["typed","ceil","floor"],t=>{var{typed:e,ceil:r,floor:i}=t;return e(Xb,{number:function(a){return a>0?i(a):r(a)},"number, number":function(a,s){return a>0?i(a,s):r(a,s)}})}),pD=ce(Xb,QX,t=>{var{typed:e,Complex:r,matrix:i,ceil:n,floor:a,equalScalar:s,zeros:o,DenseMatrix:l}=t,u=Ba({typed:e,DenseMatrix:l}),c=pl({typed:e}),h=JX({typed:e,ceil:n,floor:a});return e("fix",{number:h.signatures.number,"number, number | BigNumber":h.signatures["number,number"],Complex:function(d){return new r(d.re>0?Math.floor(d.re):Math.ceil(d.re),d.im>0?Math.floor(d.im):Math.ceil(d.im))},"Complex, number":function(d,m){return new r(d.re>0?a(d.re,m):n(d.re,m),d.im>0?a(d.im,m):n(d.im,m))},"Complex, BigNumber":function(d,m){var f=m.toNumber();return new r(d.re>0?a(d.re,f):n(d.re,f),d.im>0?a(d.im,f):n(d.im,f))},BigNumber:function(d){return d.isNegative()?n(d):a(d)},"BigNumber, number | BigNumber":function(d,m){return d.isNegative()?n(d,m):a(d,m)},bigint:p=>p,"bigint, number":(p,d)=>p,"bigint, BigNumber":(p,d)=>p,Fraction:function(d){return d.s<0n?d.ceil():d.floor()},"Fraction, number | BigNumber":function(d,m){return d.s<0n?n(d,m):a(d,m)},"Unit, number, Unit":e.referToSelf(p=>function(d,m,f){var v=d.toNumeric(f);return f.multiply(p(v,m))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(d,m,f)=>p(d,m.toNumber(),f)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(p=>(d,m,f)=>Gr(d,v=>p(v,m,f),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(p=>(d,m)=>p(d,0,m)),"Array | Matrix":e.referToSelf(p=>d=>Gr(d,p,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(p=>(d,m)=>Gr(d,f=>p(f,m),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(d,m)=>c(i(m),d,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(d,m)=>s(d,0)?o(m.size(),m.storage()):m.storage()==="dense"?c(m,d,p,!0):u(m,d,p,!0))})}),Qb="floor",eQ=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],tQ=new Cr(10),rQ=ce(Qb,["typed","config","round"],t=>{var{typed:e,config:r,round:i}=t;function n(a){var s=Math.floor(a),o=i(a);return s===o?s:Ja(a,o,r.relTol,r.absTol)&&!Ja(a,s,r.relTol,r.absTol)?o:s}return e(Qb,{number:n,"number, number":function(s,o){if(!rr(o))throw new RangeError("number of decimals in function floor must be an integer");if(o<0||o>15)throw new RangeError("number of decimals in floor number must be in range 0 - 15");var l=10**o;return n(s*l)/l}})}),Jb=ce(Qb,eQ,t=>{var{typed:e,config:r,round:i,matrix:n,equalScalar:a,zeros:s,DenseMatrix:o}=t,l=gs({typed:e,equalScalar:a}),u=Ba({typed:e,DenseMatrix:o}),c=pl({typed:e}),h=rQ({typed:e,config:r,round:i});function p(d){var m=(y,x)=>hl(y,x,r.relTol,r.absTol),f=d.floor(),v=i(d);return f.eq(v)?f:m(d,v)&&!m(d,f)?v:f}return e("floor",{number:h.signatures.number,"number,number":h.signatures["number,number"],Complex:function(m){return m.floor()},"Complex, number":function(m,f){return m.floor(f)},"Complex, BigNumber":function(m,f){return m.floor(f.toNumber())},BigNumber:p,"BigNumber, BigNumber":function(m,f){var v=tQ.pow(f);return p(m.mul(v)).div(v)},bigint:d=>d,"bigint, number":(d,m)=>d,"bigint, BigNumber":(d,m)=>d,Fraction:function(m){return m.floor()},"Fraction, number":function(m,f){return m.floor(f)},"Fraction, BigNumber":function(m,f){return m.floor(f.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(m,f,v){var y=m.toNumeric(v);return v.multiply(d(y,f))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(m,f,v)=>d(m,f.toNumber(),v)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(m,f,v)=>Gr(m,y=>d(y,f,v),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(m,f)=>d(m,0,f)),"Array | Matrix":e.referToSelf(d=>m=>Gr(m,d,!0)),"Array, number | BigNumber":e.referToSelf(d=>(m,f)=>Gr(m,v=>d(v,f),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(m,f)=>l(m,f,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(m,f)=>c(m,f,d,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(m,f)=>c(n(f),m,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(m,f)=>a(m,0)?s(f.size(),f.storage()):f.storage()==="dense"?c(f,m,d,!0):u(f,m,d,!0))})}),iQ="matAlgo02xDS0",nQ=["typed","equalScalar"],Vl=ce(iQ,nQ,t=>{var{typed:e,equalScalar:r}=t;return function(n,a,s,o){var l=n._data,u=n._size,c=n._datatype||n.getDataType(),h=a._values,p=a._index,d=a._ptr,m=a._size,f=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(u.length!==m.length)throw new Wr(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=u[0],y=u[1],x,g=r,b=0,k=s;typeof c=="string"&&c===f&&c!=="mixed"&&(x=c,g=e.find(r,[x,x]),b=e.convert(0,x),k=e.find(s,[x,x]));for(var w=[],N=[],A=[],$=0;$<y;$++){A[$]=N.length;for(var D=d[$],_=d[$+1],T=D;T<_;T++){var z=p[T],P=o?k(h[T],l[z][$]):k(l[z][$],h[T]);g(P,b)||(N.push(z),w.push(P))}}return A[y]=N.length,a.createSparseMatrix({values:w,index:N,ptr:A,size:[v,y],datatype:c===n._datatype&&f===a._datatype?x:void 0})}}),aQ="matAlgo03xDSf",sQ=["typed"],Is=ce(aQ,sQ,t=>{var{typed:e}=t;return function(i,n,a,s){var o=i._data,l=i._size,u=i._datatype||i.getDataType(),c=n._values,h=n._index,p=n._ptr,d=n._size,m=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(l.length!==d.length)throw new Wr(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f=l[0],v=l[1],y,x=0,g=a;typeof u=="string"&&u===m&&u!=="mixed"&&(y=u,x=e.convert(0,y),g=e.find(a,[y,y]));for(var b=[],k=0;k<f;k++)b[k]=[];for(var w=[],N=[],A=0;A<v;A++){for(var $=A+1,D=p[A],_=p[A+1],T=D;T<_;T++){var z=h[T];w[z]=s?g(c[T],o[z][A]):g(o[z][A],c[T]),N[z]=$}for(var P=0;P<f;P++)N[P]===$?b[P][A]=w[P]:b[P][A]=s?g(x,o[P][A]):g(o[P][A],x)}return i.createDenseMatrix({data:b,size:[f,v],datatype:u===i._datatype&&m===n._datatype?y:void 0})}}),oQ="matAlgo05xSfSf",lQ=["typed","equalScalar"],qg=ce(oQ,lQ,t=>{var{typed:e,equalScalar:r}=t;return function(n,a,s){var o=n._values,l=n._index,u=n._ptr,c=n._size,h=n._datatype||n._data===void 0?n._datatype:n.getDataType(),p=a._values,d=a._index,m=a._ptr,f=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==f.length)throw new Wr(c.length,f.length);if(c[0]!==f[0]||c[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+f+")");var y=c[0],x=c[1],g,b=r,k=0,w=s;typeof h=="string"&&h===v&&h!=="mixed"&&(g=h,b=e.find(r,[g,g]),k=e.convert(0,g),w=e.find(s,[g,g]));var N=o&&p?[]:void 0,A=[],$=[],D=N?[]:void 0,_=N?[]:void 0,T=[],z=[],P,q,L,Z;for(q=0;q<x;q++){$[q]=A.length;var W=q+1;for(L=u[q],Z=u[q+1];L<Z;L++)P=l[L],A.push(P),T[P]=W,D&&(D[P]=o[L]);for(L=m[q],Z=m[q+1];L<Z;L++)P=d[L],T[P]!==W&&A.push(P),z[P]=W,_&&(_[P]=p[L]);if(N)for(L=$[q];L<A.length;){P=A[L];var Y=T[P],ie=z[P];if(Y===W||ie===W){var re=Y===W?D[P]:k,R=ie===W?_[P]:k,X=w(re,R);b(X,k)?A.splice(L,1):(N.push(X),L++)}}}return $[x]=A.length,n.createSparseMatrix({values:N,index:A,ptr:$,size:[y,x],datatype:h===n._datatype&&v===a._datatype?g:void 0})}}),uQ="matAlgo13xDD",cQ=["typed"],dD=ce(uQ,cQ,t=>{var{typed:e}=t;return function(n,a,s){var o=n._data,l=n._size,u=n._datatype,c=a._data,h=a._size,p=a._datatype,d=[];if(l.length!==h.length)throw new Wr(l.length,h.length);for(var m=0;m<l.length;m++){if(l[m]!==h[m])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");d[m]=l[m]}var f,v=s;typeof u=="string"&&u===p&&(f=u,v=e.find(s,[f,f]));var y=d.length>0?r(v,0,d,d[0],o,c):[];return n.createDenseMatrix({data:y,size:d,datatype:f})};function r(i,n,a,s,o,l){var u=[];if(n===a.length-1)for(var c=0;c<s;c++)u[c]=i(o[c],l[c]);else for(var h=0;h<s;h++)u[h]=r(i,n+1,a,a[n+1],o[h],l[h]);return u}});function rs(t,e){if(lu(t.size(),e.size()))return[t,e];var r=Tg(t.size(),e.size());return[t,e].map(i=>hQ(i,r))}function hQ(t,e){return lu(t.size(),e)?t:t.create(jh(t.valueOf(),e),t.datatype())}var pQ="matrixAlgorithmSuite",dQ=["typed","matrix"],dn=ce(pQ,dQ,t=>{var{typed:e,matrix:r}=t,i=dD({typed:e}),n=pl({typed:e});return function(s){var o=s.elop,l=s.SD||s.DS,u;o?(u={"DenseMatrix, DenseMatrix":(d,m)=>i(...rs(d,m),o),"Array, Array":(d,m)=>i(...rs(r(d),r(m)),o).valueOf(),"Array, DenseMatrix":(d,m)=>i(...rs(r(d),m),o),"DenseMatrix, Array":(d,m)=>i(...rs(d,r(m)),o)},s.SS&&(u["SparseMatrix, SparseMatrix"]=(d,m)=>s.SS(...rs(d,m),o,!1)),s.DS&&(u["DenseMatrix, SparseMatrix"]=(d,m)=>s.DS(...rs(d,m),o,!1),u["Array, SparseMatrix"]=(d,m)=>s.DS(...rs(r(d),m),o,!1)),l&&(u["SparseMatrix, DenseMatrix"]=(d,m)=>l(...rs(m,d),o,!0),u["SparseMatrix, Array"]=(d,m)=>l(...rs(r(m),d),o,!0))):(u={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(m,f)=>i(...rs(m,f),d)),"Array, Array":e.referToSelf(d=>(m,f)=>i(...rs(r(m),r(f)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(m,f)=>i(...rs(r(m),f),d)),"DenseMatrix, Array":e.referToSelf(d=>(m,f)=>i(...rs(m,r(f)),d))},s.SS&&(u["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(m,f)=>s.SS(...rs(m,f),d,!1))),s.DS&&(u["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(m,f)=>s.DS(...rs(m,f),d,!1)),u["Array, SparseMatrix"]=e.referToSelf(d=>(m,f)=>s.DS(...rs(r(m),f),d,!1))),l&&(u["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(m,f)=>l(...rs(f,m),d,!0)),u["SparseMatrix, Array"]=e.referToSelf(d=>(m,f)=>l(...rs(r(f),m),d,!0))));var c=s.scalar||"any",h=s.Ds||s.Ss;h&&(o?(u["DenseMatrix,"+c]=(d,m)=>n(d,m,o,!1),u[c+", DenseMatrix"]=(d,m)=>n(m,d,o,!0),u["Array,"+c]=(d,m)=>n(r(d),m,o,!1).valueOf(),u[c+", Array"]=(d,m)=>n(r(m),d,o,!0).valueOf()):(u["DenseMatrix,"+c]=e.referToSelf(d=>(m,f)=>n(m,f,d,!1)),u[c+", DenseMatrix"]=e.referToSelf(d=>(m,f)=>n(f,m,d,!0)),u["Array,"+c]=e.referToSelf(d=>(m,f)=>n(r(m),f,d,!1).valueOf()),u[c+", Array"]=e.referToSelf(d=>(m,f)=>n(r(f),m,d,!0).valueOf())));var p=s.sS!==void 0?s.sS:s.Ss;return o?(s.Ss&&(u["SparseMatrix,"+c]=(d,m)=>s.Ss(d,m,o,!1)),p&&(u[c+", SparseMatrix"]=(d,m)=>p(m,d,o,!0))):(s.Ss&&(u["SparseMatrix,"+c]=e.referToSelf(d=>(m,f)=>s.Ss(m,f,d,!1))),p&&(u[c+", SparseMatrix"]=e.referToSelf(d=>(m,f)=>p(f,m,d,!0)))),o&&o.signatures&&EC(u,o.signatures),u}}),mD="mod",mQ=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],fD=ce(mD,mQ,t=>{var{typed:e,config:r,round:i,matrix:n,equalScalar:a,zeros:s,DenseMatrix:o,concat:l}=t,u=Jb({typed:e,config:r,round:i,matrix:n,equalScalar:a,zeros:s,DenseMatrix:o}),c=Vl({typed:e,equalScalar:a}),h=Is({typed:e}),p=qg({typed:e,equalScalar:a}),d=gs({typed:e,equalScalar:a}),m=Ba({typed:e,DenseMatrix:o}),f=dn({typed:e,matrix:n,concat:l});return e(mD,{"number, number":v,"BigNumber, BigNumber":function(x,g){return g.isZero()?x:x.sub(g.mul(u(x.div(g))))},"bigint, bigint":function(x,g){if(g===0n)return x;if(x<0){var b=x%g;return b===0n?b:b+g}return x%g},"Fraction, Fraction":function(x,g){return g.equals(0)?x:x.sub(g.mul(u(x.div(g))))}},f({SS:p,DS:h,SD:c,Ss:d,sS:m}));function v(y,x){return x===0?y:y-x*u(y/x)}}),fQ="matAlgo01xDSid",gQ=["typed"],yc=ce(fQ,gQ,t=>{var{typed:e}=t;return function(i,n,a,s){var o=i._data,l=i._size,u=i._datatype||i.getDataType(),c=n._values,h=n._index,p=n._ptr,d=n._size,m=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(l.length!==d.length)throw new Wr(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f=l[0],v=l[1],y=typeof u=="string"&&u!=="mixed"&&u===m?u:void 0,x=y?e.find(a,[y,y]):a,g,b,k=[];for(g=0;g<f;g++)k[g]=[];var w=[],N=[];for(b=0;b<v;b++){for(var A=b+1,$=p[b],D=p[b+1],_=$;_<D;_++)g=h[_],w[g]=s?x(c[_],o[g][b]):x(o[g][b],c[_]),N[g]=A;for(g=0;g<f;g++)N[g]===A?k[g][b]=w[g]:k[g][b]=o[g][b]}return i.createDenseMatrix({data:k,size:[f,v],datatype:u===i._datatype&&m===n._datatype?y:void 0})}}),vQ="matAlgo04xSidSid",yQ=["typed","equalScalar"],e6=ce(vQ,yQ,t=>{var{typed:e,equalScalar:r}=t;return function(n,a,s){var o=n._values,l=n._index,u=n._ptr,c=n._size,h=n._datatype||n._data===void 0?n._datatype:n.getDataType(),p=a._values,d=a._index,m=a._ptr,f=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==f.length)throw new Wr(c.length,f.length);if(c[0]!==f[0]||c[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+f+")");var y=c[0],x=c[1],g,b=r,k=0,w=s;typeof h=="string"&&h===v&&h!=="mixed"&&(g=h,b=e.find(r,[g,g]),k=e.convert(0,g),w=e.find(s,[g,g]));var N=o&&p?[]:void 0,A=[],$=[],D=o&&p?[]:void 0,_=o&&p?[]:void 0,T=[],z=[],P,q,L,Z,W;for(q=0;q<x;q++){$[q]=A.length;var Y=q+1;for(Z=u[q],W=u[q+1],L=Z;L<W;L++)P=l[L],A.push(P),T[P]=Y,D&&(D[P]=o[L]);for(Z=m[q],W=m[q+1],L=Z;L<W;L++)if(P=d[L],T[P]===Y){if(D){var ie=w(D[P],p[L]);b(ie,k)?T[P]=null:D[P]=ie}}else A.push(P),z[P]=Y,_&&(_[P]=p[L]);if(D&&_)for(L=$[q];L<A.length;)P=A[L],T[P]===Y?(N[L]=D[P],L++):z[P]===Y?(N[L]=_[P],L++):A.splice(L,1)}return $[x]=A.length,n.createSparseMatrix({values:N,index:A,ptr:$,size:[y,x],datatype:h===n._datatype&&v===a._datatype?g:void 0})}}),bQ="matAlgo10xSids",xQ=["typed","DenseMatrix"],Uh=ce(bQ,xQ,t=>{var{typed:e,DenseMatrix:r}=t;return function(n,a,s,o){var l=n._values,u=n._index,c=n._ptr,h=n._size,p=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=h[0],m=h[1],f,v=s;typeof p=="string"&&(f=p,a=e.convert(a,f),v=e.find(s,[f,f]));for(var y=[],x=[],g=[],b=0;b<m;b++){for(var k=b+1,w=c[b],N=c[b+1],A=w;A<N;A++){var $=u[A];x[$]=l[A],g[$]=k}for(var D=0;D<d;D++)b===0&&(y[D]=[]),g[D]===k?y[D][b]=o?v(a,x[D]):v(x[D],a):y[D][b]=a}return new r({data:y,size:[d,m],datatype:f})}});function pu(t,e,r,i){if(!(this instanceof pu))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(i!=null?"-"+i:"")+" expected)",this.stack=new Error().stack}pu.prototype=new Error,pu.prototype.constructor=Error,pu.prototype.name="ArgumentsError",pu.prototype.isArgumentsError=!0;var gD="gcd",wQ=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],t6="number | BigNumber | Fraction | Matrix | Array",MQ="".concat(t6,", ").concat(t6,", ...").concat(t6);function vD(t){return!t.some(e=>Array.isArray(e))}var kQ=ce(gD,wQ,t=>{var{typed:e,matrix:r,config:i,round:n,equalScalar:a,zeros:s,BigNumber:o,DenseMatrix:l,concat:u}=t,c=fD({typed:e,config:i,round:n,matrix:r,equalScalar:a,zeros:s,DenseMatrix:l,concat:u}),h=yc({typed:e}),p=e6({typed:e,equalScalar:a}),d=Uh({typed:e,DenseMatrix:l}),m=dn({typed:e,matrix:r,concat:u});return e(gD,{"number, number":f,"BigNumber, BigNumber":v,"Fraction, Fraction":(y,x)=>y.gcd(x)},m({SS:p,DS:h,Ss:d}),{[MQ]:e.referToSelf(y=>(x,g,b)=>{for(var k=y(x,g),w=0;w<b.length;w++)k=y(k,b[w]);return k}),Array:e.referToSelf(y=>x=>{if(x.length===1&&Array.isArray(x[0])&&vD(x[0]))return y(...x[0]);if(vD(x))return y(...x);throw new pu("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(y=>x=>y(x.toArray()))});function f(y,x){if(!rr(y)||!rr(x))throw new Error("Parameters in function gcd must be integer numbers");for(var g;x!==0;)g=c(y,x),y=x,x=g;return y<0?-y:y}function v(y,x){if(!y.isInt()||!x.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var g=new o(0);!x.isZero();){var b=c(y,x);y=x,x=b}return y.lt(g)?y.neg():y}}),CQ="matAlgo06xS0S0",NQ=["typed","equalScalar"],Ug=ce(CQ,NQ,t=>{var{typed:e,equalScalar:r}=t;return function(n,a,s){var o=n._values,l=n._size,u=n._datatype||n._data===void 0?n._datatype:n.getDataType(),c=a._values,h=a._size,p=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==h.length)throw new Wr(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var d=l[0],m=l[1],f,v=r,y=0,x=s;typeof u=="string"&&u===p&&u!=="mixed"&&(f=u,v=e.find(r,[f,f]),y=e.convert(0,f),x=e.find(s,[f,f]));for(var g=o&&c?[]:void 0,b=[],k=[],w=g?[]:void 0,N=[],A=[],$=0;$<m;$++){k[$]=b.length;var D=$+1;if(LN(n,$,N,w,A,D,b,x),LN(a,$,N,w,A,D,b,x),w)for(var _=k[$];_<b.length;){var T=b[_];if(A[T]===D){var z=w[T];v(z,y)?b.splice(_,1):(g.push(z),_++)}else b.splice(_,1)}else for(var P=k[$];P<b.length;){var q=b[P];A[q]!==D?b.splice(P,1):P++}}return k[m]=b.length,n.createSparseMatrix({values:g,index:b,ptr:k,size:[d,m],datatype:u===n._datatype&&p===a._datatype?f:void 0})}}),yD="lcm",SQ=["typed","matrix","equalScalar","concat"],DQ=ce(yD,SQ,t=>{var{typed:e,matrix:r,equalScalar:i,concat:n}=t,a=Vl({typed:e,equalScalar:i}),s=Ug({typed:e,equalScalar:i}),o=gs({typed:e,equalScalar:i}),l=dn({typed:e,matrix:r,concat:n}),u="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(u,", ").concat(u,", ...").concat(u)]=e.referToSelf(p=>(d,m,f)=>{for(var v=p(d,m),y=0;y<f.length;y++)v=p(v,f[y]);return v}),e(yD,{"number, number":ZN,"BigNumber, BigNumber":h,"Fraction, Fraction":(p,d)=>p.lcm(d)},l({SS:s,DS:a,Ss:o}),c);function h(p,d){if(!p.isInt()||!d.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(p.isZero())return p;if(d.isZero())return d;for(var m=p.times(d);!d.isZero();){var f=d;d=p.mod(f),p=f}return m.div(p).abs()}});function r6(t,e,r,i){return function(n){if(n>0||r.predictable){if(n<=0)return NaN;var a=n.toString(16),s=a.substring(0,15);return t*(a.length-s.length)+e(+("0x"+s))}return i(n.toNumber())}}var bD="log10",AQ=["typed","config","Complex"],$Q=Og(16),_Q=ce(bD,AQ,t=>{var{typed:e,config:r,Complex:i}=t;function n(s){return s.log().div(Math.LN10)}function a(s){return n(new i(s,0))}return e(bD,{number:function(o){return o>=0||r.predictable?Og(o):a(o)},bigint:r6($Q,Og,r,a),Complex:n,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log():a(o.toNumber())},"Array | Matrix":e.referToSelf(s=>o=>Gr(o,s))})}),xD="log2",EQ=["typed","config","Complex"],IQ=ce(xD,EQ,t=>{var{typed:e,config:r,Complex:i}=t;function n(s){return a(new i(s,0))}return e(xD,{number:function(o){return o>=0||r.predictable?qb(o):n(o)},bigint:r6(4,qb,r,n),Complex:a,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log(2):n(o.toNumber())},"Array | Matrix":e.referToSelf(s=>o=>Gr(o,s))});function a(s){var o=Math.sqrt(s.re*s.re+s.im*s.im);return new i(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(s.im,s.re)/Math.LN2)}}),TQ="multiplyScalar",LQ=["typed"],wD=ce(TQ,LQ,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":RN,"Complex, Complex":function(i,n){return i.mul(n)},"BigNumber, BigNumber":function(i,n){return i.times(n)},"bigint, bigint":function(i,n){return i*n},"Fraction, Fraction":function(i,n){return i.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(r,i)=>i.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,i)=>r.multiply(i)})}),MD="multiply",zQ=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],kD=ce(MD,zQ,t=>{var{typed:e,matrix:r,addScalar:i,multiplyScalar:n,equalScalar:a,dot:s}=t,o=gs({typed:e,equalScalar:a}),l=pl({typed:e});function u(k,w){switch(k.length){case 1:switch(w.length){case 1:if(k[0]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(k[0]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+k[0]+") must match Matrix rows ("+w[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+w.length+" dimensions)")}break;case 2:switch(w.length){case 1:if(k[1]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+k[1]+") must match Vector length ("+w[0]+")");break;case 2:if(k[1]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+k[1]+") must match Matrix B rows ("+w[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+w.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+k.length+" dimensions)")}}function c(k,w,N){if(N===0)throw new Error("Cannot multiply two empty vectors");return s(k,w)}function h(k,w){if(w.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(k,w)}function p(k,w){var N=k._data,A=k._size,$=k._datatype||k.getDataType(),D=w._data,_=w._size,T=w._datatype||w.getDataType(),z=A[0],P=_[1],q,L=i,Z=n;$&&T&&$===T&&typeof $=="string"&&$!=="mixed"&&(q=$,L=e.find(i,[q,q]),Z=e.find(n,[q,q]));for(var W=[],Y=0;Y<P;Y++){for(var ie=Z(N[0],D[0][Y]),re=1;re<z;re++)ie=L(ie,Z(N[re],D[re][Y]));W[Y]=ie}return k.createDenseMatrix({data:W,size:[P],datatype:$===k._datatype&&T===w._datatype?q:void 0})}var d=e("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":x}),m=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":b});function f(k,w){var N=k._data,A=k._size,$=k._datatype||k.getDataType(),D=w._data,_=w._datatype||w.getDataType(),T=A[0],z=A[1],P,q=i,L=n;$&&_&&$===_&&typeof $=="string"&&$!=="mixed"&&(P=$,q=e.find(i,[P,P]),L=e.find(n,[P,P]));for(var Z=[],W=0;W<T;W++){for(var Y=N[W],ie=L(Y[0],D[0]),re=1;re<z;re++)ie=q(ie,L(Y[re],D[re]));Z[W]=ie}return k.createDenseMatrix({data:Z,size:[T],datatype:$===k._datatype&&_===w._datatype?P:void 0})}function v(k,w){var N=k._data,A=k._size,$=k._datatype||k.getDataType(),D=w._data,_=w._size,T=w._datatype||w.getDataType(),z=A[0],P=A[1],q=_[1],L,Z=i,W=n;$&&T&&$===T&&typeof $=="string"&&$!=="mixed"&&$!=="mixed"&&(L=$,Z=e.find(i,[L,L]),W=e.find(n,[L,L]));for(var Y=[],ie=0;ie<z;ie++){var re=N[ie];Y[ie]=[];for(var R=0;R<q;R++){for(var X=W(re[0],D[0][R]),E=1;E<P;E++)X=Z(X,W(re[E],D[E][R]));Y[ie][R]=X}}return k.createDenseMatrix({data:Y,size:[z,q],datatype:$===k._datatype&&T===w._datatype?L:void 0})}function y(k,w){var N=k._data,A=k._size,$=k._datatype||k.getDataType(),D=w._values,_=w._index,T=w._ptr,z=w._size,P=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!D)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var q=A[0],L=z[1],Z,W=i,Y=n,ie=a,re=0;$&&P&&$===P&&typeof $=="string"&&$!=="mixed"&&(Z=$,W=e.find(i,[Z,Z]),Y=e.find(n,[Z,Z]),ie=e.find(a,[Z,Z]),re=e.convert(0,Z));for(var R=[],X=[],E=[],oe=w.createSparseMatrix({values:R,index:X,ptr:E,size:[q,L],datatype:$===k._datatype&&P===w._datatype?Z:void 0}),le=0;le<L;le++){E[le]=X.length;var ne=T[le],H=T[le+1];if(H>ne)for(var ue=0,ae=0;ae<q;ae++){for(var $e=ae+1,Ne=void 0,ze=ne;ze<H;ze++){var Te=_[ze];ue!==$e?(Ne=Y(N[ae][Te],D[ze]),ue=$e):Ne=W(Ne,Y(N[ae][Te],D[ze]))}ue===$e&&!ie(Ne,re)&&(X.push(ae),R.push(Ne))}}return E[L]=X.length,oe}function x(k,w){var N=k._values,A=k._index,$=k._ptr,D=k._datatype||k._data===void 0?k._datatype:k.getDataType();if(!N)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var _=w._data,T=w._datatype||w.getDataType(),z=k._size[0],P=w._size[0],q=[],L=[],Z=[],W,Y=i,ie=n,re=a,R=0;D&&T&&D===T&&typeof D=="string"&&D!=="mixed"&&(W=D,Y=e.find(i,[W,W]),ie=e.find(n,[W,W]),re=e.find(a,[W,W]),R=e.convert(0,W));var X=[],E=[];Z[0]=0;for(var oe=0;oe<P;oe++){var le=_[oe];if(!re(le,R))for(var ne=$[oe],H=$[oe+1],ue=ne;ue<H;ue++){var ae=A[ue];E[ae]?X[ae]=Y(X[ae],ie(le,N[ue])):(E[ae]=!0,L.push(ae),X[ae]=ie(le,N[ue]))}}for(var $e=L.length,Ne=0;Ne<$e;Ne++){var ze=L[Ne];q[Ne]=X[ze]}return Z[1]=L.length,k.createSparseMatrix({values:q,index:L,ptr:Z,size:[z,1],datatype:D===k._datatype&&T===w._datatype?W:void 0})}function g(k,w){var N=k._values,A=k._index,$=k._ptr,D=k._datatype||k._data===void 0?k._datatype:k.getDataType();if(!N)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var _=w._data,T=w._datatype||w.getDataType(),z=k._size[0],P=w._size[0],q=w._size[1],L,Z=i,W=n,Y=a,ie=0;D&&T&&D===T&&typeof D=="string"&&D!=="mixed"&&(L=D,Z=e.find(i,[L,L]),W=e.find(n,[L,L]),Y=e.find(a,[L,L]),ie=e.convert(0,L));for(var re=[],R=[],X=[],E=k.createSparseMatrix({values:re,index:R,ptr:X,size:[z,q],datatype:D===k._datatype&&T===w._datatype?L:void 0}),oe=[],le=[],ne=0;ne<q;ne++){X[ne]=R.length;for(var H=ne+1,ue=0;ue<P;ue++){var ae=_[ue][ne];if(!Y(ae,ie))for(var $e=$[ue],Ne=$[ue+1],ze=$e;ze<Ne;ze++){var Te=A[ze];le[Te]!==H?(le[Te]=H,R.push(Te),oe[Te]=W(ae,N[ze])):oe[Te]=Z(oe[Te],W(ae,N[ze]))}}for(var Qe=X[ne],nt=R.length,rt=Qe;rt<nt;rt++){var Ue=R[rt];re[rt]=oe[Ue]}}return X[q]=R.length,E}function b(k,w){var N=k._values,A=k._index,$=k._ptr,D=k._datatype||k._data===void 0?k._datatype:k.getDataType(),_=w._values,T=w._index,z=w._ptr,P=w._datatype||w._data===void 0?w._datatype:w.getDataType(),q=k._size[0],L=w._size[1],Z=N&&_,W,Y=i,ie=n;D&&P&&D===P&&typeof D=="string"&&D!=="mixed"&&(W=D,Y=e.find(i,[W,W]),ie=e.find(n,[W,W]));for(var re=Z?[]:void 0,R=[],X=[],E=k.createSparseMatrix({values:re,index:R,ptr:X,size:[q,L],datatype:D===k._datatype&&P===w._datatype?W:void 0}),oe=Z?[]:void 0,le=[],ne,H,ue,ae,$e,Ne,ze,Te,Qe=0;Qe<L;Qe++){X[Qe]=R.length;var nt=Qe+1;for($e=z[Qe],Ne=z[Qe+1],ae=$e;ae<Ne;ae++)if(Te=T[ae],Z)for(H=$[Te],ue=$[Te+1],ne=H;ne<ue;ne++)ze=A[ne],le[ze]!==nt?(le[ze]=nt,R.push(ze),oe[ze]=ie(_[ae],N[ne])):oe[ze]=Y(oe[ze],ie(_[ae],N[ne]));else for(H=$[Te],ue=$[Te+1],ne=H;ne<ue;ne++)ze=A[ne],le[ze]!==nt&&(le[ze]=nt,R.push(ze));if(Z)for(var rt=X[Qe],Ue=R.length,lt=rt;lt<Ue;lt++){var J=R[lt];re[lt]=oe[J]}}return X[L]=R.length,E}return e(MD,n,{"Array, Array":e.referTo("Matrix, Matrix",k=>(w,N)=>{u(Tr(w),Tr(N));var A=k(r(w),r(N));return hr(A)?A.valueOf():A}),"Matrix, Matrix":function(w,N){var A=w.size(),$=N.size();return u(A,$),A.length===1?$.length===1?c(w,N,A[0]):h(w,N):$.length===1?d(w,N):m(w,N)},"Matrix, Array":e.referTo("Matrix,Matrix",k=>(w,N)=>k(w,r(N))),"Array, Matrix":e.referToSelf(k=>(w,N)=>k(r(w,N.storage()),N)),"SparseMatrix, any":function(w,N){return o(w,N,n,!1)},"DenseMatrix, any":function(w,N){return l(w,N,n,!1)},"any, SparseMatrix":function(w,N){return o(N,w,n,!0)},"any, DenseMatrix":function(w,N){return l(N,w,n,!0)},"Array, any":function(w,N){return l(r(w),N,n,!1).valueOf()},"any, Array":function(w,N){return l(r(N),w,n,!0).valueOf()},"any, any":n,"any, any, ...any":e.referToSelf(k=>(w,N,A)=>{for(var $=k(w,N),D=0;D<A.length;D++)$=k($,A[D]);return $})})}),CD="nthRoot",BQ=["typed","matrix","equalScalar","BigNumber","concat"],OQ=ce(CD,BQ,t=>{var{typed:e,matrix:r,equalScalar:i,BigNumber:n,concat:a}=t,s=yc({typed:e}),o=Vl({typed:e,equalScalar:i}),l=Ug({typed:e,equalScalar:i}),u=gs({typed:e,equalScalar:i}),c=dn({typed:e,matrix:r,concat:a});function h(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(CD,{number:WN,"number, number":WN,BigNumber:d=>p(d,new n(2)),"BigNumber, BigNumber":p,Complex:h,"Complex, number":h,Array:e.referTo("DenseMatrix,number",d=>m=>d(r(m),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",d=>m=>d(m,2)),SparseMatrix:e.referTo("SparseMatrix,number",d=>m=>d(m,2)),"SparseMatrix, SparseMatrix":e.referToSelf(d=>(m,f)=>{if(f.density()===1)return l(m,f,d);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(d=>(m,f)=>{if(f.density()===1)return s(m,f,d,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",d=>(m,f)=>d(r(m),f)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(m,f)=>{if(f.density()===1)return u(f,m,d,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:o,Ss:u,sS:!1}));function p(d,m){var f=n.precision,v=n.clone({precision:f+2}),y=new n(0),x=new v(1),g=m.isNegative();if(g&&(m=m.neg()),m.isZero())throw new Error("Root must be non-zero");if(d.isNegative()&&!m.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(d.isZero())return g?new v(1/0):0;if(!d.isFinite())return g?y:d;var b=d.abs().pow(x.div(m));return b=d.isNeg()?b.neg():b,new n((g?x.div(b):b).toPrecision(f))}}),ND="sign",FQ=["typed","BigNumber","Fraction","complex"],PQ=ce(ND,FQ,t=>{var{typed:e,BigNumber:r,complex:i,Fraction:n}=t;return e(ND,{number:Ub,Complex:function(s){return s.im===0?i(Ub(s.re)):s.sign()},BigNumber:function(s){return new r(s.cmp(0))},bigint:function(s){return s>0n?1n:s<0n?-1n:0n},Fraction:function(s){return s.n===0n?new n(0):new n(s.s)},"Array | Matrix":e.referToSelf(a=>s=>Gr(s,a,!0)),Unit:e.referToSelf(a=>s=>{if(!s._isDerived()&&s.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,s.valueType())(s.value)})})}),RQ="sqrt",jQ=["config","typed","Complex"],qQ=ce(RQ,jQ,t=>{var{config:e,typed:r,Complex:i}=t;return r("sqrt",{number:n,Complex:function(s){return s.sqrt()},BigNumber:function(s){return!s.isNegative()||e.predictable?s.sqrt():n(s.toNumber())},Unit:function(s){return s.pow(.5)}});function n(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new i(a,0).sqrt()}}),SD="square",UQ=["typed"],VQ=ce(SD,UQ,t=>{var{typed:e}=t;return e(SD,{number:YN,Complex:function(i){return i.mul(i)},BigNumber:function(i){return i.times(i)},bigint:function(i){return i*i},Fraction:function(i){return i.mul(i)},Unit:function(i){return i.pow(2)}})}),DD="subtract",GQ=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],AD=ce(DD,GQ,t=>{var{typed:e,matrix:r,equalScalar:i,subtractScalar:n,unaryMinus:a,DenseMatrix:s,concat:o}=t,l=yc({typed:e}),u=Is({typed:e}),c=qg({typed:e,equalScalar:i}),h=Uh({typed:e,DenseMatrix:s}),p=Ba({typed:e,DenseMatrix:s}),d=dn({typed:e,matrix:r,concat:o});return e(DD,{"any, any":n},d({elop:n,SS:c,DS:l,SD:u,Ss:p,sS:h}))}),$D="xgcd",ZQ=["typed","config","matrix","BigNumber"],HQ=ce($D,ZQ,t=>{var{typed:e,config:r,matrix:i,BigNumber:n}=t;return e($D,{"number, number":function(o,l){var u=KN(o,l);return r.matrix==="Array"?u:i(u)},"BigNumber, BigNumber":a});function a(s,o){var l,u,c,h=new n(0),p=new n(1),d=h,m=p,f=p,v=h;if(!s.isInt()||!o.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!o.isZero();)u=s.div(o).floor(),c=s.mod(o),l=d,d=m.minus(u.times(d)),m=l,l=f,f=v.minus(u.times(f)),v=l,s=o,o=c;var y;return s.lt(h)?y=[s.neg(),m.neg(),v.neg()]:y=[s,s.isZero()?0:m,v],r.matrix==="Array"?y:i(y)}}),_D="invmod",WQ=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],YQ=ce(_D,WQ,t=>{var{typed:e,config:r,BigNumber:i,xgcd:n,equal:a,smaller:s,mod:o,add:l,isInteger:u}=t;return e(_D,{"number, number":c,"BigNumber, BigNumber":c});function c(h,p){if(!u(h)||!u(p))throw new Error("Parameters in function invmod must be integer numbers");if(h=o(h,p),a(p,0))throw new Error("Divisor must be non zero");var d=n(h,p);d=d.valueOf();var[m,f]=d;return a(m,i(1))?(f=o(f,p),s(f,i(0))&&(f=l(f,p)),f):NaN}}),KQ="matAlgo09xS0Sf",XQ=["typed","equalScalar"],ED=ce(KQ,XQ,t=>{var{typed:e,equalScalar:r}=t;return function(n,a,s){var o=n._values,l=n._index,u=n._ptr,c=n._size,h=n._datatype||n._data===void 0?n._datatype:n.getDataType(),p=a._values,d=a._index,m=a._ptr,f=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==f.length)throw new Wr(c.length,f.length);if(c[0]!==f[0]||c[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+f+")");var y=c[0],x=c[1],g,b=r,k=0,w=s;typeof h=="string"&&h===v&&h!=="mixed"&&(g=h,b=e.find(r,[g,g]),k=e.convert(0,g),w=e.find(s,[g,g]));var N=o&&p?[]:void 0,A=[],$=[],D=N?[]:void 0,_=[],T,z,P,q,L;for(z=0;z<x;z++){$[z]=A.length;var Z=z+1;if(D)for(q=m[z],L=m[z+1],P=q;P<L;P++)T=d[P],_[T]=Z,D[T]=p[P];for(q=u[z],L=u[z+1],P=q;P<L;P++)if(T=l[P],D){var W=_[T]===Z?D[T]:k,Y=w(o[P],W);b(Y,k)||(A.push(T),N.push(Y))}else A.push(T)}return $[x]=A.length,n.createSparseMatrix({values:N,index:A,ptr:$,size:[y,x],datatype:h===n._datatype&&v===a._datatype?g:void 0})}}),ID="dotMultiply",QQ=["typed","matrix","equalScalar","multiplyScalar","concat"],JQ=ce(ID,QQ,t=>{var{typed:e,matrix:r,equalScalar:i,multiplyScalar:n,concat:a}=t,s=Vl({typed:e,equalScalar:i}),o=ED({typed:e,equalScalar:i}),l=gs({typed:e,equalScalar:i}),u=dn({typed:e,matrix:r,concat:a});return e(ID,u({elop:n,SS:o,DS:s,Ss:l}))});function eJ(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new r(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t}return i6(t,e,function(i,n){return i&n})}function Tm(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,r=e.precision;e.config({precision:1e9});var i=t.plus(new e(1));return i.s=-i.s||null,e.config({precision:r}),i}function tJ(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);var i=new r(-1);return t.isZero()||e.eq(i)||t.eq(e)?e:e.isZero()||t.eq(i)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?i:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:i6(t,e,function(n,a){return n|a})}function i6(t,e,r){var i=t.constructor,n,a,s=+(t.s<0),o=+(e.s<0);if(s){n=Vg(Tm(t));for(var l=0;l<n.length;++l)n[l]^=1}else n=Vg(t);if(o){a=Vg(Tm(e));for(var u=0;u<a.length;++u)a[u]^=1}else a=Vg(e);var c,h,p;n.length<=a.length?(c=n,h=a,p=s):(c=a,h=n,p=o);var d=c.length,m=h.length,f=r(s,o)^1,v=new i(f^1),y=new i(1),x=new i(2),g=i.precision;for(i.config({precision:1e9});d>0;)r(c[--d],h[--m])===f&&(v=v.plus(y)),y=y.times(x);for(;m>0;)r(p,h[--m])===f&&(v=v.plus(y)),y=y.times(x);return i.config({precision:g}),f===0&&(v.s=-v.s),v}function Vg(t){for(var e=t.d,r=e[0]+"",i=1;i<e.length;++i){for(var n=e[i]+"",a=7-n.length;a--;)n="0"+n;r+=n}for(var s=r.length;r.charAt(s)==="0";)s--;var o=t.e,l=r.slice(0,s+1||1),u=l.length;if(o>0)if(++o>u)for(o-=u;o--;)l+="0";else o<u&&(l=l.slice(0,o)+"."+l.slice(o));for(var c=[0],h=0;h<l.length;){for(var p=c.length;p--;)c[p]*=10;c[0]+=parseInt(l.charAt(h++));for(var d=0;d<c.length;++d)c[d]>1&&((c[d+1]===null||c[d+1]===void 0)&&(c[d+1]=0),c[d+1]+=c[d]>>1,c[d]&=1)}return c.reverse()}function rJ(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new r(0);var i=new r(-1);return t.eq(i)?Tm(e):e.eq(i)?Tm(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?i:new r(t.isNegative()===e.isNegative()?1/0:-1/0):i6(t,e,function(n,a){return n^a})}function iJ(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new r(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new r(2).pow(e))}function nJ(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new r(2).pow(e)).floor():t.isNegative()?new r(-1):t.isFinite()?new r(0):new r(NaN)}var TD="bitAnd",aJ=["typed","matrix","equalScalar","concat"],LD=ce(TD,aJ,t=>{var{typed:e,matrix:r,equalScalar:i,concat:n}=t,a=Vl({typed:e,equalScalar:i}),s=Ug({typed:e,equalScalar:i}),o=gs({typed:e,equalScalar:i}),l=dn({typed:e,matrix:r,concat:n});return e(TD,{"number, number":QN,"BigNumber, BigNumber":eJ,"bigint, bigint":(u,c)=>u&c},l({SS:s,DS:a,Ss:o}))}),zD="bitNot",sJ=["typed"],oJ=ce(zD,sJ,t=>{var{typed:e}=t;return e(zD,{number:JN,BigNumber:Tm,bigint:r=>~r,"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r))})}),BD="bitOr",lJ=["typed","matrix","equalScalar","DenseMatrix","concat"],OD=ce(BD,lJ,t=>{var{typed:e,matrix:r,equalScalar:i,DenseMatrix:n,concat:a}=t,s=yc({typed:e}),o=e6({typed:e,equalScalar:i}),l=Uh({typed:e,DenseMatrix:n}),u=dn({typed:e,matrix:r,concat:a});return e(BD,{"number, number":eS,"BigNumber, BigNumber":tJ,"bigint, bigint":(c,h)=>c|h},u({SS:o,DS:s,Ss:l}))}),uJ="matAlgo07xSSf",cJ=["typed","SparseMatrix"],b0=ce(uJ,cJ,t=>{var{typed:e,SparseMatrix:r}=t;return function(a,s,o){var l=a._size,u=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=s._size,h=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(l.length!==c.length)throw new Wr(l.length,c.length);if(l[0]!==c[0]||l[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+c+")");var p=l[0],d=l[1],m,f=0,v=o;typeof u=="string"&&u===h&&u!=="mixed"&&(m=u,f=e.convert(0,m),v=e.find(o,[m,m]));for(var y=[],x=[],g=new Array(d+1).fill(0),b=[],k=[],w=[],N=[],A=0;A<d;A++){var $=A+1,D=0;i(a,A,w,b,$),i(s,A,N,k,$);for(var _=0;_<p;_++){var T=w[_]===$?b[_]:f,z=N[_]===$?k[_]:f,P=v(T,z);P!==0&&P!==!1&&(x.push(_),y.push(P),D++)}g[A+1]=g[A]+D}return new r({values:y,index:x,ptr:g,size:[p,d],datatype:u===a._datatype&&h===s._datatype?m:void 0})};function i(n,a,s,o,l){for(var u=n._values,c=n._index,h=n._ptr,p=h[a],d=h[a+1];p<d;p++){var m=c[p];s[m]=l,o[m]=u[p]}}}),FD="bitXor",hJ=["typed","matrix","DenseMatrix","concat","SparseMatrix"],pJ=ce(FD,hJ,t=>{var{typed:e,matrix:r,DenseMatrix:i,concat:n,SparseMatrix:a}=t,s=Is({typed:e}),o=b0({typed:e,SparseMatrix:a}),l=Ba({typed:e,DenseMatrix:i}),u=dn({typed:e,matrix:r,concat:n});return e(FD,{"number, number":tS,"BigNumber, BigNumber":rJ,"bigint, bigint":(c,h)=>c^h},u({SS:o,DS:s,Ss:l}))}),PD="arg",dJ=["typed"],mJ=ce(PD,dJ,t=>{var{typed:e}=t;return e(PD,{number:function(i){return Math.atan2(0,i)},BigNumber:function(i){return i.constructor.atan2(0,i)},Complex:function(i){return i.arg()},"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r))})}),RD="conj",fJ=["typed"],jD=ce(RD,fJ,t=>{var{typed:e}=t;return e(RD,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),Unit:e.referToSelf(r=>i=>new i.constructor(r(i.toNumeric()),i.formatUnits())),"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r))})}),qD="im",gJ=["typed"],vJ=ce(qD,gJ,t=>{var{typed:e}=t;return e(qD,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r))})}),UD="re",yJ=["typed"],bJ=ce(UD,yJ,t=>{var{typed:e}=t;return e(UD,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r))})}),VD="not",xJ=["typed"],wJ=ce(VD,xJ,t=>{var{typed:e}=t;return e(VD,{"null | undefined":()=>!0,number:sS,Complex:function(i){return i.re===0&&i.im===0},BigNumber:function(i){return i.isZero()||i.isNaN()},bigint:r=>!r,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r))})}),GD="nullish",MJ=["typed","matrix","size","flatten","deepEqual"],ZD=ce(GD,MJ,t=>{var{typed:e,matrix:r,size:i,flatten:n,deepEqual:a}=t,s=Is({typed:e}),o=pl({typed:e}),l=dD({typed:e});return e(GD,{"number|bigint|Complex|BigNumber|Fraction|Unit|string|boolean|SparseMatrix, any":(u,c)=>u,"null, any":(u,c)=>c,"undefined, any":(u,c)=>c,"SparseMatrix, Array | Matrix":(u,c)=>{var h=n(i(u).valueOf()),p=n(i(c).valueOf());if(a(h,p))return u;throw new Wr(h,p)},"DenseMatrix, DenseMatrix":e.referToSelf(u=>(c,h)=>l(c,h,u)),"DenseMatrix, SparseMatrix":e.referToSelf(u=>(c,h)=>s(c,h,u,!1)),"DenseMatrix, Array":e.referToSelf(u=>(c,h)=>l(c,r(h),u)),"DenseMatrix, any":e.referToSelf(u=>(c,h)=>o(c,h,u,!1)),"Array, Array":e.referToSelf(u=>(c,h)=>l(r(c),r(h),u).valueOf()),"Array, DenseMatrix":e.referToSelf(u=>(c,h)=>l(r(c),h,u)),"Array, SparseMatrix":e.referToSelf(u=>(c,h)=>s(r(c),h,u,!1)),"Array, any":e.referToSelf(u=>(c,h)=>o(r(c),h,u,!1).valueOf())})}),HD="or",kJ=["typed","matrix","equalScalar","DenseMatrix","concat"],WD=ce(HD,kJ,t=>{var{typed:e,matrix:r,equalScalar:i,DenseMatrix:n,concat:a}=t,s=Is({typed:e}),o=qg({typed:e,equalScalar:i}),l=Ba({typed:e,DenseMatrix:n}),u=dn({typed:e,matrix:r,concat:a});return e(HD,{"number, number":Gb,"Complex, Complex":function(h,p){return h.re!==0||h.im!==0||p.re!==0||p.im!==0},"BigNumber, BigNumber":function(h,p){return!h.isZero()&&!h.isNaN()||!p.isZero()&&!p.isNaN()},"bigint, bigint":Gb,"Unit, Unit":e.referToSelf(c=>(h,p)=>c(h.value||0,p.value||0))},u({SS:o,DS:s,Ss:l}))}),YD="xor",CJ=["typed","matrix","DenseMatrix","concat","SparseMatrix"],NJ=ce(YD,CJ,t=>{var{typed:e,matrix:r,DenseMatrix:i,concat:n,SparseMatrix:a}=t,s=Is({typed:e}),o=b0({typed:e,SparseMatrix:a}),l=Ba({typed:e,DenseMatrix:i}),u=dn({typed:e,matrix:r,concat:n});return e(YD,{"number, number":Zb,"Complex, Complex":function(h,p){return(h.re!==0||h.im!==0)!=(p.re!==0||p.im!==0)},"bigint, bigint":Zb,"BigNumber, BigNumber":function(h,p){return(!h.isZero()&&!h.isNaN())!=(!p.isZero()&&!p.isNaN())},"Unit, Unit":e.referToSelf(c=>(h,p)=>c(h.value||0,p.value||0))},u({SS:o,DS:s,Ss:l}))}),KD="concat",SJ=["typed","matrix","isInteger"],n6=ce(KD,SJ,t=>{var{typed:e,matrix:r,isInteger:i}=t;return e(KD,{"...Array | Matrix | number | BigNumber":function(a){var s,o=a.length,l=-1,u,c=!1,h=[];for(s=0;s<o;s++){var p=a[s];if(hr(p)&&(c=!0),Rr(p)||Or(p)){if(s!==o-1)throw new Error("Dimension must be specified as last argument");if(u=l,l=p.valueOf(),!i(l))throw new TypeError("Integer number expected for dimension");if(l<0||s>0&&l>u)throw new cl(l,u+1)}else{var d=kr(p).valueOf(),m=Tr(d);if(h[s]=d,u=l,l=m.length-1,s>0&&l!==u)throw new Wr(u+1,l+1)}}if(h.length===0)throw new SyntaxError("At least one matrix expected");for(var f=h.shift();h.length;)f=DN(f,h.shift(),l);return c?r(f):f},"...string":function(a){return a.join("")}})}),XD="column",DJ=["typed","Index","matrix","range"],QD=ce(XD,DJ,t=>{var{typed:e,Index:r,matrix:i,range:n}=t;return e(XD,{"Matrix, number":a,"Array, number":function(o,l){return a(i(kr(o)),l).valueOf()}});function a(s,o){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");pn(o,s.size()[1]);var l=n(0,s.size()[0]),u=new r(l,o),c=s.subset(u);return hr(c)?c:i([[c]])}}),JD="count",AJ=["typed","size","prod"],$J=ce(JD,AJ,t=>{var{typed:e,size:r,prod:i}=t;return e(JD,{string:function(a){return a.length},"Matrix | Array":function(a){return i(r(a))}})}),eA="cross",_J=["typed","matrix","subtract","multiply"],EJ=ce(eA,_J,t=>{var{typed:e,matrix:r,subtract:i,multiply:n}=t;return e(eA,{"Matrix, Matrix":function(o,l){return r(a(o.toArray(),l.toArray()))},"Matrix, Array":function(o,l){return r(a(o.toArray(),l))},"Array, Matrix":function(o,l){return r(a(o,l.toArray()))},"Array, Array":a});function a(s,o){var l=Math.max(Tr(s).length,Tr(o).length);s=_g(s),o=_g(o);var u=Tr(s),c=Tr(o);if(u.length!==1||c.length!==1||u[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+c.join(", ")+"])");var h=[i(n(s[1],o[2]),n(s[2],o[1])),i(n(s[2],o[0]),n(s[0],o[2])),i(n(s[0],o[1]),n(s[1],o[0]))];return l>1?[h]:h}}),tA="diag",IJ=["typed","matrix","DenseMatrix","SparseMatrix"],TJ=ce(tA,IJ,t=>{var{typed:e,matrix:r,DenseMatrix:i,SparseMatrix:n}=t;return e(tA,{Array:function(u){return a(u,0,Tr(u),null)},"Array, number":function(u,c){return a(u,c,Tr(u),null)},"Array, BigNumber":function(u,c){return a(u,c.toNumber(),Tr(u),null)},"Array, string":function(u,c){return a(u,0,Tr(u),c)},"Array, number, string":function(u,c,h){return a(u,c,Tr(u),h)},"Array, BigNumber, string":function(u,c,h){return a(u,c.toNumber(),Tr(u),h)},Matrix:function(u){return a(u,0,u.size(),u.storage())},"Matrix, number":function(u,c){return a(u,c,u.size(),u.storage())},"Matrix, BigNumber":function(u,c){return a(u,c.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,c){return a(u,0,u.size(),c)},"Matrix, number, string":function(u,c,h){return a(u,c,u.size(),h)},"Matrix, BigNumber, string":function(u,c,h){return a(u,c.toNumber(),u.size(),h)}});function a(l,u,c,h){if(!rr(u))throw new TypeError("Second parameter in function diag must be an integer");var p=u>0?u:0,d=u<0?-u:0;switch(c.length){case 1:return s(l,u,h,c[0],d,p);case 2:return o(l,u,h,c,d,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function s(l,u,c,h,p,d){var m=[h+p,h+d];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var f=c==="sparse"?n.diagonal(m,l,u):i.diagonal(m,l,u);return c!==null?f:f.valueOf()}function o(l,u,c,h,p,d){if(hr(l)){var m=l.diagonal(u);return c!==null?c!==m.storage()?r(m,c):m:m.valueOf()}for(var f=Math.min(h[0]-p,h[1]-d),v=[],y=0;y<f;y++)v[y]=l[y+p][y+d];return c!==null?r(v):v}}),LJ="filter",zJ=["typed"],rA=ce(LJ,zJ,t=>{var{typed:e}=t;return e("filter",{"Array, function":iA,"Matrix, function":function(i,n){return i.create(iA(i.valueOf(),n),i.datatype())},"Array, RegExp":CN,"Matrix, RegExp":function(i,n){return i.create(CN(i.valueOf(),n),i.datatype())}})});function iA(t,e){var r=qh(e,t,"filter");return r.isUnary?kN(t,r.fn):kN(t,function(i,n,a){return r.fn(i,[n],a)})}var nA="flatten",BJ=["typed"],OJ=ce(nA,BJ,t=>{var{typed:e}=t;return e(nA,{Array:function(i){return Ci(i)},Matrix:function(i){return i.create(Ci(i.valueOf(),!0),i.datatype())}})}),a6="forEach",FJ=["typed"],aA=ce(a6,FJ,t=>{var{typed:e}=t;return e(a6,{"Array, function":PJ,"Matrix, function":function(i,n){i.forEach(n)}})});function PJ(t,e){var r=qh(e,t,a6);$N(t,r.fn,r.isUnary)}var sA="getMatrixDataType",RJ=["typed"],oA=ce(sA,RJ,t=>{var{typed:e}=t;return e(sA,{Array:function(i){return Ig(i,an)},Matrix:function(i){return i.getDataType()}})}),lA="identity",jJ=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],uA=ce(lA,jJ,t=>{var{typed:e,config:r,matrix:i,BigNumber:n,DenseMatrix:a,SparseMatrix:s}=t;return e(lA,{"":function(){return r.matrix==="Matrix"?i([]):[]},string:function(c){return i(c)},"number | BigNumber":function(c){return l(c,c,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,h){return l(c,c,h)},"number | BigNumber, number | BigNumber":function(c,h){return l(c,h,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,h,p){return l(c,h,p)},Array:function(c){return o(c)},"Array, string":function(c,h){return o(c,h)},Matrix:function(c){return o(c.valueOf(),c.storage())},"Matrix, string":function(c,h){return o(c.valueOf(),h)}});function o(u,c){switch(u.length){case 0:return c?i(c):[];case 1:return l(u[0],u[0],c);case 2:return l(u[0],u[1],c);default:throw new Error("Vector containing two values expected")}}function l(u,c,h){var p=Or(u)||Or(c)?n:null;if(Or(u)&&(u=u.toNumber()),Or(c)&&(c=c.toNumber()),!rr(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!rr(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var d=p?new n(1):1,m=p?new p(0):0,f=[u,c];if(h){if(h==="sparse")return s.diagonal(f,d,0,m);if(h==="dense")return a.diagonal(f,d,0,m);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var v=bp([],f,m),y=u<c?u:c,x=0;x<y;x++)v[x][x]=d;return v}}),cA="kron",qJ=["typed","matrix","multiplyScalar"],UJ=ce(cA,qJ,t=>{var{typed:e,matrix:r,multiplyScalar:i}=t;return e(cA,{"Matrix, Matrix":function(s,o){return r(n(s.toArray(),o.toArray()))},"Matrix, Array":function(s,o){return r(n(s.toArray(),o))},"Array, Matrix":function(s,o){return r(n(s,o.toArray()))},"Array, Array":n});function n(a,s){if(Tr(a).length===1&&(a=[a]),Tr(s).length===1&&(s=[s]),Tr(a).length>2||Tr(s).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(s.length)+")");var o=[],l=[];return a.map(function(u){return s.map(function(c){return l=[],o.push(l),u.map(function(h){return c.map(function(p){return l.push(i(h,p))})})})})&&o}}),s6="map",VJ=["typed"],hA=ce(s6,VJ,t=>{var{typed:e}=t;return e(s6,{"Array, function":o,"Matrix, function":function(u,c){return u.map(c)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(l,u,c)=>r([l,u,...c.slice(0,c.length-1)],c[c.length-1])});function r(l,u){if(typeof u!="function")throw new Error("Last argument must be a callback function");var c=l[0].isMatrix,h=l.map(k=>k.isMatrix?k.size():Tr(k)),p=Tg(...h),d=l.length,m=c?(k,w)=>k.get(w):Lg,f=l.map((k,w)=>{var N=h[w].map(()=>0);return k.isMatrix?k.get(N):Lg(k,N)}),v=e.isTypedFunction(u)?s(u,f,p.map(()=>0),l):a(u,d);if(v<2){var y=n(v,u,null);return i(l,y)}var x=c?l.map(k=>k.isMatrix?k.create(jh(k.toArray(),p),k.datatype()):l[0].create(jh(k.valueOf(),p))):l.map(k=>k.isMatrix?jh(k.toArray(),p):jh(k,p)),g=n(v,u,x),b=(k,w)=>g([k,...x.slice(1).map(N=>m(N,w))],w);return c?x[0].map(b):o(x[0],b)}function i(l,u){var c=l[0],h=l.map(k=>k.isMatrix?k.valueOf():k),p=l.map(k=>k.isMatrix?k.size():Tr(k)),d=Tg(...p),m=p.map(k=>d.length-k.length),f=d.length-1,v=u.length>1,y=v?[]:null,x=b(h,0);if(c.isMatrix){var g=c.create();return g._data=x,g._size=d,g}else return x;function b(k){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=d[w],A=Array(N);if(w<f)for(var $=function(P){y&&(y[w]=P),A[P]=b(k.map((q,L)=>m[L]>w?q:q.length===1?q[0]:q[P]),w+1)},D=0;D<N;D++)$(D);else for(var _=function(P){y&&(y[w]=P),A[P]=u(k.map(q=>q.length===1?q[0]:q[P]),y?y.slice():void 0)},T=0;T<N;T++)_(T);return A}}function n(l,u,c){switch(l){case 0:return h=>u(...h);case 1:return(h,p)=>u(...h,p);case 2:return(h,p)=>u(...h,p,...c)}}function a(l,u){var c=l.toString();if(/arguments/.test(c))return 2;var h=c.match(/\(.*?\)/);return/\.\.\./.test(h)||l.length>u+1?2:l.length===u+1?1:0}function s(l,u,c,h){return e.resolve(l,[...u,c,...h])!==null?2:e.resolve(l,[...u,c])!==null?1:(e.resolve(l,u)!==null,0)}function o(l,u){var c=qh(u,l,s6);return jb(l,c.fn,c.isUnary)}}),pA="diff",GJ=["typed","matrix","subtract","number"],dA=ce(pA,GJ,t=>{var{typed:e,matrix:r,subtract:i,number:n}=t;return e(pA,{"Array | Matrix":function(c){return hr(c)?r(s(c.toArray())):s(c)},"Array | Matrix, number":function(c,h){if(!rr(h))throw new RangeError("Dimension must be a whole number");return hr(c)?r(a(c.toArray(),h)):a(c,h)},"Array, BigNumber":e.referTo("Array,number",u=>(c,h)=>u(c,n(h))),"Matrix, BigNumber":e.referTo("Matrix,number",u=>(c,h)=>u(c,n(h)))});function a(u,c){if(hr(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var h=[];return u.forEach(p=>{h.push(a(p,c-1))}),h}else{if(c===0)return s(u);throw RangeError("Cannot have negative dimension")}}function s(u){for(var c=[],h=u.length,p=1;p<h;p++)c.push(o(u[p-1],u[p]));return c}function o(u,c){hr(u)&&(u=u.toArray()),hr(c)&&(c=c.toArray());var h=Array.isArray(u),p=Array.isArray(c);if(h&&p)return l(u,c);if(!h&&!p)return i(c,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(u,c){if(u.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var h=[],p=u.length,d=0;d<p;d++)h.push(o(u[d],c[d]));return h}}),ZJ="ones",HJ=["typed","config","matrix","BigNumber"],WJ=ce(ZJ,HJ,t=>{var{typed:e,config:r,matrix:i,BigNumber:n}=t;return e("ones",{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var h=u.pop();return a(u,h)}else return r.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(l,u){var c=s(l),h=c?new n(1):1;if(o(l),u){var p=i(u);return l.length>0?p.resize(l,h):p}else{var d=[];return l.length>0?bp(d,l,h):d}}function s(l){var u=!1;return l.forEach(function(c,h,p){Or(c)&&(u=!0,p[h]=c.toNumber())}),u}function o(l){l.forEach(function(u){if(typeof u!="number"||!rr(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}});function o6(){throw new Error('No "bignumber" implementation available')}function mA(){throw new Error('No "fraction" implementation available')}function fA(){throw new Error('No "matrix" implementation available')}var gA="range",YJ=["typed","config","?matrix","?bignumber","equal","smaller","smallerEq","larger","largerEq","add","isZero","isPositive"],vA=ce(gA,YJ,t=>{var{typed:e,config:r,matrix:i,bignumber:n,smaller:a,smallerEq:s,larger:o,largerEq:l,add:u,isZero:c,isPositive:h}=t;return e(gA,{string:d,"string, boolean":d,number:function(y){throw new TypeError("Too few arguments to function range(): ".concat(y))},boolean:function(y){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(y,", number|bigint|BigNumber|Fraction"))},"number, number":function(y,x){return p(m(y,x,1,!1))},"number, number, number":function(y,x,g){return p(m(y,x,g,!1))},"number, number, boolean":function(y,x,g){return p(m(y,x,1,g))},"number, number, number, boolean":function(y,x,g,b){return p(m(y,x,g,b))},"bigint, bigint|number":function(y,x){return p(m(y,x,1n,!1))},"number, bigint":function(y,x){return p(m(BigInt(y),x,1n,!1))},"bigint, bigint|number, bigint|number":function(y,x,g){return p(m(y,x,BigInt(g),!1))},"number, bigint, bigint|number":function(y,x,g){return p(m(BigInt(y),x,BigInt(g),!1))},"bigint, bigint|number, boolean":function(y,x,g){return p(m(y,x,1n,g))},"number, bigint, boolean":function(y,x,g){return p(m(BigInt(y),x,1n,g))},"bigint, bigint|number, bigint|number, boolean":function(y,x,g,b){return p(m(y,x,BigInt(g),b))},"number, bigint, bigint|number, boolean":function(y,x,g,b){return p(m(BigInt(y),x,BigInt(g),b))},"BigNumber, BigNumber":function(y,x){var g=y.constructor;return p(m(y,x,new g(1),!1))},"BigNumber, BigNumber, BigNumber":function(y,x,g){return p(m(y,x,g,!1))},"BigNumber, BigNumber, boolean":function(y,x,g){var b=y.constructor;return p(m(y,x,new b(1),g))},"BigNumber, BigNumber, BigNumber, boolean":function(y,x,g,b){return p(m(y,x,g,b))},"Fraction, Fraction":function(y,x){return p(m(y,x,1,!1))},"Fraction, Fraction, Fraction":function(y,x,g){return p(m(y,x,g,!1))},"Fraction, Fraction, boolean":function(y,x,g){return p(m(y,x,1,g))},"Fraction, Fraction, Fraction, boolean":function(y,x,g,b){return p(m(y,x,g,b))},"Unit, Unit, Unit":function(y,x,g){return p(m(y,x,g,!1))},"Unit, Unit, Unit, boolean":function(y,x,g,b){return p(m(y,x,g,b))}});function p(v){return r.matrix==="Matrix"?i?i(v):fA():v}function d(v,y){var x=f(v);if(!x)throw new SyntaxError('String "'+v+'" is no valid range');return r.number==="BigNumber"?(n===void 0&&o6(),p(m(n(x.start),n(x.end),n(x.step)))):p(m(x.start,x.end,x.step,y))}function m(v,y,x,g){var b=[];if(c(x))throw new Error("Step must be non-zero");for(var k=h(x)?g?s:a:g?l:o,w=v;k(w,y);)b.push(w),w=u(w,x);return b}function f(v){var y=v.split(":"),x=y.map(function(b){return Number(b)}),g=x.some(function(b){return isNaN(b)});if(g)return null;switch(x.length){case 2:return{start:x[0],end:x[1],step:1};case 3:return{start:x[0],end:x[2],step:x[1]};default:return null}}}),yA="reshape",KJ=["typed","isInteger","matrix"],XJ=ce(yA,KJ,t=>{var{typed:e,isInteger:r}=t;return e(yA,{"Matrix, Array":function(n,a){return n.reshape(a,!0)},"Array, Array":function(n,a){return a.forEach(function(s){if(!r(s))throw new TypeError("Invalid size for dimension: "+s)}),Pb(n,a)}})}),QJ="resize",JJ=["config","matrix"],eee=ce(QJ,JJ,t=>{var{config:e,matrix:r}=t;return function(a,s,o){if(arguments.length!==2&&arguments.length!==3)throw new pu("resize",arguments.length,2,3);if(hr(s)&&(s=s.valueOf()),Or(s[0])&&(s=s.map(function(c){return Or(c)?c.toNumber():c})),hr(a))return a.resize(s,o,!0);if(typeof a=="string")return i(a,s,o);var l=Array.isArray(a)?!1:e.matrix!=="Array";if(s.length===0){for(;Array.isArray(a);)a=a[0];return kr(a)}else{Array.isArray(a)||(a=[a]),a=kr(a);var u=bp(a,s,o);return l?r(u):u}};function i(n,a,s){if(s!==void 0){if(typeof s!="string"||s.length!==1)throw new TypeError("Single character expected as defaultValue")}else s=" ";if(a.length!==1)throw new Wr(a.length,1);var o=a[0];if(typeof o!="number"||!rr(o))throw new TypeError("Invalid size, must contain positive integers (size: "+ei(a)+")");if(n.length>o)return n.substring(0,o);if(n.length<o){for(var l=n,u=0,c=o-n.length;u<c;u++)l+=s;return l}else return n}}),bA="rotate",tee=["typed","multiply","rotationMatrix"],ree=ce(bA,tee,t=>{var{typed:e,multiply:r,rotationMatrix:i}=t;return e(bA,{"Array , number | BigNumber | Complex | Unit":function(s,o){n(s,2);var l=r(i(o),s);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(s,o){return n(s,2),r(i(o),s)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(s,o,l){n(s,3);var u=r(i(o,l),s);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(s,o,l){return n(s,3),r(i(o,l),s)}});function n(a,s){var o=Array.isArray(a)?Tr(a):a.size();if(o.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(o.length===2&&o[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(o[0]!==s)throw new RangeError("Vector must be of dimensions 1x".concat(s))}}),xA="rotationMatrix",iee=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],nee=ce(xA,iee,t=>{var{typed:e,config:r,multiplyScalar:i,addScalar:n,unaryMinus:a,norm:s,BigNumber:o,matrix:l,DenseMatrix:u,SparseMatrix:c,cos:h,sin:p}=t;return e(xA,{"":function(){return r.matrix==="Matrix"?l([]):[]},string:function(g){return l(g)},"number | BigNumber | Complex | Unit":function(g){return d(g,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(g,b){return d(g,b)},"number | BigNumber | Complex | Unit, Array":function(g,b){var k=l(b);return m(k),y(g,k,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(g,b){m(b);var k=b.storage()||(r.matrix==="Matrix"?"dense":void 0);return y(g,b,k)},"number | BigNumber | Complex | Unit, Array, string":function(g,b,k){var w=l(b);return m(w),y(g,w,k)},"number | BigNumber | Complex | Unit, Matrix, string":function(g,b,k){return m(b),y(g,b,k)}});function d(x,g){var b=Or(x),k=b?new o(-1):-1,w=h(x),N=p(x),A=[[w,i(k,N)],[N,w]];return v(A,g)}function m(x){var g=x.size();if(g.length<1||g[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function f(x){return x.reduce((g,b)=>i(g,b))}function v(x,g){if(g){if(g==="sparse")return new c(x);if(g==="dense")return new u(x);throw new TypeError('Unknown matrix type "'.concat(g,'"'))}return x}function y(x,g,b){var k=s(g);if(k===0)throw new RangeError("Rotation around zero vector");var w=Or(x)?o:null,N=w?new w(1):1,A=w?new w(-1):-1,$=w?new w(g.get([0])/k):g.get([0])/k,D=w?new w(g.get([1])/k):g.get([1])/k,_=w?new w(g.get([2])/k):g.get([2])/k,T=h(x),z=n(N,a(T)),P=p(x),q=n(T,f([$,$,z])),L=n(f([$,D,z]),f([A,_,P])),Z=n(f([$,_,z]),f([D,P])),W=n(f([$,D,z]),f([_,P])),Y=n(T,f([D,D,z])),ie=n(f([D,_,z]),f([A,$,P])),re=n(f([$,_,z]),f([A,D,P])),R=n(f([D,_,z]),f([$,P])),X=n(T,f([_,_,z])),E=[[q,L,Z],[W,Y,ie],[re,R,X]];return v(E,b)}}),wA="row",aee=["typed","Index","matrix","range"],MA=ce(wA,aee,t=>{var{typed:e,Index:r,matrix:i,range:n}=t;return e(wA,{"Matrix, number":a,"Array, number":function(o,l){return a(i(kr(o)),l).valueOf()}});function a(s,o){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");pn(o,s.size()[0]);var l=n(0,s.size()[1]),u=new r(o,l),c=s.subset(u);return hr(c)?c:i([[c]])}}),kA="size",see=["typed","config","?matrix"],CA=ce(kA,see,t=>{var{typed:e,config:r,matrix:i}=t;return e(kA,{Matrix:function(a){return a.create(a.size(),"number")},Array:Tr,string:function(a){return r.matrix==="Array"?[a.length]:i([a.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:i?i([],"dense","number"):fA()}})}),NA="squeeze",oee=["typed"],lee=ce(NA,oee,t=>{var{typed:e}=t;return e(NA,{Array:function(i){return _g(kr(i))},Matrix:function(i){var n=_g(i.toArray());return Array.isArray(n)?i.create(n,i.datatype()):n},any:function(i){return kr(i)}})}),SA="subset",uee=["typed","matrix","zeros","add"],l6=ce(SA,uee,t=>{var{typed:e,matrix:r,zeros:i,add:n}=t;return e(SA,{"Matrix, Index":function(o,l){return yp(l)?r():($g(o,l),o.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(s){return function(o,l){var u=s(r(o),l);return l.isScalar()?u:u.valueOf()}}),"Object, Index":hee,"string, Index":cee,"Matrix, Index, any, any":function(o,l,u,c){return yp(l)?o:($g(o,l),o.clone().subset(l,a(u,l),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(s){return function(o,l,u,c){var h=s(r(o),l,u,c);return h.isMatrix?h.valueOf():h}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(o,l,u){return s(r(o),l,u,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(o,l,u){return s(o,l,u,void 0)}}),"string, Index, string":DA,"string, Index, string, string":DA,"Object, Index, any":pee});function a(s,o){if(typeof s=="string")throw new Error("can't boradcast a string");if(o._isScalar)return s;var l=o.size();if(l.every(u=>u>0))try{return n(s,i(l))}catch{return s}else return s}});function cee(t,e){if(!Cm(e))throw new TypeError("Index expected");if(yp(e))return"";if($g(Array.from(t),e),e.size().length!==1)throw new Wr(e.size().length,1);var r=t.length;pn(e.min()[0],r),pn(e.max()[0],r);var i=e.dimension(0),n="";return i.forEach(function(a){n+=t.charAt(a)}),n}function DA(t,e,r,i){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(yp(e))return t;if($g(Array.from(t),e),e.size().length!==1)throw new Wr(e.size().length,1);if(i!==void 0){if(typeof i!="string"||i.length!==1)throw new TypeError("Single character expected as defaultValue")}else i=" ";var n=e.dimension(0),a=n.size()[0];if(a!==r.length)throw new Wr(n.size()[0],r.length);var s=t.length;pn(e.min()[0]),pn(e.max()[0]);for(var o=[],l=0;l<s;l++)o[l]=t.charAt(l);if(n.forEach(function(h,p){o[h]=r.charAt(p[0])}),o.length>s)for(var u=s-1,c=o.length;u<c;u++)o[u]||(o[u]=i);return o.join("")}function hee(t,e){if(!yp(e)){if(e.size().length!==1)throw new Wr(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return Ys(t,r)}}function pee(t,e,r){if(yp(e))return t;if(e.size().length!==1)throw new Wr(e.size(),1);var i=e.dimension(0);if(typeof i!="string")throw new TypeError("String expected as index to retrieve an object property");var n=kr(t);return sp(n,i,r),n}var AA="transpose",dee=["typed","matrix"],$A=ce(AA,dee,t=>{var{typed:e,matrix:r}=t;return e(AA,{Array:s=>i(r(s)).valueOf(),Matrix:i,any:kr});function i(s){var o=s.size(),l;switch(o.length){case 1:l=s.clone();break;case 2:{var u=o[0],c=o[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+ei(o)+")");switch(s.storage()){case"dense":l=n(s,u,c);break;case"sparse":l=a(s,u,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+ei(o)+")")}return l}function n(s,o,l){for(var u=s._data,c=[],h,p=0;p<l;p++){h=c[p]=[];for(var d=0;d<o;d++)h[d]=kr(u[d][p])}return s.createDenseMatrix({data:c,size:[l,o],datatype:s._datatype})}function a(s,o,l){for(var u=s._values,c=s._index,h=s._ptr,p=u?[]:void 0,d=[],m=[],f=[],v=0;v<o;v++)f[v]=0;var y,x,g;for(y=0,x=c.length;y<x;y++)f[c[y]]++;for(var b=0,k=0;k<o;k++)m.push(b),b+=f[k],f[k]=m[k];for(m.push(b),g=0;g<l;g++)for(var w=h[g],N=h[g+1],A=w;A<N;A++){var $=f[c[A]]++;d[$]=g,u&&(p[$]=kr(u[A]))}return s.createSparseMatrix({values:p,index:d,ptr:m,size:[l,o],datatype:s._datatype})}}),_A="ctranspose",mee=["typed","transpose","conj"],fee=ce(_A,mee,t=>{var{typed:e,transpose:r,conj:i}=t;return e(_A,{any:function(a){return i(r(a))}})}),EA="zeros",gee=["typed","config","matrix","BigNumber"],IA=ce(EA,gee,t=>{var{typed:e,config:r,matrix:i,BigNumber:n}=t;return e(EA,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var h=u.pop();return a(u,h)}else return r.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(l,u){var c=s(l),h=c?new n(0):0;if(o(l),u){var p=i(u);return l.length>0?p.resize(l,h):p}else{var d=[];return l.length>0?bp(d,l,h):d}}function s(l){var u=!1;return l.forEach(function(c,h,p){Or(c)&&(u=!0,p[h]=c.toNumber())}),u}function o(l){l.forEach(function(u){if(typeof u!="number"||!rr(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}}),TA="fft",vee=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],yee=ce(TA,vee,t=>{var{typed:e,matrix:r,addScalar:i,multiplyScalar:n,divideScalar:a,exp:s,tau:o,i:l,dotDivide:u,conj:c,pow:h,ceil:p,log2:d}=t;return e(TA,{Array:m,Matrix:function(g){return g.create(m(g.valueOf()),g.datatype())}});function m(x){var g=Tr(x);return g.length===1?y(x,g[0]):f(x.map(b=>m(b,g.slice(1))),0)}function f(x,g){var b=Tr(x);if(g!==0)return new Array(b[0]).fill(0).map((w,N)=>f(x[N],g-1));if(b.length===1)return y(x);function k(w){var N=Tr(w);return new Array(N[1]).fill(0).map((A,$)=>new Array(N[0]).fill(0).map((D,_)=>w[_][$]))}return k(f(k(x),1))}function v(x){for(var g=x.length,b=s(a(n(-1,n(l,o)),g)),k=[],w=1-g;w<g;w++)k.push(h(b,a(h(w,2),2)));for(var N=h(2,p(d(g+g-1))),A=[...new Array(g).fill(0).map((L,Z)=>n(x[Z],k[g-1+Z])),...new Array(N-g).fill(0)],$=[...new Array(g+g-1).fill(0).map((L,Z)=>a(1,k[Z])),...new Array(N-(g+g-1)).fill(0)],D=y(A),_=y($),T=new Array(N).fill(0).map((L,Z)=>n(D[Z],_[Z])),z=u(c(m(c(T))),N),P=[],q=g-1;q<g+g-1;q++)P.push(n(z[q],k[q]));return P}function y(x){var g=x.length;if(g===1)return[x[0]];if(g%2===0){for(var b=[...y(x.filter((A,$)=>$%2===0)),...y(x.filter((A,$)=>$%2===1))],k=0;k<g/2;k++){var w=b[k],N=n(b[k+g/2],s(n(n(o,l),a(-k,g))));b[k]=i(w,N),b[k+g/2]=i(w,n(-1,N))}return b}else return v(x)}}),LA="ifft",bee=["typed","fft","dotDivide","conj"],xee=ce(LA,bee,t=>{var{typed:e,fft:r,dotDivide:i,conj:n}=t;return e(LA,{"Array | Matrix":function(s){var o=hr(s)?s.size():Tr(s);return i(n(r(n(s))),o.reduce((l,u)=>l*u,1))}})});function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function wee(t,e){if(Lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Lm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mee(t){var e=wee(t,"string");return Lm(e)=="symbol"?e:e+""}function Da(t,e,r){return(e=Mee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function kee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zA(Object(r),!0).forEach(function(i){Da(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var Cee="solveODE",Nee=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],See=ce(Cee,Nee,t=>{var{typed:e,add:r,subtract:i,multiply:n,divide:a,max:s,map:o,abs:l,isPositive:u,isNegative:c,larger:h,smaller:p,matrix:d,bignumber:m,unaryMinus:f}=t;function v(A){return function($,D,_,T){var z=!(D.length===2&&(D.every(w)||D.every(Ks)));if(z)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var P=D[0],q=D[1],L=h(q,P),Z=T.firstStep;if(Z!==void 0&&!u(Z))throw new Error('"firstStep" must be positive');var W=T.maxStep;if(W!==void 0&&!u(W))throw new Error('"maxStep" must be positive');var Y=T.minStep;if(Y&&c(Y))throw new Error('"minStep" must be positive or zero');var ie=[P,q,Z,Y,W].filter(te=>te!==void 0);if(!(ie.every(w)||ie.every(Ks)))throw new Error('Inconsistent type of "t" dependant variables');for(var re=1,R=T.tol?T.tol:1e-4,X=T.minDelta?T.minDelta:.2,E=T.maxDelta?T.maxDelta:5,oe=T.maxIter?T.maxIter:1e4,le=[P,q,..._,W,Y].some(Or),[ne,H,ue,ae]=le?[m(A.a),m(A.c),m(A.b),m(A.bp)]:[A.a,A.c,A.b,A.bp],$e=Z?L?Z:f(Z):a(i(q,P),re),Ne=[P],ze=[_],Te=i(ue,ae),Qe=0,nt=0,rt=b(L),Ue=k(L);rt(Ne[Qe],q);){var lt=[];$e=Ue(Ne[Qe],q,$e),lt.push($(Ne[Qe],ze[Qe]));for(var J=1;J<H.length;++J)lt.push($(r(Ne[Qe],n(H[J],$e)),r(ze[Qe],n($e,ne[J],lt))));var me=s(l(o(n(Te,lt),te=>Ks(te)?te.value:te)));me<R&&R/me>1/4&&(Ne.push(r(Ne[Qe],$e)),ze.push(r(ze[Qe],n($e,ue,lt))),Qe++);var Oe=.84*(R/me)**(1/5);if(p(Oe,X)?Oe=X:h(Oe,E)&&(Oe=E),Oe=le?m(Oe):Oe,$e=n($e,Oe),W&&h(l($e),W)?$e=L?W:f(W):Y&&p(l($e),Y)&&($e=L?Y:f(Y)),nt++,nt>oe)throw new Error("Maximum number of iterations reached, try changing options")}return{t:Ne,y:ze}}}function y(A,$,D,_){var T=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],z=[null,1/2,3/4,1],P=[2/9,1/3,4/9,0],q=[7/24,1/4,1/3,1/8],L={a:T,c:z,b:P,bp:q};return v(L)(A,$,D,_)}function x(A,$,D,_){var T=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],z=[null,1/5,3/10,4/5,8/9,1,1],P=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],q=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],L={a:T,c:z,b:P,bp:q};return v(L)(A,$,D,_)}function g(A,$,D,_){var T=_.method?_.method:"RK45",z={RK23:y,RK45:x};if(T.toUpperCase()in z){var P=kee({},_);return delete P.method,z[T.toUpperCase()](A,$,D,P)}else{var q=Object.keys(z).map(Z=>'"'.concat(Z,'"')),L="".concat(q.slice(0,-1).join(", ")," and ").concat(q.slice(-1));throw new Error('Unavailable method "'.concat(T,'". Available methods are ').concat(L))}}function b(A){return A?p:h}function k(A){var $=A?h:p;return function(D,_,T){var z=r(D,T);return $(z,_)?i(_,D):T}}function w(A){return Or(A)||Rr(A)}function N(A,$,D,_){var T=g(A,$.toArray(),D.toArray(),_);return{t:d(T.t),y:d(T.y)}}return e("solveODE",{"function, Array, Array, Object":g,"function, Matrix, Matrix, Object":N,"function, Array, Array":(A,$,D)=>g(A,$,D,{}),"function, Matrix, Matrix":(A,$,D)=>N(A,$,D,{}),"function, Array, number | BigNumber | Unit":(A,$,D)=>{var _=g(A,$,[D],{});return{t:_.t,y:_.y.map(T=>T[0])}},"function, Matrix, number | BigNumber | Unit":(A,$,D)=>{var _=g(A,$.toArray(),[D],{});return{t:d(_.t),y:d(_.y.map(T=>T[0]))}},"function, Array, number | BigNumber | Unit, Object":(A,$,D,_)=>{var T=g(A,$,[D],_);return{t:T.t,y:T.y.map(z=>z[0])}},"function, Matrix, number | BigNumber | Unit, Object":(A,$,D,_)=>{var T=g(A,$.toArray(),[D],_);return{t:d(T.t),y:d(T.y.map(z=>z[0]))}}})}),Dee="erf",Aee=["typed"],$ee=ce(Dee,Aee,t=>{var{typed:e}=t;return e("name",{number:function(s){var o=Math.abs(s);return o>=Iee?cc(s):o<=_ee?cc(s)*r(o):o<=4?cc(s)*(1-i(o)):cc(s)*(1-n(o))},"Array | Matrix":e.referToSelf(a=>s=>Gr(s,a))});function r(a){var s=a*a,o=du[0][4]*s,l=s,u;for(u=0;u<3;u+=1)o=(o+du[0][u])*s,l=(l+Sp[0][u])*s;return a*(o+du[0][3])/(l+Sp[0][3])}function i(a){var s=du[1][8]*a,o=a,l;for(l=0;l<7;l+=1)s=(s+du[1][l])*a,o=(o+Sp[1][l])*a;var u=(s+du[1][7])/(o+Sp[1][7]),c=parseInt(a*16)/16,h=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-h)*u}function n(a){var s=1/(a*a),o=du[2][5]*s,l=s,u;for(u=0;u<4;u+=1)o=(o+du[2][u])*s,l=(l+Sp[2][u])*s;var c=s*(o+du[2][4])/(l+Sp[2][4]);c=(Eee-c)/a,s=parseInt(a*16)/16;var h=(a-s)*(a+s);return Math.exp(-s*s)*Math.exp(-h)*c}}),_ee=.46875,Eee=.5641895835477563,du=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Sp=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],Iee=Math.pow(2,53),BA="zeta",Tee=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],Lee=ce(BA,Tee,t=>{var{typed:e,config:r,multiply:i,pow:n,divide:a,factorial:s,equal:o,smallerEq:l,isNegative:u,gamma:c,sin:h,subtract:p,add:d,Complex:m,BigNumber:f,pi:v}=t;return e(BA,{number:w=>y(w,N=>N,()=>20),BigNumber:w=>y(w,N=>new f(N),()=>Math.abs(Math.log10(r.relTol))),Complex:x});function y(w,N,A){return o(w,0)?N(-.5):o(w,1)?N(NaN):isFinite(w)?g(w,N,A,$=>$):u(w)?N(NaN):N(1)}function x(w){return w.re===0&&w.im===0?new m(-.5):w.re===1?new m(NaN,NaN):w.re===1/0&&w.im===0?new m(1):w.im===1/0||w.re===-1/0?new m(NaN,NaN):g(w,N=>N,N=>Math.round(1.3*15+.9*Math.abs(N.im)),N=>N.re)}function g(w,N,A,$){var D=A(w);if($(w)>-(D-1)/2)return k(w,N(D),N);var _=i(n(2,w),n(N(v),p(w,1)));return _=i(_,h(i(a(N(v),2),w))),_=i(_,c(p(1,w))),i(_,g(p(1,w),N,A,$))}function b(w,N){for(var A=w,$=w;l($,N);$=d($,1)){var D=a(i(s(d(N,p($,1))),n(4,$)),i(s(p(N,$)),s(i(2,$))));A=d(A,D)}return i(N,A)}function k(w,N,A){for(var $=a(1,i(b(A(0),N),p(1,n(2,p(1,w))))),D=A(0),_=A(1);l(_,N);_=d(_,1))D=d(D,a(i((-1)**(_-1),b(_,N)),n(_,w)));return i($,D)}}),OA="mode",zee=["typed","isNaN","isNumeric"],Bee=ce(OA,zee,t=>{var{typed:e,isNaN:r,isNumeric:i}=t;return e(OA,{"Array | Matrix":n,"...":function(s){return n(s)}});function n(a){a=Ci(a.valueOf());var s=a.length;if(s===0)throw new Error("Cannot calculate mode of an empty array");for(var o={},l=[],u=0,c=0;c<a.length;c++){var h=a[c];if(i(h)&&r(h))throw new Error("Cannot calculate mode of an array containing NaN values");h in o||(o[h]=0),o[h]++,o[h]===u?l.push(h):o[h]>u&&(u=o[h],l=[h])}return l}});function Xs(t,e,r){var i;return String(t).includes("Unexpected type")?(i=arguments.length>2?" (type: "+an(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+i)):String(t).includes("complex numbers")?(i=arguments.length>2?" (type: "+an(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+i)):t}var FA="prod",Oee=["typed","config","multiplyScalar","numeric"],Fee=ce(FA,Oee,t=>{var{typed:e,config:r,multiplyScalar:i,numeric:n}=t;return e(FA,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(o,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(o){return a(o)}});function a(s){var o;if(vc(s,function(l){try{o=o===void 0?l:i(o,l)}catch(u){throw Xs(u,"prod",l)}}),typeof o=="string"&&(o=n(o,uc(o,r))),o===void 0)throw new Error("Cannot calculate prod of an empty array");return o}}),PA="format",Pee=["typed"],RA=ce(PA,Pee,t=>{var{typed:e}=t;return e(PA,{any:ei,"any, Object | function | number | BigNumber":ei})}),jA="bin",Ree=["typed","format"],jee=ce(jA,Ree,t=>{var{typed:e,format:r}=t;return e(jA,{"number | BigNumber":function(n){return r(n,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(n,a){return r(n,{notation:"bin",wordSize:a})}})}),qA="oct",qee=["typed","format"],Uee=ce(qA,qee,t=>{var{typed:e,format:r}=t;return e(qA,{"number | BigNumber":function(n){return r(n,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(n,a){return r(n,{notation:"oct",wordSize:a})}})}),UA="hex",Vee=["typed","format"],Gee=ce(UA,Vee,t=>{var{typed:e,format:r}=t;return e(UA,{"number | BigNumber":function(n){return r(n,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(n,a){return r(n,{notation:"hex",wordSize:a})}})}),VA=/\$([\w.]+)/g,GA="print",Zee=["typed"],ZA=ce(GA,Zee,t=>{var{typed:e}=t;return e(GA,{"string, Object | Array":HA,"string, Object | Array, number | Object":HA})});function HA(t,e,r){return t.replace(VA,function(i,n){var a=n.split("."),s=e[a.shift()];for(s!==void 0&&s.isMatrix&&(s=s.toArray());a.length&&s!==void 0;){var o=a.shift();s=o?s[o]:s+"."}return s!==void 0?ms(s)?s:ei(s,r):i})}var WA="to",Hee=["typed","matrix","concat"],Wee=ce(WA,Hee,t=>{var{typed:e,matrix:r,concat:i}=t,n=dn({typed:e,matrix:r,concat:i});return e(WA,{"Unit, Unit | string":(a,s)=>a.to(s)},n({Ds:!0}))}),YA="toBest",Yee=["typed"],KA=ce(YA,Yee,t=>{var{typed:e}=t;return e(YA,{Unit:r=>r.toBest(),"Unit, string":(r,i)=>r.toBest(i.split(",")),"Unit, string, Object":(r,i,n)=>r.toBest(i.split(","),n),"Unit, Array":(r,i)=>r.toBest(i),"Unit, Array, Object":(r,i,n)=>r.toBest(i,n)})}),XA="isPrime",Kee=["typed"],Xee=ce(XA,Kee,t=>{var{typed:e}=t;return e(XA,{number:function(i){if(i<=3)return i>1;if(i%2===0||i%3===0)return!1;for(var n=5;n*n<=i;n+=6)if(i%n===0||i%(n+2)===0)return!1;return!0},bigint:function(i){if(i<=3n)return i>1n;if(i%2n===0n||i%3n===0n)return!1;for(var n=5n;n*n<=i;n+=6n)if(i%n===0n||i%(n+2n)===0n)return!1;return!0},BigNumber:function(i){if(i.lte(3))return i.gt(1);if(i.mod(2).eq(0)||i.mod(3).eq(0))return!1;if(i.lt(Math.pow(2,32))){for(var n=i.toNumber(),a=5;a*a<=n;a+=6)if(n%a===0||n%(a+2)===0)return!1;return!0}function s(x,g,b){for(var k=1;!g.eq(0);)g.mod(2).eq(0)?(g=g.div(2),x=x.mul(x).mod(b)):(g=g.sub(1),k=x.mul(k).mod(b));return k}var o=i.constructor.clone({precision:i.toFixed(0).length*2});i=new o(i);for(var l=0,u=i.sub(1);u.mod(2).eq(0);)u=u.div(2),l+=1;var c=null;if(i.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(x=>x<i);else{var h=Math.min(i.toNumber()-2,Math.floor(2*Math.pow(i.toFixed(0).length*Math.log(10),2)));c=[];for(var p=2;p<=h;p+=1)c.push(h)}for(var d=0;d<c.length;d+=1){var m=c[d],f=s(i.sub(i).add(m),u,i);if(!f.eq(1)){for(var v=0,y=f;!y.eq(i.sub(1));v+=1,y=y.mul(y).mod(i))if(v===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(r=>i=>Gr(i,r))})}),Qee="numeric",Jee=["number","?bignumber","?fraction"],QA=ce(Qee,Jee,t=>{var{number:e,bignumber:r,fraction:i}=t,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:s=>e(s),BigNumber:r?s=>r(s):o6,bigint:s=>BigInt(s),Fraction:i?s=>i(s):mA};return function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=an(o);if(!(c in n))throw new TypeError("Cannot convert "+o+' of type "'+c+'"; valid input types are '+Object.keys(n).join(", "));if(!(l in a))throw new TypeError("Cannot convert "+o+' to type "'+l+'"; valid output types are '+Object.keys(a).join(", "));return l===c?o:a[l](o)}}),JA="divideScalar",ete=["typed","numeric"],e$=ce(JA,ete,t=>{var{typed:e,numeric:r}=t;return e(JA,{"number, number":function(n,a){return n/a},"Complex, Complex":function(n,a){return n.div(a)},"BigNumber, BigNumber":function(n,a){return n.div(a)},"bigint, bigint":function(n,a){return n/a},"Fraction, Fraction":function(n,a){return n.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,n)=>i.divide(n),"number | Fraction | Complex | BigNumber, Unit":(i,n)=>n.divideInto(i)})}),t$="pow",tte=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],r$=ce(t$,tte,t=>{var{typed:e,config:r,identity:i,multiply:n,matrix:a,inv:s,number:o,fraction:l,Complex:u}=t;return e(t$,{"number, number":c,"Complex, Complex":function(m,f){return m.pow(f)},"BigNumber, BigNumber":function(m,f){return f.isInteger()||m>=0||r.predictable?m.pow(f):new u(m.toNumber(),0).pow(f.toNumber(),0)},"bigint, bigint":(d,m)=>d**m,"Fraction, Fraction":function(m,f){var v=m.pow(f);if(v!=null)return v;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(m.valueOf(),f.valueOf())},"Array, number":h,"Array, BigNumber":function(m,f){return h(m,f.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(m,f){return p(m,f.toNumber())},"Unit, number | BigNumber":function(m,f){return m.pow(f)}});function c(d,m){if(r.predictable&&!rr(m)&&d<0)try{var f=l(m),v=o(f);if((m===v||Math.abs((m-v)/m)<1e-14)&&f.d%2n===1n)return(f.n%2n===0n?1:-1)*Math.pow(-d,m)}catch{}return r.predictable&&(d<-1&&m===1/0||d>-1&&d<0&&m===-1/0)?NaN:rr(m)||d>=0||r.predictable?XN(d,m):d*d<1&&m===1/0||d*d>1&&m===-1/0?0:new u(d,0).pow(m,0)}function h(d,m){if(!rr(m))throw new TypeError("For A^b, b must be an integer (value is "+m+")");var f=Tr(d);if(f.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+f.length+" dimensions)");if(f[0]!==f[1])throw new Error("For A^b, A must be square (size is "+f[0]+"x"+f[1]+")");if(m<0)try{return h(s(d),-m)}catch(x){throw x.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+m+")"):x}for(var v=i(f[0]).valueOf(),y=d;m>=1;)(m&1)===1&&(v=n(y,v)),m>>=1,y=n(y,y);return v}function p(d,m){return a(h(d.valueOf(),m))}}),Dp="Number of decimals in function round must be an integer",i$="round",rte=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],n$=ce(i$,rte,t=>{var{typed:e,config:r,matrix:i,equalScalar:n,zeros:a,BigNumber:s,DenseMatrix:o}=t,l=gs({typed:e,equalScalar:n}),u=Ba({typed:e,DenseMatrix:o}),c=pl({typed:e});function h(p){return Math.abs(Am(p).exponent)}return e(i$,{number:function(d){var m=Im(d,h(r.relTol)),f=Ja(d,m,r.relTol,r.absTol)?m:d;return Im(f)},"number, number":function(d,m){var f=h(r.relTol);if(m>=f)return Im(d,m);var v=Im(d,f),y=Ja(d,v,r.relTol,r.absTol)?v:d;return Im(y,m)},"number, BigNumber":function(d,m){if(!m.isInteger())throw new TypeError(Dp);return new s(d).toDecimalPlaces(m.toNumber())},Complex:function(d){return d.round()},"Complex, number":function(d,m){if(m%1)throw new TypeError(Dp);return d.round(m)},"Complex, BigNumber":function(d,m){if(!m.isInteger())throw new TypeError(Dp);var f=m.toNumber();return d.round(f)},BigNumber:function(d){var m=new s(d).toDecimalPlaces(h(r.relTol)),f=hl(d,m,r.relTol,r.absTol)?m:d;return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(d,m){if(!m.isInteger())throw new TypeError(Dp);var f=h(r.relTol);if(m>=f)return d.toDecimalPlaces(m.toNumber());var v=d.toDecimalPlaces(f),y=hl(d,v,r.relTol,r.absTol)?v:d;return y.toDecimalPlaces(m.toNumber())},bigint:p=>p,"bigint, number":(p,d)=>p,"bigint, BigNumber":(p,d)=>p,Fraction:function(d){return d.round()},"Fraction, number":function(d,m){if(m%1)throw new TypeError(Dp);return d.round(m)},"Fraction, BigNumber":function(d,m){if(!m.isInteger())throw new TypeError(Dp);return d.round(m.toNumber())},"Unit, number, Unit":e.referToSelf(p=>function(d,m,f){var v=d.toNumeric(f);return f.multiply(p(v,m))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(d,m,f)=>p(d,m.toNumber(),f)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(p=>(d,m,f)=>Gr(d,v=>p(v,m,f),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(p=>(d,m)=>p(d,0,m)),"Array | Matrix":e.referToSelf(p=>d=>Gr(d,p,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(d,m)=>l(d,m,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(d,m)=>c(d,m,p,!1)),"Array, number | BigNumber":e.referToSelf(p=>(d,m)=>c(i(d),m,p,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(p=>(d,m)=>n(d,0)?a(m.size(),m.storage()):u(m,d,p,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(p=>(d,m)=>n(d,0)?a(m.size(),m.storage()):c(m,d,p,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(p=>(d,m)=>c(i(m),d,p,!0).valueOf())})}),a$="log",ite=["config","typed","typeOf","divideScalar","Complex"],nte=Math.log(16),ate=ce(a$,ite,t=>{var{typed:e,typeOf:r,config:i,divideScalar:n,Complex:a}=t;function s(l){return l.log()}function o(l){return s(new a(l,0))}return e(a$,{number:function(u){return u>=0||i.predictable?HN(u):o(u)},bigint:r6(nte,HN,i,o),Complex:s,BigNumber:function(u){return!u.isNegative()||i.predictable?u.ln():o(u.toNumber())},"any, any":e.referToSelf(l=>(u,c)=>{if(r(u)==="Fraction"&&r(c)==="Fraction"){var h=u.log(c);if(h!==null)return h}return n(l(u),l(c))})})}),s$="log1p",ste=["typed","config","divideScalar","log","Complex"],ote=ce(s$,ste,t=>{var{typed:e,config:r,divideScalar:i,log:n,Complex:a}=t;return e(s$,{number:function(l){return l>=-1||r.predictable?FW(l):s(new a(l,0))},Complex:s,BigNumber:function(l){var u=l.plus(1);return!u.isNegative()||r.predictable?u.ln():s(new a(l.toNumber(),0))},"Array | Matrix":e.referToSelf(o=>l=>Gr(l,o)),"any, any":e.referToSelf(o=>(l,u)=>i(o(l),n(u)))});function s(o){var l=o.re+1;return new a(Math.log(Math.sqrt(l*l+o.im*o.im)),Math.atan2(o.im,l))}}),o$="nthRoots",lte=["config","typed","divideScalar","Complex"],ute=ce(o$,lte,t=>{var{typed:e,config:r,divideScalar:i,Complex:n}=t,a=[function(l){return new n(l,0)},function(l){return new n(0,l)},function(l){return new n(-l,0)},function(l){return new n(0,-l)}];function s(o,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(o===0||o.abs()===0)return[new n(0,0)];var u=typeof o=="number",c;(u||o.re===0||o.im===0)&&(u?c=2*+(o<0):o.im===0?c=2*+(o.re<0):c=2*+(o.im<0)+1);for(var h=o.arg(),p=o.abs(),d=[],m=Math.pow(p,1/l),f=0;f<l;f++){var v=(c+4*f)/l;if(v===Math.round(v)){d.push(a[v%4](m));continue}d.push(new n({r:m,phi:(h+2*Math.PI*f)/l}))}return d}return e(o$,{Complex:function(l){return s(l,2)},"Complex, number":s})}),l$="dotPow",cte=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],hte=ce(l$,cte,t=>{var{typed:e,equalScalar:r,matrix:i,pow:n,DenseMatrix:a,concat:s,SparseMatrix:o}=t,l=Is({typed:e}),u=b0({typed:e,SparseMatrix:o}),c=gs({typed:e,equalScalar:r}),h=Ba({typed:e,DenseMatrix:a}),p=dn({typed:e,matrix:i,concat:s}),d={};for(var m in n.signatures)Object.prototype.hasOwnProperty.call(n.signatures,m)&&!m.includes("Matrix")&&!m.includes("Array")&&(d[m]=n.signatures[m]);var f=e(d);return e(l$,p({elop:f,SS:u,DS:l,Ss:c,sS:h}))}),u$="dotDivide",pte=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],dte=ce(u$,pte,t=>{var{typed:e,matrix:r,equalScalar:i,divideScalar:n,DenseMatrix:a,concat:s,SparseMatrix:o}=t,l=Vl({typed:e,equalScalar:i}),u=Is({typed:e}),c=b0({typed:e,SparseMatrix:o}),h=gs({typed:e,equalScalar:i}),p=Ba({typed:e,DenseMatrix:a}),d=dn({typed:e,matrix:r,concat:s});return e(u$,d({elop:n,SS:c,DS:u,SD:l,Ss:h,sS:p}))});function zm(t){var{DenseMatrix:e}=t;return function(i,n,a){var s=i.size();if(s.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+ei(s)+")");var o=s[0],l=s[1];if(o!==l)throw new RangeError("Matrix must be square (size: "+ei(s)+")");var u=[];if(hr(n)){var c=n.size(),h=n._data;if(c.length===1){if(c[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<o;p++)u[p]=[h[p]];return new e({data:u,size:[o,1],datatype:n._datatype})}if(c.length===2){if(c[0]!==o||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(km(n)){if(a){u=[];for(var d=0;d<o;d++)u[d]=[h[d][0]];return new e({data:u,size:[o,1],datatype:n._datatype})}return n}if(oc(n)){for(var m=0;m<o;m++)u[m]=[0];for(var f=n._values,v=n._index,y=n._ptr,x=y[1],g=y[0];g<x;g++){var b=v[g];u[b][0]=f[g]}return new e({data:u,size:[o,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Li(n)){var k=Tr(n);if(k.length===1){if(k[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var w=0;w<o;w++)u[w]=[n[w]];return new e({data:u,size:[o,1]})}if(k.length===2){if(k[0]!==o||k[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var N=0;N<o;N++)u[N]=[n[N][0]];return new e({data:u,size:[o,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var c$="lsolve",mte=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],fte=ce(c$,mte,t=>{var{typed:e,matrix:r,divideScalar:i,multiplyScalar:n,subtractScalar:a,equalScalar:s,DenseMatrix:o}=t,l=zm({DenseMatrix:o});return e(c$,{"SparseMatrix, Array | Matrix":function(p,d){return c(p,d)},"DenseMatrix, Array | Matrix":function(p,d){return u(p,d)},"Array, Array | Matrix":function(p,d){var m=r(p),f=u(m,d);return f.valueOf()}});function u(h,p){p=l(h,p,!0);for(var d=p._data,m=h._size[0],f=h._size[1],v=[],y=h._data,x=0;x<f;x++){var g=d[x][0]||0,b=void 0;if(s(g,0))b=0;else{var k=y[x][x];if(s(k,0))throw new Error("Linear system cannot be solved since matrix is singular");b=i(g,k);for(var w=x+1;w<m;w++)d[w]=[a(d[w][0]||0,n(b,y[w][x]))]}v[x]=[b]}return new o({data:v,size:[m,1]})}function c(h,p){p=l(h,p,!0);for(var d=p._data,m=h._size[0],f=h._size[1],v=h._values,y=h._index,x=h._ptr,g=[],b=0;b<f;b++){var k=d[b][0]||0;if(s(k,0))g[b]=[0];else{for(var w=0,N=[],A=[],$=x[b],D=x[b+1],_=$;_<D;_++){var T=y[_];T===b?w=v[_]:T>b&&(N.push(v[_]),A.push(T))}if(s(w,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var z=i(k,w),P=0,q=A.length;P<q;P++){var L=A[P];d[L]=[a(d[L][0]||0,n(z,N[P]))]}g[b]=[z]}}return new o({data:g,size:[m,1]})}}),h$="usolve",gte=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],vte=ce(h$,gte,t=>{var{typed:e,matrix:r,divideScalar:i,multiplyScalar:n,subtractScalar:a,equalScalar:s,DenseMatrix:o}=t,l=zm({DenseMatrix:o});return e(h$,{"SparseMatrix, Array | Matrix":function(p,d){return c(p,d)},"DenseMatrix, Array | Matrix":function(p,d){return u(p,d)},"Array, Array | Matrix":function(p,d){var m=r(p),f=u(m,d);return f.valueOf()}});function u(h,p){p=l(h,p,!0);for(var d=p._data,m=h._size[0],f=h._size[1],v=[],y=h._data,x=f-1;x>=0;x--){var g=d[x][0]||0,b=void 0;if(s(g,0))b=0;else{var k=y[x][x];if(s(k,0))throw new Error("Linear system cannot be solved since matrix is singular");b=i(g,k);for(var w=x-1;w>=0;w--)d[w]=[a(d[w][0]||0,n(b,y[w][x]))]}v[x]=[b]}return new o({data:v,size:[m,1]})}function c(h,p){p=l(h,p,!0);for(var d=p._data,m=h._size[0],f=h._size[1],v=h._values,y=h._index,x=h._ptr,g=[],b=f-1;b>=0;b--){var k=d[b][0]||0;if(s(k,0))g[b]=[0];else{for(var w=0,N=[],A=[],$=x[b],D=x[b+1],_=D-1;_>=$;_--){var T=y[_];T===b?w=v[_]:T<b&&(N.push(v[_]),A.push(T))}if(s(w,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var z=i(k,w),P=0,q=A.length;P<q;P++){var L=A[P];d[L]=[a(d[L][0],n(z,N[P]))]}g[b]=[z]}}return new o({data:g,size:[m,1]})}}),p$="lsolveAll",yte=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],bte=ce(p$,yte,t=>{var{typed:e,matrix:r,divideScalar:i,multiplyScalar:n,subtractScalar:a,equalScalar:s,DenseMatrix:o}=t,l=zm({DenseMatrix:o});return e(p$,{"SparseMatrix, Array | Matrix":function(p,d){return c(p,d)},"DenseMatrix, Array | Matrix":function(p,d){return u(p,d)},"Array, Array | Matrix":function(p,d){var m=r(p),f=u(m,d);return f.map(v=>v.valueOf())}});function u(h,p){for(var d=[l(h,p,!0)._data.map(A=>A[0])],m=h._data,f=h._size[0],v=h._size[1],y=0;y<v;y++)for(var x=d.length,g=0;g<x;g++){var b=d[g];if(s(m[y][y],0))if(s(b[y],0)){if(g===0){var w=[...b];w[y]=1;for(var N=y+1;N<v;N++)w[N]=a(w[N],m[N][y]);d.push(w)}}else{if(g===0)return[];d.splice(g,1),g-=1,x-=1}else{b[y]=i(b[y],m[y][y]);for(var k=y+1;k<v;k++)b[k]=a(b[k],n(b[y],m[k][y]))}}return d.map(A=>new o({data:A.map($=>[$]),size:[f,1]}))}function c(h,p){for(var d=[l(h,p,!0)._data.map(re=>re[0])],m=h._size[0],f=h._size[1],v=h._values,y=h._index,x=h._ptr,g=0;g<f;g++)for(var b=d.length,k=0;k<b;k++){for(var w=d[k],N=[],A=[],$=x[g],D=x[g+1],_=0,T=$;T<D;T++){var z=y[T];z===g?_=v[T]:z>g&&(N.push(v[T]),A.push(z))}if(s(_,0))if(s(w[g],0)){if(k===0){var Z=[...w];Z[g]=1;for(var W=0,Y=A.length;W<Y;W++){var ie=A[W];Z[ie]=a(Z[ie],N[W])}d.push(Z)}}else{if(k===0)return[];d.splice(k,1),k-=1,b-=1}else{w[g]=i(w[g],_);for(var P=0,q=A.length;P<q;P++){var L=A[P];w[L]=a(w[L],n(w[g],N[P]))}}}return d.map(re=>new o({data:re.map(R=>[R]),size:[m,1]}))}}),d$="usolveAll",xte=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],wte=ce(d$,xte,t=>{var{typed:e,matrix:r,divideScalar:i,multiplyScalar:n,subtractScalar:a,equalScalar:s,DenseMatrix:o}=t,l=zm({DenseMatrix:o});return e(d$,{"SparseMatrix, Array | Matrix":function(p,d){return c(p,d)},"DenseMatrix, Array | Matrix":function(p,d){return u(p,d)},"Array, Array | Matrix":function(p,d){var m=r(p),f=u(m,d);return f.map(v=>v.valueOf())}});function u(h,p){for(var d=[l(h,p,!0)._data.map(A=>A[0])],m=h._data,f=h._size[0],v=h._size[1],y=v-1;y>=0;y--)for(var x=d.length,g=0;g<x;g++){var b=d[g];if(s(m[y][y],0))if(s(b[y],0)){if(g===0){var w=[...b];w[y]=1;for(var N=y-1;N>=0;N--)w[N]=a(w[N],m[N][y]);d.push(w)}}else{if(g===0)return[];d.splice(g,1),g-=1,x-=1}else{b[y]=i(b[y],m[y][y]);for(var k=y-1;k>=0;k--)b[k]=a(b[k],n(b[y],m[k][y]))}}return d.map(A=>new o({data:A.map($=>[$]),size:[f,1]}))}function c(h,p){for(var d=[l(h,p,!0)._data.map(re=>re[0])],m=h._size[0],f=h._size[1],v=h._values,y=h._index,x=h._ptr,g=f-1;g>=0;g--)for(var b=d.length,k=0;k<b;k++){for(var w=d[k],N=[],A=[],$=x[g],D=x[g+1],_=0,T=D-1;T>=$;T--){var z=y[T];z===g?_=v[T]:z<g&&(N.push(v[T]),A.push(z))}if(s(_,0))if(s(w[g],0)){if(k===0){var Z=[...w];Z[g]=1;for(var W=0,Y=A.length;W<Y;W++){var ie=A[W];Z[ie]=a(Z[ie],N[W])}d.push(Z)}}else{if(k===0)return[];d.splice(k,1),k-=1,b-=1}else{w[g]=i(w[g],_);for(var P=0,q=A.length;P<q;P++){var L=A[P];w[L]=a(w[L],n(w[g],N[P]))}}}return d.map(re=>new o({data:re.map(R=>[R]),size:[m,1]}))}}),Mte="matAlgo08xS0Sid",kte=["typed","equalScalar"],u6=ce(Mte,kte,t=>{var{typed:e,equalScalar:r}=t;return function(n,a,s){var o=n._values,l=n._index,u=n._ptr,c=n._size,h=n._datatype||n._data===void 0?n._datatype:n.getDataType(),p=a._values,d=a._index,m=a._ptr,f=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==f.length)throw new Wr(c.length,f.length);if(c[0]!==f[0]||c[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+f+")");if(!o||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var y=c[0],x=c[1],g,b=r,k=0,w=s;typeof h=="string"&&h===v&&h!=="mixed"&&(g=h,b=e.find(r,[g,g]),k=e.convert(0,g),w=e.find(s,[g,g]));for(var N=[],A=[],$=[],D=[],_=[],T,z,P,q,L=0;L<x;L++){$[L]=A.length;var Z=L+1;for(z=u[L],P=u[L+1],T=z;T<P;T++)q=l[T],_[q]=Z,D[q]=o[T],A.push(q);for(z=m[L],P=m[L+1],T=z;T<P;T++)q=d[T],_[q]===Z&&(D[q]=w(D[q],p[T]));for(T=$[L];T<A.length;){q=A[T];var W=D[q];b(W,k)?A.splice(T,1):(N.push(W),T++)}}return $[x]=A.length,n.createSparseMatrix({values:N,index:A,ptr:$,size:[y,x],datatype:h===n._datatype&&v===a._datatype?g:void 0})}}),c6=ce("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:e,matrix:r}=t;return{"Array, number":e.referTo("DenseMatrix, number",i=>(n,a)=>i(r(n),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",i=>(n,a)=>i(r(n),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",i=>(n,a)=>i(n,r(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",i=>(n,a)=>i(n,r(a)).valueOf())}}),m$="leftShift",Cte=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Nte=ce(m$,Cte,t=>{var{typed:e,matrix:r,equalScalar:i,zeros:n,DenseMatrix:a,concat:s}=t,o=yc({typed:e}),l=Vl({typed:e,equalScalar:i}),u=u6({typed:e,equalScalar:i}),c=Uh({typed:e,DenseMatrix:a}),h=gs({typed:e,equalScalar:i}),p=pl({typed:e}),d=dn({typed:e,matrix:r,concat:s}),m=c6({typed:e,matrix:r});return e(m$,{"number, number":rS,"BigNumber, BigNumber":iJ,"bigint, bigint":(f,v)=>f<<v,"SparseMatrix, number | BigNumber":e.referToSelf(f=>(v,y)=>i(y,0)?v.clone():h(v,y,f,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(f=>(v,y)=>i(y,0)?v.clone():p(v,y,f,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(f=>(v,y)=>i(v,0)?n(y.size(),y.storage()):c(y,v,f,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(f=>(v,y)=>i(v,0)?n(y.size(),y.storage()):p(y,v,f,!0))},m,d({SS:u,DS:o,SD:l}))}),f$="rightArithShift",Ste=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Dte=ce(f$,Ste,t=>{var{typed:e,matrix:r,equalScalar:i,zeros:n,DenseMatrix:a,concat:s}=t,o=yc({typed:e}),l=Vl({typed:e,equalScalar:i}),u=u6({typed:e,equalScalar:i}),c=Uh({typed:e,DenseMatrix:a}),h=gs({typed:e,equalScalar:i}),p=pl({typed:e}),d=dn({typed:e,matrix:r,concat:s}),m=c6({typed:e,matrix:r});return e(f$,{"number, number":iS,"BigNumber, BigNumber":nJ,"bigint, bigint":(f,v)=>f>>v,"SparseMatrix, number | BigNumber":e.referToSelf(f=>(v,y)=>i(y,0)?v.clone():h(v,y,f,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(f=>(v,y)=>i(y,0)?v.clone():p(v,y,f,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(f=>(v,y)=>i(v,0)?n(y.size(),y.storage()):c(y,v,f,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(f=>(v,y)=>i(v,0)?n(y.size(),y.storage()):p(y,v,f,!0))},m,d({SS:u,DS:o,SD:l}))}),g$="rightLogShift",Ate=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],$te=ce(g$,Ate,t=>{var{typed:e,matrix:r,equalScalar:i,zeros:n,DenseMatrix:a,concat:s}=t,o=yc({typed:e}),l=Vl({typed:e,equalScalar:i}),u=u6({typed:e,equalScalar:i}),c=Uh({typed:e,DenseMatrix:a}),h=gs({typed:e,equalScalar:i}),p=pl({typed:e}),d=dn({typed:e,matrix:r,concat:s}),m=c6({typed:e,matrix:r});return e(g$,{"number, number":nS,"SparseMatrix, number | BigNumber":e.referToSelf(f=>(v,y)=>i(y,0)?v.clone():h(v,y,f,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(f=>(v,y)=>i(y,0)?v.clone():p(v,y,f,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(f=>(v,y)=>i(v,0)?n(y.size(),y.storage()):c(y,v,f,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(f=>(v,y)=>i(v,0)?n(y.size(),y.storage()):p(y,v,f,!0))},m,d({SS:u,DS:o,SD:l}))}),v$="and",_te=["typed","matrix","equalScalar","zeros","not","concat"],y$=ce(v$,_te,t=>{var{typed:e,matrix:r,equalScalar:i,zeros:n,not:a,concat:s}=t,o=Vl({typed:e,equalScalar:i}),l=Ug({typed:e,equalScalar:i}),u=gs({typed:e,equalScalar:i}),c=pl({typed:e}),h=dn({typed:e,matrix:r,concat:s});return e(v$,{"number, number":Hb,"Complex, Complex":function(d,m){return(d.re!==0||d.im!==0)&&(m.re!==0||m.im!==0)},"BigNumber, BigNumber":function(d,m){return!d.isZero()&&!m.isZero()&&!d.isNaN()&&!m.isNaN()},"bigint, bigint":Hb,"Unit, Unit":e.referToSelf(p=>(d,m)=>p(d.value||0,m.value||0)),"SparseMatrix, any":e.referToSelf(p=>(d,m)=>a(m)?n(d.size(),d.storage()):u(d,m,p,!1)),"DenseMatrix, any":e.referToSelf(p=>(d,m)=>a(m)?n(d.size(),d.storage()):c(d,m,p,!1)),"any, SparseMatrix":e.referToSelf(p=>(d,m)=>a(d)?n(d.size(),d.storage()):u(m,d,p,!0)),"any, DenseMatrix":e.referToSelf(p=>(d,m)=>a(d)?n(d.size(),d.storage()):c(m,d,p,!0)),"Array, any":e.referToSelf(p=>(d,m)=>p(r(d),m).valueOf()),"any, Array":e.referToSelf(p=>(d,m)=>p(d,r(m)).valueOf())},h({SS:l,DS:o}))}),Gg="compare",Ete=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],Ite=ce(Gg,Ete,t=>{var{typed:e,config:r,equalScalar:i,matrix:n,BigNumber:a,Fraction:s,DenseMatrix:o,concat:l}=t,u=Is({typed:e}),c=qg({typed:e,equalScalar:i}),h=Ba({typed:e,DenseMatrix:o}),p=dn({typed:e,matrix:n,concat:l}),d=Np({typed:e});return e(Gg,Tte({typed:e,config:r}),{"boolean, boolean":function(f,v){return f===v?0:f>v?1:-1},"BigNumber, BigNumber":function(f,v){return hl(f,v,r.relTol,r.absTol)?new a(0):new a(f.cmp(v))},"bigint, bigint":function(f,v){return f===v?0n:f>v?1n:-1n},"Fraction, Fraction":function(f,v){return new s(f.compare(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,p({SS:c,DS:u,Ss:h}))}),Tte=ce(Gg,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Gg,{"number, number":function(n,a){return Ja(n,a,r.relTol,r.absTol)?0:n>a?1:-1}})}),Lte=function t(e,r){var i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,n=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,o=/^0/,l=function(g){return t.insensitive&&(""+g).toLowerCase()||""+g},u=l(e).replace(n,"")||"",c=l(r).replace(n,"")||"",h=u.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=c.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=parseInt(u.match(s),16)||h.length!==1&&u.match(a)&&Date.parse(u),m=parseInt(c.match(s),16)||d&&c.match(a)&&Date.parse(c)||null,f,v;if(m){if(d<m)return-1;if(d>m)return 1}for(var y=0,x=Math.max(h.length,p.length);y<x;y++){if(f=!(h[y]||"").match(o)&&parseFloat(h[y])||h[y]||0,v=!(p[y]||"").match(o)&&parseFloat(p[y])||p[y]||0,isNaN(f)!==isNaN(v))return isNaN(f)?1:-1;if(typeof f!=typeof v&&(f+="",v+=""),f<v)return-1;if(f>v)return 1}return 0};const Ap=Eh(Lte);var b$="compareNatural",zte=["typed","compare"],Bte=ce(b$,zte,t=>{var{typed:e,compare:r}=t,i=r.signatures["boolean,boolean"];return e(b$,{"any, any":n});function n(l,u){var c=an(l),h=an(u),p;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(h==="number"||h==="BigNumber"||h==="Fraction"))return p=r(l,u),p.toString()!=="0"?p>0?1:-1:Ap(c,h);var d=["Array","DenseMatrix","SparseMatrix"];if(d.includes(c)||d.includes(h))return p=a(n,l,u),p!==0?p:Ap(c,h);if(c!==h)return Ap(c,h);if(c==="Complex")return Ote(l,u);if(c==="Unit")return l.equalBase(u)?n(l.value,u.value):s(n,l.formatUnits(),u.formatUnits());if(c==="boolean")return i(l,u);if(c==="string")return Ap(l,u);if(c==="Object")return o(n,l,u);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(l,u,c){return oc(u)&&oc(c)?s(l,u.toJSON().values,c.toJSON().values):oc(u)?a(l,u.toArray(),c):oc(c)?a(l,u,c.toArray()):km(u)?a(l,u.toJSON().data,c):km(c)?a(l,u,c.toJSON().data):Array.isArray(u)?Array.isArray(c)?s(l,u,c):a(l,u,[c]):a(l,[u],c)}function s(l,u,c){for(var h=0,p=Math.min(u.length,c.length);h<p;h++){var d=l(u[h],c[h]);if(d!==0)return d}return u.length>c.length?1:u.length<c.length?-1:0}function o(l,u,c){var h=Object.keys(u),p=Object.keys(c);h.sort(Ap),p.sort(Ap);var d=s(l,h,p);if(d!==0)return d;for(var m=0;m<h.length;m++){var f=l(u[h[m]],c[p[m]]);if(f!==0)return f}return 0}});function Ote(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var x$="compareText",Fte=["typed","matrix","concat"];Ob.signature="any, any";var Pte=ce(x$,Fte,t=>{var{typed:e,matrix:r,concat:i}=t,n=dn({typed:e,matrix:r,concat:i});return e(x$,Ob,n({elop:Ob,Ds:!0}))}),Zg="equal",Rte=["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],w$=ce(Zg,Rte,t=>{var{typed:e,matrix:r,equalScalar:i,DenseMatrix:n,concat:a,SparseMatrix:s}=t,o=Is({typed:e}),l=b0({typed:e,SparseMatrix:s}),u=Ba({typed:e,DenseMatrix:n}),c=dn({typed:e,matrix:r,concat:a});return e(Zg,jte({typed:e,equalScalar:i}),c({elop:i,SS:l,DS:o,Ss:u}))}),jte=ce(Zg,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(Zg,{"any, any":function(n,a){return n===null?a===null:a===null?n===null:n===void 0?a===void 0:a===void 0?n===void 0:r(n,a)}})}),M$="equalText",qte=["typed","compareText","isZero"],Ute=ce(M$,qte,t=>{var{typed:e,compareText:r,isZero:i}=t;return e(M$,{"any, any":function(a,s){return i(r(a,s))}})}),Hg="smaller",Vte=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],k$=ce(Hg,Vte,t=>{var{typed:e,config:r,bignumber:i,matrix:n,DenseMatrix:a,concat:s,SparseMatrix:o}=t,l=Is({typed:e}),u=b0({typed:e,SparseMatrix:o}),c=Ba({typed:e,DenseMatrix:a}),h=dn({typed:e,matrix:n,concat:s}),p=Np({typed:e});function d(m,f){return m.lt(f)&&!hl(m,f,r.relTol,r.absTol)}return e(Hg,Gte({typed:e,config:r}),{"boolean, boolean":(m,f)=>m<f,"BigNumber, BigNumber":d,"bigint, bigint":(m,f)=>m<f,"Fraction, Fraction":(m,f)=>m.compare(f)===-1,"Fraction, BigNumber":function(f,v){return d(i(f),v)},"BigNumber, Fraction":function(f,v){return d(f,i(v))},"Complex, Complex":function(f,v){throw new TypeError("No ordering relation is defined for complex numbers")}},p,h({SS:u,DS:l,Ss:c}))}),Gte=ce(Hg,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Hg,{"number, number":function(n,a){return n<a&&!Ja(n,a,r.relTol,r.absTol)}})}),Wg="smallerEq",Zte=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],Hte=ce(Wg,Zte,t=>{var{typed:e,config:r,matrix:i,DenseMatrix:n,concat:a,SparseMatrix:s}=t,o=Is({typed:e}),l=b0({typed:e,SparseMatrix:s}),u=Ba({typed:e,DenseMatrix:n}),c=dn({typed:e,matrix:i,concat:a}),h=Np({typed:e});return e(Wg,Wte({typed:e,config:r}),{"boolean, boolean":(p,d)=>p<=d,"BigNumber, BigNumber":function(d,m){return d.lte(m)||hl(d,m,r.relTol,r.absTol)},"bigint, bigint":(p,d)=>p<=d,"Fraction, Fraction":(p,d)=>p.compare(d)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,c({SS:l,DS:o,Ss:u}))}),Wte=ce(Wg,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Wg,{"number, number":function(n,a){return n<=a||Ja(n,a,r.relTol,r.absTol)}})}),Yg="larger",Yte=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],Kte=ce(Yg,Yte,t=>{var{typed:e,config:r,bignumber:i,matrix:n,DenseMatrix:a,concat:s,SparseMatrix:o}=t,l=Is({typed:e}),u=b0({typed:e,SparseMatrix:o}),c=Ba({typed:e,DenseMatrix:a}),h=dn({typed:e,matrix:n,concat:s}),p=Np({typed:e});function d(m,f){return m.gt(f)&&!hl(m,f,r.relTol,r.absTol)}return e(Yg,Xte({typed:e,config:r}),{"boolean, boolean":(m,f)=>m>f,"BigNumber, BigNumber":d,"bigint, bigint":(m,f)=>m>f,"Fraction, Fraction":(m,f)=>m.compare(f)===1,"Fraction, BigNumber":function(f,v){return d(i(f),v)},"BigNumber, Fraction":function(f,v){return d(f,i(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,h({SS:u,DS:l,Ss:c}))}),Xte=ce(Yg,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Yg,{"number, number":function(n,a){return n>a&&!Ja(n,a,r.relTol,r.absTol)}})}),Kg="largerEq",Qte=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],Jte=ce(Kg,Qte,t=>{var{typed:e,config:r,matrix:i,DenseMatrix:n,concat:a,SparseMatrix:s}=t,o=Is({typed:e}),l=b0({typed:e,SparseMatrix:s}),u=Ba({typed:e,DenseMatrix:n}),c=dn({typed:e,matrix:i,concat:a}),h=Np({typed:e});return e(Kg,ere({typed:e,config:r}),{"boolean, boolean":(p,d)=>p>=d,"BigNumber, BigNumber":function(d,m){return d.gte(m)||hl(d,m,r.relTol,r.absTol)},"bigint, bigint":function(d,m){return d>=m},"Fraction, Fraction":(p,d)=>p.compare(d)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,c({SS:l,DS:o,Ss:u}))}),ere=ce(Kg,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Kg,{"number, number":function(n,a){return n>=a||Ja(n,a,r.relTol,r.absTol)}})}),C$="deepEqual",tre=["typed","equal"],rre=ce(C$,tre,t=>{var{typed:e,equal:r}=t;return e(C$,{"any, any":function(a,s){return i(a.valueOf(),s.valueOf())}});function i(n,a){if(Array.isArray(n))if(Array.isArray(a)){var s=n.length;if(s!==a.length)return!1;for(var o=0;o<s;o++)if(!i(n[o],a[o]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:r(n,a)}}),Xg="unequal",ire=["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],nre=ce(Xg,ire,t=>{var{typed:e,config:r,equalScalar:i,matrix:n,DenseMatrix:a,concat:s,SparseMatrix:o}=t,l=Is({typed:e}),u=b0({typed:e,SparseMatrix:o}),c=Ba({typed:e,DenseMatrix:a}),h=dn({typed:e,matrix:n,concat:s});return e(Xg,are({typed:e,equalScalar:i}),h({elop:p,SS:u,DS:l,Ss:c}));function p(d,m){return!i(d,m)}}),are=ce(Xg,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(Xg,{"any, any":function(n,a){return n===null?a!==null:a===null?n!==null:n===void 0?a!==void 0:a===void 0?n!==void 0:!r(n,a)}})}),N$="partitionSelect",sre=["typed","isNumeric","isNaN","compare"],ore=ce(N$,sre,t=>{var{typed:e,isNumeric:r,isNaN:i,compare:n}=t,a=n,s=(u,c)=>-n(u,c);return e(N$,{"Array | Matrix, number":function(c,h){return o(c,h,a)},"Array | Matrix, number, string":function(c,h,p){if(p==="asc")return o(c,h,a);if(p==="desc")return o(c,h,s);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":o});function o(u,c,h){if(!rr(c)||c<0)throw new Error("k must be a non-negative integer");if(hr(u)){var p=u.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return l(u.valueOf(),c,h)}if(Array.isArray(u))return l(u,c,h)}function l(u,c,h){if(c>=u.length)throw new Error("k out of bounds");for(var p=0;p<u.length;p++)if(r(u[p])&&i(u[p]))return u[p];for(var d=0,m=u.length-1;d<m;){for(var f=d,v=m,y=u[Math.floor(Math.random()*(m-d+1))+d];f<v;)if(h(u[f],y)>=0){var x=u[v];u[v]=u[f],u[f]=x,--v}else++f;h(u[f],y)>0&&--f,c<=f?m=f:d=f+1}return u[c]}}),S$="sort",lre=["typed","matrix","compare","compareNatural"],ure=ce(S$,lre,t=>{var{typed:e,matrix:r,compare:i,compareNatural:n}=t,a=i,s=(c,h)=>-i(c,h);return e(S$,{Array:function(h){return l(h),h.sort(a)},Matrix:function(h){return u(h),r(h.toArray().sort(a),h.storage())},"Array, function":function(h,p){return l(h),h.sort(p)},"Matrix, function":function(h,p){return u(h),r(h.toArray().sort(p),h.storage())},"Array, string":function(h,p){return l(h),h.sort(o(p))},"Matrix, string":function(h,p){return u(h),r(h.toArray().sort(o(p)),h.storage())}});function o(c){if(c==="asc")return a;if(c==="desc")return s;if(c==="natural")return n;throw new Error('String "asc", "desc", or "natural" expected')}function l(c){if(Tr(c).length!==1)throw new Error("One dimensional array expected")}function u(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}}),D$="max",cre=["typed","config","numeric","larger","isNaN"],A$=ce(D$,cre,t=>{var{typed:e,config:r,numeric:i,larger:n,isNaN:a}=t;return e(D$,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,c){return zg(u,c.valueOf(),s)},"...":function(u){if(wp(u))throw new TypeError("Scalar values expected in function max");return o(u)}});function s(l,u){try{return n(l,u)?l:u}catch(c){throw Xs(c,"max",u)}}function o(l){var u;if(vc(l,function(c){try{(a(c)||u===void 0||n(c,u))&&(u=c)}catch(h){throw Xs(h,"max",c)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=i(u,uc(u,r))),u}}),$$="min",hre=["typed","config","numeric","smaller","isNaN"],_$=ce($$,hre,t=>{var{typed:e,config:r,numeric:i,smaller:n,isNaN:a}=t;return e($$,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,c){return zg(u,c.valueOf(),s)},"...":function(u){if(wp(u))throw new TypeError("Scalar values expected in function min");return o(u)}});function s(l,u){try{return n(l,u)?l:u}catch(c){throw Xs(c,"min",u)}}function o(l){var u;if(vc(l,function(c){try{(a(c)||u===void 0||n(c,u))&&(u=c)}catch(h){throw Xs(h,"min",c)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=i(u,uc(u,r))),u}}),pre="ImmutableDenseMatrix",dre=["smaller","DenseMatrix"],E$=ce(pre,dre,t=>{var{smaller:e,DenseMatrix:r}=t;function i(n,a){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!ms(a))throw new Error("Invalid datatype: "+a);if(hr(n)||Li(n)){var s=new r(n,a);this._data=s._data,this._size=s._size,this._datatype=s._datatype,this._min=null,this._max=null}else if(n&&Li(n.data)&&Li(n.size))this._data=n.data,this._size=n.size,this._datatype=n.datatype,this._min=typeof n.min<"u"?n.min:null,this._max=typeof n.max<"u"?n.max:null;else{if(n)throw new TypeError("Unsupported type of data ("+an(n)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return i.prototype=new r,i.prototype.type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(n){switch(arguments.length){case 1:{var a=r.prototype.subset.call(this,n);return hr(a)?new i({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:kr(this._data),size:kr(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(n){return new i(n)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(this._min===null){var n=null;this.forEach(function(a){(n===null||e(a,n))&&(n=a)}),this._min=n!==null?n:void 0}return this._min},i.prototype.max=function(){if(this._max===null){var n=null;this.forEach(function(a){(n===null||e(n,a))&&(n=a)}),this._max=n!==null?n:void 0}return this._max},i},{isClass:!0}),mre="Index",fre=["ImmutableDenseMatrix","getMatrixDataType"],I$=ce(mre,fre,t=>{var{ImmutableDenseMatrix:e,getMatrixDataType:r}=t;function i(a){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var s=0,o=arguments.length;s<o;s++){var l=arguments[s],u=Li(l),c=hr(l),h=typeof l,p=null;if(gg(l))this._dimensions.push(l),this._isScalar=!1;else if(u||c){var d=void 0;r(l)==="boolean"?(u&&(d=n(T$(l).valueOf())),c&&(d=n(T$(l._data).valueOf())),p=l.valueOf().length):d=n(l.valueOf()),this._dimensions.push(d);var m=d.size();(m.length!==1||m[0]!==1||p!==null)&&(this._isScalar=!1)}else if(h==="number")this._dimensions.push(n([l]));else if(h==="bigint")this._dimensions.push(n([Number(l)]));else if(h==="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(p)}}i.prototype.type="Index",i.prototype.isIndex=!0;function n(a){for(var s=0,o=a.length;s<o;s++)if(typeof a[s]!="number"||!rr(a[s]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return i.prototype.clone=function(){var a=new i;return a._dimensions=kr(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},i.create=function(a){var s=new i;return i.apply(s,a),s},i.prototype.size=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];a[s]=typeof l=="string"?1:l.size()[0]}return a},i.prototype.max=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];a[s]=typeof l=="string"?l:l.max()}return a},i.prototype.min=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];a[s]=typeof l=="string"?l:l.min()}return a},i.prototype.forEach=function(a){for(var s=0,o=this._dimensions.length;s<o;s++)a(this._dimensions[s],s,this)},i.prototype.dimension=function(a){return typeof a!="number"?null:this._dimensions[a]||null},i.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},i.prototype.isScalar=function(){return this._isScalar},i.prototype.toArray=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];a.push(typeof l=="string"?l:l.toArray())}return a},i.prototype.valueOf=i.prototype.toArray,i.prototype.toString=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];typeof l=="string"?a.push(JSON.stringify(l)):a.push(l.toString())}return"["+a.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},i.fromJSON=function(a){return i.create(a.dimensions)},i},{isClass:!0});function T$(t){var e=[];return t.forEach((r,i)=>{r&&e.push(i)}),e}var gre="FibonacciHeap",vre=["smaller","larger"],yre=ce(gre,vre,t=>{var{smaller:e,larger:r}=t,i=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(c,h){var p={key:c,value:h,degree:0};if(this._minimum){var d=this._minimum;p.left=d,p.right=d.right,d.right=p,p.right.left=p,e(c,d.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return this._size===0},n.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var h=this._minimum,p=c.degree,d=c.child;p>0;){var m=d.right;d.left.right=d.right,d.right.left=d.left,d.left=h,d.right=h.right,h.right=d,d.right.left=d,d.parent=null,d=m,p--}return c.left.right=c.right,c.right.left=c.left,c===c.right?h=null:(h=c.right,h=u(h,this._size)),this._size--,this._minimum=h,c},n.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,h,p){h.key=p;var d=h.parent;return d&&e(h.key,d.key)&&(s(c,h,d),o(c,d)),e(h.key,c.key)&&(c=h),c}function s(c,h,p){h.left.right=h.right,h.right.left=h.left,p.degree--,p.child===h&&(p.child=h.right),p.degree===0&&(p.child=null),h.left=c,h.right=c.right,c.right=h,h.right.left=h,h.parent=null,h.mark=!1}function o(c,h){var p=h.parent;p&&(h.mark?(s(c,h,p),o(p)):h.mark=!0)}var l=function(h,p){h.left.right=h.right,h.right.left=h.left,h.parent=p,p.child?(h.left=p.child,h.right=p.child.right,p.child.right=h,h.right.left=h):(p.child=h,h.right=h,h.left=h),p.degree++,h.mark=!1};function u(c,h){var p=Math.floor(Math.log(h)*i)+1,d=new Array(p),m=0,f=c;if(f)for(m++,f=f.right;f!==c;)m++,f=f.right;for(var v;m>0;){for(var y=f.degree,x=f.right;v=d[y],!!v;){if(r(f.key,v.key)){var g=v;v=f,f=g}l(v,f),d[y]=null,y++}d[y]=f,f=x,m--}c=null;for(var b=0;b<p;b++)v=d[b],v&&(c?(v.left.right=v.right,v.right.left=v.left,v.left=c,v.right=c.right,c.right=v,v.right.left=v,e(v.key,c.key)&&(c=v)):c=v);return c}return n},{isClass:!0}),bre="Spa",xre=["addScalar","equalScalar","FibonacciHeap"],wre=ce(bre,xre,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:i}=t;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(a,s){if(this._values[a])this._values[a].value=s;else{var o=this._heap.insert(a,s);this._values[a]=o}},n.prototype.get=function(a){var s=this._values[a];return s?s.value:0},n.prototype.accumulate=function(a,s){var o=this._values[a];o?o.value=e(o.value,s):(o=this._heap.insert(a,s),this._values[a]=o)},n.prototype.forEach=function(a,s,o){var l=this._heap,u=this._values,c=[],h=l.extractMinimum();for(h&&c.push(h);h&&h.key<=s;)h.key>=a&&(r(h.value,0)||o(h.key,h.value,this)),h=l.extractMinimum(),h&&c.push(h);for(var p=0;p<c.length;p++){var d=c[p];h=l.insert(d.key,d.value),u[h.key]=h}},n.prototype.swap=function(a,s){var o=this._values[a],l=this._values[s];if(!o&&l)o=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=o,this._values[s]=void 0;else if(o&&!l)l=this._heap.insert(s,o.value),this._heap.remove(o),this._values[s]=l,this._values[a]=void 0;else if(o&&l){var u=o.value;o.value=l.value,l.value=u}},n},{isClass:!0});function Mre(t){var e=0,r=1,i=Object.create(null),n=Object.create(null),a=0,s=function(l){var u=n[l];if(u&&(delete i[u],delete n[l],--e,r===u)){if(!e){a=0,r=1;return}for(;!Object.prototype.hasOwnProperty.call(i,++r););}};return t=Math.abs(t),{hit:function(l){var u=n[l],c=++a;if(i[c]=l,n[l]=c,!u)return++e,e<=t?void 0:(l=i[r],s(l),l);if(delete i[u],r===u)for(;!Object.prototype.hasOwnProperty.call(i,++r););},delete:s,clear:function(){e=a=0,r=1,i=Object.create(null),n=Object.create(null)}}}function Bm(t){var{hasher:e,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function i(){typeof i.cache!="object"&&(i.cache={values:new Map,lru:Mre(r||Number.POSITIVE_INFINITY)});for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var s=e(n);if(i.cache.values.has(s))return i.cache.lru.hit(s),i.cache.values.get(s);var o=t.apply(t,n);return i.cache.values.set(s,o),i.cache.values.delete(i.cache.lru.hit(s)),o}}var kre=Bm(function(t){return new t(1).exp()},{hasher:Qg}),Cre=Bm(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:Qg}),h6=Bm(function(t){return t.acos(-1)},{hasher:Qg}),Nre=Bm(function(t){return h6(t).times(2)},{hasher:Qg});function Qg(t){return t[0].precision}function L$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function p6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L$(Object(r),!0).forEach(function(i){Da(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var Sre="Unit",Dre=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","toBest","number","Complex","BigNumber","Fraction"],z$=ce(Sre,Dre,t=>{var{on:e,config:r,addScalar:i,subtractScalar:n,multiplyScalar:a,divideScalar:s,pow:o,abs:l,fix:u,round:c,equal:h,isNumeric:p,format:d,toBest:m,number:f,Complex:v,BigNumber:y,Fraction:x}=t,g=f;function b(J,me){if(!(this instanceof b))throw new Error("Constructor must be called with the new operator");if(!(J==null||p(J)||Rl(J)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,me===void 0)this.units=[],this.dimensions=X.map(te=>0);else if(typeof me=="string"){var Oe=b.parse(me);this.units=Oe.units,this.dimensions=Oe.dimensions}else if(Ks(me)&&me.value===null)this.fixPrefix=me.fixPrefix,this.skipAutomaticSimplification=me.skipAutomaticSimplification,this.dimensions=me.dimensions.slice(0),this.units=me.units.map(te=>Sa({},te));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(J)}Object.defineProperty(b,"name",{value:"Unit"}),b.prototype.constructor=b,b.prototype.type="Unit",b.prototype.isUnit=!0;var k,w,N;function A(){for(;N===" "||N==="	";)_()}function $(J){return J>="0"&&J<="9"||J==="."}function D(J){return J>="0"&&J<="9"}function _(){w++,N=k.charAt(w)}function T(J){w=J,N=k.charAt(w)}function z(){var J="",me=w;if(N==="+"?_():N==="-"&&(J+=N,_()),!$(N))return T(me),null;if(N==="."){if(J+=N,_(),!D(N))return T(me),null}else{for(;D(N);)J+=N,_();N==="."&&(J+=N,_())}for(;D(N);)J+=N,_();if(N==="E"||N==="e"){var Oe="",te=w;if(Oe+=N,_(),(N==="+"||N==="-")&&(Oe+=N,_()),!D(N))return T(te),J;for(J=J+Oe;D(N);)J+=N,_()}return J}function P(){for(var J="";D(N)||b.isValidAlpha(N);)J+=N,_();var me=J.charAt(0);return b.isValidAlpha(me)?J:null}function q(J){return N===J?(_(),J):null}b.parse=function(J,me){if(me=me||{},k=J,w=-1,N="",typeof k!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var Oe=new b;Oe.units=[];var te=1,fe=!1;_(),A();var xe=z(),Ee=null;if(xe){if(r.number==="BigNumber")Ee=new y(xe);else if(r.number==="Fraction")try{Ee=new x(xe)}catch{Ee=parseFloat(xe)}else Ee=parseFloat(xe);A(),q("*")?(te=1,fe=!0):q("/")&&(te=-1,fe=!0)}for(var Me=[],Le=1;;){for(A();N==="(";)Me.push(te),Le*=te,te=1,_(),A();var st=void 0;if(N){var mt=N;if(st=P(),st===null)throw new SyntaxError('Unexpected "'+mt+'" in "'+k+'" at index '+w.toString())}else break;var ft=L(st);if(ft===null)throw new SyntaxError('Unit "'+st+'" not found.');var Pe=te*Le;if(A(),q("^")){A();var We=z();if(We===null)throw new SyntaxError('In "'+J+'", "^" must be followed by a floating-point number');Pe*=We}Oe.units.push({unit:ft.unit,prefix:ft.prefix,power:Pe});for(var ot=0;ot<X.length;ot++)Oe.dimensions[ot]+=(ft.unit.dimensions[ot]||0)*Pe;for(A();N===")";){if(Me.length===0)throw new SyntaxError('Unmatched ")" in "'+k+'" at index '+w.toString());Le/=Me.pop(),_(),A()}if(fe=!1,q("*")?(te=1,fe=!0):q("/")?(te=-1,fe=!0):te=1,ft.unit.base){var jt=ft.unit.base.key;$e.auto[jt]={unit:ft.unit,prefix:ft.prefix}}}if(A(),N)throw new SyntaxError('Could not parse: "'+J+'"');if(fe)throw new SyntaxError('Trailing characters: "'+J+'"');if(Me.length!==0)throw new SyntaxError('Unmatched "(" in "'+k+'"');if(Oe.units.length===0&&!me.allowNoUnits)throw new SyntaxError('"'+J+'" contains no units');return Oe.value=Ee!==void 0?Oe._normalize(Ee):null,Oe},b.prototype.clone=function(){var J=new b;J.fixPrefix=this.fixPrefix,J.skipAutomaticSimplification=this.skipAutomaticSimplification,J.value=kr(this.value),J.dimensions=this.dimensions.slice(0),J.units=[];for(var me=0;me<this.units.length;me++){J.units[me]={};for(var Oe in this.units[me])Vt(this.units[me],Oe)&&(J.units[me][Oe]=this.units[me][Oe])}return J},b.prototype.valueType=function(){return an(this.value)},b.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},b.prototype._normalize=function(J){if(J==null||this.units.length===0)return J;for(var me=J,Oe=b._getNumberConverter(an(J)),te=0;te<this.units.length;te++){var fe=Oe(this.units[te].unit.value),xe=Oe(this.units[te].prefix.value),Ee=Oe(this.units[te].power);me=a(me,o(a(fe,xe),Ee))}return me},b.prototype._denormalize=function(J,me){if(J==null||this.units.length===0)return J;for(var Oe=J,te=b._getNumberConverter(an(J)),fe=0;fe<this.units.length;fe++){var xe=te(this.units[fe].unit.value),Ee=te(this.units[fe].prefix.value),Me=te(this.units[fe].power);Oe=s(Oe,o(a(xe,Ee),Me))}return Oe};var L=Bm(J=>{if(Vt(H,J)){var me=H[J],Oe=me.prefixes[""];return{unit:me,prefix:Oe}}for(var te in H)if(Vt(H,te)&&fK(J,te)){var fe=H[te],xe=J.length-te.length,Ee=J.substring(0,xe),Me=Vt(fe.prefixes,Ee)?fe.prefixes[Ee]:void 0;if(Me!==void 0)return{unit:fe,prefix:Me}}return null},{hasher:J=>J[0],limit:100});b.isValuelessUnit=function(J){return L(J)!==null},b.prototype.hasBase=function(J){if(typeof J=="string"&&(J=E[J]),!J)return!1;for(var me=0;me<X.length;me++)if(Math.abs((this.dimensions[me]||0)-(J.dimensions[me]||0))>1e-12)return!1;return!0},b.prototype.equalBase=function(J){for(var me=0;me<X.length;me++)if(Math.abs((this.dimensions[me]||0)-(J.dimensions[me]||0))>1e-12)return!1;return!0},b.prototype.equals=function(J){return this.equalBase(J)&&h(this.value,J.value)},b.prototype.multiply=function(J){for(var me=this.clone(),Oe=Ks(J)?J:new b(J),te=0;te<X.length;te++)me.dimensions[te]=(this.dimensions[te]||0)+(Oe.dimensions[te]||0);for(var fe=0;fe<Oe.units.length;fe++){var xe=p6({},Oe.units[fe]);me.units.push(xe)}if(this.value!==null||Oe.value!==null){var Ee=this.value===null?this._normalize(W(Oe.value)):this.value,Me=Oe.value===null?Oe._normalize(W(this.value)):Oe.value;me.value=a(Ee,Me)}else me.value=null;return Ks(J)&&(me.skipAutomaticSimplification=!1),Z(me)},b.prototype.divideInto=function(J){return new b(J).divide(this)},b.prototype.divide=function(J){for(var me=this.clone(),Oe=Ks(J)?J:new b(J),te=0;te<X.length;te++)me.dimensions[te]=(this.dimensions[te]||0)-(Oe.dimensions[te]||0);for(var fe=0;fe<Oe.units.length;fe++){var xe=p6(p6({},Oe.units[fe]),{},{power:-Oe.units[fe].power});me.units.push(xe)}if(this.value!==null||Oe.value!==null){var Ee=this.value===null?this._normalize(W(Oe.value)):this.value,Me=Oe.value===null?Oe._normalize(W(this.value)):Oe.value;me.value=s(Ee,Me)}else me.value=null;return Ks(J)&&(me.skipAutomaticSimplification=!1),Z(me)},b.prototype.pow=function(J){for(var me=this.clone(),Oe=0;Oe<X.length;Oe++)me.dimensions[Oe]=(this.dimensions[Oe]||0)*J;for(var te=0;te<me.units.length;te++)me.units[te].power*=J;return me.value!==null?me.value=o(me.value,J):me.value=null,me.skipAutomaticSimplification=!1,Z(me)};function Z(J){return J.equalBase(E.NONE)&&J.value!==null&&!r.predictable?J.value:J}function W(J){var me=b._getNumberConverter(an(J));return me(1)}b.prototype.abs=function(){var J=this.clone();if(J.value!==null)if(J._isDerived()||J.units.length===0||J.units[0].unit.offset===0)J.value=l(J.value);else{var me=J._numberConverter(),Oe=me(J.units[0].unit.value),te=me(J.units[0].unit.offset),fe=a(Oe,te);J.value=n(l(i(J.value,fe)),fe)}for(var xe in J.units)(J.units[xe].unit.name==="VA"||J.units[xe].unit.name==="VAR")&&(J.units[xe].unit=H.W);return J},b.prototype.to=function(J){var me=this.value===null?this._normalize(1):this.value,Oe;if(typeof J=="string")Oe=b.parse(J);else if(Ks(J))Oe=J.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(Oe))throw new Error("Units do not match ('".concat(Oe.toString(),"' != '").concat(this.toString(),"')"));if(Oe.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||Oe.units.length===0||this.units[0].unit.offset===Oe.units[0].unit.offset)Oe.value=kr(me);else{var te=b._getNumberConverter(an(me)),fe=this.units[0].unit.value,xe=this.units[0].unit.offset,Ee=a(fe,xe),Me=Oe.units[0].unit.value,Le=Oe.units[0].unit.offset,st=a(Me,Le);Oe.value=i(me,te(n(Ee,st)))}return Oe.fixPrefix=!0,Oe.skipAutomaticSimplification=!0,Oe},b.prototype.toNumber=function(J){return g(this.toNumeric(J))},b.prototype.toNumeric=function(J){var me;return J?me=this.to(J):me=this.clone(),me._isDerived()||me.units.length===0?me._denormalize(me.value):me._denormalize(me.value,me.units[0].prefix.value)},b.prototype.toString=function(){return this.format()},b.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},b.fromJSON=function(J){var me,Oe=new b(J.value,(me=J.unit)!==null&&me!==void 0?me:void 0);return Oe.fixPrefix=J.fixPrefix||!1,Oe},b.prototype.valueOf=b.prototype.toString,b.prototype.simplify=function(){var J=this.clone(),me=[],Oe;for(var te in Ne)if(Vt(Ne,te)&&J.hasBase(E[te])){Oe=te;break}if(Oe==="NONE")J.units=[];else{var fe;if(Oe&&Vt(Ne,Oe)&&(fe=Ne[Oe]),fe)J.units=[{unit:fe.unit,prefix:fe.prefix,power:1}];else{for(var xe=!1,Ee=0;Ee<X.length;Ee++){var Me=X[Ee];Math.abs(J.dimensions[Ee]||0)>1e-12&&(Vt(Ne,Me)?me.push({unit:Ne[Me].unit,prefix:Ne[Me].prefix,power:J.dimensions[Ee]||0}):xe=!0)}me.length<J.units.length&&!xe&&(J.units=me)}}return J},b.prototype.toSI=function(){for(var J=this.clone(),me=[],Oe=0;Oe<X.length;Oe++){var te=X[Oe];if(Math.abs(J.dimensions[Oe]||0)>1e-12)if(Vt($e.si,te))me.push({unit:$e.si[te].unit,prefix:$e.si[te].prefix,power:J.dimensions[Oe]||0});else throw new Error("Cannot express custom unit "+te+" in SI units")}return J.units=me,J.fixPrefix=!0,J.skipAutomaticSimplification=!0,this.value!==null?(J.value=null,this.to(J)):J},b.prototype.formatUnits=function(){for(var J="",me="",Oe=0,te=0,fe=0;fe<this.units.length;fe++)this.units[fe].power>0?(Oe++,J+=" "+this.units[fe].prefix.name+this.units[fe].unit.name,Math.abs(this.units[fe].power-1)>1e-15&&(J+="^"+this.units[fe].power)):this.units[fe].power<0&&te++;if(te>0)for(var xe=0;xe<this.units.length;xe++)this.units[xe].power<0&&(Oe>0?(me+=" "+this.units[xe].prefix.name+this.units[xe].unit.name,Math.abs(this.units[xe].power+1)>1e-15&&(me+="^"+-this.units[xe].power)):(me+=" "+this.units[xe].prefix.name+this.units[xe].unit.name,me+="^"+this.units[xe].power));J=J.substr(1),me=me.substr(1),Oe>1&&te>0&&(J="("+J+")"),te>1&&Oe>0&&(me="("+me+")");var Ee=J;return Oe>0&&te>0&&(Ee+=" / "),Ee+=me,Ee},b.prototype.toBest=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(J&&!Array.isArray(J))throw new Error("Invalid unit type. Expected string or Unit.");var Oe=this.units[0].unit.prefixes;if(J&&J.length>0){var te=J.map(Ee=>{var Me=null;if(typeof Ee=="string"){if(Me=b.parse(Ee),!Me)throw new Error("Invalid unit type. Expected compatible string or Unit.")}else if(!Ks(Ee))throw new Error("Invalid unit type. Expected compatible string or Unit.");Me===null&&(Me=Ee.clone());try{return this.to(Me.formatUnits()),Me}catch{throw new Error("Invalid unit type. Expected compatible string or Unit.")}}),fe=te.map(Ee=>Ee.units[0].prefix);this.units[0].unit.prefixes=fe.reduce((Ee,Me)=>(Ee[Me.name]=Me,Ee),{}),this.units[0].prefix=fe[0]}var xe=Y(this,me).simp;return this.units[0].unit.prefixes=Oe,xe.fixPrefix=!0,xe},b.prototype.format=function(J){var{simp:me,valueStr:Oe,unitStr:te}=Y(this,J),fe=Oe;return me.value&&Rl(me.value)&&(fe="("+fe+")"),te.length>0&&fe.length>0&&(fe+=" "),fe+=te,fe};function Y(J){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe=J.skipAutomaticSimplification||J.value===null?J.clone():J.simplify();ie(Oe),re(Oe,me.offset);var te=Oe._denormalize(Oe.value),fe=Oe.value!==null?d(te,me||{}):"",xe=Oe.formatUnits();return{simp:Oe,valueStr:fe,unitStr:xe}}function ie(J){var me=!1;typeof J.value<"u"&&J.value!==null&&Rl(J.value)&&(me=Math.abs(J.value.re)<1e-14);for(var Oe in J.units)Vt(J.units,Oe)&&J.units[Oe].unit&&(J.units[Oe].unit.name==="VA"&&me?J.units[Oe].unit=H.VAR:J.units[Oe].unit.name==="VAR"&&!me&&(J.units[Oe].unit=H.VA))}function re(J,me){J.units.length===1&&!J.fixPrefix&&Math.abs(J.units[0].power-Math.round(J.units[0].power))<1e-14&&(J.units[0].prefix=J._bestPrefix(me))}b.prototype._bestPrefix=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1.2;if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var me=this.value!==null?l(this.value):0,Oe=l(this.units[0].unit.value),te=this.units[0].prefix;if(me===0)return te;var fe=this.units[0].power,xe=Math.log(me/Math.pow(te.value*Oe,fe))/Math.LN10-J;if(xe>-2.200001&&xe<1.800001)return te;xe=Math.abs(xe);var Ee=this.units[0].unit.prefixes;for(var Me in Ee)if(Vt(Ee,Me)){var Le=Ee[Me];if(Le.scientific){var st=Math.abs(Math.log(me/Math.pow(Le.value*Oe,fe))/Math.LN10-J);(st<xe||st===xe&&Le.name.length<te.name.length)&&(te=Le,xe=st)}}return te},b.prototype.splitUnit=function(J){for(var me=this.clone(),Oe=[],te=0;te<J.length&&(me=me.to(J[te]),te!==J.length-1);te++){var fe=me.toNumeric(),xe=c(fe),Ee=void 0,Me=h(xe,fe);Me?Ee=xe:Ee=u(me.toNumeric());var Le=new b(Ee,J[te].toString());Oe.push(Le),me=n(me,Le)}for(var st=0,mt=0;mt<Oe.length;mt++)st=i(st,Oe[mt].value);return h(st,this.value)&&(me.value=0),Oe.push(me),Oe};var R={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};R.SHORTLONG=Sa({},R.SHORT,R.LONG),R.BINARY_SHORT=Sa({},R.BINARY_SHORT_SI,R.BINARY_SHORT_IEC),R.BINARY_LONG=Sa({},R.BINARY_LONG_SI,R.BINARY_LONG_IEC);var X=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],E={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var oe in E)Vt(E,oe)&&(E[oe].key=oe);var le={},ne={name:"",base:le,value:1,offset:0,dimensions:X.map(J=>0)},H={meter:{name:"meter",base:E.LENGTH,prefixes:R.LONG,value:1,offset:0},inch:{name:"inch",base:E.LENGTH,prefixes:R.NONE,value:.0254,offset:0},foot:{name:"foot",base:E.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yard:{name:"yard",base:E.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mile:{name:"mile",base:E.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},link:{name:"link",base:E.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rod:{name:"rod",base:E.LENGTH,prefixes:R.NONE,value:5.0292,offset:0},chain:{name:"chain",base:E.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:E.LENGTH,prefixes:R.NONE,value:1e-10,offset:0},m:{name:"m",base:E.LENGTH,prefixes:R.SHORT,value:1,offset:0},in:{name:"in",base:E.LENGTH,prefixes:R.NONE,value:.0254,offset:0},ft:{name:"ft",base:E.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yd:{name:"yd",base:E.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mi:{name:"mi",base:E.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},li:{name:"li",base:E.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rd:{name:"rd",base:E.LENGTH,prefixes:R.NONE,value:5.02921,offset:0},ch:{name:"ch",base:E.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},mil:{name:"mil",base:E.LENGTH,prefixes:R.NONE,value:254e-7,offset:0},m2:{name:"m2",base:E.SURFACE,prefixes:R.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:E.SURFACE,prefixes:R.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:E.SURFACE,prefixes:R.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:E.SURFACE,prefixes:R.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:E.SURFACE,prefixes:R.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:E.SURFACE,prefixes:R.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:E.SURFACE,prefixes:R.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:E.SURFACE,prefixes:R.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:E.SURFACE,prefixes:R.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:E.SURFACE,prefixes:R.NONE,value:1e4,offset:0},m3:{name:"m3",base:E.VOLUME,prefixes:R.CUBIC,value:1,offset:0},L:{name:"L",base:E.VOLUME,prefixes:R.SHORT,value:.001,offset:0},l:{name:"l",base:E.VOLUME,prefixes:R.SHORT,value:.001,offset:0},litre:{name:"litre",base:E.VOLUME,prefixes:R.LONG,value:.001,offset:0},cuin:{name:"cuin",base:E.VOLUME,prefixes:R.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:E.VOLUME,prefixes:R.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:E.VOLUME,prefixes:R.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:E.VOLUME,prefixes:R.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:E.VOLUME,prefixes:R.NONE,value:15e-6,offset:0},drop:{name:"drop",base:E.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:E.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},minim:{name:"minim",base:E.VOLUME,prefixes:R.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:E.VOLUME,prefixes:R.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:E.VOLUME,prefixes:R.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:E.VOLUME,prefixes:R.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:E.VOLUME,prefixes:R.NONE,value:1e-6,offset:0},cup:{name:"cup",base:E.VOLUME,prefixes:R.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:E.VOLUME,prefixes:R.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:E.VOLUME,prefixes:R.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:E.VOLUME,prefixes:R.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:E.VOLUME,prefixes:R.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:E.VOLUME,prefixes:R.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:E.VOLUME,prefixes:R.NONE,value:.238480942392,offset:0},g:{name:"g",base:E.MASS,prefixes:R.SHORT,value:.001,offset:0},gram:{name:"gram",base:E.MASS,prefixes:R.LONG,value:.001,offset:0},ton:{name:"ton",base:E.MASS,prefixes:R.SHORT,value:907.18474,offset:0},t:{name:"t",base:E.MASS,prefixes:R.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:E.MASS,prefixes:R.LONG,value:1e3,offset:0},grain:{name:"grain",base:E.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:E.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:E.MASS,prefixes:R.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:E.MASS,prefixes:R.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:E.MASS,prefixes:R.NONE,value:45.359237,offset:0},stick:{name:"stick",base:E.MASS,prefixes:R.NONE,value:.115,offset:0},stone:{name:"stone",base:E.MASS,prefixes:R.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:E.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:E.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:E.MASS,prefixes:R.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:E.MASS,prefixes:R.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:E.MASS,prefixes:R.NONE,value:45.359237,offset:0},s:{name:"s",base:E.TIME,prefixes:R.SHORT,value:1,offset:0},min:{name:"min",base:E.TIME,prefixes:R.NONE,value:60,offset:0},h:{name:"h",base:E.TIME,prefixes:R.NONE,value:3600,offset:0},second:{name:"second",base:E.TIME,prefixes:R.LONG,value:1,offset:0},sec:{name:"sec",base:E.TIME,prefixes:R.LONG,value:1,offset:0},minute:{name:"minute",base:E.TIME,prefixes:R.NONE,value:60,offset:0},hour:{name:"hour",base:E.TIME,prefixes:R.NONE,value:3600,offset:0},day:{name:"day",base:E.TIME,prefixes:R.NONE,value:86400,offset:0},week:{name:"week",base:E.TIME,prefixes:R.NONE,value:7*86400,offset:0},month:{name:"month",base:E.TIME,prefixes:R.NONE,value:2629800,offset:0},year:{name:"year",base:E.TIME,prefixes:R.NONE,value:31557600,offset:0},decade:{name:"decade",base:E.TIME,prefixes:R.NONE,value:315576e3,offset:0},century:{name:"century",base:E.TIME,prefixes:R.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:E.TIME,prefixes:R.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:E.FREQUENCY,prefixes:R.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:E.FREQUENCY,prefixes:R.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:E.ANGLE,prefixes:R.SHORT,value:1,offset:0},radian:{name:"radian",base:E.ANGLE,prefixes:R.LONG,value:1,offset:0},deg:{name:"deg",base:E.ANGLE,prefixes:R.SHORT,value:null,offset:0},degree:{name:"degree",base:E.ANGLE,prefixes:R.LONG,value:null,offset:0},grad:{name:"grad",base:E.ANGLE,prefixes:R.SHORT,value:null,offset:0},gradian:{name:"gradian",base:E.ANGLE,prefixes:R.LONG,value:null,offset:0},cycle:{name:"cycle",base:E.ANGLE,prefixes:R.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:E.ANGLE,prefixes:R.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:E.ANGLE,prefixes:R.NONE,value:null,offset:0},A:{name:"A",base:E.CURRENT,prefixes:R.SHORT,value:1,offset:0},ampere:{name:"ampere",base:E.CURRENT,prefixes:R.LONG,value:1,offset:0},K:{name:"K",base:E.TEMPERATURE,prefixes:R.SHORT,value:1,offset:0},degC:{name:"degC",base:E.TEMPERATURE,prefixes:R.SHORT,value:1,offset:273.15},degF:{name:"degF",base:E.TEMPERATURE,prefixes:R.SHORT,value:new x(5,9),offset:459.67},degR:{name:"degR",base:E.TEMPERATURE,prefixes:R.SHORT,value:new x(5,9),offset:0},kelvin:{name:"kelvin",base:E.TEMPERATURE,prefixes:R.LONG,value:1,offset:0},celsius:{name:"celsius",base:E.TEMPERATURE,prefixes:R.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:E.TEMPERATURE,prefixes:R.LONG,value:new x(5,9),offset:459.67},rankine:{name:"rankine",base:E.TEMPERATURE,prefixes:R.LONG,value:new x(5,9),offset:0},mol:{name:"mol",base:E.AMOUNT_OF_SUBSTANCE,prefixes:R.SHORT,value:1,offset:0},mole:{name:"mole",base:E.AMOUNT_OF_SUBSTANCE,prefixes:R.LONG,value:1,offset:0},cd:{name:"cd",base:E.LUMINOUS_INTENSITY,prefixes:R.SHORT,value:1,offset:0},candela:{name:"candela",base:E.LUMINOUS_INTENSITY,prefixes:R.LONG,value:1,offset:0},N:{name:"N",base:E.FORCE,prefixes:R.SHORT,value:1,offset:0},newton:{name:"newton",base:E.FORCE,prefixes:R.LONG,value:1,offset:0},dyn:{name:"dyn",base:E.FORCE,prefixes:R.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:E.FORCE,prefixes:R.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:E.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:E.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:E.FORCE,prefixes:R.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:E.FORCE,prefixes:R.NONE,value:9.80665,offset:0},J:{name:"J",base:E.ENERGY,prefixes:R.SHORT,value:1,offset:0},joule:{name:"joule",base:E.ENERGY,prefixes:R.LONG,value:1,offset:0},erg:{name:"erg",base:E.ENERGY,prefixes:R.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:E.ENERGY,prefixes:R.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:E.ENERGY,prefixes:R.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:E.ENERGY,prefixes:R.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:E.ENERGY,prefixes:R.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:E.POWER,prefixes:R.SHORT,value:1,offset:0},watt:{name:"watt",base:E.POWER,prefixes:R.LONG,value:1,offset:0},hp:{name:"hp",base:E.POWER,prefixes:R.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:E.POWER,prefixes:R.SHORT,value:v.I,offset:0},VA:{name:"VA",base:E.POWER,prefixes:R.SHORT,value:1,offset:0},Pa:{name:"Pa",base:E.PRESSURE,prefixes:R.SHORT,value:1,offset:0},psi:{name:"psi",base:E.PRESSURE,prefixes:R.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:E.PRESSURE,prefixes:R.NONE,value:101325,offset:0},bar:{name:"bar",base:E.PRESSURE,prefixes:R.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:E.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:E.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:E.PRESSURE,prefixes:R.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:E.PRESSURE,prefixes:R.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:E.ELECTRIC_CHARGE,prefixes:R.LONG,value:1,offset:0},C:{name:"C",base:E.ELECTRIC_CHARGE,prefixes:R.SHORT,value:1,offset:0},farad:{name:"farad",base:E.ELECTRIC_CAPACITANCE,prefixes:R.LONG,value:1,offset:0},F:{name:"F",base:E.ELECTRIC_CAPACITANCE,prefixes:R.SHORT,value:1,offset:0},volt:{name:"volt",base:E.ELECTRIC_POTENTIAL,prefixes:R.LONG,value:1,offset:0},V:{name:"V",base:E.ELECTRIC_POTENTIAL,prefixes:R.SHORT,value:1,offset:0},ohm:{name:"ohm",base:E.ELECTRIC_RESISTANCE,prefixes:R.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:E.ELECTRIC_INDUCTANCE,prefixes:R.LONG,value:1,offset:0},H:{name:"H",base:E.ELECTRIC_INDUCTANCE,prefixes:R.SHORT,value:1,offset:0},siemens:{name:"siemens",base:E.ELECTRIC_CONDUCTANCE,prefixes:R.LONG,value:1,offset:0},S:{name:"S",base:E.ELECTRIC_CONDUCTANCE,prefixes:R.SHORT,value:1,offset:0},weber:{name:"weber",base:E.MAGNETIC_FLUX,prefixes:R.LONG,value:1,offset:0},Wb:{name:"Wb",base:E.MAGNETIC_FLUX,prefixes:R.SHORT,value:1,offset:0},tesla:{name:"tesla",base:E.MAGNETIC_FLUX_DENSITY,prefixes:R.LONG,value:1,offset:0},T:{name:"T",base:E.MAGNETIC_FLUX_DENSITY,prefixes:R.SHORT,value:1,offset:0},b:{name:"b",base:E.BIT,prefixes:R.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:E.BIT,prefixes:R.BINARY_LONG,value:1,offset:0},B:{name:"B",base:E.BIT,prefixes:R.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:E.BIT,prefixes:R.BINARY_LONG,value:8,offset:0}},ue={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ae(J){if(J.number==="BigNumber"){var me=h6(y);H.rad.value=new y(1),H.deg.value=me.div(180),H.grad.value=me.div(200),H.cycle.value=me.times(2),H.arcsec.value=me.div(648e3),H.arcmin.value=me.div(10800)}else H.rad.value=1,H.deg.value=Math.PI/180,H.grad.value=Math.PI/200,H.cycle.value=Math.PI*2,H.arcsec.value=Math.PI/648e3,H.arcmin.value=Math.PI/10800;H.radian.value=H.rad.value,H.degree.value=H.deg.value,H.gradian.value=H.grad.value}ae(r),e&&e("config",function(J,me){J.number!==me.number&&ae(J)});var $e={si:{NONE:{unit:ne,prefix:R.NONE[""]},LENGTH:{unit:H.m,prefix:R.SHORT[""]},MASS:{unit:H.g,prefix:R.SHORT.k},TIME:{unit:H.s,prefix:R.SHORT[""]},CURRENT:{unit:H.A,prefix:R.SHORT[""]},TEMPERATURE:{unit:H.K,prefix:R.SHORT[""]},LUMINOUS_INTENSITY:{unit:H.cd,prefix:R.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:H.mol,prefix:R.SHORT[""]},ANGLE:{unit:H.rad,prefix:R.SHORT[""]},BIT:{unit:H.bits,prefix:R.SHORT[""]},FORCE:{unit:H.N,prefix:R.SHORT[""]},ENERGY:{unit:H.J,prefix:R.SHORT[""]},POWER:{unit:H.W,prefix:R.SHORT[""]},PRESSURE:{unit:H.Pa,prefix:R.SHORT[""]},ELECTRIC_CHARGE:{unit:H.C,prefix:R.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:H.F,prefix:R.SHORT[""]},ELECTRIC_POTENTIAL:{unit:H.V,prefix:R.SHORT[""]},ELECTRIC_RESISTANCE:{unit:H.ohm,prefix:R.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:H.H,prefix:R.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:H.S,prefix:R.SHORT[""]},MAGNETIC_FLUX:{unit:H.Wb,prefix:R.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:H.T,prefix:R.SHORT[""]},FREQUENCY:{unit:H.Hz,prefix:R.SHORT[""]}}};$e.cgs=JSON.parse(JSON.stringify($e.si)),$e.cgs.LENGTH={unit:H.m,prefix:R.SHORT.c},$e.cgs.MASS={unit:H.g,prefix:R.SHORT[""]},$e.cgs.FORCE={unit:H.dyn,prefix:R.SHORT[""]},$e.cgs.ENERGY={unit:H.erg,prefix:R.NONE[""]},$e.us=JSON.parse(JSON.stringify($e.si)),$e.us.LENGTH={unit:H.ft,prefix:R.NONE[""]},$e.us.MASS={unit:H.lbm,prefix:R.NONE[""]},$e.us.TEMPERATURE={unit:H.degF,prefix:R.NONE[""]},$e.us.FORCE={unit:H.lbf,prefix:R.NONE[""]},$e.us.ENERGY={unit:H.BTU,prefix:R.BTU[""]},$e.us.POWER={unit:H.hp,prefix:R.NONE[""]},$e.us.PRESSURE={unit:H.psi,prefix:R.NONE[""]},$e.auto=JSON.parse(JSON.stringify($e.si));var Ne=$e.auto;b.setUnitSystem=function(J){if(Vt($e,J))Ne=$e[J];else throw new Error("Unit system "+J+" does not exist. Choices are: "+Object.keys($e).join(", "))},b.getUnitSystem=function(){for(var J in $e)if(Vt($e,J)&&$e[J]===Ne)return J},b.typeConverters={BigNumber:function(me){return me!=null&&me.isFraction?new y(String(me.n)).div(String(me.d)).times(String(me.s)):new y(me+"")},Fraction:function(me){return new x(me)},Complex:function(me){return me},number:function(me){return me!=null&&me.isFraction?f(me):me}},b.prototype._numberConverter=function(){var J=b.typeConverters[this.valueType()];if(J)return J;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},b._getNumberConverter=function(J){if(!b.typeConverters[J])throw new TypeError('Unsupported type "'+J+'"');return b.typeConverters[J]};for(var ze in H)if(Vt(H,ze)){var Te=H[ze];Te.dimensions=Te.base.dimensions}for(var Qe in ue)if(Vt(ue,Qe)){var nt=H[ue[Qe]],rt={};for(var Ue in nt)Vt(nt,Ue)&&(rt[Ue]=nt[Ue]);rt.name=Qe,H[Qe]=rt}b.isValidAlpha=function(me){return/^[a-zA-Z]$/.test(me)};function lt(J){for(var me=0;me<J.length;me++){if(N=J.charAt(me),me===0&&!b.isValidAlpha(N))throw new Error('Invalid unit name (must begin with alpha character): "'+J+'"');if(me>0&&!(b.isValidAlpha(N)||D(N)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+J+'"')}}return b.createUnit=function(J,me){if(typeof J!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(me&&me.override){for(var Oe in J)if(Vt(J,Oe)&&b.deleteUnit(Oe),J[Oe].aliases)for(var te=0;te<J[Oe].aliases.length;te++)b.deleteUnit(J[Oe].aliases[te])}var fe;for(var xe in J)Vt(J,xe)&&(fe=b.createUnitSingle(xe,J[xe]));return fe},b.createUnitSingle=function(J,me){if((typeof me>"u"||me===null)&&(me={}),typeof J!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Vt(H,J))throw new Error('Cannot create unit "'+J+'": a unit with that name already exists');lt(J);var Oe=null,te=[],fe=0,xe,Ee,Me;if(me&&me.type==="Unit")Oe=me.clone();else if(typeof me=="string")me!==""&&(xe=me);else if(typeof me=="object")xe=me.definition,Ee=me.prefixes,fe=me.offset,Me=me.baseName,me.aliases&&(te=me.aliases.valueOf());else throw new TypeError('Cannot create unit "'+J+'" from "'+me.toString()+'": expecting "string" or "Unit" or "Object"');if(te){for(var Le=0;Le<te.length;Le++)if(Vt(H,te[Le]))throw new Error('Cannot create alias "'+te[Le]+'": a unit with that name already exists')}if(xe&&typeof xe=="string"&&!Oe)try{Oe=b.parse(xe,{allowNoUnits:!0})}catch(vr){throw vr.message='Could not create unit "'+J+'" from "'+xe+'": '+vr.message,vr}else xe&&xe.type==="Unit"&&(Oe=xe.clone());te=te||[],fe=fe||0,Ee&&Ee.toUpperCase?Ee=R[Ee.toUpperCase()]||R.NONE:Ee=R.NONE;var st={};if(Oe){st={name:J,value:Oe.value,dimensions:Oe.dimensions.slice(0),prefixes:Ee,offset:fe};var We=!1;for(var ot in E)if(Vt(E,ot)){for(var jt=!0,Er=0;Er<X.length;Er++)if(Math.abs((st.dimensions[Er]||0)-(E[ot].dimensions[Er]||0))>1e-12){jt=!1;break}if(jt){We=!0,st.base=E[ot];break}}if(!We){Me=Me||J+"_STUFF";var U={dimensions:Oe.dimensions.slice(0)};U.key=Me,E[Me]=U,Ne[Me]={unit:st,prefix:R.NONE[""]},st.base=E[Me]}}else{if(Me=Me||J+"_STUFF",X.indexOf(Me)>=0)throw new Error('Cannot create new base unit "'+J+'": a base unit with that name already exists (and cannot be overridden)');X.push(Me);for(var mt in E)Vt(E,mt)&&(E[mt].dimensions[X.length-1]=0);for(var ft={dimensions:[]},Pe=0;Pe<X.length;Pe++)ft.dimensions[Pe]=0;ft.dimensions[X.length-1]=1,ft.key=Me,E[Me]=ft,st={name:J,value:1,dimensions:E[Me].dimensions.slice(0),prefixes:Ee,offset:fe,base:E[Me]},Ne[Me]={unit:st,prefix:R.NONE[""]}}b.UNITS[J]=st;for(var Se=0;Se<te.length;Se++){var Ke=te[Se],gt={};for(var ar in st)Vt(st,ar)&&(gt[ar]=st[ar]);gt.name=Ke,b.UNITS[Ke]=gt}return delete L.cache,new b(null,J)},b.deleteUnit=function(J){delete b.UNITS[J],delete L.cache},b.PREFIXES=R,b.BASE_DIMENSIONS=X,b.BASE_UNITS=E,b.UNIT_SYSTEMS=$e,b.UNITS=H,b},{isClass:!0}),B$="unit",Are=["typed","Unit"],$re=ce(B$,Are,t=>{var{typed:e,Unit:r}=t;return e(B$,{Unit:function(n){return n.clone()},string:function(n){return r.isValuelessUnit(n)?new r(null,n):r.parse(n,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(n,a){return new r(n,a)},"number | BigNumber | Fraction":function(n){return new r(n)},"Array | Matrix":e.referToSelf(i=>n=>Gr(n,i))})}),O$="sparse",_re=["typed","SparseMatrix"],Ere=ce(O$,_re,t=>{var{typed:e,SparseMatrix:r}=t;return e(O$,{"":function(){return new r([])},string:function(n){return new r([],n)},"Array | Matrix":function(n){return new r(n)},"Array | Matrix, string":function(n,a){return new r(n,a)}})}),F$="createUnit",Ire=["typed","Unit"],Tre=ce(F$,Ire,t=>{var{typed:e,Unit:r}=t;return e(F$,{"Object, Object":function(n,a){return r.createUnit(n,a)},Object:function(n){return r.createUnit(n,{})},"string, Unit | string | Object, Object":function(n,a,s){var o={};return o[n]=a,r.createUnit(o,s)},"string, Unit | string | Object":function(n,a){var s={};return s[n]=a,r.createUnit(s,{})},string:function(n){var a={};return a[n]={},r.createUnit(a,{})}})}),P$="acos",Lre=["typed","config","Complex"],zre=ce(P$,Lre,t=>{var{typed:e,config:r,Complex:i}=t;return e(P$,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.acos(a):new i(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})}),R$="acosh",Bre=["typed","config","Complex"],Ore=ce(R$,Bre,t=>{var{typed:e,config:r,Complex:i}=t;return e(R$,{number:function(a){return a>=1||r.predictable?cS(a):a<=-1?new i(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new i(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})}),j$="acot",Fre=["typed","BigNumber"],Pre=ce(j$,Fre,t=>{var{typed:e,BigNumber:r}=t;return e(j$,{number:hS,Complex:function(n){return n.acot()},BigNumber:function(n){return new r(1).div(n).atan()}})}),q$="acoth",Rre=["typed","config","Complex","BigNumber"],jre=ce(q$,Rre,t=>{var{typed:e,config:r,Complex:i,BigNumber:n}=t;return e(q$,{number:function(s){return s>=1||s<=-1||r.predictable?pS(s):new i(s,0).acoth()},Complex:function(s){return s.acoth()},BigNumber:function(s){return new n(1).div(s).atanh()}})}),U$="acsc",qre=["typed","config","Complex","BigNumber"],Ure=ce(U$,qre,t=>{var{typed:e,config:r,Complex:i,BigNumber:n}=t;return e(U$,{number:function(s){return s<=-1||s>=1||r.predictable?dS(s):new i(s,0).acsc()},Complex:function(s){return s.acsc()},BigNumber:function(s){return new n(1).div(s).asin()}})}),V$="acsch",Vre=["typed","BigNumber"],Gre=ce(V$,Vre,t=>{var{typed:e,BigNumber:r}=t;return e(V$,{number:mS,Complex:function(n){return n.acsch()},BigNumber:function(n){return new r(1).div(n).asinh()}})}),G$="asec",Zre=["typed","config","Complex","BigNumber"],Hre=ce(G$,Zre,t=>{var{typed:e,config:r,Complex:i,BigNumber:n}=t;return e(G$,{number:function(s){return s<=-1||s>=1||r.predictable?fS(s):new i(s,0).asec()},Complex:function(s){return s.asec()},BigNumber:function(s){return new n(1).div(s).acos()}})}),Z$="asech",Wre=["typed","config","Complex","BigNumber"],Yre=ce(Z$,Wre,t=>{var{typed:e,config:r,Complex:i,BigNumber:n}=t;return e(Z$,{number:function(s){if(s<=1&&s>=-1||r.predictable){var o=1/s;if(o>0||r.predictable)return gS(s);var l=Math.sqrt(o*o-1);return new i(Math.log(l-o),Math.PI)}return new i(s,0).asech()},Complex:function(s){return s.asech()},BigNumber:function(s){return new n(1).div(s).acosh()}})}),H$="asin",Kre=["typed","config","Complex"],Xre=ce(H$,Kre,t=>{var{typed:e,config:r,Complex:i}=t;return e(H$,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.asin(a):new i(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})}),Qre="asinh",Jre=["typed"],eie=ce(Qre,Jre,t=>{var{typed:e}=t;return e("asinh",{number:vS,Complex:function(i){return i.asinh()},BigNumber:function(i){return i.asinh()}})}),tie="atan",rie=["typed"],iie=ce(tie,rie,t=>{var{typed:e}=t;return e("atan",{number:function(i){return Math.atan(i)},Complex:function(i){return i.atan()},BigNumber:function(i){return i.atan()}})}),W$="atan2",nie=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],aie=ce(W$,nie,t=>{var{typed:e,matrix:r,equalScalar:i,BigNumber:n,DenseMatrix:a,concat:s}=t,o=Vl({typed:e,equalScalar:i}),l=Is({typed:e}),u=ED({typed:e,equalScalar:i}),c=gs({typed:e,equalScalar:i}),h=Ba({typed:e,DenseMatrix:a}),p=dn({typed:e,matrix:r,concat:s});return e(W$,{"number, number":Math.atan2,"BigNumber, BigNumber":(d,m)=>n.atan2(d,m)},p({scalar:"number | BigNumber",SS:u,DS:l,SD:o,Ss:c,sS:h}))}),Y$="atanh",sie=["typed","config","Complex"],oie=ce(Y$,sie,t=>{var{typed:e,config:r,Complex:i}=t;return e(Y$,{number:function(a){return a<=1&&a>=-1||r.predictable?yS(a):new i(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})}),$p=ce("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(r=>i=>{if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(r,i.valueType())(i.value)})}}),K$="cos",lie=["typed"],uie=ce(K$,lie,t=>{var{typed:e}=t,r=$p({typed:e});return e(K$,{number:Math.cos,"Complex | BigNumber":i=>i.cos()},r)}),X$="cosh",cie=["typed"],hie=ce(X$,cie,t=>{var{typed:e}=t;return e(X$,{number:HW,"Complex | BigNumber":r=>r.cosh()})}),Q$="cot",pie=["typed","BigNumber"],die=ce(Q$,pie,t=>{var{typed:e,BigNumber:r}=t,i=$p({typed:e});return e(Q$,{number:bS,Complex:n=>n.cot(),BigNumber:n=>new r(1).div(n.tan())},i)}),J$="coth",mie=["typed","BigNumber"],fie=ce(J$,mie,t=>{var{typed:e,BigNumber:r}=t;return e(J$,{number:xS,Complex:i=>i.coth(),BigNumber:i=>new r(1).div(i.tanh())})}),e_="csc",gie=["typed","BigNumber"],vie=ce(e_,gie,t=>{var{typed:e,BigNumber:r}=t,i=$p({typed:e});return e(e_,{number:wS,Complex:n=>n.csc(),BigNumber:n=>new r(1).div(n.sin())},i)}),t_="csch",yie=["typed","BigNumber"],bie=ce(t_,yie,t=>{var{typed:e,BigNumber:r}=t;return e(t_,{number:MS,Complex:i=>i.csch(),BigNumber:i=>new r(1).div(i.sinh())})}),r_="sec",xie=["typed","BigNumber"],wie=ce(r_,xie,t=>{var{typed:e,BigNumber:r}=t,i=$p({typed:e});return e(r_,{number:kS,Complex:n=>n.sec(),BigNumber:n=>new r(1).div(n.cos())},i)}),i_="sech",Mie=["typed","BigNumber"],kie=ce(i_,Mie,t=>{var{typed:e,BigNumber:r}=t;return e(i_,{number:CS,Complex:i=>i.sech(),BigNumber:i=>new r(1).div(i.cosh())})}),n_="sin",Cie=["typed"],Nie=ce(n_,Cie,t=>{var{typed:e}=t,r=$p({typed:e});return e(n_,{number:Math.sin,"Complex | BigNumber":i=>i.sin()},r)}),a_="sinh",Sie=["typed"],Die=ce(a_,Sie,t=>{var{typed:e}=t;return e(a_,{number:NS,"Complex | BigNumber":r=>r.sinh()})}),s_="tan",Aie=["typed"],$ie=ce(s_,Aie,t=>{var{typed:e}=t,r=$p({typed:e});return e(s_,{number:Math.tan,"Complex | BigNumber":i=>i.tan()},r)}),_ie="tanh",Eie=["typed"],Iie=ce(_ie,Eie,t=>{var{typed:e}=t;return e("tanh",{number:YW,"Complex | BigNumber":r=>r.tanh()})}),o_="setCartesian",Tie=["typed","size","subset","compareNatural","Index","DenseMatrix"],Lie=ce(o_,Tie,t=>{var{typed:e,size:r,subset:i,compareNatural:n,Index:a,DenseMatrix:s}=t;return e(o_,{"Array | Matrix, Array | Matrix":function(l,u){var c=[];if(i(r(l),new a(0))!==0&&i(r(u),new a(0))!==0){var h=Ci(Array.isArray(l)?l:l.toArray()).sort(n),p=Ci(Array.isArray(u)?u:u.toArray()).sort(n);c=[];for(var d=0;d<h.length;d++)for(var m=0;m<p.length;m++)c.push([h[d],p[m]])}return Array.isArray(l)&&Array.isArray(u)?c:new s(c)}})}),l_="setDifference",zie=["typed","size","subset","compareNatural","Index","DenseMatrix"],Bie=ce(l_,zie,t=>{var{typed:e,size:r,subset:i,compareNatural:n,Index:a,DenseMatrix:s}=t;return e(l_,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(i(r(l),new a(0))===0)c=[];else{if(i(r(u),new a(0))===0)return Ci(l.toArray());var h=xp(Ci(Array.isArray(l)?l:l.toArray()).sort(n)),p=xp(Ci(Array.isArray(u)?u:u.toArray()).sort(n));c=[];for(var d,m=0;m<h.length;m++){d=!1;for(var f=0;f<p.length;f++)if(n(h[m].value,p[f].value)===0&&h[m].identifier===p[f].identifier){d=!0;break}d||c.push(h[m])}}return Array.isArray(l)&&Array.isArray(u)?Eg(c):new s(Eg(c))}})}),u_="setDistinct",Oie=["typed","size","subset","compareNatural","Index","DenseMatrix"],Fie=ce(u_,Oie,t=>{var{typed:e,size:r,subset:i,compareNatural:n,Index:a,DenseMatrix:s}=t;return e(u_,{"Array | Matrix":function(l){var u;if(i(r(l),new a(0))===0)u=[];else{var c=Ci(Array.isArray(l)?l:l.toArray()).sort(n);u=[],u.push(c[0]);for(var h=1;h<c.length;h++)n(c[h],c[h-1])!==0&&u.push(c[h])}return Array.isArray(l)?u:new s(u)}})}),c_="setIntersect",Pie=["typed","size","subset","compareNatural","Index","DenseMatrix"],Rie=ce(c_,Pie,t=>{var{typed:e,size:r,subset:i,compareNatural:n,Index:a,DenseMatrix:s}=t;return e(c_,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(i(r(l),new a(0))===0||i(r(u),new a(0))===0)c=[];else{var h=xp(Ci(Array.isArray(l)?l:l.toArray()).sort(n)),p=xp(Ci(Array.isArray(u)?u:u.toArray()).sort(n));c=[];for(var d=0;d<h.length;d++)for(var m=0;m<p.length;m++)if(n(h[d].value,p[m].value)===0&&h[d].identifier===p[m].identifier){c.push(h[d]);break}}return Array.isArray(l)&&Array.isArray(u)?Eg(c):new s(Eg(c))}})}),h_="setIsSubset",jie=["typed","size","subset","compareNatural","Index"],qie=ce(h_,jie,t=>{var{typed:e,size:r,subset:i,compareNatural:n,Index:a}=t;return e(h_,{"Array | Matrix, Array | Matrix":function(o,l){if(i(r(o),new a(0))===0)return!0;if(i(r(l),new a(0))===0)return!1;for(var u=xp(Ci(Array.isArray(o)?o:o.toArray()).sort(n)),c=xp(Ci(Array.isArray(l)?l:l.toArray()).sort(n)),h,p=0;p<u.length;p++){h=!1;for(var d=0;d<c.length;d++)if(n(u[p].value,c[d].value)===0&&u[p].identifier===c[d].identifier){h=!0;break}if(h===!1)return!1}return!0}})}),p_="setMultiplicity",Uie=["typed","size","subset","compareNatural","Index"],Vie=ce(p_,Uie,t=>{var{typed:e,size:r,subset:i,compareNatural:n,Index:a}=t;return e(p_,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(o,l){if(i(r(l),new a(0))===0)return 0;for(var u=Ci(Array.isArray(l)?l:l.toArray()),c=0,h=0;h<u.length;h++)n(u[h],o)===0&&c++;return c}})}),d_="setPowerset",Gie=["typed","size","subset","compareNatural","Index"],Zie=ce(d_,Gie,t=>{var{typed:e,size:r,subset:i,compareNatural:n,Index:a}=t;return e(d_,{"Array | Matrix":function(u){if(i(r(u),new a(0))===0)return[];for(var c=Ci(Array.isArray(u)?u:u.toArray()).sort(n),h=[],p=0;p.toString(2).length<=c.length;)h.push(s(c,p.toString(2).split("").reverse())),p++;return o(h)}});function s(l,u){for(var c=[],h=0;h<u.length;h++)u[h]==="1"&&c.push(l[h]);return c}function o(l){for(var u=[],c=l.length-1;c>0;c--)for(var h=0;h<c;h++)l[h].length>l[h+1].length&&(u=l[h],l[h]=l[h+1],l[h+1]=u);return l}}),m_="setSize",Hie=["typed","compareNatural"],Wie=ce(m_,Hie,t=>{var{typed:e,compareNatural:r}=t;return e(m_,{"Array | Matrix":function(n){return Array.isArray(n)?Ci(n).length:Ci(n.toArray()).length},"Array | Matrix, boolean":function(n,a){if(a===!1||n.length===0)return Array.isArray(n)?Ci(n).length:Ci(n.toArray()).length;for(var s=Ci(Array.isArray(n)?n:n.toArray()).sort(r),o=1,l=1;l<s.length;l++)r(s[l],s[l-1])!==0&&o++;return o}})}),f_="setSymDifference",Yie=["typed","size","concat","subset","setDifference","Index"],Kie=ce(f_,Yie,t=>{var{typed:e,size:r,concat:i,subset:n,setDifference:a,Index:s}=t;return e(f_,{"Array | Matrix, Array | Matrix":function(l,u){if(n(r(l),new s(0))===0)return Ci(u);if(n(r(u),new s(0))===0)return Ci(l);var c=Ci(l),h=Ci(u);return i(a(c,h),a(h,c))}})}),g_="setUnion",Xie=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],Qie=ce(g_,Xie,t=>{var{typed:e,size:r,concat:i,subset:n,setIntersect:a,setSymDifference:s,Index:o}=t;return e(g_,{"Array | Matrix, Array | Matrix":function(u,c){if(n(r(u),new o(0))===0)return Ci(c);if(n(r(c),new o(0))===0)return Ci(u);var h=Ci(u),p=Ci(c);return i(s(h,p),a(h,p))}})}),v_="add",Jie=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],y_=ce(v_,Jie,t=>{var{typed:e,matrix:r,addScalar:i,equalScalar:n,DenseMatrix:a,SparseMatrix:s,concat:o}=t,l=yc({typed:e}),u=e6({typed:e,equalScalar:n}),c=Uh({typed:e,DenseMatrix:a}),h=dn({typed:e,matrix:r,concat:o});return e(v_,{"any, any":i,"any, any, ...any":e.referToSelf(p=>(d,m,f)=>{for(var v=p(d,m),y=0;y<f.length;y++)v=p(v,f[y]);return v})},h({elop:i,DS:l,SS:u,Ss:c}))}),b_="hypot",ene=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],tne=ce(b_,ene,t=>{var{typed:e,abs:r,addScalar:i,divideScalar:n,multiplyScalar:a,sqrt:s,smaller:o,isPositive:l}=t;return e(b_,{"... number | BigNumber":u,Array:u,Matrix:c=>u(Ci(c.toArray(),!0))});function u(c){for(var h=0,p=0,d=0;d<c.length;d++){if(Rl(c[d]))throw new TypeError("Unexpected type of argument to hypot");var m=r(c[d]);o(p,m)?(h=a(h,a(n(p,m),n(p,m))),h=i(h,1),p=m):h=i(h,l(m)?a(n(m,p),n(m,p)):m)}return a(p,s(h))}}),x_="norm",rne=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],ine=ce(x_,rne,t=>{var{typed:e,abs:r,add:i,pow:n,conj:a,sqrt:s,multiply:o,equalScalar:l,larger:u,smaller:c,matrix:h,ctranspose:p,eigs:d}=t;return e(x_,{number:Math.abs,Complex:function(A){return A.abs()},BigNumber:function(A){return A.abs()},boolean:function(A){return Math.abs(A)},Array:function(A){return w(h(A),2)},Matrix:function(A){return w(A,2)},"Array, number | BigNumber | string":function(A,$){return w(h(A),$)},"Matrix, number | BigNumber | string":function(A,$){return w(A,$)}});function m(N){var A=0;return N.forEach(function($){var D=r($);u(D,A)&&(A=D)},!0),A}function f(N){var A;return N.forEach(function($){var D=r($);(!A||c(D,A))&&(A=D)},!0),A||0}function v(N,A){if(A===Number.POSITIVE_INFINITY||A==="inf")return m(N);if(A===Number.NEGATIVE_INFINITY||A==="-inf")return f(N);if(A==="fro")return w(N,2);if(typeof A=="number"&&!isNaN(A)){if(!l(A,0)){var $=0;return N.forEach(function(D){$=i(n(r(D),A),$)},!0),n($,1/A)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function y(N){var A=0;return N.forEach(function($,D){A=i(A,o($,a($)))}),r(s(A))}function x(N){var A=[],$=0;return N.forEach(function(D,_){var T=_[1],z=i(A[T]||0,r(D));u(z,$)&&($=z),A[T]=z},!0),$}function g(N){var A=N.size();if(A[0]!==A[1])throw new RangeError("Invalid matrix dimensions");var $=p(N),D=o($,N),_=d(D).values.toArray(),T=_[_.length-1];return r(s(T))}function b(N){var A=[],$=0;return N.forEach(function(D,_){var T=_[0],z=i(A[T]||0,r(D));u(z,$)&&($=z),A[T]=z},!0),$}function k(N,A){if(A===1)return x(N);if(A===Number.POSITIVE_INFINITY||A==="inf")return b(N);if(A==="fro")return y(N);if(A===2)return g(N);throw new Error("Unsupported parameter value "+A)}function w(N,A){var $=N.size();if($.length===1)return v(N,A);if($.length===2){if($[0]&&$[1])return k(N,A);throw new RangeError("Invalid matrix dimensions")}}}),w_="dot",nne=["typed","addScalar","multiplyScalar","conj","size"],M_=ce(w_,nne,t=>{var{typed:e,addScalar:r,multiplyScalar:i,conj:n,size:a}=t;return e(w_,{"Array | DenseMatrix, Array | DenseMatrix":o,"SparseMatrix, SparseMatrix":l});function s(c,h){var p=u(c),d=u(h),m,f;if(p.length===1)m=p[0];else if(p.length===2&&p[1]===1)m=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(d.length===1)f=d[0];else if(d.length===2&&d[1]===1)f=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(m!==f)throw new RangeError("Vectors must have equal length ("+m+" != "+f+")");if(m===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return m}function o(c,h){var p=s(c,h),d=hr(c)?c._data:c,m=hr(c)?c._datatype||c.getDataType():void 0,f=hr(h)?h._data:h,v=hr(h)?h._datatype||h.getDataType():void 0,y=u(c).length===2,x=u(h).length===2,g=r,b=i;if(m&&v&&m===v&&typeof m=="string"&&m!=="mixed"){var k=m;g=e.find(r,[k,k]),b=e.find(i,[k,k])}if(!y&&!x){for(var w=b(n(d[0]),f[0]),N=1;N<p;N++)w=g(w,b(n(d[N]),f[N]));return w}if(!y&&x){for(var A=b(n(d[0]),f[0][0]),$=1;$<p;$++)A=g(A,b(n(d[$]),f[$][0]));return A}if(y&&!x){for(var D=b(n(d[0][0]),f[0]),_=1;_<p;_++)D=g(D,b(n(d[_][0]),f[_]));return D}if(y&&x){for(var T=b(n(d[0][0]),f[0][0]),z=1;z<p;z++)T=g(T,b(n(d[z][0]),f[z][0]));return T}}function l(c,h){s(c,h);for(var p=c._index,d=c._values,m=h._index,f=h._values,v=0,y=r,x=i,g=0,b=0;g<p.length&&b<m.length;){var k=p[g],w=m[b];if(k<w){g++;continue}if(k>w){b++;continue}k===w&&(v=y(v,x(d[g],f[b])),g++,b++)}return v}function u(c){return hr(c)?c.size():a(c)}}),ane="trace",sne=["typed","matrix","add"],one=ce(ane,sne,t=>{var{typed:e,matrix:r,add:i}=t;return e("trace",{Array:function(o){return n(r(o))},SparseMatrix:a,DenseMatrix:n,any:kr});function n(s){var o=s._size,l=s._data;switch(o.length){case 1:if(o[0]===1)return kr(l[0]);throw new RangeError("Matrix must be square (size: "+ei(o)+")");case 2:{var u=o[0],c=o[1];if(u===c){for(var h=0,p=0;p<u;p++)h=i(h,l[p][p]);return h}else throw new RangeError("Matrix must be square (size: "+ei(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ei(o)+")")}}function a(s){var o=s._values,l=s._index,u=s._ptr,c=s._size,h=c[0],p=c[1];if(h===p){var d=0;if(o.length>0)for(var m=0;m<p;m++)for(var f=u[m],v=u[m+1],y=f;y<v;y++){var x=l[y];if(x===m){d=i(d,o[y]);break}if(x>m)break}return d}throw new RangeError("Matrix must be square (size: "+ei(c)+")")}}),k_="index",lne=["typed","Index"],C_=ce(k_,lne,t=>{var{typed:e,Index:r}=t;return e(k_,{"...number | string | BigNumber | Range | Array | Matrix":function(n){var a=n.map(function(o){return Or(o)?o.toNumber():Li(o)||hr(o)?o.map(function(l){return Or(l)?l.toNumber():l}):o}),s=new r;return r.apply(s,a),s}})}),N_=new Set(["end"]),une="Node",cne=["mathWithTransform"],S_=ce(une,cne,t=>{var{mathWithTransform:e}=t;function r(n){for(var a of[...N_])if(n.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class i{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),s={},o=null;function l(u){var c=op(u);return r(c),a(c,s,o)}return{evaluate:l}}_compile(a,s){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!Vi(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function s(o,l){o.forEach(function(u,c,h){l(u,c,h),s(u,l)})}s(this,a)}transform(a){function s(o,l,u){var c=a(o,l,u);return c!==o?c:o.map(s)}return s(this,null,null)}filter(a){var s=[];return this.traverse(function(o,l,u){a(o,l,u)&&s.push(o)}),s}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&lu(this,a):!1}toString(a){var s=this._getCustomString(a);return typeof s<"u"?s:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var s=this._getCustomString(a);return typeof s<"u"?s:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var s=this._getCustomString(a);return typeof s<"u"?s:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return i},{isClass:!0,isNode:!0});function Qs(t){return t&&t.isIndexError?new cl(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function D_(t){var{subset:e}=t;return function(i,n){try{if(Array.isArray(i))return e(i,n);if(i&&typeof i.subset=="function")return i.subset(n);if(typeof i=="string")return e(i,n);if(typeof i=="object"){if(!n.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Ys(i,n.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Qs(a)}}}var Jg="AccessorNode",hne=["subset","Node"],A_=ce(Jg,hne,t=>{var{subset:e,Node:r}=t,i=D_({subset:e});function n(s){return!(lc(s)||Bo(s)||mi(s)||ou(s)||Nm(s)||g0(s)||La(s))}class a extends r{constructor(o,l){if(super(),!Vi(o))throw new TypeError('Node expected for parameter "object"');if(!Bh(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=o,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Jg}get isAccessorNode(){return!0}_compile(o,l){var u=this.object._compile(o,l),c=this.index._compile(o,l);if(this.index.isObjectProperty()){var h=this.index.getObjectProperty();return function(d,m,f){return Ys(u(d,m,f),h)}}else return function(d,m,f){var v=u(d,m,f),y=c(d,m,v);return i(v,y)}}forEach(o){o(this.object,"object",this),o(this.index,"index",this)}map(o){return new a(this._ifNode(o(this.object,"object",this)),this._ifNode(o(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(o){var l=this.object.toString(o);return n(this.object)&&(l="("+l+")"),l+this.index.toString(o)}_toHTML(o){var l=this.object.toHTML(o);return n(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(o)}_toTex(o){var l=this.object.toTex(o);return n(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(o)}toJSON(){return{mathjs:Jg,object:this.object,index:this.index}}static fromJSON(o){return new a(o.object,o.index)}}return Da(a,"name",Jg),a},{isClass:!0,isNode:!0}),e4="ArrayNode",pne=["Node"],$_=ce(e4,pne,t=>{var{Node:e}=t;class r extends e{constructor(n){if(super(),this.items=n||[],!Array.isArray(this.items)||!this.items.every(Vi))throw new TypeError("Array containing Nodes expected")}get type(){return e4}get isArrayNode(){return!0}_compile(n,a){var s=gc(this.items,function(u){return u._compile(n,a)}),o=n.config.matrix!=="Array";if(o){var l=n.matrix;return function(c,h,p){return l(gc(s,function(d){return d(c,h,p)}))}}else return function(c,h,p){return gc(s,function(d){return d(c,h,p)})}}forEach(n){for(var a=0;a<this.items.length;a++){var s=this.items[a];n(s,"items["+a+"]",this)}}map(n){for(var a=[],s=0;s<this.items.length;s++)a[s]=this._ifNode(n(this.items[s],"items["+s+"]",this));return new r(a)}clone(){return new r(this.items.slice(0))}_toString(n){var a=this.items.map(function(s){return s.toString(n)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:e4,items:this.items}}static fromJSON(n){return new r(n.items)}_toHTML(n){var a=this.items.map(function(s){return s.toHTML(n)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(n){function a(s,o){var l=s.some(Bo)&&!s.every(Bo),u=o||l,c=u?"&":"\\\\",h=s.map(function(p){return p.items?a(p.items,!o):p.toTex(n)}).join(c);return l||!u||u&&!o?"\\begin{bmatrix}"+h+"\\end{bmatrix}":h}return a(this.items,!1)}}return Da(r,"name",e4),r},{isClass:!0,isNode:!0});function dne(t){var{subset:e,matrix:r}=t;return function(n,a,s){try{if(Array.isArray(n)){var o=r(n).subset(a,s).valueOf();return o.forEach((l,u)=>{n[u]=l}),n}else{if(n&&typeof n.subset=="function")return n.subset(a,s);if(typeof n=="string")return e(n,a,s);if(typeof n=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return sp(n,a.getObjectProperty(),s),n}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw Qs(l)}}}var Gl=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:nullish":{op:"??",associativity:"left",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function t4(t,e){if(!e||e!=="auto")return t;for(var r=t;g0(r);)r=r.content;return r}function sn(t,e,r,i){var n=t;e!=="keep"&&(n=t.getContent());for(var a=n.getIdentifier(),s=null,o=0;o<Gl.length;o++)if(a in Gl[o]){s=o;break}if(a==="OperatorNode:multiply"&&n.implicit&&r!=="show"){var l=t4(n.args[0],e);!(mi(l)&&i&&i.getIdentifier()==="OperatorNode:divide"&&kb(t4(i.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&kb(t4(l.args[0],e))&&mi(t4(l.args[1])))&&(s+=1)}return s}function Om(t,e){var r=t;e!=="keep"&&(r=t.getContent());var i=r.getIdentifier(),n=sn(r,e);if(n===null)return null;var a=Gl[n][i];if(Vt(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+i+"' has the invalid associativity '"+a.associativity+"'.")}return null}function d6(t,e,r){var i=r!=="keep"?t.getContent():t,n=r!=="keep"?t.getContent():e,a=i.getIdentifier(),s=n.getIdentifier(),o=sn(i,r);if(o===null)return null;var l=Gl[o][a];if(Vt(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===s)return!0;return!1}return null}function mne(t){var e="OperatorNode:"+t;for(var r of Gl)if(e in r)return r[e].op;return null}var r4="AssignmentNode",fne=["subset","?matrix","Node"],__=ce(r4,fne,t=>{var{subset:e,matrix:r,Node:i}=t,n=D_({subset:e}),a=dne({subset:e,matrix:r});function s(l,u,c){u||(u="keep");var h=sn(l,u,c),p=sn(l.value,u,c);return u==="all"||p!==null&&p<=h}class o extends i{constructor(u,c,h){if(super(),this.object=u,this.index=h?c:null,this.value=h||c,!La(u)&&!lc(u))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(La(u)&&u.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Bh(this.index))throw new TypeError('IndexNode expected as "index"');if(!Vi(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return r4}get isAssignmentNode(){return!0}_compile(u,c){var h=this.object._compile(u,c),p=this.index?this.index._compile(u,c):null,d=this.value._compile(u,c),m=this.object.name;if(this.index)if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(b,k,w){var N=h(b,k,w),A=d(b,k,w);return sp(N,f,A),A}}else{if(La(this.object))return function(b,k,w){var N=h(b,k,w),A=d(b,k,w),$=p(b,k,N);return b.set(m,a(N,$,A)),A};var v=this.object.object._compile(u,c);if(this.object.index.isObjectProperty()){var y=this.object.index.getObjectProperty();return function(b,k,w){var N=v(b,k,w),A=Ys(N,y),$=p(b,k,A),D=d(b,k,w);return sp(N,y,a(A,$,D)),D}}else{var x=this.object.index._compile(u,c);return function(b,k,w){var N=v(b,k,w),A=x(b,k,N),$=n(N,A),D=p(b,k,$),_=d(b,k,w);return a(N,A,a($,D,_)),_}}}else{if(!La(this.object))throw new TypeError("SymbolNode expected as object");return function(b,k,w){var N=d(b,k,w);return b.set(m,N),N}}}forEach(u){u(this.object,"object",this),this.index&&u(this.index,"index",this),u(this.value,"value",this)}map(u){var c=this._ifNode(u(this.object,"object",this)),h=this.index?this._ifNode(u(this.index,"index",this)):null,p=this._ifNode(u(this.value,"value",this));return new o(c,h,p)}clone(){return new o(this.object,this.index,this.value)}_toString(u){var c=this.object.toString(u),h=this.index?this.index.toString(u):"",p=this.value.toString(u);return s(this,u&&u.parenthesis,u&&u.implicit)&&(p="("+p+")"),c+h+" = "+p}toJSON(){return{mathjs:r4,object:this.object,index:this.index,value:this.value}}static fromJSON(u){return new o(u.object,u.index,u.value)}_toHTML(u){var c=this.object.toHTML(u),h=this.index?this.index.toHTML(u):"",p=this.value.toHTML(u);return s(this,u&&u.parenthesis,u&&u.implicit)&&(p='<span class="math-paranthesis math-round-parenthesis">(</span>'+p+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+h+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p}_toTex(u){var c=this.object.toTex(u),h=this.index?this.index.toTex(u):"",p=this.value.toTex(u);return s(this,u&&u.parenthesis,u&&u.implicit)&&(p="\\left(".concat(p,"\\right)")),c+h+"="+p}}return Da(o,"name",r4),o},{isClass:!0,isNode:!0}),i4="BlockNode",gne=["ResultSet","Node"],E_=ce(i4,gne,t=>{var{ResultSet:e,Node:r}=t;class i extends r{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(s){var o=s&&s.node,l=s&&s.visible!==void 0?s.visible:!0;if(!Vi(o))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:o,visible:l}})}get type(){return i4}get isBlockNode(){return!0}_compile(a,s){var o=gc(this.blocks,function(l){return{evaluate:l.node._compile(a,s),visible:l.visible}});return function(u,c,h){var p=[];return MN(o,function(m){var f=m.evaluate(u,c,h);m.visible&&p.push(f)}),new e(p)}}forEach(a){for(var s=0;s<this.blocks.length;s++)a(this.blocks[s].node,"blocks["+s+"].node",this)}map(a){for(var s=[],o=0;o<this.blocks.length;o++){var l=this.blocks[o],u=this._ifNode(a(l.node,"blocks["+o+"].node",this));s[o]={node:u,visible:l.visible}}return new i(s)}clone(){var a=this.blocks.map(function(s){return{node:s.node,visible:s.visible}});return new i(a)}_toString(a){return this.blocks.map(function(s){return s.node.toString(a)+(s.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:i4,blocks:this.blocks}}static fromJSON(a){return new i(a.blocks)}_toHTML(a){return this.blocks.map(function(s){return s.node.toHTML(a)+(s.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(s){return s.node.toTex(a)+(s.visible?"":";")}).join(`\\;\\;
`)}}return Da(i,"name",i4),i},{isClass:!0,isNode:!0}),n4="ConditionalNode",vne=["Node"],I_=ce(n4,vne,t=>{var{Node:e}=t;function r(n){if(typeof n=="number"||typeof n=="boolean"||typeof n=="string")return!!n;if(n){if(Or(n))return!n.isZero();if(Rl(n))return!!(n.re||n.im);if(Ks(n))return!!n.value}if(n==null)return!1;throw new TypeError('Unsupported type of condition "'+an(n)+'"')}class i extends e{constructor(a,s,o){if(super(),!Vi(a))throw new TypeError("Parameter condition must be a Node");if(!Vi(s))throw new TypeError("Parameter trueExpr must be a Node");if(!Vi(o))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=s,this.falseExpr=o}get type(){return n4}get isConditionalNode(){return!0}_compile(a,s){var o=this.condition._compile(a,s),l=this.trueExpr._compile(a,s),u=this.falseExpr._compile(a,s);return function(h,p,d){return r(o(h,p,d))?l(h,p,d):u(h,p,d)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new i(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new i(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=sn(this,s,a&&a.implicit),l=this.condition.toString(a),u=sn(this.condition,s,a&&a.implicit);(s==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=o)&&(l="("+l+")");var c=this.trueExpr.toString(a),h=sn(this.trueExpr,s,a&&a.implicit);(s==="all"||this.trueExpr.type==="OperatorNode"||h!==null&&h<=o)&&(c="("+c+")");var p=this.falseExpr.toString(a),d=sn(this.falseExpr,s,a&&a.implicit);return(s==="all"||this.falseExpr.type==="OperatorNode"||d!==null&&d<=o)&&(p="("+p+")"),l+" ? "+c+" : "+p}toJSON(){return{mathjs:n4,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new i(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=sn(this,s,a&&a.implicit),l=this.condition.toHTML(a),u=sn(this.condition,s,a&&a.implicit);(s==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=o)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),h=sn(this.trueExpr,s,a&&a.implicit);(s==="all"||this.trueExpr.type==="OperatorNode"||h!==null&&h<=o)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(a),d=sn(this.falseExpr,s,a&&a.implicit);return(s==="all"||this.falseExpr.type==="OperatorNode"||d!==null&&d<=o)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+p}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Da(i,"name",n4),i},{isClass:!0,isNode:!0}),m6=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},yne={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},bne={"–":"\\--","—":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},xne=function(e,r){return m6({},e,r)},wne=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.preserveFormatting,i=r===void 0?!1:r,n=e.escapeMapFn,a=n===void 0?xne:n,s=String(t),o="",l=a(m6({},yne),i?m6({},bne):{}),u=Object.keys(l),c=function(){var p=!1;u.forEach(function(d,m){p||s.length>=d.length&&s.slice(0,d.length)===d&&(o+=l[u[m]],s=s.slice(d.length,s.length),p=!0)}),p||(o+=s.slice(0,1),s=s.slice(1,s.length))};s;)c();return o};const Mne=Eh(wne);var f6={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Ni={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},T_={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Ni.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Ni.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Ni.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Ni.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Ni.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},fraction:{2:"\\frac{${args[0]}}{${args[1]}}"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Ni.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Ni.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : y^${args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Ni.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Ni.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Ni.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Ni.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Ni.bitAnd,"${args[1]}\\right)")},bitNot:{1:Ni.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Ni.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Ni.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Ni.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Ni.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Ni.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Ni.and,"${args[1]}\\right)")},not:{1:Ni.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Ni.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Ni.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Ni.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Ni.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Ni.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Ni.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Ni.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Ni.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Ni.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Ni.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Ni.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Ni.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Ni.to,"${args[1]}\\right)")},numeric:function(e,r){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(f6.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},kne="\\mathrm{${name}}\\left(${args}\\right)",L_={deg:"^\\circ"};function g6(t){return Mne(t,{preserveFormatting:!0})}function z_(t,e){return e=typeof e>"u"?!1:e,e?Vt(L_,t)?L_[t]:"\\mathrm{"+g6(t)+"}":Vt(f6,t)?f6[t]:g6(t)}var a4="ConstantNode",Cne=["Node"],B_=ce(a4,Cne,t=>{var{Node:e}=t;class r extends e{constructor(n){super(),this.value=n}get type(){return a4}get isConstantNode(){return!0}_compile(n,a){var s=this.value;return function(){return s}}forEach(n){}map(n){return this.clone()}clone(){return new r(this.value)}_toString(n){return ei(this.value,n)}_toHTML(n){var a=this._toString(n);switch(an(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:a4,value:this.value}}static fromJSON(n){return new r(n.value)}_toTex(n){var a=this._toString(n),s=an(this.value);switch(s){case"string":return"\\mathtt{"+g6(a)+"}";case"number":case"BigNumber":{var o=s==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!o)return this.value.valueOf()<0?"-\\infty":"\\infty";var l=a.toLowerCase().indexOf("e");return l!==-1?a.substring(0,l)+"\\cdot10^{"+a.substring(l+1)+"}":a}case"bigint":return a.toString();case"Fraction":return this.value.toLatex();default:return a}}}return Da(r,"name",a4),r},{isClass:!0,isNode:!0}),s4="FunctionAssignmentNode",Nne=["typed","Node"],O_=ce(s4,Nne,t=>{var{typed:e,Node:r}=t;function i(a,s,o){var l=sn(a,s,o),u=sn(a.expr,s,o);return s==="all"||u!==null&&u<=l}class n extends r{constructor(s,o,l){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(o))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Vi(l))throw new TypeError('Node expected for parameter "expr"');if(N_.has(s))throw new Error('Illegal function name, "'+s+'" is a reserved keyword');var u=new Set;for(var c of o){var h=typeof c=="string"?c:c.name;if(u.has(h))throw new Error('Duplicate parameter name "'.concat(h,'"'));u.add(h)}this.name=s,this.params=o.map(function(p){return p&&p.name||p}),this.types=o.map(function(p){return p&&p.type||"any"}),this.expr=l}get type(){return s4}get isFunctionAssignmentNode(){return!0}_compile(s,o){var l=Object.create(o);MN(this.params,function(f){l[f]=!0});var u=this.expr,c=u._compile(s,l),h=this.name,p=this.params,d=NN(this.types,","),m=h+"("+NN(this.params,", ")+")";return function(v,y,x){var g={};g[d]=function(){for(var k=Object.create(y),w=0;w<p.length;w++)k[p[w]]=arguments[w];return c(v,k,x)};var b=e(h,g);return b.syntax=m,b.expr=u.toString(),v.set(h,b),b}}forEach(s){s(this.expr,"expr",this)}map(s){var o=this._ifNode(s(this.expr,"expr",this));return new n(this.name,this.params.slice(0),o)}clone(){return new n(this.name,this.params.slice(0),this.expr)}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=this.expr.toString(s);return i(this,o,s&&s.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var s=this.types;return{mathjs:s4,name:this.name,params:this.params.map(function(o,l){return{name:o,type:s[l]}}),expr:this.expr}}static fromJSON(s){return new n(s.name,s.params,s.expr)}_toHTML(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",l=[],u=0;u<this.params.length;u++)l.push('<span class="math-symbol math-parameter">'+ul(this.params[u])+"</span>");var c=this.expr.toHTML(s);return i(this,o,s&&s.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+ul(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=this.expr.toTex(s);return i(this,o,s&&s.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(z_).join(",")+"\\right)="+l}}return Da(n,"name",s4),n},{isClass:!0,isNode:!0}),o4="IndexNode",Sne=["Node","size"],F_=ce(o4,Sne,t=>{var{Node:e,size:r}=t;class i extends e{constructor(a,s){if(super(),this.dimensions=a,this.dotNotation=s||!1,!Array.isArray(a)||!a.every(Vi))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return o4}get isIndexNode(){return!0}_compile(a,s){var o=gc(this.dimensions,function(u,c){var h=u.filter(m=>m.isSymbolNode&&m.name==="end").length>0;if(h){var p=Object.create(s);p.end=!0;var d=u._compile(a,p);return function(f,v,y){if(!hr(y)&&!Li(y)&&!ms(y))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+an(y));var x=r(y).valueOf(),g=Object.create(v);return g.end=x[c],d(f,g,y)}}else return u._compile(a,s)}),l=Ys(a,"index");return function(c,h,p){var d=gc(o,function(m){return m(c,h,p)});return l(...d)}}forEach(a){for(var s=0;s<this.dimensions.length;s++)a(this.dimensions[s],"dimensions["+s+"]",this)}map(a){for(var s=[],o=0;o<this.dimensions.length;o++)s[o]=this._ifNode(a(this.dimensions[o],"dimensions["+o+"]",this));return new i(s,this.dotNotation)}clone(){return new i(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&mi(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:o4,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new i(a.dimensions,a.dotNotation)}_toHTML(a){for(var s=[],o=0;o<this.dimensions.length;o++)s[o]=this.dimensions[o].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+ul(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var s=this.dimensions.map(function(o){return o.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+s.join(",")+"}"}}return Da(i,"name",o4),i},{isClass:!0,isNode:!0}),l4="ObjectNode",Dne=["Node"],P_=ce(l4,Dne,t=>{var{Node:e}=t;class r extends e{constructor(n){if(super(),this.properties=n||{},n&&(typeof n!="object"||!Object.keys(n).every(function(a){return Vi(n[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return l4}get isObjectNode(){return!0}_compile(n,a){var s={};for(var o in this.properties)if(Vt(this.properties,o)){var l=vp(o),u=JSON.parse(l),c=Ys(this.properties,o);s[u]=c._compile(n,a)}return function(p,d,m){var f={};for(var v in s)Vt(s,v)&&(f[v]=s[v](p,d,m));return f}}forEach(n){for(var a in this.properties)Vt(this.properties,a)&&n(this.properties[a],"properties["+vp(a)+"]",this)}map(n){var a={};for(var s in this.properties)Vt(this.properties,s)&&(a[s]=this._ifNode(n(this.properties[s],"properties["+vp(s)+"]",this)));return new r(a)}clone(){var n={};for(var a in this.properties)Vt(this.properties,a)&&(n[a]=this.properties[a]);return new r(n)}_toString(n){var a=[];for(var s in this.properties)Vt(this.properties,s)&&a.push(vp(s)+": "+this.properties[s].toString(n));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:l4,properties:this.properties}}static fromJSON(n){return new r(n.properties)}_toHTML(n){var a=[];for(var s in this.properties)Vt(this.properties,s)&&a.push('<span class="math-symbol math-property">'+ul(s)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[s].toHTML(n));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(n){var a=[];for(var s in this.properties)Vt(this.properties,s)&&a.push("\\mathbf{"+s+":} & "+this.properties[s].toTex(n)+"\\\\");var o="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return o}}return Da(r,"name",l4),r},{isClass:!0,isNode:!0});function Fm(t,e){return new yC(t,new fg(e),new Set(Object.keys(e)))}var u4="OperatorNode",Ane=["Node"],R_=ce(u4,Ane,t=>{var{Node:e}=t;function r(a,s){var o=a;if(s==="auto")for(;g0(o);)o=o.content;return mi(o)?!0:ea(o)?r(o.args[0],s):!1}function i(a,s,o,l,u){var c=sn(a,s,o),h=Om(a,s);if(s==="all"||l.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return l.map(function(D){switch(D.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var p;switch(l.length){case 0:p=[];break;case 1:{var d=sn(l[0],s,o,a);if(u&&d!==null){var m,f;if(s==="keep"?(m=l[0].getIdentifier(),f=a.getIdentifier()):(m=l[0].getContent().getIdentifier(),f=a.getContent().getIdentifier()),Gl[c][f].latexLeftParens===!1){p=[!1];break}if(Gl[d][m].latexParens===!1){p=[!1];break}}if(d===null){p=[!1];break}if(d<=c){p=[!0];break}p=[!1]}break;case 2:{var v,y=sn(l[0],s,o,a),x=d6(a,l[0],s);y===null?v=!1:y===c&&h==="right"&&!x||y<c?v=!0:v=!1;var g,b=sn(l[1],s,o,a),k=d6(a,l[1],s);if(b===null?g=!1:b===c&&h==="left"&&!k||b<c?g=!0:g=!1,u){var w,N,A;s==="keep"?(w=a.getIdentifier(),N=a.args[0].getIdentifier(),A=a.args[1].getIdentifier()):(w=a.getContent().getIdentifier(),N=a.args[0].getContent().getIdentifier(),A=a.args[1].getContent().getIdentifier()),y!==null&&(Gl[c][w].latexLeftParens===!1&&(v=!1),Gl[y][N].latexParens===!1&&(v=!1)),b!==null&&(Gl[c][w].latexRightParens===!1&&(g=!1),Gl[b][A].latexParens===!1&&(g=!1))}p=[v,g]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(p=l.map(function(D){var _=sn(D,s,o,a),T=d6(a,D,s),z=Om(D,s);return _===null?!1:c===_&&h===z&&!T?!0:_<c}));break}if(l.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&s!=="all"&&o==="hide")for(var $=1;$<p.length;++$)r(l[$],s)&&!p[$-1]&&(s!=="keep"||!g0(l[$-1]))&&(p[$]=!0);return p}class n extends e{constructor(s,o,l,u,c){if(super(),typeof s!="string")throw new TypeError('string expected for parameter "op"');if(typeof o!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Vi))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=c===!0,this.op=s,this.fn=o,this.args=l||[]}get type(){return u4}get isOperatorNode(){return!0}_compile(s,o){if(typeof this.fn!="string"||!xb(s,this.fn))throw s[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=Ys(s,this.fn),u=gc(this.args,function(m){return m._compile(s,o)});if(typeof l=="function"&&l.rawArgs===!0){var c=this.args;return function(f,v,y){return l(c,s,Fm(f,v))}}else if(u.length===1){var h=u[0];return function(f,v,y){return l(h(f,v,y))}}else if(u.length===2){var p=u[0],d=u[1];return function(f,v,y){return l(p(f,v,y),d(f,v,y))}}else return function(f,v,y){return l.apply(null,gc(u,function(x){return x(f,v,y)}))}}forEach(s){for(var o=0;o<this.args.length;o++)s(this.args[o],"args["+o+"]",this)}map(s){for(var o=[],l=0;l<this.args.length;l++)o[l]=this._ifNode(s(this.args[l],"args["+l+"]",this));return new n(this.op,this.fn,o,this.implicit,this.isPercentage)}clone(){return new n(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",u=this.args,c=i(this,o,l,u,!1);if(u.length===1){var h=Om(this,o),p=u[0].toString(s);c[0]&&(p="("+p+")");var d=/[a-zA-Z]+/.test(this.op);return h==="right"?this.op+(d?" ":"")+p:h==="left"?p+(d?" ":"")+this.op:p+this.op}else if(u.length===2){var m=u[0].toString(s),f=u[1].toString(s);return c[0]&&(m="("+m+")"),c[1]&&(f="("+f+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m+" "+f:m+" "+this.op+" "+f}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var v=u.map(function(y,x){return y=y.toString(s),c[x]&&(y="("+y+")"),y});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?v.join(" "):v.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:u4,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(s){return new n(s.op,s.fn,s.args,s.implicit,s.isPercentage)}_toHTML(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",u=this.args,c=i(this,o,l,u,!1);if(u.length===1){var h=Om(this,o),p=u[0].toHTML(s);return c[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),h==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+ul(this.op)+"</span>"+p:p+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+ul(this.op)+"</span>"}else if(u.length===2){var d=u[0].toHTML(s),m=u[1].toHTML(s);return c[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?d+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+m:d+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+ul(this.op)+"</span>"+m}else{var f=u.map(function(v,y){return v=v.toHTML(s),c[y]&&(v='<span class="math-parenthesis math-round-parenthesis">(</span>'+v+'<span class="math-parenthesis math-round-parenthesis">)</span>'),v});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?f.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):f.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+ul(this.op)+"</span>"):'<span class="math-function">'+ul(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+f.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",u=this.args,c=i(this,o,l,u,!0),h=Ni[this.fn];if(h=typeof h>"u"?this.op:h,u.length===1){var p=Om(this,o),d=u[0].toTex(s);return c[0]&&(d="\\left(".concat(d,"\\right)")),p==="right"?h+d:d+h}else if(u.length===2){var m=u[0],f=m.toTex(s);c[0]&&(f="\\left(".concat(f,"\\right)"));var v=u[1],y=v.toTex(s);c[1]&&(y="\\left(".concat(y,"\\right)"));var x;switch(o==="keep"?x=m.getIdentifier():x=m.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return h+"{"+f+"}{"+y+"}";case"OperatorNode:pow":switch(f="{"+f+"}",y="{"+y+"}",x){case"ConditionalNode":case"OperatorNode:divide":f="\\left(".concat(f,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return f+"~"+y}return f+h+y}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=u.map(function(b,k){return b=b.toTex(s),c[k]&&(b="\\left(".concat(b,"\\right)")),b});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?g.join("~"):g.join(h)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(b){return b.toTex(s)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Da(n,"name",u4),n},{isClass:!0,isNode:!0}),c4="ParenthesisNode",$ne=["Node"],j_=ce(c4,$ne,t=>{var{Node:e}=t;class r extends e{constructor(n){if(super(),!Vi(n))throw new TypeError('Node expected for parameter "content"');this.content=n}get type(){return c4}get isParenthesisNode(){return!0}_compile(n,a){return this.content._compile(n,a)}getContent(){return this.content.getContent()}forEach(n){n(this.content,"content",this)}map(n){var a=n(this.content,"content",this);return new r(a)}clone(){return new r(this.content)}_toString(n){return!n||n&&!n.parenthesis||n&&n.parenthesis==="keep"?"("+this.content.toString(n)+")":this.content.toString(n)}toJSON(){return{mathjs:c4,content:this.content}}static fromJSON(n){return new r(n.content)}_toHTML(n){return!n||n&&!n.parenthesis||n&&n.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(n)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(n)}_toTex(n){return!n||n&&!n.parenthesis||n&&n.parenthesis==="keep"?"\\left(".concat(this.content.toTex(n),"\\right)"):this.content.toTex(n)}}return Da(r,"name",c4),r},{isClass:!0,isNode:!0}),h4="RangeNode",_ne=["Node"],q_=ce(h4,_ne,t=>{var{Node:e}=t;function r(n,a,s){var o=sn(n,a,s),l={},u=sn(n.start,a,s);if(l.start=u!==null&&u<=o||a==="all",n.step){var c=sn(n.step,a,s);l.step=c!==null&&c<=o||a==="all"}var h=sn(n.end,a,s);return l.end=h!==null&&h<=o||a==="all",l}class i extends e{constructor(a,s,o){if(super(),!Vi(a))throw new TypeError("Node expected");if(!Vi(s))throw new TypeError("Node expected");if(o&&!Vi(o))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=s,this.step=o||null}get type(){return h4}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(s){return La(s)&&s.name==="end"});return a.length>0}_compile(a,s){var o=a.range,l=this.start._compile(a,s),u=this.end._compile(a,s);if(this.step){var c=this.step._compile(a,s);return function(p,d,m){return o(l(p,d,m),u(p,d,m),c(p,d,m))}}else return function(p,d,m){return o(l(p,d,m),u(p,d,m))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new i(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new i(this.start,this.end,this.step&&this.step)}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=r(this,s,a&&a.implicit),l,u=this.start.toString(a);if(o.start&&(u="("+u+")"),l=u,this.step){var c=this.step.toString(a);o.step&&(c="("+c+")"),l+=":"+c}var h=this.end.toString(a);return o.end&&(h="("+h+")"),l+=":"+h,l}toJSON(){return{mathjs:h4,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new i(a.start,a.end,a.step)}_toHTML(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=r(this,s,a&&a.implicit),l,u=this.start.toHTML(a);if(o.start&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=u,this.step){var c=this.step.toHTML(a);o.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+c}var h=this.end.toHTML(a);return o.end&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+h,l}_toTex(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=r(this,s,a&&a.implicit),l=this.start.toTex(a);if(o.start&&(l="\\left(".concat(l,"\\right)")),this.step){var u=this.step.toTex(a);o.step&&(u="\\left(".concat(u,"\\right)")),l+=":"+u}var c=this.end.toTex(a);return o.end&&(c="\\left(".concat(c,"\\right)")),l+=":"+c,l}}return Da(i,"name",h4),i},{isClass:!0,isNode:!0}),p4="RelationalNode",Ene=["Node"],U_=ce(p4,Ene,t=>{var{Node:e}=t,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class i extends e{constructor(a,s){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(s))throw new TypeError("Parameter params must be an array");if(a.length!==s.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=s}get type(){return p4}get isRelationalNode(){return!0}_compile(a,s){var o=this,l=this.params.map(u=>u._compile(a,s));return function(c,h,p){for(var d,m=l[0](c,h,p),f=0;f<o.conditionals.length;f++){d=m,m=l[f+1](c,h,p);var v=Ys(a,o.conditionals[f]);if(!v(d,m))return!1}return!0}}forEach(a){this.params.forEach((s,o)=>a(s,"params["+o+"]",this),this)}map(a){return new i(this.conditionals.slice(),this.params.map((s,o)=>this._ifNode(a(s,"params["+o+"]",this)),this))}clone(){return new i(this.conditionals,this.params)}_toString(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",o=sn(this,s,a&&a.implicit),l=this.params.map(function(h,p){var d=sn(h,s,a&&a.implicit);return s==="all"||d!==null&&d<=o?"("+h.toString(a)+")":h.toString(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=" "+r[this.conditionals[c]],u+=" "+l[c+1];return u}toJSON(){return{mathjs:p4,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new i(a.conditionals,a.params)}_toHTML(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",o=sn(this,s,a&&a.implicit),l=this.params.map(function(h,p){var d=sn(h,s,a&&a.implicit);return s==="all"||d!==null&&d<=o?'<span class="math-parenthesis math-round-parenthesis">(</span>'+h.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':h.toHTML(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+ul(r[this.conditionals[c]])+"</span>"+l[c+1];return u}_toTex(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",o=sn(this,s,a&&a.implicit),l=this.params.map(function(h,p){var d=sn(h,s,a&&a.implicit);return s==="all"||d!==null&&d<=o?"\\left("+h.toTex(a)+"\right)":h.toTex(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=Ni[this.conditionals[c]]+l[c+1];return u}}return Da(i,"name",p4),i},{isClass:!0,isNode:!0}),Ine="SymbolNode",Tne=["math","?Unit","Node"],V_=ce(Ine,Tne,t=>{var{math:e,Unit:r,Node:i}=t;function n(s){return r?r.isValuelessUnit(s):!1}class a extends i{constructor(o){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');this.name=o}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(o,l){var u=this.name;if(l[u]===!0)return function(h,p,d){return Ys(p,u)};if(u in o)return function(h,p,d){return h.has(u)?h.get(u):Ys(o,u)};var c=n(u);return function(h,p,d){return h.has(u)?h.get(u):c?new r(null,u):a.onUndefinedSymbol(u)}}forEach(o){}map(o){return this.clone()}static onUndefinedSymbol(o){throw new Error("Undefined symbol "+o)}clone(){return new a(this.name)}_toString(o){return this.name}_toHTML(o){var l=ul(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(o){return new a(o.name)}_toTex(o){var l=!1;typeof e[this.name]>"u"&&n(this.name)&&(l=!0);var u=z_(this.name,l);return u[0]==="\\"?u:" "+u}}return a},{isClass:!0,isNode:!0}),d4="FunctionNode",Lne=["math","Node","SymbolNode"],G_=ce(d4,Lne,t=>{var e,{math:r,Node:i,SymbolNode:n}=t,a=l=>ei(l,{truncate:78});function s(l,u,c){for(var h="",p=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,d=0,m;(m=p.exec(l))!==null;)if(h+=l.substring(d,m.index),d=m.index,m[0]==="$$")h+="$",d++;else{d+=m[0].length;var f=u[m[1]];if(!f)throw new ReferenceError("Template: Property "+m[1]+" does not exist.");if(m[2]===void 0)switch(typeof f){case"string":h+=f;break;case"object":if(Vi(f))h+=f.toTex(c);else if(Array.isArray(f))h+=f.map(function(v,y){if(Vi(v))return v.toTex(c);throw new TypeError("Template: "+m[1]+"["+y+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+m[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+m[1]+" has to be a Node, String or array of Nodes")}else if(Vi(f[m[2]]&&f[m[2]]))h+=f[m[2]].toTex(c);else throw new TypeError("Template: "+m[1]+"["+m[2]+"] is not a Node.")}return h+=l.slice(d),h}class o extends i{constructor(u,c){if(super(),typeof u=="string"&&(u=new n(u)),!Vi(u))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(Vi))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=u,this.args=c||[]}get name(){return this.fn.name||""}get type(){return d4}get isFunctionNode(){return!0}_compile(u,c){var h=this.args.map(A=>A._compile(u,c));if(La(this.fn)){var p=this.fn.name;if(c[p]){var y=this.args;return function($,D,_){var T=Ys(D,p);if(typeof T!="function")throw new TypeError("Argument '".concat(p,"' was not a function; received: ").concat(a(T)));if(T.rawArgs)return T(y,u,Fm($,D));var z=h.map(P=>P($,D,_));return T.apply(T,z)}}else{var d=p in u?Ys(u,p):void 0,m=typeof d=="function"&&d.rawArgs===!0,f=A=>{var $;if(A.has(p))$=A.get(p);else if(p in u)$=Ys(u,p);else return o.onUndefinedFunction(p);if(typeof $=="function")return $;throw new TypeError("'".concat(p,`' is not a function; its value is:
  `).concat(a($)))};if(m){var v=this.args;return function($,D,_){var T=f($);if(T.rawArgs===!0)return T(v,u,Fm($,D));var z=h.map(P=>P($,D,_));return T(...z)}}else switch(h.length){case 0:return function($,D,_){var T=f($);return T()};case 1:return function($,D,_){var T=f($),z=h[0];return T(z($,D,_))};case 2:return function($,D,_){var T=f($),z=h[0],P=h[1];return T(z($,D,_),P($,D,_))};default:return function($,D,_){var T=f($),z=h.map(P=>P($,D,_));return T(...z)}}}}else if(lc(this.fn)&&Bh(this.fn.index)&&this.fn.index.isObjectProperty()){var x=this.fn.object._compile(u,c),g=this.fn.index.getObjectProperty(),b=this.args;return function($,D,_){var T=x($,D,_),z=MW(T,g);if(z!=null&&z.rawArgs)return z(b,u,Fm($,D));var P=h.map(q=>q($,D,_));return z.apply(T,P)}}else{var k=this.fn.toString(),w=this.fn._compile(u,c),N=this.args;return function($,D,_){var T=w($,D,_);if(typeof T!="function")throw new TypeError("Expression '".concat(k,"' did not evaluate to a function; value is:")+`
  `.concat(a(T)));if(T.rawArgs)return T(N,u,Fm($,D));var z=h.map(P=>P($,D,_));return T.apply(T,z)}}}forEach(u){u(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)u(this.args[c],"args["+c+"]",this)}map(u){for(var c=this._ifNode(u(this.fn,"fn",this)),h=[],p=0;p<this.args.length;p++)h[p]=this._ifNode(u(this.args[p],"args["+p+"]",this));return new o(c,h)}clone(){return new o(this.fn,this.args.slice(0))}toString(u){var c,h=this.fn.toString(u);return u&&typeof u.handler=="object"&&Vt(u.handler,h)&&(c=u.handler[h](this,u)),typeof c<"u"?c:super.toString(u)}_toString(u){var c=this.args.map(function(p){return p.toString(u)}),h=up(this.fn)?"("+this.fn.toString(u)+")":this.fn.toString(u);return h+"("+c.join(", ")+")"}toJSON(){return{mathjs:d4,fn:this.fn,args:this.args}}_toHTML(u){var c=this.args.map(function(h){return h.toHTML(u)});return'<span class="math-function">'+ul(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(u){var c;return u&&typeof u.handler=="object"&&Vt(u.handler,this.name)&&(c=u.handler[this.name](this,u)),typeof c<"u"?c:super.toTex(u)}_toTex(u){var c=this.args.map(function(d){return d.toTex(u)}),h;T_[this.name]&&(h=T_[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||typeof r[this.name].toTex=="object"||typeof r[this.name].toTex=="string")&&(h=r[this.name].toTex);var p;switch(typeof h){case"function":p=h(this,u);break;case"string":p=s(h,this,u);break;case"object":switch(typeof h[c.length]){case"function":p=h[c.length](this,u);break;case"string":p=s(h[c.length],this,u);break}}return typeof p<"u"?p:s(kne,this,u)}getIdentifier(){return this.type+":"+this.name}}return e=o,Da(o,"name",d4),Da(o,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),Da(o,"fromJSON",function(l){return new e(l.fn,l.args)}),o},{isClass:!0,isNode:!0}),Z_="parse",zne=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],H_=ce(Z_,zne,t=>{var{typed:e,numeric:r,config:i,AccessorNode:n,ArrayNode:a,AssignmentNode:s,BlockNode:o,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:c,FunctionNode:h,IndexNode:p,ObjectNode:d,OperatorNode:m,ParenthesisNode:f,RangeNode:v,RelationalNode:y,SymbolNode:x}=t,g=e(Z_,{string:function(Se){return re(Se,{})},"Array | Matrix":function(Se){return b(Se,{})},"string, Object":function(Se,Ke){var gt=Ke.nodes!==void 0?Ke.nodes:{};return re(Se,gt)},"Array | Matrix, Object":b});function b(U){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ke=Se.nodes!==void 0?Se.nodes:{};return Gr(U,function(gt){if(typeof gt!="string")throw new TypeError("String expected");return re(gt,Ke)})}var k={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},w={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"??":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},N={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},A={true:!0,false:!1,null:null,undefined:void 0},$=["NaN","Infinity"],D={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function _(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:k.NULL,nestingLevel:0,conditionalLevel:null}}function T(U,Se){return U.expression.substr(U.index,Se)}function z(U){return T(U,1)}function P(U){U.index++}function q(U){return U.expression.charAt(U.index-1)}function L(U){return U.expression.charAt(U.index+1)}function Z(U){for(U.tokenType=k.NULL,U.token="",U.comment="";;){if(z(U)==="#")for(;z(U)!==`
`&&z(U)!=="";)U.comment+=z(U),P(U);if(g.isWhitespace(z(U),U.nestingLevel))P(U);else break}if(z(U)===""){U.tokenType=k.DELIMITER;return}if(z(U)===`
`&&!U.nestingLevel){U.tokenType=k.DELIMITER,U.token=z(U),P(U);return}var Se=z(U),Ke=T(U,2),gt=T(U,3);if(gt.length===3&&w[gt]){U.tokenType=k.DELIMITER,U.token=gt,P(U),P(U),P(U);return}if(Ke.length===2&&w[Ke]){U.tokenType=k.DELIMITER,U.token=Ke,P(U),P(U);return}if(w[Se]){U.tokenType=k.DELIMITER,U.token=Se,P(U);return}if(g.isDigitDot(Se)){U.tokenType=k.NUMBER;var ar=T(U,2);if(ar==="0b"||ar==="0o"||ar==="0x"){for(U.token+=z(U),P(U),U.token+=z(U),P(U);g.isHexDigit(z(U));)U.token+=z(U),P(U);if(z(U)===".")for(U.token+=".",P(U);g.isHexDigit(z(U));)U.token+=z(U),P(U);else if(z(U)==="i")for(U.token+="i",P(U);g.isDigit(z(U));)U.token+=z(U),P(U);return}if(z(U)==="."){if(U.token+=z(U),P(U),!g.isDigit(z(U))){U.tokenType=k.DELIMITER;return}}else{for(;g.isDigit(z(U));)U.token+=z(U),P(U);g.isDecimalMark(z(U),L(U))&&(U.token+=z(U),P(U))}for(;g.isDigit(z(U));)U.token+=z(U),P(U);if(z(U)==="E"||z(U)==="e"){if(g.isDigit(L(U))||L(U)==="-"||L(U)==="+"){if(U.token+=z(U),P(U),(z(U)==="+"||z(U)==="-")&&(U.token+=z(U),P(U)),!g.isDigit(z(U)))throw jt(U,'Digit expected, got "'+z(U)+'"');for(;g.isDigit(z(U));)U.token+=z(U),P(U);if(g.isDecimalMark(z(U),L(U)))throw jt(U,'Digit expected, got "'+z(U)+'"')}else if(g.isDecimalMark(L(U),U.expression.charAt(U.index+2)))throw P(U),jt(U,'Digit expected, got "'+z(U)+'"')}return}if(g.isAlpha(z(U),q(U),L(U))){for(;g.isAlpha(z(U),q(U),L(U))||g.isDigit(z(U));)U.token+=z(U),P(U);Vt(N,U.token)?U.tokenType=k.DELIMITER:U.tokenType=k.SYMBOL;return}for(U.tokenType=k.UNKNOWN;z(U)!=="";)U.token+=z(U),P(U);throw jt(U,'Syntax error in part "'+U.token+'"')}function W(U){do Z(U);while(U.token===`
`)}function Y(U){U.nestingLevel++}function ie(U){U.nestingLevel--}g.isAlpha=function(Se,Ke,gt){return g.isValidLatinOrGreek(Se)||g.isValidMathSymbol(Se,gt)||g.isValidMathSymbol(Ke,Se)},g.isValidLatinOrGreek=function(Se){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(Se)},g.isValidMathSymbol=function(Se,Ke){return/^[\uD835]$/.test(Se)&&/^[\uDC00-\uDFFF]$/.test(Ke)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ke)},g.isWhitespace=function(Se,Ke){return Se===" "||Se==="	"||Se===" "||Se===`
`&&Ke>0},g.isDecimalMark=function(Se,Ke){return Se==="."&&Ke!=="/"&&Ke!=="*"&&Ke!=="^"},g.isDigitDot=function(Se){return Se>="0"&&Se<="9"||Se==="."},g.isDigit=function(Se){return Se>="0"&&Se<="9"},g.isHexDigit=function(Se){return Se>="0"&&Se<="9"||Se>="a"&&Se<="f"||Se>="A"&&Se<="F"};function re(U,Se){var Ke=_();Sa(Ke,{expression:U,extraNodes:Se}),Z(Ke);var gt=R(Ke);if(Ke.token!=="")throw Ke.tokenType===k.DELIMITER?Er(Ke,"Unexpected operator "+Ke.token):jt(Ke,'Unexpected part "'+Ke.token+'"');return gt}function R(U){var Se,Ke=[],gt;for(U.token!==""&&U.token!==`
`&&U.token!==";"&&(Se=X(U),U.comment&&(Se.comment=U.comment));U.token===`
`||U.token===";";)Ke.length===0&&Se&&(gt=U.token!==";",Ke.push({node:Se,visible:gt})),Z(U),U.token!==`
`&&U.token!==";"&&U.token!==""&&(Se=X(U),U.comment&&(Se.comment=U.comment),gt=U.token!==";",Ke.push({node:Se,visible:gt}));return Ke.length>0?new o(Ke):(Se||(Se=new u(void 0),U.comment&&(Se.comment=U.comment)),Se)}function X(U){var Se,Ke,gt,ar,vr=E(U);if(U.token==="="){if(La(vr))return Se=vr.name,W(U),gt=X(U),new s(new x(Se),gt);if(lc(vr))return W(U),gt=X(U),new s(vr.object,vr.index,gt);if(ou(vr)&&La(vr.fn)&&(ar=!0,Ke=[],Se=vr.name,vr.args.forEach(function(Ii,un){La(Ii)?Ke[un]=Ii.name:ar=!1}),ar))return W(U),gt=X(U),new c(Se,Ke,gt);throw jt(U,"Invalid left hand side of assignment operator =")}return vr}function E(U){for(var Se=oe(U);U.token==="?";){var Ke=U.conditionalLevel;U.conditionalLevel=U.nestingLevel,W(U);var gt=Se,ar=X(U);if(U.token!==":")throw jt(U,"False part of conditional expression expected");U.conditionalLevel=null,W(U);var vr=X(U);Se=new l(gt,ar,vr),U.conditionalLevel=Ke}return Se}function oe(U){for(var Se=le(U);U.token==="or";)W(U),Se=new m("or","or",[Se,le(U)]);return Se}function le(U){for(var Se=ne(U);U.token==="xor";)W(U),Se=new m("xor","xor",[Se,ne(U)]);return Se}function ne(U){for(var Se=H(U);U.token==="and";)W(U),Se=new m("and","and",[Se,H(U)]);return Se}function H(U){for(var Se=ue(U);U.token==="|";)W(U),Se=new m("|","bitOr",[Se,ue(U)]);return Se}function ue(U){for(var Se=ae(U);U.token==="^|";)W(U),Se=new m("^|","bitXor",[Se,ae(U)]);return Se}function ae(U){for(var Se=$e(U);U.token==="&";)W(U),Se=new m("&","bitAnd",[Se,$e(U)]);return Se}function $e(U){for(var Se=[Ne(U)],Ke=[],gt={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Vt(gt,U.token);){var ar={name:U.token,fn:gt[U.token]};Ke.push(ar),W(U),Se.push(Ne(U))}return Se.length===1?Se[0]:Se.length===2?new m(Ke[0].name,Ke[0].fn,Se):new y(Ke.map(vr=>vr.fn),Se)}function Ne(U){var Se,Ke,gt,ar;Se=ze(U);for(var vr={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Vt(vr,U.token);)Ke=U.token,gt=vr[Ke],W(U),ar=[Se,ze(U)],Se=new m(Ke,gt,ar);return Se}function ze(U){var Se,Ke,gt,ar;Se=Te(U);for(var vr={to:"to",in:"to"};Vt(vr,U.token);)Ke=U.token,gt=vr[Ke],W(U),Ke==="in"&&"])},;".includes(U.token)?Se=new m("*","multiply",[Se,new x("in")],!0):(ar=[Se,Te(U)],Se=new m(Ke,gt,ar));return Se}function Te(U){var Se,Ke=[];if(U.token===":"?Se=new u(1):Se=Qe(U),U.token===":"&&U.conditionalLevel!==U.nestingLevel){for(Ke.push(Se);U.token===":"&&Ke.length<3;)W(U),U.token===")"||U.token==="]"||U.token===","||U.token===""?Ke.push(new x("end")):Ke.push(Qe(U));Ke.length===3?Se=new v(Ke[0],Ke[2],Ke[1]):Se=new v(Ke[0],Ke[1])}return Se}function Qe(U){var Se,Ke,gt,ar;Se=nt(U);for(var vr={"+":"add","-":"subtract"};Vt(vr,U.token);){Ke=U.token,gt=vr[Ke],W(U);var Ii=nt(U);Ii.isPercentage?ar=[Se,new m("*","multiply",[Se,Ii])]:ar=[Se,Ii],Se=new m(Ke,gt,ar)}return Se}function nt(U){var Se,Ke,gt,ar;Se=rt(U),Ke=Se;for(var vr={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Vt(vr,U.token);)if(gt=U.token,ar=vr[gt],W(U),gt==="%"&&U.tokenType===k.DELIMITER&&U.token!=="(")if(U.token!==""&&vr[U.token]){var Ii=new m("/","divide",[Se,new u(100)],!1,!0);gt=U.token,ar=vr[gt],W(U),Ke=rt(U),Se=new m(gt,ar,[Ii,Ke])}else Se=new m("/","divide",[Se,new u(100)],!1,!0);else Ke=rt(U),Se=new m(gt,ar,[Se,Ke]);return Se}function rt(U){var Se,Ke;for(Se=Ue(U),Ke=Se;U.tokenType===k.SYMBOL||U.token==="in"&&mi(Se)||U.token==="in"&&ea(Se)&&Se.fn==="unaryMinus"&&mi(Se.args[0])||U.tokenType===k.NUMBER&&!mi(Ke)&&(!ea(Ke)||Ke.op==="!")||U.token==="(";)Ke=Ue(U),Se=new m("*","multiply",[Se,Ke],!0);return Se}function Ue(U){for(var Se=lt(U),Ke=Se,gt=[];U.token==="/"&&kb(Ke);)if(gt.push(Sa({},U)),W(U),U.tokenType===k.NUMBER)if(gt.push(Sa({},U)),W(U),U.tokenType===k.SYMBOL||U.token==="("||U.token==="in")Sa(U,gt.pop()),gt.pop(),Ke=lt(U),Se=new m("/","divide",[Se,Ke]);else{gt.pop(),Sa(U,gt.pop());break}else{Sa(U,gt.pop());break}return Se}function lt(U){var Se,Ke,gt,ar={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Vt(ar,U.token)?(gt=ar[U.token],Se=U.token,W(U),Ke=[lt(U)],new m(Se,gt,Ke)):J(U)}function J(U){var Se,Ke,gt,ar;return Se=me(U),(U.token==="^"||U.token===".^")&&(Ke=U.token,gt=Ke==="^"?"pow":"dotPow",W(U),ar=[Se,lt(U)],Se=new m(Ke,gt,ar)),Se}function me(U){for(var Se=Oe(U);U.token==="??";)W(U),Se=new m("??","nullish",[Se,Oe(U)]);return Se}function Oe(U){var Se,Ke,gt,ar;Se=te(U);for(var vr={"!":"factorial","'":"ctranspose"};Vt(vr,U.token);)Ke=U.token,gt=vr[Ke],Z(U),ar=[Se],Se=new m(Ke,gt,ar),Se=xe(U,Se);return Se}function te(U){var Se=[];if(U.tokenType===k.SYMBOL&&Vt(U.extraNodes,U.token)){var Ke=U.extraNodes[U.token];if(Z(U),U.token==="("){if(Se=[],Y(U),Z(U),U.token!==")")for(Se.push(X(U));U.token===",";)Z(U),Se.push(X(U));if(U.token!==")")throw jt(U,"Parenthesis ) expected");ie(U),Z(U)}return new Ke(Se)}return fe(U)}function fe(U){var Se,Ke;return U.tokenType===k.SYMBOL||U.tokenType===k.DELIMITER&&U.token in N?(Ke=U.token,Z(U),Vt(A,Ke)?Se=new u(A[Ke]):$.includes(Ke)?Se=new u(r(Ke,"number")):Se=new x(Ke),Se=xe(U,Se),Se):Ee(U)}function xe(U,Se,Ke){for(var gt;U.token==="("||U.token==="["||U.token===".";)if(gt=[],U.token==="(")if(La(Se)||lc(Se)){if(Y(U),Z(U),U.token!==")")for(gt.push(X(U));U.token===",";)Z(U),gt.push(X(U));if(U.token!==")")throw jt(U,"Parenthesis ) expected");ie(U),Z(U),Se=new h(Se,gt)}else return Se;else if(U.token==="["){if(Y(U),Z(U),U.token!=="]")for(gt.push(X(U));U.token===",";)Z(U),gt.push(X(U));if(U.token!=="]")throw jt(U,"Parenthesis ] expected");ie(U),Z(U),Se=new n(Se,new p(gt))}else{Z(U);var ar=U.tokenType===k.SYMBOL||U.tokenType===k.DELIMITER&&U.token in N;if(!ar)throw jt(U,"Property name expected after dot");gt.push(new u(U.token)),Z(U);var vr=!0;Se=new n(Se,new p(gt,vr))}return Se}function Ee(U){var Se,Ke;return U.token==='"'||U.token==="'"?(Ke=Me(U,U.token),Se=new u(Ke),Se=xe(U,Se),Se):Le(U)}function Me(U,Se){for(var Ke="";z(U)!==""&&z(U)!==Se;)if(z(U)==="\\"){P(U);var gt=z(U),ar=D[gt];if(ar!==void 0)Ke+=ar,U.index+=1;else if(gt==="u"){var vr=U.expression.slice(U.index+1,U.index+5);if(/^[0-9A-Fa-f]{4}$/.test(vr))Ke+=String.fromCharCode(parseInt(vr,16)),U.index+=5;else throw jt(U,"Invalid unicode character \\u".concat(vr))}else throw jt(U,"Bad escape character \\".concat(gt))}else Ke+=z(U),P(U);if(Z(U),U.token!==Se)throw jt(U,"End of string ".concat(Se," expected"));return Z(U),Ke}function Le(U){var Se,Ke,gt,ar;if(U.token==="["){if(Y(U),Z(U),U.token!=="]"){var vr=st(U);if(U.token===";"){for(gt=1,Ke=[vr];U.token===";";)Z(U),U.token!=="]"&&(Ke[gt]=st(U),gt++);if(U.token!=="]")throw jt(U,"End of matrix ] expected");ie(U),Z(U),ar=Ke[0].items.length;for(var Ii=1;Ii<gt;Ii++)if(Ke[Ii].items.length!==ar)throw Er(U,"Column dimensions mismatch ("+Ke[Ii].items.length+" !== "+ar+")");Se=new a(Ke)}else{if(U.token!=="]")throw jt(U,"End of matrix ] expected");ie(U),Z(U),Se=vr}}else ie(U),Z(U),Se=new a([]);return xe(U,Se)}return mt(U)}function st(U){for(var Se=[X(U)],Ke=1;U.token===",";)Z(U),U.token!=="]"&&U.token!==";"&&(Se[Ke]=X(U),Ke++);return new a(Se)}function mt(U){if(U.token==="{"){Y(U);var Se,Ke={};do if(Z(U),U.token!=="}"){if(U.token==='"'||U.token==="'")Se=Me(U,U.token);else if(U.tokenType===k.SYMBOL||U.tokenType===k.DELIMITER&&U.token in N)Se=U.token,Z(U);else throw jt(U,"Symbol or string expected as object key");if(U.token!==":")throw jt(U,"Colon : expected after object key");Z(U),Ke[Se]=X(U)}while(U.token===",");if(U.token!=="}")throw jt(U,"Comma , or bracket } expected after object value");ie(U),Z(U);var gt=new d(Ke);return gt=xe(U,gt),gt}return ft(U)}function ft(U){var Se;if(U.tokenType===k.NUMBER){Se=U.token,Z(U);var Ke=uc(Se,i),gt=r(Se,Ke);return new u(gt)}return Pe(U)}function Pe(U){var Se;if(U.token==="("){if(Y(U),Z(U),Se=X(U),U.token!==")")throw jt(U,"Parenthesis ) expected");return ie(U),Z(U),Se=new f(Se),Se=xe(U,Se),Se}return We(U)}function We(U){throw U.token===""?jt(U,"Unexpected end of expression"):jt(U,"Value expected")}function ot(U){return U.index-U.token.length+1}function jt(U,Se){var Ke=ot(U),gt=new SyntaxError(Se+" (char "+Ke+")");return gt.char=Ke,gt}function Er(U,Se){var Ke=ot(U),gt=new SyntaxError(Se+" (char "+Ke+")");return gt.char=Ke,gt}return e.addConversion({from:"string",to:"Node",convert:g}),g}),W_="compile",Bne=["typed","parse"],One=ce(W_,Bne,t=>{var{typed:e,parse:r}=t;return e(W_,{string:function(n){return r(n).compile()},"Array | Matrix":function(n){return Gr(n,function(a){return r(a).compile()})}})}),Y_="evaluate",Fne=["typed","parse"],K_=ce(Y_,Fne,t=>{var{typed:e,parse:r}=t;return e(Y_,{string:function(n){var a=Mm();return r(n).compile().evaluate(a)},"string, Map | Object":function(n,a){return r(n).compile().evaluate(a)},"Array | Matrix":function(n){var a=Mm();return Gr(n,function(s){return r(s).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(n,a){return Gr(n,function(s){return r(s).compile().evaluate(a)})}})}),Pne="Parser",Rne=["evaluate","parse"],jne=ce(Pne,Rne,t=>{var{evaluate:e,parse:r}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Mm(),writable:!1})}i.prototype.type="Parser",i.prototype.isParser=!0,i.prototype.evaluate=function(a){return e(a,this.scope)},i.prototype.get=function(a){if(this.scope.has(a))return this.scope.get(a)},i.prototype.getAll=function(){return SW(this.scope)},i.prototype.getAllAsMap=function(){return this.scope};function n(a){if(a.length===0)return!1;for(var s=0;s<a.length;s++){var o=a.charAt(s-1),l=a.charAt(s),u=a.charAt(s+1),c=r.isAlpha(l,o,u)||s>0&&r.isDigit(l);if(!c)return!1}return!0}return i.prototype.set=function(a,s){if(!n(a))throw new Error("Invalid variable name: '".concat(a,"'. Variable names must follow the specified rules."));return this.scope.set(a,s),s},i.prototype.remove=function(a){this.scope.delete(a)},i.prototype.clear=function(){this.scope.clear()},i.prototype.toJSON=function(){var a={mathjs:"Parser",variables:{},functions:{}};for(var[s,o]of this.scope)if(Mb(o)){if(!qne(o))throw new Error("Cannot serialize external function ".concat(s));a.functions[s]="".concat(o.syntax," = ").concat(o.expr)}else a.variables[s]=o;return a},i.fromJSON=function(a){var s=new i;return Object.entries(a.variables).forEach(o=>{var[l,u]=o;return s.set(l,u)}),Object.entries(a.functions).forEach(o=>{var[l,u]=o;return s.evaluate(u)}),s},i},{isClass:!0});function qne(t){return typeof t=="function"&&typeof t.syntax=="string"&&typeof t.expr=="string"}var X_="parser",Une=["typed","Parser"],Vne=ce(X_,Une,t=>{var{typed:e,Parser:r}=t;return e(X_,{"":function(){return new r}})}),Q_="lup",Gne=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Zne=ce(Q_,Gne,t=>{var{typed:e,matrix:r,abs:i,addScalar:n,divideScalar:a,multiplyScalar:s,subtractScalar:o,larger:l,equalScalar:u,unaryMinus:c,DenseMatrix:h,SparseMatrix:p,Spa:d}=t;return e(Q_,{DenseMatrix:function(y){return m(y)},SparseMatrix:function(y){return f(y)},Array:function(y){var x=r(y),g=m(x);return{L:g.L.valueOf(),U:g.U.valueOf(),p:g.p}}});function m(v){var y=v._size[0],x=v._size[1],g=Math.min(y,x),b=kr(v._data),k=[],w=[y,g],N=[],A=[g,x],$,D,_,T=[];for($=0;$<y;$++)T[$]=$;for(D=0;D<x;D++){if(D>0)for($=0;$<y;$++){var z=Math.min($,D),P=0;for(_=0;_<z;_++)P=n(P,s(b[$][_],b[_][D]));b[$][D]=o(b[$][D],P)}var q=D,L=0,Z=0;for($=D;$<y;$++){var W=b[$][D],Y=i(W);l(Y,L)&&(q=$,L=Y,Z=W)}if(D!==q&&(T[D]=[T[q],T[q]=T[D]][0],h._swapRows(D,q,b)),D<y)for($=D+1;$<y;$++){var ie=b[$][D];u(ie,0)||(b[$][D]=a(b[$][D],Z))}}for(D=0;D<x;D++)for($=0;$<y;$++){if(D===0&&($<x&&(N[$]=[]),k[$]=[]),$<D){$<x&&(N[$][D]=b[$][D]),D<y&&(k[$][D]=0);continue}if($===D){$<x&&(N[$][D]=b[$][D]),D<y&&(k[$][D]=1);continue}$<x&&(N[$][D]=0),D<y&&(k[$][D]=b[$][D])}var re=new h({data:k,size:w}),R=new h({data:N,size:A}),X=[];for($=0,g=T.length;$<g;$++)X[T[$]]=$;return{L:re,U:R,p:X,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function f(v){var y=v._size[0],x=v._size[1],g=Math.min(y,x),b=v._values,k=v._index,w=v._ptr,N=[],A=[],$=[],D=[y,g],_=[],T=[],z=[],P=[g,x],q,L,Z,W=[],Y=[];for(q=0;q<y;q++)W[q]=q,Y[q]=q;var ie=function(X,E){var oe=Y[X],le=Y[E];W[oe]=E,W[le]=X,Y[X]=le,Y[E]=oe},re=function(){var X=new d;L<y&&($.push(N.length),N.push(1),A.push(L)),z.push(_.length);var E=w[L],oe=w[L+1];for(Z=E;Z<oe;Z++)q=k[Z],X.set(W[q],b[Z]);L>0&&X.forEach(0,L-1,function(ue,ae){p._forEachRow(ue,N,A,$,function($e,Ne){$e>ue&&X.accumulate($e,c(s(Ne,ae)))})});var le=L,ne=X.get(L),H=i(ne);X.forEach(L+1,y-1,function(ue,ae){var $e=i(ae);l($e,H)&&(le=ue,H=$e,ne=ae)}),L!==le&&(p._swapRows(L,le,D[1],N,A,$),p._swapRows(L,le,P[1],_,T,z),X.swap(L,le),ie(L,le)),X.forEach(0,y-1,function(ue,ae){ue<=L?(_.push(ae),T.push(ue)):(ae=a(ae,ne),u(ae,0)||(N.push(ae),A.push(ue)))})};for(L=0;L<x;L++)re();return z.push(_.length),$.push(N.length),{L:new p({values:N,index:A,ptr:$,size:D}),U:new p({values:_,index:T,ptr:z,size:P}),p:W,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),J_="qr",Hne=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],Wne=ce(J_,Hne,t=>{var{typed:e,matrix:r,zeros:i,identity:n,isZero:a,equal:s,sign:o,sqrt:l,conj:u,unaryMinus:c,addScalar:h,divideScalar:p,multiplyScalar:d,subtractScalar:m,complex:f}=t;return Sa(e(J_,{DenseMatrix:function(b){return y(b)},SparseMatrix:function(b){return x()},Array:function(b){var k=r(b),w=y(k);return{Q:w.Q.valueOf(),R:w.R.valueOf()}}}),{_denseQRimpl:v});function v(g){var b=g._size[0],k=g._size[1],w=n([b],"dense"),N=w._data,A=g.clone(),$=A._data,D,_,T,z=i([b],"");for(T=0;T<Math.min(k,b);++T){var P=$[T][T],q=c(s(P,0)?1:o(P)),L=u(q),Z=0;for(D=T;D<b;D++)Z=h(Z,d($[D][T],u($[D][T])));var W=d(q,l(Z));if(!a(W)){var Y=m(P,W);for(z[T]=1,D=T+1;D<b;D++)z[D]=p($[D][T],Y);var ie=c(u(p(Y,W))),re=void 0;for(_=T;_<k;_++){for(re=0,D=T;D<b;D++)re=h(re,d(u(z[D]),$[D][_]));for(re=d(re,ie),D=T;D<b;D++)$[D][_]=d(m($[D][_],d(z[D],re)),L)}for(D=0;D<b;D++){for(re=0,_=T;_<b;_++)re=h(re,d(N[D][_],z[_]));for(re=d(re,ie),_=T;_<b;++_)N[D][_]=p(m(N[D][_],d(re,u(z[_]))),L)}}}return{Q:w,R:A,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function y(g){var b=v(g),k=b.R._data;if(g._data.length>0)for(var w=k[0][0].type==="Complex"?f(0):0,N=0;N<k.length;++N)for(var A=0;A<N&&A<(k[0]||[]).length;++A)k[N][A]=w;return b}function x(g){throw new Error("qr not implemented for sparse matrices yet")}});function Yne(t,e,r,i){t._values;for(var n=t._index,a=t._ptr,s=t._size,o=t._datatype,l=s[0],u=s[1],c=null,h=[],p=[],d=0,m=0;m<u;m++){p[m]=d;for(var f=r?r[m]:m,v=a[f],y=a[f+1],x=v;x<y;x++){var g=n[x];h[d]=g,d++}}return p[u]=d,t.createSparseMatrix({values:c,index:h,ptr:p,size:[l,u],datatype:o})}function eE(t,e,r,i,n,a,s){var o=0;for(r[s]=t;o>=0;){var l=r[s+o],u=r[i+l];u===-1?(o--,a[e++]=l):(r[i+l]=r[n+u],++o,r[s+o]=u)}return e}function Kne(t,e){if(!t)return null;var r=0,i,n=[],a=[],s=0,o=e,l=2*e;for(i=0;i<e;i++)a[s+i]=-1;for(i=e-1;i>=0;i--)t[i]!==-1&&(a[o+i]=a[s+t[i]],a[s+t[i]]=i);for(i=0;i<e;i++)t[i]===-1&&(r=eE(i,r,a,s,o,n,l));return n}function Xne(t,e){if(!t)return null;var r=t._index,i=t._ptr,n=t._size,a=n[0],s=n[1],o=[],l=[],u=0,c=s,h,p;for(h=0;h<a;h++)l[c+h]=-1;for(var d=0;d<s;d++){o[d]=-1,l[u+d]=-1;for(var m=i[d],f=i[d+1],v=m;v<f;v++){var y=r[v];for(h=l[c+y];h!==-1&&h<d;h=p)p=l[u+h],l[u+h]=d,p===-1&&(o[h]=d);l[c+y]=d}}return o}function Qne(t,e,r){for(var i=t._values,n=t._index,a=t._ptr,s=t._size,o=s[1],l=0,u=0;u<o;u++){var c=a[u];for(a[u]=l;c<a[u+1];c++)e(n[c],u,i?i[c]:1,r)&&(n[l]=n[c],i&&(i[l]=i[c]),l++)}return a[o]=l,n.splice(l,n.length-l),i&&i.splice(l,i.length-l),l}function bc(t){return-t-2}var Jne="csAmd",eae=["add","multiply","transpose"],tae=ce(Jne,eae,t=>{var{add:e,multiply:r,transpose:i}=t;return function(c,h){if(!h||c<=0||c>3)return null;var p=h._size,d=p[0],m=p[1],f=0,v=Math.max(16,10*Math.sqrt(m));v=Math.min(m-2,v);var y=n(c,h,d,m,v);Qne(y,l,null);for(var x=y._index,g=y._ptr,b=g[m],k=[],w=[],N=0,A=m+1,$=2*(m+1),D=3*(m+1),_=4*(m+1),T=5*(m+1),z=6*(m+1),P=7*(m+1),q=k,L=a(m,g,w,N,D,q,$,P,A,z,_,T),Z=s(m,g,w,T,_,z,v,A,D,q,$),W=0,Y,ie,re,R,X,E,oe,le,ne,H,ue,ae,$e,Ne,ze,Te;Z<m;){for(re=-1;W<m&&(re=w[D+W])===-1;W++);w[$+re]!==-1&&(q[w[$+re]]=-1),w[D+W]=w[$+re];var Qe=w[_+re],nt=w[A+re];Z+=nt;var rt=0;w[A+re]=-nt;var Ue=g[re],lt=Qe===0?Ue:b,J=lt;for(R=1;R<=Qe+1;R++){for(R>Qe?(E=re,oe=Ue,le=w[N+re]-Qe):(E=x[Ue++],oe=g[E],le=w[N+E]),X=1;X<=le;X++)Y=x[oe++],!((ne=w[A+Y])<=0)&&(rt+=ne,w[A+Y]=-ne,x[J++]=Y,w[$+Y]!==-1&&(q[w[$+Y]]=q[Y]),q[Y]!==-1?w[$+q[Y]]=w[$+Y]:w[D+w[T+Y]]=w[$+Y]);E!==re&&(g[E]=bc(re),w[z+E]=0)}for(Qe!==0&&(b=J),w[T+re]=rt,g[re]=lt,w[N+re]=J-lt,w[_+re]=-2,L=o(L,f,w,z,m),H=lt;H<J;H++)if(Y=x[H],!((ue=w[_+Y])<=0)){ne=-w[A+Y];var me=L-ne;for(Ue=g[Y],ae=g[Y]+ue-1;Ue<=ae;Ue++)E=x[Ue],w[z+E]>=L?w[z+E]-=ne:w[z+E]!==0&&(w[z+E]=w[T+E]+me)}for(H=lt;H<J;H++){for(Y=x[H],ae=g[Y],$e=ae+w[_+Y]-1,Ne=ae,ze=0,Te=0,Ue=ae;Ue<=$e;Ue++)if(E=x[Ue],w[z+E]!==0){var Oe=w[z+E]-L;Oe>0?(Te+=Oe,x[Ne++]=E,ze+=E):(g[E]=bc(re),w[z+E]=0)}w[_+Y]=Ne-ae+1;var te=Ne,fe=ae+w[N+Y];for(Ue=$e+1;Ue<fe;Ue++){ie=x[Ue];var xe=w[A+ie];xe<=0||(Te+=xe,x[Ne++]=ie,ze+=ie)}Te===0?(g[Y]=bc(re),ne=-w[A+Y],rt-=ne,nt+=ne,Z+=ne,w[A+Y]=0,w[_+Y]=-1):(w[T+Y]=Math.min(w[T+Y],Te),x[Ne]=x[te],x[te]=x[ae],x[ae]=re,w[N+Y]=Ne-ae+1,ze=(ze<0?-ze:ze)%m,w[$+Y]=w[P+ze],w[P+ze]=Y,q[Y]=ze)}for(w[T+re]=rt,f=Math.max(f,rt),L=o(L+f,f,w,z,m),H=lt;H<J;H++)if(Y=x[H],!(w[A+Y]>=0))for(ze=q[Y],Y=w[P+ze],w[P+ze]=-1;Y!==-1&&w[$+Y]!==-1;Y=w[$+Y],L++){for(le=w[N+Y],ue=w[_+Y],Ue=g[Y]+1;Ue<=g[Y]+le-1;Ue++)w[z+x[Ue]]=L;var Ee=Y;for(ie=w[$+Y];ie!==-1;){var Me=w[N+ie]===le&&w[_+ie]===ue;for(Ue=g[ie]+1;Me&&Ue<=g[ie]+le-1;Ue++)w[z+x[Ue]]!==L&&(Me=0);Me?(g[ie]=bc(Y),w[A+Y]+=w[A+ie],w[A+ie]=0,w[_+ie]=-1,ie=w[$+ie],w[$+Ee]=ie):(Ee=ie,ie=w[$+ie])}}for(Ue=lt,H=lt;H<J;H++)Y=x[H],!((ne=-w[A+Y])<=0)&&(w[A+Y]=ne,Te=w[T+Y]+rt-ne,Te=Math.min(Te,m-Z-ne),w[D+Te]!==-1&&(q[w[D+Te]]=Y),w[$+Y]=w[D+Te],q[Y]=-1,w[D+Te]=Y,W=Math.min(W,Te),w[T+Y]=Te,x[Ue++]=Y);w[A+re]=nt,(w[N+re]=Ue-lt)===0&&(g[re]=-1,w[z+re]=0),Qe!==0&&(b=Ue)}for(Y=0;Y<m;Y++)g[Y]=bc(g[Y]);for(ie=0;ie<=m;ie++)w[D+ie]=-1;for(ie=m;ie>=0;ie--)w[A+ie]>0||(w[$+ie]=w[D+g[ie]],w[D+g[ie]]=ie);for(E=m;E>=0;E--)w[A+E]<=0||g[E]!==-1&&(w[$+E]=w[D+g[E]],w[D+g[E]]=E);for(re=0,Y=0;Y<=m;Y++)g[Y]===-1&&(re=eE(Y,re,w,D,$,k,z));return k.splice(k.length-1,1),k};function n(u,c,h,p,d){var m=i(c);if(u===1&&p===h)return e(c,m);if(u===2){for(var f=m._index,v=m._ptr,y=0,x=0;x<h;x++){var g=v[x];if(v[x]=y,!(v[x+1]-g>d))for(var b=v[x+1];g<b;g++)f[y++]=f[g]}return v[h]=y,c=i(m),r(m,c)}return r(m,c)}function a(u,c,h,p,d,m,f,v,y,x,g,b){for(var k=0;k<u;k++)h[p+k]=c[k+1]-c[k];h[p+u]=0;for(var w=0;w<=u;w++)h[d+w]=-1,m[w]=-1,h[f+w]=-1,h[v+w]=-1,h[y+w]=1,h[x+w]=1,h[g+w]=0,h[b+w]=h[p+w];var N=o(0,0,h,x,u);return h[g+u]=-2,c[u]=-1,h[x+u]=0,N}function s(u,c,h,p,d,m,f,v,y,x,g){for(var b=0,k=0;k<u;k++){var w=h[p+k];if(w===0)h[d+k]=-2,b++,c[k]=-1,h[m+k]=0;else if(w>f)h[v+k]=0,h[d+k]=-1,b++,c[k]=bc(u),h[v+u]++;else{var N=h[y+w];N!==-1&&(x[N]=k),h[g+k]=h[y+w],h[y+w]=k}}return b}function o(u,c,h,p,d){if(u<2||u+c<0){for(var m=0;m<d;m++)h[p+m]!==0&&(h[p+m]=1);u=2}return u}function l(u,c){return u!==c}});function rae(t,e,r,i,n,a,s){var o,l,u=0,c;if(t<=e||r[i+e]<=r[n+t])return-1;r[n+t]=r[i+e];var h=r[a+t];if(r[a+t]=e,h===-1)u=1,c=t;else{for(u=2,c=h;c!==r[s+c];c=r[s+c]);for(o=h;o!==c;o=l)l=r[s+o],r[s+o]=c}return{jleaf:u,q:c}}var iae="csCounts",nae=["transpose"],aae=ce(iae,nae,t=>{var{transpose:e}=t;return function(r,i,n,a){if(!r||!i||!n)return null;var s=r._size,o=s[0],l=s[1],u,c,h,p,d,m,f,v=4*l+(a?l+o+1:0),y=[],x=0,g=l,b=2*l,k=3*l,w=4*l,N=5*l+1;for(h=0;h<v;h++)y[h]=-1;var A=[],$=e(r),D=$._index,_=$._ptr;for(h=0;h<l;h++)for(c=n[h],A[c]=y[k+c]===-1?1:0;c!==-1&&y[k+c]===-1;c=i[c])y[k+c]=h;if(a){for(h=0;h<l;h++)y[n[h]]=h;for(u=0;u<o;u++){for(h=l,m=_[u],f=_[u+1],d=m;d<f;d++)h=Math.min(h,y[D[d]]);y[N+u]=y[w+h],y[w+h]=u}}for(u=0;u<l;u++)y[x+u]=u;for(h=0;h<l;h++){for(c=n[h],i[c]!==-1&&A[i[c]]--,p=a?y[w+h]:c;p!==-1;p=a?y[N+p]:-1)for(d=_[p];d<_[p+1];d++){u=D[d];var T=rae(u,c,y,k,g,b,x);T.jleaf>=1&&A[c]++,T.jleaf===2&&A[T.q]--}i[c]!==-1&&(y[x+c]=i[c])}for(c=0;c<l;c++)i[c]!==-1&&(A[i[c]]+=A[c]);return A}}),sae="csSqr",oae=["add","multiply","transpose"],lae=ce(sae,oae,t=>{var{add:e,multiply:r,transpose:i}=t,n=tae({add:e,multiply:r,transpose:i}),a=aae({transpose:i});return function(l,u,c){var h=u._ptr,p=u._size,d=p[1],m,f={};if(f.q=n(l,u),l&&!f.q)return null;if(c){var v=l?Yne(u,null,f.q):u;f.parent=Xne(v);var y=Kne(f.parent,d);if(f.cp=a(v,f.parent,y,1),v&&f.parent&&f.cp&&s(v,f))for(f.unz=0,m=0;m<d;m++)f.unz+=f.cp[m]}else f.unz=4*h[d]+d,f.lnz=f.unz;return f};function s(o,l){var u=o._ptr,c=o._index,h=o._size,p=h[0],d=h[1];l.pinv=[],l.leftmost=[];var m=l.parent,f=l.pinv,v=l.leftmost,y=[],x=0,g=p,b=p+d,k=p+2*d,w,N,A,$,D;for(N=0;N<d;N++)y[g+N]=-1,y[b+N]=-1,y[k+N]=0;for(w=0;w<p;w++)v[w]=-1;for(N=d-1;N>=0;N--)for($=u[N],D=u[N+1],A=$;A<D;A++)v[c[A]]=N;for(w=p-1;w>=0;w--)f[w]=-1,N=v[w],N!==-1&&(y[k+N]++===0&&(y[b+N]=w),y[x+w]=y[g+N],y[g+N]=w);for(l.lnz=0,l.m2=p,N=0;N<d;N++)if(w=y[g+N],l.lnz++,w<0&&(w=l.m2++),f[w]=N,!(--k[N]<=0)){l.lnz+=y[k+N];var _=m[N];_!==-1&&(y[k+_]===0&&(y[b+_]=y[b+N]),y[x+y[b+N]]=y[g+_],y[g+_]=y[x+w],y[k+_]+=y[k+N])}for(w=0;w<p;w++)f[w]<0&&(f[w]=N++);return!0}});function v6(t,e){return t[e]<0}function tE(t,e){t[e]=bc(t[e])}function rE(t){return t<0?bc(t):t}function uae(t,e,r,i,n){var a=e._index,s=e._ptr,o=e._size,l=o[1],u,c,h,p=0;for(i[0]=t;p>=0;){t=i[p];var d=n?n[t]:t;v6(s,t)||(tE(s,t),i[l+p]=d<0?0:rE(s[d]));var m=1;for(c=i[l+p],h=d<0?0:rE(s[d+1]);c<h;c++)if(u=a[c],!v6(s,u)){i[l+p]=c,i[++p]=u,m=0;break}m&&(p--,i[--r]=t)}return r}function cae(t,e,r,i,n){var a=t._ptr,s=t._size,o=e._index,l=e._ptr,u=s[1],c,h,p,d=u;for(h=l[r],p=l[r+1],c=h;c<p;c++){var m=o[c];v6(a,m)||(d=uae(m,t,d,i,n))}for(c=d;c<u;c++)tE(a,i[c]);return d}var hae="csSpsolve",pae=["divideScalar","multiply","subtract"],dae=ce(hae,pae,t=>{var{divideScalar:e,multiply:r,subtract:i}=t;return function(a,s,o,l,u,c,h){var p=a._values,d=a._index,m=a._ptr,f=a._size,v=f[1],y=s._values,x=s._index,g=s._ptr,b,k,w,N,A=cae(a,s,o,l,c);for(b=A;b<v;b++)u[l[b]]=0;for(k=g[o],w=g[o+1],b=k;b<w;b++)u[x[b]]=y[b];for(var $=A;$<v;$++){var D=l[$],_=c?c[D]:D;if(!(_<0))for(k=m[_],w=m[_+1],u[D]=e(u[D],p[h?k:w-1]),b=h?k+1:k,N=h?w:w-1;b<N;b++){var T=d[b];u[T]=i(u[T],r(p[b],u[D]))}}return A}}),mae="csLu",fae=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],gae=ce(mae,fae,t=>{var{abs:e,divideScalar:r,multiply:i,subtract:n,larger:a,largerEq:s,SparseMatrix:o}=t,l=dae({divideScalar:r,multiply:i,subtract:n});return function(c,h,p){if(!c)return null;var d=c._size,m=d[1],f,v=100,y=100;h&&(f=h.q,v=h.lnz||v,y=h.unz||y);var x=[],g=[],b=[],k=new o({values:x,index:g,ptr:b,size:[m,m]}),w=[],N=[],A=[],$=new o({values:w,index:N,ptr:A,size:[m,m]}),D=[],_,T,z=[],P=[];for(_=0;_<m;_++)z[_]=0,D[_]=-1,b[_+1]=0;v=0,y=0;for(var q=0;q<m;q++){b[q]=v,A[q]=y;var L=f?f[q]:q,Z=l(k,c,L,P,z,D,1),W=-1,Y=-1;for(T=Z;T<m;T++)if(_=P[T],D[_]<0){var ie=e(z[_]);a(ie,Y)&&(Y=ie,W=_)}else N[y]=D[_],w[y++]=z[_];if(W===-1||Y<=0)return null;D[L]<0&&s(e(z[L]),i(Y,p))&&(W=L);var re=z[W];for(N[y]=q,w[y++]=re,D[W]=q,g[v]=W,x[v++]=1,T=Z;T<m;T++)_=P[T],D[_]<0&&(g[v]=_,x[v++]=r(z[_],re)),z[_]=0}for(b[m]=v,A[m]=y,T=0;T<v;T++)g[T]=D[g[T]];return x.splice(v,x.length-v),g.splice(v,g.length-v),w.splice(y,w.length-y),N.splice(y,N.length-y),{L:k,U:$,pinv:D}}}),iE="slu",vae=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],yae=ce(iE,vae,t=>{var{typed:e,abs:r,add:i,multiply:n,transpose:a,divideScalar:s,subtract:o,larger:l,largerEq:u,SparseMatrix:c}=t,h=lae({add:i,multiply:n,transpose:a}),p=gae({abs:r,divideScalar:s,multiply:n,subtract:o,larger:l,largerEq:u,SparseMatrix:c});return e(iE,{"SparseMatrix, number, number":function(m,f,v){if(!rr(f)||f<0||f>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(v<0||v>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var y=h(f,m,!1),x=p(m,y,v);return{L:x.L,U:x.U,p:x.pinv,q:y.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function nE(t,e){var r,i=e.length,n=[];if(t)for(r=0;r<i;r++)n[t[r]]=e[r];else for(r=0;r<i;r++)n[r]=e[r];return n}var aE="lusolve",bae=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],xae=ce(aE,bae,t=>{var{typed:e,matrix:r,lup:i,slu:n,usolve:a,lsolve:s,DenseMatrix:o}=t,l=zm({DenseMatrix:o});return e(aE,{"Array, Array | Matrix":function(p,d){p=r(p);var m=i(p),f=c(m.L,m.U,m.p,null,d);return f.valueOf()},"DenseMatrix, Array | Matrix":function(p,d){var m=i(p);return c(m.L,m.U,m.p,null,d)},"SparseMatrix, Array | Matrix":function(p,d){var m=i(p);return c(m.L,m.U,m.p,null,d)},"SparseMatrix, Array | Matrix, number, number":function(p,d,m,f){var v=n(p,m,f);return c(v.L,v.U,v.p,v.q,d)},"Object, Array | Matrix":function(p,d){return c(p.L,p.U,p.p,p.q,d)}});function u(h){if(hr(h))return h;if(Li(h))return r(h);throw new TypeError("Invalid Matrix LU decomposition")}function c(h,p,d,m,f){h=u(h),p=u(p),d&&(f=l(h,f,!0),f._data=nE(d,f._data));var v=s(h,f),y=a(p,v);return m&&(y._data=nE(m,y._data)),y}}),sE="polynomialRoot",wae=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],Mae=ce(sE,wae,t=>{var{typed:e,isZero:r,equalScalar:i,add:n,subtract:a,multiply:s,divide:o,sqrt:l,unaryMinus:u,cbrt:c,typeOf:h,im:p,re:d}=t;return e(sE,{"number|Complex, ...number|Complex":(m,f)=>{for(var v=[m,...f];v.length>0&&r(v[v.length-1]);)v.pop();if(v.length<2)throw new RangeError("Polynomial [".concat(m,", ").concat(f,"] must have a non-zero non-constant coefficient"));switch(v.length){case 2:return[u(o(v[0],v[1]))];case 3:{var[y,x,g]=v,b=s(2,g),k=s(x,x),w=s(4,g,y);if(i(k,w))return[o(u(x),b)];var N=l(a(k,w));return[o(a(N,x),b),o(a(u(N),x),b)]}case 4:{var[A,$,D,_]=v,T=u(s(3,_)),z=s(D,D),P=s(3,_,$),q=n(s(2,D,D,D),s(27,_,_,A)),L=s(9,_,D,$);if(i(z,P)&&i(q,L))return[o(D,T)];var Z=a(z,P),W=a(q,L),Y=n(s(18,_,D,$,A),s(D,D,$,$)),ie=n(s(4,D,D,D,A),s(4,_,$,$,$),s(27,_,_,A,A));if(i(Y,ie))return[o(a(s(4,_,D,$),n(s(9,_,_,A),s(D,D,D))),s(_,Z)),o(a(s(9,_,A),s(D,$)),s(2,Z))];var re;i(z,P)?re=W:re=o(n(W,l(a(s(W,W),s(4,Z,Z,Z)))),2);var R=!0,X=c(re,R).toArray().map(E=>o(n(D,E,o(Z,E)),T));return X.map(E=>h(E)==="Complex"&&i(d(E),d(E)+p(E))?d(E):E)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(v))}}})}),kae="Help",Cae=["evaluate"],Nae=ce(kae,Cae,t=>{var{evaluate:e}=t;function r(i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!i)throw new Error('Argument "doc" missing');this.doc=i}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var i=this.doc||{},n=`
`;if(i.name&&(n+="Name: "+i.name+`

`),i.category&&(n+="Category: "+i.category+`

`),i.description&&(n+=`Description:
    `+i.description+`

`),i.syntax&&(n+=`Syntax:
    `+i.syntax.join(`
    `)+`

`),i.examples){n+=`Examples:
`;for(var a=!1,s=e("config()"),o={config:h=>(a=!0,e("config(newConfig)",{newConfig:h}))},l=0;l<i.examples.length;l++){var u=i.examples[l];n+="    "+u+`
`;var c=void 0;try{c=e(u,o)}catch(h){c=h}c!==void 0&&!wb(c)&&(n+="        "+ei(c,{precision:14})+`
`)}n+=`
`,a&&e("config(originalConfig)",{originalConfig:s})}return i.mayThrow&&i.mayThrow.length&&(n+="Throws: "+i.mayThrow.join(", ")+`

`),i.seealso&&i.seealso.length&&(n+="See also: "+i.seealso.join(", ")+`
`),n},r.prototype.toJSON=function(){var i=kr(this.doc);return i.mathjs="Help",i},r.fromJSON=function(i){var n={};return Object.keys(i).filter(a=>a!=="mathjs").forEach(a=>{n[a]=i[a]}),new r(n)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0}),Sae="Chain",Dae=["?on","math","typed"],Aae=ce(Sae,Dae,t=>{var{on:e,math:r,typed:i}=t;function n(u){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Cb(u)?this.value=u.value:this.value=u}n.prototype.type="Chain",n.prototype.isChain=!0,n.prototype.done=function(){return this.value},n.prototype.valueOf=function(){return this.value},n.prototype.toString=function(){return ei(this.value)},n.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},n.fromJSON=function(u){return new n(u.value)};function a(u,c){typeof c=="function"&&(n.prototype[u]=o(c))}function s(u,c){Oh(n.prototype,u,function(){var p=c();if(typeof p=="function")return o(p)})}function o(u){return function(){if(arguments.length===0)return new n(u(this.value));for(var c=[this.value],h=0;h<arguments.length;h++)c[h+1]=arguments[h];if(i.isTypedFunction(u)){var p=i.resolve(u,c);if(p.params.length===1)throw new Error("chain function "+u.name+" cannot match rest parameter between chain value and additional arguments.");return new n(p.implementation.apply(u,c))}return new n(u.apply(u,c))}}n.createProxy=function(u,c){if(typeof u=="string")a(u,c);else{var h=function(m){Vt(u,m)&&l[m]===void 0&&s(m,()=>u[m])};for(var p in u)h(p)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return n.createProxy(r),e&&e("import",function(u,c,h){h||s(u,c)}),n},{isClass:!0}),oE={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},$ae={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},_ae={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Eae={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},Iae={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},Tae={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},Lae={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},zae={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},Bae={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},Oae={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},Fae={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},lE={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},Pae={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},Rae={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},jae={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},qae={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},Uae={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},Vae={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},Gae={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},Zae={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},Hae={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},Wae={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},Yae={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},Kae={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix","number","range","string","unit"]},Xae={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},Qae={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},Jae={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},ese={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},tse={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},rse={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},ise={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},nse={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},ase={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},sse={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},ose={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},lse={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},use={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},cse={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},hse={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},pse={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},dse={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},mse={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},fse={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},gse={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},vse={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},yse={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},bse={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},xse={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},wse={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},Mse={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},kse={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},Cse={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},Nse={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},Sse={name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},Dse={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},Ase={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},$se={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},_se={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},Ese={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},Ise={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},Tse={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},Lse={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},zse={name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},Bse={name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},Ose={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},Fse={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},Pse={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax ≣ 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},Rse={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},jse={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},qse={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},Use={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},Vse={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},Gse={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},Zse={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},Hse={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},Wse={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},Yse={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},Kse={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},Xse={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},Qse={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>0, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},Jse={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},eoe={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},toe={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},roe={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},ioe={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},noe={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},aoe={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},soe={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},ooe={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},loe={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},uoe={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},coe={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},hoe={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},poe={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},doe={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},moe={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},foe={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},goe={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},voe={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},yoe={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},boe={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},xoe={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},woe={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},Moe={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},koe={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},Coe={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:["parser","parse","compile"]},Noe={name:"parser",category:"Expression",syntax:["parser()"],description:"Create a parser object that keeps a context of variables and their values, allowing the evaluation of expressions in that context.",examples:["myParser = parser()",'myParser.evaluate("sqrt(3^2 + 4^2)")','myParser.set("x", 3)','myParser.evaluate("y = x + 3")','myParser.evaluate(["y = x + 3", "y = y + 1"])','myParser.get("y")'],seealso:["evaluate","parse","compile"]},Soe={name:"parse",category:"Expression",syntax:["parse(expr)","parse(expr, options)","parse([expr1, expr2, expr3, ...])","parse([expr1, expr2, expr3, ...], options)"],description:"Parse an expression. Returns a node tree, which can be evaluated by invoking node.evaluate() or transformed into a functional object via node.compile().",examples:['node1 = parse("sqrt(3^2 + 4^2)")',"node1.evaluate()","code1 = node1.compile()","code1.evaluate()","scope = {a: 3, b: 4}",'node2 = parse("a * b")',"node2.evaluate(scope)","code2 = node2.compile()","code2.evaluate(scope)"],seealso:["parser","evaluate","compile"]},Doe={name:"compile",category:"Expression",syntax:["compile(expr) ","compile([expr1, expr2, expr3, ...])"],description:"Parse and compile an expression. Returns a an object with a function evaluate([scope]) to evaluate the compiled expression.",examples:['code1 = compile("sqrt(3^2 + 4^2)")',"code1.evaluate() ",'code2 = compile("a * b")',"code2.evaluate({a: 3, b: 4})"],seealso:["parser","parse","evaluate"]},Aoe={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},$oe={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},_oe={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},Eoe={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},Ioe={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},Toe={name:"nullish",category:"Logical",syntax:["x ?? y","nullish(x, y)"],description:"Nullish coalescing operator. Returns the right-hand operand when the left-hand operand is null or undefined, and otherwise returns the left-hand operand.",examples:["null ?? 42","undefined ?? 42","0 ?? 42","false ?? 42","null ?? undefined ?? 42"],seealso:["and","or","not"]},Loe={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},zoe={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},Boe={name:"mapSlices",category:"Matrix",syntax:["mapSlices(A, dim, callback)"],description:"Generate a matrix one dimension less than A by applying callback to each slice of A along dimension dim.",examples:["A = [[1, 2], [3, 4]]","mapSlices(A, 1, sum)","mapSlices(A, 2, prod)"],seealso:["map","forEach"]},Ooe={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},Foe={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Poe={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},Roe={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},joe={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},qoe={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Uoe={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Voe={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},Goe={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},Zoe={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},Hoe={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},Woe={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},Yoe={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},Koe={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},Xoe={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Qoe={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Joe={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore–Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},ele={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},tle={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},rle={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},ile={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},nle={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},ale={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},sle={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},ole={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},lle={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},ule={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},cle={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},hle={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},ple={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},dle={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},mle={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},fle={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},gle={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},vle={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},yle={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},ble={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},xle={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},wle={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},Mle={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},kle={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},Cle={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},Nle={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},Sle={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},Dle={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},Ale={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},$le={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},_le={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},Ele={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},Ile={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},Tle={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},Lle={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},zle={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},Ble={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},Ole={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},Fle={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},Ple={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not. Comparing a value with NaN returns false.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},Rle={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},jle={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not. Comparing a value with NaN returns false.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},qle={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},Ule={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},Vle={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},Gle={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},Zle={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},Hle={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},Wle={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},Yle={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},Kle={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},Xle={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},Qle={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},Jle={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},e0e={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},t0e={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},r0e={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},i0e={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},n0e={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},a0e={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},s0e={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},o0e={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},l0e={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},u0e={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},c0e={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},h0e={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},p0e={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},d0e={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},m0e={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","variance"]},f0e={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},g0e={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},v0e={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},y0e={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},b0e={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},x0e={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},w0e={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},M0e={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},k0e={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},C0e={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},N0e={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},S0e={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},D0e={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},A0e={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},$0e={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},_0e={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},E0e={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},I0e={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},T0e={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},L0e={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},z0e={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},B0e={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},O0e={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},F0e={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},P0e={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},R0e={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},j0e={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},q0e={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},U0e={name:"toBest",category:"Units",syntax:["toBest(x)","toBest(x, unitList)","toBest(x, unitList, options)"],description:"Converts to the most appropriate display unit.",examples:['toBest(unit(5000, "m"))','toBest(unit(3500000, "W"))','toBest(unit(0.000000123, "A"))','toBest(unit(10, "m"), "cm")','toBest(unit(10, "m"), "mm,km", {offset: 1.5})'],seealso:[]},V0e={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},G0e={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},Z0e={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},H0e={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},W0e={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},Y0e={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},K0e={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},X0e={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},Q0e={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},J0e={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},eue={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},tue={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},rue={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]},iue={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},nue={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},aue={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},sue={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},oue={bignumber:Vae,bigint:Gae,boolean:Zae,complex:Hae,createUnit:Wae,fraction:Yae,index:Kae,matrix:Xae,number:Qae,sparse:Jae,splitUnit:ese,string:tse,unit:rse,e:oE,E:oE,false:$ae,i:_ae,Infinity:Eae,LN2:Tae,LN10:Iae,LOG2E:zae,LOG10E:Lae,NaN:Bae,null:Oae,pi:lE,PI:lE,phi:Fae,SQRT1_2:Pae,SQRT2:Rae,tau:jae,true:qae,version:Uae,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant. Deprecated in favor of coulombConstant",examples:["coulombConstant"]},coulombConstant:{description:"Coulomb's constant",examples:["coulombConstant"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:sse,lsolve:lse,lsolveAll:use,lup:cse,lusolve:hse,leafCount:ose,polynomialRoot:pse,resolve:fse,simplify:gse,simplifyConstant:vse,simplifyCore:yse,symbolicEqual:xse,rationalize:mse,slu:bse,usolve:wse,usolveAll:Mse,qr:dse,abs:kse,add:Cse,cbrt:Nse,ceil:Sse,cube:Dse,divide:Ase,dotDivide:$se,dotMultiply:_se,dotPow:Ese,exp:Ise,expm:Tse,expm1:Lse,fix:zse,floor:Bse,gcd:Ose,hypot:Fse,lcm:Rse,log:jse,log2:Vse,log1p:Use,log10:qse,mod:Gse,multiply:Zse,norm:Hse,nthRoot:Wse,nthRoots:Yse,pow:Kse,round:Xse,sign:Qse,sqrt:Jse,sqrtm:eoe,square:noe,subtract:aoe,unaryMinus:soe,unaryPlus:ooe,xgcd:loe,invmod:Pse,bitAnd:uoe,bitNot:coe,bitOr:hoe,bitXor:poe,leftShift:doe,rightArithShift:moe,rightLogShift:foe,bellNumbers:goe,catalan:voe,composition:yoe,stirlingS2:boe,config:ise,import:nse,typed:ase,arg:xoe,conj:woe,re:koe,im:Moe,evaluate:Coe,help:Aoe,parse:Soe,parser:Noe,compile:Doe,distance:$oe,intersect:_oe,and:Eoe,not:Ioe,nullish:Toe,or:Loe,xor:zoe,mapSlices:Boe,concat:Foe,count:Poe,cross:Roe,column:Ooe,ctranspose:joe,det:qoe,diag:Uoe,diff:Voe,dot:Goe,getMatrixDataType:Koe,identity:Xoe,filter:Hoe,flatten:Woe,forEach:Yoe,inv:Qoe,pinv:Joe,eigs:Zoe,kron:ele,matrixFromFunction:ile,matrixFromRows:nle,matrixFromColumns:rle,map:tle,ones:ale,partitionSelect:sle,range:ole,resize:ule,reshape:lle,rotate:cle,rotationMatrix:hle,row:ple,size:dle,sort:mle,squeeze:fle,subset:gle,trace:vle,transpose:yle,zeros:ble,fft:xle,ifft:wle,sylvester:toe,schur:roe,lyap:ioe,solveODE:sue,combinations:Mle,combinationsWithRep:kle,factorial:Cle,gamma:Nle,kldivergence:Dle,lgamma:Sle,multinomial:Ale,permutations:$le,pickRandom:_le,random:Ele,randomInt:Ile,compare:Tle,compareNatural:Lle,compareText:zle,deepEqual:Ble,equal:Ole,equalText:Fle,larger:Ple,largerEq:Rle,smaller:jle,smallerEq:qle,unequal:Ule,setCartesian:Vle,setDifference:Gle,setDistinct:Zle,setIntersect:Hle,setIsSubset:Wle,setMultiplicity:Yle,setPowerset:Kle,setSize:Xle,setSymDifference:Qle,setUnion:Jle,zpk2tf:e0e,freqz:t0e,erf:r0e,zeta:i0e,cumsum:d0e,mad:n0e,max:a0e,mean:s0e,median:o0e,min:l0e,mode:u0e,prod:c0e,quantileSeq:h0e,std:p0e,sum:m0e,variance:f0e,corr:g0e,acos:v0e,acosh:y0e,acot:b0e,acoth:x0e,acsc:w0e,acsch:M0e,asec:k0e,asech:C0e,asin:N0e,asinh:S0e,atan:D0e,atanh:$0e,atan2:A0e,cos:_0e,cosh:E0e,cot:I0e,coth:T0e,csc:L0e,csch:z0e,sec:B0e,sech:O0e,sin:F0e,sinh:P0e,tan:R0e,tanh:j0e,to:q0e,toBest:U0e,clone:G0e,format:Z0e,bin:V0e,oct:iue,hex:W0e,isNaN:K0e,isInteger:Y0e,isNegative:X0e,isNumeric:Q0e,hasNumericValue:H0e,isPositive:J0e,isPrime:eue,isZero:tue,print:nue,typeOf:aue,numeric:rue},uE="help",lue=["typed","mathWithTransform","Help"],uue=ce(uE,lue,t=>{var{typed:e,mathWithTransform:r,Help:i}=t;return e(uE,{any:function(a){var s,o=a;if(typeof a!="string"){for(s in r)if(Vt(r,s)&&a===r[s]){o=s;break}}var l=Ys(oue,o);if(!l){var u=typeof o=="function"?o.name:o;throw new Error('No documentation found on "'+u+'"')}return new i(l)}})}),cE="chain",cue=["typed","Chain"],hue=ce(cE,cue,t=>{var{typed:e,Chain:r}=t;return e(cE,{"":function(){return new r},any:function(n){return new r(n)}})}),hE="det",pue=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],pE=ce(hE,pue,t=>{var{typed:e,matrix:r,subtractScalar:i,multiply:n,divideScalar:a,isZero:s,unaryMinus:o}=t;return e(hE,{any:function(c){return kr(c)},"Array | Matrix":function(c){var h;switch(hr(c)?h=c.size():Array.isArray(c)?(c=r(c),h=c.size()):h=[],h.length){case 0:return kr(c);case 1:if(h[0]===1)return kr(c.valueOf()[0]);if(h[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+ei(h)+")");case 2:{var p=h[0],d=h[1];if(p===d)return l(c.clone().valueOf(),p);if(d===0)return 1;throw new RangeError("Matrix must be square (size: "+ei(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ei(h)+")")}}});function l(u,c,h){if(c===1)return kr(u[0][0]);if(c===2)return i(n(u[0][0],u[1][1]),n(u[1][0],u[0][1]));for(var p=!1,d=new Array(c).fill(0).map((N,A)=>A),m=0;m<c;m++){var f=d[m];if(s(u[f][m])){var v=void 0;for(v=m+1;v<c;v++)if(!s(u[d[v]][m])){f=d[v],d[v]=d[m],d[m]=f,p=!p;break}if(v===c)return u[f][m]}for(var y=u[f][m],x=m===0?1:u[d[m-1]][m-1],g=m+1;g<c;g++)for(var b=d[g],k=m+1;k<c;k++)u[b][k]=a(i(n(u[b][k],y),n(u[b][m],u[f][k])),x)}var w=u[d[c-1]][c-1];return p?o(w):w}}),dE="inv",due=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],mE=ce(dE,due,t=>{var{typed:e,matrix:r,divideScalar:i,addScalar:n,multiply:a,unaryMinus:s,det:o,identity:l,abs:u}=t;return e(dE,{"Array | Matrix":function(p){var d=hr(p)?p.size():Tr(p);switch(d.length){case 1:if(d[0]===1)return hr(p)?r([i(1,p.valueOf()[0])]):[i(1,p[0])];throw new RangeError("Matrix must be square (size: "+ei(d)+")");case 2:{var m=d[0],f=d[1];if(m===f)return hr(p)?r(c(p.valueOf(),m,f),p.storage()):c(p,m,f);throw new RangeError("Matrix must be square (size: "+ei(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ei(d)+")")}},any:function(p){return i(1,p)}});function c(h,p,d){var m,f,v,y,x;if(p===1){if(y=h[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,y)]]}else if(p===2){var g=o(h);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(h[1][1],g),i(s(h[0][1]),g)],[i(s(h[1][0]),g),i(h[0][0],g)]]}else{var b=h.concat();for(m=0;m<p;m++)b[m]=b[m].concat();for(var k=l(p).valueOf(),w=0;w<d;w++){var N=u(b[w][w]),A=w;for(m=w+1;m<p;)u(b[m][w])>N&&(N=u(b[m][w]),A=m),m++;if(N===0)throw Error("Cannot calculate inverse, determinant is zero");m=A,m!==w&&(x=b[w],b[w]=b[m],b[m]=x,x=k[w],k[w]=k[m],k[m]=x);var $=b[w],D=k[w];for(m=0;m<p;m++){var _=b[m],T=k[m];if(m!==w){if(_[w]!==0){for(v=i(s(_[w]),$[w]),f=w;f<d;f++)_[f]=n(_[f],a(v,$[f]));for(f=0;f<d;f++)T[f]=n(T[f],a(v,D[f]))}}else{for(v=$[w],f=w;f<d;f++)_[f]=i(_[f],v);for(f=0;f<d;f++)T[f]=i(T[f],v)}}}return k}}}),fE="pinv",mue=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],fue=ce(fE,mue,t=>{var{typed:e,matrix:r,inv:i,deepEqual:n,equal:a,dotDivide:s,dot:o,ctranspose:l,divideScalar:u,multiply:c,add:h,Complex:p}=t;return e(fE,{"Array | Matrix":function(g){var b=hr(g)?g.size():Tr(g);switch(b.length){case 1:return y(g)?l(g):b[0]===1?i(g):s(l(g),o(g,g));case 2:{if(y(g))return l(g);var k=b[0],w=b[1];if(k===w)try{return i(g)}catch(N){if(!(N instanceof Error&&N.message.match(/Cannot calculate inverse, determinant is zero/)))throw N}return hr(g)?r(d(g.valueOf(),k,w),g.storage()):d(g,k,w)}default:throw new RangeError("Matrix must be two dimensional (size: "+ei(b)+")")}},any:function(g){return a(g,0)?kr(g):u(1,g)}});function d(x,g,b){var{C:k,F:w}=f(x,g,b),N=c(i(c(l(k),k)),l(k)),A=c(l(w),i(c(w,l(w))));return c(A,N)}function m(x,g,b){for(var k=kr(x),w=0,N=0;N<g;N++){if(b<=w)return k;for(var A=N;v(k[A][w]);)if(A++,g===A&&(A=N,w++,b===w))return k;[k[A],k[N]]=[k[N],k[A]];for(var $=k[N][w],D=0;D<b;D++)k[N][D]=s(k[N][D],$);for(var _=0;_<g;_++)if(_!==N){$=k[_][w];for(var T=0;T<b;T++)k[_][T]=h(k[_][T],c(-1,c($,k[N][T])))}w++}return k}function f(x,g,b){var k=m(x,g,b),w=x.map((A,$)=>A.filter((D,_)=>_<g&&!v(o(k[_],k[_])))),N=k.filter((A,$)=>!v(o(k[$],k[$])));return{C:w,F:N}}function v(x){return a(h(x,p(1,1)),h(0,p(1,1)))}function y(x){return n(h(x,p(1,1)),h(c(x,0),p(1,1)))}});function gue(t){var{addScalar:e,subtract:r,flatten:i,multiply:n,multiplyScalar:a,divideScalar:s,sqrt:o,abs:l,bignumber:u,diag:c,size:h,reshape:p,inv:d,qr:m,usolve:f,usolveAll:v,equal:y,complex:x,larger:g,smaller:b,matrixFromColumns:k,dot:w}=t;function N(R,X,E,oe){var le=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ne=A(R,X,E,oe,le);$(R,X,E,oe,le,ne);var{values:H,C:ue}=D(R,X,E,oe,le);if(le){var ae=_(R,X,ue,ne,H,E,oe);return{values:H,eigenvectors:ae}}return{values:H}}function A(R,X,E,oe,le){var ne=oe==="BigNumber",H=oe==="Complex",ue=ne?u(0):0,ae=ne?u(1):H?x(1):1,$e=ne?u(1):1,Ne=ne?u(10):2,ze=a(Ne,Ne),Te;le&&(Te=Array(X).fill(ae));for(var Qe=!1;!Qe;){Qe=!0;for(var nt=0;nt<X;nt++){for(var rt=ue,Ue=ue,lt=0;lt<X;lt++)nt!==lt&&(rt=e(rt,l(R[lt][nt])),Ue=e(Ue,l(R[nt][lt])));if(!y(rt,0)&&!y(Ue,0)){for(var J=$e,me=rt,Oe=s(Ue,Ne),te=a(Ue,Ne);b(me,Oe);)me=a(me,ze),J=a(J,Ne);for(;g(me,te);)me=s(me,ze),J=s(J,Ne);var fe=b(s(e(me,Ue),J),a(e(rt,Ue),.95));if(fe){Qe=!1;for(var xe=s(1,J),Ee=0;Ee<X;Ee++)nt!==Ee&&(R[nt][Ee]=a(R[nt][Ee],xe),R[Ee][nt]=a(R[Ee][nt],J));le&&(Te[nt]=a(Te[nt],xe))}}}}return le?c(Te):null}function $(R,X,E,oe,le,ne){var H=oe==="BigNumber",ue=oe==="Complex",ae=H?u(0):ue?x(0):0;H&&(E=u(E));for(var $e=0;$e<X-2;$e++){for(var Ne=0,ze=ae,Te=$e+1;Te<X;Te++){var Qe=R[Te][$e];b(l(ze),l(Qe))&&(ze=Qe,Ne=Te)}if(!b(l(ze),E)){if(Ne!==$e+1){var nt=R[Ne];R[Ne]=R[$e+1],R[$e+1]=nt;for(var rt=0;rt<X;rt++){var Ue=R[rt][Ne];R[rt][Ne]=R[rt][$e+1],R[rt][$e+1]=Ue}if(le){var lt=ne[Ne];ne[Ne]=ne[$e+1],ne[$e+1]=lt}}for(var J=$e+2;J<X;J++){var me=s(R[J][$e],ze);if(me!==0){for(var Oe=0;Oe<X;Oe++)R[J][Oe]=r(R[J][Oe],a(me,R[$e+1][Oe]));for(var te=0;te<X;te++)R[te][$e+1]=e(R[te][$e+1],a(me,R[te][J]));if(le)for(var fe=0;fe<X;fe++)ne[J][fe]=r(ne[J][fe],a(me,ne[$e+1][fe]))}}}}return ne}function D(R,X,E,oe,le){var ne=oe==="BigNumber",H=oe==="Complex",ue=ne?u(1):H?x(1):1;ne&&(E=u(E));for(var ae=kr(R),$e=[],Ne=X,ze=[],Te=le?c(Array(X).fill(ue)):void 0,Qe=le?c(Array(Ne).fill(ue)):void 0,nt=0;nt<=100;){nt+=1;for(var rt=ae[Ne-1][Ne-1],Ue=0;Ue<Ne;Ue++)ae[Ue][Ue]=r(ae[Ue][Ue],rt);var{Q:lt,R:J}=m(ae);ae=n(J,lt);for(var me=0;me<Ne;me++)ae[me][me]=e(ae[me][me],rt);if(le&&(Qe=n(Qe,lt)),Ne===1||b(l(ae[Ne-1][Ne-2]),E)){nt=0,$e.push(ae[Ne-1][Ne-1]),le&&(ze.unshift([[1]]),P(Qe,X),Te=n(Te,Qe),Ne>1&&(Qe=c(Array(Ne-1).fill(ue)))),Ne-=1,ae.pop();for(var Oe=0;Oe<Ne;Oe++)ae[Oe].pop()}else if(Ne===2||b(l(ae[Ne-2][Ne-3]),E)){nt=0;var te=T(ae[Ne-2][Ne-2],ae[Ne-2][Ne-1],ae[Ne-1][Ne-2],ae[Ne-1][Ne-1]);$e.push(...te),le&&(ze.unshift(z(ae[Ne-2][Ne-2],ae[Ne-2][Ne-1],ae[Ne-1][Ne-2],ae[Ne-1][Ne-1],te[0],te[1],E,oe)),P(Qe,X),Te=n(Te,Qe),Ne>2&&(Qe=c(Array(Ne-2).fill(ue)))),Ne-=2,ae.pop(),ae.pop();for(var fe=0;fe<Ne;fe++)ae[fe].pop(),ae[fe].pop()}if(Ne===0)break}if($e.sort((Me,Le)=>+r(l(Me),l(Le))),nt>100){var xe=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+$e.join(", "));throw xe.values=$e,xe.vectors=[],xe}var Ee=le?n(Te,q(ze,X)):void 0;return{values:$e,C:Ee}}function _(R,X,E,oe,le,ne,H){var ue=d(E),ae=n(ue,R,E),$e=H==="BigNumber",Ne=H==="Complex",ze=$e?u(0):Ne?x(0):0,Te=$e?u(1):Ne?x(1):1,Qe=[],nt=[];for(var rt of le){var Ue=L(Qe,rt,y);Ue===-1?(Qe.push(rt),nt.push(1)):nt[Ue]+=1}for(var lt=[],J=Qe.length,me=Array(X).fill(ze),Oe=c(Array(X).fill(Te)),te=function(){var Ee=Qe[fe],Me=r(ae,n(Ee,Oe)),Le=v(Me,me);for(Le.shift();Le.length<nt[fe];){var st=Z(Me,X,Le,ne,H);if(st===null)break;Le.push(st)}var mt=n(d(oe),E);Le=Le.map(ft=>n(mt,ft)),lt.push(...Le.map(ft=>({value:Ee,vector:i(ft)})))},fe=0;fe<J;fe++)te();return lt}function T(R,X,E,oe){var le=e(R,oe),ne=r(a(R,oe),a(X,E)),H=a(le,.5),ue=a(o(r(a(le,le),a(4,ne))),.5);return[e(H,ue),r(H,ue)]}function z(R,X,E,oe,le,ne,H,ue){var ae=ue==="BigNumber",$e=ue==="Complex",Ne=ae?u(0):$e?x(0):0,ze=ae?u(1):$e?x(1):1;if(b(l(E),H))return[[ze,Ne],[Ne,ze]];if(g(l(r(le,ne)),H))return[[r(le,oe),r(ne,oe)],[E,E]];var Te=r(R,le),Qe=r(oe,le);return b(l(X),H)&&b(l(Qe),H)?[[Te,ze],[E,Ne]]:[[X,Ne],[Qe,ze]]}function P(R,X){for(var E=0;E<R.length;E++)R[E].push(...Array(X-R[E].length).fill(0));for(var oe=R.length;oe<X;oe++)R.push(Array(X).fill(0)),R[oe][oe]=1;return R}function q(R,X){for(var E=[],oe=0;oe<X;oe++)E[oe]=Array(X).fill(0);var le=0;for(var ne of R){for(var H=ne.length,ue=0;ue<H;ue++)for(var ae=0;ae<H;ae++)E[le+ue][le+ae]=ne[ue][ae];le+=H}return E}function L(R,X,E){for(var oe=0;oe<R.length;oe++)if(E(R[oe],X))return oe;return-1}function Z(R,X,E,oe,le){for(var ne=le==="BigNumber"?u(1e3):1e3,H,ue=0;ue<5;++ue){H=W(X,E,le);try{H=f(R,H)}catch{continue}if(g(ie(H),ne))break}if(ue>=5)return null;for(ue=0;;){var ae=f(R,H);if(b(ie(Y(H,[ae])),oe))break;if(++ue>=10)return null;H=re(ae)}return H}function W(R,X,E){var oe=E==="BigNumber",le=E==="Complex",ne=Array(R).fill(0).map(H=>2*Math.random()-1);return oe&&(ne=ne.map(H=>u(H))),le&&(ne=ne.map(H=>x(H))),ne=Y(ne,X),re(ne,E)}function Y(R,X){var E=h(R);for(var oe of X)oe=p(oe,E),R=r(R,n(s(w(oe,R),w(oe,oe)),oe));return R}function ie(R){return l(o(w(R,R)))}function re(R,X){var E=X==="BigNumber",oe=X==="Complex",le=E?u(1):oe?x(1):1;return n(s(le,ie(R)),R)}return N}function vue(t){var{config:e,addScalar:r,subtract:i,abs:n,atan:a,cos:s,sin:o,multiplyScalar:l,inv:u,bignumber:c,multiply:h,add:p}=t;function d($,D){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,T=arguments.length>3?arguments[3]:void 0,z=arguments.length>4?arguments[4]:void 0;if(T==="number")return m($,_,z);if(T==="BigNumber")return f($,_,z);throw TypeError("Unsupported data type: "+T)}function m($,D,_){var T=$.length,z=Math.abs(D/T),P,q;if(_){q=new Array(T);for(var L=0;L<T;L++)q[L]=Array(T).fill(0),q[L][L]=1}for(var Z=w($);Math.abs(Z[1])>=Math.abs(z);){var W=Z[0][0],Y=Z[0][1];P=v($[W][W],$[Y][Y],$[W][Y]),$=k($,P,W,Y),_&&(q=x(q,P,W,Y)),Z=w($)}for(var ie=Array(T).fill(0),re=0;re<T;re++)ie[re]=$[re][re];return A(kr(ie),q,_)}function f($,D,_){var T=$.length,z=n(D/T),P,q;if(_){q=new Array(T);for(var L=0;L<T;L++)q[L]=Array(T).fill(0),q[L][L]=1}for(var Z=N($);n(Z[1])>=n(z);){var W=Z[0][0],Y=Z[0][1];P=y($[W][W],$[Y][Y],$[W][Y]),$=b($,P,W,Y),_&&(q=g(q,P,W,Y)),Z=N($)}for(var ie=Array(T).fill(0),re=0;re<T;re++)ie[re]=$[re][re];return A(kr(ie),q,_)}function v($,D,_){var T=D-$;return Math.abs(T)<=e.relTol?Math.PI/4:.5*Math.atan(2*_/(D-$))}function y($,D,_){var T=i(D,$);return n(T)<=e.relTol?c(-1).acos().div(4):l(.5,a(h(2,_,u(T))))}function x($,D,_,T){for(var z=$.length,P=Math.cos(D),q=Math.sin(D),L=Array(z).fill(0),Z=Array(z).fill(0),W=0;W<z;W++)L[W]=P*$[W][_]-q*$[W][T],Z[W]=q*$[W][_]+P*$[W][T];for(var Y=0;Y<z;Y++)$[Y][_]=L[Y],$[Y][T]=Z[Y];return $}function g($,D,_,T){for(var z=$.length,P=s(D),q=o(D),L=Array(z).fill(c(0)),Z=Array(z).fill(c(0)),W=0;W<z;W++)L[W]=i(l(P,$[W][_]),l(q,$[W][T])),Z[W]=r(l(q,$[W][_]),l(P,$[W][T]));for(var Y=0;Y<z;Y++)$[Y][_]=L[Y],$[Y][T]=Z[Y];return $}function b($,D,_,T){for(var z=$.length,P=c(s(D)),q=c(o(D)),L=l(P,P),Z=l(q,q),W=Array(z).fill(c(0)),Y=Array(z).fill(c(0)),ie=h(c(2),P,q,$[_][T]),re=r(i(l(L,$[_][_]),ie),l(Z,$[T][T])),R=p(l(Z,$[_][_]),ie,l(L,$[T][T])),X=0;X<z;X++)W[X]=i(l(P,$[_][X]),l(q,$[T][X])),Y[X]=r(l(q,$[_][X]),l(P,$[T][X]));$[_][_]=re,$[T][T]=R,$[_][T]=c(0),$[T][_]=c(0);for(var E=0;E<z;E++)E!==_&&E!==T&&($[_][E]=W[E],$[E][_]=W[E],$[T][E]=Y[E],$[E][T]=Y[E]);return $}function k($,D,_,T){for(var z=$.length,P=Math.cos(D),q=Math.sin(D),L=P*P,Z=q*q,W=Array(z).fill(0),Y=Array(z).fill(0),ie=L*$[_][_]-2*P*q*$[_][T]+Z*$[T][T],re=Z*$[_][_]+2*P*q*$[_][T]+L*$[T][T],R=0;R<z;R++)W[R]=P*$[_][R]-q*$[T][R],Y[R]=q*$[_][R]+P*$[T][R];$[_][_]=ie,$[T][T]=re,$[_][T]=0,$[T][_]=0;for(var X=0;X<z;X++)X!==_&&X!==T&&($[_][X]=W[X],$[X][_]=W[X],$[T][X]=Y[X],$[X][T]=Y[X]);return $}function w($){for(var D=$.length,_=0,T=[0,1],z=0;z<D;z++)for(var P=z+1;P<D;P++)Math.abs(_)<Math.abs($[z][P])&&(_=Math.abs($[z][P]),T=[z,P]);return[T,_]}function N($){for(var D=$.length,_=0,T=[0,1],z=0;z<D;z++)for(var P=z+1;P<D;P++)n(_)<n($[z][P])&&(_=n($[z][P]),T=[z,P]);return[T,_]}function A($,D,_){var T=$.length,z=Array(T),P;if(_){P=Array(T);for(var q=0;q<T;q++)P[q]=Array(T)}for(var L=0;L<T;L++){for(var Z=0,W=$[0],Y=0;Y<$.length;Y++)n($[Y])<n(W)&&(Z=Y,W=$[Z]);if(z[L]=$.splice(Z,1)[0],_)for(var ie=0;ie<T;ie++)P[L][ie]=D[ie][Z],D[ie].splice(Z,1)}if(!_)return{values:z};var re=P.map((R,X)=>({value:z[X],vector:R}));return{values:z,eigenvectors:re}}return d}var yue="eigs",bue=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],xue=ce(yue,bue,t=>{var{config:e,typed:r,matrix:i,addScalar:n,subtract:a,equal:s,abs:o,atan:l,cos:u,sin:c,multiplyScalar:h,divideScalar:p,inv:d,bignumber:m,multiply:f,add:v,larger:y,column:x,flatten:g,number:b,complex:k,sqrt:w,diag:N,size:A,reshape:$,qr:D,usolve:_,usolveAll:T,im:z,re:P,smaller:q,matrixFromColumns:L,dot:Z}=t,W=vue({config:e,addScalar:n,subtract:a,abs:o,atan:l,cos:u,sin:c,multiplyScalar:h,inv:d,bignumber:m,multiply:f,add:v}),Y=gue({addScalar:n,subtract:a,multiply:f,multiplyScalar:h,flatten:g,divideScalar:p,sqrt:w,abs:o,bignumber:m,diag:N,size:A,reshape:$,qr:D,inv:d,usolve:_,usolveAll:T,equal:s,complex:k,larger:y,smaller:q,matrixFromColumns:L,dot:Z});return r("eigs",{Array:function(ne){return ie(i(ne))},"Array, number|BigNumber":function(ne,H){return ie(i(ne),{precision:H})},"Array, Object"(le,ne){return ie(i(le),ne)},Matrix:function(ne){return ie(ne,{matricize:!0})},"Matrix, number|BigNumber":function(ne,H){return ie(ne,{precision:H,matricize:!0})},"Matrix, Object":function(ne,H){var ue={matricize:!0};return Sa(ue,H),ie(ne,ue)}});function ie(le){var ne,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue="eigenvectors"in H?H.eigenvectors:!0,ae=(ne=H.precision)!==null&&ne!==void 0?ne:e.relTol,$e=re(le,ae,ue);return H.matricize&&($e.values=i($e.values),ue&&($e.eigenvectors=$e.eigenvectors.map(Ne=>{var{value:ze,vector:Te}=Ne;return{value:ze,vector:i(Te)}}))),ue&&Object.defineProperty($e,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),$e}function re(le,ne,H){var ue=le.toArray(),ae=le.size();if(ae.length!==2||ae[0]!==ae[1])throw new RangeError("Matrix must be square (size: ".concat(ei(ae),")"));var $e=ae[0];if(X(ue,$e,ne)&&(E(ue,$e),R(ue,$e,ne))){var Ne=oe(le,ue,$e);return W(ue,$e,ne,Ne,H)}var ze=oe(le,ue,$e);return Y(ue,$e,ne,ze,H)}function R(le,ne,H){for(var ue=0;ue<ne;ue++)for(var ae=ue;ae<ne;ae++)if(y(m(o(a(le[ue][ae],le[ae][ue]))),H))return!1;return!0}function X(le,ne,H){for(var ue=0;ue<ne;ue++)for(var ae=0;ae<ne;ae++)if(y(m(o(z(le[ue][ae]))),H))return!1;return!0}function E(le,ne){for(var H=0;H<ne;H++)for(var ue=0;ue<ne;ue++)le[H][ue]=P(le[H][ue])}function oe(le,ne,H){var ue=le.datatype();if(ue==="number"||ue==="BigNumber"||ue==="Complex")return ue;for(var ae=!1,$e=!1,Ne=!1,ze=0;ze<H;ze++)for(var Te=0;Te<H;Te++){var Qe=ne[ze][Te];if(Rr(Qe)||Th(Qe))ae=!0;else if(Or(Qe))$e=!0;else if(Rl(Qe))Ne=!0;else throw TypeError("Unsupported type in Matrix: "+an(Qe))}if($e&&Ne&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),Ne){for(var nt=0;nt<H;nt++)for(var rt=0;rt<H;rt++)ne[nt][rt]=k(ne[nt][rt]);return"Complex"}if($e){for(var Ue=0;Ue<H;Ue++)for(var lt=0;lt<H;lt++)ne[Ue][lt]=m(ne[Ue][lt]);return"BigNumber"}if(ae){for(var J=0;J<H;J++)for(var me=0;me<H;me++)ne[J][me]=b(ne[J][me]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),gE="expm",wue=["typed","abs","add","identity","inv","multiply"],Mue=ce(gE,wue,t=>{var{typed:e,abs:r,add:i,identity:n,inv:a,multiply:s}=t;return e(gE,{Matrix:function(h){var p=h.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+ei(p)+")");for(var d=p[0],m=1e-15,f=o(h),v=l(f,m),y=v.q,x=v.j,g=s(h,Math.pow(2,-x)),b=n(d),k=n(d),w=1,N=g,A=-1,$=1;$<=y;$++)$>1&&(N=s(N,g),A=-A),w=w*(y-$+1)/((2*y-$+1)*$),b=i(b,s(w,N)),k=i(k,s(w*A,N));for(var D=s(a(k),b),_=0;_<x;_++)D=s(D,D);return oc(h)?h.createSparseMatrix(D):D}});function o(c){for(var h=c.size()[0],p=0,d=0;d<h;d++){for(var m=0,f=0;f<h;f++)m+=r(c.get([d,f]));p=Math.max(m,p)}return p}function l(c,h){for(var p=30,d=0;d<p;d++)for(var m=0;m<=d;m++){var f=d-m;if(u(c,m,f)<h)return{q:m,j:f}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(c,h,p){for(var d=1,m=2;m<=h;m++)d*=m;for(var f=d,v=h+1;v<=2*h;v++)f*=v;var y=f*(2*h+1);return 8*Math.pow(c/Math.pow(2,p),2*h)*d*d/(f*y)}}),vE="sqrtm",kue=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],Cue=ce(vE,kue,t=>{var{typed:e,abs:r,add:i,multiply:n,map:a,sqrt:s,subtract:o,inv:l,size:u,max:c,identity:h}=t,p=1e3,d=1e-6;function m(f){var v,y=0,x=f,g=h(u(f));do{var b=x;if(x=n(.5,i(b,l(g))),g=n(.5,i(g,l(b))),v=c(r(o(x,b))),v>d&&++y>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(v>d);return x}return e(vE,{"Array | Matrix":function(v){var y=hr(v)?v.size():Tr(v);switch(y.length){case 1:if(y[0]===1)return a(v,s);throw new RangeError("Matrix must be square (size: "+ei(y)+")");case 2:{var x=y[0],g=y[1];if(x===g)return m(v);throw new RangeError("Matrix must be square (size: "+ei(y)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+ei(y)+")")}}})}),yE="sylvester",Nue=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],Sue=ce(yE,Nue,t=>{var{typed:e,schur:r,matrixFromColumns:i,matrix:n,multiply:a,range:s,concat:o,transpose:l,index:u,subset:c,add:h,subtract:p,identity:d,lusolve:m,abs:f}=t;return e(yE,{"Matrix, Matrix, Matrix":v,"Array, Matrix, Matrix":function(x,g,b){return v(n(x),g,b)},"Array, Array, Matrix":function(x,g,b){return v(n(x),n(g),b)},"Array, Matrix, Array":function(x,g,b){return v(n(x),g,n(b))},"Matrix, Array, Matrix":function(x,g,b){return v(x,n(g),b)},"Matrix, Array, Array":function(x,g,b){return v(x,n(g),n(b))},"Matrix, Matrix, Array":function(x,g,b){return v(x,g,n(b))},"Array, Array, Array":function(x,g,b){return v(n(x),n(g),n(b)).toArray()}});function v(y,x,g){for(var b=x.size()[0],k=y.size()[0],w=r(y),N=w.T,A=w.U,$=r(a(-1,x)),D=$.T,_=$.U,T=a(a(l(A),g),_),z=s(0,k),P=[],q=(Ne,ze)=>o(Ne,ze,1),L=(Ne,ze)=>o(Ne,ze,0),Z=0;Z<b;Z++)if(Z<b-1&&f(c(D,u(Z+1,Z)))>1e-5){for(var W=L(c(T,u(z,Z)),c(T,u(z,Z+1))),Y=0;Y<Z;Y++)W=h(W,L(a(P[Y],c(D,u(Y,Z))),a(P[Y],c(D,u(Y,Z+1)))));var ie=a(d(k),a(-1,c(D,u(Z,Z)))),re=a(d(k),a(-1,c(D,u(Z+1,Z)))),R=a(d(k),a(-1,c(D,u(Z,Z+1)))),X=a(d(k),a(-1,c(D,u(Z+1,Z+1)))),E=L(q(h(N,ie),re),q(R,h(N,X))),oe=m(E,W);P[Z]=oe.subset(u(s(0,k),0)),P[Z+1]=oe.subset(u(s(k,2*k),0)),Z++}else{for(var le=c(T,u(z,Z)),ne=0;ne<Z;ne++)le=h(le,a(P[ne],c(D,u(ne,Z))));var H=c(D,u(Z,Z)),ue=p(N,a(H,d(k)));P[Z]=m(ue,le)}var ae=n(i(...P)),$e=a(A,a(ae,l(_)));return $e}}),bE="schur",Due=["typed","matrix","identity","multiply","qr","norm","subtract"],Aue=ce(bE,Due,t=>{var{typed:e,matrix:r,identity:i,multiply:n,qr:a,norm:s,subtract:o}=t;return e(bE,{Array:function(c){var h=l(r(c));return{U:h.U.valueOf(),T:h.T.valueOf()}},Matrix:function(c){return l(c)}});function l(u){var c=u.size()[0],h=u,p=i(c),d=0,m;do{m=h;var f=a(h),v=f.Q,y=f.R;if(h=n(y,v),p=n(p,v),d++>100)break}while(s(o(h,m))>1e-4);return{U:p,T:h}}}),xE="lyap",$ue=["typed","matrix","sylvester","multiply","transpose"],_ue=ce(xE,$ue,t=>{var{typed:e,matrix:r,sylvester:i,multiply:n,transpose:a}=t;return e(xE,{"Matrix, Matrix":function(o,l){return i(o,a(o),n(-1,l))},"Array, Matrix":function(o,l){return i(r(o),a(r(o)),n(-1,l))},"Matrix, Array":function(o,l){return i(o,a(r(o)),r(n(-1,l)))},"Array, Array":function(o,l){return i(r(o),a(r(o)),r(n(-1,l))).toArray()}})}),Eue="divide",Iue=["typed","matrix","multiply","equalScalar","divideScalar","inv"],wE=ce(Eue,Iue,t=>{var{typed:e,matrix:r,multiply:i,equalScalar:n,divideScalar:a,inv:s}=t,o=gs({typed:e,equalScalar:n}),l=pl({typed:e});return e("divide",EC({"Array | Matrix, Array | Matrix":function(c,h){return i(c,s(h))},"DenseMatrix, any":function(c,h){return l(c,h,a,!1)},"SparseMatrix, any":function(c,h){return o(c,h,a,!1)},"Array, any":function(c,h){return l(r(c),h,a,!1).valueOf()},"any, Array | Matrix":function(c,h){return i(c,s(h))}},a.signatures))}),ME="distance",Tue=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],Lue=ce(ME,Tue,t=>{var{typed:e,addScalar:r,subtractScalar:i,multiplyScalar:n,divideScalar:a,deepEqual:s,sqrt:o,abs:l}=t;return e(ME,{"Array, Array, Array":function(k,w,N){if(k.length===2&&w.length===2&&N.length===2){if(!c(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(N))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(s(w,N))throw new TypeError("LinePoint1 should not be same with LinePoint2");var A=i(N[1],w[1]),$=i(w[0],N[0]),D=i(n(N[0],w[1]),n(w[0],N[1]));return v(k[0],k[1],A,$,D)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(k,w,N){if(Object.keys(k).length===2&&Object.keys(w).length===2&&Object.keys(N).length===2){if(!c(k))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(w))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(N))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(s(m(w),m(N)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in k&&"pointY"in k&&"lineOnePtX"in w&&"lineOnePtY"in w&&"lineTwoPtX"in N&&"lineTwoPtY"in N){var A=i(N.lineTwoPtY,w.lineOnePtY),$=i(w.lineOnePtX,N.lineTwoPtX),D=i(n(N.lineTwoPtX,w.lineOnePtY),n(w.lineOnePtX,N.lineTwoPtY));return v(k.pointX,k.pointY,A,$,D)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(k,w){if(k.length===2&&w.length===3){if(!c(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(w))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return v(k[0],k[1],w[0],w[1],w[2])}else if(k.length===3&&w.length===6){if(!h(k))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!d(w))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(k[0],k[1],k[2],w[0],w[1],w[2],w[3],w[4],w[5])}else if(k.length===w.length&&k.length>0){if(!p(k))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(w))throw new TypeError("All values of an array should be numbers or BigNumbers");return x(k,w)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(k,w){if(Object.keys(k).length===2&&Object.keys(w).length===3){if(!c(k))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!h(w))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in k&&"pointY"in k&&"xCoeffLine"in w&&"yCoeffLine"in w&&"constant"in w)return v(k.pointX,k.pointY,w.xCoeffLine,w.yCoeffLine,w.constant);throw new TypeError("Key names do not match")}else if(Object.keys(k).length===3&&Object.keys(w).length===6){if(!h(k))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!d(w))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in k&&"pointY"in k&&"x0"in w&&"y0"in w&&"z0"in w&&"a"in w&&"b"in w&&"c"in w)return y(k.pointX,k.pointY,k.pointZ,w.x0,w.y0,w.z0,w.a,w.b,w.c);throw new TypeError("Key names do not match")}else if(Object.keys(k).length===2&&Object.keys(w).length===2){if(!c(k))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(w))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in k&&"pointOneY"in k&&"pointTwoX"in w&&"pointTwoY"in w)return x([k.pointOneX,k.pointOneY],[w.pointTwoX,w.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(k).length===3&&Object.keys(w).length===3){if(!h(k))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!h(w))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in k&&"pointOneY"in k&&"pointOneZ"in k&&"pointTwoX"in w&&"pointTwoY"in w&&"pointTwoZ"in w)return x([k.pointOneX,k.pointOneY,k.pointOneZ],[w.pointTwoX,w.pointTwoY,w.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(k){if(!f(k))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return g(k)}});function u(b){return typeof b=="number"||Or(b)}function c(b){return b.constructor!==Array&&(b=m(b)),u(b[0])&&u(b[1])}function h(b){return b.constructor!==Array&&(b=m(b)),u(b[0])&&u(b[1])&&u(b[2])}function p(b){return Array.isArray(b)||(b=m(b)),b.every(u)}function d(b){return b.constructor!==Array&&(b=m(b)),u(b[0])&&u(b[1])&&u(b[2])&&u(b[3])&&u(b[4])&&u(b[5])}function m(b){for(var k=Object.keys(b),w=[],N=0;N<k.length;N++)w.push(b[k[N]]);return w}function f(b){if(b[0].length===2&&u(b[0][0])&&u(b[0][1])){if(b.some(k=>k.length!==2||!u(k[0])||!u(k[1])))return!1}else if(b[0].length===3&&u(b[0][0])&&u(b[0][1])&&u(b[0][2])){if(b.some(k=>k.length!==3||!u(k[0])||!u(k[1])||!u(k[2])))return!1}else return!1;return!0}function v(b,k,w,N,A){var $=l(r(r(n(w,b),n(N,k)),A)),D=o(r(n(w,w),n(N,N)));return a($,D)}function y(b,k,w,N,A,$,D,_,T){var z=[i(n(i(A,k),T),n(i($,w),_)),i(n(i($,w),D),n(i(N,b),T)),i(n(i(N,b),_),n(i(A,k),D))];z=o(r(r(n(z[0],z[0]),n(z[1],z[1])),n(z[2],z[2])));var P=o(r(r(n(D,D),n(_,_)),n(T,T)));return a(z,P)}function x(b,k){for(var w=b.length,N=0,A=0,$=0;$<w;$++)A=i(b[$],k[$]),N=r(n(A,A),N);return o(N)}function g(b){for(var k=[],w=[],N=[],A=0;A<b.length-1;A++)for(var $=A+1;$<b.length;$++)b[0].length===2?(w=[b[A][0],b[A][1]],N=[b[$][0],b[$][1]]):b[0].length===3&&(w=[b[A][0],b[A][1],b[A][2]],N=[b[$][0],b[$][1],b[$][2]]),k.push(x(w,N));return k}}),zue="intersect",Bue=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],Oue=ce(zue,Bue,t=>{var{typed:e,config:r,abs:i,add:n,addScalar:a,matrix:s,multiply:o,multiplyScalar:l,divideScalar:u,subtract:c,smaller:h,equalScalar:p,flatten:d,isZero:m,isNumeric:f}=t;return e("intersect",{"Array, Array, Array":v,"Array, Array, Array, Array":y,"Matrix, Matrix, Matrix":function(_,T,z){var P=v(_.valueOf(),T.valueOf(),z.valueOf());return P===null?null:s(P)},"Matrix, Matrix, Matrix, Matrix":function(_,T,z,P){var q=y(_.valueOf(),T.valueOf(),z.valueOf(),P.valueOf());return q===null?null:s(q)}});function v(D,_,T){if(D=x(D),_=x(_),T=x(T),!b(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!b(_))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!k(T))throw new TypeError("Array with 4 numbers expected as third argument");return $(D[0],D[1],D[2],_[0],_[1],_[2],T[0],T[1],T[2],T[3])}function y(D,_,T,z){if(D=x(D),_=x(_),T=x(T),z=x(z),D.length===2){if(!g(D))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!g(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!g(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!g(z))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return w(D,_,T,z)}else if(D.length===3){if(!b(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!b(_))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!b(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!b(z))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return A(D[0],D[1],D[2],_[0],_[1],_[2],T[0],T[1],T[2],z[0],z[1],z[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function x(D){return D.length===1?D[0]:D.length>1&&Array.isArray(D[0])&&D.every(_=>Array.isArray(_)&&_.length===1)?d(D):D}function g(D){return D.length===2&&f(D[0])&&f(D[1])}function b(D){return D.length===3&&f(D[0])&&f(D[1])&&f(D[2])}function k(D){return D.length===4&&f(D[0])&&f(D[1])&&f(D[2])&&f(D[3])}function w(D,_,T,z){var P=D,q=T,L=c(P,_),Z=c(q,z),W=c(l(L[0],Z[1]),l(Z[0],L[1]));if(m(W)||h(i(W),r.relTol))return null;var Y=l(Z[0],P[1]),ie=l(Z[1],P[0]),re=l(Z[0],q[1]),R=l(Z[1],q[0]),X=u(a(c(c(Y,ie),re),R),W);return n(o(L,X),P)}function N(D,_,T,z,P,q,L,Z,W,Y,ie,re){var R=l(c(D,_),c(T,z)),X=l(c(P,q),c(L,Z)),E=l(c(W,Y),c(ie,re));return a(a(R,X),E)}function A(D,_,T,z,P,q,L,Z,W,Y,ie,re){var R=N(D,L,Y,L,_,Z,ie,Z,T,W,re,W),X=N(Y,L,z,D,ie,Z,P,_,re,W,q,T),E=N(D,L,z,D,_,Z,P,_,T,W,q,T),oe=N(Y,L,Y,L,ie,Z,ie,Z,re,W,re,W),le=N(z,D,z,D,P,_,P,_,q,T,q,T),ne=c(l(R,X),l(E,oe)),H=c(l(le,oe),l(X,X));if(m(H))return null;var ue=u(ne,H),ae=u(a(R,l(ue,X)),oe),$e=a(D,l(ue,c(z,D))),Ne=a(_,l(ue,c(P,_))),ze=a(T,l(ue,c(q,T))),Te=a(L,l(ae,c(Y,L))),Qe=a(Z,l(ae,c(ie,Z))),nt=a(W,l(ae,c(re,W)));return p($e,Te)&&p(Ne,Qe)&&p(ze,nt)?[$e,Ne,ze]:null}function $(D,_,T,z,P,q,L,Z,W,Y){var ie=l(D,L),re=l(z,L),R=l(_,Z),X=l(P,Z),E=l(T,W),oe=l(q,W),le=c(c(c(Y,ie),R),E),ne=c(c(c(a(a(re,X),oe),ie),R),E),H=u(le,ne),ue=a(D,l(H,c(z,D))),ae=a(_,l(H,c(P,_))),$e=a(T,l(H,c(q,T)));return[ue,ae,$e]}}),kE="sum",Fue=["typed","config","add","numeric"],CE=ce(kE,Fue,t=>{var{typed:e,config:r,add:i,numeric:n}=t;return e(kE,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":s,"...":function(l){if(wp(l))throw new TypeError("Scalar values expected in function sum");return a(l)}});function a(o){var l;return vc(o,function(u){try{l=l===void 0?u:i(l,u)}catch(c){throw Xs(c,"sum",u)}}),l===void 0&&(l=n(0,r.number)),typeof l=="string"&&(l=n(l,uc(l,r))),l}function s(o,l){try{var u=zg(o,l,i);return u}catch(c){throw Xs(c,"sum")}}}),m4="cumsum",Pue=["typed","add","unaryPlus"],NE=ce(m4,Pue,t=>{var{typed:e,add:r,unaryPlus:i}=t;return e(m4,{Array:n,Matrix:function(u){return u.create(n(u.valueOf(),u.datatype()))},"Array, number | BigNumber":s,"Matrix, number | BigNumber":function(u,c){return u.create(s(u.valueOf(),c),u.datatype())},"...":function(u){if(wp(u))throw new TypeError("All values expected to be scalar in function cumsum");return n(u)}});function n(l){try{return a(l)}catch(u){throw Xs(u,m4)}}function a(l){if(l.length===0)return[];for(var u=[i(l[0])],c=1;c<l.length;++c)u.push(r(u[c-1],l[c]));return u}function s(l,u){var c=Tr(l);if(u<0||u>=c.length)throw new cl(u,c.length);try{return o(l,u)}catch(h){throw Xs(h,m4)}}function o(l,u){var c,h,p;if(u<=0){var d=l[0][0];if(Array.isArray(d)){for(p=TN(l),h=[],c=0;c<p.length;c++)h[c]=o(p[c],u-1);return h}else return a(l)}else{for(h=[],c=0;c<l.length;c++)h[c]=o(l[c],u-1);return h}}}),SE="mean",Rue=["typed","add","divide"],DE=ce(SE,Rue,t=>{var{typed:e,add:r,divide:i}=t;return e(SE,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":n,"...":function(o){if(wp(o))throw new TypeError("Scalar values expected in function mean");return a(o)}});function n(s,o){try{var l=zg(s,o,r),u=Array.isArray(s)?Tr(s):s.size();return i(l,u[o])}catch(c){throw Xs(c,"mean")}}function a(s){var o,l=0;if(vc(s,function(u){try{o=o===void 0?u:r(o,u),l++}catch(c){throw Xs(c,"mean",u)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return i(o,l)}}),AE="median",jue=["typed","add","divide","compare","partitionSelect"],que=ce(AE,jue,t=>{var{typed:e,add:r,divide:i,compare:n,partitionSelect:a}=t;function s(u){try{u=Ci(u.valueOf());var c=u.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var h=c/2-1,p=a(u,h+1),d=u[h],m=0;m<h;++m)n(u[m],d)>0&&(d=u[m]);return l(d,p)}else{var f=a(u,(c-1)/2);return o(f)}}catch(v){throw Xs(v,"median")}}var o=e({"number | BigNumber | Complex | Unit":function(c){return c}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,h){return i(r(c,h),2)}});return e(AE,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(c,h){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(wp(c))throw new TypeError("Scalar values expected in function median");return s(c)}})}),$E="mad",Uue=["typed","abs","map","median","subtract"],Vue=ce($E,Uue,t=>{var{typed:e,abs:r,map:i,median:n,subtract:a}=t;return e($E,{"Array | Matrix":s,"...":function(l){return s(l)}});function s(o){if(o=Ci(o.valueOf()),o.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=n(o);return n(i(o,function(u){return r(a(u,l))}))}catch(u){throw u instanceof TypeError&&u.message.includes("median")?new TypeError(u.message.replace("median","mad")):Xs(u,"mad")}}}),y6="unbiased",_E="variance",Gue=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],EE=ce(_E,Gue,t=>{var{typed:e,add:r,subtract:i,multiply:n,divide:a,mapSlices:s,isNaN:o}=t;return e(_E,{"Array | Matrix":function(h){return l(h,y6)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(h,p){return u(h,p,y6)},"Array | Matrix, number | BigNumber, string":u,"...":function(h){return l(h,y6)}});function l(c,h){var p,d=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(vc(c,function(v){try{p=p===void 0?v:r(p,v),d++}catch(y){throw Xs(y,"variance",v)}}),d===0)throw new Error("Cannot calculate variance of an empty array");var m=a(p,d);if(p=void 0,vc(c,function(v){var y=i(v,m);p=p===void 0?n(y,y):r(p,n(y,y))}),o(p))return p;switch(h){case"uncorrected":return a(p,d);case"biased":return a(p,d+1);case"unbiased":{var f=Or(p)?p.mul(0):0;return d===1?f:a(p,d-1)}default:throw new Error('Unknown normalization "'+h+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(c,h,p){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return s(c,h,d=>l(d,p))}catch(d){throw Xs(d,"variance")}}}),IE="quantileSeq",Zue=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],TE=ce(IE,Zue,t=>{var{typed:e,bignumber:r,add:i,subtract:n,divide:a,multiply:s,partitionSelect:o,compare:l,isInteger:u,smaller:c,smallerEq:h,larger:p,mapSlices:d}=t;return e(IE,{"Array | Matrix, number | BigNumber":(x,g)=>f(x,g,!1),"Array | Matrix, number | BigNumber, number":(x,g,b)=>m(x,g,!1,b,f),"Array | Matrix, number | BigNumber, boolean":f,"Array | Matrix, number | BigNumber, boolean, number":(x,g,b,k)=>m(x,g,b,k,f),"Array | Matrix, Array | Matrix":(x,g)=>v(x,g,!1),"Array | Matrix, Array | Matrix, number":(x,g,b)=>m(x,g,!1,b,v),"Array | Matrix, Array | Matrix, boolean":v,"Array | Matrix, Array | Matrix, boolean, number":(x,g,b,k)=>m(x,g,b,k,v)});function m(x,g,b,k,w){return d(x,k,N=>w(N,g,b))}function f(x,g,b){var k,w=x.valueOf();if(c(g,0))throw new Error("N/prob must be non-negative");if(h(g,1))return Rr(g)?y(w,g,b):r(y(w,g,b));if(p(g,1)){if(!u(g))throw new Error("N must be a positive integer");if(p(g,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var N=i(g,1);k=[];for(var A=0;c(A,g);A++){var $=a(A+1,N);k.push(y(w,$,b))}return Rr(g)?k:r(k)}}function v(x,g,b){for(var k=x.valueOf(),w=g.valueOf(),N=[],A=0;A<w.length;++A)N.push(y(k,w[A],b));return N}function y(x,g,b){var k=Ci(x),w=k.length;if(w===0)throw new Error("Cannot calculate quantile of an empty sequence");var N=Rr(g)?g*(w-1):g.times(w-1),A=Rr(g)?Math.floor(N):N.floor().toNumber(),$=Rr(g)?N%1:N.minus(A);if(u(N))return b?k[N]:o(k,Rr(g)?N:N.valueOf());var D,_;if(b)D=k[A],_=k[A+1];else{_=o(k,A+1),D=k[A];for(var T=0;T<A;++T)l(k[T],D)>0&&(D=k[T])}return i(s(D,n(1,$)),s(_,$))}}),LE="std",Hue=["typed","map","sqrt","variance"],zE=ce(LE,Hue,t=>{var{typed:e,map:r,sqrt:i,variance:n}=t;return e(LE,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(o){return a(o)}});function a(s,o){if(s.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=n.apply(null,arguments);return fo(l)?r(l,i):i(l)}catch(u){throw u instanceof TypeError&&u.message.includes(" variance")?new TypeError(u.message.replace(" variance"," std")):u}}}),BE="corr",Wue=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],Yue=ce(BE,Wue,t=>{var{typed:e,matrix:r,sqrt:i,sum:n,add:a,subtract:s,multiply:o,pow:l,divide:u}=t;return e(BE,{"Array, Array":function(d,m){return c(d,m)},"Matrix, Matrix":function(d,m){var f=c(d.toArray(),m.toArray());return Array.isArray(f)?r(f):f}});function c(p,d){var m=[];if(Array.isArray(p[0])&&Array.isArray(d[0])){if(p.length!==d.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var f=0;f<p.length;f++){if(p[f].length!==d[f].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");m.push(h(p[f],d[f]))}return m}else{if(p.length!==d.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return h(p,d)}}function h(p,d){var m=p.length,f=n(p),v=n(d),y=p.reduce((w,N,A)=>a(w,o(N,d[A])),0),x=n(p.map(w=>l(w,2))),g=n(d.map(w=>l(w,2))),b=s(o(m,y),o(f,v)),k=i(o(s(o(m,x),l(f,2)),s(o(m,g),l(v,2))));return u(b,k)}}),OE="combinations",Kue=["typed"],Xue=ce(OE,Kue,t=>{var{typed:e}=t;return e(OE,{"number, number":aS,"BigNumber, BigNumber":function(i,n){var a=i.constructor,s,o,l=i.minus(n),u=new a(1);if(!FE(i)||!FE(n))throw new TypeError("Positive integer value expected in function combinations");if(n.gt(i))throw new TypeError("k must be less than n in function combinations");if(s=u,n.lt(l))for(o=u;o.lte(l);o=o.plus(u))s=s.times(n.plus(o)).dividedBy(o);else for(o=u;o.lte(n);o=o.plus(u))s=s.times(l.plus(o)).dividedBy(o);return s}})});function FE(t){return t.isInteger()&&t.gte(0)}var PE="combinationsWithRep",Que=["typed"],Jue=ce(PE,Que,t=>{var{typed:e}=t;return e(PE,{"number, number":function(i,n){if(!rr(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!rr(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i<1)throw new TypeError("k must be less than or equal to n + k - 1");if(n<i-1){var a=hu(i,i+n-1);return a/hu(1,n)}var s=hu(n+1,i+n-1);return s/hu(1,i-1)},"BigNumber, BigNumber":function(i,n){var a=i.constructor,s,o,l=new a(1),u=i.minus(l);if(!RE(i)||!RE(n))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(s=l,n.lt(u))for(o=l;o.lte(u);o=o.plus(l))s=s.times(n.plus(o)).dividedBy(o);else for(o=l;o.lte(n);o=o.plus(l))s=s.times(u.plus(o)).dividedBy(o);return s}})});function RE(t){return t.isInteger()&&t.gte(0)}var jE="gamma",ece=["typed","config","multiplyScalar","pow","BigNumber","Complex"],tce=ce(jE,ece,t=>{var{typed:e,config:r,multiplyScalar:i,pow:n,BigNumber:a,Complex:s}=t;function o(u){if(u.im===0)return Fg(u.re);if(u.re<.5){var c=new s(1-u.re,-u.im),h=new s(Math.PI*u.re,Math.PI*u.im);return new s(Math.PI).div(h.sin()).div(o(c))}u=new s(u.re-1,u.im);for(var p=new s(Cp[0],0),d=1;d<Cp.length;++d){var m=new s(Cp[d],0);p=p.add(m.div(u.add(d)))}var f=new s(u.re+oS+.5,u.im),v=Math.sqrt(2*Math.PI),y=f.pow(u.add(.5)),x=f.neg().exp();return p.mul(v).mul(y).mul(x)}return e(jE,{number:Fg,Complex:o,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):l(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(u){if(u<8)return new a([1,1,2,6,24,120,720,5040][u]);var c=r.precision+(Math.log(u.toNumber())|0),h=a.clone({precision:c});if(u%2===1)return u.times(l(new a(u-1)));for(var p=u,d=new h(u),m=u.toNumber();p>2;)p-=2,m+=p,d=d.times(m);return new a(d.toPrecision(a.precision))}}),qE="lgamma",rce=["Complex","typed"],ice=ce(qE,rce,t=>{var{Complex:e,typed:r}=t,i=7,n=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r(qE,{number:Pg,Complex:s,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function s(u){var c=6.283185307179586,h=1.1447298858494002,p=.1;if(u.isNaN())return new e(NaN,NaN);if(u.im===0)return new e(Pg(u.re),0);if(u.re>=i||Math.abs(u.im)>=n)return o(u);if(u.re<=p){var d=KW(c,u.im)*Math.floor(.5*u.re+.25),m=u.mul(Math.PI).sin().log(),f=s(new e(1-u.re,-u.im));return new e(h,d).sub(m).sub(f)}else return u.im>=0?l(u):l(u.conjugate()).conjugate()}function o(u){for(var c=u.sub(.5).mul(u.log()).sub(u).add(lS),h=new e(1,0).div(u),p=h.div(u),d=a[0],m=a[1],f=2*p.re,v=p.re*p.re+p.im*p.im,y=2;y<8;y++){var x=m;m=-v*d+a[y],d=f*d+x}var g=h.mul(p.mul(d).add(m));return c.add(g)}function l(u){var c=0,h=0,p=u;for(u=u.add(1);u.re<=i;){p=p.mul(u);var d=p.im<0?1:0;d!==0&&h===0&&c++,h=d,u=u.add(1)}return o(u).sub(p.log()).sub(new e(0,c*2*Math.PI*1))}}),UE="factorial",nce=["typed","gamma"],ace=ce(UE,nce,t=>{var{typed:e,gamma:r}=t;return e(UE,{number:function(n){if(n<0)throw new Error("Value must be non-negative");return r(n+1)},BigNumber:function(n){if(n.isNegative())throw new Error("Value must be non-negative");return r(n.plus(1))},"Array | Matrix":e.referToSelf(i=>n=>Gr(n,i))})}),VE="kldivergence",sce=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],oce=ce(VE,sce,t=>{var{typed:e,matrix:r,divide:i,sum:n,multiply:a,map:s,dotDivide:o,log:l,isNumeric:u}=t;return e(VE,{"Array, Array":function(p,d){return c(r(p),r(d))},"Matrix, Array":function(p,d){return c(p,r(d))},"Array, Matrix":function(p,d){return c(r(p),d)},"Matrix, Matrix":function(p,d){return c(p,d)}});function c(h,p){var d=p.size().length,m=h.size().length;if(d>1)throw new Error("first object must be one dimensional");if(m>1)throw new Error("second object must be one dimensional");if(d!==m)throw new Error("Length of two vectors must be equal");var f=n(h);if(f===0)throw new Error("Sum of elements in first object must be non zero");var v=n(p);if(v===0)throw new Error("Sum of elements in second object must be non zero");var y=i(h,n(h)),x=i(p,n(p)),g=n(a(y,s(o(y,x),b=>l(b))));return u(g)?g:Number.NaN}}),GE="multinomial",lce=["typed","add","divide","multiply","factorial","isInteger","isPositive"],uce=ce(GE,lce,t=>{var{typed:e,add:r,divide:i,multiply:n,factorial:a,isInteger:s,isPositive:o}=t;return e(GE,{"Array | Matrix":function(u){var c=0,h=1;return vc(u,function(p){if(!s(p)||!o(p))throw new TypeError("Positive integer value expected in function multinomial");c=r(c,p),h=n(h,a(p))}),i(a(c),h)}})}),ZE="permutations",cce=["typed","factorial"],hce=ce(ZE,cce,t=>{var{typed:e,factorial:r}=t;return e(ZE,{"number | BigNumber":r,"number, number":function(n,a){if(!rr(n)||n<0)throw new TypeError("Positive integer value expected in function permutations");if(!rr(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>n)throw new TypeError("second argument k must be less than or equal to first argument n");return hu(n-a+1,n)},"BigNumber, BigNumber":function(n,a){var s,o;if(!HE(n)||!HE(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(n))throw new TypeError("second argument k must be less than or equal to first argument n");var l=n.mul(0).add(1);for(s=l,o=n.minus(a).plus(1);o.lte(n);o=o.plus(1))s=s.times(o);return s}})});function HE(t){return t.isInteger()&&t.gte(0)}var b6={exports:{}};b6.exports,function(t){(function(e,r,i){function n(l){var u=this,c=o();u.next=function(){var h=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=h-(u.c=h|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function a(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function s(l,u){var c=new n(l),h=u&&u.state,p=c.next;return p.int32=function(){return c.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,h&&(typeof h=="object"&&a(h,c),p.state=function(){return a(c,{})}),p}function o(){var l=4022871197,u=function(c){c=String(c);for(var h=0;h<c.length;h++){l+=c.charCodeAt(h);var p=.02519603282416938*l;l=p>>>0,p-=l,p*=l,l=p>>>0,p-=l,l+=p*4294967296}return(l>>>0)*23283064365386963e-26};return u}r&&r.exports?r.exports=s:this.alea=s})(zr,t)}(b6);var pce=b6.exports,x6={exports:{}};x6.exports,function(t){(function(e,r,i){function n(o){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var h=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^h^h>>>8},o===(o|0)?l.x=o:u+=o;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function a(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function s(o,l){var u=new n(o),c=l&&l.state,h=function(){return(u.next()>>>0)/4294967296};return h.double=function(){do var p=u.next()>>>11,d=(u.next()>>>0)/4294967296,m=(p+d)/(1<<21);while(m===0);return m},h.int32=u.next,h.quick=h,c&&(typeof c=="object"&&a(c,u),h.state=function(){return a(u,{})}),h}r&&r.exports?r.exports=s:this.xor128=s})(zr,t)}(x6);var dce=x6.exports,w6={exports:{}};w6.exports,function(t){(function(e,r,i){function n(o){var l=this,u="";l.next=function(){var h=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(h^h<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:u+=o;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function s(o,l){var u=new n(o),c=l&&l.state,h=function(){return(u.next()>>>0)/4294967296};return h.double=function(){do var p=u.next()>>>11,d=(u.next()>>>0)/4294967296,m=(p+d)/(1<<21);while(m===0);return m},h.int32=u.next,h.quick=h,c&&(typeof c=="object"&&a(c,u),h.state=function(){return a(u,{})}),h}r&&r.exports?r.exports=s:this.xorwow=s})(zr,t)}(w6);var mce=w6.exports,M6={exports:{}};M6.exports,function(t){(function(e,r,i){function n(o){var l=this;l.next=function(){var c=l.x,h=l.i,p,d;return p=c[h],p^=p>>>7,d=p^p<<24,p=c[h+1&7],d^=p^p>>>10,p=c[h+3&7],d^=p^p>>>3,p=c[h+4&7],d^=p^p<<7,p=c[h+7&7],p=p^p<<13,d^=p^p<<9,c[h]=d,l.i=h+1&7,d};function u(c,h){var p,d=[];if(h===(h|0))d[0]=h;else for(h=""+h,p=0;p<h.length;++p)d[p&7]=d[p&7]<<15^h.charCodeAt(p)+d[p+1&7]<<13;for(;d.length<8;)d.push(0);for(p=0;p<8&&d[p]===0;++p);for(p==8?d[7]=-1:d[p],c.x=d,c.i=0,p=256;p>0;--p)c.next()}u(l,o)}function a(o,l){return l.x=o.x.slice(),l.i=o.i,l}function s(o,l){o==null&&(o=+new Date);var u=new n(o),c=l&&l.state,h=function(){return(u.next()>>>0)/4294967296};return h.double=function(){do var p=u.next()>>>11,d=(u.next()>>>0)/4294967296,m=(p+d)/(1<<21);while(m===0);return m},h.int32=u.next,h.quick=h,c&&(c.x&&a(c,u),h.state=function(){return a(u,{})}),h}r&&r.exports?r.exports=s:this.xorshift7=s})(zr,t)}(M6);var fce=M6.exports,k6={exports:{}};k6.exports,function(t){(function(e,r,i){function n(o){var l=this;l.next=function(){var c=l.w,h=l.X,p=l.i,d,m;return l.w=c=c+1640531527|0,m=h[p+34&127],d=h[p=p+1&127],m^=m<<13,d^=d<<17,m^=m>>>15,d^=d>>>12,m=h[p]=m^d,l.i=p,m+(c^c>>>16)|0};function u(c,h){var p,d,m,f,v,y=[],x=128;for(h===(h|0)?(d=h,h=null):(h=h+"\0",d=0,x=Math.max(x,h.length)),m=0,f=-32;f<x;++f)h&&(d^=h.charCodeAt((f+32)%h.length)),f===0&&(v=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,f>=0&&(v=v+1640531527|0,p=y[f&127]^=d+v,m=p==0?m+1:0);for(m>=128&&(y[(h&&h.length||0)&127]=-1),m=127,f=4*128;f>0;--f)d=y[m+34&127],p=y[m=m+1&127],d^=d<<13,p^=p<<17,d^=d>>>15,p^=p>>>12,y[m]=d^p;c.w=v,c.X=y,c.i=m}u(l,o)}function a(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function s(o,l){o==null&&(o=+new Date);var u=new n(o),c=l&&l.state,h=function(){return(u.next()>>>0)/4294967296};return h.double=function(){do var p=u.next()>>>11,d=(u.next()>>>0)/4294967296,m=(p+d)/(1<<21);while(m===0);return m},h.int32=u.next,h.quick=h,c&&(c.X&&a(c,u),h.state=function(){return a(u,{})}),h}r&&r.exports?r.exports=s:this.xor4096=s})(zr,t)}(k6);var gce=k6.exports,C6={exports:{}};C6.exports,function(t){(function(e,r,i){function n(o){var l=this,u="";l.next=function(){var h=l.b,p=l.c,d=l.d,m=l.a;return h=h<<25^h>>>7^p,p=p-d|0,d=d<<24^d>>>8^m,m=m-h|0,l.b=h=h<<20^h>>>12^p,l.c=p=p-d|0,l.d=d<<16^p>>>16^m,l.a=m-h|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):u+=o;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function a(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function s(o,l){var u=new n(o),c=l&&l.state,h=function(){return(u.next()>>>0)/4294967296};return h.double=function(){do var p=u.next()>>>11,d=(u.next()>>>0)/4294967296,m=(p+d)/(1<<21);while(m===0);return m},h.int32=u.next,h.quick=h,c&&(typeof c=="object"&&a(c,u),h.state=function(){return a(u,{})}),h}r&&r.exports?r.exports=s:this.tychei=s})(zr,t)}(C6);var vce=C6.exports,WE={exports:{}};const YE=$H(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));(function(t){(function(e,r,i){var n=256,a=6,s=52,o="random",l=i.pow(n,a),u=i.pow(2,s),c=u*2,h=n-1,p;function d(b,k,w){var N=[];k=k==!0?{entropy:!0}:k||{};var A=y(v(k.entropy?[b,g(r)]:b??x(),3),N),$=new m(N),D=function(){for(var _=$.g(a),T=l,z=0;_<u;)_=(_+z)*n,T*=n,z=$.g(1);for(;_>=c;)_/=2,T/=2,z>>>=1;return(_+z)/T};return D.int32=function(){return $.g(4)|0},D.quick=function(){return $.g(4)/4294967296},D.double=D,y(g($.S),r),(k.pass||w||function(_,T,z,P){return P&&(P.S&&f(P,$),_.state=function(){return f($,{})}),z?(i[o]=_,T):_})(D,A,"global"in k?k.global:this==i,k.state)}function m(b){var k,w=b.length,N=this,A=0,$=N.i=N.j=0,D=N.S=[];for(w||(b=[w++]);A<n;)D[A]=A++;for(A=0;A<n;A++)D[A]=D[$=h&$+b[A%w]+(k=D[A])],D[$]=k;(N.g=function(_){for(var T,z=0,P=N.i,q=N.j,L=N.S;_--;)T=L[P=h&P+1],z=z*n+L[h&(L[P]=L[q=h&q+T])+(L[q]=T)];return N.i=P,N.j=q,z})(n)}function f(b,k){return k.i=b.i,k.j=b.j,k.S=b.S.slice(),k}function v(b,k){var w=[],N=typeof b,A;if(k&&N=="object")for(A in b)try{w.push(v(b[A],k-1))}catch{}return w.length?w:N=="string"?b:b+"\0"}function y(b,k){for(var w=b+"",N,A=0;A<w.length;)k[h&A]=h&(N^=k[h&A]*19)+w.charCodeAt(A++);return g(k)}function x(){try{var b;return p&&(b=p.randomBytes)?b=b(n):(b=new Uint8Array(n),(e.crypto||e.msCrypto).getRandomValues(b)),g(b)}catch{var k=e.navigator,w=k&&k.plugins;return[+new Date,e,w,e.screen,g(r)]}}function g(b){return String.fromCharCode.apply(0,b)}if(y(i.random(),r),t.exports){t.exports=d;try{p=YE}catch{}}else i["seed"+o]=d})(typeof self<"u"?self:zr,[],Math)})(WE);var yce=WE.exports,bce=pce,xce=dce,wce=mce,Mce=fce,kce=gce,Cce=vce,Vh=yce;Vh.alea=bce,Vh.xor128=xce,Vh.xorwow=wce,Vh.xorshift7=Mce,Vh.xor4096=kce,Vh.tychei=Cce;var Nce=Vh;const N6=Eh(Nce);var Sce=N6(Date.now());function _p(t){var e;function r(n){e=n===null?Sce:N6(String(n))}r(t);function i(){return e()}return i}var KE="pickRandom",Dce=["typed","config","?on"],Ace=ce(KE,Dce,t=>{var{typed:e,config:r,on:i}=t,n=_p(r.randomSeed);return i&&i("config",function(s,o){s.randomSeed!==o.randomSeed&&(n=_p(s.randomSeed))}),e(KE,{"Array | Matrix":function(o){return a(o,{})},"Array | Matrix, Object":function(o,l){return a(o,l)},"Array | Matrix, number":function(o,l){return a(o,{number:l})},"Array | Matrix, Array | Matrix":function(o,l){return a(o,{weights:l})},"Array | Matrix, Array | Matrix, number":function(o,l,u){return a(o,{number:u,weights:l})},"Array | Matrix, number, Array | Matrix":function(o,l,u){return a(o,{number:l,weights:u})}});function a(s,o){var{number:l,weights:u,elementWise:c=!0}=o,h=typeof l>"u";h&&(l=1);var p=hr(s)?s.create:hr(u)?u.create:null;s=s.valueOf(),u&&(u=u.valueOf()),c===!0&&(s=Ci(s),u=Ci(u));var d=0;if(typeof u<"u"){if(u.length!==s.length)throw new Error("Weights must have the same length as possibles");for(var m=0,f=u.length;m<f;m++){if(!Rr(u[m])||u[m]<0)throw new Error("Weights must be an array of positive numbers");d+=u[m]}}for(var v=s.length,y=[],x;y.length<l;){if(typeof u>"u")x=s[Math.floor(n()*v)];else for(var g=n()*d,b=0,k=s.length;b<k;b++)if(g-=u[b],g<0){x=s[b];break}y.push(x)}return h?y[0]:p?p(y):y}});function S6(t,e){var r=[];if(t=t.slice(0),t.length>1)for(var i=0,n=t.shift();i<n;i++)r.push(S6(t,e));else for(var a=0,s=t.shift();a<s;a++)r.push(e());return r}var XE="random",$ce=["typed","config","?on"],_ce=ce(XE,$ce,t=>{var{typed:e,config:r,on:i}=t,n=_p(r.randomSeed);return i&&i("config",function(o,l){o.randomSeed!==l.randomSeed&&(n=_p(o.randomSeed))}),e(XE,{"":()=>s(0,1),number:o=>s(0,o),"number, number":(o,l)=>s(o,l),"Array | Matrix":o=>a(o,0,1),"Array | Matrix, number":(o,l)=>a(o,0,l),"Array | Matrix, number, number":(o,l,u)=>a(o,l,u)});function a(o,l,u){var c=S6(o.valueOf(),()=>s(l,u));return hr(o)?o.create(c,"number"):c}function s(o,l){return o+n()*(l-o)}}),QE="randomInt",Ece=["typed","config","log2","?on"],Ice=ce(QE,Ece,t=>{var{typed:e,config:r,log2:i,on:n}=t,a=_p(r.randomSeed);return n&&n("config",function(u,c){u.randomSeed!==c.randomSeed&&(a=_p(u.randomSeed))}),e(QE,{"":()=>o(0,2),number:u=>o(0,u),"number, number":(u,c)=>o(u,c),bigint:u=>l(0n,u),"bigint, bigint":l,"Array | Matrix":u=>s(u,0,1),"Array | Matrix, number":(u,c)=>s(u,0,c),"Array | Matrix, number, number":(u,c,h)=>s(u,c,h)});function s(u,c,h){var p=S6(u.valueOf(),()=>o(c,h));return hr(u)?u.create(p,"number"):p}function o(u,c){return Math.floor(u+a()*(c-u))}function l(u,c){var h=2n**30n,p=c-u;if(p<=h)return u+BigInt(o(0,Number(p)));for(var d=i(p),m=p;m>=p;){m=0n;for(var f=0;f<d;++f)m=2n*m+(a()<.5?0n:1n)}return u+m}}),JE="stirlingS2",Tce=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],Lce=ce(JE,Tce,t=>{var{typed:e,addScalar:r,subtractScalar:i,multiplyScalar:n,divideScalar:a,pow:s,factorial:o,combinations:l,isNegative:u,isInteger:c,number:h,bignumber:p,larger:d}=t,m=[],f=[];return e(JE,{"number | BigNumber, number | BigNumber":function(y,x){if(!c(y)||u(y)||!c(x)||u(x))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(d(x,y))throw new TypeError("k must be less than or equal to n in function stirlingS2");var g=!(Rr(y)&&Rr(x)),b=g?f:m,k=g?p:h,w=h(y),N=h(x);if(b[w]&&b[w].length>N)return b[w][N];for(var A=0;A<=w;++A)if(b[A]||(b[A]=[k(A===0?1:0)]),A!==0)for(var $=b[A],D=b[A-1],_=$.length;_<=A&&_<=N;++_)_===A?$[_]=1:$[_]=r(n(k(_),D[_]),D[_-1]);return b[w][N]}})}),eI="bellNumbers",zce=["typed","addScalar","isNegative","isInteger","stirlingS2"],Bce=ce(eI,zce,t=>{var{typed:e,addScalar:r,isNegative:i,isInteger:n,stirlingS2:a}=t;return e(eI,{"number | BigNumber":function(o){if(!n(o)||i(o))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,u=0;u<=o;u++)l=r(l,a(o,u));return l}})}),tI="catalan",Oce=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],Fce=ce(tI,Oce,t=>{var{typed:e,addScalar:r,divideScalar:i,multiplyScalar:n,combinations:a,isNegative:s,isInteger:o}=t;return e(tI,{"number | BigNumber":function(u){if(!o(u)||s(u))throw new TypeError("Non-negative integer value expected in function catalan");return i(a(n(u,2),u),r(u,1))}})}),rI="composition",Pce=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],Rce=ce(rI,Pce,t=>{var{typed:e,addScalar:r,combinations:i,isPositive:n,isNegative:a,isInteger:s,larger:o}=t;return e(rI,{"number | BigNumber, number | BigNumber":function(u,c){if(!s(u)||!n(u)||!s(c)||!n(c))throw new TypeError("Positive integer value expected in function composition");if(o(c,u))throw new TypeError("k must be less than or equal to n in function composition");return i(r(u,-1),r(c,-1))}})}),iI="leafCount",jce=["parse","typed"],qce=ce(iI,jce,t=>{var{parse:e,typed:r}=t;function i(n){var a=0;return n.forEach(s=>{a+=i(s)}),a||1}return r(iI,{Node:function(a){return i(a)}})});function nI(t){return mi(t)||ea(t)&&t.isUnary()&&mi(t.args[0])}function f4(t){return!!(mi(t)||(ou(t)||ea(t))&&t.args.every(f4)||g0(t)&&f4(t.content))}function aI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function D6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(r),!0).forEach(function(i){Da(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var Uce="simplifyUtil",Vce=["FunctionNode","OperatorNode","SymbolNode"],A6=ce(Uce,Vce,t=>{var{FunctionNode:e,OperatorNode:r,SymbolNode:i}=t,n=!0,a=!1,s="defaultF",o={add:{trivial:n,total:n,commutative:n,associative:n},unaryPlus:{trivial:n,total:n,commutative:n,associative:n},subtract:{trivial:a,total:n,commutative:a,associative:a},multiply:{trivial:n,total:n,commutative:n,associative:n},divide:{trivial:a,total:n,commutative:a,associative:a},paren:{trivial:n,total:n,commutative:n,associative:a},defaultF:{trivial:a,total:n,commutative:a,associative:a}},l={divide:{total:a},log:{total:a}},u={subtract:{total:a},abs:{trivial:n},log:{total:n}};function c(g,b){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o,w=s;if(typeof g=="string"?w=g:ea(g)?w=g.fn.toString():ou(g)?w=g.name:g0(g)&&(w="paren"),Vt(k,w)){var N=k[w];if(Vt(N,b))return N[b];if(Vt(o,w))return o[w][b]}if(Vt(k,s)){var A=k[s];return Vt(A,b)?A[b]:o[s][b]}if(Vt(o,w)){var $=o[w];if(Vt($,b))return $[b]}return o[s][b]}function h(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o;return c(g,"commutative",b)}function p(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o;return c(g,"associative",b)}function d(g,b){var k=D6({},g);for(var w in b)Vt(g,w)?k[w]=D6(D6({},b[w]),g[w]):k[w]=b[w];return k}function m(g,b){if(!g.args||g.args.length===0)return g;g.args=f(g,b);for(var k=0;k<g.args.length;k++)m(g.args[k],b)}function f(g,b){var k,w=[],N=function($){for(var D=0;D<$.args.length;D++){var _=$.args[D];ea(_)&&k===_.op?N(_):w.push(_)}};return p(g,b)?(k=g.op,N(g),w):g.args}function v(g,b){if(!(!g.args||g.args.length===0)){for(var k=x(g),w=g.args.length,N=0;N<w;N++)v(g.args[N],b);if(w>2&&p(g,b)){for(var A=g.args.pop();g.args.length>0;)A=k([g.args.pop(),A]);g.args=A.args}}}function y(g,b){if(!(!g.args||g.args.length===0)){for(var k=x(g),w=g.args.length,N=0;N<w;N++)y(g.args[N],b);if(w>2&&p(g,b)){for(var A=g.args.shift();g.args.length>0;)A=k([A,g.args.shift()]);g.args=A.args}}}function x(g){return ea(g)?function(b){try{return new r(g.op,g.fn,b,g.implicit)}catch(k){return console.error(k),[]}}:function(b){return new e(new i(g.name),b)}}return{createMakeNodeFunction:x,hasProperty:c,isCommutative:h,isAssociative:p,mergeContext:d,flatten:m,allChildren:f,unflattenr:v,unflattenl:y,defaultContext:o,realContext:l,positiveContext:u}}),Gce="simplify",Zce=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],Hce=ce(Gce,Zce,t=>{var{typed:e,parse:r,equal:i,resolve:n,simplifyConstant:a,simplifyCore:s,AccessorNode:o,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:h,ObjectNode:p,OperatorNode:d,ParenthesisNode:m,SymbolNode:f,replacer:v}=t,{hasProperty:y,isCommutative:x,isAssociative:g,mergeContext:b,flatten:k,unflattenr:w,unflattenl:N,createMakeNodeFunction:A,defaultContext:$,realContext:D,positiveContext:_}=A6({FunctionNode:c,OperatorNode:d,SymbolNode:f});e.addConversion({from:"Object",to:"Map",convert:op});var T=e("simplify",{Node:Y,"Node, Map":(H,ue)=>Y(H,!1,ue),"Node, Map, Object":(H,ue,ae)=>Y(H,!1,ue,ae),"Node, Array":Y,"Node, Array, Map":Y,"Node, Array, Map, Object":Y});e.removeConversion({from:"Object",to:"Map",convert:op}),T.defaultContext=$,T.realContext=D,T.positiveContext=_;function z(H){return H.transform(function(ue){return g0(ue)?z(ue.content):ue})}var P={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};T.rules=[s,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},a,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},a,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function q(H,ue){var ae={};if(H.s){var $e=H.s.split("->");if($e.length===2)ae.l=$e[0],ae.r=$e[1];else throw SyntaxError("Could not parse rule: "+H.s)}else ae.l=H.l,ae.r=H.r;ae.l=z(r(ae.l)),ae.r=z(r(ae.r));for(var Ne of["imposeContext","repeat","assuming"])Ne in H&&(ae[Ne]=H[Ne]);if(H.evaluate&&(ae.evaluate=r(H.evaluate)),g(ae.l,ue)){var ze=!x(ae.l,ue),Te;ze&&(Te=W());var Qe=A(ae.l),nt=W();ae.expanded={},ae.expanded.l=Qe([ae.l,nt]),k(ae.expanded.l,ue),w(ae.expanded.l,ue),ae.expanded.r=Qe([ae.r,nt]),ze&&(ae.expandedNC1={},ae.expandedNC1.l=Qe([Te,ae.l]),ae.expandedNC1.r=Qe([Te,ae.r]),ae.expandedNC2={},ae.expandedNC2.l=Qe([Te,ae.expanded.l]),ae.expandedNC2.r=Qe([Te,ae.expanded.r]))}return ae}function L(H,ue){for(var ae=[],$e=0;$e<H.length;$e++){var Ne=H[$e],ze=void 0,Te=typeof Ne;switch(Te){case"string":Ne={s:Ne};case"object":ze=q(Ne,ue);break;case"function":ze=Ne;break;default:throw TypeError("Unsupported type of rule: "+Te)}ae.push(ze)}return ae}var Z=0;function W(){return new f("_p"+Z++)}function Y(H,ue){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mm(),$e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ne=$e.consoleDebug;ue=L(ue||T.rules,$e.context);var ze=n(H,ae);ze=z(ze);for(var Te={},Qe=ze.toString({parenthesis:"all"});!Te[Qe];){Te[Qe]=!0,Z=0;var nt=Qe;Ne&&console.log("Working on: ",Qe);for(var rt=0;rt<ue.length;rt++){var Ue="";if(typeof ue[rt]=="function"?(ze=ue[rt](ze,$e),Ne&&(Ue=ue[rt].name)):(k(ze,$e.context),ze=re(ze,ue[rt],$e.context),Ne&&(Ue="".concat(ue[rt].l.toString()," -> ").concat(ue[rt].r.toString()))),Ne){var lt=ze.toString({parenthesis:"all"});lt!==nt&&(console.log("Applying",Ue,"produced",lt),nt=lt)}N(ze,$e.context)}Qe=ze.toString({parenthesis:"all"})}return ze}function ie(H,ue,ae){var $e=H;if(H)for(var Ne=0;Ne<H.length;++Ne){var ze=re(H[Ne],ue,ae);ze!==H[Ne]&&($e===H&&($e=H.slice()),$e[Ne]=ze)}return $e}function re(H,ue,ae){if(ue.assuming){for(var $e in ue.assuming)for(var Ne in ue.assuming[$e])if(y($e,Ne,ae)!==ue.assuming[$e][Ne])return H}var ze=b(ue.imposeContext,ae),Te=H;if(Te instanceof d||Te instanceof c){var Qe=ie(Te.args,ue,ae);Qe!==Te.args&&(Te=Te.clone(),Te.args=Qe)}else if(Te instanceof m){if(Te.content){var nt=re(Te.content,ue,ae);nt!==Te.content&&(Te=new m(nt))}}else if(Te instanceof l){var rt=ie(Te.items,ue,ae);rt!==Te.items&&(Te=new l(rt))}else if(Te instanceof o){var Ue=Te.object;Te.object&&(Ue=re(Te.object,ue,ae));var lt=Te.index;Te.index&&(lt=re(Te.index,ue,ae)),(Ue!==Te.object||lt!==Te.index)&&(Te=new o(Ue,lt))}else if(Te instanceof h){var J=ie(Te.dimensions,ue,ae);J!==Te.dimensions&&(Te=new h(J))}else if(Te instanceof p){var me=!1,Oe={};for(var te in Te.properties)Oe[te]=re(Te.properties[te],ue,ae),Oe[te]!==Te.properties[te]&&(me=!0);me&&(Te=new p(Oe))}var fe=ue.r,xe=le(ue.l,Te,ze)[0];if(!xe&&ue.expanded&&(fe=ue.expanded.r,xe=le(ue.expanded.l,Te,ze)[0]),!xe&&ue.expandedNC1&&(fe=ue.expandedNC1.r,xe=le(ue.expandedNC1.l,Te,ze)[0],xe||(fe=ue.expandedNC2.r,xe=le(ue.expandedNC2.l,Te,ze)[0])),xe){var Ee=Te.implicit;Te=fe.clone(),Ee&&"implicit"in fe&&(Te.implicit=!0),Te=Te.transform(function(Me){return Me.isSymbolNode&&Vt(xe.placeholders,Me.name)?xe.placeholders[Me.name].clone():Me})}return ue.repeat&&Te!==H&&(Te=re(Te,ue,ae)),Te}function R(H,ue){var ae=[],$e,Ne,ze=A(H);if(x(H,ue))for(var Te=0;Te<H.args.length;Te++)Ne=H.args.slice(0),Ne.splice(Te,1),$e=Ne.length===1?Ne[0]:ze(Ne),ae.push(ze([H.args[Te],$e]));else for(var Qe=1;Qe<H.args.length;Qe++){var nt=H.args[0];Qe>1&&(nt=ze(H.args.slice(0,Qe))),Ne=H.args.slice(Qe),$e=Ne.length===1?Ne[0]:ze(Ne),ae.push(ze([nt,$e]))}return ae}function X(H,ue){var ae={placeholders:{}};if(!H.placeholders&&!ue.placeholders)return ae;if(H.placeholders){if(!ue.placeholders)return H}else return ue;for(var $e in H.placeholders)if(Vt(H.placeholders,$e)&&(ae.placeholders[$e]=H.placeholders[$e],Vt(ue.placeholders,$e)&&!ne(H.placeholders[$e],ue.placeholders[$e])))return null;for(var Ne in ue.placeholders)Vt(ue.placeholders,Ne)&&(ae.placeholders[Ne]=ue.placeholders[Ne]);return ae}function E(H,ue){var ae=[];if(H.length===0||ue.length===0)return ae;for(var $e,Ne=0;Ne<H.length;Ne++)for(var ze=0;ze<ue.length;ze++)$e=X(H[Ne],ue[ze]),$e&&ae.push($e);return ae}function oe(H){if(H.length===0)return H;for(var ue=H.reduce(E),ae=[],$e={},Ne=0;Ne<ue.length;Ne++){var ze=JSON.stringify(ue[Ne],v);$e[ze]||($e[ze]=!0,ae.push(ue[Ne]))}return ae}function le(H,ue,ae,$e){var Ne=[{placeholders:{}}];if(H instanceof d&&ue instanceof d||H instanceof c&&ue instanceof c){if(H instanceof d){if(H.op!==ue.op||H.fn!==ue.fn)return[]}else if(H instanceof c&&H.name!==ue.name)return[];if(ue.args.length===1&&H.args.length===1||!g(ue,ae)&&ue.args.length===H.args.length||$e){for(var ze=[],Te=0;Te<H.args.length;Te++){var Qe=le(H.args[Te],ue.args[Te],ae);if(Qe.length===0)break;ze.push(Qe)}if(ze.length!==H.args.length){if(!x(ue,ae)||H.args.length===1)return[];if(H.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var nt=le(H.args[0],ue.args[1],ae);if(nt.length===0)return[];var rt=le(H.args[1],ue.args[0],ae);if(rt.length===0)return[];ze=[nt,rt]}Ne=oe(ze)}else if(ue.args.length>=2&&H.args.length===2){for(var Ue=R(ue,ae),lt=[],J=0;J<Ue.length;J++){var me=le(H,Ue[J],ae,!0);lt=lt.concat(me)}return lt}else{if(H.args.length>2)throw Error("Unexpected non-binary associative function: "+H.toString());return[]}}else if(H instanceof f){if(H.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(P[H.name]){if(H.name!==ue.name)return[]}else switch(H.name[1]>="a"&&H.name[1]<="z"?H.name.substring(0,2):H.name[0]){case"n":case"_p":Ne[0].placeholders[H.name]=ue;break;case"c":case"cl":if(mi(ue))Ne[0].placeholders[H.name]=ue;else return[];break;case"v":if(!mi(ue))Ne[0].placeholders[H.name]=ue;else return[];break;case"vl":if(La(ue))Ne[0].placeholders[H.name]=ue;else return[];break;case"cd":if(nI(ue))Ne[0].placeholders[H.name]=ue;else return[];break;case"vd":if(!nI(ue))Ne[0].placeholders[H.name]=ue;else return[];break;case"ce":if(f4(ue))Ne[0].placeholders[H.name]=ue;else return[];break;case"ve":if(!f4(ue))Ne[0].placeholders[H.name]=ue;else return[];break;default:throw new Error("Invalid symbol in rule: "+H.name)}}else if(H instanceof u){if(!i(H.value,ue.value))return[]}else return[];return Ne}function ne(H,ue){if(H instanceof u&&ue instanceof u){if(!i(H.value,ue.value))return!1}else if(H instanceof f&&ue instanceof f){if(H.name!==ue.name)return!1}else if(H instanceof d&&ue instanceof d||H instanceof c&&ue instanceof c){if(H instanceof d){if(H.op!==ue.op||H.fn!==ue.fn)return!1}else if(H instanceof c&&H.name!==ue.name)return!1;if(H.args.length!==ue.args.length)return!1;for(var ae=0;ae<H.args.length;ae++)if(!ne(H.args[ae],ue.args[ae]))return!1}else return!1;return!0}return T}),Wce="simplifyConstant",Yce=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],Kce=ce(Wce,Yce,t=>{var{typed:e,config:r,mathWithTransform:i,matrix:n,fraction:a,bignumber:s,AccessorNode:o,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:h,ObjectNode:p,OperatorNode:d,SymbolNode:m}=t,{isCommutative:f,isAssociative:v,allChildren:y,createMakeNodeFunction:x}=A6({FunctionNode:c,OperatorNode:d,SymbolNode:m}),g=e("simplifyConstant",{Node:q=>N(P(q,{})),"Node, Object":function(L,Z){return N(P(L,Z))}});function b(q){return Th(q)?q.valueOf():q instanceof Array?q.map(b):hr(q)?n(b(q.valueOf())):q}function k(q,L,Z){try{return i[q].apply(null,L)}catch{return L=L.map(b),$(i[q].apply(null,L),Z)}}var w=e({Fraction:_,number:function(L){return L<0?D(new u(-L)):new u(L)},BigNumber:function(L){return L<0?D(new u(-L)):new u(L)},bigint:function(L){return L<0n?D(new u(-L)):new u(L)},Complex:function(L){throw new Error("Cannot convert Complex number to Node")},string:function(L){return new u(L)},Matrix:function(L){return new l(L.valueOf().map(Z=>w(Z)))}});function N(q){return Vi(q)?q:w(q)}function A(q,L){var Z=L&&L.exactFractions!==!1;if(Z&&isFinite(q)&&a){var W=a(q),Y=L&&typeof L.fractionsLimit=="number"?L.fractionsLimit:1/0;if(W.valueOf()===q&&W.n<Y&&W.d<Y)return W}return q}var $=e({"string, Object":function(L,Z){var W=uc(L,r);if(W==="BigNumber")return s===void 0&&o6(),s(L);if(W==="bigint")return BigInt(L);if(W==="Fraction")return a===void 0&&mA(),a(L);var Y=parseFloat(L);return A(Y,Z)},"Fraction, Object":function(L,Z){return L},"BigNumber, Object":function(L,Z){return L},"number, Object":function(L,Z){return A(L,Z)},"bigint, Object":function(L,Z){return L},"Complex, Object":function(L,Z){return L.im!==0?L:A(L.re,Z)},"Matrix, Object":function(L,Z){return n(A(L.valueOf()))},"Array, Object":function(L,Z){return L.map(A)}});function D(q){return new d("-","unaryMinus",[q])}function _(q){var L=Y=>r.number==="BigNumber"&&s?s(Y):Number(Y),Z=q.s*q.n,W=Z<0n?new d("-","unaryMinus",[new u(-L(Z))]):new u(L(Z));return q.d===1n?W:new d("/","divide",[W,new u(L(q.d))])}function T(q,L,Z){if(!Bh(L))return new o(N(q),N(L));if(Bo(q)||hr(q)){for(var W=Array.from(L.dimensions);W.length>0;)if(mi(W[0])&&typeof W[0].value!="string"){var Y=$(W.shift().value,Z);Bo(q)?q=q.items[Y-1]:(q=q.valueOf()[Y-1],q instanceof Array&&(q=n(q)))}else if(W.length>1&&mi(W[1])&&typeof W[1].value!="string"){var ie=$(W[1].value,Z),re=[],R=Bo(q)?q.items:q.valueOf();for(var X of R)if(Bo(X))re.push(X.items[ie-1]);else if(hr(q))re.push(X[ie-1]);else break;if(re.length===R.length)Bo(q)?q=new l(re):q=n(re),W.splice(1,1);else break}else break;return W.length===L.dimensions.length?new o(N(q),L):W.length>0?(L=new h(W),new o(N(q),L)):q}if(Nm(q)&&L.dimensions.length===1&&mi(L.dimensions[0])){var E=L.dimensions[0].value;return E in q.properties?q.properties[E]:new u}return new o(N(q),L)}function z(q,L,Z,W){var Y=L.shift(),ie=L.reduce((re,R)=>{if(!Vi(R)){var X=re.pop();if(Vi(X))return[X,R];try{return re.push(k(q,[X,R],W)),re}catch{re.push(X)}}re.push(N(re.pop()));var E=re.length===1?re[0]:Z(re);return[Z([E,N(R)])]},[Y]);return ie.length===1?ie[0]:Z([ie[0],w(ie[1])])}function P(q,L){switch(q.type){case"SymbolNode":return q;case"ConstantNode":switch(typeof q.value){case"number":return $(q.value,L);case"bigint":return $(q.value,L);case"string":return q.value;default:if(!isNaN(q.value))return $(q.value,L)}return q;case"FunctionNode":if(i[q.name]&&i[q.name].rawArgs)return q;{var Z=["add","multiply"];if(!Z.includes(q.name)){var W=q.args.map($e=>P($e,L));if(!W.some(Vi))try{return k(q.name,W,L)}catch{}if(q.name==="size"&&W.length===1&&Bo(W[0])){for(var Y=[],ie=W[0];Bo(ie);)Y.push(ie.items.length),ie=ie.items[0];return n(Y)}return new c(q.name,W.map(N))}}case"OperatorNode":{var re=q.fn.toString(),R,X,E=x(q);if(ea(q)&&q.isUnary())R=[P(q.args[0],L)],Vi(R[0])?X=E(R):X=k(re,R,L);else if(v(q,L.context))if(R=y(q,L.context),R=R.map($e=>P($e,L)),f(re,L.context)){for(var oe=[],le=[],ne=0;ne<R.length;ne++)Vi(R[ne])?le.push(R[ne]):oe.push(R[ne]);oe.length>1?(X=z(re,oe,E,L),le.unshift(X),X=z(re,le,E,L)):X=z(re,R,E,L)}else X=z(re,R,E,L);else R=q.args.map($e=>P($e,L)),X=z(re,R,E,L);return X}case"ParenthesisNode":return P(q.content,L);case"AccessorNode":return T(P(q.object,L),P(q.index,L),L);case"ArrayNode":{var H=q.items.map($e=>P($e,L));return H.some(Vi)?new l(H.map(N)):n(H)}case"IndexNode":return new h(q.dimensions.map($e=>g($e,L)));case"ObjectNode":{var ue={};for(var ae in q.properties)ue[ae]=g(q.properties[ae],L);return new p(ue)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(q.type))}}return g}),sI="simplifyCore",Xce=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Qce=ce(sI,Xce,t=>{var{typed:e,parse:r,equal:i,isZero:n,add:a,subtract:s,multiply:o,divide:l,pow:u,AccessorNode:c,ArrayNode:h,ConstantNode:p,FunctionNode:d,IndexNode:m,ObjectNode:f,OperatorNode:v,ParenthesisNode:y,SymbolNode:x}=t,g=new p(0),b=new p(1),k=new p(!0),w=new p(!1);function N(_){return ea(_)&&["and","not","or"].includes(_.op)}var{hasProperty:A,isCommutative:$}=A6({FunctionNode:d,OperatorNode:v,SymbolNode:x});function D(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=T?T.context:void 0;if(A(_,"trivial",z)){if(ou(_)&&_.args.length===1)return D(_.args[0],T);var P=!1,q=0;if(_.forEach(le=>{++q,q===1&&(P=D(le,T))}),q===1)return P}var L=_;if(ou(L)){var Z=mne(L.name);if(Z){if(L.args.length>2&&A(L,"associative",z))for(;L.args.length>2;){var W=L.args.pop(),Y=L.args.pop();L.args.push(new v(Z,L.name,[W,Y]))}L=new v(Z,L.name,L.args)}else return new d(D(L.fn),L.args.map(le=>D(le,T)))}if(ea(L)&&L.isUnary()){var ie=D(L.args[0],T);if(L.op==="~"&&ea(ie)&&ie.isUnary()&&ie.op==="~"||L.op==="not"&&ea(ie)&&ie.isUnary()&&ie.op==="not"&&N(ie.args[0]))return ie.args[0];var re=!0;if(L.op==="-"&&ea(ie)&&(ie.isBinary()&&ie.fn==="subtract"&&(L=new v("-","subtract",[ie.args[1],ie.args[0]]),re=!1),ie.isUnary()&&ie.op==="-"))return ie.args[0];if(re)return new v(L.op,L.fn,[ie])}if(ea(L)&&L.isBinary()){var R=D(L.args[0],T),X=D(L.args[1],T);if(L.op==="+"){if(mi(R)&&n(R.value))return X;if(mi(X)&&n(X.value))return R;ea(X)&&X.isUnary()&&X.op==="-"&&(X=X.args[0],L=new v("-","subtract",[R,X]))}if(L.op==="-")return ea(X)&&X.isUnary()&&X.op==="-"?D(new v("+","add",[R,X.args[0]]),T):mi(R)&&n(R.value)?D(new v("-","unaryMinus",[X])):mi(X)&&n(X.value)?R:new v(L.op,L.fn,[R,X]);if(L.op==="*"){if(mi(R)){if(n(R.value))return g;if(i(R.value,1))return X}if(mi(X)){if(n(X.value))return g;if(i(X.value,1))return R;if($(L,z))return new v(L.op,L.fn,[X,R],L.implicit)}return new v(L.op,L.fn,[R,X],L.implicit)}if(L.op==="/")return mi(R)&&n(R.value)?g:mi(X)&&i(X.value,1)?R:new v(L.op,L.fn,[R,X]);if(L.op==="^"&&mi(X)){if(n(X.value))return b;if(i(X.value,1))return R}if(L.op==="and"){if(mi(R))if(R.value){if(N(X))return X;if(mi(X))return X.value?k:w}else return w;if(mi(X))if(X.value){if(N(R))return R}else return w}if(L.op==="or"){if(mi(R)){if(R.value)return k;if(N(X))return X}if(mi(X)){if(X.value)return k;if(N(R))return R}}return new v(L.op,L.fn,[R,X])}if(ea(L))return new v(L.op,L.fn,L.args.map(le=>D(le,T)));if(Bo(L))return new h(L.items.map(le=>D(le,T)));if(lc(L))return new c(D(L.object,T),D(L.index,T));if(Bh(L))return new m(L.dimensions.map(le=>D(le,T)));if(Nm(L)){var E={};for(var oe in L.properties)E[oe]=D(L.properties[oe],T);return new f(E)}return L}return e(sI,{Node:D,"Node,Object":D})}),Jce="resolve",ehe=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],the=ce(Jce,ehe,t=>{var{typed:e,parse:r,ConstantNode:i,FunctionNode:n,OperatorNode:a,ParenthesisNode:s}=t;function o(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!u)return l;if(La(l)){if(c.has(l.name)){var h=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(h,"}"))}var p=u.get(l.name);if(Vi(p)){var d=new Set(c);return d.add(l.name),o(p,u,d)}else return typeof p=="number"?r(String(p)):p!==void 0?new i(p):l}else if(ea(l)){var m=l.args.map(function(v){return o(v,u,c)});return new a(l.op,l.fn,m,l.implicit)}else{if(g0(l))return new s(o(l.content,u,c));if(ou(l)){var f=l.args.map(function(v){return o(v,u,c)});return new n(l.name,f)}}return l.map(v=>o(v,u,c))}return e("resolve",{Node:o,"Node, Map | null | undefined":o,"Node, Object":(l,u)=>o(l,op(u)),"Array | Matrix":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array | Matrix, null | undefined":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array, Object":e.referTo("Array,Map",l=>(u,c)=>l(u,op(c))),"Matrix, Object":e.referTo("Matrix,Map",l=>(u,c)=>l(u,op(c))),"Array | Matrix, Map":e.referToSelf(l=>(u,c)=>u.map(h=>l(h,c)))})}),oI="symbolicEqual",rhe=["parse","simplify","typed","OperatorNode"],ihe=ce(oI,rhe,t=>{var{parse:e,simplify:r,typed:i,OperatorNode:n}=t;function a(s,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new n("-","subtract",[s,o]),c=r(u,{},l);return mi(c)&&!c.value}return i(oI,{"Node, Node":a,"Node, Node, Object":a})}),lI="derivative",nhe=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],ahe=ce(lI,nhe,t=>{var{typed:e,config:r,parse:i,simplify:n,equal:a,isZero:s,numeric:o,ConstantNode:l,FunctionNode:u,OperatorNode:c,ParenthesisNode:h,SymbolNode:p}=t;function d(b,k){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},N=new Map,A=k.name;function $(_){var T=N.get(_);if(T!==void 0)return T;var z=y($,_,A);return N.set(_,z),z}var D=x(b,$);return w.simplify?n(D):D}function m(b){var k=i(b);if(!k.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(b)," into a variable in function derivative"));return k}var f=e(lI,{"Node, SymbolNode":d,"Node, SymbolNode, Object":d,"Node, string":(b,k)=>d(b,m(k)),"Node, string, Object":(b,k,w)=>d(b,m(k),w)});f._simplify=!0,f.toTex=function(b){return v.apply(null,b.args)};var v=e("_derivTex",{"Node, SymbolNode":function(k,w){return mi(k)&&an(k.value)==="string"?v(i(k.value).toString(),w.toString(),1):v(k.toTex(),w.toString(),1)},"Node, ConstantNode":function(k,w){if(an(w.value)==="string")return v(k,i(w.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(k,w,N){return v(k.toString(),w.name,N.value)},"string, string, number":function(k,w,N){var A;return N===1?A="{d\\over d"+w+"}":A="{d^{"+N+"}\\over d"+w+"^{"+N+"}}",A+"\\left[".concat(k,"\\right]")}}),y=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(k,w,N){return w.name!==N},"function, ParenthesisNode, string":function(k,w,N){return k(w.content,N)},"function, FunctionAssignmentNode, string":function(k,w,N){return w.params.includes(N)?k(w.expr,N):!0},"function, FunctionNode | OperatorNode, string":function(k,w,N){return w.args.every(A=>k(A,N))}}),x=e("_derivative",{"ConstantNode, function":function(){return g(0)},"SymbolNode, function":function(k,w){return w(k)?g(0):g(1)},"ParenthesisNode, function":function(k,w){return new h(x(k.content,w))},"FunctionAssignmentNode, function":function(k,w){return w(k)?g(0):x(k.expr,w)},"FunctionNode, function":function(k,w){if(w(k))return g(0);var N=k.args[0],A,$=!1,D=!1,_;switch(k.name){case"cbrt":$=!0,_=new c("*","multiply",[g(3),new c("^","pow",[N,new c("/","divide",[g(2),g(3)])])]);break;case"sqrt":case"nthRoot":if(k.args.length===1)$=!0,_=new c("*","multiply",[g(2),new u("sqrt",[N])]);else if(k.args.length===2)return A=new c("/","divide",[g(1),k.args[1]]),x(new c("^","pow",[N,A]),w);break;case"log10":A=g(10);case"log":if(!A&&k.args.length===1)_=N.clone(),$=!0;else if(k.args.length===1&&A||k.args.length===2&&w(k.args[1]))_=new c("*","multiply",[N.clone(),new u("log",[A||k.args[1]])]),$=!0;else if(k.args.length===2)return x(new c("/","divide",[new u("log",[N]),new u("log",[k.args[1]])]),w);break;case"pow":if(k.args.length===2)return x(new c("^","pow",[N,k.args[1]]),w);break;case"exp":_=new u("exp",[N.clone()]);break;case"sin":_=new u("cos",[N.clone()]);break;case"cos":_=new c("-","unaryMinus",[new u("sin",[N.clone()])]);break;case"tan":_=new c("^","pow",[new u("sec",[N.clone()]),g(2)]);break;case"sec":_=new c("*","multiply",[k,new u("tan",[N.clone()])]);break;case"csc":D=!0,_=new c("*","multiply",[k,new u("cot",[N.clone()])]);break;case"cot":D=!0,_=new c("^","pow",[new u("csc",[N.clone()]),g(2)]);break;case"asin":$=!0,_=new u("sqrt",[new c("-","subtract",[g(1),new c("^","pow",[N.clone(),g(2)])])]);break;case"acos":$=!0,D=!0,_=new u("sqrt",[new c("-","subtract",[g(1),new c("^","pow",[N.clone(),g(2)])])]);break;case"atan":$=!0,_=new c("+","add",[new c("^","pow",[N.clone(),g(2)]),g(1)]);break;case"asec":$=!0,_=new c("*","multiply",[new u("abs",[N.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[N.clone(),g(2)]),g(1)])])]);break;case"acsc":$=!0,D=!0,_=new c("*","multiply",[new u("abs",[N.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[N.clone(),g(2)]),g(1)])])]);break;case"acot":$=!0,D=!0,_=new c("+","add",[new c("^","pow",[N.clone(),g(2)]),g(1)]);break;case"sinh":_=new u("cosh",[N.clone()]);break;case"cosh":_=new u("sinh",[N.clone()]);break;case"tanh":_=new c("^","pow",[new u("sech",[N.clone()]),g(2)]);break;case"sech":D=!0,_=new c("*","multiply",[k,new u("tanh",[N.clone()])]);break;case"csch":D=!0,_=new c("*","multiply",[k,new u("coth",[N.clone()])]);break;case"coth":D=!0,_=new c("^","pow",[new u("csch",[N.clone()]),g(2)]);break;case"asinh":$=!0,_=new u("sqrt",[new c("+","add",[new c("^","pow",[N.clone(),g(2)]),g(1)])]);break;case"acosh":$=!0,_=new u("sqrt",[new c("-","subtract",[new c("^","pow",[N.clone(),g(2)]),g(1)])]);break;case"atanh":$=!0,_=new c("-","subtract",[g(1),new c("^","pow",[N.clone(),g(2)])]);break;case"asech":$=!0,D=!0,_=new c("*","multiply",[N.clone(),new u("sqrt",[new c("-","subtract",[g(1),new c("^","pow",[N.clone(),g(2)])])])]);break;case"acsch":$=!0,D=!0,_=new c("*","multiply",[new u("abs",[N.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[N.clone(),g(2)]),g(1)])])]);break;case"acoth":$=!0,D=!0,_=new c("-","subtract",[g(1),new c("^","pow",[N.clone(),g(2)])]);break;case"abs":_=new c("/","divide",[new u(new p("abs"),[N.clone()]),N.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+k.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var T,z;$?(T="/",z="divide"):(T="*",z="multiply");var P=x(N,w);return D&&(P=new c("-","unaryMinus",[P])),new c(T,z,[P,_])},"OperatorNode, function":function(k,w){if(w(k))return g(0);if(k.op==="+")return new c(k.op,k.fn,k.args.map(function(L){return x(L,w)}));if(k.op==="-"){if(k.isUnary())return new c(k.op,k.fn,[x(k.args[0],w)]);if(k.isBinary())return new c(k.op,k.fn,[x(k.args[0],w),x(k.args[1],w)])}if(k.op==="*"){var N=k.args.filter(function(L){return w(L)});if(N.length>0){var A=k.args.filter(function(L){return!w(L)}),$=A.length===1?A[0]:new c("*","multiply",A),D=N.concat(x($,w));return new c("*","multiply",D)}return new c("+","add",k.args.map(function(L){return new c("*","multiply",k.args.map(function(Z){return Z===L?x(Z,w):Z.clone()}))}))}if(k.op==="/"&&k.isBinary()){var _=k.args[0],T=k.args[1];return w(T)?new c("/","divide",[x(_,w),T]):w(_)?new c("*","multiply",[new c("-","unaryMinus",[_]),new c("/","divide",[x(T,w),new c("^","pow",[T.clone(),g(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[x(_,w),T.clone()]),new c("*","multiply",[_.clone(),x(T,w)])]),new c("^","pow",[T.clone(),g(2)])])}if(k.op==="^"&&k.isBinary()){var z=k.args[0],P=k.args[1];if(w(z))return mi(z)&&(s(z.value)||a(z.value,1))?g(0):new c("*","multiply",[k,new c("*","multiply",[new u("log",[z.clone()]),x(P.clone(),w)])]);if(w(P)){if(mi(P)){if(s(P.value))return g(0);if(a(P.value,1))return x(z,w)}var q=new c("^","pow",[z.clone(),new c("-","subtract",[P,g(1)])]);return new c("*","multiply",[P.clone(),new c("*","multiply",[x(z,w),q])])}return new c("*","multiply",[new c("^","pow",[z.clone(),P.clone()]),new c("+","add",[new c("*","multiply",[x(z,w),new c("/","divide",[P.clone(),z.clone()])]),new c("*","multiply",[x(P,w),new u("log",[z.clone()])])])])}throw new Error('Cannot process operator "'+k.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function g(b,k){return new l(o(b,uc(String(b),r)))}return f}),uI="rationalize",she=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],ohe=ce(uI,she,t=>{var{config:e,typed:r,equal:i,isZero:n,add:a,subtract:s,multiply:o,divide:l,pow:u,parse:c,simplifyConstant:h,simplifyCore:p,simplify:d,fraction:m,bignumber:f,mathWithTransform:v,matrix:y,AccessorNode:x,ArrayNode:g,ConstantNode:b,FunctionNode:k,IndexNode:w,ObjectNode:N,OperatorNode:A,SymbolNode:$,ParenthesisNode:D}=t;function _(L){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Y=z(),ie=T(L,Z,!0,Y.firstRules),re=ie.variables.length,R={exactFractions:!1},X={exactFractions:!0};if(L=ie.expression,re>=1){L=P(L);var E,oe,le=!0,ne=!1;L=d(L,Y.firstRules,{},R);for(var H;oe=le?Y.distrDivRules:Y.sucDivRules,L=d(L,oe,{},X),le=!le,H=L.toString(),H!==E;)ne=!0,E=H;ne&&(L=d(L,Y.firstRulesAgain,{},R)),L=d(L,Y.finalRules,{},R)}var ue=[],ae={};return L.type==="OperatorNode"&&L.isBinary()&&L.op==="/"?(re===1&&(L.args[0]=q(L.args[0],ue),L.args[1]=q(L.args[1])),W&&(ae.numerator=L.args[0],ae.denominator=L.args[1])):(re===1&&(L=q(L,ue)),W&&(ae.numerator=L,ae.denominator=null)),W?(ae.coefficients=ue,ae.variables=ie.variables,ae.expression=L,ae):L}return r(uI,{Node:_,"Node, boolean":(L,Z)=>_(L,{},Z),"Node, Object":_,"Node, Object, boolean":_});function T(L,Z,W,Y){var ie=[],re=d(L,Y,Z,{exactFractions:!1});W=!!W;var R="+-*"+(W?"/":"");E(re);var X={};return X.expression=re,X.variables=ie,X;function E(oe){var le=oe.type;if(le==="FunctionNode")throw new Error("There is an unsolved function call");if(le==="OperatorNode")if(oe.op==="^"){if(oe.args[1].type!=="ConstantNode"||!rr(parseFloat(oe.args[1].value)))throw new Error("There is a non-integer exponent");E(oe.args[0])}else{if(!R.includes(oe.op))throw new Error("Operator "+oe.op+" invalid in polynomial expression");for(var ne=0;ne<oe.args.length;ne++)E(oe.args[ne])}else if(le==="SymbolNode"){var H=oe.name,ue=ie.indexOf(H);ue===-1&&ie.push(H)}else if(le==="ParenthesisNode")E(oe.content);else if(le!=="ConstantNode")throw new Error("type "+le+" is not allowed in polynomial expression")}}function z(){var L=[p,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},h,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],Z=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],W=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],Y=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],ie={};return ie.firstRules=L.concat(Z,Y),ie.distrDivRules=W,ie.sucDivRules=Y,ie.firstRulesAgain=L.concat(Z),ie.finalRules=[p,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},h,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],ie}function P(L,Z,W){var Y=L.type,ie=arguments.length>1;if(Y==="OperatorNode"&&L.isBinary()){var re=!1,R;if(L.op==="^"&&(L.args[0].type==="ParenthesisNode"||L.args[0].type==="OperatorNode")&&L.args[1].type==="ConstantNode"&&(R=parseFloat(L.args[1].value),re=R>=2&&rr(R)),re){if(R>2){var X=L.args[0],E=new A("^","pow",[L.args[0].cloneDeep(),new b(R-1)]);L=new A("*","multiply",[X,E])}else L=new A("*","multiply",[L.args[0],L.args[0].cloneDeep()]);ie&&(W==="content"?Z.content=L:Z.args[W]=L)}}if(Y==="ParenthesisNode")P(L.content,L,"content");else if(Y!=="ConstantNode"&&Y!=="SymbolNode")for(var oe=0;oe<L.args.length;oe++)P(L.args[oe],L,oe);if(!ie)return L}function q(L,Z){Z===void 0&&(Z=[]),Z[0]=0;var W={};W.cte=1,W.oper="+",W.fire="";var Y=0,ie="";H(L,null,W),Y=Z.length-1;for(var re=!0,R,X=Y;X>=0;X--)if(Z[X]!==0){var E=new b(re?Z[X]:Math.abs(Z[X])),oe=Z[X]<0?"-":"+";if(X>0){var le=new $(ie);if(X>1){var ne=new b(X);le=new A("^","pow",[le,ne])}Z[X]===-1&&re?E=new A("-","unaryMinus",[le]):Math.abs(Z[X])===1?E=le:E=new A("*","multiply",[E,le])}re?R=E:oe==="+"?R=new A("+","add",[R,E]):R=new A("-","subtract",[R,E]),re=!1}if(re)return new b(0);return R;function H(ue,ae,$e){var Ne=ue.type;if(Ne==="FunctionNode")throw new Error("There is an unsolved function call");if(Ne==="OperatorNode"){if(!"+-*^".includes(ue.op))throw new Error("Operator "+ue.op+" invalid");if(ae!==null){if((ue.fn==="unaryMinus"||ue.fn==="pow")&&ae.fn!=="add"&&ae.fn!=="subtract"&&ae.fn!=="multiply")throw new Error("Invalid "+ue.op+" placing");if((ue.fn==="subtract"||ue.fn==="add"||ue.fn==="multiply")&&ae.fn!=="add"&&ae.fn!=="subtract")throw new Error("Invalid "+ue.op+" placing");if((ue.fn==="subtract"||ue.fn==="add"||ue.fn==="unaryMinus")&&$e.noFil!==0)throw new Error("Invalid "+ue.op+" placing")}(ue.op==="^"||ue.op==="*")&&($e.fire=ue.op);for(var ze=0;ze<ue.args.length;ze++)ue.fn==="unaryMinus"&&($e.oper="-"),(ue.op==="+"||ue.fn==="subtract")&&($e.fire="",$e.cte=1,$e.oper=ze===0?"+":ue.op),$e.noFil=ze,H(ue.args[ze],ue,$e)}else if(Ne==="SymbolNode"){if(ue.name!==ie&&ie!=="")throw new Error("There is more than one variable");if(ie=ue.name,ae===null){Z[1]=1;return}if(ae.op==="^"&&$e.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ae.op==="*"&&$e.noFil!==1)throw new Error("In multiply the variable should be the second parameter");($e.fire===""||$e.fire==="*")&&(Y<1&&(Z[1]=0),Z[1]+=$e.cte*($e.oper==="+"?1:-1),Y=Math.max(1,Y))}else if(Ne==="ConstantNode"){var Te=parseFloat(ue.value);if(ae===null){Z[0]=Te;return}if(ae.op==="^"){if($e.noFil!==1)throw new Error("Constant cannot be powered");if(!rr(Te)||Te<=0)throw new Error("Non-integer exponent is not allowed");for(var Qe=Y+1;Qe<Te;Qe++)Z[Qe]=0;Te>Y&&(Z[Te]=0),Z[Te]+=$e.cte*($e.oper==="+"?1:-1),Y=Math.max(Te,Y);return}$e.cte=Te,$e.fire===""&&(Z[0]+=$e.cte*($e.oper==="+"?1:-1))}else throw new Error("Type "+Ne+" is not allowed")}}}),cI="zpk2tf",lhe=["typed","add","multiply","Complex","number"],uhe=ce(cI,lhe,t=>{var{typed:e,add:r,multiply:i,Complex:n,number:a}=t;return e(cI,{"Array,Array,number":function(u,c,h){return s(u,c,h)},"Array,Array":function(u,c){return s(u,c,1)},"Matrix,Matrix,number":function(u,c,h){return s(u.valueOf(),c.valueOf(),h)},"Matrix,Matrix":function(u,c){return s(u.valueOf(),c.valueOf(),1)}});function s(l,u,c){l.some(x=>x.type==="BigNumber")&&(l=l.map(x=>a(x))),u.some(x=>x.type==="BigNumber")&&(u=u.map(x=>a(x)));for(var h=[n(1,0)],p=[n(1,0)],d=0;d<l.length;d++){var m=l[d];typeof m=="number"&&(m=n(m,0)),h=o(h,[n(1,0),n(-m.re,-m.im)])}for(var f=0;f<u.length;f++){var v=u[f];typeof v=="number"&&(v=n(v,0)),p=o(p,[n(1,0),n(-v.re,-v.im)])}for(var y=0;y<h.length;y++)h[y]=i(h[y],c);return[h,p]}function o(l,u){for(var c=[],h=0;h<l.length+u.length-1;h++){c[h]=n(0,0);for(var p=0;p<l.length;p++)h-p>=0&&h-p<u.length&&(c[h]=r(c[h],i(l[p],u[h-p])))}return c}}),hI="freqz",che=["typed","add","multiply","Complex","divide","matrix"],hhe=ce(hI,che,t=>{var{typed:e,add:r,multiply:i,Complex:n,divide:a,matrix:s}=t;return e(hI,{"Array, Array":function(c,h){var p=l(512);return o(c,h,p)},"Array, Array, Array":function(c,h,p){return o(c,h,p)},"Array, Array, number":function(c,h,p){if(p<0)throw new Error("w must be a positive number");var d=l(p);return o(c,h,d)},"Matrix, Matrix":function(c,h){var p=l(512),{w:d,h:m}=o(c.valueOf(),h.valueOf(),p);return{w:s(d),h:s(m)}},"Matrix, Matrix, Matrix":function(c,h,p){var{h:d}=o(c.valueOf(),h.valueOf(),p.valueOf());return{h:s(d),w:s(p)}},"Matrix, Matrix, number":function(c,h,p){if(p<0)throw new Error("w must be a positive number");var d=l(p),{h:m}=o(c.valueOf(),h.valueOf(),d);return{h:s(m),w:s(d)}}});function o(u,c,h){for(var p=[],d=[],m=0;m<h.length;m++){for(var f=n(0,0),v=n(0,0),y=0;y<u.length;y++)f=r(f,i(u[y],n(Math.cos(-y*h[m]),Math.sin(-y*h[m]))));for(var x=0;x<c.length;x++)v=r(v,i(c[x],n(Math.cos(-x*h[m]),Math.sin(-x*h[m]))));p.push(f),d.push(v)}for(var g=[],b=0;b<p.length;b++)g.push(a(p[b],d[b]));return{h:g,w:h}}function l(u){for(var c=[],h=0;h<u;h++)c.push(h/u*Math.PI);return c}}),phe="reviver",dhe=["classes"],mhe=ce(phe,dhe,t=>{var{classes:e}=t;return function(i,n){var a=e[n&&n.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(n):n}}),fhe="replacer",ghe=[],vhe=ce(fhe,ghe,()=>function(e,r){return typeof r=="number"&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:typeof r=="bigint"?{mathjs:"bigint",value:String(r)}:r}),yhe="14.9.1",bhe=ce("true",[],()=>!0),xhe=ce("false",[],()=>!1),whe=ce("null",[],()=>null),Mhe=Oo("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1/0):1/0}),khe=Oo("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(NaN):NaN}),Che=Oo("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?h6(r):EK}),Nhe=Oo("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?Nre(r):IK}),She=Oo("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?kre(r):TK}),Dhe=Oo("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?Cre(r):LK}),Ahe=Oo("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).ln():Math.LN2}),$he=Oo("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(10).ln():Math.LN10}),_he=Oo("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(2).ln()):Math.LOG2E}),Ehe=Oo("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(10).ln()):Math.LOG10E}),Ihe=Oo("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r("0.5").sqrt():Math.SQRT1_2}),The=Oo("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).sqrt():Math.SQRT2}),Lhe=Oo("i",["Complex"],t=>{var{Complex:e}=t;return e.I}),zhe=ce("version",[],()=>yhe);function Oo(t,e,r){return ce(t,e,r,{recreateOnConfigChange:!0})}var Bhe=Fr("speedOfLight","299792458","m s^-1"),Ohe=Fr("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),Fhe=Fr("planckConstant","6.62607015e-34","J s"),Phe=Fr("reducedPlanckConstant","1.0545718176461565e-34","J s"),Rhe=Fr("magneticConstant","1.25663706212e-6","N A^-2"),jhe=Fr("electricConstant","8.8541878128e-12","F m^-1"),qhe=Fr("vacuumImpedance","376.730313667","ohm"),Uhe=Fr("coulomb","8.987551792261171e9","N m^2 C^-2"),Vhe=Fr("coulombConstant","8.987551792261171e9","N m^2 C^-2"),Ghe=Fr("elementaryCharge","1.602176634e-19","C"),Zhe=Fr("bohrMagneton","9.2740100783e-24","J T^-1"),Hhe=Fr("conductanceQuantum","7.748091729863649e-5","S"),Whe=Fr("inverseConductanceQuantum","12906.403729652257","ohm"),Yhe=Fr("magneticFluxQuantum","2.0678338484619295e-15","Wb"),Khe=Fr("nuclearMagneton","5.0507837461e-27","J T^-1"),Xhe=Fr("klitzing","25812.807459304513","ohm"),Qhe=Fr("bohrRadius","5.29177210903e-11","m"),Jhe=Fr("classicalElectronRadius","2.8179403262e-15","m"),e1e=Fr("electronMass","9.1093837015e-31","kg"),t1e=Fr("fermiCoupling","1.1663787e-5","GeV^-2"),r1e=g4("fineStructure",.0072973525693),i1e=Fr("hartreeEnergy","4.3597447222071e-18","J"),n1e=Fr("protonMass","1.67262192369e-27","kg"),a1e=Fr("deuteronMass","3.3435830926e-27","kg"),s1e=Fr("neutronMass","1.6749271613e-27","kg"),o1e=Fr("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),l1e=Fr("rydberg","10973731.568160","m^-1"),u1e=Fr("thomsonCrossSection","6.6524587321e-29","m^2"),c1e=g4("weakMixingAngle",.2229),h1e=g4("efimovFactor",22.7),p1e=Fr("atomicMass","1.66053906660e-27","kg"),d1e=Fr("avogadro","6.02214076e23","mol^-1"),m1e=Fr("boltzmann","1.380649e-23","J K^-1"),f1e=Fr("faraday","96485.33212331001","C mol^-1"),g1e=Fr("firstRadiation","3.7417718521927573e-16","W m^2"),v1e=Fr("loschmidt","2.686780111798444e25","m^-3"),y1e=Fr("gasConstant","8.31446261815324","J K^-1 mol^-1"),b1e=Fr("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),x1e=Fr("molarVolume","0.022413969545014137","m^3 mol^-1"),w1e=g4("sackurTetrode",-1.16487052358),M1e=Fr("secondRadiation","0.014387768775039337","m K"),k1e=Fr("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),C1e=Fr("wienDisplacement","2.897771955e-3","m K"),N1e=Fr("molarMass","0.99999999965e-3","kg mol^-1"),S1e=Fr("molarMassC12","11.9999999958e-3","kg mol^-1"),D1e=Fr("gravity","9.80665","m s^-2"),A1e=Fr("planckLength","1.616255e-35","m"),$1e=Fr("planckMass","2.176435e-8","kg"),_1e=Fr("planckTime","5.391245e-44","s"),E1e=Fr("planckCharge","1.87554603778e-18","C"),I1e=Fr("planckTemperature","1.416785e+32","K");function Fr(t,e,r){var i=["config","Unit","BigNumber"];return ce(t,i,n=>{var{config:a,Unit:s,BigNumber:o}=n,l=a.number==="BigNumber"?new o(e):parseFloat(e),u=new s(l,r);return u.fixPrefix=!0,u})}function g4(t,e){var r=["config","BigNumber"];return ce(t,r,i=>{var{config:n,BigNumber:a}=i;return n.number==="BigNumber"?new a(e):e})}function pI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function T1e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(r),!0).forEach(function(i){Da(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var L1e="mapSlices",z1e=["typed","isInteger"],B1e=ce(L1e,z1e,t=>{var{typed:e,isInteger:r}=t,i=Yb({typed:e,isInteger:r});return e("mapSlices",{"...any":function(a){var s=a[1];Rr(s)?a[1]=s-1:Or(s)&&(a[1]=s.minus(1));try{return i.apply(null,a)}catch(o){throw Qs(o)}}})},T1e({isTransformFunction:!0},Yb.meta)),O1e="column",F1e=["typed","Index","matrix","range"],P1e=ce(O1e,F1e,t=>{var{typed:e,Index:r,matrix:i,range:n}=t,a=QD({typed:e,Index:r,matrix:i,range:n});return e("column",{"...any":function(o){var l=o.length-1,u=o[l];Rr(u)&&(o[l]=u-1);try{return a.apply(null,o)}catch(c){throw Qs(c)}}})},{isTransformFunction:!0});function $6(t,e,r){var i=t.filter(function(l){return La(l)&&!(l.name in e)&&!r.has(l.name)})[0];if(!i)throw new Error('No undefined variable found in inline expression "'+t+'"');var n=i.name,a=new Map,s=new yC(r,a,new Set([n])),o=t.compile();return function(u){return a.set(n,u),o.evaluate(s)}}var R1e="transformCallback",j1e=["typed"],_6=ce(R1e,j1e,t=>{var{typed:e}=t;return function(i,n){return e.isTypedFunction(i)?r(i,n):dI(i,i.length,n)};function r(i,n){var a=Object.fromEntries(Object.entries(i.signatures).map(s=>{var[o,l]=s,u=o.split(",").length;return e.isTypedFunction(l)?[o,r(l,n)]:[o,dI(l,u,n)]}));return typeof i.name=="string"?e(i.name,a):e(a)}});function dI(t,e,r){return e===r?t:e===r+1?function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=n.slice(0,r),o=mI(n[r]);return t(...s,o)}:e>r+1?function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=n.slice(0,r),o=mI(n[r]),l=n.slice(r+1);return t(...s,o,...l)}:t}function mI(t){return t.map(e=>e+1)}var q1e="filter",U1e=["typed"],V1e=ce(q1e,U1e,t=>{var{typed:e}=t;function r(n,a,s){var o=rA({typed:e}),l=_6({typed:e});if(n.length===0)return o();var u=n[0];if(n.length===1)return o(u);var c=n.length-1,h=n[c];return u&&(u=i(u,s)),h&&(La(h)||up(h)?h=i(h,s):h=$6(h,a,s)),o(u,l(h,c))}r.rawArgs=!0;function i(n,a){return n.compile().evaluate(a)}return r},{isTransformFunction:!0}),G1e="forEach",Z1e=["typed"],H1e=ce(G1e,Z1e,t=>{var{typed:e}=t,r=aA({typed:e}),i=_6({typed:e});function n(s,o,l){if(s.length===0)return r();var u=s[0];if(s.length===1)return r(u);var c=s.length-1,h=s[c];return u&&(u=a(u,l)),h&&(La(h)||up(h)?h=a(h,l):h=$6(h,o,l)),r(u,i(h,c))}n.rawArgs=!0;function a(s,o){return s.compile().evaluate(o)}return n},{isTransformFunction:!0}),W1e="index",Y1e=["Index","getMatrixDataType"],K1e=ce(W1e,Y1e,t=>{var{Index:e,getMatrixDataType:r}=t;return function(){for(var n=[],a=0,s=arguments.length;a<s;a++){var o=arguments[a];if(gg(o))o.start--,o.end-=o.step>0?0:2;else if(o&&o.isSet===!0)o=o.map(function(u){return u-1});else if(Li(o)||hr(o))r(o)!=="boolean"&&(o=o.map(function(u){return u-1}));else if(Rr(o)||lp(o))o--;else if(Or(o))o=o.toNumber()-1;else if(typeof o!="string")throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");n[a]=o}var l=new e;return e.apply(l,n),l}},{isTransformFunction:!0}),X1e="map",Q1e=["typed"],J1e=ce(X1e,Q1e,t=>{var{typed:e}=t,r=hA({typed:e}),i=_6({typed:e});function n(a,s,o){if(a.length===0)return r();if(a.length===1)return r(a[0]);var l=a.length-1,u=a.slice(0,l),c=a[l];return u=u.map(p=>h(p,o)),c&&(La(c)||up(c)?c=h(c,o):c=$6(c,s,o)),r(...u,i(c,l));function h(p,d){return p.compile().evaluate(d)}}return n.rawArgs=!0,n},{isTransformFunction:!0});function epe(t){return Rr(t)?t-1:Or(t)?t.minus(1):t}function tpe(t){return Rr(t)||Or(t)}function xc(t){if(t.length===2&&fo(t[0])){t=t.slice();var e=t[1];tpe(e)&&(t[1]=epe(e))}return t}var rpe="max",ipe=["typed","config","numeric","larger","isNaN"],npe=ce(rpe,ipe,t=>{var{typed:e,config:r,numeric:i,larger:n,isNaN:a}=t,s=A$({typed:e,config:r,numeric:i,larger:n,isNaN:a});return e("max",{"...any":function(l){l=xc(l);try{return s.apply(null,l)}catch(u){throw Qs(u)}}})},{isTransformFunction:!0}),ape="mean",spe=["typed","add","divide"],ope=ce(ape,spe,t=>{var{typed:e,add:r,divide:i}=t,n=DE({typed:e,add:r,divide:i});return e("mean",{"...any":function(s){s=xc(s);try{return n.apply(null,s)}catch(o){throw Qs(o)}}})},{isTransformFunction:!0}),lpe="min",upe=["typed","config","numeric","smaller","isNaN"],cpe=ce(lpe,upe,t=>{var{typed:e,config:r,numeric:i,smaller:n,isNaN:a}=t,s=_$({typed:e,config:r,numeric:i,smaller:n,isNaN:a});return e("min",{"...any":function(l){l=xc(l);try{return s.apply(null,l)}catch(u){throw Qs(u)}}})},{isTransformFunction:!0}),hpe="range",ppe=["typed","config","?matrix","?bignumber","equal","smaller","smallerEq","larger","largerEq","add","isZero","isPositive"],dpe=ce(hpe,ppe,t=>{var{typed:e,config:r,matrix:i,bignumber:n,equal:a,smaller:s,smallerEq:o,larger:l,largerEq:u,add:c,isZero:h,isPositive:p}=t,d=vA({typed:e,config:r,matrix:i,bignumber:n,equal:a,smaller:s,smallerEq:o,larger:l,largerEq:u,add:c,isZero:h,isPositive:p});return e("range",{"...any":function(f){var v=f.length-1,y=f[v];return typeof y!="boolean"&&f.push(!0),d.apply(null,f)}})},{isTransformFunction:!0}),mpe="row",fpe=["typed","Index","matrix","range"],gpe=ce(mpe,fpe,t=>{var{typed:e,Index:r,matrix:i,range:n}=t,a=MA({typed:e,Index:r,matrix:i,range:n});return e("row",{"...any":function(o){var l=o.length-1,u=o[l];Rr(u)&&(o[l]=u-1);try{return a.apply(null,o)}catch(c){throw Qs(c)}}})},{isTransformFunction:!0}),vpe="subset",ype=["typed","matrix","zeros","add"],bpe=ce(vpe,ype,t=>{var{typed:e,matrix:r,zeros:i,add:n}=t,a=l6({typed:e,matrix:r,zeros:i,add:n});return e("subset",{"...any":function(o){try{return a.apply(null,o)}catch(l){throw Qs(l)}}})},{isTransformFunction:!0}),xpe="concat",wpe=["typed","matrix","isInteger"],Mpe=ce(xpe,wpe,t=>{var{typed:e,matrix:r,isInteger:i}=t,n=n6({typed:e,matrix:r,isInteger:i});return e("concat",{"...any":function(s){var o=s.length-1,l=s[o];Rr(l)?s[o]=l-1:Or(l)&&(s[o]=l.minus(1));try{return n.apply(null,s)}catch(u){throw Qs(u)}}})},{isTransformFunction:!0}),fI="diff",kpe=["typed","matrix","subtract","number","bignumber"],Cpe=ce(fI,kpe,t=>{var{typed:e,matrix:r,subtract:i,number:n,bignumber:a}=t,s=dA({typed:e,matrix:r,subtract:i,number:n,bignumber:a});return e(fI,{"...any":function(l){l=xc(l);try{return s.apply(null,l)}catch(u){throw Qs(u)}}})},{isTransformFunction:!0}),Npe="std",Spe=["typed","map","sqrt","variance"],Dpe=ce(Npe,Spe,t=>{var{typed:e,map:r,sqrt:i,variance:n}=t,a=zE({typed:e,map:r,sqrt:i,variance:n});return e("std",{"...any":function(o){o=xc(o);try{return a.apply(null,o)}catch(l){throw Qs(l)}}})},{isTransformFunction:!0}),gI="sum",Ape=["typed","config","add","numeric"],$pe=ce(gI,Ape,t=>{var{typed:e,config:r,add:i,numeric:n}=t,a=CE({typed:e,config:r,add:i,numeric:n});return e(gI,{"...any":function(o){o=xc(o);try{return a.apply(null,o)}catch(l){throw Qs(l)}}})},{isTransformFunction:!0}),_pe="quantileSeq",Epe=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],Ipe=ce(_pe,Epe,t=>{var{typed:e,bignumber:r,add:i,subtract:n,divide:a,multiply:s,partitionSelect:o,compare:l,isInteger:u,smaller:c,smallerEq:h,larger:p,mapSlices:d}=t,m=TE({typed:e,bignumber:r,add:i,subtract:n,divide:a,multiply:s,partitionSelect:o,compare:l,isInteger:u,smaller:c,smallerEq:h,larger:p,mapSlices:d});return e("quantileSeq",{"Array | Matrix, number | BigNumber":m,"Array | Matrix, number | BigNumber, number":(v,y,x)=>m(v,y,f(x)),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(v,y,x,g)=>m(v,y,x,f(g)),"Array | Matrix, Array | Matrix":m,"Array | Matrix, Array | Matrix, number":(v,y,x)=>m(v,y,f(x)),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(v,y,x,g)=>m(v,y,x,f(g))});function f(v){return xc([[],v])[1]}},{isTransformFunction:!0}),vI="cumsum",Tpe=["typed","add","unaryPlus"],Lpe=ce(vI,Tpe,t=>{var{typed:e,add:r,unaryPlus:i}=t,n=NE({typed:e,add:r,unaryPlus:i});return e(vI,{"...any":function(s){if(s.length===2&&fo(s[0])){var o=s[1];Rr(o)?s[1]=o-1:Or(o)&&(s[1]=o.minus(1))}try{return n.apply(null,s)}catch(l){throw Qs(l)}}})},{isTransformFunction:!0}),yI="variance",zpe=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],Bpe=ce(yI,zpe,t=>{var{typed:e,add:r,subtract:i,multiply:n,divide:a,mapSlices:s,isNaN:o}=t,l=EE({typed:e,add:r,subtract:i,multiply:n,divide:a,mapSlices:s,isNaN:o});return e(yI,{"...any":function(c){c=xc(c);try{return l.apply(null,c)}catch(h){throw Qs(h)}}})},{isTransformFunction:!0}),bI="print",Ope=["typed","matrix","zeros","add"],Fpe=ce(bI,Ope,t=>{var{typed:e,matrix:r,zeros:i,add:n}=t,a=ZA({typed:e,matrix:r,zeros:i,add:n});return e(bI,{"string, Object | Array":function(l,u){return a(s(l),u)},"string, Object | Array, number | Object":function(l,u,c){return a(s(l),u,c)}});function s(o){return o.replace(VA,l=>{var u=l.slice(1).split("."),c=u.map(function(h){return!isNaN(h)&&h.length>0?parseInt(h)-1:h});return"$"+c.join(".")})}},{isTransformFunction:!0}),Ppe="and",Rpe=["typed","matrix","zeros","add","equalScalar","not","concat"],jpe=ce(Ppe,Rpe,t=>{var{typed:e,matrix:r,equalScalar:i,zeros:n,not:a,concat:s}=t,o=y$({typed:e,matrix:r,equalScalar:i,zeros:n,not:a,concat:s});function l(u,c,h){var p=u[0].compile().evaluate(h);if(!fo(p)&&!o(p,!0))return!1;var d=u[1].compile().evaluate(h);return o(p,d)}return l.rawArgs=!0,l},{isTransformFunction:!0}),qpe="or",Upe=["typed","matrix","equalScalar","DenseMatrix","concat"],Vpe=ce(qpe,Upe,t=>{var{typed:e,matrix:r,equalScalar:i,DenseMatrix:n,concat:a}=t,s=WD({typed:e,matrix:r,equalScalar:i,DenseMatrix:n,concat:a});function o(l,u,c){var h=l[0].compile().evaluate(c);if(!fo(h)&&s(h,!1))return!0;var p=l[1].compile().evaluate(c);return s(h,p)}return o.rawArgs=!0,o},{isTransformFunction:!0}),Gpe="nullish",Zpe=["typed","matrix","size","flatten","deepEqual"],Hpe=ce(Gpe,Zpe,t=>{var{typed:e,matrix:r,size:i,flatten:n,deepEqual:a}=t,s=ZD({typed:e,matrix:r,size:i,flatten:n,deepEqual:a});function o(l,u,c){var h=l[0].compile().evaluate(c);if(!fo(h)&&h!=null&&h!==void 0)return h;var p=l[1].compile().evaluate(c);return s(h,p)}return o.rawArgs=!0,o},{isTransformFunction:!0}),Wpe="bitAnd",Ype=["typed","matrix","zeros","add","equalScalar","not","concat"],Kpe=ce(Wpe,Ype,t=>{var{typed:e,matrix:r,equalScalar:i,zeros:n,not:a,concat:s}=t,o=LD({typed:e,matrix:r,equalScalar:i,zeros:n,not:a,concat:s});function l(u,c,h){var p=u[0].compile().evaluate(h);if(!fo(p)){if(isNaN(p))return NaN;if(p===0||p===!1)return 0}var d=u[1].compile().evaluate(h);return o(p,d)}return l.rawArgs=!0,l},{isTransformFunction:!0}),Xpe="bitOr",Qpe=["typed","matrix","equalScalar","DenseMatrix","concat"],Jpe=ce(Xpe,Qpe,t=>{var{typed:e,matrix:r,equalScalar:i,DenseMatrix:n,concat:a}=t,s=OD({typed:e,matrix:r,equalScalar:i,DenseMatrix:n,concat:a});function o(l,u,c){var h=l[0].compile().evaluate(c);if(!fo(h)){if(isNaN(h))return NaN;if(h===-1)return-1;if(h===!0)return 1}var p=l[1].compile().evaluate(c);return s(h,p)}return o.rawArgs=!0,o},{isTransformFunction:!0}),At=oN({config:pt}),on=lN({}),xI=She({BigNumber:At,config:pt}),ede=xhe({}),tde=r1e({BigNumber:At,config:pt}),Gh=cN({}),wI=Lhe({Complex:on}),rde=Mhe({BigNumber:At,config:pt}),ide=$he({BigNumber:At,config:pt}),nde=Ehe({BigNumber:At,config:pt}),v4=hN({}),ade=khe({BigNumber:At,config:pt}),sde=whe({}),ode=Dhe({BigNumber:At,config:pt}),lde=uK({}),MI=ZC({}),ude=Ihe({BigNumber:At,config:pt}),cde=w1e({BigNumber:At,config:pt}),kI=Nhe({BigNumber:At,config:pt}),hde=bhe({}),pde=zhe({}),Yr=EN({Matrix:v4}),dde=h1e({BigNumber:At,config:pt}),mde=Ahe({BigNumber:At,config:pt}),E6=Che({BigNumber:At,config:pt}),CI=vhe({}),fde=The({BigNumber:At,config:pt}),Ce=GC({BigNumber:At,Complex:on,DenseMatrix:Yr,Fraction:Gh}),gde=c1e({BigNumber:At,config:pt}),_n=tD({typed:Ce}),vde=zre({Complex:on,config:pt,typed:Ce}),yde=Pre({BigNumber:At,typed:Ce}),bde=Ure({BigNumber:At,Complex:on,config:pt,typed:Ce}),Oa=nD({typed:Ce}),xde=mJ({typed:Ce}),wde=Yre({BigNumber:At,Complex:on,config:pt,typed:Ce}),Mde=eie({typed:Ce}),NI=iie({typed:Ce}),kde=oie({Complex:on,config:pt,typed:Ce}),Cde=sX({typed:Ce}),Nde=oJ({typed:Ce}),Sde=cX({typed:Ce}),Dde=AK({typed:Ce}),y4=Xue({typed:Ce}),b4=fX({Complex:on,typed:Ce}),Zh=jD({typed:Ce}),I6=uie({typed:Ce}),Ade=die({BigNumber:At,typed:Ce}),$de=vie({BigNumber:At,typed:Ce}),_de=HX({typed:Ce}),ti=FS({config:pt,typed:Ce}),Ede=$ee({typed:Ce}),SI=YX({typed:Ce}),Ide=XX({Complex:on,typed:Ce}),Tde=rA({typed:Ce}),Hh=OJ({typed:Ce}),Lde=aA({typed:Ce}),Pm=RA({typed:Ce}),T6=oA({typed:Ce}),zde=Gee({format:Pm,typed:Ce}),L6=vJ({typed:Ce}),yo=BN({typed:Ce}),wc=PK({config:pt,typed:Ce}),Wh=VK({config:pt,typed:Ce}),dl=zS({equalScalar:ti,typed:Ce}),Bde=_he({BigNumber:At,config:pt}),Ode=ice({Complex:on,typed:Ce}),Fde=_Q({Complex:on,config:pt,typed:Ce}),z6=IQ({Complex:on,config:pt,typed:Ce}),Yh=hA({typed:Ce}),ta=wD({typed:Ce}),x4=wJ({typed:Ce}),x0=RS({typed:Ce}),Pde=Uee({format:Pm,typed:Ce}),Rde=Ace({config:pt,typed:Ce}),jde=ZA({typed:Ce}),qde=_ce({config:pt,typed:Ce}),B6=bJ({typed:Ce}),Ude=wie({BigNumber:At,typed:Ce}),DI=PQ({BigNumber:At,Fraction:Gh,complex:b4,typed:Ce}),w4=Nie({typed:Ce}),Fa=PS({Matrix:v4,equalScalar:ti,typed:Ce}),Vde=SX({typed:Ce}),Gde=VQ({typed:Ce}),Zde=lX({typed:Ce}),ml=sD({typed:Ce}),Hde=$ie({typed:Ce}),AI=KA({typed:Ce}),O6=YK({typed:Ce}),Wde=Ore({Complex:on,config:pt,typed:Ce}),Yde=Gre({BigNumber:At,typed:Ce}),Kde=Hre({BigNumber:At,Complex:on,config:pt,typed:Ce}),bo=US({BigNumber:At,typed:Ce}),Xde=Jue({typed:Ce}),Qde=hie({typed:Ce}),Jde=bie({BigNumber:At,typed:Ce}),mu=HK({typed:Ce}),eme=Xee({typed:Ce}),Rm=Yb({isInteger:yo,typed:Ce}),Ct=ZS({DenseMatrix:Yr,Matrix:v4,SparseMatrix:Fa,typed:Ce}),tme=xX({isZero:dl,matrix:Ct,typed:Ce}),rme=WJ({BigNumber:At,config:pt,matrix:Ct,typed:Ce}),ime=Ice({config:pt,log2:z6,typed:Ce}),$I=XJ({isInteger:yo,matrix:Ct,typed:Ce}),nme=kie({BigNumber:At,typed:Ce}),ame=Die({typed:Ce}),sme=Ere({SparseMatrix:Fa,typed:Ce}),Zl=qQ({Complex:on,config:pt,typed:Ce}),ome=lee({typed:Ce}),lme=Iie({typed:Ce}),jm=$A({matrix:Ct,typed:Ce}),_I=HQ({BigNumber:At,config:pt,matrix:Ct,typed:Ce}),vs=IA({BigNumber:At,config:pt,matrix:Ct,typed:Ce}),ume=jre({BigNumber:At,Complex:on,config:pt,typed:Ce}),cme=Xre({Complex:on,config:pt,typed:Ce}),hme=jee({format:Pm,typed:Ce}),wi=n6({isInteger:yo,matrix:Ct,typed:Ce}),pme=fie({BigNumber:At,typed:Ce}),F6=fee({conj:Zh,transpose:jm,typed:Ce}),EI=TJ({DenseMatrix:Yr,SparseMatrix:Fa,matrix:Ct,typed:Ce}),dme=JQ({concat:wi,equalScalar:ti,matrix:Ct,multiplyScalar:ta,typed:Ce}),xo=w$({DenseMatrix:Yr,SparseMatrix:Fa,concat:wi,equalScalar:ti,matrix:Ct,typed:Ce}),qm=VS({Fraction:Gh,typed:Ce}),Mc=uA({BigNumber:At,DenseMatrix:Yr,SparseMatrix:Fa,config:pt,matrix:Ct,typed:Ce}),Kh=ES({typed:Ce}),mme=UJ({matrix:Ct,multiplyScalar:ta,typed:Ce}),M4=Jte({DenseMatrix:Yr,SparseMatrix:Fa,concat:wi,config:pt,matrix:Ct,typed:Ce}),fme=Nte({DenseMatrix:Yr,concat:wi,equalScalar:ti,matrix:Ct,typed:Ce,zeros:vs}),gme=Bee({isNaN:mu,isNumeric:Kh,typed:Ce}),vme=OQ({BigNumber:At,concat:wi,equalScalar:ti,matrix:Ct,typed:Ce}),fl=QA({bignumber:bo,fraction:qm,number:x0}),II=Fee({config:pt,multiplyScalar:ta,numeric:fl,typed:Ce}),yme=eee({config:pt,matrix:Ct}),bme=Dte({DenseMatrix:Yr,concat:wi,equalScalar:ti,matrix:Ct,typed:Ce,zeros:vs}),Js=n$({BigNumber:At,DenseMatrix:Yr,config:pt,equalScalar:ti,matrix:Ct,typed:Ce,zeros:vs}),Pa=CA({matrix:Ct,config:pt,typed:Ce}),eo=k$({DenseMatrix:Yr,SparseMatrix:Fa,bignumber:bo,concat:wi,config:pt,matrix:Ct,typed:Ce}),xme=Wee({concat:wi,matrix:Ct,typed:Ce}),w0=QS({typed:Ce}),wme=nre({DenseMatrix:Yr,SparseMatrix:Fa,concat:wi,config:pt,equalScalar:ti,matrix:Ct,typed:Ce}),Mme=NJ({DenseMatrix:Yr,SparseMatrix:Fa,concat:wi,matrix:Ct,typed:Ce}),fi=y_({DenseMatrix:Yr,SparseMatrix:Fa,addScalar:Oa,concat:wi,equalScalar:ti,matrix:Ct,typed:Ce}),kme=aie({BigNumber:At,DenseMatrix:Yr,concat:wi,equalScalar:ti,matrix:Ct,typed:Ce}),Cme=LD({concat:wi,equalScalar:ti,matrix:Ct,typed:Ce}),Nme=OD({DenseMatrix:Yr,concat:wi,equalScalar:ti,matrix:Ct,typed:Ce}),Sme=pJ({DenseMatrix:Yr,SparseMatrix:Fa,concat:wi,matrix:Ct,typed:Ce}),TI=BX({BigNumber:At,Complex:on,Fraction:Gh,config:pt,isNegative:wc,matrix:Ct,typed:Ce,unaryMinus:w0}),Xh=Ite({BigNumber:At,DenseMatrix:Yr,Fraction:Gh,concat:wi,config:pt,equalScalar:ti,matrix:Ct,typed:Ce}),LI=Pte({concat:wi,matrix:Ct,typed:Ce}),Dme=$J({prod:II,size:Pa,typed:Ce}),Um=rre({equal:xo,typed:Ce}),Ln=e$({numeric:fl,typed:Ce}),Vm=dte({DenseMatrix:Yr,SparseMatrix:Fa,concat:wi,divideScalar:Ln,equalScalar:ti,matrix:Ct,typed:Ce}),Ame=Ute({compareText:LI,isZero:dl,typed:Ce}),zI=Jb({DenseMatrix:Yr,config:pt,equalScalar:ti,matrix:Ct,round:Js,typed:Ce,zeros:vs}),Qh=kQ({BigNumber:At,DenseMatrix:Yr,concat:wi,config:pt,equalScalar:ti,matrix:Ct,round:Js,typed:Ce,zeros:vs}),$me=qK({isNumeric:Kh,typed:Ce}),_me=tne({abs:_n,addScalar:Oa,divideScalar:Ln,isPositive:Wh,multiplyScalar:ta,smaller:eo,sqrt:Zl,typed:Ce}),BI=E$({DenseMatrix:Yr,smaller:eo}),Ts=I$({ImmutableDenseMatrix:BI,getMatrixDataType:T6}),to=Kte({DenseMatrix:Yr,SparseMatrix:Fa,bignumber:bo,concat:wi,config:pt,matrix:Ct,typed:Ce}),P6=ate({Complex:on,config:pt,divideScalar:Ln,typeOf:O6,typed:Ce}),OI=fte({DenseMatrix:Yr,divideScalar:Ln,equalScalar:ti,matrix:Ct,multiplyScalar:ta,subtractScalar:ml,typed:Ce}),R6=CX({flatten:Hh,matrix:Ct,size:Pa,typed:Ce}),Jh=A$({config:pt,isNaN:mu,larger:to,numeric:fl,typed:Ce}),j6=_$({config:pt,isNaN:mu,numeric:fl,smaller:eo,typed:Ce}),FI=fD({DenseMatrix:Yr,concat:wi,config:pt,equalScalar:ti,matrix:Ct,round:Js,typed:Ce,zeros:vs}),Eme=ute({Complex:on,config:pt,divideScalar:Ln,typed:Ce}),Ime=ZD({deepEqual:Um,flatten:Hh,matrix:Ct,size:Pa,typed:Ce}),Tme=WD({DenseMatrix:Yr,concat:wi,equalScalar:ti,matrix:Ct,typed:Ce}),k4=ore({compare:Xh,isNaN:mu,isNumeric:Kh,typed:Ce}),q6=Wne({addScalar:Oa,complex:b4,conj:Zh,divideScalar:Ln,equal:xo,identity:Mc,isZero:dl,matrix:Ct,multiplyScalar:ta,sign:DI,sqrt:Zl,subtractScalar:ml,typed:Ce,unaryMinus:w0,zeros:vs}),Lme=$te({DenseMatrix:Yr,concat:wi,equalScalar:ti,matrix:Ct,typed:Ce,zeros:vs}),Ep=Hte({DenseMatrix:Yr,SparseMatrix:Fa,concat:wi,config:pt,matrix:Ct,typed:Ce}),Fo=l6({add:fi,matrix:Ct,typed:Ce,zeros:vs}),ha=AD({DenseMatrix:Yr,concat:wi,equalScalar:ti,matrix:Ct,subtractScalar:ml,typed:Ce,unaryMinus:w0}),zme=one({add:fi,matrix:Ct,typed:Ce}),U6=vte({DenseMatrix:Yr,divideScalar:Ln,equalScalar:ti,matrix:Ct,multiplyScalar:ta,subtractScalar:ml,typed:Ce}),Bme=Fce({addScalar:Oa,combinations:y4,divideScalar:Ln,isInteger:yo,isNegative:wc,multiplyScalar:ta,typed:Ce}),M0=Bte({compare:Xh,typed:Ce}),Ome=Rce({addScalar:Oa,combinations:y4,isInteger:yo,isNegative:wc,isPositive:Wh,larger:to,typed:Ce}),Fme=dA({matrix:Ct,number:x0,subtract:ha,typed:Ce}),Pme=Lue({abs:_n,addScalar:Oa,deepEqual:Um,divideScalar:Ln,multiplyScalar:ta,sqrt:Zl,subtractScalar:ml,typed:Ce}),Gm=M_({addScalar:Oa,conj:Zh,multiplyScalar:ta,size:Pa,typed:Ce}),PI=yre({larger:to,smaller:eo}),RI=C_({Index:Ts,typed:Ce}),Rme=YQ({BigNumber:At,add:fi,config:pt,equal:xo,isInteger:yo,mod:FI,smaller:eo,typed:Ce,xgcd:_I}),Ip=DQ({concat:wi,equalScalar:ti,matrix:Ct,typed:Ce}),jme=ote({Complex:on,config:pt,divideScalar:Ln,log:P6,typed:Ce}),qme=bte({DenseMatrix:Yr,divideScalar:Ln,equalScalar:ti,matrix:Ct,multiplyScalar:ta,subtractScalar:ml,typed:Ce}),Ume=MX({flatten:Hh,matrix:Ct,size:Pa,typed:Ce}),$i=kD({addScalar:Oa,dot:Gm,equalScalar:ti,matrix:Ct,multiplyScalar:ta,typed:Ce}),Tp=vA({bignumber:bo,matrix:Ct,add:fi,config:pt,equal:xo,isPositive:Wh,isZero:dl,larger:to,largerEq:M4,smaller:eo,smallerEq:Ep,typed:Ce}),Vme=MA({Index:Ts,matrix:Ct,range:Tp,typed:Ce}),Gme=Lie({DenseMatrix:Yr,Index:Ts,compareNatural:M0,size:Pa,subset:Fo,typed:Ce}),Zme=Fie({DenseMatrix:Yr,Index:Ts,compareNatural:M0,size:Pa,subset:Fo,typed:Ce}),Hme=qie({Index:Ts,compareNatural:M0,size:Pa,subset:Fo,typed:Ce}),Wme=Zie({Index:Ts,compareNatural:M0,size:Pa,subset:Fo,typed:Ce}),jI=yae({SparseMatrix:Fa,abs:_n,add:fi,divideScalar:Ln,larger:to,largerEq:M4,multiply:$i,subtract:ha,transpose:jm,typed:Ce}),Yme=ure({compare:Xh,compareNatural:M0,matrix:Ct,typed:Ce}),V6=$X({config:pt,numeric:fl,typed:Ce}),qI=wte({DenseMatrix:Yr,divideScalar:Ln,equalScalar:ti,matrix:Ct,multiplyScalar:ta,subtractScalar:ml,typed:Ce}),Kme=uhe({Complex:on,add:fi,multiply:$i,number:x0,typed:Ce}),Xme=y$({concat:wi,equalScalar:ti,matrix:Ct,not:x4,typed:Ce,zeros:vs}),G6=lD({DenseMatrix:Yr,config:pt,equalScalar:ti,matrix:Ct,round:Js,typed:Ce,zeros:vs}),UI=QD({Index:Ts,matrix:Ct,range:Tp,typed:Ce}),VI=EJ({matrix:Ct,multiply:$i,subtract:ha,typed:Ce}),GI=pE({divideScalar:Ln,isZero:dl,matrix:Ct,multiply:$i,subtractScalar:ml,typed:Ce,unaryMinus:w0}),ZI=pD({Complex:on,DenseMatrix:Yr,ceil:G6,equalScalar:ti,floor:zI,matrix:Ct,typed:Ce,zeros:vs}),e1=mE({abs:_n,addScalar:Oa,det:GI,divideScalar:Ln,identity:Mc,matrix:Ct,multiply:$i,typed:Ce,unaryMinus:w0}),Qme=fue({Complex:on,add:fi,ctranspose:F6,deepEqual:Um,divideScalar:Ln,dot:Gm,dotDivide:Vm,equal:xo,inv:e1,matrix:Ct,multiply:$i,typed:Ce}),Hl=r$({Complex:on,config:pt,fraction:qm,identity:Mc,inv:e1,matrix:Ct,multiply:$i,number:x0,typed:Ce}),HI=Bie({DenseMatrix:Yr,Index:Ts,compareNatural:M0,size:Pa,subset:Fo,typed:Ce}),Jme=Vie({Index:Ts,compareNatural:M0,size:Pa,subset:Fo,typed:Ce}),WI=Kie({Index:Ts,concat:wi,setDifference:HI,size:Pa,subset:Fo,typed:Ce}),YI=wre({FibonacciHeap:PI,addScalar:Oa,equalScalar:ti}),efe=Cue({abs:_n,add:fi,identity:Mc,inv:e1,map:Yh,max:Jh,multiply:$i,size:Pa,sqrt:Zl,subtract:ha,typed:Ce}),Z6=CE({add:fi,config:pt,numeric:fl,typed:Ce}),Ar=z$({BigNumber:At,Complex:on,Fraction:Gh,abs:_n,addScalar:Oa,config:pt,divideScalar:Ln,equal:xo,fix:ZI,format:Pm,isNumeric:Kh,multiplyScalar:ta,number:x0,pow:Hl,round:Js,subtractScalar:ml,toBest:AI}),tfe=qhe({BigNumber:At,Unit:Ar,config:pt}),rfe=C1e({BigNumber:At,Unit:Ar,config:pt}),ife=p1e({BigNumber:At,Unit:Ar,config:pt}),nfe=Zhe({BigNumber:At,Unit:Ar,config:pt}),afe=m1e({BigNumber:At,Unit:Ar,config:pt}),sfe=Hhe({BigNumber:At,Unit:Ar,config:pt}),ofe=Uhe({BigNumber:At,Unit:Ar,config:pt}),lfe=Tre({Unit:Ar,typed:Ce}),ufe=a1e({BigNumber:At,Unit:Ar,config:pt}),cfe=hte({DenseMatrix:Yr,SparseMatrix:Fa,concat:wi,equalScalar:ti,matrix:Ct,pow:Hl,typed:Ce}),hfe=jhe({BigNumber:At,Unit:Ar,config:pt}),pfe=Ghe({BigNumber:At,Unit:Ar,config:pt}),dfe=Mue({abs:_n,add:fi,identity:Mc,inv:e1,multiply:$i,typed:Ce}),mfe=f1e({BigNumber:At,Unit:Ar,config:pt}),KI=yee({addScalar:Oa,ceil:G6,conj:Zh,divideScalar:Ln,dotDivide:Vm,exp:SI,i:wI,log2:z6,matrix:Ct,multiplyScalar:ta,pow:Hl,tau:kI,typed:Ce}),H6=tce({BigNumber:At,Complex:on,config:pt,multiplyScalar:ta,pow:Hl,typed:Ce}),ffe=Ohe({BigNumber:At,Unit:Ar,config:pt}),gfe=i1e({BigNumber:At,Unit:Ar,config:pt}),vfe=xee({conj:Zh,dotDivide:Vm,fft:KI,typed:Ce}),yfe=Whe({BigNumber:At,Unit:Ar,config:pt}),bfe=Xhe({BigNumber:At,Unit:Ar,config:pt}),xfe=v1e({BigNumber:At,Unit:Ar,config:pt}),wfe=Rhe({BigNumber:At,Unit:Ar,config:pt}),Mfe=N1e({BigNumber:At,Unit:Ar,config:pt}),kfe=b1e({BigNumber:At,Unit:Ar,config:pt}),Cfe=s1e({BigNumber:At,Unit:Ar,config:pt}),Nfe=Khe({BigNumber:At,Unit:Ar,config:pt}),Sfe=E1e({BigNumber:At,Unit:Ar,config:pt}),Dfe=A1e({BigNumber:At,Unit:Ar,config:pt}),Afe=I1e({BigNumber:At,Unit:Ar,config:pt}),$fe=n1e({BigNumber:At,Unit:Ar,config:pt}),_fe=o1e({BigNumber:At,Unit:Ar,config:pt}),Efe=Phe({BigNumber:At,Unit:Ar,config:pt}),Ife=l1e({BigNumber:At,Unit:Ar,config:pt}),Tfe=M1e({BigNumber:At,Unit:Ar,config:pt}),Lfe=Wie({compareNatural:M0,typed:Ce}),zfe=Bhe({BigNumber:At,Unit:Ar,config:pt}),Bfe=k1e({BigNumber:At,Unit:Ar,config:pt}),Ofe=u1e({BigNumber:At,Unit:Ar,config:pt}),Ffe=d1e({BigNumber:At,Unit:Ar,config:pt}),Pfe=Qhe({BigNumber:At,Unit:Ar,config:pt}),Rfe=Vhe({BigNumber:At,Unit:Ar,config:pt}),ys=wE({divideScalar:Ln,equalScalar:ti,inv:e1,matrix:Ct,multiply:$i,typed:Ce}),jfe=e1e({BigNumber:At,Unit:Ar,config:pt}),Zm=ace({gamma:H6,typed:Ce}),qfe=g1e({BigNumber:At,Unit:Ar,config:pt}),Ufe=D1e({BigNumber:At,Unit:Ar,config:pt}),Vfe=Oue({abs:_n,add:fi,addScalar:Oa,config:pt,divideScalar:Ln,equalScalar:ti,flatten:Hh,isNumeric:Kh,isZero:dl,matrix:Ct,multiply:$i,multiplyScalar:ta,smaller:eo,subtract:ha,typed:Ce}),XI=Zne({DenseMatrix:Yr,Spa:YI,SparseMatrix:Fa,abs:_n,addScalar:Oa,divideScalar:Ln,equalScalar:ti,larger:to,matrix:Ct,multiplyScalar:ta,subtractScalar:ml,typed:Ce,unaryMinus:w0}),Gfe=Yhe({BigNumber:At,Unit:Ar,config:pt}),Zfe=S1e({BigNumber:At,Unit:Ar,config:pt}),Hfe=uce({add:fi,divide:ys,factorial:Zm,isInteger:yo,isPositive:Wh,multiply:$i,typed:Ce}),Wfe=hce({factorial:Zm,typed:Ce}),Yfe=$1e({BigNumber:At,Unit:Ar,config:pt}),Kfe=Mae({add:fi,cbrt:TI,divide:ys,equalScalar:ti,im:L6,isZero:dl,multiply:$i,re:B6,sqrt:Zl,subtract:ha,typeOf:O6,typed:Ce,unaryMinus:w0}),QI=Rie({DenseMatrix:Yr,Index:Ts,compareNatural:M0,size:Pa,subset:Fo,typed:Ce}),Xfe=See({abs:_n,add:fi,bignumber:bo,divide:ys,isNegative:wc,isPositive:Wh,larger:to,map:Yh,matrix:Ct,max:Jh,multiply:$i,smaller:eo,subtract:ha,typed:Ce,unaryMinus:w0}),JI=Lce({bignumber:bo,addScalar:Oa,combinations:y4,divideScalar:Ln,factorial:Zm,isInteger:yo,isNegative:wc,larger:to,multiplyScalar:ta,number:x0,pow:Hl,subtractScalar:ml,typed:Ce}),Qfe=$re({Unit:Ar,typed:Ce}),Jfe=Bce({addScalar:Oa,isInteger:yo,isNegative:wc,stirlingS2:JI,typed:Ce}),e2e=NE({add:fi,typed:Ce,unaryPlus:V6}),eT=xue({abs:_n,add:fi,addScalar:Oa,atan:NI,bignumber:bo,column:UI,complex:b4,config:pt,cos:I6,diag:EI,divideScalar:Ln,dot:Gm,equal:xo,flatten:Hh,im:L6,inv:e1,larger:to,matrix:Ct,matrixFromColumns:R6,multiply:$i,multiplyScalar:ta,number:x0,qr:q6,re:B6,reshape:$I,sin:w4,size:Pa,smaller:eo,sqrt:Zl,subtract:ha,typed:Ce,usolve:U6,usolveAll:qI}),t2e=t1e({BigNumber:At,Unit:Ar,config:pt}),r2e=y1e({BigNumber:At,Unit:Ar,config:pt}),i2e=oce({divide:ys,dotDivide:Vm,isNumeric:Kh,log:P6,map:Yh,matrix:Ct,multiply:$i,sum:Z6,typed:Ce}),tT=xae({DenseMatrix:Yr,lsolve:OI,lup:XI,matrix:Ct,slu:jI,typed:Ce,usolve:U6}),rT=DE({add:fi,divide:ys,typed:Ce}),n2e=x1e({BigNumber:At,Unit:Ar,config:pt}),a2e=Fhe({BigNumber:At,Unit:Ar,config:pt}),s2e=TE({bignumber:bo,add:fi,compare:Xh,divide:ys,isInteger:yo,larger:to,mapSlices:Rm,multiply:$i,partitionSelect:k4,smaller:eo,smallerEq:Ep,subtract:ha,typed:Ce}),o2e=Qie({Index:Ts,concat:wi,setIntersect:QI,setSymDifference:WI,size:Pa,subset:Fo,typed:Ce}),W6=EE({add:fi,divide:ys,isNaN:mu,mapSlices:Rm,multiply:$i,subtract:ha,typed:Ce}),l2e=Jhe({BigNumber:At,Unit:Ar,config:pt}),iT=que({add:fi,compare:Xh,divide:ys,partitionSelect:k4,typed:Ce}),u2e=Yue({add:fi,divide:ys,matrix:Ct,mean:rT,multiply:$i,pow:Hl,sqrt:Zl,subtract:ha,sum:Z6,typed:Ce}),c2e=hhe({Complex:on,add:fi,divide:ys,matrix:Ct,multiply:$i,typed:Ce}),h2e=Vue({abs:_n,map:Yh,median:iT,subtract:ha,typed:Ce}),p2e=zE({map:Yh,sqrt:Zl,typed:Ce,variance:W6}),d2e=Lee({BigNumber:At,Complex:on,add:fi,config:pt,divide:ys,equal:xo,factorial:Zm,gamma:H6,isNegative:wc,multiply:$i,pi:E6,pow:Hl,sin:w4,smallerEq:Ep,subtract:ha,typed:Ce}),C4=ine({abs:_n,add:fi,conj:Zh,ctranspose:F6,eigs:eT,equalScalar:ti,larger:to,matrix:Ct,multiply:$i,pow:Hl,smaller:eo,sqrt:Zl,typed:Ce}),nT=nee({BigNumber:At,DenseMatrix:Yr,SparseMatrix:Fa,addScalar:Oa,config:pt,cos:I6,matrix:Ct,multiplyScalar:ta,norm:C4,sin:w4,typed:Ce,unaryMinus:w0}),m2e=_1e({BigNumber:At,Unit:Ar,config:pt}),aT=Aue({identity:Mc,matrix:Ct,multiply:$i,norm:C4,qr:q6,subtract:ha,typed:Ce}),f2e=ree({multiply:$i,rotationMatrix:nT,typed:Ce}),sT=Sue({abs:_n,add:fi,concat:wi,identity:Mc,index:RI,lusolve:tT,matrix:Ct,matrixFromColumns:R6,multiply:$i,range:Tp,schur:aT,subset:Fo,subtract:ha,transpose:jm,typed:Ce}),g2e=_ue({matrix:Ct,multiply:$i,sylvester:sT,transpose:jm,typed:Ce}),Lp={},Hm={},oT={},Ls=S_({mathWithTransform:Hm}),zp=P_({Node:Ls}),fu=R_({Node:Ls}),t1=j_({Node:Ls}),lT=U_({Node:Ls}),Bp=$_({Node:Ls}),uT=E_({Node:Ls,ResultSet:MI}),cT=I_({Node:Ls}),kc=B_({Node:Ls}),hT=q_({Node:Ls}),v2e=mhe({classes:oT}),Y6=Aae({math:Lp,typed:Ce}),pT=O_({Node:Ls,typed:Ce}),y2e=hue({Chain:Y6,typed:Ce}),Op=A_({Node:Ls,subset:Fo}),dT=__({matrix:Ct,Node:Ls,subset:Fo}),Fp=F_({Node:Ls,size:Pa}),Cc=V_({Unit:Ar,Node:Ls,math:Lp}),Nc=G_({Node:Ls,SymbolNode:Cc,math:Lp}),Wl=H_({AccessorNode:Op,ArrayNode:Bp,AssignmentNode:dT,BlockNode:uT,ConditionalNode:cT,ConstantNode:kc,FunctionAssignmentNode:pT,FunctionNode:Nc,IndexNode:Fp,ObjectNode:zp,OperatorNode:fu,ParenthesisNode:t1,RangeNode:hT,RelationalNode:lT,SymbolNode:Cc,config:pt,numeric:fl,typed:Ce}),mT=the({ConstantNode:kc,FunctionNode:Nc,OperatorNode:fu,ParenthesisNode:t1,parse:Wl,typed:Ce}),K6=Kce({bignumber:bo,fraction:qm,AccessorNode:Op,ArrayNode:Bp,ConstantNode:kc,FunctionNode:Nc,IndexNode:Fp,ObjectNode:zp,OperatorNode:fu,SymbolNode:Cc,config:pt,mathWithTransform:Hm,matrix:Ct,typed:Ce}),b2e=One({parse:Wl,typed:Ce}),X6=Qce({AccessorNode:Op,ArrayNode:Bp,ConstantNode:kc,FunctionNode:Nc,IndexNode:Fp,ObjectNode:zp,OperatorNode:fu,ParenthesisNode:t1,SymbolNode:Cc,add:fi,divide:ys,equal:xo,isZero:dl,multiply:$i,parse:Wl,pow:Hl,subtract:ha,typed:Ce}),Q6=K_({parse:Wl,typed:Ce}),fT=Nae({evaluate:Q6}),gT=jne({evaluate:Q6,parse:Wl}),N4=Hce({AccessorNode:Op,ArrayNode:Bp,ConstantNode:kc,FunctionNode:Nc,IndexNode:Fp,ObjectNode:zp,OperatorNode:fu,ParenthesisNode:t1,SymbolNode:Cc,equal:xo,parse:Wl,replacer:CI,resolve:mT,simplifyConstant:K6,simplifyCore:X6,typed:Ce}),x2e=ihe({OperatorNode:fu,parse:Wl,simplify:N4,typed:Ce}),w2e=qce({parse:Wl,typed:Ce}),M2e=Vne({Parser:gT,typed:Ce}),k2e=ohe({bignumber:bo,fraction:qm,AccessorNode:Op,ArrayNode:Bp,ConstantNode:kc,FunctionNode:Nc,IndexNode:Fp,ObjectNode:zp,OperatorNode:fu,ParenthesisNode:t1,SymbolNode:Cc,add:fi,config:pt,divide:ys,equal:xo,isZero:dl,mathWithTransform:Hm,matrix:Ct,multiply:$i,parse:Wl,pow:Hl,simplify:N4,simplifyConstant:K6,simplifyCore:X6,subtract:ha,typed:Ce}),C2e=ahe({ConstantNode:kc,FunctionNode:Nc,OperatorNode:fu,ParenthesisNode:t1,SymbolNode:Cc,config:pt,equal:xo,isZero:dl,numeric:fl,parse:Wl,simplify:N4,typed:Ce}),N2e=uue({Help:fT,mathWithTransform:Hm,typed:Ce});Sa(Lp,{e:xI,false:ede,fineStructure:tde,i:wI,Infinity:rde,LN10:ide,LOG10E:nde,NaN:ade,null:sde,phi:ode,SQRT1_2:ude,sackurTetrode:cde,tau:kI,true:hde,E:xI,version:pde,efimovFactor:dde,LN2:mde,pi:E6,replacer:CI,reviver:v2e,SQRT2:fde,typed:Ce,PI:E6,weakMixingAngle:gde,abs:_n,acos:vde,acot:yde,acsc:bde,addScalar:Oa,arg:xde,asech:wde,asinh:Mde,atan:NI,atanh:kde,bigint:Cde,bitNot:Nde,boolean:Sde,clone:Dde,combinations:y4,complex:b4,conj:Zh,cos:I6,cot:Ade,csc:$de,cube:_de,equalScalar:ti,erf:Ede,exp:SI,expm1:Ide,filter:Tde,flatten:Hh,forEach:Lde,format:Pm,getMatrixDataType:T6,hex:zde,im:L6,isInteger:yo,isNegative:wc,isPositive:Wh,isZero:dl,LOG2E:Bde,lgamma:Ode,log10:Fde,log2:z6,map:Yh,multiplyScalar:ta,not:x4,number:x0,oct:Pde,pickRandom:Rde,print:jde,random:qde,re:B6,sec:Ude,sign:DI,sin:w4,splitUnit:Vde,square:Gde,string:Zde,subtractScalar:ml,tan:Hde,toBest:AI,typeOf:O6,acosh:Wde,acsch:Yde,asec:Kde,bignumber:bo,chain:y2e,combinationsWithRep:Xde,cosh:Qde,csch:Jde,isNaN:mu,isPrime:eme,mapSlices:Rm,matrix:Ct,matrixFromFunction:tme,ones:rme,randomInt:ime,reshape:$I,sech:nme,sinh:ame,sparse:sme,sqrt:Zl,squeeze:ome,tanh:lme,transpose:jm,xgcd:_I,zeros:vs,acoth:ume,asin:cme,bin:hme,concat:wi,coth:pme,ctranspose:F6,diag:EI,dotMultiply:dme,equal:xo,fraction:qm,identity:Mc,isNumeric:Kh,kron:mme,largerEq:M4,leftShift:fme,mode:gme,nthRoot:vme,numeric:fl,prod:II,resize:yme,rightArithShift:bme,round:Js,size:Pa,smaller:eo,to:xme,unaryMinus:w0,unequal:wme,xor:Mme,add:fi,atan2:kme,bitAnd:Cme,bitOr:Nme,bitXor:Sme,cbrt:TI,compare:Xh,compareText:LI,count:Dme,deepEqual:Um,divideScalar:Ln,dotDivide:Vm,equalText:Ame,floor:zI,gcd:Qh,hasNumericValue:$me,hypot:_me,larger:to,log:P6,lsolve:OI,matrixFromColumns:R6,max:Jh,min:j6,mod:FI,nthRoots:Eme,nullish:Ime,or:Tme,partitionSelect:k4,qr:q6,rightLogShift:Lme,smallerEq:Ep,subset:Fo,subtract:ha,trace:zme,usolve:U6,catalan:Bme,compareNatural:M0,composition:Ome,diff:Fme,distance:Pme,dot:Gm,index:RI,invmod:Rme,lcm:Ip,log1p:jme,lsolveAll:qme,matrixFromRows:Ume,multiply:$i,range:Tp,row:Vme,setCartesian:Gme,setDistinct:Zme,setIsSubset:Hme,setPowerset:Wme,slu:jI,sort:Yme,unaryPlus:V6,usolveAll:qI,zpk2tf:Kme,and:Xme,ceil:G6,column:UI,cross:VI,det:GI,fix:ZI,inv:e1,pinv:Qme,pow:Hl,setDifference:HI,setMultiplicity:Jme,setSymDifference:WI,sqrtm:efe,sum:Z6,vacuumImpedance:tfe,wienDisplacement:rfe,atomicMass:ife,bohrMagneton:nfe,boltzmann:afe,conductanceQuantum:sfe,coulomb:ofe,createUnit:lfe,deuteronMass:ufe,dotPow:cfe,electricConstant:hfe,elementaryCharge:pfe,expm:dfe,faraday:mfe,fft:KI,gamma:H6,gravitationConstant:ffe,hartreeEnergy:gfe,ifft:vfe,inverseConductanceQuantum:yfe,klitzing:bfe,loschmidt:xfe,magneticConstant:wfe,molarMass:Mfe,molarPlanckConstant:kfe,neutronMass:Cfe,nuclearMagneton:Nfe,planckCharge:Sfe,planckLength:Dfe,planckTemperature:Afe,protonMass:$fe,quantumOfCirculation:_fe,reducedPlanckConstant:Efe,rydberg:Ife,secondRadiation:Tfe,setSize:Lfe,speedOfLight:zfe,stefanBoltzmann:Bfe,thomsonCrossSection:Ofe,avogadro:Ffe,bohrRadius:Pfe,coulombConstant:Rfe,divide:ys,electronMass:jfe,factorial:Zm,firstRadiation:qfe,gravity:Ufe,intersect:Vfe,lup:XI,magneticFluxQuantum:Gfe,molarMassC12:Zfe,multinomial:Hfe,parse:Wl,permutations:Wfe,planckMass:Yfe,polynomialRoot:Kfe,resolve:mT,setIntersect:QI,simplifyConstant:K6,solveODE:Xfe,stirlingS2:JI,unit:Qfe,bellNumbers:Jfe,compile:b2e,cumsum:e2e,eigs:eT,fermiCoupling:t2e,gasConstant:r2e,kldivergence:i2e,lusolve:tT,mean:rT,molarVolume:n2e,planckConstant:a2e,quantileSeq:s2e,setUnion:o2e,simplifyCore:X6,variance:W6,classicalElectronRadius:l2e,evaluate:Q6,median:iT,simplify:N4,symbolicEqual:x2e,corr:u2e,freqz:c2e,leafCount:w2e,mad:h2e,parser:M2e,rationalize:k2e,std:p2e,zeta:d2e,derivative:C2e,norm:C4,rotationMatrix:nT,help:N2e,planckTime:m2e,schur:aT,rotate:f2e,sylvester:sT,lyap:g2e,config:pt}),Sa(Hm,Lp,{mapSlices:B1e({isInteger:yo,typed:Ce}),filter:V1e({typed:Ce}),forEach:H1e({typed:Ce}),map:J1e({typed:Ce}),or:Vpe({DenseMatrix:Yr,concat:wi,equalScalar:ti,matrix:Ct,typed:Ce}),and:jpe({add:fi,concat:wi,equalScalar:ti,matrix:Ct,not:x4,typed:Ce,zeros:vs}),concat:Mpe({isInteger:yo,matrix:Ct,typed:Ce}),index:K1e({Index:Ts,getMatrixDataType:T6}),print:Fpe({add:fi,matrix:Ct,typed:Ce,zeros:vs}),sum:$pe({add:fi,config:pt,numeric:fl,typed:Ce}),bitAnd:Kpe({add:fi,concat:wi,equalScalar:ti,matrix:Ct,not:x4,typed:Ce,zeros:vs}),min:cpe({config:pt,isNaN:mu,numeric:fl,smaller:eo,typed:Ce}),nullish:Hpe({deepEqual:Um,flatten:Hh,matrix:Ct,size:Pa,typed:Ce}),subset:bpe({add:fi,matrix:Ct,typed:Ce,zeros:vs}),bitOr:Jpe({DenseMatrix:Yr,concat:wi,equalScalar:ti,matrix:Ct,typed:Ce}),cumsum:Lpe({add:fi,typed:Ce,unaryPlus:V6}),diff:Cpe({bignumber:bo,matrix:Ct,number:x0,subtract:ha,typed:Ce}),max:npe({config:pt,isNaN:mu,larger:to,numeric:fl,typed:Ce}),range:dpe({bignumber:bo,matrix:Ct,add:fi,config:pt,equal:xo,isPositive:Wh,isZero:dl,larger:to,largerEq:M4,smaller:eo,smallerEq:Ep,typed:Ce}),row:gpe({Index:Ts,matrix:Ct,range:Tp,typed:Ce}),column:P1e({Index:Ts,matrix:Ct,range:Tp,typed:Ce}),mean:ope({add:fi,divide:ys,typed:Ce}),quantileSeq:Ipe({add:fi,bignumber:bo,compare:Xh,divide:ys,isInteger:yo,larger:to,mapSlices:Rm,multiply:$i,partitionSelect:k4,smaller:eo,smallerEq:Ep,subtract:ha,typed:Ce}),variance:Bpe({add:fi,divide:ys,isNaN:mu,mapSlices:Rm,multiply:$i,subtract:ha,typed:Ce}),std:Dpe({map:Yh,sqrt:Zl,typed:Ce,variance:W6})}),Sa(oT,{BigNumber:At,Complex:on,Fraction:Gh,Matrix:v4,Node:Ls,ObjectNode:zp,OperatorNode:fu,ParenthesisNode:t1,Range:lde,RelationalNode:lT,ResultSet:MI,ArrayNode:Bp,BlockNode:uT,ConditionalNode:cT,ConstantNode:kc,DenseMatrix:Yr,RangeNode:hT,Chain:Y6,FunctionAssignmentNode:pT,SparseMatrix:Fa,ImmutableDenseMatrix:BI,Index:Ts,AccessorNode:Op,AssignmentNode:dT,FibonacciHeap:PI,IndexNode:Fp,Spa:YI,Unit:Ar,SymbolNode:Cc,FunctionNode:Nc,Help:fT,Parser:gT}),Y6.createProxy(Lp);var Pp={createBigNumberClass:oN},S4={createComplexClass:lN},J6={createMatrixClass:hN},gl={MatrixDependencies:J6,createDenseMatrixClass:EN},ex={createFractionClass:cN},Xr={BigNumberDependencies:Pp,ComplexDependencies:S4,DenseMatrixDependencies:gl,FractionDependencies:ex,createTyped:GC},vT={typedDependencies:Xr,createAbs:tD},ro={createNode:S_},Yl={typedDependencies:Xr,createEqualScalar:FS},Wm={MatrixDependencies:J6,equalScalarDependencies:Yl,typedDependencies:Xr,createSparseMatrixClass:PS},Ym={typedDependencies:Xr,createAddScalar:nD},S2e={typedDependencies:Xr,createIsInteger:BN},pa={DenseMatrixDependencies:gl,MatrixDependencies:J6,SparseMatrixDependencies:Wm,typedDependencies:Xr,createMatrix:ZS},D4={isIntegerDependencies:S2e,matrixDependencies:pa,typedDependencies:Xr,createConcat:n6},tx={DenseMatrixDependencies:gl,SparseMatrixDependencies:Wm,addScalarDependencies:Ym,concatDependencies:D4,equalScalarDependencies:Yl,matrixDependencies:pa,typedDependencies:Xr,createAdd:y_},Rp={BigNumberDependencies:Pp,matrixDependencies:pa,typedDependencies:Xr,createZeros:IA},rx={addDependencies:tx,matrixDependencies:pa,typedDependencies:Xr,zerosDependencies:Rp,createSubset:l6},D2e={NodeDependencies:ro,subsetDependencies:rx,createAccessorNode:A_},A2e={NodeDependencies:ro,createArrayNode:$_},$2e={matrixDependencies:pa,NodeDependencies:ro,subsetDependencies:rx,createAssignmentNode:__},yT={BigNumberDependencies:Pp,typedDependencies:Xr,createBignumber:US},ix={FractionDependencies:ex,typedDependencies:Xr,createFraction:VS},nx={typedDependencies:Xr,createNumber:RS},bT={bignumberDependencies:yT,fractionDependencies:ix,numberDependencies:nx,createNumeric:QA},A4={numericDependencies:bT,typedDependencies:Xr,createDivideScalar:e$},_2e={DenseMatrixDependencies:gl,SparseMatrixDependencies:Wm,concatDependencies:D4,equalScalarDependencies:Yl,matrixDependencies:pa,typedDependencies:Xr,createEqual:w$},ax={BigNumberDependencies:Pp,DenseMatrixDependencies:gl,equalScalarDependencies:Yl,matrixDependencies:pa,typedDependencies:Xr,zerosDependencies:Rp,createRound:n$},E2e={DenseMatrixDependencies:gl,equalScalarDependencies:Yl,matrixDependencies:pa,roundDependencies:ax,typedDependencies:Xr,zerosDependencies:Rp,createCeil:lD},I2e={DenseMatrixDependencies:gl,equalScalarDependencies:Yl,matrixDependencies:pa,roundDependencies:ax,typedDependencies:Xr,zerosDependencies:Rp,createFloor:Jb},T2e={ComplexDependencies:S4,DenseMatrixDependencies:gl,ceilDependencies:E2e,equalScalarDependencies:Yl,floorDependencies:I2e,matrixDependencies:pa,typedDependencies:Xr,zerosDependencies:Rp,createFix:pD},L2e={typedDependencies:Xr,createFormat:RA},z2e={typedDependencies:Xr,createIsNumeric:ES},sx={typedDependencies:Xr,createMultiplyScalar:wD},xT={BigNumberDependencies:Pp,DenseMatrixDependencies:gl,SparseMatrixDependencies:Wm,matrixDependencies:pa,typedDependencies:Xr,createIdentity:uA},B2e={equalScalarDependencies:Yl,typedDependencies:Xr,createIsZero:zS},O2e={typedDependencies:Xr,createConj:jD},wT={matrixDependencies:pa,typedDependencies:Xr,createSize:CA},F2e={addScalarDependencies:Ym,conjDependencies:O2e,multiplyScalarDependencies:sx,sizeDependencies:wT,typedDependencies:Xr,createDot:M_},jp={addScalarDependencies:Ym,dotDependencies:F2e,equalScalarDependencies:Yl,matrixDependencies:pa,multiplyScalarDependencies:sx,typedDependencies:Xr,createMultiply:kD},ox={typedDependencies:Xr,createSubtractScalar:sD},$4={typedDependencies:Xr,createUnaryMinus:QS},MT={divideScalarDependencies:A4,isZeroDependencies:B2e,matrixDependencies:pa,multiplyDependencies:jp,subtractScalarDependencies:ox,typedDependencies:Xr,unaryMinusDependencies:$4,createDet:pE},lx={absDependencies:vT,addScalarDependencies:Ym,detDependencies:MT,divideScalarDependencies:A4,identityDependencies:xT,matrixDependencies:pa,multiplyDependencies:jp,typedDependencies:Xr,unaryMinusDependencies:$4,createInv:mE},kT={ComplexDependencies:S4,fractionDependencies:ix,identityDependencies:xT,invDependencies:lx,matrixDependencies:pa,multiplyDependencies:jp,numberDependencies:nx,typedDependencies:Xr,createPow:r$},P2e={typedDependencies:Xr,createToBest:KA},R2e={BigNumberDependencies:Pp,ComplexDependencies:S4,FractionDependencies:ex,absDependencies:vT,addScalarDependencies:Ym,divideScalarDependencies:A4,equalDependencies:_2e,fixDependencies:T2e,formatDependencies:L2e,isNumericDependencies:z2e,multiplyScalarDependencies:sx,numberDependencies:nx,powDependencies:kT,roundDependencies:ax,subtractScalarDependencies:ox,toBestDependencies:P2e,createUnitClass:z$},j2e={createResultSet:ZC},q2e={NodeDependencies:ro,ResultSetDependencies:j2e,createBlockNode:E_},U2e={DenseMatrixDependencies:gl,SparseMatrixDependencies:Wm,bignumberDependencies:yT,concatDependencies:D4,matrixDependencies:pa,typedDependencies:Xr,createSmaller:k$},V2e={DenseMatrixDependencies:gl,smallerDependencies:U2e,createImmutableDenseMatrixClass:E$},G2e={typedDependencies:Xr,createGetMatrixDataType:oA},Z2e={ImmutableDenseMatrixDependencies:V2e,getMatrixDataTypeDependencies:G2e,createIndexClass:I$},H2e={NodeDependencies:ro,createConditionalNode:I_},W2e={NodeDependencies:ro,createConstantNode:B_},Y2e={NodeDependencies:ro,typedDependencies:Xr,createFunctionAssignmentNode:O_},CT={UnitDependencies:R2e,NodeDependencies:ro,createSymbolNode:V_},K2e={NodeDependencies:ro,SymbolNodeDependencies:CT,createFunctionNode:G_},X2e={NodeDependencies:ro,sizeDependencies:wT,createIndexNode:F_},Q2e={NodeDependencies:ro,createObjectNode:P_},J2e={NodeDependencies:ro,createOperatorNode:R_},ege={NodeDependencies:ro,createParenthesisNode:j_},tge={NodeDependencies:ro,createRangeNode:q_},rge={NodeDependencies:ro,createRelationalNode:U_},ux={AccessorNodeDependencies:D2e,ArrayNodeDependencies:A2e,AssignmentNodeDependencies:$2e,BlockNodeDependencies:q2e,ConditionalNodeDependencies:H2e,ConstantNodeDependencies:W2e,FunctionAssignmentNodeDependencies:Y2e,FunctionNodeDependencies:K2e,IndexNodeDependencies:X2e,ObjectNodeDependencies:Q2e,OperatorNodeDependencies:J2e,ParenthesisNodeDependencies:ege,RangeNodeDependencies:tge,RelationalNodeDependencies:rge,SymbolNodeDependencies:CT,numericDependencies:bT,typedDependencies:Xr,createParse:H_},NT={divideScalarDependencies:A4,equalScalarDependencies:Yl,invDependencies:lx,matrixDependencies:pa,multiplyDependencies:jp,typedDependencies:Xr,createDivide:wE},ige={DenseMatrixDependencies:gl,concatDependencies:D4,equalScalarDependencies:Yl,matrixDependencies:pa,subtractScalarDependencies:ox,typedDependencies:Xr,unaryMinusDependencies:$4,createSubtract:AD},nge={matrixDependencies:pa,typedDependencies:Xr,createTranspose:$A},age={parseDependencies:ux,typedDependencies:Xr,createEvaluate:K_},sge={IndexDependencies:Z2e,typedDependencies:Xr,createIndex:C_},cx={exports:{}};function hx(){}hx.prototype={on:function(t,e,r){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var i=this;function n(){i.off(t,n),e.apply(r,arguments)}return n._=e,this.on(t,n,r)},emit:function(t){var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),i=0,n=r.length;for(i;i<n;i++)r[i].fn.apply(r[i].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),i=r[t],n=[];if(i&&e)for(var a=0,s=i.length;a<s;a++)i[a].fn!==e&&i[a].fn._!==e&&n.push(i[a]);return n.length?r[t]=n:delete r[t],this}},cx.exports=hx,cx.exports.TinyEmitter=hx;var oge=cx.exports;const lge=Eh(oge);function uge(t){var e=new lge;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}function cge(t,e,r,i){function n(y,x){var g=arguments.length;if(g!==1&&g!==2)throw new pu("import",g,1,2);x||(x={});function b(A,$,D){if(Array.isArray($))$.forEach(z=>b(A,z));else if(Lh($)||h($))for(var _ in $)Vt($,_)&&b(A,$[_],_);else if(Dm($)||D!==void 0){var T=Dm($)?f($)?$.fn+".transform":$.fn:D;if(Vt(A,T)&&A[T]!==$&&!x.silent)throw new Error('Cannot import "'+T+'" twice');A[T]=$}else if(!x.silent)throw new TypeError("Factory, Object, or Array expected")}var k={};b(k,y);for(var w in k)if(Vt(k,w)){var N=k[w];if(Dm(N))u(N,x);else if(c(N))a(w,N,x);else if(!x.silent)throw new TypeError("Factory, Object, or Array expected")}}function a(y,x,g){var b;if(g.wrap&&typeof x=="function"&&(x=l(x)),p(x)&&(x=t(y,{[x.signature]:x})),t.isTypedFunction(r[y])&&t.isTypedFunction(x)){g.override?x=t(y,x.signatures):x=t(r[y],x),r[y]=x,delete i[y],s(y,x),r.emit("import",y,function(){return x});return}var k=r[y]!==void 0,w=(b=r.Unit)===null||b===void 0?void 0:b.isValuelessUnit(y);if(!k&&!w||g.override){r[y]=x,delete i[y],s(y,x),r.emit("import",y,function(){return x});return}if(!g.silent)throw new Error('Cannot import "'+y+'": already exists')}function s(y,x){x&&typeof x.transform=="function"?(r.expression.transform[y]=x.transform,d(y)&&(r.expression.mathWithTransform[y]=x.transform)):(delete r.expression.transform[y],d(y)&&(r.expression.mathWithTransform[y]=x))}function o(y){delete r.expression.transform[y],d(y)?r.expression.mathWithTransform[y]=r[y]:delete r.expression.mathWithTransform[y]}function l(y){var x=function(){for(var b=[],k=0,w=arguments.length;k<w;k++){var N=arguments[k];b[k]=N&&N.valueOf()}return y.apply(r,b)};return y.transform&&(x.transform=y.transform),x}function u(y,x){var g,b,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.fn;if(k.includes("."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(k));var w=f(y)?r.expression.transform:r,N=k in r.expression.transform,A=Vt(w,k)?w[k]:void 0,$=function(){var P={};y.dependencies.map(FC).forEach(L=>{if(L.includes("."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(L));L==="math"?P.math=r:L==="mathWithTransform"?P.mathWithTransform=r.expression.mathWithTransform:L==="classes"?P.classes=r:P[L]=r[L]});var q=y(P);if(q&&typeof q.transform=="function")throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with export const path = "expression.transform"');if(A===void 0||x.override)return q;if(t.isTypedFunction(A)&&t.isTypedFunction(q))return t(A,q);if(x.silent)return A;throw new Error('Cannot import "'+k+'": already exists')},D=(g=(b=y.meta)===null||b===void 0?void 0:b.formerly)!==null&&g!==void 0?g:"",_=f(y)||m(y),T=r.expression.mathWithTransform;!y.meta||y.meta.lazy!==!1?(Oh(w,k,$),D&&Oh(w,D,$),A&&N?(o(k),D&&o(D)):_&&(Oh(T,k,()=>w[k]),D&&Oh(T,D,()=>w[k]))):(w[k]=$(),D&&(w[D]=w[k]),A&&N?(o(k),D&&o(D)):_&&(Oh(T,k,()=>w[k]),D&&Oh(T,D,()=>w[k]))),i[k]=y,r.emit("import",k,$)}function c(y){return typeof y=="function"||typeof y=="number"||typeof y=="string"||typeof y=="boolean"||y===null||Ks(y)||Rl(y)||Or(y)||Th(y)||hr(y)||Array.isArray(y)}function h(y){return typeof y=="object"&&y[Symbol.toStringTag]==="Module"}function p(y){return typeof y=="function"&&typeof y.signature=="string"}function d(y){return!Vt(v,y)}function m(y){return!y.fn.includes(".")&&!Vt(v,y.fn)&&(!y.meta||!y.meta.isClass)}function f(y){return y!==void 0&&y.meta!==void 0&&y.meta.isTransformFunction===!0||!1}var v={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return n}function px(t,e){var r=Sa({},dg,e);if(typeof Object.create!="function")throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var i=uge({isNumber:Rr,isComplex:Rl,isBigNumber:Or,isBigInt:lp,isFraction:Th,isUnit:Ks,isString:ms,isArray:Li,isMatrix:hr,isCollection:fo,isDenseMatrix:km,isSparseMatrix:oc,isRange:gg,isIndex:Cm,isBoolean:xC,isResultSet:wC,isHelp:wb,isFunction:Mb,isDate:MC,isRegExp:kC,isObject:Lh,isMap:zh,isPartitionedMap:DW,isObjectWrappingMap:AW,isNull:CC,isUndefined:NC,isAccessorNode:lc,isArrayNode:Bo,isAssignmentNode:SC,isBlockNode:DC,isConditionalNode:AC,isConstantNode:mi,isFunctionAssignmentNode:up,isFunctionNode:ou,isIndexNode:Bh,isNode:Vi,isObjectNode:Nm,isOperatorNode:ea,isParenthesisNode:g0,isRangeNode:$C,isRelationalNode:_C,isSymbolNode:La,isChain:Cb});i.config=TW(r,i.emit),i.expression={transform:{},mathWithTransform:{config:i.config}};var n=[],a=[];function s(c){if(Dm(c))return c(i);var h=c[Object.keys(c)[0]];if(Dm(h))return h(i);if(!EW(c))throw console.warn("Factory object with properties `type`, `name`, and `factory` expected",c),new Error("Factory object with properties `type`, `name`, and `factory` expected");var p=n.indexOf(c),d;return p===-1?(c.math===!0?d=c.factory(i.type,r,s,i.typed,i):d=c.factory(i.type,r,s,i.typed),n.push(c),a.push(d)):d=a[p],d}var o={};function l(){for(var c=arguments.length,h=new Array(c),p=0;p<c;p++)h[p]=arguments[p];return i.typed.apply(i.typed,h)}l.isTypedFunction=Sm.isTypedFunction;var u=cge(l,s,i,o);return i.import=u,i.on("config",()=>{Object.values(o).forEach(c=>{c&&c.meta&&c.meta.recreateOnConfigChange&&u(c,{override:!0})})}),i.create=px.bind(null,t),i.factory=ce,i.import(Object.values(_W(t))),i.ArgumentsError=pu,i.DimensionError=Wr,i.IndexError=cl,i}const ST=px({parseDependencies:ux,evaluateDependencies:age,addDependencies:tx,subtractDependencies:ige,multiplyDependencies:jp,divideDependencies:NT,powDependencies:kT,unaryMinusDependencies:$4},{}),DT=ST;class hge extends fn{constructor(e,{expression:r,prohibitedValues:i=[],step:n,xMax:a=e.xMax,xMin:s=e.xMin,...o}){super(e,{...o}),this.type="Graph",this.xMin=s,this.xMax=a,this.expression=r,this.prohibitedValues=i,n===void 0&&(n=2/(e.pixelsPerUnit*e.xScale*e.scale)),this.step=n;const l=DT.parse(r);this.f=u=>l.evaluate({x:u})}draw(){const r=pge({f:this.f,prohibitedValues:this.prohibitedValues,step:this.step,xMax:this.xMax,xMin:this.xMin}).map(i=>`${this.figure.xToSx(i.x).toString()},${this.figure.yToSy(i.y).toString()}`).join(" ");this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.groupSvg.setAttribute("fill","none"),this.groupSvg.setAttribute("points",r),this.setVisibilityColorThicknessAndDashed()}distancePointer(e,r){let i=Number.POSITIVE_INFINITY;for(let n=this.xMin;n<=this.xMax;n+=this.step)try{const a=this.f(n);if(!Number.isNaN(a)&&Number.isFinite(a)){const s=hn({x:e,y:r},{x:n,y:a});i=Math.min(i,s)}}catch{}return i}toJSON(){return{...this.jsonOptions(),expression:this.expression,isChild:this.isChild}}get description(){return`Courbe représentative de la fonction ${this.notation}`}get latex(){return`\\draw[domain=${this.xMin}:${this.xMax}, smooth, thick, ${this.color}, ${this.isDashed?"dashed, ":""} line width=${this.thickness}] 
        plot (\\x, {${DT.parse(this.expression).toString({implicit:"show"}).replaceAll("x","(\\x)")}});`}get notation(){return`f(x) = ${this.expression}`}}function pge({f:t,prohibitedValues:e,step:r,xMax:i,xMin:n}){const a=[];for(let s=n;s<i;s+=r)if(!e.includes(s)){const o={x:s,y:t(s)};a.push(o)}return a}class dge extends fn{constructor(e,{f:r,prohibitedValues:i=[],step:n,xMax:a=e.xMax,xMin:s=e.xMin,...o}){super(e,{...o}),this.type="Graph",this.xMin=s,this.xMax=a,this.f=r,this.prohibitedValues=i,n===void 0&&(n=2/(e.pixelsPerUnit*e.xScale*e.scale)),this.step=n}draw(){const r=mge({f:this.f,prohibitedValues:this.prohibitedValues,step:this.step,xMax:this.xMax,xMin:this.xMin}).map(i=>`${this.figure.xToSx(i.x).toString()},${this.figure.yToSy(i.y).toString()}`).join(" ");this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.groupSvg.setAttribute("fill","none"),this.groupSvg.setAttribute("points",r),this.setVisibilityColorThicknessAndDashed()}toJSON(){return{...this.jsonOptions(),isChild:this.isChild,thickness:this.thickness}}}function mge({f:t,prohibitedValues:e,step:r,xMax:i,xMin:n}){const a=[];for(let s=n;s<i;s+=r)if(!e.includes(s)){const o={x:s,y:t(s)};a.push(o)}return a}const AT=ST;class fge extends fn{constructor(e,{parts:r,prohibitedValues:i=[],step:n,xMax:a=e.xMax,xMin:s=e.xMin,...o}){super(e,{...o}),this.type="GraphByParts",this.xMin=Math.min(...r.map(l=>l.xMin)),this.xMax=Math.max(...r.map(l=>l.xMax)),this.fonctions=[],this.parts=r;for(let l=0;l<r.length;l++){const u=AT.parse(r[l].expression);this.fonctions.push(c=>u.evaluate({x:c}))}this.prohibitedValues=i,n===void 0&&(n=2/(e.pixelsPerUnit*e.xScale*e.scale)),this.step=n,this.f=this.f.bind(this)}f(e){let r=0;for(;e>this.parts[r].xMax&&r<this.parts.length;)r++;if(r>=this.parts.length)return Number.NaN;const i=this.fonctions[r];return i(e)}draw(){const e=[];for(const r of this.parts){const n=gge({f:this.f,prohibitedValues:this.prohibitedValues,step:this.step,xMax:r.xMax,xMin:r.xMin}).map(s=>`${this.figure.xToSx(s.x).toString()},${this.figure.yToSy(s.y).toString()}`).join(" "),a=document.createElementNS("http://www.w3.org/2000/svg","polyline");a.setAttribute("fill","none"),a.setAttribute("points",n),e.push(a)}this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","g"),this.groupSvg.innerHTML=e.map(r=>r.outerHTML).join(`
`),this.setVisibilityColorThicknessAndDashed()}distancePointer(e,r){let i=Number.POSITIVE_INFINITY;for(let n=this.xMin;n<=this.xMax;n+=this.step)try{const a=this.f(n);if(!Number.isNaN(a)&&Number.isFinite(a)){const s=hn({x:e,y:r},{x:n,y:a});i=Math.min(i,s)}}catch{}return i}toJSON(){return{...this.jsonOptions(),parts:this.parts,xMax:this.xMax,xMin:this.xMin}}get description(){return`Courbe représentative de la fonction ${this.notation}`}get latex(){let e="";for(const r of this.parts)e+=`\\draw[domain=${r.xMin}:${r.xMax}, smooth, thick, ${this.color}, ${this.isDashed?"dashed, ":""} line width=${this.thickness}] 
        plot (\\x, {${AT.parse(r.expression).toString({implicit:"show"}).replaceAll("x","(\\x)")}});
`;return e}get notation(){let e="";for(const r of this.parts)e+=`f(x) = ${r.expression}\\text{ pour }${r.xMin} ≤ x ≤ ${r.xMax}~;~
`;return e}}function gge({f:t,prohibitedValues:e,step:r,xMax:i,xMin:n}){const a=[];for(let s=n;s<i;s+=r)if(!e.includes(s)){const o={x:s,y:t(s)};a.push(o)}return a}class vge extends fn{constructor(e,{denominator:r,gap:i=1,indicesSectorsInColor:n=new Set,numberOfCircle:a=1,numerator:s=0,radius:o,x:l=0,y:u=0,...c}){if(super(e,{...c}),this.centers=[],this.sectors=[],this._indicesSectorsInColor=new Set,this.center=this.figure.create("Point",{shape:"",x:l,y:u,isChild:!0}),this.radius=o,this.denominator=r,this.gap=i,this.numberOfCircle=a,s!==void 0&&n.size===0)for(let h=0;h<s;h++)this.indicesSectorsInColor.add(h);else this.indicesSectorsInColor=n;this.type="CircleFractionDiagram"}draw(){this.centers=[this.center],this.sectors=[];const e=360/this.denominator;for(let r=0;r<this.numberOfCircle;r++){r>0&&this.centers.push(this.figure.create("Point",{isChild:!0,isSelectable:!1,shape:"",x:this.center.x+r*(2*this.radius+this.gap),y:this.center.y}));for(let i=0;i<this.denominator;i++)this.sectors.push(this.figure.create("ArcByCenterRadiusAndAngles",{center:this.centers[r],endAngle:e*(i+1),isChild:!0,radius:this.radius,startAngle:e*i,color:this.color,thickness:this.thickness,isDashed:this.isDashed}))}this.indicesSectorsInColor=this._indicesSectorsInColor}redraw(){for(const e of this.centers)e.remove();for(const e of this.sectors)e.remove();this.draw()}toJSON(){return{...this.jsonOptions(),denominator:this.denominator,gap:this.gap,arrayIndicesSectorsInColor:Array.from(this.indicesSectorsInColor),numberOfCircle:this.numberOfCircle,numerator:this.numerator,radius:this.radius,x:this.center.x,y:this.center.y}}get indicesSectorsInColor(){for(let e=0;e<this.sectors.length;e++)this.sectors[e].fillColor!=="none"?this._indicesSectorsInColor.add(e):this._indicesSectorsInColor.delete(e);return this._indicesSectorsInColor}set indicesSectorsInColor(e){this._indicesSectorsInColor=e,this.sectors.forEach((r,i)=>{this._indicesSectorsInColor.has(i)?r.fillColor=this.color:r.fillColor="none"})}get numerator(){return this.sectors.filter(e=>e.fillColor!=="none").length}set numerator(e){this.sectors.forEach((r,i)=>{i<e?r.fillColor=this.color:r.fillColor="none"})}}class yge extends fn{constructor(e,{denominator:r=4,height:i=.2,indicesRectanglesInColor:n=new Set,min:a=0,max:s=5,numerator:o,thickHeightInPixels:l=10,thickThickness:u=4,verticalDistanceForClick:c=1,width:h=4,x:p=0,y:d=0,...m}={}){if(super(e,{...m}),this._indicesRectanglesInColor=new Set,this.origins=[],this.rectangles=[],this.origin=this.figure.create("Point",{isChild:!0,isFree:!1,shape:"",x:p,y:d-i/2}),this.width=h,this.height=i,this.min=a,this.denominator=r,this.max=s,this.thickHeightInPixels=l,this.thickThickness=u,o!==void 0&&n.size===0)for(let f=0;f<o;f++)this.indicesRectanglesInColor.add(f);else this.indicesRectanglesInColor=n;this.type="LineFractionDiagram",this.verticalDistanceForClick=c}draw(){this.figure.svg.appendChild(this.groupSvg),this.origins=[this.origin],this.rectangles=[];const e=this.width/this.denominator;for(let i=0;i<this.max;i++){i>0&&this.origins.push(this.figure.create("Point",{isChild:!0,isSelectable:!1,shape:"",x:this.origin.x+i*this.width,y:this.origin.y}));for(let n=0;n<this.denominator;n++)this.rectangles.push(bge({height:this.height,origin:this.origins[i],width:e,xTranslate:n*e,color:this.color,thickness:this.thickness,isDashed:this.isDashed}))}const r=this.verticalDistanceForClick;for(const i of this.rectangles)i.distancePointer=function(n,a){return this.figure.currentState==="FILL"&&this.figure.pointer.x>=this.points[0].x&&this.figure.pointer.x<=this.points[1].x&&this.figure.pointer.y-this.points[0].y<r&&this.figure.pointer.y-this.points[0].y>-r?0:Number.POSITIVE_INFINITY};for(let i=0;i<=this.max;i++){const n=this.origin.x+i*this.width,a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",this.figure.xToSx(n).toString()),a.setAttribute("y1",(this.figure.yToSy(this.origin.y+this.height/2)-this.thickHeightInPixels*this.figure.yScale*this.figure.scale).toString()),a.setAttribute("x2",this.figure.xToSx(n).toString()),a.setAttribute("y2",(this.figure.yToSy(this.origin.y+this.height/2)+this.thickHeightInPixels*this.figure.yScale*this.figure.scale).toString()),a.setAttribute("stroke",this._color),a.setAttribute("stroke-width",this.thickThickness.toString()),a.setAttribute("stroke-readonly","1"),this.groupSvg.appendChild(a),this.figure.create("TextByPosition",{isChild:!0,x:n,y:this.origin.y+1+this.thickHeightInPixels/(this.figure.yScale*this.figure.scale*this.figure.pixelsPerUnit),text:(this.min+i).toString()})}this.indicesRectanglesInColor=this._indicesRectanglesInColor}redraw(){for(const e of this.origins)e.remove();for(const e of this.rectangles)e.remove();this.draw()}toJSON(){return{...this.jsonOptions(),denominator:this.denominator,height:this.height,arrayIndicesRectanglesInColor:Array.from(this.indicesRectanglesInColor),min:this.min,max:this.max,thickHeightInPixels:this.thickHeightInPixels,thickThickness:this.thickThickness,verticalDistanceForClick:this.verticalDistanceForClick,width:this.width,x:this.origin.x,y:this.origin.y+this.height/2}}get numerator(){return this.rectangles.filter(e=>e.fillColor!=="none").length}get indicesRectanglesInColor(){for(let e=0;e<this.rectangles.length;e++)this.rectangles[e].fillColor!=="none"?this._indicesRectanglesInColor.add(e):this._indicesRectanglesInColor.delete(e);return this._indicesRectanglesInColor}set indicesRectanglesInColor(e){this._indicesRectanglesInColor=e,this.rectangles.forEach((r,i)=>{this._indicesRectanglesInColor.has(i)?r.fillColor=this.color:r.fillColor="none"})}get indiceLastInColor(){const e=this.rectangles.findIndex(r=>r.fillColor==="none");return e===-1?this.max*this.denominator:e}set numerator(e){this.rectangles.forEach((r,i)=>{i<e?r.fillColor=this.color:r.fillColor="none"})}}function bge({height:t,origin:e,width:r,xTranslate:i,color:n,thickness:a,isDashed:s}){const o=[],l=e.figure;return o.push(l.create("Point",{isChild:!0,isFree:!1,shape:"",x:e.x+i,y:e.y})),o.push(l.create("Point",{isChild:!0,isFree:!1,shape:"",x:e.x+i+r,y:e.y})),o.push(l.create("Point",{isChild:!0,isFree:!1,shape:"",x:e.x+i+r,y:e.y+t})),o.push(l.create("Point",{isChild:!0,isFree:!1,shape:"",x:e.x+i,y:e.y+t})),l.create("Polygon",{isChild:!0,points:o,color:n,thickness:a,isDashed:s})}class xge extends fn{constructor(e,{denominator:r=4,gap:i=1,height:n=1,numberOfRectangles:a=5,indicesRectanglesInColor:s=new Set,numerator:o=0,width:l=4,x:u=0,y:c=0,...h}={}){if(super(e,{...h}),this._indicesRectanglesInColor=new Set,this.origins=[],this.rectangles=[],this.origin=this.figure.create("Point",{isChild:!0,isFree:!1,shape:"",x:u,y:c}),this.width=l,this.height=n,this.denominator=r,this.gap=i,this.numberOfRectangles=a,this.numerator=o,o!==void 0&&s.size===0)for(let p=0;p<o;p++)this.indicesRectanglesInColor.add(p);else this.indicesRectanglesInColor=s;this.type="RectangleFractionDiagram"}draw(){this.origins=[this.origin],this.rectangles=[];const e=this.width/this.denominator;for(let r=0;r<this.numberOfRectangles;r++){r>0&&this.origins.push(this.figure.create("Point",{isChild:!0,isSelectable:!1,shape:"",x:this.origin.x+r*(this.width+this.gap),y:this.origin.y}));for(let i=0;i<this.denominator;i++)this.rectangles.push(wge({height:this.height,origin:this.origins[r],width:e,xTranslate:i*e}))}for(const r of this.rectangles)r.distancePointer=function(i,n){return this.figure.currentState==="FILL"&&this.figure.pointer.isInPolygon(this)?0:Number.POSITIVE_INFINITY};this.indicesRectanglesInColor=this._indicesRectanglesInColor}redraw(){for(const e of this.origins)e.remove();for(const e of this.rectangles)e.remove();this.draw()}toJSON(){return{...this.jsonOptions(),denominator:this.denominator,numerator:this.numerator,arrayIndicesRectanglesInColor:Array.from(this.indicesRectanglesInColor),height:this.height,width:this.width,gap:this.gap,x:this.origin.x,y:this.origin.y}}get indicesRectanglesInColor(){for(let e=0;e<this.rectangles.length;e++)this.rectangles[e].fillColor!=="none"?this._indicesRectanglesInColor.add(e):this._indicesRectanglesInColor.delete(e);return this._indicesRectanglesInColor}set indicesRectanglesInColor(e){this._indicesRectanglesInColor=e,this.rectangles.forEach((r,i)=>{this._indicesRectanglesInColor.has(i)?r.fillColor=this.color:r.fillColor="none"})}get numerator(){return this.rectangles.filter(e=>e.fillColor!=="none").length}set numerator(e){this.rectangles.forEach((r,i)=>{i<e?r.fillColor=this.color:r.fillColor="none"})}}function wge({height:t,origin:e,width:r,xTranslate:i}){const n=[],a=e.figure;return n.push(a.create("Point",{isChild:!0,isFree:!1,shape:"",x:e.x+i,y:e.y})),n.push(a.create("Point",{isChild:!0,isFree:!1,shape:"",x:e.x+i+r,y:e.y})),n.push(a.create("Point",{isChild:!0,isFree:!1,shape:"",x:e.x+i+r,y:e.y+t})),n.push(a.create("Point",{isChild:!0,isFree:!1,shape:"",x:e.x+i,y:e.y+t})),a.create("Polygon",{isChild:!0,points:n})}class Mge extends fn{constructor(e,{addLeft:r=0,addRight:i=0,color:n,labelInterval:a,max:s=6,min:o=-6,step:l=1,stepBis:u,thick:c=.2,yLabel:h=-.5}={}){super(e,{}),this._labelSize="0.8em",this.addInPixels=5,this.labels=[],this.points=[],this.addLeft=r,this.addRight=i,this._color=n??e.options.color,this.labelInterval=a??l,this.min=o,this.max=s,this.step=l,this.stepBis=u,this.thick=c,this.yLabel=h,this.type="GraduatedLine"}draw(){this.svgLine=document.createElementNS("http://www.w3.org/2000/svg","line"),this.groupSvg.appendChild(this.svgLine),this.groupSvg.setAttribute("color",this.color),this.setVisibilityColorThicknessAndDashed(),this.drawLine(),this.drawThicks(),this.drawThicksBis(),this.drawLabels()}drawLabels(){const e=et(Math.ceil(this.min/this.labelInterval)*this.labelInterval),r=et(Math.floor(this.max/this.labelInterval)*this.labelInterval);for(let i=e;i<=r;){const n=`$${zo(i)}$`;this.labels.push(this.figure.create("TextByPosition",{anchor:"topCenter",dxInPixels:0,dyInPixels:0,isChild:!0,text:n,x:i,y:this.yLabel})),i=et(i+this.labelInterval)}}drawLine(){const e=this.figure.xToSx(this.min-this.addLeft),r=this.figure.xToSx(this.max+this.addRight),i=this.figure.yToSy(0),n=this.figure.yToSy(0);this.svgLine.setAttribute("x1",`${e-this.addInPixels}`),this.svgLine.setAttribute("y1",`${i}`),this.svgLine.setAttribute("x2",`${r+this.addInPixels}`),this.svgLine.setAttribute("y2",`${n}`),this.svgLine.setAttribute("stroke","currentColor");const a=document.createElementNS("http://www.w3.org/2000/svg","defs");this.figure.svg.appendChild(a);const s=document.createElementNS("http://www.w3.org/2000/svg","marker");s.setAttribute("id","arrow"),s.setAttribute("markerWidth","10"),s.setAttribute("markerHeight","10"),s.setAttribute("refX","0"),s.setAttribute("refY","3"),s.setAttribute("orient","auto"),s.setAttribute("markerUnits","strokeWidth");const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d","M0,0 L0,6 L9,3 z"),o.setAttribute("fill",this.color),s.appendChild(o),a.appendChild(s),this.svgLine.setAttribute("marker-end","url(#arrow)")}drawThicks(){const e=et(Math.ceil(this.min/this.step)*this.step),r=et(Math.floor(this.max/this.step)*this.step);for(let i=e;i<=r;){const n=this.figure.xToSx(i),a=this.figure.yToSy(-this.thick),s=this.figure.yToSy(this.thick),o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",`${n}`),o.setAttribute("y1",`${a}`),o.setAttribute("x2",`${n}`),o.setAttribute("y2",`${s}`),o.setAttribute("stroke","currentColor"),o.setAttribute("stroke-width","1"),this.groupSvg.appendChild(o),i=et(i+this.step)}}drawThicksBis(){if(this.stepBis===void 0)return;const e=et(Math.ceil(this.min/this.stepBis)*this.stepBis),r=et(Math.floor(this.max/this.stepBis)*this.stepBis);let i=0;for(let n=e;n<=r&&i<1e3;){const a=this.figure.xToSx(n),s=this.figure.yToSy(-this.thick/2),o=this.figure.yToSy(this.thick/2),l=document.createElementNS("http://www.w3.org/2000/svg","line");l.setAttribute("x1",`${a}`),l.setAttribute("y1",`${s}`),l.setAttribute("x2",`${a}`),l.setAttribute("y2",`${o}`),l.setAttribute("stroke","currentColor"),l.setAttribute("stroke-width","1"),this.groupSvg.appendChild(l),n=et(n+this.stepBis),i++}}toJSON(){return{...super.toJSON(),type:this.type,color:this.color,addLeft:this.addLeft,addRight:this.addRight,labelInterval:this.labelInterval,max:this.max,min:this.min,step:this.step,stepBis:this.stepBis,thick:this.thick,yLabel:this.yLabel}}get labelSize(){return this._labelSize}set labelSize(e){this._labelSize=e;for(const r of this.labels)r.fontSize=e}get latex(){let e=`
\\tkzInit[xmin=${this.min}, xmax=${this.max}, xstep=${this.step}]`;return e+=`
\\tkzDrawX[label={}, tickup=3pt, tickdn=3pt]`,this.stepBis!==void 0&&(e+=`\\foreach \\i in {${this.min},${et(this.min+this.stepBis,6)},...,${this.max}} {`,e+=`
\\tkzHTick[mark=|,mark size=2pt]{\\i}
}`),e}}let dx=class extends fn{constructor(e,{addBorders:r=!1,center:i,color:n,dynamicAngle:a,fillColor:s,fillOpacity:o,start:l,...u}){super(e,{...u}),this.start=l,this.center=i,this.dynamicAngle=a,this.addBorders=r,this._color=n??"black",this._fillColor=s??"none",this._fillOpacity=this.fillOpacity??this.figure.options.fillOpacity,this.svgArc=document.createElementNS("http://www.w3.org/2000/svg","path"),this.groupSvg.appendChild(this.svgArc),this.start.subscribe(this),this.center.subscribe(this),this.dynamicAngle.subscribe(this)}distancePointer(e,r){return this.figure.pointer.isInArc(this)?0:Number.POSITIVE_INFINITY}draw(){this.figure.svg.appendChild(this.groupSvg),this.update(),this.setVisibilityColorThicknessAndDashed()}setVisibilityColorThicknessAndDashed(){this.color=this._color,this.fillColor=this._fillColor,this._fillOpacity!==void 0&&(this.fillOpacity=this._fillOpacity),this._isDashed!==void 0&&(this.isDashed=this._isDashed),this.isDashed=this._isDashed,this.isVisible=this._isVisible}toJSON(){return{...this.jsonOptions(),idCenter:this.center.id,idDynamicAngle:this.dynamicAngle.id,idStart:this.start.id}}update(){this.notify();const e=this.figure.xToSx(wm(this.start,this.center)),[r,i]=aW(this.dynamicAngle.value),n=nl(this.start,this.center,this.dynamicAngle.value);if(Number.isFinite(this.start.x)&&Number.isFinite(this.start.y)&&Number.isFinite(n.x)&&Number.isFinite(n.y)){let a=`M${this.figure.xToSx(this.start.x)} ${this.figure.yToSy(this.start.y)} A ${e} ${e} 0 ${r} ${i} ${this.figure.xToSx(n.x)} ${this.figure.yToSy(n.y)}`;this.addBorders&&(a+=`L ${this.figure.xToSx(this.center.x)} ${this.figure.yToSy(this.center.y)} Z`),this.svgArc.setAttribute("d",a)}}get fillColor(){return this._fillColor}set fillColor(e){this._fillColor=e,this.groupSvg.setAttribute("fill",this._fillColor)}get fillOpacity(){return this._fillOpacity}set fillOpacity(e){this._fillOpacity=e,e!==void 0&&this.groupSvg.setAttribute("fill-opacity",e.toString())}};class kge extends dx{constructor(e,{addBorders:r=!0,center:i,end:n,radius:a,start:s,...o}){const l=e.create("Segment",{isChild:!0,isSelectable:!0,isVisible:!1,point1:s,point2:i}),u=e.create("PointOnLineAtDistance",{distance:a,isChild:!0,isVisible:!1,line:l,shape:s.shape}),c=e.create("Angle",{center:i,end:n,start:u});super(e,{addBorders:r,center:i,dynamicAngle:c,start:u,...o}),this.radius=a}}class Cge extends ap{constructor(e,{isChild:r,value:i}){super(e,{isChild:r}),this.type="Const",this.value=i}toJSON(){return{id:this.id,isChild:this.isChild,type:this.type,value:this.value}}}class Nge extends dx{constructor(e,{addBorders:r=!0,center:i,color:n,endAngle:a,fillColor:s,fillOpacity:o,radius:l,startAngle:u,...c}){const h=new Cge(e,{isChild:!0,value:a-u}),{x:p,y:d}=cC(i,l,u),m=e.create("Point",{isChild:!0,isFree:!1,shape:"",x:p,y:d});super(e,{addBorders:r,center:i,color:n,dynamicAngle:h,fillColor:s,fillOpacity:o,start:m,...c}),this.radius=l,this.startAngle=u,this.endAngle=a,this.type="ArcByCenterRadiusAndAngles"}toJSON(){return{...this.jsonOptions(),endAngle:this.endAngle,fillColor:this.fillColor,idCenter:this.center.id,radius:this.radius,startAngle:this.startAngle}}get latex(){let e=`% Arc de cercle ${this.id}`;const r=cC(this.center,this.radius,this.startAngle);return this.fillColor&&this.fillColor!=="none"?e+=`
\\fill${this.latexOptions} (${this.center.x}, ${this.center.y}) -- ({${this.center.x} + ${this.radius} * cos(${this.startAngle})}, {${this.center.y} + ${this.radius} * sin(${this.startAngle})}) arc(${this.startAngle}:${this.endAngle}:${this.radius}) -- 
    cycle;`:e+=`
\\draw${this.latexOptions} (${r.x}, ${r.y}) arc (${this.startAngle}:${this.endAngle}:${this.radius});`,this.addBorders&&(e+=`
\\draw${this.latexOptions} (${this.center.x}, ${this.center.y}) -- ({${this.center.x} + ${this.radius} * cos(${this.startAngle})}, {${this.center.y} + ${this.radius} * sin(${this.startAngle})});`,e+=`
\\draw${this.latexOptions} (${this.center.x}, ${this.center.y}) -- ({${this.center.x} + ${this.radius} * cos(${this.endAngle})}, {${this.center.y} + ${this.radius} * sin(${this.endAngle})});`),e}}class Sge extends bb{constructor(e,{origin:r,pointOnSide1:i,pointOnSide2:n,...a}){let s=Math.atan2(n.y-r.y,n.x-r.x)-Math.atan2(i.y-r.y,i.x-r.x);s>Math.PI&&(s-=2*Math.PI),s<-Math.PI&&(s+=2*Math.PI);const o=r.x+Math.cos(s/2)*(i.x-r.x)-Math.sin(s/2)*(i.y-r.y),l=r.y+Math.sin(s/2)*(i.x-r.x)+Math.cos(s/2)*(i.y-r.y),u=e.create("Point",{isChild:!0,isSelectable:!1,isVisible:!1,x:o,y:l});super(e,{point1:r,point2:u,...a}),this.type="BisectorByPoints",this.pointOnSide1=i,this.pointOnSide2=n,this.pointOnBissector=u,this.pointOnSide1.subscribe(this),this.pointOnSide2.subscribe(this),this.point2.unsubscribe(this)}toJSON(){return{...this.jsonOptions(),idOrigin:this.point1.id,idPointOnSide1:this.pointOnSide1.id,idPointOnSide2:this.pointOnSide2.id,isChild:this.isChild}}update(){let e=Math.atan2(this.pointOnSide2.y-this.point1.y,this.pointOnSide2.x-this.point1.x)-Math.atan2(this.pointOnSide1.y-this.point1.y,this.pointOnSide1.x-this.point1.x);e>Math.PI&&(e-=2*Math.PI),e<-Math.PI&&(e+=2*Math.PI);const r=this.point1.x+Math.cos(e/2)*(this.pointOnSide1.x-this.point1.x)-Math.sin(e/2)*(this.pointOnSide1.y-this.point1.y),i=this.point1.y+Math.sin(e/2)*(this.pointOnSide1.x-this.point1.x)+Math.cos(e/2)*(this.pointOnSide1.y-this.point1.y);this.point2.moveTo(r,i),super.update()}get description(){const e=this.point1.label!==""?this.point1.label:this.point1.id,r=this.pointOnSide1.label!==""?this.pointOnSide1.label:this.pointOnSide1.id,i=this.pointOnSide2.label!==""?this.pointOnSide2.label:this.pointOnSide2.id;return`Bissectrice de l'angle $\\widehat{${r}${e}${i}}$`}}class _4 extends fn{constructor(e,{center:r,fillOpacity:i=e.options.fillOpacity,radius:n,...a}){super(e,a),this.type="Circle",this._radius=n,this.center=r,(a==null?void 0:a.fillColor)!==void 0?this._fillColor=a.fillColor:this._fillColor=this.figure.options.fillColor,this.fillOpacity=i||this.figure.options.fillOpacity,(a==null?void 0:a.isDashed)!==void 0&&(this._isDashed=a.isDashed)}dilate(e,r,i){const n=this.center.dilate(e,r,{isChild:!0,isVisible:!1}),a=this.figure.create("Circle",{center:n,radius:Math.abs(r)*this.radius,...i});return a.transformation={center:e,factor:r,origin:this,type:"dilate"},a}distancePointer(e,r){if((this.figure.currentState==="FILL"||this.figure.currentState==="SET_OPTIONS"&&this.fillColor!=="none")&&this.figure.pointer.isInCircle(this))return 0;const i=Math.hypot((e-this.center.x)*this.figure.xScale,(r-this.center.y)*this.figure.yScale)*this.figure.scale;return Math.abs(i-this.radius*this.figure.scale)}draw(){this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","circle"),this.center.subscribe(this),this.setVisibilityColorThicknessAndDashed(),this.update()}reflect(e,r){const i=this.center.reflect(e,{isChild:!0,isVisible:!1}),n=this.figure.create("Circle",{center:i,radius:this.radius,...r});return n.transformation={center:e,origin:this,type:"reflect"},n}reflectOverLine(e,r){const i=this.center.reflectOverLine(e,{isChild:!0,isVisible:!1}),n=this.figure.create("Circle",{center:i,radius:this.radius,...r});return n.transformation={line:e,origin:this,type:"reflectOverLine"},n}rotate(e,r,i){const n=this.center.rotate(e,r,{isChild:!0,isVisible:!1}),a=this.figure.create("Circle",{center:n,radius:this.radius,...i});return a.transformation={angle:r,center:e,origin:this,type:"rotation"},a}setVisibilityColorThicknessAndDashed(){this.color=this._color,this.fillColor=this._fillColor,this._fillOpacity!==void 0&&(this.fillOpacity=this._fillOpacity),this._isDashed!==void 0&&(this.isDashed=this._isDashed),this.isDashed=this._isDashed,this.isVisible=this._isVisible}toJSON(){return{...this.jsonOptions(),fillColor:this.fillColor,fillOpacity:this.fillOpacity,idCenter:this.center.id,radius:this._radius}}translate(e,r,i){const n=this.center.translate(e,r,{isChild:!0,isVisible:!1}),a=this.figure.create("Circle",{center:n,radius:this.radius,...i});return a.transformation={origin:this,point1:e,point2:r,type:"translation"},a}update(){if(this.center.x===void 0||this.center.y===void 0||Number.isNaN(this.center.x)||Number.isNaN(this.center.y))this.groupSvg.removeAttribute("r");else{const e=this.figure.xToSx(this.center.x),r=this.figure.yToSy(this.center.y),i=this.figure.pixelsPerUnit*this._radius*this.figure.scale;this.groupSvg.setAttribute("cx",`${e}`),this.groupSvg.setAttribute("cy",`${r}`),this.groupSvg.setAttribute("r",`${i}`)}this.notify()}get description(){var r,i,n,a,s,o,l,u;if(((r=this.transformation)==null?void 0:r.type)==="reflect")return`Cercle $${this.label}$, image du cercle $${this.transformation.origin.notation}$ dans la symétrie de centre $${(i=this.transformation)==null?void 0:i.center.notation}$`;if(((n=this.transformation)==null?void 0:n.type)==="reflectOverLine")return`Cercle $${this.label}$, image du cercle $${this.transformation.origin.notation}$ dans la symétrie d'axe  $${(a=this.transformation)==null?void 0:a.line.notation}$`;if(((s=this.transformation)==null?void 0:s.type)==="dilate")return`Cercle $${this.label}$, image du cercle $${this.transformation.origin.notation}$ dans l'homothétie de centre $${(o=this.transformation)==null?void 0:o.center.notation}$ et de rapport $${this.transformation.factor}$`;if(((l=this.transformation)==null?void 0:l.type)==="rotation")return`Cercle $${this.label}$, image du cercle $${this.transformation.origin.notation}$ dans la rotation de centre $${this.transformation.center.notation}$ et d'angle $${Math.abs(this.transformation.angle)}\\degree$ dans le sens ${this.transformation.angle>0?"anti-horaire":"horaire"}`;if(((u=this.transformation)==null?void 0:u.type)==="translation")return`Cercle $${this.label}$, image du cercle $${this.transformation.origin.notation}$ dans la translation qui transforme $${this.transformation.point1.notation}$ en $${this.transformation.point2.notation}$`;const e=this.center.label!==""?this.center.label:this.center.id;return`Cercle $${this.label}$ de centre $${e}$ et de rayon ${this.radius} cm`}get fillColor(){return this._fillColor}set fillColor(e){this._fillColor=e,this.groupSvg.setAttribute("fill",this._fillColor)}get fillOpacity(){return this._fillOpacity}set fillOpacity(e){this._fillOpacity=e,e!==void 0&&this.groupSvg.setAttribute("fill-opacity",e.toString())}get label(){return this.id.replace("element","C_")}get latex(){let e=`% Cercle ${this.id}`;return e+=`
\\draw${this.latexOptions} (${this.center.x}, ${this.center.y}) circle (${this.radius});`,e}get notation(){return this.id}get radius(){return this._radius}set radius(e){this._radius=e,this.update()}}class $T extends _4{constructor(e,{center:r,radius:i,...n}){super(e,{center:r,radius:i.value,...n}),this.type="CircleDynamicRadius",this.center=r,this.radiusDynamic=i,this.radiusDynamic.subscribe(this),this.update(),this.setVisibilityColorThicknessAndDashed()}toJSON(){return{...this.jsonOptions(),fillColor:this.fillColor,fillOpacity:this.fillOpacity,idCenter:this.center.id,idRadius:this.radiusDynamic.id}}update(){var n,a;if(((n=this.radiusDynamic)==null?void 0:n.value)===void 0||this.center.x===void 0||this.center.y===void 0)return;const e=this.figure.xToSx(this.center.x),r=this.figure.yToSy(this.center.y),i=this.figure.pixelsPerUnit*((a=this.radiusDynamic)==null?void 0:a.value)*this.figure.scale;this._radius=this.radiusDynamic.value,this.groupSvg.setAttribute("cx",`${e}`),this.groupSvg.setAttribute("cy",`${r}`),Number.isFinite(i)&&this.groupSvg.setAttribute("r",`${i}`),this.notify()}}class Dge extends $T{constructor(e,{center:r,point:i,...n}){const a=new vC(e,{isChild:!0,point1:r,point2:i});super(e,{center:r,radius:a,...n}),this.type="CircleCenterPoint",this.point=i,this.point.subscribe(this)}dilate(e,r,i){const n=this.center.dilate(e,r,{isChild:!0,isVisible:!1}),a=this.point.dilate(e,r,{isChild:!0,isVisible:!1}),s=this.figure.create("CircleCenterPoint",{center:n,point:a,...i});return s.transformation={center:e,factor:r,origin:this,type:"dilate"},s}reflect(e,r){const i=this.center.reflect(e,{isChild:!0,isVisible:!1}),n=this.point.reflect(e,{isChild:!0,isVisible:!1}),a=this.figure.create("CircleCenterPoint",{center:i,point:n,...r});return a.transformation={center:e,origin:this,type:"reflect"},a}reflectOverLine(e,r){const i=this.center.reflectOverLine(e,{isChild:!0,isVisible:!1}),n=this.point.reflectOverLine(e,{isChild:!0,isVisible:!1}),a=this.figure.create("CircleCenterPoint",{center:i,point:n,...r});return a.transformation={line:e,origin:this,type:"reflectOverLine"},a}rotate(e,r,i){const n=this.center.rotate(e,r,{isChild:!0,isVisible:!1}),a=this.point.rotate(e,r,{isChild:!0,isVisible:!1}),s=this.figure.create("CircleCenterPoint",{center:n,point:a,...i});return s.transformation={center:e,angle:r,origin:this,type:"rotation"},s}toJSON(){return{...this.jsonOptions(),fillColor:this.fillColor,fillOpacity:this.fillOpacity,idCenter:this.center.id,idPoint:this.point.id}}translate(e,r,i){const n=this.center.translate(e,r,{isChild:!0,isVisible:!1}),a=this.point.translate(e,r,{isChild:!0,isVisible:!1}),s=this.figure.create("CircleCenterPoint",{center:n,point:a,...i});return s.transformation={origin:this,point1:e,point2:r,type:"translation"},s}get description(){var i,n,a,s,o,l,u,c;if(((i=this.transformation)==null?void 0:i.type)==="reflect")return`Image du cercle $${this.transformation.origin.notation}$ dans la symétrie de centre $${(n=this.transformation)==null?void 0:n.center.notation}$`;if(((a=this.transformation)==null?void 0:a.type)==="reflectOverLine")return`Image du cercle $${this.transformation.origin.notation}$ dans la symétrie d'axe $${(s=this.transformation)==null?void 0:s.line.notation}$`;if(((o=this.transformation)==null?void 0:o.type)==="dilate")return`Image du cercle $${this.transformation.origin.notation}$ dans l'homothétie de centre $${(l=this.transformation)==null?void 0:l.center.notation}$ et de rapport $${this.transformation.factor}$`;if(((u=this.transformation)==null?void 0:u.type)==="rotation")return`Image du cercle $${this.transformation.origin.notation}$ dans la rotation de centre $${this.transformation.center.notation}$ et d'angle $${Math.abs(this.transformation.angle)}\\degree$ dans le sens ${this.transformation.angle>0?"anti-horaire":"horaire"}`;if(((c=this.transformation)==null?void 0:c.type)==="translation")return`Image du cercle $${this.transformation.origin.notation}$ dans la translation qui transforme $${this.transformation.point1.notation}$ en $${this.transformation.point2.notation}$`;const e=this.center.label!==""?this.center.label:this.center.id,r=this.point.label!==""?this.point.label:this.point.id;return`Cercle de centre $${e}$ et passant par le point $${r}$`}}class Age extends Ih{constructor(e,{point:r,vector:i,...n}){const a=r.translateVector(i);a.isVisible=!1,a.isSelectable=!0,a.isVisible=!1,a.shape=r.shape,super(e,{point1:r,point2:a,shape:"",...n}),this.type="LineByPointVector",this.point=r,this.vector=i}toJSON(){return{...this.jsonOptions(),idPoint:this.point.id,idVector:this.vector.id}}}class mx extends Ih{constructor(e,{line:r,point:i,...n}){const{x1:a,y1:s,x2:o,y2:l}=oC({line:r,point:i,figure:e}),u=e.create("Point",{isChild:!0,isFree:!1,isVisible:!1,x:a,y:s}),c=e.create("Point",{isChild:!0,isFree:!1,isVisible:!1,x:o,y:l});super(e,{point1:u,point2:c,...n}),this.type="LineParallel",this.line=r,this.point=i,this.line.subscribe(this),this.point.subscribe(this),this.point1.unsubscribe(this),this.point2.unsubscribe(this)}toJSON(){return{...this.jsonOptions(),idLine:this.line.id,idPoint:this.point.id}}update(){const{x1:e,y1:r,x2:i,y2:n}=oC({line:this.line,point:this.point,figure:this.figure});this.point1.moveTo(e,r),this.point2.moveTo(i,n),super.update()}get description(){const e=this.point.label!==""?this.point.label:this.point.id;return this.line.point1.label!==""&&this.line.point2.label!==""&&this.point.label!==""?`Droite parallèle à $${this.line.notation}$ et passant par le point $${e}$`:`Droite parallèle n°${[...this.figure.elements.values()].filter(n=>n instanceof mx).indexOf(this)+1}`}}class E4 extends Ih{constructor(e,{line:r,point:i,...n}){const a=i.x,s=i.y;let o;a===r.point1.x&&s===r.point1.y?o=nl(r.point2,r.point1,90):a===r.point2.x&&s===r.point2.y||i.isOnline(r)?o=nl(r.point1,i,90):o=xm(i,r);const l=o.x,u=o.y,c=e.create("Point",{isChild:!0,isFree:!1,isVisible:!1,color:"",x:a,y:s}),h=e.create("Point",{isChild:!0,isFree:!1,isVisible:!1,color:"",x:l,y:u});super(e,{point1:c,point2:h,...n}),this.type="LinePerpendicular",this.line=r,this.point=i,this.line.subscribe(this),this.point.subscribe(this),this.point1.unsubscribe(this),this.point2.unsubscribe(this)}toJSON(){return{...this.jsonOptions(),idLine:this.line.id,idPoint:this.point.id}}update(){const e=this.point.x,r=this.point.y;let i;e===this.line.point1.x&&r===this.line.point1.y?i=nl(this.line.point2,this.line.point1,90):e===this.line.point2.x&&r===this.line.point2.y?i=nl(this.line.point1,this.point,90):this.point.isOnline(this.line)?i=nl(this.line.point1,this.point,90):i=xm(this.point,this.line);const n=i.x,a=i.y;this.point1.moveTo(e,r),this.point2.moveTo(n,a),super.update()}get description(){const e=this.point.label!==""?this.point.label:this.point.id;return this.line.point1.label!==""&&this.line.point2.label!==""&&this.point.label!==""?`Droite perpendiculaire à $${this.line.notation}$ et passant par le point $${e}$`:`Droite perpendiculaire n°${[...this.figure.elements.values()].filter(n=>n instanceof E4).indexOf(this)+1}`}}class _T extends E4{constructor(e,{segment:r,...i}){const n=e.create("Middle",{isChild:!0,isSelectable:!0,isVisible:!1,point1:r.point1,point2:r.point2,shape:""});super(e,{line:r,point:n,...i}),this.type="PerpendicularBisector",this.notationSegment=r.notation}toJSON(){return{...this.jsonOptions(),idSegment:this.line.id}}get description(){return`Médiatrice du segment $${this.notationSegment}$`}get notation(){return`\\text{médiatrice de }${this.notationSegment}`}}class $ge extends _T{constructor(e,{point1:r,point2:i,...n}){const a=e.create("Segment",{isChild:!0,isSelectable:!0,isVisible:!1,point1:r,point2:i});super(e,{segment:a,...n}),this.type="PerpendicularBisectorByPoints"}toJSON(){return{...this.jsonOptions(),idPoint1:this.line.point1.id,idPoint2:this.line.point2.id}}get description(){const e=this.line.point1.label!==""?this.line.point1.label:this.line.point1.id,r=this.line.point2.label!==""?this.line.point2.label:this.line.point2.id;return`Médiatrice du segment $[${e}${r}]$`}}class _ge extends fn{constructor(e,{fillColor:r="none",fillOpacity:i=e.options.fillOpacity,isBuiltWithSegments:n=!0,points:a,shape:s="",...o}){if(super(e,o),this._fillColor="none",this._fillOpacity=.5,this.type="Polygon",Ige(a[0])){this.points=[];for(const l of a)this.points.push(this.figure.create("Point",{x:l.x,y:l.y,isVisible:!1,isChild:!1}))}else this.points=a;this.shape=s,this.segments=[],this.fillColor=r,this.fillOpacity=i,this.isBuiltWithSegments=n;for(const l of this.points)l.subscribe(this)}createSegments(){for(let e=0;e<this.points.length;e++){const r=this.points.at(e%this.points.length),i=this.points.at((e+1)%this.points.length),n=this.figure.create("Segment",{color:"",id:`${this.id}_segment${e.toString()}`,isChild:!0,point1:r,point2:i});this.segments.push(n)}for(const e of this.segments)e.createdBy=this}dilate(e,r,i){const n=[];for(const s of this.points)n.push(s.dilate(e,r,{isChild:!0,isVisible:!1}));const a=this.figure.create("Polygon",{points:n,...i});return a.transformation={center:e,factor:r,origin:this,type:"dilate"},a}distancePointer(e,r){if(this.figure.currentState==="FILL"&&this.figure.pointer.isInPolygon(this))return 0;let i=Number.POSITIVE_INFINITY;for(const n of this.segments){const a=n.distancePointer(e,r);a<i&&(i=a)}return i}draw(){this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","polygon"),this.groupSvg.setAttribute("fill",this.fillColor??"none"),this.groupSvg.setAttribute("fill-opacity",this.fillOpacity.toString()),this.setVisibilityColorThicknessAndDashed(),this.isBuiltWithSegments&&this.createSegments(),this.update()}reflect(e,r){const i=[];for(const a of this.points)i.push(a.reflect(e,{isChild:!0,isVisible:!1}));const n=this.figure.create("Polygon",{points:i,...r});return n.transformation={center:e,origin:this,type:"reflect"},n}reflectOverLine(e,r){const i=[];for(const a of this.points)i.push(a.reflectOverLine(e,{isChild:!0,isVisible:!1}));const n=this.figure.create("Polygon",{points:i,...r});return n.transformation={line:e,origin:this,type:"reflectOverLine"},n}rotate(e,r,i){const n=[];for(const s of this.points)n.push(s.rotate(e,r,{isChild:!0,isVisible:!1}));const a=this.figure.create("Polygon",{points:n,...i});return a.transformation={center:e,origin:this,angle:r,type:"rotation"},a}remove(){super.remove();for(const e of this.segments)e.remove()}toJSON(){const e=[];for(const r of this.points)e.push(r.id);return{...this.jsonOptions(),idPoints:e}}translate(e,r,i){const n=[];for(const s of this.points)n.push(s.translate(e,r,{isChild:!0,isVisible:!1}));const a=this.figure.create("Polygon",{points:n,...i});return a.transformation={origin:this,point1:e,point2:r,type:"translation"},a}update(){if(this.notify(),!Ege(this.points))this.groupSvg.removeAttribute("points");else{let e="";for(const r of this.points)e+=`${this.figure.xToSx(r.x).toString()},${this.figure.yToSy(r.y).toString()} `;this.groupSvg.setAttribute("points",e)}}get description(){var e,r,i,n,a,s,o,l;return((e=this.transformation)==null?void 0:e.type)==="reflect"?`Image du polygone $${this.transformation.origin.notation}$ dans la symétrie de centre $${(r=this.transformation)==null?void 0:r.center.notation}$`:((i=this.transformation)==null?void 0:i.type)==="reflectOverLine"?`Image du polygone $${this.transformation.origin.notation}$ dans la symétrie d'axe $${(n=this.transformation)==null?void 0:n.line.notation}$`:((a=this.transformation)==null?void 0:a.type)==="dilate"?`Image du polygone $${this.transformation.origin.notation}$ dans l'homothétie de centre $${(s=this.transformation)==null?void 0:s.center.notation}$ et de rapport $${this.transformation.factor}$`:((o=this.transformation)==null?void 0:o.type)==="rotation"?`Image du polygone $${this.transformation.origin.notation}$ dans la rotation de centre $${this.transformation.center.notation}$ et d'angle $${Math.abs(this.transformation.angle)}\\degree$ dans le sens ${this.transformation.angle>0?"anti-horaire":"horaire"}`:((l=this.transformation)==null?void 0:l.type)==="translation"?`Image du polygone $${this.transformation.origin.notation}$ dans la translation qui transforme $${this.transformation.point1.notation}$ en $${this.transformation.point2.notation}$`:`Polygone $${this.notation}$`}get fillColor(){return this._fillColor}set fillColor(e){this._fillColor=e,this.groupSvg.setAttribute("fill",this._fillColor)}get fillOpacity(){return this._fillOpacity??this.figure.options.fillOpacity}set fillOpacity(e){this._fillOpacity=e,e!==void 0&&this.groupSvg.setAttribute("fill-opacity",e.toString())}get latex(){let e=`% Polygone ${this.points.reduce((r,i)=>r+i.label,"")}`;e+=`
 \\draw [color=${vb(this.color?this.color:"none")},fill=${vb(this.fillColor?this.fillColor:"none")},fill opacity=${this.fillOpacity},line width=${this.thickness}] `;for(const r of this.points)e+=`(${r.x.toFixed(2)},${r.y.toFixed(2)}) -- `;return e+=" cycle;",e}get notation(){return this.points.reduce((e,r)=>{const i=r.label===""?r.id:r.label;return e+i},"")}}function Ege(t){for(const e of t)if(!Number.isFinite(e.x)||!Number.isFinite(e.y))return!1;return!0}function Ige(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"x"in t&&"y"in t&&typeof t.x=="number"&&typeof t.y=="number"}let Tge=class extends fn{constructor(e,{points:r,...i}){super(e,i),this.type="Polyline",this.points=r;for(const n of r)n.subscribe(this)}draw(){this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.groupSvg.setAttribute("fill","none"),this.setVisibilityColorThicknessAndDashed(),this.update()}toJSON(){const e=[];for(const r of this.points)e.push(r.id);return{...this.jsonOptions(),idPoints:e}}update(){if(this.notify(),!Lge(this.points))this.groupSvg.removeAttribute("points");else{let e="";for(const r of this.points)e+=`${this.figure.xToSx(r.x).toString()},${this.figure.yToSy(r.y).toString()} `;this.groupSvg.setAttribute("points",e)}}};function Lge(t){for(const e of t)if(!Number.isFinite(e.x)||!Number.isFinite(e.y))return!1;return!0}class Km extends fn{constructor(e,{anchor:r="middleCenter",backgroundColor:i,color:n="black",dxInPixels:a=0,dyInPixels:s=0,fontSize:o=e.options.fontSize,id:l,isChild:u=!1,isVisible:c=!0,text:h,x:p,y:d}){super(e,{id:l,isChild:u}),this._angleWithHorizontalInDegres=0,this.type="TextByPosition",this._x=p,this._y=d,this.div=document.createElement("div"),this._fontSize=o,this.dxInPixels=a,this.dyInPixels=s,this._text=h,this.backgroundColor=i,this._color=n,this.anchor=r,this.isVisible=c}draw(){var e;this.div.style.position="absolute",this.div.style.pointerEvents="none",(e=this.figure.divFigure)==null||e.appendChild(this.div),this.color!=="black"&&(this.div.style.color=this.color),this.backgroundColor!==void 0&&(this.div.style.backgroundColor=this.backgroundColor),this.text=this._text,this.x=this._x,this.y=this._y,this._angleWithHorizontalInDegres!==0&&(this.div.style.transform=this.div.style.transform.replace(/rotate\([0-9.]+deg\)/,""),this.div.style.transformOrigin="center",this.div.style.transform+=` rotate(${this._angleWithHorizontalInDegres}deg)`,this.div.style.transform+="translateY(-50%)",this.div.style.verticalAlign="middle"),this.div.style.alignItems="center",this.figure.scale-this.figure.initial.scale!==0&&(this._fontSize.includes("em")||this._fontSize.includes("pt")&&(this.fontSize=`${Number.parseFloat(this._fontSize)*(1+(this.figure.scale-this.figure.initial.scale))}pt`))}moveTo(e,r){this.x=e,this.y=r}remove(){this.figure.elements.delete(this.id),this.div.remove();for(const e of this.observers)e.remove()}update(){var i;this.x!==void 0&&this.y!==void 0&&this.moveTo(this.x,this.y),this.notify();const e=this.div.getBoundingClientRect(),r=(i=this.figure.svg)==null?void 0:i.getBoundingClientRect();r&&(e.right<r.left||e.left>r.right||e.bottom<r.top||e.top>r.bottom)?this.div.style.visibility="hidden":this.div.style.visibility="visible"}get isVisible(){return this._isVisible}set isVisible(e){var r;this._isVisible=e,e?(r=this.figure.divFigure)==null||r.appendChild(this.div):this.div.remove()}get opacity(){return this._opacity}set opacity(e){this._opacity=e,this.div.style.opacity=e.toString()}toJSON(){return{...this.jsonOptions(),backgroundColor:this.backgroundColor,color:this.color,name:this.id,text:this.text,x:et(this.x),y:et(this.y),anchor:this.anchor}}set angleWithHorizontalInDegres(e){this._angleWithHorizontalInDegres=e,this.div.style.transform=this.div.style.transform.replace(/rotate\([0-9.]+deg\)/,""),this.div.style.transformOrigin="center",this.div.style.transform+=` rotate(${e}deg)`}get angleWithHorizontalInDegres(){return this._angleWithHorizontalInDegres}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){this._backgroundColor=e,e!==void 0&&(this.div.style.backgroundColor=e)}get color(){return this._color}set color(e){this._color=e,this.div.style.color=e}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize=e,this.div.style.fontSize=e}get latex(){const e=[...this.figure.elements.values()].filter(r=>r.type==="Grid")[0];return e&&e.labels.indexOf(this)!==-1?"":this.text!=="$$"&&this.text!==""?`\\node[${this.latexOptions}] at (${this.x},${this.y}) {${this.text}};`:""}get latexOptions(){const e=super.latexOptions,r=e===""?[]:e.substring(1,e.length-1).split(","),i=[];this.dyInPixels>0?i.push("above"):this.dyInPixels<0&&i.push("below"),this.dxInPixels>0?i.push("right"):this.dxInPixels<0&&i.push("left");const n=i.join(" ");return i.length>0&&r.push(n),r.join(",")}get text(){return this._text}set text(e){this._text=e,this.div.innerHTML=e,mb(this.div,{delimiters:[{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"}],errorColor:"#CC0000",preProcess:r=>r.replaceAll(" ","\\,"),strict:"warn",throwOnError:!0,trust:!1})}get x(){return this._x}set x(e){var i;let r="";this.anchor.includes("Left")?this.div.style.left=`${this.figure.xToSx(e-this.figure.xMin).toString()}px`:this.anchor.includes("Right")?((i=this.figure.divFigure)==null?void 0:i.clientWidth)!==void 0&&this.figure.divFigure.clientWidth>this.figure.width?this.div.style.right=`${(this.figure.xToSx(-e+this.figure.xMax)+Math.max(0,this.figure.divFigure.clientWidth-this.figure.width)).toString()}px`:this.div.style.right=`${this.figure.xToSx(-e+this.figure.xMax).toString()}px`:this.anchor.includes("Center")&&(this.div.style.left=`${this.figure.xToSx(e-this.figure.xMin).toString()}px`,r+="translateX(-50%)"),this.anchor.includes("middle")&&(r+="translateY(-50%)"),(this.dxInPixels!==0||this.dyInPixels!==0)&&(r+=` translate(${this.dxInPixels.toString()}px, ${-this.dyInPixels.toString()}px)`),this.div.style.fontSize=this._fontSize,this.div.style.transform=r,this._x=e}get y(){return this._y}set y(e){this.anchor.includes("top")?this.div.style.top=`${this.figure.yToSy(e-this.figure.yMax).toString()}px`:this.anchor.includes("bottom")?this.div.style.bottom=`${this.figure.yToSy(-e+this.figure.yMin).toString()}px`:this.anchor.includes("middle")&&(this.div.style.top=`${this.figure.yToSy(e-this.figure.yMax).toString()}px`),this._y=e}}class zge extends Km{constructor(e,{color:r=e.options.color,fontSize:i=e.options.fontSize,point1:n,point2:a,text:s=e.options.mark}){const o=(n.x+a.x)/2,l=(n.y+a.y)/2;super(e,{color:r,fontSize:i,text:s,x:o,y:l}),this.type="MarkSegment",this.fontSize=i,this._color=r,this.point1=n,this.point2=a,this.point1.subscribe(this),this.point2.subscribe(this);const u=rC(this.point1,this.point2);this.angleWithHorizontalInDegres=-u,this.type="MarkBetweenPoints",this.erasePreviousMarks()}draw(){super.draw(),this.update()}erasePreviousMarks(){const e=[...this.figure.elements.values()].filter(r=>r instanceof fn&&r.type==="MarkBetweenPoints");for(const r of e)r.id!==this.id&&(r.point1.id===this.point1.id&&r.point2.id===this.point2.id||r.point1.id===this.point2.id&&r.point2.id===this.point1.id)&&r.remove()}update(){var e;if(this.x=(this.point1.x+this.point2.x)/2,this.y=(this.point1.y+this.point2.y)/2,this.div!==void 0){this.text!=="||"&&this.text!=="|||"&&(this.div.style.fontFamily="Courier New"),this.div.style.fontWeight="bold",this.div.style.fontSize=this.fontSize,this.div.style.transformOrigin="center center",this.div.style.transformBox="fill-box",this.div.style.transform="translate(-50%, -50%)",this.div.classList.add("-tracking-2");const r=rC(this.point1,this.point2);this.div.style.transform+=`rotate(${-r}deg)`;const i=this.div.getBoundingClientRect(),n=(e=this.figure.svg)==null?void 0:e.getBoundingClientRect();n&&(i.right<n.left||i.left>n.right||i.bottom<n.top||i.top>n.bottom)?this.div.style.visibility="hidden":this.div.style.visibility="visible"}this.notify()}toJSON(){return{...this.jsonOptions(),color:this.color,text:this.text,idPoint1:this.point1.id,idPoint2:this.point2.id}}}class Bge extends fn{constructor(e,{point:r,directionPoint:i,size:n=.4,...a}){super(e,{...a}),this.directionPoint=i,this.point=r,this.size=n,this.type="MarkRightAngle",this.point.subscribe(this),this.directionPoint.subscribe(this),this.svgPolygon=document.createElementNS("http://www.w3.org/2000/svg","polygon"),this.groupSvg.appendChild(this.svgPolygon),this.update(),this.setVisibilityColorThicknessAndDashed()}draw(){this.update()}update(){const e=this.figure.xToSx(this.point.x),r=this.figure.yToSy(this.point.y),i=cg(this.directionPoint,this.point,this.size/hn(this.point,this.directionPoint)),n=this.figure.xToSx(i.x),a=this.figure.yToSy(i.y),s=nl(this.point,i,-90),o=this.figure.xToSx(s.x),l=this.figure.yToSy(s.y),u=nl(i,this.point,90),c=this.figure.xToSx(u.x),h=this.figure.yToSy(u.y);this.svgPolygon.setAttribute("points",`${e},${r} ${n},${a} ${o},${l} ${c},${h}`),this.svgPolygon.setAttribute("fill","none"),this.notify()}toJSON(){return{...this.jsonOptions(),color:this.color,idPoint:this.point.id,idDirectionPoint:this.directionPoint.id}}get latex(){const e=cg(this.directionPoint,this.point,this.size/hn(this.point,this.directionPoint)),r=nl(this.point,e,-90),i=nl(e,this.point,90);let n=`% Angle droit en ${this.point.label}`;return n+=`
\\draw${this.latexOptions} (${this.point.x},${this.point.y}) -- (${e.x},${e.y}) -- (${r.x},${r.y}) -- (${i.x},${i.y}) -- cycle;`,n}}class Oge extends ca{constructor(e,{points:r,...i}){const n=r.reduce((s,o)=>s+o.x,0)/r.length,a=r.reduce((s,o)=>s+o.y,0)/r.length;super(e,{x:n,y:a,...i}),this.type="Barycenter",this.points=r;for(const s of this.points)s.subscribe(this)}update(){const e=this.points.reduce((i,n)=>i+n.x,0)/this.points.length,r=this.points.reduce((i,n)=>i+n.y,0)/this.points.length;this._x=e,this._y=r,super.update()}}class Fge extends ca{constructor(e,{point1:r,point2:i,...n}){const[a,s]=Pge(r,i);super(e,{isFree:!1,x:a,y:s,...n}),this.type="Middle",this.point1=r,this.point2=i,this.point1.subscribe(this),this.point2.subscribe(this)}toJSON(){return{...this.jsonOptions(),idPoint1:this.point1.id,idPoint2:this.point2.id}}update(){var e,r,i,n;((e=this.point1)==null?void 0:e.x)===void 0||((r=this.point2)==null?void 0:r.x)===void 0||((i=this.point1)==null?void 0:i.y)===void 0||((n=this.point2)==null?void 0:n.y)===void 0||Number.isNaN(this.point1.x)||Number.isNaN(this.point1.y)||Number.isNaN(this.point2.x)||Number.isNaN(this.point2.y)?(this._x=Number.NaN,this._y=Number.NaN):(this._x=(this.point1.x+this.point2.x)/2,this._y=(this.point1.y+this.point2.y)/2),super.update(),this.notify()}get description(){const e=this.point1.label!==""?this.point1.label:this.point1.id,r=this.point2.label!==""?this.point2.label:this.point2.id;return`Milieu de $[${e}${r}]$`}}function Pge(t,e){return Number.isNaN(t.x)||Number.isNaN(t.y)||Number.isNaN(e.x)||Number.isNaN(e.y)?[Number.NaN,Number.NaN]:[(t.x+e.x)/2,(t.y+e.y)/2]}class Rge extends ca{constructor(e,{abscissa:r=!1,graph:i,ordinate:n=!1,x:a=1,...s}){super(e,{x:a,y:i.f(a),...s}),this.type="PointOnGraph",this.graph=i,this.graph.subscribe(this)}moveTo(e){let r=e;e>this.graph.xMax&&(r=this.graph.xMax),e<this.graph.xMin&&(r=this.graph.xMin),this.x=r}toJSON(){return{...this.jsonOptions(),idGraph:this.graph.id,label:this.label,shape:this.shape,sizeInPixels:this.sizeInPixels,x:this.x}}get x(){return this._x}set x(e){e>this.figure.xMax||e<this.figure.xMin||this.graph.f(e)>this.figure.yMax||this.graph.f(e)<this.figure.yMin||(this._x=e,this._y=this.graph.f(e),this.update())}get y(){return this.graph.f(this.x)}}class jge extends ca{constructor(e,{line:r,origin:i,...n}){const{x:a,y:s}=xm(i,r);super(e,{isFree:!1,x:a,y:s,...n}),this.type="PointByProjection",this.origin=i,this.line=r,this.origin.subscribe(this),this.line.subscribe(this)}toJSON(){return{...this.jsonOptions(),idLine:this.line.id,idOrigin:this.origin.id,label:this.label,shape:this.shape,sizeInPixels:this.sizeInPixels}}update(){const{x:e,y:r}=xm(this.origin,this.line);this._x=e,this._y=r,super.update()}get description(){const e=this.line.notation;return`Projection orthogonale de $${this.origin.label!==""?this.origin.label:this.origin.id}$ sur $${e}$`}}class qge extends ca{constructor(e,{origin:r,...i}){super(e,{isFree:!1,x:r.x,y:0,...i}),this.type="PointByProjectionOnAxisX",this.origin=r,this.origin.subscribe(this)}toJSON(){return{...this.jsonOptions(),idOrigin:this.origin.id,label:this.label,shape:this.shape,sizeInPixels:this.sizeInPixels}}update(){this._x=this.origin.x,this._y=0,super.update()}}class Uge extends ca{constructor(e,{origin:r,...i}){super(e,{isFree:!1,x:0,y:r.x,...i}),this.type="PointByProjectionOnAxisY",this.origin=r,this.origin.subscribe(this)}toJSON(){return{...this.jsonOptions(),idOrigin:this.origin.id,label:this.label,shape:this.shape,sizeInPixels:this.sizeInPixels}}update(){this._x=0,this._y=this.origin.y,super.update()}}class Vge extends ca{constructor(e,{circle1:r,circle2:i,isChild:n,n:a,...s}){const o=iC(r,i,a);super(e,{isChild:n,isFree:!1,x:o.x,y:o.y,...s}),this.type="PointIntersectionCC",this.circle1=r,this.circle2=i,this.n=a??1,this.circle1.subscribe(this),this.circle2.subscribe(this)}toJSON(){return{...this.jsonOptions(),idCircle1:this.circle1.id,idCircle2:this.circle2.id,label:this.label,n:this.n,shape:this.shape}}update(){if(!(this.circle1==null||this.circle2==null)){try{const{x:e,y:r}=iC(this.circle1,this.circle2,this.n);this._x=e,this._y=r,super.update()}catch(e){console.error("Erreur dans PointIntersectionLL.update()",e)}this.notify()}}get description(){return this.label?`Point ${this.label}, intersection du cercle $${this.circle1.label}$ et du cercle $${this.circle2.label}$`:`Intersection du cercle $${this.circle1.label}$ et du cercle $${this.circle2.label}$`}}class Gge extends ca{constructor(e,{circle:r,line:i,n,...a}){const s=aC(i,r,n);super(e,{isFree:!1,x:s.x,y:s.y,...a}),this.type="PointIntersectionLC",this.line=i,this.circle=r,this.n=n??1,this.line.subscribe(this),this.circle.subscribe(this)}toJSON(){return{...this.jsonOptions(),idCircle:this.circle.id,idLine:this.line.id,label:this.label,n:this.n,shape:this.shape}}update(){if(!(this.line===void 0||this.circle===void 0)){try{const{x:e,y:r}=aC(this.line,this.circle,this.n);this._x=e,this._y=r,this.isOnline(this.line)||(this._x=Number.NaN,this._y=Number.NaN),super.update()}catch(e){console.error("Erreur dans PointIntersectionLL.update()",e)}this.notify()}}get description(){const e=this.line.notation,r=this.circle.id;return`Intersection de la droite $${e}$ et du cercle $${r}$`}}class Zge extends ca{constructor(e,{angleWithHorizontal:r,circle:i,label:n,...a}){r===void 0&&(r=Math.random()*2*Math.PI),super(e,{label:n,x:i.center.x+i.radius*Math.cos(r),y:i.center.y+i.radius*Math.sin(r),...a}),this.figure=e,this.circle=i,this.angleWithHorizontal=r,this.isFree=!0,this.type="PointOnCircle",this.circle.subscribe(this)}moveTo(e,r){const i=Math.atan2(r-this.circle.center.y,e-this.circle.center.x);this.angleWithHorizontal=i,this.x=this.circle.center.x+this.circle.radius*Math.cos(i),this.y=this.circle.center.y+this.circle.radius*Math.sin(i),this.update()}toJSON(){return{...this.jsonOptions(),angleWithHorizontal:this.angleWithHorizontal,idCircle:this.circle.id,label:this.label}}update(){this._x=this.circle.center.x+this.circle.radius*Math.cos(this.angleWithHorizontal),this._y=this.circle.center.y+this.circle.radius*Math.sin(this.angleWithHorizontal),super.update()}get description(){return`Point sur le cercle $${this.circle.label}$`}}class Hge extends ca{constructor(e,{distance:r,line:i,...n}){const{x:a,y:s}=cg(i.point1,i.point2,r/wm(i.point1,i.point2));super(e,{x:a,y:s,...n}),this.line=i,this.distance=r,this.line.subscribe(this)}update(){const{x:e,y:r}=cg(this.line.point1,this.line.point2,this.distance/wm(this.line.point1,this.line.point2));this._x=e,this._y=r,super.update()}}function fx(t,e){const r=t.points.map(u=>u.x),i=t.points.map(u=>u.y);let n=0;for(;n<r.length-1&&e>r[n+1];)n++;if(n===r.length-1)return Number.NaN;const a=r[n],s=r[n+1],o=i[n],l=i[n+1];return o+(l-o)*(e-a)/(s-a)}class Wge extends ca{constructor(e,{polyline:r,x:i,dx:n=.05,shape:a="|",abscissa:s=!1,ordinate:o=!1,...l}){const u=r.points.map(h=>h.x),c=i??u[Math.floor(u.length/2)];super(e,{x:c,y:fx(r,c),...l}),this.lesX=[...u],this.type="PointOnPolyline",this.polyline=r,this.dx=n,this.abscissa=s,this.ordinate=o}get x(){return this._x}set x(e){this.dx!==void 0?this._x=Math.round(e/this.dx)*this.dx:this._x=e,this._y=fx(this.polyline,this._x),this.update()}get y(){return fx(this.polyline,this._x)}moveTo(e){e>this.lesX[0]&&e<this.lesX[this.lesX.length-1]&&(this.x=e)}toJSON(){return{...this.jsonOptions(),x:this.x,dx:this.dx,idPolyline:this.polyline.id}}}class Yge extends fn{constructor(e,{circle1:r,circle2:i,shape:n,sizeInPixels:a,...s}){super(e,s),this.type="PointsIntersectionCC",this.circle1=r,this.circle2=i,this.shape=n??"x",this.sizeInPixels=a}draw(){this.point1=this.figure.create("PointIntersectionCC",{circle1:this.circle1,circle2:this.circle2,id:`${this.id}_1`,n:1,shape:this.shape,sizeInPixels:this.sizeInPixels}),this.point2=this.figure.create("PointIntersectionCC",{circle1:this.circle1,circle2:this.circle2,id:`${this.id}_2`,n:2,shape:this.shape,sizeInPixels:this.sizeInPixels})}toJSON(){return{...this.jsonOptions(),idCircle1:this.circle1.id,idCircle2:this.circle2.id,shape:this.shape,sizeInPixels:this.sizeInPixels}}}class Kge extends fn{constructor(e,{circle:r,line:i,shape:n="x",sizeInPixels:a,...s}){super(e,s),this.type="PointsIntersectionLC",a=a??e.options.pointSize,this.line=i,this.circle=r,this.point1=e.create("PointIntersectionLC",{circle:r,line:i,n:1,shape:n,sizeInPixels:a,...s}),this.point2=e.create("PointIntersectionLC",{circle:r,line:i,n:2,shape:n,sizeInPixels:a,...s}),this.shape=n,this.sizeInPixels=a}draw(){}toJSON(){return{...this.jsonOptions(),idCircle:this.circle.id,idLine:this.line.id,shape:this.shape,sizeInPixels:this.sizeInPixels}}}class Xge extends Km{constructor(e,{color:r="black",dxInPixels:i=0,dyInPixels:n=0,id:a,isChild:s,point:o,text:l,...u}){super(e,{color:r,dxInPixels:i,dyInPixels:n,id:a,isChild:s,text:l,x:o.x,y:o.y,...u}),this.type="TextByPoint",this.dxInPixels=i,this.dyInPixels=n,this.point=o,this.point.subscribe(this)}moveTo(e,r){const[i,n]=[this.x,this.y];this.dxInPixels=Math.round(this.figure.xToSx(e-this.point.x)/this.figure.options.moveTextGrid)*this.figure.options.moveTextGrid,this.dyInPixels=Math.round(this.figure.yToSy(this.point.y-r)/this.figure.options.moveTextGrid)*this.figure.options.moveTextGrid,this.point.labelDxInPixels=this.dxInPixels,this.point.labelDyInPixels=this.dyInPixels,this.x=i,this.y=n}toJSON(){return{...this.jsonOptions(),point:this.point.id,text:this.text}}update(){var e,r;((e=this.point)==null?void 0:e.x)!==void 0&&((r=this.point)==null?void 0:r.y)!==void 0&&super.moveTo(this.point.x,this.point.y),this.notify()}}class Qge extends Km{constructor(e,{color:r="black",dynamicNumber:i,isChild:n=!1,maximumFractionDigits:a=FH,minimumFractionDigits:s=0,textAfter:o="",textBefore:l="",x:u,y:c}){const h=l+Intl.NumberFormat("fr-FR",{maximumFractionDigits:a,minimumFractionDigits:s}).format(i.value)+o;super(e,{color:r,isChild:n,text:h,x:u,y:c}),this.type="TextDynamicByPosition",this.dynamicNumber=i,this.textBefore=l,this.textAfter=o,this.minimumFractionDigits=s,this.maximumFractionDigits=a,i.subscribe(this)}toJSON(){return{...this.jsonOptions(),idDynamicNumber:this.dynamicNumber.id,maximumFractionDigits:this.maximumFractionDigits,minimumFractionDigits:this.minimumFractionDigits,textAfter:this.textAfter,textBefore:this.textBefore,x:et(this.x),y:et(this.y)}}update(){this.text=this.textBefore+Intl.NumberFormat("fr-FR",{maximumFractionDigits:this.maximumFractionDigits,minimumFractionDigits:this.minimumFractionDigits}).format(this.dynamicNumber.value)+this.textAfter}}class ET extends fn{constructor(e,{color:r,id:i,isChild:n,isDashed:a,isVisible:s=!0,label:o,labelColor:l,labelDxInPixels:u,labelDyInPixels:c,origin:h,opacity:p,thickness:d,x:m,y:f,...v}){super(e,{color:r,id:i,isChild:n,isDashed:a,thickness:d,isVisible:s,...v}),this.type="Vector",this.x=m,this.y=f,this.origin=h,this._labelColor=l??this._color,this.label=o,this.labelDxInPixels=u??0,this.labelDyInPixels=c??0}draw(){this.origin!==void 0&&(this.origin.subscribe(this),this.end=this.figure.create("Point",{isChild:!0,isFree:!1,isSelectable:!0,isVisible:this.isVisible,shape:"",x:this.origin.x+this.x,y:this.origin.y+this.y}),this.representation=this.figure.create("Segment",{color:this.color,isChild:!0,isDashed:this.isDashed,isSelectable:!0,isVisible:this.isVisible,point1:this.origin,point2:this.end,shape:"->",thickness:this.thickness}))}toJSON(){var e;return{...this.jsonOptions(),idOrigin:(e=this.origin)==null?void 0:e.id,x:et(this.x),y:et(this.y),label:this.label,labelColor:this.labelColor}}update(){if(this.notify(),this.origin!==void 0&&this.end!==void 0&&(this.end.x=this.origin.x+this.x,this.end.y=this.origin.y+this.y),this.elementTextLabel!==void 0){const{x:e,y:r}=hg(this.origin,this.end);this.elementTextLabel.x=e,this.elementTextLabel.y=r}}get color(){return this._color}set color(e){this._color=e,this.representation!==void 0&&(this.representation.color=e)}get isDashed(){return this._isDashed}set isDashed(e){this._isDashed=e,this.representation!==void 0&&(this.representation.isDashed=e)}get isVisible(){return this._isVisible}set isVisible(e){this._isVisible=e,this.representation!==void 0&&(this.representation.isVisible=e),this.elementTextLabel!==void 0&&(this.elementTextLabel.isVisible=e)}get label(){return this._label===void 0?"":this._label}set label(e){if(this._label=e,e!==void 0)if(this.elementTextLabel===void 0){const r=this.origin.x+this.x,i=this.origin.y+this.y,{x:n,y:a}=hg(this.origin,{x:r,y:i});this.elementTextLabel=this.figure.create("TextByPosition",{color:this._labelColor??this._color,dxInPixels:this.labelDxInPixels,dyInPixels:this.labelDyInPixels,id:`${this.id}_label`,isChild:!0,isSelectable:!0,isVisible:this.isVisible,x:n,y:a,text:`$${e}$`})}else this.elementTextLabel.text=`$${e}$`,this.elementTextLabel.color=this._labelColor??"currentColor"}get labelColor(){return this._labelColor}set labelColor(e){this._labelColor=e,this.elementTextLabel!==void 0&&(this.elementTextLabel.color=e)}get notation(){return this.label!==""?this.label:this.id}get opacity(){return this._opacity}set opacity(e){this._opacity=e,this.representation!==void 0&&(this.representation.opacity=e),this.elementTextLabel!==void 0&&(this.elementTextLabel.opacity=e)}get thickness(){return this._thickness}set thickness(e){this._thickness=e,this.representation!==void 0&&(this.representation.thickness=e)}}class Jge extends f0{constructor(e,{point1:r,point2:i,label:n,...a}){super(e,{point1:r,point2:i,...a}),this.type="VectorByPoints",this.shape="->",this.label=n,this.labelDxInPixels=a.labelDxInPixels??0,this.labelDyInPixels=a.labelDyInPixels??0}get label(){return this._label===void 0?"":this._label}set label(e){if(this._label=e,e!==void 0)if(this.elementTextLabel===void 0){const{x:r,y:i}=hg(this.point1,this.point2);this.elementTextLabel=this.figure.create("TextByPosition",{color:this._colorLabel??this.color,dxInPixels:this.labelDxInPixels,dyInPixels:this.labelDyInPixels,id:`${this.id}_label`,isChild:!0,isSelectable:!0,x:r,y:i,text:`$${e}$`})}else this.elementTextLabel.text=`$${e}$`,this.elementTextLabel.color=this._colorLabel??"currentColor"}get x(){return this.point2.x-this.point1.x}get y(){return this.point2.y-this.point1.y}update(){if(super.update(),this.elementTextLabel!==void 0){const{x:e,y:r}=hg(this.point1,this.point2);this.elementTextLabel.x=e,this.elementTextLabel.y=r}}toJSON(){return{...this.jsonOptions(),idPoint1:this.point1.id,idPoint2:this.point2.id,label:this.label}}}class e4e extends ET{constructor(e,{line:r,origin:i,...n}){const[a,s]=r.equation;super(e,{origin:i,x:a,y:s,...n}),this.type="VectorPerpendicular",this.line=r,this.origin=i,r.subscribe(this),i.subscribe(this)}toJSON(){return{...this.jsonOptions(),idLine:this.line.id,idOrigin:this.origin.id}}update(){this.notify();const[e,r]=this.line.equation;this.x=e,this.y=r,this.end!==void 0&&(this.end.x=this.origin.x+this.x,this.end.y=this.origin.y+this.y)}}function t4e(){try{return window.localStorage.setItem("__test__","__test__"),window.localStorage.removeItem("__test__"),!0}catch{return!1}}function IT(t,e,r){var n,a,s,o;const i=[...t.elements.values()].filter(l=>l instanceof fn);t.hoverPoints.clear();for(const l of i)l.isHover=l.type!=="pointer"&&l.isVisible&&l.isSelectable&&t.filter(l)&&l.distancePointer(e,r)*t.pixelsPerUnit<Hk,l.isHover&&l instanceof ca&&l.isFree&&t.hoverPoints.add(l),t.hoverPoints.size>0&&typeof((a=(n=t==null?void 0:t.ui)==null?void 0:n.state)==null?void 0:a.value)=="object"&&"POINT"in((o=(s=t==null?void 0:t.ui)==null?void 0:s.state)==null?void 0:o.value)?t.divFigure.style.cursor="move":t.divFigure.style.cursor="default"}function r4e(t,e){var u;const[r,i]=t.getPointerCoord(e),[n,a]=[r,i];if(n>t.xMax||n<t.xMin||a>t.yMax||a<t.yMin)return;if(t.currentState==="POINT"){const c=[...t.elements.values()].filter(h=>h.type.includes("Point"));for(const h of c)if(hn({x:n,y:a},{x:h.x,y:h.y})<t.options.distanceWithoutNewPoint)return}const s=[];(u=t.modal)==null||u.remove();const l=[...t.elements.values()].filter(c=>c instanceof fn).filter(t.filter).filter(c=>c.type!=="pointer"&&c.isVisible&&c.isSelectable);for(const c of l)c.distancePointer(r,i)*t.pixelsPerUnit<Hk&&c.isSelectable&&s.push(c);if(s.length===1)qp(t,{element:s[0],x:n,y:a});else if(t.currentState==="POINT_INTERSECTION"&&s.length===2&&(s[0]instanceof f0||s[0]instanceof _4)&&(s[1]instanceof f0||s[1]instanceof _4))qp(t,{element:void 0,possibleElements:s,x:n,y:a});else if(s.length>1){const c=s.filter(d=>d instanceof ca);if(c.length===1){qp(t,{element:c[0],x:n,y:a});return}const h=new Km(t,{isChild:!0,isSelectable:!1,text:"",x:r+PH,y:Math.min(i,t.yMax-2)});h.draw(),t.modal=h.div,t.modal.style.pointerEvents="auto",t.modal.style.padding="10px",t.modal.style.overflowY="auto",t.modal.style.backgroundColor=og.titlelight,t.modal.style.color=og.title,t.modal.style.boxShadow="0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",t.modal.style.touchAction="none",t.modal.innerText="Quel élément souhaitez-vous sélectionner ?";const p=[];for(const d of s){const m=document.createElement("div");m.innerText=d.description!==""?d.description:`${d.type} ${d.id}`,m.addEventListener("click",()=>{h.remove(),qp(t,{element:d,x:n,y:a})}),m.addEventListener("mouseenter",()=>{m.style.backgroundColor=og.lightest}),m.addEventListener("mouseleave",()=>{m.style.backgroundColor=og.titlelight}),m.style.marginTop="5px",m.style.marginLeft="10px",m.style.userSelect="none",m.style.cursor="default",p.push(m),mb(m,{delimiters:[{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"}],errorColor:"#CC0000",preProcess:f=>f.replaceAll(" ","\\,"),strict:"warn",throwOnError:!0,trust:!1})}for(const d of p)t.modal.appendChild(d);qp(t,{element:void 0,possibleElements:s,waitingWithModal:!0,x:n,y:a})}else qp(t,{element:void 0,x:n,y:a})}function qp(t,{element:e,possibleElements:r,waitingWithModal:i,x:n,y:a}){t.ui!==void 0&&t.ui.send("clickLocation",{element:e,possibleElements:r,waitingWithModal:i??!1,x:n,y:a})}const i4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg6638'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='DteBis.svg'%3e%3cdefs%20id='defs6640'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='0.35'%20inkscape:cx='-231.85714'%20inkscape:cy='-211.14285'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1920'%20inkscape:window-height='1017'%20inkscape:window-x='1272'%20inkscape:window-y='-8'%20inkscape:window-maximized='1'%20/%3e%3cmetadata%20id='metadata6643'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-85.428573,-149.21935)'%3e%3crect%20style='color:%23000000;display:inline;overflow:visible;visibility:visible;opacity:0.1;fill:none;stroke:%23000000;stroke-width:0.81904763;stroke-miterlimit:4;stroke-dasharray:none;marker:none;enable-background:accumulate'%20id='rect5045-5-5-1'%20width='171.18095'%20height='171.18095'%20x='85.838097'%20y='149.62888'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\128\\DteBis.png'%20inkscape:export-xdpi='66.980003'%20inkscape:export-ydpi='66.980003'%20/%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1'%20d='M%20112.73872,286.8381%20228.70423,168.04416'%20id='path3836'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='cc'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\128\\DteBis.png'%20inkscape:export-xdpi='66.980003'%20inkscape:export-ydpi='66.980003'%20/%3e%3cpath%20sodipodi:type='arc'%20style='opacity:1;fill:none;stroke:%230e232e;stroke-width:6;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='path3838'%20sodipodi:cx='114.15295'%20sodipodi:cy='284.71677'%20sodipodi:rx='62.225395'%20sodipodi:ry='62.225395'%20d='m%20120.94179,222.86281%20a%2062.225395,62.225395%200%200%201%2055.03736,54.81689'%20sodipodi:start='4.8217075'%20sodipodi:end='6.1698529'%20sodipodi:open='true'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\128\\DteBis.png'%20inkscape:export-xdpi='66.980003'%20inkscape:export-ydpi='66.980003'%20/%3e%3cpath%20style='fill:none;stroke:%23009100;stroke-width:5;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20142.4372,217.54163%20c%20-9.89949,20.5061%20-9.89949,20.5061%20-9.89949,20.5061'%20id='path3840'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\128\\DteBis.png'%20inkscape:export-xdpi='66.980003'%20inkscape:export-ydpi='66.980003'%20/%3e%3cpath%20style='fill:none;stroke:%23009100;stroke-width:5;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20179.20675,254.31119%20-19.79899,8.48528'%20id='path3842'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\128\\DteBis.png'%20inkscape:export-xdpi='66.980003'%20inkscape:export-ydpi='66.980003'%20/%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%20112.03161,286.131%20127.58796,165.21573'%20id='path3052'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\128\\DteBis.png'%20inkscape:export-xdpi='66.980003'%20inkscape:export-ydpi='66.980003'%20/%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%20112.73872,286.8381%20239.31083,269.16043'%20id='path3834'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\128\\DteBis.png'%20inkscape:export-xdpi='66.980003'%20inkscape:export-ydpi='66.980003'%20/%3e%3c/g%3e%3c/svg%3e",n4e="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDguNTQyMjIxbW0iCiAgIGhlaWdodD0iNDguNTQyMjIxbW0iCiAgIHZpZXdCb3g9IjAgMCAxNzIgMTcyIgogICBpZD0ic3ZnNDkwNyIKICAgdmVyc2lvbj0iMS4xIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjEuMSAoM2JmNWFlMGQyNSwgMjAyMS0wOS0yMCkiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkNlcmNPUi5zdmciCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0OTA5IiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI5Ljk2MzY2MyIKICAgICBpbmtzY2FwZTpjeD0iOTEuNzMzMzMxIgogICAgIGlua3NjYXBlOmN5PSI5MS43MzMzMzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgZml0LW1hcmdpbi10b3A9IjAiCiAgICAgZml0LW1hcmdpbi1sZWZ0PSIwIgogICAgIGZpdC1tYXJnaW4tcmlnaHQ9IjAiCiAgICAgZml0LW1hcmdpbi1ib3R0b209IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIzODQwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjIwNjYiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjE2MDkiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii0xMSIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOnBhZ2VjaGVja2VyYm9hcmQ9IjAiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNDkxMiI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iQ2FscXVlIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMjg1NzE1MDksMi4yMDkyMjQ3KSI+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6Ny45OTE5NDI0MTtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxO21hcmtlci1lbmQ6bm9uZSIKICAgICAgIGQ9Im0gODUuNzE0MjU4LDgzLjc5MDc4NCBjIDc0Ljg0ODk5MiwtMSA3NC44NDg5OTIsLTEgNzQuODQ4OTkyLC0xIgogICAgICAgaWQ9InBhdGg0MjI5IgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iQzpcVXNlcnNcU2ViXERvd25sb2Fkc1xtYXRoc1xNYXRoZ3JhcGgzMlxJY29uZXNccG5nXDQ4XENlcmNPUi5wbmciCiAgICAgICBpbmtzY2FwZTpleHBvcnQteGRwaT0iMjUuMTE2MjgiCiAgICAgICBpbmtzY2FwZTpleHBvcnQteWRwaT0iMjUuMTE2MjgiIC8+CiAgICA8Y2lyY2xlCiAgICAgICByPSI3NSIKICAgICAgIGN5PSI4NC43OTA3ODciCiAgICAgICBjeD0iODUuNzE0MjY0IgogICAgICAgc3R5bGU9ImNvbG9yOiMwMDAwMDA7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTt2aXNpYmlsaXR5OnZpc2libGU7ZmlsbDpub25lO3N0cm9rZTojMGUyMzJlO3N0cm9rZS13aWR0aDoxMDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eToxO21hcmtlcjpub25lO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDMzODYtMSIKICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iQzpcVXNlcnNcU2ViXERvd25sb2Fkc1xtYXRoc1xNYXRoZ3JhcGgzMlxJY29uZXNccG5nXDQ4XENlcmNPUi5wbmciCiAgICAgICBpbmtzY2FwZTpleHBvcnQteGRwaT0iMjUuMTE2MjgiCiAgICAgICBpbmtzY2FwZTpleHBvcnQteWRwaT0iMjUuMTE2MjgiIC8+CiAgICA8ZwogICAgICAgYXJpYS1sYWJlbD0iUiIKICAgICAgIHRyYW5zZm9ybT0ic2NhbGUoMC45MzM1MjQ4MiwxLjA3MTIwODgpIgogICAgICAgaWQ9InRleHQ0MjI1IgogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTo4LjIwNDg4cHg7bGluZS1oZWlnaHQ6MCU7Zm9udC1mYW1pbHk6J0luZGllIEZsb3dlcic7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonSW5kaWUgRmxvd2VyJztsZXR0ZXItc3BhY2luZzowcHg7d29yZC1zcGFjaW5nOjBweCI+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Ik0gMTE1Ljc2MDYsNjMuMjAwODU1IFYgMzIuMDc1NDEzIGggMTMuMjI3MjUgcSA0Ljk4OTQxLDAgNy4yMzk5NiwwLjg0OTI2MiAyLjI3MTc3LDAuODI4MDMgMy42MzA1OSwyLjk3MjQxNiAxLjM1ODgyLDIuMTQ0Mzg1IDEuMzU4ODIsNC45MDQ0ODYgMCwzLjUwMzIwNSAtMi4wNTk0Niw1Ljc5NjIxMSAtMi4wNTk0NiwyLjI3MTc3NiAtNi4xNTcxNSwyLjg2NjI1OSAyLjAzODIzLDEuMTg4OTY2IDMuMzU0NTksMi42MTE0OCAxLjMzNzU4LDEuNDIyNTEzIDMuNTg4MTMsNS4wNTMxMDcgbCAzLjgwMDQ0LDYuMDcyMjIxIGggLTcuNTE1OTYgbCAtNC41NDM1NSwtNi43NzI4NjIgcSAtMi40MjA0LC0zLjYzMDU5NCAtMy4zMTIxMywtNC41NjQ3ODIgLTAuODkxNzIsLTAuOTU1NDE5IC0xLjg4OTYsLTEuMjk1MTI0IC0wLjk5Nzg4LC0wLjM2MDkzNiAtMy4xNjM1LC0wLjM2MDkzNiBoIC0xLjI3MzkgdiAxMi45OTM3MDQgeiBtIDYuMjg0NTMsLTE3Ljk2MTg4NSBoIDQuNjQ5NzEgcSA0LjUyMjMyLDAgNS42NDc1OSwtMC4zODIxNjggMS4xMjUyOCwtMC4zODIxNjggMS43NjIyMiwtMS4zMTYzNTYgMC42MzY5NSwtMC45MzQxODggMC42MzY5NSwtMi4zMzU0NyAwLC0xLjU3MTEzNCAtMC44NDkyNiwtMi41MjY1NTMgLTAuODI4MDMsLTAuOTc2NjUxIC0yLjM1NjcxLC0xLjIzMTQzIC0wLjc2NDMzLC0wLjEwNjE1NyAtNC41ODYwMSwtMC4xMDYxNTcgaCAtNC45MDQ0OSB6IgogICAgICAgICBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZDtmb250LXNpemU6NDMuNDgyMnB4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6QXJpYWw7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonQXJpYWwgQm9sZCciCiAgICAgICAgIGlkPSJwYXRoMjcwOCIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBpZD0icmVjdDEyMjUiCiAgICAgICBzdHlsZT0iZmlsbDojZDQwMDAwO3N0cm9rZTojODAwMDAwO3N0cm9rZS13aWR0aDowLjkzNzU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIgogICAgICAgZD0iTSAxMDMuMjk5NSw2Ni43MDYwNjMgOTEuMDgxOTk3LDc4LjY1NDg4OSA3OS4xMzMxNjIsNjYuNDM3Mzg3IDczLjk0OTI3Miw3MS41MDcyOCA4NS44OTgwOTUsODMuNzI0NzgzIDczLjY4MDYsOTUuNjczNjE1IDc4Ljc1MDQ5MSwxMDAuODU3NTIgOTAuOTY4MDAzLDg4LjkwODY4MSAxMDIuOTE4MTIsMTAxLjEyNzUgMTA4LjEwMjAxLDk2LjA1NzU5NCA5Ni4xNTE4OTMsODMuODM4NzkgMTA4LjM2OTQxLDcxLjg4OTk0OCBaIiAvPgogIDwvZz4KPC9zdmc+Cg==",a4e="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDguNTQyMjIxbW0iCiAgIGhlaWdodD0iNDguNTQyMjIxbW0iCiAgIHZpZXdCb3g9IjAgMCAxNzIgMTcyIgogICBpZD0ic3ZnNDkwNyIKICAgdmVyc2lvbj0iMS4xIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjEuMSAoM2JmNWFlMGQyNSwgMjAyMS0wOS0yMCkiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkNlcmNPRC5zdmciCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0OTA5IiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI5Ljk2MzY2MyIKICAgICBpbmtzY2FwZTpjeD0iOTEuNzMzMzMxIgogICAgIGlua3NjYXBlOmN5PSI5MS43MzMzMzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgZml0LW1hcmdpbi10b3A9IjAiCiAgICAgZml0LW1hcmdpbi1sZWZ0PSIwIgogICAgIGZpdC1tYXJnaW4tcmlnaHQ9IjAiCiAgICAgZml0LW1hcmdpbi1ib3R0b209IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIzODQwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjIwNjYiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjE2MDkiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii0xMSIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOnBhZ2VjaGVja2VyYm9hcmQ9IjAiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNDkxMiI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iQ2FscXVlIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMjg1NzE1MDksMi4yMDkyMjQ3KSI+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6Ny45OTE5NDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxO21hcmtlci1lbmQ6bm9uZSIKICAgICAgIGQ9Ik0gNzAuNjU5NTU0LDcwLjk3OTIzIEMgMTMwLjQ4NDE1LDcwLjE1MjM1OSAxMzAuNDg0MTUsNzAuMTUyMzU5IDEzMC40ODQxNSw3MC4xNTIzNTkiCiAgICAgICBpZD0icGF0aDQyMjkiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LWZpbGVuYW1lPSJDOlxVc2Vyc1xTZWJcRG93bmxvYWRzXG1hdGhzXE1hdGhncmFwaDMyXEljb25lc1xwbmdcNDhcQ2VyY09SLnBuZyIKICAgICAgIGlua3NjYXBlOmV4cG9ydC14ZHBpPSIyNS4xMTYyOCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC15ZHBpPSIyNS4xMTYyOCIgLz4KICAgIDxlbGxpcHNlCiAgICAgICBjeT0iNzEuODA2MTA3IgogICAgICAgY3g9IjcwLjY1OTU2MSIKICAgICAgIHN0eWxlPSJjb2xvcjojMDAwMDAwO2Rpc3BsYXk6aW5saW5lO292ZXJmbG93OnZpc2libGU7dmlzaWJpbGl0eTp2aXNpYmxlO2ZpbGw6bm9uZTtzdHJva2U6IzBlMjMyZTtzdHJva2Utd2lkdGg6OS45OTk5ODtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eToxO21hcmtlcjpub25lO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDMzODYtMSIKICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iQzpcVXNlcnNcU2ViXERvd25sb2Fkc1xtYXRoc1xNYXRoZ3JhcGgzMlxJY29uZXNccG5nXDQ4XENlcmNPUi5wbmciCiAgICAgICBpbmtzY2FwZTpleHBvcnQteGRwaT0iMjUuMTE2MjgiCiAgICAgICBpbmtzY2FwZTpleHBvcnQteWRwaT0iMjUuMTE2MjgiCiAgICAgICByeD0iNTkuOTQ1MjkzIgogICAgICAgcnk9IjYyLjAxNTMxNiIgLz4KICAgIDxnCiAgICAgICBhcmlhLWxhYmVsPSJSIgogICAgICAgdHJhbnNmb3JtPSJzY2FsZSgwLjkzMzUyNDgyLDEuMDcxMjA4OCkiCiAgICAgICBpZD0idGV4dDQyMjUiCiAgICAgICBzdHlsZT0iZm9udC1zaXplOjguMjA0ODhweDtsaW5lLWhlaWdodDowJTtmb250LWZhbWlseTonSW5kaWUgRmxvd2VyJzstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidJbmRpZSBGbG93ZXInO2xldHRlci1zcGFjaW5nOjBweDt3b3JkLXNwYWNpbmc6MHB4IiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJyZWN0MTIyNSIKICAgICAgIHN0eWxlPSJmaWxsOiNkNDAwMDA7c3Ryb2tlOiM4MDAwMDA7c3Ryb2tlLXdpZHRoOjAuOTM3NDk4O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZCIKICAgICAgIGQ9Im0gODQuNzE0OTIxLDU2Ljg1MjM3MiAtOS43NjUwOTEsOS44ODAxMzYgLTkuNTUwMzUyLC0xMC4xMDIyOTYgLTQuMTQzMzMxLDQuMTkyMTQ2IDkuNTUwMzQzLDEwLjEwMjI5OCAtOS43NjUwODUsOS44ODAxNDEgNC4wNTIyMTUsNC4yODY0MjEgOS43NjUwOTgsLTkuODgwMTQ4IDkuNTUxMzc3LDEwLjEwMzM4NiA0LjE0MzMzMSwtNC4xOTIxNTggLTkuNTUxMzc3LC0xMC4xMDMzNzMgOS43NjUxMDIsLTkuODgwMTUgeiIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDo3Ljk5MTk0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7bWFya2VyLWVuZDpub25lIgogICAgICAgZD0ibSA4OS41NzIwMjcsMTUzLjQwMzc0IGMgNTkuODI0NTkzLC0wLjgyNjg3IDU5LjgyNDU5MywtMC44MjY4NyA1OS44MjQ1OTMsLTAuODI2ODciCiAgICAgICBpZD0icGF0aDk4OCIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBpbmtzY2FwZTpleHBvcnQtZmlsZW5hbWU9IkM6XFVzZXJzXFNlYlxEb3dubG9hZHNcbWF0aHNcTWF0aGdyYXBoMzJcSWNvbmVzXHBuZ1w0OFxDZXJjT1IucG5nIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1LjExNjI4IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1LjExNjI4IiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJwYXRoOTkwIgogICAgICAgc3R5bGU9ImZpbGw6I2Q0MDAwMDtzdHJva2U6IzgwMDAwMDtzdHJva2Utd2lkdGg6MC45Mzc0OTg7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIgogICAgICAgZD0ibSAxMDMuNjI3MzksMTM5LjI3Njg4IC05Ljc2NTA4Nyw5Ljg4MDE0IC05LjU1MDM1MiwtMTAuMTAyMyAtNC4xNDMzMzEsNC4xOTIxNSA5LjU1MDM0MywxMC4xMDIzIC05Ljc2NTA4NSw5Ljg4MDE0IDQuMDUyMjE1LDQuMjg2NDIgOS43NjUwOTgsLTkuODgwMTUgOS41NTEzNzksMTAuMTAzMzkgNC4xNDMzMywtNC4xOTIxNiAtOS41NTEzNzgsLTEwLjEwMzM4IDkuNzY1MDk4LC05Ljg4MDE1IHoiIC8+CiAgICA8cGF0aAogICAgICAgaWQ9InBhdGg5OTIiCiAgICAgICBzdHlsZT0iZmlsbDojZDQwMDAwO3N0cm9rZTojODAwMDAwO3N0cm9rZS13aWR0aDowLjkzNzQ5ODtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQiCiAgICAgICBkPSJtIDE1Ny4yNzM2LDEzOC41MDQ0MSAtOS43NjUwOSw5Ljg4MDE0IC05LjU1MDM1LC0xMC4xMDIzIC00LjE0MzMzLDQuMTkyMTUgOS41NTAzNCwxMC4xMDIzIC05Ljc2NTA4LDkuODgwMTQgNC4wNTIyMSw0LjI4NjQyIDkuNzY1MSwtOS44ODAxNSA5LjU1MTM4LDEwLjEwMzM5IDQuMTQzMzMsLTQuMTkyMTYgLTkuNTUxMzgsLTEwLjEwMzM4IDkuNzY1MSwtOS44ODAxNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg==",s4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='172'%20height='172'%20viewBox='0%200%20172%20172'%20id='svg4328'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='CercOA.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs4330'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='10.627907'%20inkscape:cx='86.094092'%20inkscape:cy='86.282276'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20units='px'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata4333'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-33.585071,-34.933635)'%3e%3cellipse%20cy='121.43363'%20cx='117.08508'%20style='color:%23000000;display:inline;overflow:visible;visibility:visible;fill:none;stroke:%230e232e;stroke-width:10;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;enable-background:accumulate'%20id='path3386'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\CercOA.png'%20inkscape:export-xdpi='24.994829'%20inkscape:export-ydpi='24.994829'%20rx='67.943108'%20ry='67.00219'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:1;stroke-linecap:round;stroke-linejoin:round'%20d='m%20130.56652,103.50458%20-13.30307,12.46222%20-12.46223,-13.30306%20-5.644494,5.28773%2012.462224,13.30306%20-13.303059,12.46224%205.287729,5.64451%2013.30308,-12.46224%2012.46356,13.30449%205.6445,-5.28774%20-12.46357,-13.30448%2013.30307,-12.46224%20z'%20/%3e%3cpath%20id='path916'%20style='fill:%23d40000;stroke:%23800000;stroke-width:1;stroke-linecap:round;stroke-linejoin:round'%20d='m%20198.31269,101.52865%20-13.30307,12.46222%20-12.46223,-13.30306%20-5.64449,5.28773%2012.46222,13.30306%20-13.30306,12.46224%205.28773,5.64451%2013.30308,-12.46224%2012.46356,13.30449%205.6445,-5.28774%20-12.46357,-13.30448%2013.30307,-12.46224%20z'%20/%3e%3c/g%3e%3c/svg%3e",o4e="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iNDguNTQyMjIxbW0iCiAgIGhlaWdodD0iNDguNTQyMjIxbW0iCiAgIHZpZXdCb3g9IjAgMCAxNzIgMTcyIgogICBpZD0ic3ZnNTU5OSIKICAgdmVyc2lvbj0iMS4xIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxIHIxMzcyNSIKICAgc29kaXBvZGk6ZG9jbmFtZT0iQ3Vyc2V1ci5zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM1NjAxIiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSIwLjM1IgogICAgIGlua3NjYXBlOmN4PSItMjAzLjI4NTcxIgogICAgIGlua3NjYXBlOmN5PSItMjM2Ljg1NzE1IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDE3IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxMjcyIgogICAgIGlua3NjYXBlOndpbmRvdy15PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTU2MDQiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkNhbHF1ZSAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTYuODU3MTQzLC0xMjMuNTA1MDYpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iY29sb3I6IzAwMDAwMDtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjAuMTtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuODE5MDQ3NjM7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7bWFya2VyOm5vbmU7ZW5hYmxlLWJhY2tncm91bmQ6YWNjdW11bGF0ZSIKICAgICAgIGlkPSJyZWN0NTA0NS01LTUtMS0yIgogICAgICAgd2lkdGg9IjE3MS4xODA5NSIKICAgICAgIGhlaWdodD0iMTcxLjE4MDk1IgogICAgICAgeD0iNTcuMjY2NjY2IgogICAgICAgeT0iMTIzLjkxNDU4IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LWZpbGVuYW1lPSJDOlxVc2Vyc1xTZWJcRG93bmxvYWRzXG1hdGhzXE1hdGhncmFwaDMyXEljb25lc1xwbmdcNDhcQ3Vyc2V1ci5wbmciCiAgICAgICBpbmtzY2FwZTpleHBvcnQteGRwaT0iMjUuMTE2MjgiCiAgICAgICBpbmtzY2FwZTpleHBvcnQteWRwaT0iMjUuMTE2MjgiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6ODtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzUuODU3MTUsMjMzLjUwNTA0IDEzMywwIgogICAgICAgaWQ9InBhdGg2NTA4IgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iQzpcVXNlcnNcU2ViXERvd25sb2Fkc1xtYXRoc1xNYXRoZ3JhcGgzMlxJY29uZXNccG5nXDQ4XEN1cnNldXIucG5nIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1LjExNjI4IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1LjExNjI4IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjg7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDczLjg1NzE1LDIyMC41MDUwNCAwLDI3IgogICAgICAgaWQ9InBhdGg2NTEwIgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iQzpcVXNlcnNcU2ViXERvd25sb2Fkc1xtYXRoc1xNYXRoZ3JhcGgzMlxJY29uZXNccG5nXDQ4XEN1cnNldXIucG5nIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1LjExNjI4IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1LjExNjI4IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjg7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDIwOC44NTcxNSwyMTkuNTA1MDQgMCwzMCIKICAgICAgIGlkPSJwYXRoNjUxMiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBpbmtzY2FwZTpleHBvcnQtZmlsZW5hbWU9IkM6XFVzZXJzXFNlYlxEb3dubG9hZHNcbWF0aHNcTWF0aGdyYXBoMzJcSWNvbmVzXHBuZ1w0OFxDdXJzZXVyLnBuZyIKICAgICAgIGlua3NjYXBlOmV4cG9ydC14ZHBpPSIyNS4xMTYyOCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC15ZHBpPSIyNS4xMTYyOCIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iY29sb3I6IzAwMDAwMDtmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtc2l6ZTptZWRpdW07bGluZS1oZWlnaHQ6bm9ybWFsO2ZvbnQtZmFtaWx5OlNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpTYW5zO3RleHQtaW5kZW50OjA7dGV4dC1hbGlnbjpzdGFydDt0ZXh0LWRlY29yYXRpb246bm9uZTt0ZXh0LWRlY29yYXRpb24tbGluZTpub25lO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7YmFzZWxpbmUtc2hpZnQ6YmFzZWxpbmU7dGV4dC1hbmNob3I6c3RhcnQ7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTt2aXNpYmlsaXR5OnZpc2libGU7ZmlsbDojZGMwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDo0O3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7bWFya2VyOm5vbmU7ZW5hYmxlLWJhY2tncm91bmQ6YWNjdW11bGF0ZSIKICAgICAgIGQ9Im0gMTU5LjU5NzY2LDIwNy40MjQyNSBhIDYuODI2MjAxNiw2LjUyMTQ0NDYgMCAwIDAgLTYuNzQwMiw2LjY0MzA2IGwgMCwzMy45MDgxMiBhIDYuODI2MjAxNiw2LjUyMTQ0NDYgMCAxIDAgMTMuNjUxMDQsMCBsIDAsLTMzLjkwODEyIGEgNi44MjYyMDE2LDYuNTIxNDQ0NiAwIDAgMCAtNi45MTA4NCwtNi42NDMwNiB6IgogICAgICAgaWQ9InBhdGg2NTE2IgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iQzpcVXNlcnNcU2ViXERvd25sb2Fkc1xtYXRoc1xNYXRoZ3JhcGgzMlxJY29uZXNccG5nXDQ4XEN1cnNldXIucG5nIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1LjExNjI4IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1LjExNjI4IiAvPgogICAgPGcKICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjQwcHg7bGluZS1oZWlnaHQ6MTI1JTtmb250LWZhbWlseTpTYW5zO2xldHRlci1zcGFjaW5nOjBweDt3b3JkLXNwYWNpbmc6MHB4O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZSIKICAgICAgIGlkPSJ0ZXh0NjUxOCIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDEuNDU1MzY0MSwwLDAsMS40NTUzNjQxLC0yOTcuNTE3MTcsLTExMDUuNjU5NykiCiAgICAgICBpbmtzY2FwZTpleHBvcnQtZmlsZW5hbWU9IkM6XFVzZXJzXFNlYlxEb3dubG9hZHNcbWF0aHNcTWF0aGdyYXBoMzJcSWNvbmVzXHBuZ1w0OFxDdXJzZXVyLnBuZyIKICAgICAgIGlua3NjYXBlOmV4cG9ydC14ZHBpPSIyNS4xMTYyOCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC15ZHBpPSIyNS4xMTYyOCI+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMjg4LjUwMzkxLDg4My43NjQ1MyA1LjMxMjUsLTAuNjQ0NTMgYyAwLjE2OTI2LDEuMzU0MTcgMC42MjQ5OSwyLjM4OTMyIDEuMzY3MTgsMy4xMDU0NiAwLjc0MjE4LDAuNzE2MTUgMS42NDA2MiwxLjA3NDIzIDIuNjk1MzIsMS4wNzQyMiAxLjEzMjgsMWUtNSAyLjA4NjU3LC0wLjQyOTY4IDIuODYxMzIsLTEuMjg5MDYgMC43NzQ3MywtMC44NTkzNyAxLjE2MjEsLTIuMDE4MjIgMS4xNjIxMSwtMy40NzY1NiAtMTBlLTYsLTEuMzgwMiAtMC4zNzExLC0yLjQ3Mzk1IC0xLjExMzI4LC0zLjI4MTI1IC0wLjc0MjIsLTAuODA3MjggLTEuNjQ3MTUsLTEuMjEwOTMgLTIuNzE0ODQsLTEuMjEwOTQgLTAuNzAzMTQsMTBlLTYgLTEuNTQyOTgsMC4xMzY3MyAtMi41MTk1MywwLjQxMDE2IGwgMC42MDU0NywtNC40NzI2NiBjIDEuNDg0MzYsMC4wMzkxIDIuNjE3MTcsLTAuMjgzMTkgMy4zOTg0MywtMC45NjY4IDAuNzgxMjQsLTAuNjgzNTcgMS4xNzE4NywtMS41OTE3NyAxLjE3MTg4LC0yLjcyNDYxIC0xZS01LC0wLjk2MzUyIC0wLjI4NjQ3LC0xLjczMTc0IC0wLjg1OTM4LC0yLjMwNDY4IC0wLjU3MjkzLC0wLjU3MjkgLTEuMzM0NjQsLTAuODU5MzUgLTIuMjg1MTUsLTAuODU5MzggLTAuOTM3NTEsM2UtNSAtMS43MzgyOSwwLjMyNTU1IC0yLjQwMjM1LDAuOTc2NTYgLTAuNjY0MDcsMC42NTEwNyAtMS4wNjc3MSwxLjYwMTU5IC0xLjIxMDkzLDIuODUxNTcgbCAtNS4wNTg2LC0wLjg1OTM4IGMgMC4zNTE1NiwtMS43MzE3NSAwLjg4MjE2LC0zLjExNTIxIDEuNTkxOCwtNC4xNTAzOSAwLjcwOTYzLC0xLjAzNTEzIDEuNjk5MjEsLTEuODQ4OTMgMi45Njg3NSwtMi40NDE0MSAxLjI2OTUyLC0wLjU5MjQxIDIuNjkyMDUsLTAuODg4NjQgNC4yNjc1OCwtMC44ODg2NyAyLjY5NTMsM2UtNSA0Ljg1Njc1LDAuODU5NDEgNi40ODQzNywyLjU3ODEzIDEuMzQxMTMsMS40MDYyNyAyLjAxMTcsMi45OTQ4MSAyLjAxMTcyLDQuNzY1NjIgLTJlLTUsMi41MTMwNCAtMS4zNzM3MSw0LjUxODI1IC00LjEyMTA5LDYuMDE1NjMgMS42NDA2MSwwLjM1MTU4IDIuOTUyNDUsMS4xMzkzMyAzLjkzNTU0LDIuMzYzMjggMC45ODMwNiwxLjIyMzk3IDEuNDc0NTksMi43MDE4MyAxLjQ3NDYxLDQuNDMzNTkgLTJlLTUsMi41MTMwMyAtMC45MTc5OCw0LjY1NDk1IC0yLjc1MzksNi40MjU3OCAtMS44MzU5NiwxLjc3MDg0IC00LjEyMTExLDIuNjU2MjUgLTYuODU1NDcsMi42NTYyNSAtMi41OTExNiwwIC00LjczOTU5LC0wLjc0NTQ0IC02LjQ0NTMxLC0yLjIzNjMyIC0xLjcwNTc0LC0xLjQ5MDg5IC0yLjY5NTMyLC0zLjQ0MDc1IC0yLjk2ODc1LC01Ljg0OTYxIHoiCiAgICAgICAgIHN0eWxlPSJmb250LXdlaWdodDpib2xkOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J1NhbnMgQm9sZCciCiAgICAgICAgIGlkPSJwYXRoOTg1NiIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzMTIsODg1Ljg3MzkgNS40ODgyOCwwIDAsMy45MjU3OCBjIC0xMGUtNiwxLjU4ODU0IC0wLjEzNjczLDIuODQxOCAtMC40MTAxNiwzLjc1OTc3IC0wLjI3MzQ0LDAuOTE3OTYgLTAuNzkxMDIsMS43NDE1MyAtMS41NTI3MywyLjQ3MDcgLTAuNzYxNzIsMC43MjkxNiAtMS43Mjg1MiwxLjMwMjA4IC0yLjkwMDM5LDEuNzE4NzUgbCAtMS4wNzQyMiwtMi4yNjU2MiBjIDEuMTA2NzcsLTAuMzY0NTkgMS44OTQ1MywtMC44NjU4OSAyLjM2MzI4LC0xLjUwMzkxIDAuNDY4NzUsLTAuNjM4MDIgMC43MTYxNCwtMS41MTA0MiAwLjc0MjE5LC0yLjYxNzE5IGwgLTIuNjU2MjUsMCB6IgogICAgICAgICBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZDstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidTYW5zIEJvbGQnIgogICAgICAgICBpZD0icGF0aDk4NTgiCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMzQwLjU5Mzc1LDg4Ni4yNjQ1MyAwLDUuMDk3NjUgLTE5LjIzODI4LDAgYyAwLjIwODMzLC0xLjkyNzA4IDAuODMzMzMsLTMuNzUzMjUgMS44NzUsLTUuNDc4NTEgMS4wNDE2NiwtMS43MjUyNiAzLjA5ODk1LC00LjAxMzY3IDYuMTcxODcsLTYuODY1MjQgMi40NzM5NSwtMi4zMDQ2NyAzLjk5MDg4LC0zLjg2NzE3IDQuNTUwNzgsLTQuNjg3NSAwLjc1NTIsLTEuMTMyNzkgMS4xMzI4LC0yLjI1MjU4IDEuMTMyODIsLTMuMzU5MzcgLTJlLTUsLTEuMjIzOTQgLTAuMzI4NzksLTIuMTY0NjkgLTAuOTg2MzMsLTIuODIyMjcgLTAuNjU3NTcsLTAuNjU3NTMgLTEuNTY1NzcsLTAuOTg2MyAtMi43MjQ2MSwtMC45ODYzMyAtMS4xNDU4NCwzZS01IC0yLjA1NzMsMC4zNDUwOCAtMi43MzQzOCwxLjAzNTE2IC0wLjY3NzA5LDAuNjkwMTMgLTEuMDY3NzEsMS44MzU5NiAtMS4xNzE4NywzLjQzNzUgTCAzMjIsODcxLjA4ODc1IGMgMC4zMjU1MiwtMy4wMjA4MSAxLjM0NzY1LC01LjE4ODc4IDMuMDY2NDEsLTYuNTAzOTEgMS43MTg3NCwtMS4zMTUwOCAzLjg2NzE4LC0xLjk3MjYzIDYuNDQ1MzEsLTEuOTcyNjYgMi44MjU1MSwzZS01IDUuMDQ1NTYsMC43NjE3NSA2LjY2MDE1LDIuMjg1MTYgMS42MTQ1NywxLjUyMzQ2IDIuNDIxODYsMy40MTc5OSAyLjQyMTg4LDUuNjgzNTkgLTJlLTUsMS4yODkwOCAtMC4yMzExNCwyLjUxNjMgLTAuNjkzMzYsMy42ODE2NCAtMC40NjIyNiwxLjE2NTM4IC0xLjE5NDY4LDIuMzg2MDkgLTIuMTk3MjcsMy42NjIxMSAtMC42NjQwNywwLjg0NjM3IC0xLjg2MTk5LDIuMDYzODIgLTMuNTkzNzUsMy42NTIzNSAtMS43MzE3OCwxLjU4ODU1IC0yLjgyODc4LDIuNjQzMjMgLTMuMjkxMDEsMy4xNjQwNiAtMC40NjIyNSwwLjUyMDg0IC0wLjgzNjYsMS4wMjg2NSAtMS4xMjMwNSwxLjUyMzQ0IHoiCiAgICAgICAgIHN0eWxlPSJmb250LXdlaWdodDpib2xkOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J1NhbnMgQm9sZCciCiAgICAgICAgIGlkPSJwYXRoOTg2MCIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=",l4e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M8%2016h8v2H8zm0-4h8v2H8zm6-10H6c-1.1%200-2%20.9-2%202v16c0%201.1.89%202%201.99%202H18c1.1%200%202-.9%202-2V8l-6-6zm4%2018H6V4h7v5h5v11z'/%3e%3c/svg%3e",u4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg4234'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='Homothetie.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs4236'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata4239'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-208.28571,-217.79078)'%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:10,%205;stroke-dashoffset:0;stroke-opacity:1'%20d='M%20293.7823,232.11188%20236.50665,372.11902'%20id='path4158'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Homothetie.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:10,%205;stroke-dashoffset:0;stroke-opacity:1'%20d='M%20357.42191,273.12407%20235.79954,372.11902'%20id='path4160'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='cc'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Homothetie.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20293.30921,232.82508%200,41%2066,0%20z'%20id='path3045-4-7-15-1'%20inkscape:connector-curvature='0'%20inkscape:transform-center-x='25.455844'%20inkscape:transform-center-y='-52.325902'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Homothetie.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:6.00000048;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20269.97471,290.80784%200,22.53666%2037.71573,0%20z'%20id='path3045-4-7-15-4'%20inkscape:connector-curvature='0'%20inkscape:transform-center-x='14.546745'%20inkscape:transform-center-y='-28.762215'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Homothetie.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.937502;stroke-linecap:round;stroke-linejoin:round'%20d='m%20231.87938,355.06669%203.2488,11.97242%20-11.97243,3.24881%201.37847,5.0799%2011.97243,-3.2488%203.2488,11.97242%205.07991,-1.37846%20-3.2488,-11.97243%2011.97372,-3.24915%20-1.37848,-5.07991%20-11.97371,3.24915%20-3.2488,-11.97243%20z'%20/%3e%3c/g%3e%3c/svg%3e",c4e="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDguNTQyMjIxbW0iCiAgIGhlaWdodD0iNDguNTQyMjIxbW0iCiAgIHZpZXdCb3g9IjAgMCAxNzIgMTcyIgogICBpZD0ic3ZnNDkwNyIKICAgdmVyc2lvbj0iMS4xIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjEuMSAoM2JmNWFlMGQyNSwgMjAyMS0wOS0yMCkiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkNlcmNPUi5zdmciCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0OTA5IiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI5Ljk2MzY2MyIKICAgICBpbmtzY2FwZTpjeD0iOTEuNzMzMzMxIgogICAgIGlua3NjYXBlOmN5PSI5MS43MzMzMzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgZml0LW1hcmdpbi10b3A9IjAiCiAgICAgZml0LW1hcmdpbi1sZWZ0PSIwIgogICAgIGZpdC1tYXJnaW4tcmlnaHQ9IjAiCiAgICAgZml0LW1hcmdpbi1ib3R0b209IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIzODQwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjIwNjYiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjE2MDkiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii0xMSIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOnBhZ2VjaGVja2VyYm9hcmQ9IjAiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNDkxMiI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iQ2FscXVlIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMjg1NzE1MDksMi4yMDkyMjQ3KSI+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6Ny45OTE5NDI0MTtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxO21hcmtlci1lbmQ6bm9uZSIKICAgICAgIGQ9Im0gODUuNzE0MjU4LDgzLjc5MDc4NCBjIDc0Ljg0ODk5MiwtMSA3NC44NDg5OTIsLTEgNzQuODQ4OTkyLC0xIgogICAgICAgaWQ9InBhdGg0MjI5IgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iQzpcVXNlcnNcU2ViXERvd25sb2Fkc1xtYXRoc1xNYXRoZ3JhcGgzMlxJY29uZXNccG5nXDQ4XENlcmNPUi5wbmciCiAgICAgICBpbmtzY2FwZTpleHBvcnQteGRwaT0iMjUuMTE2MjgiCiAgICAgICBpbmtzY2FwZTpleHBvcnQteWRwaT0iMjUuMTE2MjgiIC8+CiAgICA8Y2lyY2xlCiAgICAgICByPSI3NSIKICAgICAgIGN5PSI4NC43OTA3ODciCiAgICAgICBjeD0iODUuNzE0MjY0IgogICAgICAgc3R5bGU9ImZpbGwtb3BhY2l0eTowLjU7Y29sb3I6IzAwMDAwMDtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO3Zpc2liaWxpdHk6dmlzaWJsZTtmaWxsOiMyMTZEOUE7c3Ryb2tlOiMwZTIzMmU7c3Ryb2tlLXdpZHRoOjEwO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2UtZGFzaG9mZnNldDowO3N0cm9rZS1vcGFjaXR5OjE7bWFya2VyOm5vbmU7ZW5hYmxlLWJhY2tncm91bmQ6YWNjdW11bGF0ZSIKICAgICAgIGlkPSJwYXRoMzM4Ni0xIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LWZpbGVuYW1lPSJDOlxVc2Vyc1xTZWJcRG93bmxvYWRzXG1hdGhzXE1hdGhncmFwaDMyXEljb25lc1xwbmdcNDhcQ2VyY09SLnBuZyIKICAgICAgIGlua3NjYXBlOmV4cG9ydC14ZHBpPSIyNS4xMTYyOCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC15ZHBpPSIyNS4xMTYyOCIgLz4KICAgIDxnCiAgICAgICBhcmlhLWxhYmVsPSJSIgogICAgICAgdHJhbnNmb3JtPSJzY2FsZSgwLjkzMzUyNDgyLDEuMDcxMjA4OCkiCiAgICAgICBpZD0idGV4dDQyMjUiCiAgICAgICBzdHlsZT0iZm9udC1zaXplOjguMjA0ODhweDtsaW5lLWhlaWdodDowJTtmb250LWZhbWlseTonSW5kaWUgRmxvd2VyJzstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidJbmRpZSBGbG93ZXInO2xldHRlci1zcGFjaW5nOjBweDt3b3JkLXNwYWNpbmc6MHB4Ij4KICAgICAgPHBhdGgKICAgICAgICAgZD0iTSAxMTUuNzYwNiw2My4yMDA4NTUgViAzMi4wNzU0MTMgaCAxMy4yMjcyNSBxIDQuOTg5NDEsMCA3LjIzOTk2LDAuODQ5MjYyIDIuMjcxNzcsMC44MjgwMyAzLjYzMDU5LDIuOTcyNDE2IDEuMzU4ODIsMi4xNDQzODUgMS4zNTg4Miw0LjkwNDQ4NiAwLDMuNTAzMjA1IC0yLjA1OTQ2LDUuNzk2MjExIC0yLjA1OTQ2LDIuMjcxNzc2IC02LjE1NzE1LDIuODY2MjU5IDIuMDM4MjMsMS4xODg5NjYgMy4zNTQ1OSwyLjYxMTQ4IDEuMzM3NTgsMS40MjI1MTMgMy41ODgxMyw1LjA1MzEwNyBsIDMuODAwNDQsNi4wNzIyMjEgaCAtNy41MTU5NiBsIC00LjU0MzU1LC02Ljc3Mjg2MiBxIC0yLjQyMDQsLTMuNjMwNTk0IC0zLjMxMjEzLC00LjU2NDc4MiAtMC44OTE3MiwtMC45NTU0MTkgLTEuODg5NiwtMS4yOTUxMjQgLTAuOTk3ODgsLTAuMzYwOTM2IC0zLjE2MzUsLTAuMzYwOTM2IGggLTEuMjczOSB2IDEyLjk5MzcwNCB6IG0gNi4yODQ1MywtMTcuOTYxODg1IGggNC42NDk3MSBxIDQuNTIyMzIsMCA1LjY0NzU5LC0wLjM4MjE2OCAxLjEyNTI4LC0wLjM4MjE2OCAxLjc2MjIyLC0xLjMxNjM1NiAwLjYzNjk1LC0wLjkzNDE4OCAwLjYzNjk1LC0yLjMzNTQ3IDAsLTEuNTcxMTM0IC0wLjg0OTI2LC0yLjUyNjU1MyAtMC44MjgwMywtMC45NzY2NTEgLTIuMzU2NzEsLTEuMjMxNDMgLTAuNzY0MzMsLTAuMTA2MTU3IC00LjU4NjAxLC0wLjEwNjE1NyBoIC00LjkwNDQ5IHoiCiAgICAgICAgIHN0eWxlPSJmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZTo0My40ODIycHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpBcmlhbDstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidBcmlhbCBCb2xkJyIKICAgICAgICAgaWQ9InBhdGgyNzA4IiAvPgogICAgPC9nPgogICAgPHBhdGgKICAgICAgIGlkPSJyZWN0MTIyNSIKICAgICAgIHN0eWxlPSJmaWxsOiNkNDAwMDA7c3Ryb2tlOiM4MDAwMDA7c3Ryb2tlLXdpZHRoOjAuOTM3NTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQiCiAgICAgICBkPSJNIDEwMy4yOTk1LDY2LjcwNjA2MyA5MS4wODE5OTcsNzguNjU0ODg5IDc5LjEzMzE2Miw2Ni40MzczODcgNzMuOTQ5MjcyLDcxLjUwNzI4IDg1Ljg5ODA5NSw4My43MjQ3ODMgNzMuNjgwNiw5NS42NzM2MTUgNzguNzUwNDkxLDEwMC44NTc1MiA5MC45NjgwMDMsODguOTA4NjgxIDEwMi45MTgxMiwxMDEuMTI3NSAxMDguMTAyMDEsOTYuMDU3NTk0IDk2LjE1MTg5Myw4My44Mzg3OSAxMDguMzY5NDEsNzEuODg5OTQ4IFoiIC8+CiAgPC9nPgo8L3N2Zz4K",h4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='172'%20height='172'%20viewBox='0%200%20172%20172'%20id='svg4328'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='CercOA.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs4330'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='10.627907'%20inkscape:cx='86.094092'%20inkscape:cy='86.282276'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20units='px'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata4333'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-33.585071,-34.933635)'%3e%3cellipse%20cy='121.43363'%20cx='117.08508'%20style='fill-opacity:0.5;color:%23000000;display:inline;overflow:visible;visibility:visible;fill:%23216D9A;stroke:%230e232e;stroke-width:10;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;enable-background:accumulate'%20id='path3386'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\CercOA.png'%20inkscape:export-xdpi='24.994829'%20inkscape:export-ydpi='24.994829'%20rx='67.943108'%20ry='67.00219'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:1;stroke-linecap:round;stroke-linejoin:round'%20d='m%20130.56652,103.50458%20-13.30307,12.46222%20-12.46223,-13.30306%20-5.644494,5.28773%2012.462224,13.30306%20-13.303059,12.46224%205.287729,5.64451%2013.30308,-12.46224%2012.46356,13.30449%205.6445,-5.28774%20-12.46357,-13.30448%2013.30307,-12.46224%20z'%20/%3e%3cpath%20id='path916'%20style='fill:%23d40000;stroke:%23800000;stroke-width:1;stroke-linecap:round;stroke-linejoin:round'%20d='m%20198.31269,101.52865%20-13.30307,12.46222%20-12.46223,-13.30306%20-5.64449,5.28773%2012.46222,13.30306%20-13.30306,12.46224%205.28773,5.64451%2013.30308,-12.46224%2012.46356,13.30449%205.6445,-5.28774%20-12.46357,-13.30448%2013.30307,-12.46224%20z'%20/%3e%3c/g%3e%3c/svg%3e",p4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg7795'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='DeplacerCroix.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs7797'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.1671513'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1620'%20inkscape:window-height='2786'%20inkscape:window-x='-11'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata7800'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-222.57143,-232.07648)'%3e%3cpath%20id='rect1225-3'%20style='fill:%234d4d4d;stroke:%23333333;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20273.42827,258.65045%20-4.28859,16.54236%20-16.54238,-4.28858%20-1.81965,7.01893%2016.54237,4.28859%20-4.28859,16.54237%207.01893,1.81966%204.2886,-16.54237%2016.54415,4.28905%201.81964,-7.01894%20-16.54414,-4.28905%204.2886,-16.54237%20z'%20/%3e%3cpath%20id='rect1575'%20style='fill:%230000ff;stroke:%23000080;stroke-width:2.8125;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none'%20d='m%20315.17268,274.25336%20-19.96665,22.76627%2015.01387,-0.10537%20v%2019.32699%20h%20-19.76077%20l%200.10773,-14.6843%20-23.27726,19.52834%2022.98522,20.47654%200.10289,-14.18562%20h%2019.84217%20v%2019.327%20l%20-15.01389,-0.10537%2019.96665,22.76629%2020.93614,-22.48065%20-14.504,-0.10067%20v%20-19.40659%20h%2019.84216%20l%200.10289,14.18562%2022.98523,-20.47655%20-23.27728,-19.52833%200.10773,14.6843%20h%20-19.7608%20V%20296.8347%20l%2014.50399,-0.10067%20z'%20/%3e%3c/g%3e%3c/svg%3e",d4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='50'%20height='50'%20id='svg3076'%20version='1.1'%20inkscape:version='0.48.3.1%20r9886'%20sodipodi:docname='Translation24.svg'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\Translation24.png'%20inkscape:export-xdpi='43.200001'%20inkscape:export-ydpi='43.200001'%3e%3cdefs%20id='defs3078'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.6'%20inkscape:cx='11.559973'%20inkscape:cy='41.015213'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20inkscape:window-width='1301'%20inkscape:window-height='752'%20inkscape:window-x='1771'%20inkscape:window-y='114'%20inkscape:window-maximized='0'%20/%3e%3cmetadata%20id='metadata3081'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(0,-1002.3622)'%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20d='m%2021.06238,1030.9464%20-9.997195,0%200,6.6937%20-9.4258535,-10.5188%209.1402445,-9.0845%200,6.2156%209.997072,0%20z'%20id='path3084-3'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20d='m%2021.177764,1023.6809%200,-9.9972%20-6.6937,0%2010.5188,-9.4259%209.0845,9.1403%20-6.2156,0%200,9.997%20z'%20id='path3084-3-2'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20d='m%2029.03845,1024.2542%209.9972,0%200,-6.6937%209.4259,10.5188%20-9.1403,9.0845%200,-6.2156%20-9.997,0%20z'%20id='path3084-3-21'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20d='m%2028.286522,1031.0435%200,9.9972%206.6937,0%20-10.5188,9.4259%20-9.0845,-9.1403%206.2156,0%200,-9.997%20z'%20id='path3084-3-6'%20inkscape:connector-curvature='0'%20/%3e%3c/g%3e%3c/svg%3e",m4e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M419.1,337.45a3.94,3.94,0,0,0-6.1,0c-10.5,12.4-45,46.55-45,77.66,0,27,21.5,48.89,48,48.89h0c26.5,0,48-22,48-48.89C464,384,429.7,349.85,419.1,337.45Z'%20style='fill:none;stroke:%23000;stroke-miterlimit:10;stroke-width:32px'/%3e%3cpath%20d='M387,287.9,155.61,58.36a36,36,0,0,0-51,0l-5.15,5.15a36,36,0,0,0,0,51l52.89,52.89,57-57L56.33,263.2a28,28,0,0,0,.3,40l131.2,126a28.05,28.05,0,0,0,38.9-.1c37.8-36.6,118.3-114.5,126.7-122.9,5.8-5.8,18.2-7.1,28.7-7.1h.3A6.53,6.53,0,0,0,387,287.9Z'%20style='fill:none;stroke:%23000;stroke-miterlimit:10;stroke-width:32px'/%3e%3c/svg%3e",f4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='48px'%20height='48px'%20id='svg2985'%20version='1.1'%20inkscape:version='0.48.3.1%20r9886'%20sodipodi:docname='RepQuadrille.svg'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\RepQuadrille.png'%20inkscape:export-xdpi='45'%20inkscape:export-ydpi='45'%3e%3cdefs%20id='defs2987'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='7'%20inkscape:cx='8.6892489'%20inkscape:cy='24'%20inkscape:current-layer='layer1'%20showgrid='true'%20inkscape:grid-bbox='true'%20inkscape:document-units='px'%20inkscape:window-width='1920'%20inkscape:window-height='1018'%20inkscape:window-x='1272'%20inkscape:window-y='-8'%20inkscape:window-maximized='1'%20/%3e%3cmetadata%20id='metadata2990'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20id='layer1'%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%3e%3cpath%20style='fill:%239eabb0;stroke:%23364e59;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='m%2019.714286,2.8571429%200,42.0000001'%20id='path3777'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:%239eabb0;stroke:%23364e59;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='m%2031.857143,44.428571%200,-41.5714281'%20id='path3779'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:%239eabb0;stroke:%23364e59;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='m%203.0000002,27.928571%2042.0000008,0'%20id='path3777-1'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:%239eabb0;stroke:%23364e59;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='m%2044.571429,15.785714%20-41.5714288,0'%20id='path3779-7'%20inkscape:connector-curvature='0'%20/%3e%3cg%20id='g3769'%20transform='translate(-15.714286,-0.57142857)'%3e%3cpath%20inkscape:connector-curvature='0'%20id='path2993'%20d='m%2022.285714,45.142857%200,-41.9999999'%20style='fill:none;stroke:%23000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20id='path3765'%20d='m%2018.571429,9.5714287%203.714285,-6.0000001%204,6.1428571'%20style='fill:none;stroke:%23000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20sodipodi:nodetypes='ccc'%20/%3e%3c/g%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20d='m%202.1428571,39.857142%2043.4285719,0'%20id='path2995'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20d='M%2040.285715,36.285713%2045.285714,39.857142%2040,43.142857'%20id='path3767'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='ccc'%20/%3e%3c/g%3e%3c/svg%3e",g4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg7795'%20version='1.1'%20inkscape:version='1.2-alpha1%20(b6a15bb,%202022-02-23)'%20sodipodi:docname='Cacher.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs7797'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='3.6342001'%20inkscape:cx='49.529469'%20inkscape:cy='89.153045'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1440'%20inkscape:window-height='900'%20inkscape:window-x='0'%20inkscape:window-y='0'%20inkscape:window-maximized='0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20/%3e%3cmetadata%20id='metadata7800'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-222.57143,-232.07648)'%3e%3ccircle%20style='fill:%23333333;stroke:none;stroke-width:4.6875;stroke-linecap:round;stroke-linejoin:round'%20id='path1103'%20cx='309.63495'%20cy='310.36917'%20r='20.379314'%20/%3e%3cpath%20id='circle1221'%20style='fill:none;stroke:%23333333;stroke-width:4.68749;stroke-linecap:round;stroke-linejoin:round'%20d='m%20309.82851,284.44282%20a%2046.111419,35.599308%200%200%200%20-44.46899,26.22253%2046.111419,35.599308%200%200%200%2045.24353,29.11194%2046.111419,35.599308%200%200%200%2044.52576,-26.3562%2046.111419,35.599308%200%200%200%20-45.3003,-28.97827%20z'%20/%3e%3cpath%20style='fill:none;stroke:%23ffffff;stroke-width:4.6875;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20283.58039,349.32202%2056.23658,-75.97098'%20id='path1337'%20sodipodi:nodetypes='cc'%20/%3e%3cpath%20style='fill:none;stroke:%23333333;stroke-width:5.71875;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20277.90514,349.19304%2056.23658,-75.97098'%20id='path1728'%20sodipodi:nodetypes='cc'%20/%3e%3c/g%3e%3c/svg%3e",v4e="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cpath%20d='M8%206.9834C7.44772%206.9834%207%207.43111%207%207.9834C7%208.53568%207.44772%208.9834%208%208.9834H16C16.5523%208.9834%2017%208.53568%2017%207.9834C17%207.43111%2016.5523%206.9834%2016%206.9834H8Z'%20fill='currentColor'%20/%3e%3cpath%20d='M7%2012C7%2011.4477%207.44772%2011%208%2011H16C16.5523%2011%2017%2011.4477%2017%2012C17%2012.5523%2016.5523%2013%2016%2013H8C7.44772%2013%207%2012.5523%207%2012Z'%20fill='currentColor'%20/%3e%3cpath%20d='M8%2015.017C7.44772%2015.017%207%2015.4647%207%2016.017C7%2016.5693%207.44772%2017.017%208%2017.017H16C16.5523%2017.017%2017%2016.5693%2017%2016.017C17%2015.4647%2016.5523%2015.017%2016%2015.017H8Z'%20fill='currentColor'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2012C22%2017.5228%2017.5228%2022%2012%2022C6.47715%2022%202%2017.5228%202%2012C2%206.47715%206.47715%202%2012%202C17.5228%202%2022%206.47715%2022%2012ZM20%2012C20%2016.4183%2016.4183%2020%2012%2020C7.58172%2020%204%2016.4183%204%2012C4%207.58172%207.58172%204%2012%204C16.4183%204%2020%207.58172%2020%2012Z'%20fill='currentColor'%20/%3e%3c/svg%3e",y4e="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iNDguNTQyMjIxbW0iCiAgIGhlaWdodD0iNDguNTQyMjIxbW0iCiAgIHZpZXdCb3g9IjAgMCAxNzIgMTcyIgogICBpZD0ic3ZnMTAyOTEiCiAgIHZlcnNpb249IjEuMSIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMC45MSByMTM3MjUiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkxhdGV4LnN2ZyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczEwMjkzIiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSIwLjM1IgogICAgIGlua3NjYXBlOmN4PSItMjA5IgogICAgIGlua3NjYXBlOmN5PSItMjU5LjcxNDI5IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDE3IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxMjcyIgogICAgIGlua3NjYXBlOndpbmRvdy15PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTEwMjk2Ij4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICAgIDxkYzp0aXRsZT48L2RjOnRpdGxlPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJDYWxxdWUgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTYyLjU3MTQyOSwtMTAwLjY0NzkyKSI+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImNvbG9yOiMwMDAwMDA7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTt2aXNpYmlsaXR5OnZpc2libGU7b3BhY2l0eTowLjE7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjgxOTA0NzYzO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO21hcmtlcjpub25lO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icmVjdDUwNDUtNS01LTEtOCIKICAgICAgIHdpZHRoPSIxNzEuMTgwOTUiCiAgICAgICBoZWlnaHQ9IjE3MS4xODA5NSIKICAgICAgIHg9IjYyLjk4MDk1MyIKICAgICAgIHk9IjEwMS4wNTc0NCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iQzpcVXNlcnNcU2ViXERvd25sb2Fkc1xtYXRoc1xNYXRoZ3JhcGgzMlxJY29uZXNccG5nXDQ4XExhdGV4LnBuZyIKICAgICAgIGlua3NjYXBlOmV4cG9ydC14ZHBpPSIyNS4xMTYyOCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC15ZHBpPSIyNS4xMTYyOCIgLz4KICAgIDxnCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjEzLjQyODU2LC05OS43MTQyNzIpIgogICAgICAgaWQ9ImczMTY5IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LWZpbGVuYW1lPSJDOlxVc2Vyc1xTZWJcRG93bmxvYWRzXG1hdGhzXE1hdGhncmFwaDMyXEljb25lc1xwbmdcNDhcTGF0ZXgucG5nIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1LjExNjI4IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1LjExNjI4Ij4KICAgICAgPGcKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuMzExMTc3ODMsOS44MTUyNTk4KSIKICAgICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjEyLjU1ODE0IgogICAgICAgICBpbmtzY2FwZTpleHBvcnQteGRwaT0iMTIuNTU4MTQiCiAgICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iQzpcVXNlcnNcU2ViXERvd25sb2Fkc1xtYXRoc1xNYXRoZ3JhcGgzMlxJY29uZXNccG5nXDI0XExhdGV4LnBuZyIKICAgICAgICAgaWQ9InRleHQzMDcyIgogICAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZTo2NC44NTMyNTYyM3B4O2xpbmUtaGVpZ2h0OjEyNSU7Zm9udC1mYW1pbHk6U2FucztsZXR0ZXItc3BhY2luZzowcHg7d29yZC1zcGFjaW5nOjBweDtmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmUiPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgICBpZD0icGF0aDMxNTIiCiAgICAgICAgICAgZD0ibSAyODAuNTMxMjUsMjU5LjI1IGMgLTIuNDc2OTgsNi4xNzUxNCA4LjAxNjQ0LDIuNDU0MDIgNy40Mzc1LDguMjgxMjUgLTAuMzQ5MjcsMTMuODc1MzQgMC42NDg0NSwyOC4wMDQ4IC0wLjQwNjI1LDQxLjc1IC0yLjIxMjk1LDMuMTAxNTEgLTkuMTA5MTcsLTAuMzgxNDIgLTcuMDMxMjUsNS41NjI1IDQuMDE4MjQsMi4zMTUwOSAxMi4zMTk3LDAuMzQ2OTcgMTgsMSA5LjEyNSwwIDE4LjI1LDAgMjcuMzc1LDAgMC40MzgzNywtNi4xNzY5NSAwLjgzNjYsLTEyLjM1NzIxIDEuMzEyNSwtMTguNTMxMjUgLTQuNjgyNTgsLTEuNTM4MDIgLTUuNTEzMzIsMi4zMDc1OCAtNy4yMTY2Miw1LjU4NiAtMS45NTM3Miw0LjA1MTM3IC00LjY4Nzc1LDguMzIzNjIgLTkuODc3MTMsNy43NTc3NSAtMy40NDM4OSwtMC41NTc1MiAtOS4yMDU2MSwxLjcxMTY4IC0xMS40MDYyNSwtMS44NDM3NSAtMC44ODM1OSwtMTQuMjY3OTYgLTAuMzU2ODYsLTI4LjgwNTg5IC0wLjIxODc1LC00My4wOTM3NSAxLjMzMzc5LC00LjMzMzcgOS44NDAyOCwtMC4xNjY1MiA3LjUsLTYuNDY4NzUgLTQuMDE4MjQsLTIuMzE1MDkgLTEyLjMxOTcsLTAuMzQ2OTcgLTE4LC0xIC0yLjA1ODk1LDAuNTk4NDYgLTcuMTE5MDMsLTEuMjM1NDMgLTcuNDY4NzUsMSB6IgogICAgICAgICAgIHN0eWxlPSJmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7Zm9udC1zaXplOjgwLjIxMzgzNjY3cHg7bGluZS1oZWlnaHQ6MTI1JTtmb250LWZhbWlseTpHZW9yZ2lhOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246R2VvcmdpYTtmaWxsOiMwMDAwMDAiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBkPSJtIDM0My41MDQwNywyOTEuNjQzOTIgLTE4LjAwMzczLDAgMCwtMi4xNjI4OSBjIDEuNTg0MDYsLTAuMTAxNTQgMi44OTkwNSwtMC4zMDQ2MyAzLjk0NDk4LC0wLjYwOTI2IDEuMDQ1ODcsLTAuMzA0NjMgMS41Njg4MiwtMC42ODAzNCAxLjU2ODg2LC0xLjEyNzE0IC00ZS01LC0wLjE4Mjc3IC0wLjAyMDMsLTAuNDA2MTcgLTAuMDYwOSwtMC42NzAxOSAtMC4wNDA3LC0wLjI2NDAxIC0wLjEwMTU4LC0wLjQ5NzU2IC0wLjE4Mjc4LC0wLjcwMDY1IGwgLTMuNTk0NjUsLTkuNjg3MjggLTE1LjE0MDE5LDAgYyAtMC41Njg2NiwxLjQyMTYzIC0xLjAzMDY4LDIuNjYwNDYgLTEuMzg2MDcsMy43MTY1IC0wLjM1NTQyLDEuMDU2MDcgLTAuNjc1MjgsMi4wMzA4OSAtMC45NTk1OSwyLjkyNDQ3IC0wLjI2NDAzLDAuODczMjggLTAuNDQ2OCwxLjU4NDA5IC0wLjU0ODM0LDIuMTMyNDIgLTAuMTAxNTUsMC41NDgzNCAtMC4xNTIzMiwwLjk5NTEzIC0wLjE1MjMxLDEuMzQwMzggLTEwZS02LDAuODEyMzUgMC42Mzk3MSwxLjQ0MTkyIDEuOTE5MTcsMS44ODg3MSAxLjI3OTQ0LDAuNDQ2OCAyLjcyMTM3LDAuNzEwODEgNC4zMjU3NywwLjc5MjA0IGwgMCwyLjE2Mjg5IC0xNi4yNjczMiwwIDAsLTIuMTYyODkgYyAwLjUyODAzLC0wLjA0MDYgMS4xODgwNiwtMC4xNTczOSAxLjk4MDEsLTAuMzUwMzIgMC43OTIwNCwtMC4xOTI5MyAxLjQ0MTkyLC0wLjQ1MTg3IDEuOTQ5NjQsLTAuNzc2ODEgMC44MTIzNSwtMC41NDgzNCAxLjQ0MTkyLC0xLjEyMjA2IDEuODg4NzIsLTEuNzIxMTcgMC40NDY3OSwtMC41OTkxIDAuODgzNDMsLTEuNDI2NjkgMS4zMDk5MiwtMi40ODI3NSAyLjE3MzAzLC01LjQyMjQzIDQuNTY5NDYsLTExLjUxNTA1IDcuMTg5MywtMTguMjc3ODkgMi42MTk4MiwtNi43NjI3OSA0Ljk1NTMyLC0xMi43ODQzMyA3LjAwNjUzLC0xOC4wNjQ2NSBsIDIuNDM3MDUsMCAxNC40MDkwNywzNy4yODY5IGMgMC4zMDQ1OSwwLjc5MjA1IDAuNjQ5ODQsMS40MzE3NyAxLjAzNTc1LDEuOTE5MTggMC4zODU4MiwwLjQ4NzQxIDAuOTI0MDEsMC45NjQ2NyAxLjYxNDU0LDEuNDMxNzcgMC40NjcwNywwLjI4NDMyIDEuMDc2MzMsMC41MjI5NSAxLjgyNzc5LDAuNzE1ODggMC43NTEzOSwwLjE5Mjk0IDEuMzgwOTYsMC4yOTk1NiAxLjg4ODcyLDAuMzE5ODYgeiBtIC0xNy40MjQ5MywtMTcuNjY4NjMgLTYuNTQ5NTcsLTE2Ljc1NDc0IC02LjQyNzczLDE2Ljc1NDc0IHoiCiAgICAgICAgICAgc3R5bGU9ImZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDtmb250LXNpemU6NjIuMzg4NTM4MzZweDtsaW5lLWhlaWdodDoxMjUlO2ZvbnQtZmFtaWx5OidNaWNyb3NvZnQgWWkgQmFpdGknOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246J01pY3Jvc29mdCBZaSBCYWl0aSc7ZmlsbDojMDAwMDAwIgogICAgICAgICAgIGlkPSJwYXRoMzE1NCIKICAgICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgZD0ibSAzNzUuMzc1NTUsMjMyLjM3MDk4IC0yLjcwMjUyLDAgYyAtMC4yMzUwNSwtMC45Mzk5NiAtMC42NTkzNiwtMi4wNTYyMiAtMS4yNzI5MywtMy4zNDg3NyAtMC42MTM2NSwtMS4yOTI0NiAtMS4yOTkwNywtMi41MTMxNiAtMi4wNTYyNiwtMy42NjIxMSAtMC43ODMzOCwtMS4yMDEwNyAtMS42Mzg1MiwtMi4yNTIwNCAtMi41NjU0MywtMy4xNTI5MyAtMC45MjY5OSwtMC45MDA3OSAtMS44MjEzLC0xLjQxNjQ5IC0yLjY4MjkzLC0xLjU0NzEgLTAuODA5NDksLTAuMTA0MzkgLTEuODI3ODMsLTAuMTgyNzIgLTMuMDU1MDIsLTAuMjM1IC0xLjIyNzI3LC0wLjA1MjIgLTIuMzYzMTEsLTAuMDc4MyAtMy40MDc1MiwtMC4wNzgzIGwgLTIuMjcxNjksMCAwLDQ0LjQ1NDQ0IGMgLTJlLTUsMC44NjE2OCAwLjE4Mjc1LDEuNjUxNTUgMC41NDgzNCwyLjM2OTYgMC4zNjU1MywwLjcxODA3IDEuMDA1MjUsMS4yNzI5MyAxLjkxOTE4LDEuNjY0NiAwLjQ2OTk3LDAuMTgyNzggMS40NTU2NywwLjQzMDg0IDIuOTU3MSwwLjc0NDE3IDEuNTAxMzYsMC4zMTMzNCAyLjY2OTg0LDAuNDgzMDYgMy41MDU0NCwwLjUwOTE3IGwgMCwyLjc4MDg1IC0yNi4yNDE4MywwIDAsLTIuNzgwODUgYyAwLjczMTEsLTAuMDUyMiAxLjg0NzM2LC0wLjE1NjY3IDMuMzQ4NzcsLTAuMzEzMzQgMS41MDEzOCwtMC4xNTY2NiAyLjUzOTMsLTAuMzUyNSAzLjExMzc3LC0wLjU4NzUgMC44NjE2NSwtMC4zMzk0NCAxLjQ5NDg1LC0wLjgyOTAzIDEuODk5NTksLTEuNDY4NzYgMC40MDQ3MSwtMC42Mzk3MiAwLjYwNzA3LC0xLjQ5NDg2IDAuNjA3MDksLTIuNTY1NDMgbCAwLC00NC44MDY5NSAtMi4yNzE2OCwwIGMgLTAuODA5NDcsNWUtNSAtMS44MTQ3NSwwLjAxOTYgLTMuMDE1ODUsMC4wNTg3IC0xLjIwMTEzLDAuMDM5MiAtMi4zNTAwMywwLjEyNDA4IC0zLjQ0NjY5LDAuMjU0NTggLTAuODYxNjgsMC4xMDQ1IC0xLjc1NTk5LDAuNjIwMiAtMi42ODI5MywxLjU0NzEgLTAuOTI2OTYsMC45MjcgLTEuNzgyMTEsMS45Nzc5NyAtMi41NjU0NCwzLjE1MjkzIC0wLjc4MzM0LDEuMTc1MDYgLTEuNDc1MjksMi40MjE4NyAtMi4wNzU4NCwzLjc0MDQ0IC0wLjYwMDU3LDEuMzE4NjcgLTEuMDE4MzUsMi40MDg4MSAtMS4yNTMzNCwzLjI3MDQ0IGwgLTIuNzQxNjksMCAwLC0xNS4wNzkyNiA0OC40MTAzMSwwIHoiCiAgICAgICAgICAgc3R5bGU9ImZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDtmb250LXNpemU6ODAuMjEzODM2NjdweDtsaW5lLWhlaWdodDoxMjUlO2ZvbnQtZmFtaWx5Okdlb3JnaWE7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpHZW9yZ2lhO2ZpbGw6IzAwMDAwMCIKICAgICAgICAgICBpZD0icGF0aDMxNTYiCiAgICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICAgICAgICA8cGF0aAogICAgICAgICAgIGQ9Im0gMzk1LjM2Mjg4LDMxOS40MzAzNyAtMS4wNTc1MSwxNi4zNzE3NyAtNDYuMTM4NjIsMCAwLC0yLjc4MDg1IGMgMC43ODMzMywtMC4wNTIyIDEuODI3NzgsLTAuMTYzMTkgMy4xMzMzNSwtMC4zMzI5MiAxLjMwNTU2LC0wLjE2OTcyIDIuMTU0MTcsLTAuMzQ1OTcgMi41NDU4NSwtMC41Mjg3NSAwLjgzNTU1LC0wLjM5MTY3IDEuNDE2NTMsLTAuOTAwODQgMS43NDI5MywtMS41Mjc1MSAwLjMyNjM4LC0wLjYyNjY3IDAuNDg5NTcsLTEuNDIzMDYgMC40ODk1OCwtMi4zODkxOCBsIDAsLTM5Ljk1MDI1IGMgLTFlLTUsLTAuODYxNjMgLTAuMTQzNjIsLTEuNjI1MzggLTAuNDMwODMsLTIuMjkxMjcgLTAuMjg3MjQsLTAuNjY1NzkgLTAuODg3OCwtMS4yMDc1OSAtMS44MDE2OCwtMS42MjU0MiAtMC43MDUwMSwtMC4zMzk0IC0xLjY1MTU1LC0wLjYzOTY4IC0yLjgzOTYsLTAuOTAwODQgLTEuMTg4MDcsLTAuMjYxMDYgLTIuMTM0NiwtMC40MTc3MyAtMi44Mzk2LC0wLjQ3MDAxIGwgMCwtMi43ODA4NSA0My4wMDUyNywwIDAsMTMuMzk1MDkgLTIuOTM3NTIsMCBjIC0wLjUyMjI3LC0xLjk4NDQyIC0xLjY1MTU4LC00LjA5MjkgLTMuMzg3OTQsLTYuMzI1NDYgLTEuNzM2NDQsLTIuMjMyNDYgLTMuMzg3OTcsLTMuNDUzMTYgLTQuOTU0NjEsLTMuNjYyMTEgLTAuODA5NDksLTAuMTA0MzkgLTEuNzc1NiwtMC4xODI3MiAtMi44OTgzNSwtMC4yMzUgLTEuMTIyODIsLTAuMDUyMiAtMi40MDIyNywtMC4wNzgzIC0zLjgzODM2LC0wLjA3ODMgbCAtOC43MzQyMiwwIDAsMjIuMDkwMTQgNi4yNjY3LDAgYyAyLjAxMDU0LDNlLTUgMy40NzkzLC0wLjE4OTI4IDQuNDA2MjgsLTAuNTY3OTIgMC45MjY5MiwtMC4zNzg1OSAxLjc0MjksLTEuMDExNzggMi40NDc5MywtMS44OTk2IDAuNTc0NDIsLTAuNzU3MTkgMS4wNjQsLTEuNzY5IDEuNDY4NzYsLTMuMDM1NDMgMC40MDQ2OSwtMS4yNjYzNiAwLjY3MjMzLC0yLjQ2MDk1IDAuODAyOTIsLTMuNTgzNzggbCAyLjkzNzUyLDAgMCwyMS43Mzc2NCAtMi45Mzc1MiwwIGMgLTAuMTA0NDgsLTEuMjUzMzIgLTAuMzg1MTcsLTIuNTc4NDcgLTAuODQyMDksLTMuOTc1NDQgLTAuNDU2OTgsLTEuMzk2OTMgLTAuOTMzNTEsLTIuNDA4NzQgLTEuNDI5NTksLTMuMDM1NDQgLTAuODA5NDgsLTEuMDE4MzEgLTEuNzI5OSwtMS42ODQxNSAtMi43NjEyNywtMS45OTc1MSAtMS4wMzE0MiwtMC4zMTMzMSAtMi4zOTU3MywtMC40Njk5OCAtNC4wOTI5NCwtMC40NyBsIC02LjI2NjcsMCAwLDE2LjY4NTEgYyAtMmUtNSwxLjY3MTEzIDAuMTE3NDgsMi45ODk3NSAwLjM1MjUsMy45NTU4NiAwLjIzNDk4LDAuOTY2MTIgMC42OTE5MywxLjY5NzI0IDEuMzcwODQsMi4xOTMzNSAwLjY3ODg3LDAuNDk2MTIgMS42MDU4MiwwLjgxNTk4IDIuNzgwODUsMC45NTk1OSAxLjE3NDk4LDAuMTQzNjEgMi44NDYxLDAuMjE1NDIgNS4wMTMzNywwLjIxNTQxIDAuODYxNjQsMTBlLTYgMS45OTc0OCwxMGUtNiAzLjQwNzUyLDAgMS40MDk5NywxMGUtNiAyLjU5ODAzLC0wLjA1MjIgMy41NjQxOSwtMC4xNTY2NiAwLjk5MjE5LC0wLjEwNDQ0IDIuMDE3MDUsLTAuMjkzNzUgMy4wNzQ2LC0wLjU2NzkyIDEuMDU3NDcsLTAuMjc0MTcgMS44MDgxNiwtMC42NDYyNSAyLjI1MjEsLTEuMTE2MjYgMS4yMDEwNywtMS4yNTMzNCAyLjQ2MDk0LC0zLjE1MjkzIDMuNzc5NiwtNS42OTg3OSAxLjMxODU4LC0yLjU0NTgzIDIuMTYwNjYsLTQuNDE5MzEgMi41MjYyNywtNS42MjA0NSB6IgogICAgICAgICAgIHN0eWxlPSJmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7Zm9udC1zaXplOjgwLjIxMzgzNjY3cHg7bGluZS1oZWlnaHQ6MTI1JTtmb250LWZhbWlseTpHZW9yZ2lhOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246R2VvcmdpYTtmaWxsOiMwMDAwMDAiCiAgICAgICAgICAgaWQ9InBhdGgzMTU4IgogICAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBkPSJtIDQ0My4wOTQzMywzMDkuOTE4MTMgLTI2LjAwNjgzLDAgMCwtMi43ODA4NSBjIDIuMTQxMDksLTAuMDUyMiAzLjg3MDk2LC0wLjI1NDU5IDUuMTg5NjEsLTAuNjA3MDkgMS4zMTg1OSwtMC4zNTI1IDEuOTc3OSwtMC44OTQzMSAxLjk3NzkzLC0xLjYyNTQzIC0zZS01LC0wLjM5MTY2IC0wLjMwMDMxLC0xLjIwMTExIC0wLjkwMDg0LC0yLjQyODM1IC0wLjYwMDU5LC0xLjIyNzIyIC0xLjM3MDg3LC0yLjU5ODA2IC0yLjMxMDg0LC00LjExMjUyIC0xLjA0NDQ5LC0xLjY3MTExIC0yLjI4NDc3LC0zLjYzNTk4IC0zLjcyMDg2LC01Ljg5NDYyIC0xLjQzNjE1LC0yLjI1ODYxIC0yLjg1OTIxLC00LjQxOTMxIC00LjI2OTE5LC02LjQ4MjEzIC0yLjI5NzgyLDMuMDI4OTMgLTQuOTA4OTUsNi42Nzc5OCAtNy44MzMzOSwxMC45NDcxNiAtMi45MjQ0Nyw0LjI2OTIgLTQuMzg2Nyw2Ljc4MjQxIC00LjM4NjY5LDcuNTM5NjMgLTFlLTUsMC44NjE2NyAwLjM5ODE4LDEuNDk0ODcgMS4xOTQ1OSwxLjg5OTU5IDAuNzk2MzgsMC40MDQ3MyAyLjU1MjM2LDAuNjU5MzEgNS4yNjc5NSwwLjc2Mzc2IGwgMCwyLjc4MDg1IC0yMC43NTg0NiwwIDAsLTIuNzgwODUgYyAwLjY3ODg5LC0wLjA1MjIgMS41NDcwOSwtMC4xNTAxNCAyLjYwNDYsLTAuMjkzNzYgMS4wNTc1LC0wLjE0MzYgMS45MjU3LC0wLjM4NTEzIDIuNjA0NiwtMC43MjQ1OCAxLjM1Nzc4LC0wLjczMTExIDIuNDQ3OTIsLTEuNTIwOTggMy4yNzA0MywtMi4zNjk2IDAuODIyNSwtMC44NDg2MSAxLjY1MTUzLC0xLjg0NzM3IDIuNDg3MSwtMi45OTYyNyAxLjY3MTExLC0yLjI5Nzc4IDMuODEyMjMsLTUuMTYzNDkgNi40MjMzOCwtOC41OTcxNCAyLjYxMTEsLTMuNDMzNjEgNC45MjE5NSwtNi41NjA0MyA2LjkzMjU0LC05LjM4MDQ3IC0xLjUxNDQ4LC0yLjIxOTQzIC0zLjQ0NjcxLC01LjAzMjkyIC01Ljc5NjcsLTguNDQwNDcgLTIuMzUwMDMsLTMuNDA3NDkgLTQuODU2NzEsLTcuMDU2NTMgLTcuNTIwMDUsLTEwLjk0NzE1IC0xLjEyMjgsLTEuNjQ0OTcgLTIuMDA0MDUsLTIuODA2OTIgLTIuNjQzNzcsLTMuNDg1ODYgLTAuNjM5NzMsLTAuNjc4ODQgLTEuNDk0ODcsLTEuMjY2MzUgLTIuNTY1NDMsLTEuNzYyNTEgLTAuNjI2NjgsLTAuMjg3MTcgLTEuNDk0ODgsLTAuNTE1NjUgLTIuNjA0NiwtMC42ODU0MiAtMS4xMDk3MywtMC4xNjk2NyAtMS45OTA5OSwtMC4yODA2NSAtMi42NDM3NywtMC4zMzI5MiBsIDAsLTIuNzgwODUgMjUuNzMyNjcsMCAwLDIuNzgwODUgYyAtMS41MTQ0OCwwLjA1MjMgLTMuMDg3NjksMC4yNDE1OCAtNC43MTk2MiwwLjU2NzkyIC0xLjYzMTk3LDAuMzI2NDQgLTIuNDQ3OTUsMC44MjkwOCAtMi40NDc5MywxLjUwNzkzIC0yZS01LDAuNDk2MTYgMC4zMjYzNywxLjM2NDM2IDAuOTc5MTcsMi42MDQ2IDAuNjUyNzYsMS4yNDAzMyAxLjQyMzA1LDIuNTY1NDcgMi4zMTA4NSwzLjk3NTQ0IDAuOTEzODcsMS40NjIyNyAxLjkzMjIxLDMuMDgxMTcgMy4wNTUwMiw0Ljg1NjY5IDEuMTIyNzYsMS43NzU2MSAyLjQ5MzYsMy44MjUzNCA0LjExMjUzLDYuMTQ5MjEgMi45NTA1NCwtMy45OTQ5OSA1LjQ5NjM4LC03LjU5ODM0IDcuNjM3NTQsLTEwLjgxMDA3IDIuMTQxMDksLTMuMjExNjQgMy4yMTE2NSwtNS4zMDA1NCAzLjIxMTY5LC02LjI2NjcgLTRlLTUsLTAuODM1NTEgLTAuNDg5NjMsLTEuNDQ5MTMgLTEuNDY4NzYsLTEuODQwODUgLTAuOTc5MjEsLTAuMzkxNjIgLTIuNjMwNzUsLTAuNjM5NjcgLTQuOTU0NjEsLTAuNzQ0MTcgbCAwLC0yLjc4MDg1IDIwLjcxOTI5LDAgMCwyLjc4MDg1IGMgLTAuNjUyODMsMC4wMjYyIC0xLjUwNzk4LDAuMTI0MDggLTIuNTY1NDMsMC4yOTM3NSAtMS4wNTc1NiwwLjE2OTc4IC0xLjkzODgxLDAuNDExMzEgLTIuNjQzNzcsMC43MjQ1OSAtMS4zNTc4MywwLjY1MjgzIC0yLjM2OTY0LDEuMzU3ODQgLTMuMDM1NDMsMi4xMTUwMSAtMC42NjU4OSwwLjc1NzI4IC0xLjU2MDIsMS44NTM5NSAtMi42ODI5MywzLjI5MDAyIC0yLjA4ODk1LDIuNjg5NTEgLTQuMDE0NjUsNS4yMTU3NyAtNS43NzcxMiw3LjU3ODggLTEuNzYyNTUsMi4zNjMxMSAtMy44ODQwOSw1LjI0MTg3IC02LjM2NDYzLDguNjM2MyAyLjA4ODg3LDIuOTc2NzIgNC40MTkzLDYuMzU4MTIgNi45OTEzLDEwLjE0NDIzIDIuNTcxOTIsMy43ODYxNiA1LjAzMjksNy40MDI1NiA3LjM4Mjk2LDEwLjg0OTI0IDAuODA5NCwxLjE3NTAxIDEuNzM2MzUsMi4yOTEyNyAyLjc4MDg1LDMuMzQ4NzcgMS4wNDQ0LDEuMDU3NTEgMS44OTMwMiwxLjc4MjEgMi41NDU4NSwyLjE3Mzc2IDAuNjI2NjIsMC4zNjU1NyAxLjQ2ODcxLDAuNTk0MDQgMi41MjYyNywwLjY4NTQzIDEuMDU3NDUsMC4wOTE0IDEuOTUxNzYsMC4xNTAxNCAyLjY4MjkzLDAuMTc2MjUgeiIKICAgICAgICAgICBzdHlsZT0iZm9udC12YXJpYW50Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtc2l6ZTo4MC4yMTM4MzY2N3B4O2xpbmUtaGVpZ2h0OjEyNSU7Zm9udC1mYW1pbHk6R2VvcmdpYTstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkdlb3JnaWE7ZmlsbDojMDAwMDAwIgogICAgICAgICAgIGlkPSJwYXRoMzE2MCIKICAgICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K",b4e="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDguNTQyMjIxbW0iCiAgIGhlaWdodD0iNDguNTQyMjIxbW0iCiAgIHZpZXdCb3g9IjAgMCAxNzIgMTcyIgogICBpZD0ic3ZnMTAyOTEiCiAgIHZlcnNpb249IjEuMSIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4yLWFscGhhMSAoYjZhMTViYiwgMjAyMi0wMi0yMykiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImxhdGV4U3ZnLnN2ZyIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczEwMjkzIiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSIxLjgwMzY1ODQiCiAgICAgaW5rc2NhcGU6Y3g9IjEyNy41MTg2IgogICAgIGlua3NjYXBlOmN5PSI3NS45NTY3MzMiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgZml0LW1hcmdpbi10b3A9IjAiCiAgICAgZml0LW1hcmdpbi1sZWZ0PSIwIgogICAgIGZpdC1tYXJnaW4tcmlnaHQ9IjAiCiAgICAgZml0LW1hcmdpbi1ib3R0b209IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxNDQwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjkwMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIwIgogICAgIGlua3NjYXBlOnBhZ2VjaGVja2VyYm9hcmQ9IjAiCiAgICAgaW5rc2NhcGU6ZGVza2NvbG9yPSIjZDFkMWQxIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTEwMjk2Ij4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICAgIDxkYzp0aXRsZSAvPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJDYWxxdWUgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTYyLjU3MTQyOSwtMTAwLjY0NzkyKSI+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImNvbG9yOiMwMDAwMDA7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTt2aXNpYmlsaXR5OnZpc2libGU7b3BhY2l0eTowLjE7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjgxOTA0NzYzO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO21hcmtlcjpub25lO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icmVjdDUwNDUtNS01LTEtOCIKICAgICAgIHdpZHRoPSIxNzEuMTgwOTUiCiAgICAgICBoZWlnaHQ9IjE3MS4xODA5NSIKICAgICAgIHg9IjYyLjk4MDk1MyIKICAgICAgIHk9IjEwMS4wNTc0NCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iQzpcVXNlcnNcU2ViXERvd25sb2Fkc1xtYXRoc1xNYXRoZ3JhcGgzMlxJY29uZXNccG5nXDQ4XExhdGV4LnBuZyIKICAgICAgIGlua3NjYXBlOmV4cG9ydC14ZHBpPSIyNS4xMTYyOCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC15ZHBpPSIyNS4xMTYyOCIgLz4KICAgIDxnCiAgICAgICB0cmFuc2Zvcm09Im1hdHJpeCgwLjUyNDcxNjQ2LDAsMCwwLjU4MzMzNzksLTM1LjcyNjk2MSwxNi43NDMyMjIpIgogICAgICAgaWQ9ImczMTY5IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LWZpbGVuYW1lPSJDOlxVc2Vyc1xTZWJcRG93bmxvYWRzXG1hdGhzXE1hdGhncmFwaDMyXEljb25lc1xwbmdcNDhcTGF0ZXgucG5nIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1LjExNjI4IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1LjExNjI4Ij4KICAgICAgPGcKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuMzExMTc3ODMsOS44MTUyNTk4KSIKICAgICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjEyLjU1ODE0IgogICAgICAgICBpbmtzY2FwZTpleHBvcnQteGRwaT0iMTIuNTU4MTQiCiAgICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iQzpcVXNlcnNcU2ViXERvd25sb2Fkc1xtYXRoc1xNYXRoZ3JhcGgzMlxJY29uZXNccG5nXDI0XExhdGV4LnBuZyIKICAgICAgICAgaWQ9InRleHQzMDcyIgogICAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZTo2NC44NTMzcHg7bGluZS1oZWlnaHQ6MTI1JTtmb250LWZhbWlseTpTYW5zO2xldHRlci1zcGFjaW5nOjBweDt3b3JkLXNwYWNpbmc6MHB4O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZSI+CiAgICAgICAgPHBhdGgKICAgICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgICAgIGlkPSJwYXRoMzE1MiIKICAgICAgICAgICBkPSJtIDI4MC41MzEyNSwyNTkuMjUgYyAtMi40NzY5OCw2LjE3NTE0IDguMDE2NDQsMi40NTQwMiA3LjQzNzUsOC4yODEyNSAtMC4zNDkyNywxMy44NzUzNCAwLjY0ODQ1LDI4LjAwNDggLTAuNDA2MjUsNDEuNzUgLTIuMjEyOTUsMy4xMDE1MSAtOS4xMDkxNywtMC4zODE0MiAtNy4wMzEyNSw1LjU2MjUgNC4wMTgyNCwyLjMxNTA5IDEyLjMxOTcsMC4zNDY5NyAxOCwxIDkuMTI1LDAgMTguMjUsMCAyNy4zNzUsMCAwLjQzODM3LC02LjE3Njk1IDAuODM2NiwtMTIuMzU3MjEgMS4zMTI1LC0xOC41MzEyNSAtNC42ODI1OCwtMS41MzgwMiAtNS41MTMzMiwyLjMwNzU4IC03LjIxNjYyLDUuNTg2IC0xLjk1MzcyLDQuMDUxMzcgLTQuNjg3NzUsOC4zMjM2MiAtOS44NzcxMyw3Ljc1Nzc1IC0zLjQ0Mzg5LC0wLjU1NzUyIC05LjIwNTYxLDEuNzExNjggLTExLjQwNjI1LC0xLjg0Mzc1IC0wLjg4MzU5LC0xNC4yNjc5NiAtMC4zNTY4NiwtMjguODA1ODkgLTAuMjE4NzUsLTQzLjA5Mzc1IDEuMzMzNzksLTQuMzMzNyA5Ljg0MDI4LC0wLjE2NjUyIDcuNSwtNi40Njg3NSAtNC4wMTgyNCwtMi4zMTUwOSAtMTIuMzE5NywtMC4zNDY5NyAtMTgsLTEgLTIuMDU4OTUsMC41OTg0NiAtNy4xMTkwMywtMS4yMzU0MyAtNy40Njg3NSwxIHoiCiAgICAgICAgICAgc3R5bGU9ImZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDtmb250LXNpemU6ODAuMjEzOHB4O2xpbmUtaGVpZ2h0OjEyNSU7Zm9udC1mYW1pbHk6R2VvcmdpYTstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkdlb3JnaWE7ZmlsbDojMDAwMDAwIiAvPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgZD0ibSAzNDMuNTA0MDcsMjkxLjY0MzkyIGggLTE4LjAwMzczIHYgLTIuMTYyODkgYyAxLjU4NDA2LC0wLjEwMTU0IDIuODk5MDUsLTAuMzA0NjMgMy45NDQ5OCwtMC42MDkyNiAxLjA0NTg3LC0wLjMwNDYzIDEuNTY4ODIsLTAuNjgwMzQgMS41Njg4NiwtMS4xMjcxNCAtNGUtNSwtMC4xODI3NyAtMC4wMjAzLC0wLjQwNjE3IC0wLjA2MDksLTAuNjcwMTkgLTAuMDQwNywtMC4yNjQwMSAtMC4xMDE1OCwtMC40OTc1NiAtMC4xODI3OCwtMC43MDA2NSBsIC0zLjU5NDY1LC05LjY4NzI4IGggLTE1LjE0MDE5IGMgLTAuNTY4NjYsMS40MjE2MyAtMS4wMzA2OCwyLjY2MDQ2IC0xLjM4NjA3LDMuNzE2NSAtMC4zNTU0MiwxLjA1NjA3IC0wLjY3NTI4LDIuMDMwODkgLTAuOTU5NTksMi45MjQ0NyAtMC4yNjQwMywwLjg3MzI4IC0wLjQ0NjgsMS41ODQwOSAtMC41NDgzNCwyLjEzMjQyIC0wLjEwMTU1LDAuNTQ4MzQgLTAuMTUyMzIsMC45OTUxMyAtMC4xNTIzMSwxLjM0MDM4IC0xMGUtNiwwLjgxMjM1IDAuNjM5NzEsMS40NDE5MiAxLjkxOTE3LDEuODg4NzEgMS4yNzk0NCwwLjQ0NjggMi43MjEzNywwLjcxMDgxIDQuMzI1NzcsMC43OTIwNCB2IDIuMTYyODkgaCAtMTYuMjY3MzIgdiAtMi4xNjI4OSBjIDAuNTI4MDMsLTAuMDQwNiAxLjE4ODA2LC0wLjE1NzM5IDEuOTgwMSwtMC4zNTAzMiAwLjc5MjA0LC0wLjE5MjkzIDEuNDQxOTIsLTAuNDUxODcgMS45NDk2NCwtMC43NzY4MSAwLjgxMjM1LC0wLjU0ODM0IDEuNDQxOTIsLTEuMTIyMDYgMS44ODg3MiwtMS43MjExNyAwLjQ0Njc5LC0wLjU5OTEgMC44ODM0MywtMS40MjY2OSAxLjMwOTkyLC0yLjQ4Mjc1IDIuMTczMDMsLTUuNDIyNDMgNC41Njk0NiwtMTEuNTE1MDUgNy4xODkzLC0xOC4yNzc4OSAyLjYxOTgyLC02Ljc2Mjc5IDQuOTU1MzIsLTEyLjc4NDMzIDcuMDA2NTMsLTE4LjA2NDY1IGggMi40MzcwNSBsIDE0LjQwOTA3LDM3LjI4NjkgYyAwLjMwNDU5LDAuNzkyMDUgMC42NDk4NCwxLjQzMTc3IDEuMDM1NzUsMS45MTkxOCAwLjM4NTgyLDAuNDg3NDEgMC45MjQwMSwwLjk2NDY3IDEuNjE0NTQsMS40MzE3NyAwLjQ2NzA3LDAuMjg0MzIgMS4wNzYzMywwLjUyMjk1IDEuODI3NzksMC43MTU4OCAwLjc1MTM5LDAuMTkyOTQgMS4zODA5NiwwLjI5OTU2IDEuODg4NzIsMC4zMTk4NiB6IG0gLTE3LjQyNDkzLC0xNy42Njg2MyAtNi41NDk1NywtMTYuNzU0NzQgLTYuNDI3NzMsMTYuNzU0NzQgeiIKICAgICAgICAgICBzdHlsZT0iZm9udC12YXJpYW50Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtc2l6ZTo2Mi4zODg1cHg7bGluZS1oZWlnaHQ6MTI1JTtmb250LWZhbWlseTonTWljcm9zb2Z0IFlpIEJhaXRpJzstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidNaWNyb3NvZnQgWWkgQmFpdGknO2ZpbGw6IzAwMDAwMCIKICAgICAgICAgICBpZD0icGF0aDMxNTQiCiAgICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICAgICAgICA8cGF0aAogICAgICAgICAgIGQ9Im0gMzc1LjM3NTU1LDIzMi4zNzA5OCBoIC0yLjcwMjUyIGMgLTAuMjM1MDUsLTAuOTM5OTYgLTAuNjU5MzYsLTIuMDU2MjIgLTEuMjcyOTMsLTMuMzQ4NzcgLTAuNjEzNjUsLTEuMjkyNDYgLTEuMjk5MDcsLTIuNTEzMTYgLTIuMDU2MjYsLTMuNjYyMTEgLTAuNzgzMzgsLTEuMjAxMDcgLTEuNjM4NTIsLTIuMjUyMDQgLTIuNTY1NDMsLTMuMTUyOTMgLTAuOTI2OTksLTAuOTAwNzkgLTEuODIxMywtMS40MTY0OSAtMi42ODI5MywtMS41NDcxIC0wLjgwOTQ5LC0wLjEwNDM5IC0xLjgyNzgzLC0wLjE4MjcyIC0zLjA1NTAyLC0wLjIzNSAtMS4yMjcyNywtMC4wNTIyIC0yLjM2MzExLC0wLjA3ODMgLTMuNDA3NTIsLTAuMDc4MyBoIC0yLjI3MTY5IHYgNDQuNDU0NDQgYyAtMmUtNSwwLjg2MTY4IDAuMTgyNzUsMS42NTE1NSAwLjU0ODM0LDIuMzY5NiAwLjM2NTUzLDAuNzE4MDcgMS4wMDUyNSwxLjI3MjkzIDEuOTE5MTgsMS42NjQ2IDAuNDY5OTcsMC4xODI3OCAxLjQ1NTY3LDAuNDMwODQgMi45NTcxLDAuNzQ0MTcgMS41MDEzNiwwLjMxMzM0IDIuNjY5ODQsMC40ODMwNiAzLjUwNTQ0LDAuNTA5MTcgdiAyLjc4MDg1IGggLTI2LjI0MTgzIHYgLTIuNzgwODUgYyAwLjczMTEsLTAuMDUyMiAxLjg0NzM2LC0wLjE1NjY3IDMuMzQ4NzcsLTAuMzEzMzQgMS41MDEzOCwtMC4xNTY2NiAyLjUzOTMsLTAuMzUyNSAzLjExMzc3LC0wLjU4NzUgMC44NjE2NSwtMC4zMzk0NCAxLjQ5NDg1LC0wLjgyOTAzIDEuODk5NTksLTEuNDY4NzYgMC40MDQ3MSwtMC42Mzk3MiAwLjYwNzA3LC0xLjQ5NDg2IDAuNjA3MDksLTIuNTY1NDMgdiAtNDQuODA2OTUgaCAtMi4yNzE2OCBjIC0wLjgwOTQ3LDVlLTUgLTEuODE0NzUsMC4wMTk2IC0zLjAxNTg1LDAuMDU4NyAtMS4yMDExMywwLjAzOTIgLTIuMzUwMDMsMC4xMjQwOCAtMy40NDY2OSwwLjI1NDU4IC0wLjg2MTY4LDAuMTA0NSAtMS43NTU5OSwwLjYyMDIgLTIuNjgyOTMsMS41NDcxIC0wLjkyNjk2LDAuOTI3IC0xLjc4MjExLDEuOTc3OTcgLTIuNTY1NDQsMy4xNTI5MyAtMC43ODMzNCwxLjE3NTA2IC0xLjQ3NTI5LDIuNDIxODcgLTIuMDc1ODQsMy43NDA0NCAtMC42MDA1NywxLjMxODY3IC0xLjAxODM1LDIuNDA4ODEgLTEuMjUzMzQsMy4yNzA0NCBoIC0yLjc0MTY5IFYgMjE3LjI5MTcgaCA0OC40MTAzMSB6IgogICAgICAgICAgIHN0eWxlPSJmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7Zm9udC1zaXplOjgwLjIxMzhweDtsaW5lLWhlaWdodDoxMjUlO2ZvbnQtZmFtaWx5Okdlb3JnaWE7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpHZW9yZ2lhO2ZpbGw6IzAwMDAwMCIKICAgICAgICAgICBpZD0icGF0aDMxNTYiCiAgICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KICAgICAgICA8cGF0aAogICAgICAgICAgIGQ9Im0gMzk1LjM2Mjg4LDMxOS40MzAzNyAtMS4wNTc1MSwxNi4zNzE3NyBoIC00Ni4xMzg2MiB2IC0yLjc4MDg1IGMgMC43ODMzMywtMC4wNTIyIDEuODI3NzgsLTAuMTYzMTkgMy4xMzMzNSwtMC4zMzI5MiAxLjMwNTU2LC0wLjE2OTcyIDIuMTU0MTcsLTAuMzQ1OTcgMi41NDU4NSwtMC41Mjg3NSAwLjgzNTU1LC0wLjM5MTY3IDEuNDE2NTMsLTAuOTAwODQgMS43NDI5MywtMS41Mjc1MSAwLjMyNjM4LC0wLjYyNjY3IDAuNDg5NTcsLTEuNDIzMDYgMC40ODk1OCwtMi4zODkxOCB2IC0zOS45NTAyNSBjIC0xZS01LC0wLjg2MTYzIC0wLjE0MzYyLC0xLjYyNTM4IC0wLjQzMDgzLC0yLjI5MTI3IC0wLjI4NzI0LC0wLjY2NTc5IC0wLjg4NzgsLTEuMjA3NTkgLTEuODAxNjgsLTEuNjI1NDIgLTAuNzA1MDEsLTAuMzM5NCAtMS42NTE1NSwtMC42Mzk2OCAtMi44Mzk2LC0wLjkwMDg0IC0xLjE4ODA3LC0wLjI2MTA2IC0yLjEzNDYsLTAuNDE3NzMgLTIuODM5NiwtMC40NzAwMSB2IC0yLjc4MDg1IGggNDMuMDA1MjcgdiAxMy4zOTUwOSBoIC0yLjkzNzUyIGMgLTAuNTIyMjcsLTEuOTg0NDIgLTEuNjUxNTgsLTQuMDkyOSAtMy4zODc5NCwtNi4zMjU0NiAtMS43MzY0NCwtMi4yMzI0NiAtMy4zODc5NywtMy40NTMxNiAtNC45NTQ2MSwtMy42NjIxMSAtMC44MDk0OSwtMC4xMDQzOSAtMS43NzU2LC0wLjE4MjcyIC0yLjg5ODM1LC0wLjIzNSAtMS4xMjI4MiwtMC4wNTIyIC0yLjQwMjI3LC0wLjA3ODMgLTMuODM4MzYsLTAuMDc4MyBoIC04LjczNDIyIHYgMjIuMDkwMTQgaCA2LjI2NjcgYyAyLjAxMDU0LDNlLTUgMy40NzkzLC0wLjE4OTI4IDQuNDA2MjgsLTAuNTY3OTIgMC45MjY5MiwtMC4zNzg1OSAxLjc0MjksLTEuMDExNzggMi40NDc5MywtMS44OTk2IDAuNTc0NDIsLTAuNzU3MTkgMS4wNjQsLTEuNzY5IDEuNDY4NzYsLTMuMDM1NDMgMC40MDQ2OSwtMS4yNjYzNiAwLjY3MjMzLC0yLjQ2MDk1IDAuODAyOTIsLTMuNTgzNzggaCAyLjkzNzUyIHYgMjEuNzM3NjQgaCAtMi45Mzc1MiBjIC0wLjEwNDQ4LC0xLjI1MzMyIC0wLjM4NTE3LC0yLjU3ODQ3IC0wLjg0MjA5LC0zLjk3NTQ0IC0wLjQ1Njk4LC0xLjM5NjkzIC0wLjkzMzUxLC0yLjQwODc0IC0xLjQyOTU5LC0zLjAzNTQ0IC0wLjgwOTQ4LC0xLjAxODMxIC0xLjcyOTksLTEuNjg0MTUgLTIuNzYxMjcsLTEuOTk3NTEgLTEuMDMxNDIsLTAuMzEzMzEgLTIuMzk1NzMsLTAuNDY5OTggLTQuMDkyOTQsLTAuNDcgaCAtNi4yNjY3IHYgMTYuNjg1MSBjIC0yZS01LDEuNjcxMTMgMC4xMTc0OCwyLjk4OTc1IDAuMzUyNSwzLjk1NTg2IDAuMjM0OTgsMC45NjYxMiAwLjY5MTkzLDEuNjk3MjQgMS4zNzA4NCwyLjE5MzM1IDAuNjc4ODcsMC40OTYxMiAxLjYwNTgyLDAuODE1OTggMi43ODA4NSwwLjk1OTU5IDEuMTc0OTgsMC4xNDM2MSAyLjg0NjEsMC4yMTU0MiA1LjAxMzM3LDAuMjE1NDEgMC44NjE2NCwxMGUtNiAxLjk5NzQ4LDEwZS02IDMuNDA3NTIsMCAxLjQwOTk3LDEwZS02IDIuNTk4MDMsLTAuMDUyMiAzLjU2NDE5LC0wLjE1NjY2IDAuOTkyMTksLTAuMTA0NDQgMi4wMTcwNSwtMC4yOTM3NSAzLjA3NDYsLTAuNTY3OTIgMS4wNTc0NywtMC4yNzQxNyAxLjgwODE2LC0wLjY0NjI1IDIuMjUyMSwtMS4xMTYyNiAxLjIwMTA3LC0xLjI1MzM0IDIuNDYwOTQsLTMuMTUyOTMgMy43Nzk2LC01LjY5ODc5IDEuMzE4NTgsLTIuNTQ1ODMgMi4xNjA2NiwtNC40MTkzMSAyLjUyNjI3LC01LjYyMDQ1IHoiCiAgICAgICAgICAgc3R5bGU9ImZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDtmb250LXNpemU6ODAuMjEzOHB4O2xpbmUtaGVpZ2h0OjEyNSU7Zm9udC1mYW1pbHk6R2VvcmdpYTstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkdlb3JnaWE7ZmlsbDojMDAwMDAwIgogICAgICAgICAgIGlkPSJwYXRoMzE1OCIKICAgICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgZD0iTSA0NDMuMDk0MzMsMzA5LjkxODEzIEggNDE3LjA4NzUgdiAtMi43ODA4NSBjIDIuMTQxMDksLTAuMDUyMiAzLjg3MDk2LC0wLjI1NDU5IDUuMTg5NjEsLTAuNjA3MDkgMS4zMTg1OSwtMC4zNTI1IDEuOTc3OSwtMC44OTQzMSAxLjk3NzkzLC0xLjYyNTQzIC0zZS01LC0wLjM5MTY2IC0wLjMwMDMxLC0xLjIwMTExIC0wLjkwMDg0LC0yLjQyODM1IC0wLjYwMDU5LC0xLjIyNzIyIC0xLjM3MDg3LC0yLjU5ODA2IC0yLjMxMDg0LC00LjExMjUyIC0xLjA0NDQ5LC0xLjY3MTExIC0yLjI4NDc3LC0zLjYzNTk4IC0zLjcyMDg2LC01Ljg5NDYyIC0xLjQzNjE1LC0yLjI1ODYxIC0yLjg1OTIxLC00LjQxOTMxIC00LjI2OTE5LC02LjQ4MjEzIC0yLjI5NzgyLDMuMDI4OTMgLTQuOTA4OTUsNi42Nzc5OCAtNy44MzMzOSwxMC45NDcxNiAtMi45MjQ0Nyw0LjI2OTIgLTQuMzg2Nyw2Ljc4MjQxIC00LjM4NjY5LDcuNTM5NjMgLTFlLTUsMC44NjE2NyAwLjM5ODE4LDEuNDk0ODcgMS4xOTQ1OSwxLjg5OTU5IDAuNzk2MzgsMC40MDQ3MyAyLjU1MjM2LDAuNjU5MzEgNS4yNjc5NSwwLjc2Mzc2IHYgMi43ODA4NSBoIC0yMC43NTg0NiB2IC0yLjc4MDg1IGMgMC42Nzg4OSwtMC4wNTIyIDEuNTQ3MDksLTAuMTUwMTQgMi42MDQ2LC0wLjI5Mzc2IDEuMDU3NSwtMC4xNDM2IDEuOTI1NywtMC4zODUxMyAyLjYwNDYsLTAuNzI0NTggMS4zNTc3OCwtMC43MzExMSAyLjQ0NzkyLC0xLjUyMDk4IDMuMjcwNDMsLTIuMzY5NiAwLjgyMjUsLTAuODQ4NjEgMS42NTE1MywtMS44NDczNyAyLjQ4NzEsLTIuOTk2MjcgMS42NzExMSwtMi4yOTc3OCAzLjgxMjIzLC01LjE2MzQ5IDYuNDIzMzgsLTguNTk3MTQgMi42MTExLC0zLjQzMzYxIDQuOTIxOTUsLTYuNTYwNDMgNi45MzI1NCwtOS4zODA0NyAtMS41MTQ0OCwtMi4yMTk0MyAtMy40NDY3MSwtNS4wMzI5MiAtNS43OTY3LC04LjQ0MDQ3IC0yLjM1MDAzLC0zLjQwNzQ5IC00Ljg1NjcxLC03LjA1NjUzIC03LjUyMDA1LC0xMC45NDcxNSAtMS4xMjI4LC0xLjY0NDk3IC0yLjAwNDA1LC0yLjgwNjkyIC0yLjY0Mzc3LC0zLjQ4NTg2IC0wLjYzOTczLC0wLjY3ODg0IC0xLjQ5NDg3LC0xLjI2NjM1IC0yLjU2NTQzLC0xLjc2MjUxIC0wLjYyNjY4LC0wLjI4NzE3IC0xLjQ5NDg4LC0wLjUxNTY1IC0yLjYwNDYsLTAuNjg1NDIgLTEuMTA5NzMsLTAuMTY5NjcgLTEuOTkwOTksLTAuMjgwNjUgLTIuNjQzNzcsLTAuMzMyOTIgdiAtMi43ODA4NSBoIDI1LjczMjY3IHYgMi43ODA4NSBjIC0xLjUxNDQ4LDAuMDUyMyAtMy4wODc2OSwwLjI0MTU4IC00LjcxOTYyLDAuNTY3OTIgLTEuNjMxOTcsMC4zMjY0NCAtMi40NDc5NSwwLjgyOTA4IC0yLjQ0NzkzLDEuNTA3OTMgLTJlLTUsMC40OTYxNiAwLjMyNjM3LDEuMzY0MzYgMC45NzkxNywyLjYwNDYgMC42NTI3NiwxLjI0MDMzIDEuNDIzMDUsMi41NjU0NyAyLjMxMDg1LDMuOTc1NDQgMC45MTM4NywxLjQ2MjI3IDEuOTMyMjEsMy4wODExNyAzLjA1NTAyLDQuODU2NjkgMS4xMjI3NiwxLjc3NTYxIDIuNDkzNiwzLjgyNTM0IDQuMTEyNTMsNi4xNDkyMSAyLjk1MDU0LC0zLjk5NDk5IDUuNDk2MzgsLTcuNTk4MzQgNy42Mzc1NCwtMTAuODEwMDcgMi4xNDEwOSwtMy4yMTE2NCAzLjIxMTY1LC01LjMwMDU0IDMuMjExNjksLTYuMjY2NyAtNGUtNSwtMC44MzU1MSAtMC40ODk2MywtMS40NDkxMyAtMS40Njg3NiwtMS44NDA4NSAtMC45NzkyMSwtMC4zOTE2MiAtMi42MzA3NSwtMC42Mzk2NyAtNC45NTQ2MSwtMC43NDQxNyB2IC0yLjc4MDg1IGggMjAuNzE5MjkgdiAyLjc4MDg1IGMgLTAuNjUyODMsMC4wMjYyIC0xLjUwNzk4LDAuMTI0MDggLTIuNTY1NDMsMC4yOTM3NSAtMS4wNTc1NiwwLjE2OTc4IC0xLjkzODgxLDAuNDExMzEgLTIuNjQzNzcsMC43MjQ1OSAtMS4zNTc4MywwLjY1MjgzIC0yLjM2OTY0LDEuMzU3ODQgLTMuMDM1NDMsMi4xMTUwMSAtMC42NjU4OSwwLjc1NzI4IC0xLjU2MDIsMS44NTM5NSAtMi42ODI5MywzLjI5MDAyIC0yLjA4ODk1LDIuNjg5NTEgLTQuMDE0NjUsNS4yMTU3NyAtNS43NzcxMiw3LjU3ODggLTEuNzYyNTUsMi4zNjMxMSAtMy44ODQwOSw1LjI0MTg3IC02LjM2NDYzLDguNjM2MyAyLjA4ODg3LDIuOTc2NzIgNC40MTkzLDYuMzU4MTIgNi45OTEzLDEwLjE0NDIzIDIuNTcxOTIsMy43ODYxNiA1LjAzMjksNy40MDI1NiA3LjM4Mjk2LDEwLjg0OTI0IDAuODA5NCwxLjE3NTAxIDEuNzM2MzUsMi4yOTEyNyAyLjc4MDg1LDMuMzQ4NzcgMS4wNDQ0LDEuMDU3NTEgMS44OTMwMiwxLjc4MjEgMi41NDU4NSwyLjE3Mzc2IDAuNjI2NjIsMC4zNjU1NyAxLjQ2ODcxLDAuNTk0MDQgMi41MjYyNywwLjY4NTQzIDEuMDU3NDUsMC4wOTE0IDEuOTUxNzYsMC4xNTAxNCAyLjY4MjkzLDAuMTc2MjUgeiIKICAgICAgICAgICBzdHlsZT0iZm9udC12YXJpYW50Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtc2l6ZTo4MC4yMTM4cHg7bGluZS1oZWlnaHQ6MTI1JTtmb250LWZhbWlseTpHZW9yZ2lhOy1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246R2VvcmdpYTtmaWxsOiMwMDAwMDAiCiAgICAgICAgICAgaWQ9InBhdGgzMTYwIgogICAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+CiAgICAgIDwvZz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBmaWxsLXJ1bGU9ImV2ZW5vZGQiCiAgICAgICBkPSJtIDIwOS40NzM3LDE1NS43NTUwNCB2IDkxLjU3NzU2IGEgMTguMjEwODUsMTkuMjc5NDg3IDAgMCAxIC0xOC4yMTA4NSwxOS4yNzk0OCB2IC05LjYzOTc0IGEgOS4xMDU0MjQ5LDkuNjM5NzQzMiAwIDAgMCA5LjEwNTQzLC05LjYzOTc0IHYgLTkxLjU3NzU2IGggLTE4LjIxMDg1IGEgMTMuNjU4MTM4LDE0LjQ1OTYxNSAwIDAgMSAtMTMuNjU4MTQsLTE0LjQ1OTYxIHYgLTE5LjI3OTQ5IGggLTUwLjA3OTgyIGEgOS4xMDU0MjQ5LDkuNjM5NzQzMiAwIDAgMCAtOS4xMDU0Miw5LjYzOTc1IHYgODYuNzU3NjggaCAtOS4xMDU0MiB2IC04Ni43NTc2OCBhIDE4LjIxMDg1LDE5LjI3OTQ4NyAwIDAgMSAxOC4yMTA4NCwtMTkuMjc5NDkgaCA1MC4wNzk4MiB6IE0gODEuOTk3Nzc2LDI1NS40Mzk2NSBhIDEwLjI4OTEzLDEwLjg5MjkwOSAwIDAgMCAzLjY1MTI4LDcuOTMzNDggYyAxLjE4MzcwNSwxLjA0MTA5IDIuNjIyMzYyLDEuODUwODMgNC4zNTIzOTMsMi40MjkyMiAxLjczMDAzMSwwLjU4ODE1IDMuNzQyMzI1LDAuODc3MDggNi4wNTUxMDIsMC44NzcwOCAzLjA3NzYzNCwwIDUuNjgxNzg5LC0wLjUxMTAzIDcuODEyNDU5LC0xLjUyMzAyIDIuMTU3OTksLTEuMDExNzkgMy43ODc4NSwtMi40MjkyMiA0LjkxNjkyLC00LjI0MTQ5IGEgMTAuNjUzMzQ3LDExLjI3ODQ5OSAwIDAgMCAxLjcwMjcyLC02LjMyMzY3IGMgMCwtMi4xNTkzIC0wLjQwOTc2LC0zLjk1MjM1IC0xLjIyOTIzLC01LjM5ODI2IGEgOS4xMDU0MjQ5LDkuNjM5NzQzMiAwIDAgMCAtMy40MTQ1MywtMy40NDE0MSAxOC40NTY2OTYsMTkuNTM5NzYgMCAwIDAgLTUuMTQ0NTcsLTIuMDI0MyBsIC01LjY1NDQ2NiwtMS4zODgxMiBhIDguODMyMjYyMiw5LjM1MDU1MDkgMCAwIDEgLTMuNjg3NzAyLC0xLjY5NjU5IDMuMzY5MDA3MiwzLjU2NjcwNDkgMCAwIDEgLTEuMzAyMDcsLTIuODgyMzYgYyAwLC0xLjUwMzggMC41NTU0NTUsLTIuNzM3NjkgMS42NzUzOTgsLTMuNzAxNjcgMS4xMzgxNzMsLTAuOTczNzQgMi42OTUyMDUsLTEuNDY1MjQgNC42NzEwNzgsLTEuNDY1MjQgMS4zMDIwOCwwIDIuNDIyMDQzLDAuMjIyMSAzLjM2OTAwNywwLjY1NjAyIGEgNS42OTA4OTA1LDYuMDI0ODM5NCAwIDAgMSAyLjIzMDgzNSwxLjc0NDgyIDUuMDk5MDM3OSw1LjM5ODI1NjIgMCAwIDEgMS4wOTI2NSwyLjQ4NzEgaCA2LjgyOTA3IGEgOS45NDMxMjM2LDEwLjUyNjU5OSAwIDAgMCAtMS44MTE5OSwtNS40NTYxNCAxMS4wMTc1NjQsMTEuNjY0MDg5IDAgMCAwIC00LjU1MjcxLC0zLjk1MjI0IDE2LjUwODEzNiwxNy40NzY4NTUgMCAwIDAgLTcuMTAyMjMsLTEuNDY1MjUgYyAtMi42Njc4ODQsMCAtNS4wMjYxOTQsMC40ODIyNSAtNy4wNjU4MDksMS40NDU5MSAtMi4wNDg3MTYsMC45NTQyMSAtMy42NDIxNywyLjMxMzU0IC00LjgwNzY2NCw0LjA1ODM2IC0xLjE1NjM4NCwxLjc1NDM4IC0xLjczMDAzMSwzLjgwNzY3IC0xLjczMDAzMSw2LjE1OTc3IDAsMS45Mzc2MiAwLjM2NDIxNywzLjYyNDU1IDEuMTE5OTcyLDUuMDUxMjMgMC43NDY2OTMsMS40MzYzNCAxLjgxMTk3NSwyLjYwMjc4IDMuMTk1OTk5LDMuNTM3NzYgMS4zOTMxMzUsMC45MTYxNiAzLjAyMzAwMSwxLjYwOTkxIDQuOTE2OTI5LDIuMDUzMjkgbCA1LjYyNzE1MywxLjM4ODEyIGMgMS44ODQ4MjcsMC40NzE5NiAzLjI3Nzk1MSwxLjA4OTMyIDQuMjA2NzAxLDEuODYwNSBhIDMuNTIzNzk5NSwzLjczMDU4MDcgMCAwIDEgMS4zOTMxNCwzLjE0MjUgNC42NjE5Nzc2LDQuOTM1NTQ4NSAwIDAgMSAtMC43NzM5OSwyLjc5NTU4IDUuMDg5OTMyNSw1LjM4ODYxNjQgMCAwIDEgLTIuMzMwOTgsMS44NjA0OSBjIC0xLjAxMDcwMiwwLjQ1MzQ2IC0yLjI2NzI1LDAuNjc0NTMgLTMuNzYwNTQsMC42NzQ1MyAtMS4wNjUzMzksMCAtMi4wMzk2MTUsLTAuMTI1NDUgLTIuOTEzNzM2LC0wLjM4NTU5IGEgNy42MjEyNDA2LDguMDY4NDY1IDAgMCAxIC0yLjI1ODE0NSwtMS4xMDg1NCA1LjI2MjkzNTYsNS41NzE3NzE1IDAgMCAxIC0yLjMyMTg4OCwtMy43MDE2NyB6IG0gNDEuNjU3MzI0LDEwLjUwNzI3IGggOC42NjgzNiBsIDEyLjA4MjkyLC0zOC41NDkzMSBoIC04LjAwMzc0IGwgLTguMDc2NDYsMzAuMjQ5NTcgaCAtMC4zNDYwNiBsIC04LjE2NzU2LC0zMC4yNDk1NyBoIC04LjM0OTY4IGwgMTIuMTkyMTcsMzguNTU4OTcgeiBtIDQ5LjkyNTA3LC0zMS43NDM2IGMgMC42OTI0OSwxLjQ2NTI0IDEuMTE5OTQsMy4wNDYxNiAxLjI3NDc1LDQuNzQyNzUgaCAtNy4wNjU4IGEgNy4yNTcwMjM2LDcuNjgyODc1MyAwIDAgMCAtMC44NzQxMywtMi40MDAzMiA2LjI3MzYzNzgsNi42NDE3ODMxIDAgMCAwIC0xLjU0Nzk3LC0xLjgzMTYgNi40Mzc1MzU0LDYuODE1Mjk4NSAwIDAgMCAtMi4xNTgwMSwtMS4yMTQ1NiA4Ljc2ODUyNDIsOS4yODMwNzI3IDAgMCAwIC0yLjczMTYyLC0wLjQyNDY2IGMgLTIuNTg1OTQsMCAtNC42MDczLDAuOTYzNDYgLTYuMDQ2MDEsMi45MTExNSAtMS40Mjk0NywxLjkyNzk1IC0yLjEzOTc1LDQuNjY1NjQgLTIuMTM5NzUsOC4xOTM4MyB2IDQuNzkwOTggYyAwLDIuMjY1MzIgMC4zMDAxMiw0LjI0MTQ5IDAuODgyODcsNS45MzgwOCBhIDguMDIxODc5NCw4LjQ5MjYxMzggMCAwIDAgMi43NzcxNywzLjk4MTE0IDcuOTIxNzE5Niw4LjM4NjU3NjUgMCAwIDAgNC43MTY1NywxLjQwNzQ1IDguNzg2NzM1MSw5LjMwMjM1MjIgMCAwIDAgNC4xNjEyLC0wLjkzNDY2IDYuMTAwNjM0Nyw2LjQ1ODYyOCAwIDAgMCAyLjQ4NTgsLTIuNTM1MjMgYyAwLjU0NjgyLC0xLjA2MDQyIDAuODE5NzQsLTIuMjE3MTkgMC44MTk3NCwtMy41MDg4NyB2IC0yLjQ0ODU0IGggLTcuNDkzNzQgdiAtNS42ODc0IGggMTQuMzUwMTQgdiA3LjY5MjQ2IGMgMCwxLjg2MDUgLTAuMjkxMzcsMy42MzQyMSAtMC44NzQxMiw1LjMwMTkxIGEgMTEuNzQ1OTk5LDEyLjQzNTI2OSAwIDAgMSAtMi42Njc5MSw0LjQwNTM5IDEyLjQ3NDQzMywxMy4yMDY0NDkgMCAwIDEgLTQuNTA3MTYsMy4wMjY4MyBjIC0xLjgwMjkyLDAuNzEzNiAtMy45MTUzOCwxLjA2OTk4IC02LjM1NTY0LDEuMDY5OTggYSAxOC4wMjg3NDIsMTkuMDg2NjkyIDAgMCAxIC02Ljg0NzI3LC0xLjI3MjQ0IDEzLjE3NTU1LDEzLjk0ODcwOSAwIDAgMSAtNC44NjIyNSwtMy42MzQxMSAxNC4zODY1NzIsMTUuMjMwNzk1IDAgMCAxIC0yLjkwNDYxLC01LjU5MTA1IDIyLjU5OTY2NSwyMy45MjU4NDMgMCAwIDEgLTAuOTU1NywtNy4xODE2MyB2IC00Ljg4NzMzIGMgMCwtMy40NzAzIDAuNjAxMiwtNi41MjYxMyAxLjgxMTk1LC05LjE0ODE0IDEuMjIwMTgsLTIuNjEyMzQgMi45OTU3MSwtNC42NDY0MSA1LjMwODQ0LC02LjEwMTk4IDIuMzMwOTksLTEuNDY1MjQgNS4xMzU0NiwtMi4xOTc4NiA4LjQzMTY3LC0yLjE5Nzg2IDIuMTY3MDQsMCA0LjA5NzM5LDAuMzE3NzIgNS43ODE5MiwwLjk2MzQ2IDEuNzExODIsMC42MzY0OCAzLjE2ODY5LDEuNTIzMTMgNC4zNzA2LDIuNjUwOSAxLjIyMDE4LDEuMTI3ODggMi4xNjcxNCwyLjQzODg4IDIuODU5MTYsMy45MjM0NSB6IgogICAgICAgaWQ9InBhdGgyMiIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6OS4zNjg3OCIgLz4KICA8L2c+Cjwvc3ZnPgo=",x4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg6059'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='DteAB.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs6061'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.139535'%20inkscape:cx='85.999998'%20inkscape:cy='85.999998'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata6064'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-239.71429,-146.3622)'%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20259.24625,169.42969%20132.93607,136.4716%200,0'%20id='path5210'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DteAB.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20313.58289,199.16932%20-17.05023,1.15379%20-1.1538,-17.05024%20-7.23443,0.48955%201.15379,17.05024%20-17.05024,1.15379%200.48956,7.23443%2017.05024,-1.15379%201.15391,17.05207%207.23443,-0.48956%20-1.15392,-17.05206%2017.05025,-1.15379%20z'%20/%3e%3cpath%20id='rect1225-6'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20374.77181,262.24024%20-17.08874,0.12894%20-0.12895,-17.08875%20-7.25076,0.0547%200.12894,17.08874%20-17.08875,0.12895%200.0547,7.25077%2017.08875,-0.12894%200.12896,17.09058%207.25077,-0.0547%20-0.12896,-17.09057%2017.08875,-0.12894%20z'%20/%3e%3c/g%3e%3c/svg%3e",w4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg8379'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='DtePar.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs8381'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata8384'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-188.28571,-232.07648)'%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%20209.93899,362.6242%20322.36896,252.31555'%20id='path5128-6'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DtePar.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%20229.38443,387.37294%20341.8144,277.06429'%20id='path5128-6-1'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DtePar.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20265.33198,286.22826%20-2.70865,16.87321%20-16.87321,-2.70864%20-1.14928,7.15931%2016.87321,2.70864%20-2.70864,16.87322%207.15931,1.14927%202.70865,-16.87321%2016.87502,2.70894%201.14927,-7.15932%20-16.87501,-2.70893%202.70864,-16.87321%20z'%20/%3e%3c/g%3e%3c/svg%3e",M4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg10117'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='DtePer.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs10119'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata10122'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-373.99999,-383.50506)'%3e%3crect%20style='color:%23000000;display:inline;overflow:visible;visibility:visible;fill:none;stroke:%23000000;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;enable-background:accumulate'%20id='rect5356-5'%20width='22.627417'%20height='22.627417'%20x='651.37585'%20y='-49.423424'%20transform='matrix(0.67181757,0.74071665,-0.74071665,0.67181757,0,0)'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DtePer.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%20396.71395,402.68345%20507.02258,515.11342'%20id='path5128-6-0'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DtePer.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%20415.09871,538.8015%20527.52869,428.49286'%20id='path5128-6-1-6'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DtePer.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20420.04977,407.25998%20-0.69256,17.07519%20-17.0752,-0.69256%20-0.29386,7.24501%2017.0752,0.69257%20-0.69256,17.07519%207.24501,0.29386%200.69257,-17.0752%2017.07703,0.69264%200.29385,-7.24502%20-17.07702,-0.69263%200.69256,-17.07521%20z'%20/%3e%3c/g%3e%3c/svg%3e",k4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg9584'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='MarqueAngNor.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs9586'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata9589'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-85.428573,-169.21935)'%3e%3cpath%20sodipodi:type='arc'%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='path6264'%20sodipodi:cx='109.4986'%20sodipodi:cy='316.49066'%20sodipodi:rx='68'%20sodipodi:ry='68'%20d='M%20138.13417,254.81405%20A%2068,68%200%200%201%20174.048,295.10436'%20sodipodi:start='5.1470592'%20sodipodi:end='5.9632507'%20sodipodi:open='true'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\MarqueAngNor.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20sodipodi:arc-type='arc'%20/%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20246.4986,270.49066%20-138,48%2061,-134.00001'%20id='path6262'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\MarqueAngNor.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%2093.803141,303.52038%2010.528829,13.46052%20-13.460534,10.52884%204.467379,5.7113%2013.460535,-10.52882%2010.52883,13.46052%205.7113,-4.46738%20-10.52882,-13.46053%2013.46198,-10.52996%20-4.4674,-5.71131%20-13.46196,10.52996%20-10.528836,-13.46054%20z'%20/%3e%3cpath%20id='rect1225-3'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20228.00548,256.64656%20-4.24057,16.55473%20-16.55475,-4.24058%20-1.79927,7.02419%2016.55473,4.24058%20-4.24057,16.55474%207.02418,1.79928%204.24058,-16.55474%2016.55652,4.24103%201.79928,-7.02419%20-16.55651,-4.24102%204.24058,-16.55476%20z'%20/%3e%3cpath%20id='rect1225-4'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20154.71904,190.33971%20-0.69256,17.07519%20-17.0752,-0.69256%20-0.29385,7.24501%2017.07519,0.69257%20-0.69256,17.07519%207.24501,0.29386%200.69257,-17.0752%2017.07703,0.69264%200.29385,-7.24502%20-17.07702,-0.69263%200.69256,-17.07521%20z'%20/%3e%3c/g%3e%3c/svg%3e",C4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg11955'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='MarqueSegment.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs11957'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata11960'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-202.57143,-183.50506)'%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20223.57144,228.50504%20128,89'%20id='path10603'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\MarqueSegment.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20289.57144,252.50504%20-17,34'%20id='path10630'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\MarqueSegment.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20302.07144,262.50504%20-17,34'%20id='path10630-7'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\MarqueSegment.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20222.84001,208.38909%20-0.69256,17.07519%20-17.0752,-0.69256%20-0.29386,7.24501%2017.0752,0.69257%20-0.69256,17.07519%207.24501,0.29386%200.69257,-17.0752%2017.07703,0.69264%200.29385,-7.24502%20-17.07702,-0.69263%200.69256,-17.07521%20z'%20/%3e%3cpath%20id='rect1225-7'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20347.88816,297.11776%20-0.69256,17.07519%20-17.0752,-0.69256%20-0.29386,7.24501%2017.0752,0.69257%20-0.69256,17.07519%207.24501,0.29386%200.69257,-17.0752%2017.07703,0.69264%200.29385,-7.24502%20-17.07702,-0.69263%200.69256,-17.07521%20z'%20/%3e%3c/g%3e%3c/svg%3e",N4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg7795'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='MesAngNor.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs7797'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='7.2684001'%20inkscape:cx='49.391887'%20inkscape:cy='88.189972'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata7800'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-222.57143,-232.07648)'%3e%3cpath%20sodipodi:type='arc'%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='path6264'%20sodipodi:cx='244.52017'%20sodipodi:cy='376.73309'%20sodipodi:rx='68'%20sodipodi:ry='68'%20d='m%20273.15574,315.05648%20a%2068,68%200%200%201%2035.91384,40.29031'%20sodipodi:start='5.1470592'%20sodipodi:end='5.9632507'%20sodipodi:open='true'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\MesureAngNor.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20sodipodi:arc-type='arc'%20/%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20381.2622,330.34615%20-138,48%2061,-134.00001'%20id='path6262'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\MesureAngNor.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='font-style:normal;font-weight:normal;font-size:40px;line-height:125%25;font-family:Sans;letter-spacing:0px;word-spacing:0px;fill:%23b50000;fill-opacity:1;stroke:none'%20d='m%20333.8589,254.63518%20c%20-12.20696,0.0224%20-21.20234,11.17034%20-21.25983,22.86203%206.09774,0.38514%2014.13205,4.22729%2013.87214,-4.2665%202.05322,-11.79803%2021.83366,-8.55781%2019.91251,3.10365%20-3.66805,9.07982%20-16.4699,13.17583%20-16.52234,24.43175%20-2.64944,8.8137%203.77978,9.37979%2011.38394,8.23479%200.54827,-5.42192%201.19786,-12.99284%207.48538,-16.3264%209.64989,-6.41656%2014.51254,-20.77734%206.14338,-30.19443%20-5.00431,-6.21541%20-13.25257,-8.45073%20-21.01518,-7.84489%20z%20m%20-4.62051,58.93734%20c%20-5.13176,11.55132%207.6224,14.62089%2013.54999,9.75052%203.18188,-11.6825%20-3.14444,-13.88333%20-13.54681,-12.01951%20l%20-0.002,1.6135%20-9.2e-4,0.65549%20z'%20id='text4660-8-3-1-9'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\MesureAngNor.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20228.0792,365.45782%2011.16893,12.93433%20-12.93433,11.16893%204.73897,5.48806%2012.93433,-11.16893%2011.16892,12.93432%205.48806,-4.73897%20-11.16893,-12.93434%2012.93572,-11.17012%20-4.73897,-5.48806%20-12.93571,11.17012%20-11.16894,-12.93433%20z'%20/%3e%3cpath%20id='rect1225-6'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20281.63984,251.06874%204.79649,16.4023%20-16.4023,4.7965%202.03515,6.9595%2016.40231,-4.79649%204.79649,16.4023%206.95951,-2.03515%20-4.79649,-16.40231%2016.40406,-4.79701%20-2.03516,-6.95951%20-16.40405,4.79702%20-4.7965,-16.40232%20z'%20/%3e%3cpath%20id='rect1225-9'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20364.81558,317.7089%20-4.40246,16.51243%20-16.51243,-4.40246%20-1.86797,7.00623%2016.51243,4.40246%20-4.40246,16.51243%207.00623,1.86797%204.40247,-16.51243%2016.5142,4.40293%201.86796,-7.00624%20-16.51419,-4.40292%204.40246,-16.51244%20z'%20/%3e%3c/g%3e%3c/svg%3e",S4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg8956'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='MesLong.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs8958'%3e%3cmarker%20inkscape:stockid='Arrow2Send'%20orient='auto'%20refY='0'%20refX='0'%20id='Arrow2Send'%20style='overflow:visible'%3e%3cpath%20inkscape:connector-curvature='0'%20id='path4703'%20style='fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round'%20d='M%208.7185878,4.0337352%20-2.2072895,0.01601326%208.7185884,-4.0017078%20c%20-1.7454984,2.3720609%20-1.7354408,5.6174519%20-6e-7,8.035443%20z'%20transform='matrix(-0.3,0,0,-0.3,0.69,0)'%20/%3e%3c/marker%3e%3cmarker%20inkscape:stockid='Arrow2Send'%20orient='auto'%20refY='0'%20refX='0'%20id='marker8943'%20style='overflow:visible'%3e%3cpath%20inkscape:connector-curvature='0'%20id='path8945'%20style='fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round'%20d='M%208.7185878,4.0337352%20-2.2072895,0.01601326%208.7185884,-4.0017078%20c%20-1.7454984,2.3720609%20-1.7354408,5.6174519%20-6e-7,8.035443%20z'%20transform='matrix(-0.3,0,0,-0.3,0.69,0)'%20/%3e%3c/marker%3e%3c/defs%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata8961'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-125.42857,-169.21935)'%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20271.42858,284.71935%206,-51'%20id='path5320-9'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='cc'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\MesureLong.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20149.42858,270.21935%206,-51.00001'%20id='path5320'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='cc'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\MesureLong.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%230084c8;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20149.42858,270.21935%20122,12'%20id='path4150'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\MesureLong.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:6;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(%23marker8943)'%20d='m%20202.42858,244.21934%20-40,-4'%20id='path4664'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='cc'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\MesureLong.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:6;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(%23Arrow2Send)'%20d='m%20229.38997,247.37532%2034.99999,3'%20id='path4664-0'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='cc'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\MesureLong.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='font-style:normal;font-weight:normal;font-size:40px;line-height:125%25;font-family:Sans;letter-spacing:0px;word-spacing:0px;fill:%23b50000;fill-opacity:1;stroke:none'%20d='m%20220.17179,192.79577%20c%20-12.14055,-1.2718%20-22.26704,8.85971%20-23.56366,20.47943%206.02255,1.02939%2013.60428,5.70162%2014.24627,-2.77186%203.29237,-11.51389%2022.61785,-6.19498%2019.47128,5.1971%20-4.60994,8.63981%20-17.77387,11.3556%20-19.01927,22.54253%20-3.56886,8.48316%202.76412,9.72763%2010.44681,9.39521%201.11997,-5.33325%202.5685,-12.79264%209.17398,-15.44087%2010.27574,-5.3574%2016.63339,-19.12177%209.30971,-29.37302%20-4.31721,-6.71089%20-12.28202,-9.80802%20-20.06512,-10.02852%20z%20m%20-10.84248,58.1154%20c%20-6.32741,10.94219%206.02947,15.34655%2012.43997,11.13201%204.40243,-11.27934%20-1.65493,-14.13843%20-12.19627,-13.38788%20l%20-0.17304,1.6042%20-0.0704,0.6517%20z'%20id='text4660-8-3-1-7'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\MesureLong.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.937498;stroke-linecap:round;stroke-linejoin:round'%20d='m%20135.44796,257.07809%208.38979,12.63807%20-12.63808,8.38978%203.55979,5.36234%2012.63808,-8.38977%208.38978,12.63807%205.36235,-3.55979%20-8.38979,-12.63808%2012.63944,-8.39069%20-3.5598,-5.36234%20-12.63942,8.39069%20-8.3898,-12.63809%20z'%20/%3e%3cpath%20id='path935'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.937504;stroke-linecap:round;stroke-linejoin:round'%20d='m%20258.56752,269.64722%208.29745,12.49899%20-12.49899,8.29745%203.52062,5.30332%2012.49899,-8.29744%208.29744,12.49898%205.30334,-3.5206%20-8.29746,-12.499%2012.50034,-8.29834%20-3.52062,-5.30333%20-12.50032,8.29834%20-8.29747,-12.49899%20z'%20/%3e%3c/g%3e%3c/svg%3e",D4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg7972'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='Milieu.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs7974'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.139535'%20inkscape:cx='112.46154'%20inkscape:cy='80.941175'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata7977'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-131.14286,-97.790778)'%3e%3cpath%20style='fill:%230084c8;stroke:%230084c8;stroke-width:8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%20158.14286,213.79079%20285.14287,145.79078'%20id='path4756'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Milieu.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23009100;stroke-width:6;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20253.76787,143.04078%207,37'%20id='path4801'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Milieu.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23009100;stroke-width:6;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20185.89286,179.16578%207,37.00001'%20id='path4801-2'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Milieu.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23404040;stroke:%23000000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20229.34694,157.79515%20-7.83144,15.18915%20-15.18916,-7.83144%20-3.32288,6.44477%2015.18915,7.83144%20-7.83144,15.18916%206.44476,3.32289%207.83145,-15.18916%2015.19079,7.83229%203.32288,-6.44478%20-15.19078,-7.83227%207.83145,-15.18917%20z'%20/%3e%3cpath%20id='path865'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20168.93237,191.24482%20-7.83144,15.18915%20-15.18916,-7.83144%20-3.32288,6.44477%2015.18915,7.83144%20-7.83144,15.18916%206.44476,3.32289%207.83145,-15.18916%2015.19079,7.83229%203.32288,-6.44478%20-15.19078,-7.83227%207.83145,-15.18917%20z'%20/%3e%3cpath%20id='path1027'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20287.07677,127.82596%20-7.83144,15.18915%20-15.18916,-7.83144%20-3.32288,6.44477%2015.18915,7.83144%20-7.83144,15.18916%206.44476,3.32289%207.83145,-15.18916%2015.19079,7.83229%203.32288,-6.44478%20-15.19078,-7.83227%207.83145,-15.18917%20z'%20/%3e%3c/g%3e%3c/svg%3e",A4e="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDguNTQyMjIxbW0iCiAgIGhlaWdodD0iNDguNTQyMjIxbW0iCiAgIHZpZXdCb3g9IjAgMCAxNzIgMTcyIgogICBpZD0ic3ZnNzc5NSIKICAgdmVyc2lvbj0iMS4xIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjItYWxwaGExIChiNmExNWJiLCAyMDIyLTAyLTIzKSIKICAgc29kaXBvZGk6ZG9jbmFtZT0ibW92ZUxhYmVsLnN2ZyIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczc3OTciIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjMuNTE2NjMwNiIKICAgICBpbmtzY2FwZTpjeD0iMzkuNTI2NDcyIgogICAgIGlua3NjYXBlOmN5PSI5Ni4zOTkwOTMiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgZml0LW1hcmdpbi10b3A9IjAiCiAgICAgZml0LW1hcmdpbi1sZWZ0PSIwIgogICAgIGZpdC1tYXJnaW4tcmlnaHQ9IjAiCiAgICAgZml0LW1hcmdpbi1ib3R0b209IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxNDQwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjkwMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIwIgogICAgIGlua3NjYXBlOnBhZ2VjaGVja2VyYm9hcmQ9IjAiCiAgICAgaW5rc2NhcGU6ZGVza2NvbG9yPSIjZDFkMWQxIj4KICAgIDxpbmtzY2FwZTpncmlkCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBpZD0iZ3JpZDY4NjgiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNzgwMCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iQ2FscXVlIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjIuNTcxNDMsLTIzMi4wNzY0OCkiPgogICAgPHRleHQKICAgICAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2xpbmUtaGVpZ2h0OjAlO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7bGV0dGVyLXNwYWNpbmc6MHB4O3dvcmQtc3BhY2luZzowcHg7ZmlsbDojNGQ0ZDRkO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIgogICAgICAgeD0iMjU5LjM1NzUxIgogICAgICAgeT0iMzEzLjg1MDgiCiAgICAgICBpZD0idGV4dDM2NzMiCiAgICAgICBpbmtzY2FwZTpleHBvcnQtZmlsZW5hbWU9IkM6XFVzZXJzXFNlYlxEb3dubG9hZHNcbWF0aHNcTWF0aGdyYXBoMzJcSWNvbmVzXHBuZ1w0OFxOb21tZXIucG5nIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1LjExNjI4IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1LjExNjI4Ij48dHNwYW4KICAgICAgICAgc29kaXBvZGk6cm9sZT0ibGluZSIKICAgICAgICAgaWQ9InRzcGFuMzY3NSIKICAgICAgICAgeD0iMjU5LjM1NzUxIgogICAgICAgICB5PSIzMTMuODUwOCIKICAgICAgICAgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjk3Ljg5MnB4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidTYW5zIEJvbGQnO2ZpbGw6IzRkNGQ0ZDtmaWxsLW9wYWNpdHk6MSI+QTwvdHNwYW4+PC90ZXh0PgogICAgPHBhdGgKICAgICAgIGlkPSJyZWN0MTIyNSIKICAgICAgIHN0eWxlPSJmaWxsOiM0ZDRkNGQ7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiM4MDAwMDA7c3Ryb2tlLXdpZHRoOjAuOTM3NTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQiCiAgICAgICBkPSJtIDM3MS45NDQ3MiwzMzIuMTYxMSAtMTIuMDgzOTEsMTIuMDgzOTEgLTEyLjA4MzkyLC0xMi4wODM5MSAtNS4xMjcyMSw1LjEyNzIxIDEyLjA4MzkxLDEyLjA4MzkxIC0xMi4wODM5MSwxMi4wODM5MiA1LjEyNzIxLDUuMTI3MjEgMTIuMDgzOTIsLTEyLjA4MzkxIDEyLjA4NTIxLDEyLjA4NTIxIDUuMTI3MjEsLTUuMTI3MjIgLTEyLjA4NTIxLC0xMi4wODUyIDEyLjA4MzkyLC0xMi4wODM5MiB6IiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJyZWN0MTU3NSIKICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwZmY7c3Ryb2tlOiMwMDAwODA7c3Ryb2tlLXdpZHRoOjIuODEyNTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmUiCiAgICAgICBkPSJtIDI5My45MTY5NiwzMDMuMDcxNzMgLTE5Ljk2NjY1LDIyLjc2NjI3IDE1LjAxMzg3LC0wLjEwNTM3IHYgMTkuMzI2OTkgaCAtMTkuNzYwNzcgbCAwLjEwNzczLC0xNC42ODQzIC0yMy4yNzcyNiwxOS41MjgzNCAyMi45ODUyMiwyMC40NzY1NCAwLjEwMjg5LC0xNC4xODU2MiBoIDE5Ljg0MjE3IHYgMTkuMzI3IGwgLTE1LjAxMzg5LC0wLjEwNTM3IDE5Ljk2NjY1LDIyLjc2NjI5IDIwLjkzNjE0LC0yMi40ODA2NSAtMTQuNTA0LC0wLjEwMDY3IHYgLTE5LjQwNjU5IGggMTkuODQyMTYgbCAwLjEwMjg5LDE0LjE4NTYyIDIyLjk4NTIzLC0yMC40NzY1NSAtMjMuMjc3MjgsLTE5LjUyODMzIDAuMTA3NzMsMTQuNjg0MyBoIC0xOS43NjA4IHYgLTE5LjQwNjU2IGwgMTQuNTAzOTksLTAuMTAwNjcgeiIgLz4KICA8L2c+Cjwvc3ZnPgo=",$4e="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDguNTQyMjIxbW0iCiAgIGhlaWdodD0iNDguNTQyMjIxbW0iCiAgIHZpZXdCb3g9IjAgMCAxNzIgMTcyIgogICBpZD0ic3ZnNDMzMSIKICAgdmVyc2lvbj0iMS4xIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjEuMSAoM2JmNWFlMGQyNSwgMjAyMS0wOS0yMCkiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5vbW1lci5zdmciCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0MzMzIiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI1LjEzOTUzNSIKICAgICBpbmtzY2FwZTpjeD0iLTUxLjc1NTY1NSIKICAgICBpbmtzY2FwZTpjeT0iMTU2LjA0NTI1IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMzg0MCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIyMDY2IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxNjA5IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItMTEiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTpwYWdlY2hlY2tlcmJvYXJkPSIwIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQzMzYiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkNhbHF1ZSAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA1LjQyODU3LC0yMDAuNjQ3OTMpIj4KICAgIDx0ZXh0CiAgICAgICB4bWw6c3BhY2U9InByZXNlcnZlIgogICAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtsaW5lLWhlaWdodDowJTtmb250LWZhbWlseTpzYW5zLXNlcmlmO2xldHRlci1zcGFjaW5nOjBweDt3b3JkLXNwYWNpbmc6MHB4O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZSIKICAgICAgIHg9IjE3OC4zOTkxNCIKICAgICAgIHk9IjMwMC42MzMyMSIKICAgICAgIGlkPSJ0ZXh0MzY3MyIKICAgICAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iQzpcVXNlcnNcU2ViXERvd25sb2Fkc1xtYXRoc1xNYXRoZ3JhcGgzMlxJY29uZXNccG5nXDQ4XE5vbW1lci5wbmciCiAgICAgICBpbmtzY2FwZTpleHBvcnQteGRwaT0iMjUuMTE2MjgiCiAgICAgICBpbmtzY2FwZTpleHBvcnQteWRwaT0iMjUuMTE2MjgiPjx0c3BhbgogICAgICAgICBzb2RpcG9kaTpyb2xlPSJsaW5lIgogICAgICAgICBpZD0idHNwYW4zNjc1IgogICAgICAgICB4PSIxNzguMzk5MTQiCiAgICAgICAgIHk9IjMwMC42MzMyMSIKICAgICAgICAgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjk3Ljg5MnB4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidTYW5zIEJvbGQnIj5BPC90c3Bhbj48L3RleHQ+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0ibSAxNTEuODI4MzYsMjI5LjQwNDc1IDAsNzMuNzA3NTEiCiAgICAgICBpZD0icGF0aDM2NzciCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LWZpbGVuYW1lPSJDOlxVc2Vyc1xTZWJcRG93bmxvYWRzXG1hdGhzXE1hdGhncmFwaDMyXEljb25lc1xwbmdcNDhcTm9tbWVyLnBuZyIKICAgICAgIGlua3NjYXBlOmV4cG9ydC14ZHBpPSIyNS4xMTYyOCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC15ZHBpPSIyNS4xMTYyOCIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDo3Ljk5OTk5OTUyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDE1NC43ODk4MiwyMjcuNDMwNDUgMTcuNjU1OTcsMCIKICAgICAgIGlkPSJwYXRoNDQ0NyIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBpbmtzY2FwZTpleHBvcnQtZmlsZW5hbWU9IkM6XFVzZXJzXFNlYlxEb3dubG9hZHNcbWF0aHNcTWF0aGdyYXBoMzJcSWNvbmVzXHBuZ1w0OFxOb21tZXIucG5nIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1LjExNjI4IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1LjExNjI4IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gMTU0Ljc4OTgyLDMwNS4wODY1NyAxOC4wMzUxNiwwIgogICAgICAgaWQ9InBhdGg0NDQ3LTUiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LWZpbGVuYW1lPSJDOlxVc2Vyc1xTZWJcRG93bmxvYWRzXG1hdGhzXE1hdGhncmFwaDMyXEljb25lc1xwbmdcNDhcTm9tbWVyLnBuZyIKICAgICAgIGlua3NjYXBlOmV4cG9ydC14ZHBpPSIyNS4xMTYyOCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC15ZHBpPSIyNS4xMTYyOCIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDo3Ljk5OTk5OTUyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDEzMC43MjcxOCwzMDUuMDg2NTcgMTguMTM5NzEsMCIKICAgICAgIGlkPSJwYXRoNDQ0Ny01MSIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBpbmtzY2FwZTpleHBvcnQtZmlsZW5hbWU9IkM6XFVzZXJzXFNlYlxEb3dubG9hZHNcbWF0aHNcTWF0aGdyYXBoMzJcSWNvbmVzXHBuZ1w0OFxOb21tZXIucG5nIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1LjExNjI4IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1LjExNjI4IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjcuOTk5OTk5NTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gMTMxLjIxMDkyLDIyNy4xMDEzOSAxNy42NTU5NywwIgogICAgICAgaWQ9InBhdGg0NDQ3LTciCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LWZpbGVuYW1lPSJDOlxVc2Vyc1xTZWJcRG93bmxvYWRzXG1hdGhzXE1hdGhncmFwaDMyXEljb25lc1xwbmdcNDhcTm9tbWVyLnBuZyIKICAgICAgIGlua3NjYXBlOmV4cG9ydC14ZHBpPSIyNS4xMTYyOCIKICAgICAgIGlua3NjYXBlOmV4cG9ydC15ZHBpPSIyNS4xMTYyOCIgLz4KICAgIDxwYXRoCiAgICAgICBpZD0icmVjdDEyMjUiCiAgICAgICBzdHlsZT0iZmlsbDojZDQwMDAwO3N0cm9rZTojODAwMDAwO3N0cm9rZS13aWR0aDowLjkzNzU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIgogICAgICAgZD0ibSAxOTcuMjM2MzUsMzE4Ljk0MzUgLTEyLjA4MzkxLDEyLjA4MzkxIC0xMi4wODM5MiwtMTIuMDgzOTEgLTUuMTI3MjEsNS4xMjcyMSAxMi4wODM5MSwxMi4wODM5MSAtMTIuMDgzOTEsMTIuMDgzOTIgNS4xMjcyMSw1LjEyNzIxIDEyLjA4MzkyLC0xMi4wODM5MSAxMi4wODUyMSwxMi4wODUyMSA1LjEyNzIxLC01LjEyNzIyIC0xMi4wODUyMSwtMTIuMDg1MiAxMi4wODM5MiwtMTIuMDgzOTIgeiIgLz4KICA8L2c+Cjwvc3ZnPgo=",_4e="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20xmlns='http://www.w3.org/2000/svg'%20fill='currentColor'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.956%206h.05a2.99%202.99%200%200%201%202.117.879%203.003%203.003%200%200%201%200%204.242%202.99%202.99%200%200%201-2.117.879h-1.995v-1h1.995a2.002%202.002%200%200%200%200-4h-.914l-.123-.857a2.49%202.49%200%200%200-2.126-2.122A2.478%202.478%200%200%200%206.23%205.5l-.333.762-.809-.189A2.49%202.49%200%200%200%204.523%206c-.662%200-1.297.263-1.764.732A2.503%202.503%200%200%200%204.523%2011h2.494v1H4.523a3.486%203.486%200%200%201-2.628-1.16%203.502%203.502%200%200%201-.4-4.137A3.497%203.497%200%200%201%203.853%205.06c.486-.09.987-.077%201.468.041a3.486%203.486%200%200%201%203.657-2.06A3.479%203.479%200%200%201%2011.956%206zm-1.663%203.853L8.979%208.54v5.436h-.994v-5.4L6.707%209.854%206%209.146%208.146%207h.708L11%209.146l-.707.707z'/%3e%3c/svg%3e",E4e="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M10%204H5v16h5V4zm9%200h-5v16h5V4z'%20fill='currentColor'/%3e%3c/svg%3e",I4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg7794'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='DteMed.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs7796'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata7799'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-128.28571,-263.50506)'%3e%3crect%20style='color:%23000000;display:inline;overflow:visible;visibility:visible;fill:none;stroke:%23000000;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;enable-background:accumulate'%20id='rect5356'%20width='22.627417'%20height='22.627417'%20x='330.7019'%20y='220.2039'%20transform='matrix(0.92425371,0.38177885,-0.38177885,0.92425371,0,0)'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DteMed.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20155.13134,327.94874%20c%20124.4508,48.79036%20124.4508,48.79036%20124.4508,48.79036'%20id='path5172-2'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DteMed.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%20241.32483,279.22148%20C%20187.32499,416.96023%20187.32499,416.96023%20187.32499,416.96023'%20id='path5172-2-9'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DteMed.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23009100;stroke-width:6;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20198.72933,327.58476%20-31.81981,24.04163%200,0'%20id='path5358'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DteMed.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23009100;stroke-width:6;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20260.60117,352.3335%20-31.81981,24.04163%200,0'%20id='path5358-2'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DteMed.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20144.35507,309.54621%206.40258,15.84451%20-15.84451,6.40259%202.7166,6.72284%2015.84453,-6.40258%206.40258,15.84451%206.72285,-2.7166%20-6.40258,-15.84453%2015.84622,-6.40327%20-2.71661,-6.72284%20-15.84622,6.40328%20-6.4026,-15.84454%20z'%20/%3e%3cpath%20id='path1008'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20266.67331,358.15603%207.24403,15.4779%20-15.47791,7.24405%203.07364,6.56728%2015.47792,-7.24403%207.24403,15.47791%206.5673,-3.07364%20-7.24404,-15.47792%2015.47958,-7.24482%20-3.07365,-6.56729%20-15.47957,7.24482%20-7.24405,-15.47793%20z'%20/%3e%3c/g%3e%3c/svg%3e",T4e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M133,440a35.37,35.37,0,0,1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37,7.46-27.53,19.46-34.33a35.13,35.13,0,0,1,35.77.45L399.12,225.48a36,36,0,0,1,0,61L151.23,434.88A35.5,35.5,0,0,1,133,440Z'/%3e%3c/svg%3e",L4e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M112,64a16,16,0,0,1,16,16V216.43L360.77,77.11a35.13,35.13,0,0,1,35.77-.44c12,6.8,19.46,20,19.46,34.33V401c0,14.37-7.46,27.53-19.46,34.33a35.14,35.14,0,0,1-35.77-.45L128,295.57V432a16,16,0,0,1-32,0V80A16,16,0,0,1,112,64Z'/%3e%3c/svg%3e",z4e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M400,64a16,16,0,0,0-16,16V216.43L151.23,77.11a35.13,35.13,0,0,0-35.77-.44C103.46,83.47,96,96.63,96,111V401c0,14.37,7.46,27.53,19.46,34.33a35.14,35.14,0,0,0,35.77-.45L384,295.57V432a16,16,0,0,0,32,0V80A16,16,0,0,0,400,64Z'/%3e%3c/svg%3e",B4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg9132'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='PointLibre.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs9134'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata9137'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-396.85714,-289.21935)'%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20494.9404,357.8194%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3c/g%3e%3c/svg%3e",O4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg6777'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='Int.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs6779'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata6782'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-53.999999,-106.3622)'%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%2093.999977,241.36218%20c%2032.000003,-89%20108.000003,-96%20108.000003,-96'%20id='path6486'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Int.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%2078.999977,140.36218%20c%2086.000003,17%20126.000003,101%20126.000003,101'%20id='path6488'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Int.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20143.4937,149.03765%20-2.57947,16.89344%20-16.89344,-2.57946%20-1.09447,7.16789%2016.89344,2.57947%20-2.57946,16.89344%207.16789,1.09447%202.57948,-16.89344%2016.89525,2.57974%201.09446,-7.1679%20-16.89525,-2.57974%202.57947,-16.89344%20z'%20/%3e%3c/g%3e%3c/svg%3e",F4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg10307'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='PointLie.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs10309'%3e%3cmarker%20inkscape:stockid='TriangleOutM'%20orient='auto'%20refY='0'%20refX='0'%20id='TriangleOutM-49'%20style='overflow:visible'%3e%3cpath%20inkscape:connector-curvature='0'%20id='path4275-6'%20d='m%205.77,0%20-8.65,5%200,-10%208.65,5%20z'%20style='fill-rule:evenodd;stroke:%23000000;stroke-width:1pt;marker-start:none'%20transform='scale(0.4,0.4)'%20/%3e%3c/marker%3e%3c/defs%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.139535'%20inkscape:cx='85.999998'%20inkscape:cy='85.999998'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata10312'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-76.857139,-83.505057)'%3e%3cpath%20style='fill:none;stroke:%230084c8;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%2097.85712,214.50507%20138,-73'%20id='path4062'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\PointLie.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cg%20id='path4124'%3e%3cpath%20style='color:%23000000;fill:%23000000;-inkscape-stroke:none'%20d='m%20113.33398,103.50586%20v%206%20c%2020.12366,0%2029.8666,9.66997%2035.22852,19.55273%205.36192,9.88276%205.82031,19.82227%205.82031,19.82227%20l%205.99414,-0.25586%20c%200,0%20-0.44223,-11.18683%20-6.54101,-22.42773%20-6.09879,-11.2409%20-18.3783,-22.69141%20-40.50196,-22.69141%20z'%20id='path846'%20/%3e%3cg%20id='g836'%3e%3cg%20id='path838'%3e%3cpath%20style='color:%23000000;fill:%23000000;fill-rule:evenodd;stroke-width:2.4pt;-inkscape-stroke:none'%20d='m%20157.96842,162.58791%20-12.87175,-20.23105%2023.9783,-1.02036%20z'%20id='path842'%20/%3e%3cpath%20style='color:%23000000;fill:%23000000;fill-rule:evenodd;-inkscape-stroke:none'%20d='m%20171.77734,139.61914%20-29.51953,1.25781%2015.84571,24.9043%201.2832,-2.45313%20z%20m%20-5.40625,3.43359%20-8.53711,16.3418%20-9.89843,-15.55664%20z'%20id='path844'%20/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20165.4772,160.34679%20-5.65672,16.12585%20-16.12586,-5.65672%20-2.40016,6.84221%2016.12586,5.65673%20-5.65672,16.12586%206.84221,2.40015%205.65673,-16.12586%2016.12759,5.65734%202.40015,-6.84222%20-16.12759,-5.65733%205.65673,-16.12587%20z'%20/%3e%3c/g%3e%3c/svg%3e",P4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg13110'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='Polygone.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs13112'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata13115'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-151.14286,-132.07648)'%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20202.14286,149.07649%20-37,61%2031,58%2092.00001,19%2013,-70%20-42,-56%20z'%20id='path3077'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='ccccccc'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\Polygone.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20178.91334,191.84152%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3cpath%20id='rect1225-6'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20214.45432,133.19398%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3cpath%20id='rect1225-3'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20271.70204,145.74966%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3cpath%20id='rect1225-5'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20312.07228,201.50922%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3cpath%20id='rect1225-35'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20298.75639,268.42464%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3cpath%20id='rect1225-4'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20208.56355,249.4656%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3c/g%3e%3c/svg%3e",R4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg5485'%20version='1.1'%20inkscape:version='1.2-alpha1%20(b6a15bb,%202022-02-23)'%20sodipodi:docname='ray.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs5487'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='1.843718'%20inkscape:cx='126.91746'%20inkscape:cy='180.61331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1440'%20inkscape:window-height='900'%20inkscape:window-x='0'%20inkscape:window-y='0'%20inkscape:window-maximized='0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20/%3e%3cmetadata%20id='metadata5490'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(23.142857,-109.21934)'%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%2010.531241,246.13103%20122.96121,135.82237'%20id='path5128'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DemiDt.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%207.0994717,225.37249%20-0.6925638,17.07519%20-17.0751979,-0.69256%20-0.293855,7.24501%2017.0751903,0.69257%20-0.692557,17.07519%207.2450127,0.29386%200.692571,-17.0752%2017.077028,0.69264%200.293848,-7.24502%20-17.07702,-0.69263%200.692564,-17.07521%20z'%20/%3e%3cpath%20id='path1390'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%2082.099475,150.37249%20-0.692563,17.07519%20-17.075199,-0.69256%20-0.293855,7.24501%2017.075191,0.69257%20-0.692557,17.07519%207.245013,0.29386%200.692571,-17.0752%2017.077024,0.69264%200.29385,-7.24502%20-17.077018,-0.69263%200.692564,-17.07521%20z'%20/%3e%3c/g%3e%3c/svg%3e",j4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20viewBox='0%200%20512%20512'%20version='1.1'%20id='svg11'%20sodipodi:docname='redo.svg'%20inkscape:version='1.2-alpha1%20(b6a15bb,%202022-02-23)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs15'%20/%3e%3csodipodi:namedview%20id='namedview13'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:pageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20showgrid='false'%20inkscape:zoom='0.4609375'%20inkscape:cx='-156.20339'%20inkscape:cy='256'%20inkscape:window-width='1440'%20inkscape:window-height='900'%20inkscape:window-x='0'%20inkscape:window-y='0'%20inkscape:window-maximized='0'%20inkscape:current-layer='svg11'%20/%3e%3cpath%20d='m%20289.42871,234.78304%20h%20168.45736%20c%205.5336,0%2010.06934,-4.12064%2010.06934,-9.2057%20V%2072.324346%20c%200,-5.08505%20-4.53574,-9.2057%20-10.06934,-9.2057%20h%20-40.36809%20c%20-5.53359,0%20-10.06933,4.12065%20-10.06933,9.2057%20V%20132.11756%20C%20368.98558,93.190596%20313.10527,68.817416%20250.96563,69.255776%20135.84856,70.044836%2043.773036,154.64961%2044.045186,259.50693%20c%200.18143,104.5943%2093.436244,189.37442%20208.462594,189.37442%2053.88459,0%20102.9613,-18.58675%20139.97293,-49.18475%204.2636,-3.50693%204.44503,-9.64406%200.36286,-13.32634%20l%20-28.57516,-26.03899%20c%20-3.71931,-3.41926%20-9.7972,-3.5946%20-13.78865,-0.43836%20-26.03514,21.12927%20-60.41605,33.84191%20-97.97198,33.84191%20-81.73402,0%20-147.95582,-60.23159%20-147.95582,-134.75393%200,-74.43467%2066.13108,-134.75393%20147.95582,-134.75393%2049.16742,0%2092.71052,21.83066%20119.5621,55.32188%20h%20-82.64117%20c%20-5.53361,0%20-10.06935,4.12065%20-10.06935,9.2057%20v%2036.73513%20c%200,5.08505%204.53574,9.2057%2010.06935,9.2057%20z'%20id='path9'%20style='stroke-width:0.891811'%20/%3e%3c/svg%3e",q4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg6604'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='SymCentrale.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs6606'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata6609'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-242.57143,-206.3622)'%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20262.79014,214.45852%200,44.10483%2073.98869,0%20z'%20id='path3045-4-7'%20inkscape:connector-curvature='0'%20inkscape:transform-center-x='28.537028'%20inkscape:transform-center-y='-56.288402'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\SymCentrale.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:%239eabb0;stroke:%230e232e;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20394.33944,369.23811%20-0.27728,-44.10402%20-73.98735,0.42829%20z'%20id='path3045-4-7-1'%20inkscape:connector-curvature='0'%20inkscape:transform-center-x='-28.885614'%20inkscape:transform-center-y='55.147417'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\SymCentrale.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.937498;stroke-linecap:round;stroke-linejoin:round'%20d='m%20336.51961,280.10863%20-8.2544,8.61959%20-8.61959,-8.2544%20-3.50236,3.6573%208.6196,8.2544%20-8.25439,8.61959%203.65729,3.50234%208.25441,-8.61958%208.62052,8.25528%203.50235,-3.6573%20-8.62053,-8.25528%208.25441,-8.6196%20z'%20/%3e%3c/g%3e%3c/svg%3e",U4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg6028'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='SymAxiale.svg'%3e%3cdefs%20id='defs6030'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.139535'%20inkscape:cx='85.999998'%20inkscape:cy='85.999998'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1920'%20inkscape:window-height='1017'%20inkscape:window-x='1272'%20inkscape:window-y='-8'%20inkscape:window-maximized='1'%20/%3e%3cmetadata%20id='metadata6033'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-93.999999,-123.50506)'%3e%3crect%20style='color:%23000000;display:inline;overflow:visible;visibility:visible;opacity:0.1;fill:none;stroke:%23000000;stroke-width:0.81904763;stroke-miterlimit:4;stroke-dasharray:none;marker:none;enable-background:accumulate'%20id='rect5045-5-5-7'%20width='171.18095'%20height='171.18095'%20x='94.409523'%20y='123.91458'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\SymAxiale.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20130.46906,156.13811%2013.33444,38.77103%2062.4119,-21.4652%20z'%20id='path3045-8'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\SymAxiale.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:%239eabb0;stroke:%230e232e;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20170.47238,272.4512%20-13.33444,-38.77103%2062.4119,-21.4652%20z'%20id='path3045-8-4'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\SymAxiale.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:6;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:24,%2012,%206,%2012;stroke-dashoffset:0;stroke-opacity:1'%20d='M%20117.84631,225.5151%20251.65365,179.49502'%20id='path3961'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\SymAxiale.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3c/g%3e%3c/svg%3e",V4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='600'%20height='600'%20style='border-radius:300px'%20version='1.1'%20id='svg24'%20sodipodi:docname='corbeille.svg'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs28'%20/%3e%3csodipodi:namedview%20id='namedview26'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20showgrid='false'%20inkscape:zoom='1.455'%20inkscape:cx='299.65636'%20inkscape:cy='299.65636'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:current-layer='svg24'%20/%3e%3c!--%20Created%20with%20SVG-edit%20-%20http://svg-edit.googlecode.com/%20--%3e%3cline%20stroke-linecap='round'%20x1='180'%20y1='159.25'%20x2='420'%20y2='159.25'%20style='stroke:%23333333;stroke-width:30;fill:%23e2e3db'%20id='line7'%20/%3e%3crect%20x='250'%20y='129.25'%20rx='20'%20ry='20'%20width='100'%20height='30'%20style='stroke:%23333333;stroke-width:10;fill:%23e2e3db'%20id='rect9'%20/%3e%3cline%20stroke-linecap='round'%20x1='189'%20y1='198.75'%20x2='200'%20y2='466.75'%20style='stroke:%23333333;stroke-width:25;fill:%23e2e3db'%20id='line11'%20/%3e%3cline%20id='bottom'%20stroke-linecap='round'%20x1='411'%20y1='198.75'%20x2='400'%20y2='466.75'%20style='stroke:%23333333;stroke-width:25;fill:%23e2e3db'%20/%3e%3cline%20stroke-linecap='square'%20x1='189'%20y1='198.75'%20x2='411'%20y2='198.75'%20style='stroke:%23333333;stroke-width:25;fill:%23e2e3db'%20id='line14'%20/%3e%3cline%20stroke-linecap='round'%20x1='203'%20y1='470.75'%20x2='397'%20y2='470.75'%20style='stroke:%23333333;stroke-width:30;fill:%23e2e3db'%20id='line16'%20/%3e%3cline%20stroke-linecap='round'%20x1='260'%20y1='198.75'%20x2='265'%20y2='470.75'%20style='stroke:%23333333;stroke-width:25;fill:%23e2e3db'%20id='line18'%20/%3e%3cline%20stroke-linecap='round'%20x1='340'%20y1='198.75'%20x2='335'%20y2='470.75'%20style='stroke:%23333333;stroke-width:25;fill:%23e2e3db'%20id='line20'%20/%3e%3c/svg%3e%3c!----%3e",G4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20id='mdi-restart'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M12,4C14.1,4%2016.1,4.8%2017.6,6.3C20.7,9.4%2020.7,14.5%2017.6,17.6C15.8,19.5%2013.3,20.2%2010.9,19.9L11.4,17.9C13.1,18.1%2014.9,17.5%2016.2,16.2C18.5,13.9%2018.5,10.1%2016.2,7.7C15.1,6.6%2013.5,6%2012,6V10.6L7,5.6L12,0.6V4M6.3,17.6C3.7,15%203.3,11%205.1,7.9L6.6,9.4C5.5,11.6%205.9,14.4%207.8,16.2C8.3,16.7%208.9,17.1%209.6,17.4L9,19.4C8,19%207.1,18.4%206.3,17.6Z'%20/%3e%3c/svg%3e",Z4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg4874'%20version='1.1'%20inkscape:version='1.2-alpha1%20(b6a15bb,%202022-02-23)'%20sodipodi:docname='Rotation.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs4876'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='0.35'%20inkscape:cx='-267.14286'%20inkscape:cy='-174.28571'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1317'%20inkscape:window-height='456'%20inkscape:window-x='0'%20inkscape:window-y='25'%20inkscape:window-maximized='0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20/%3e%3cmetadata%20id='metadata4879'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-122.57143,-186.3622)'%3e%3crect%20style='color:%23000000;display:inline;overflow:visible;visibility:visible;opacity:0.1;fill:none;stroke:%23000000;stroke-width:0.81904763;stroke-miterlimit:4;stroke-dasharray:none;marker:none;enable-background:accumulate'%20id='rect5045-5-5-1-5'%20width='171.18095'%20height='171.18095'%20x='122.98095'%20y='186.77173'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\Rotation.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20145.91163,205.63914%200,41%2066,0%20z'%20id='path3045-4-7-15'%20inkscape:connector-curvature='0'%20inkscape:transform-center-x='25.455844'%20inkscape:transform-center-y='-52.325902'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\Rotation.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20265.42632,274.66725%20-40.00951,-8.95763%20-14.41961,64.40554%20z'%20id='path3045-4-7-15-2'%20inkscape:connector-curvature='0'%20inkscape:transform-center-y='9.901407'%20inkscape:transform-center-x='-60.184013'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\Rotation.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20sodipodi:type='arc'%20style='fill:none;stroke:%230e232e;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='path4047-7'%20sodipodi:cx='228.52771'%20sodipodi:cy='234.82498'%20sodipodi:rx='32.847824'%20sodipodi:ry='32.782661'%20d='m%20202.10729,215.34599%20a%2032.847824,32.782661%200%200%201%2032.09894,-12.81009%2032.847824,32.782661%200%200%201%2025.80933,22.95376%2032.847824,32.782661%200%200%201%20-9.06707,33.2937'%20sodipodi:start='3.7778458'%20sodipodi:end='0.81952951'%20sodipodi:open='true'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\Rotation.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20267.29512,253.58604%20-16.44866,6.54639%20-0.74958,-17.6929'%20id='path4049-6'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='ccc'%20inkscape:transform-center-x='-8.38413'%20inkscape:transform-center-y='-8.14265'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\Rotation.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.937498;stroke-linecap:round;stroke-linejoin:round'%20d='m%20184.31932,281.30565%20-8.2544,8.61959%20-8.61959,-8.2544%20-3.50236,3.6573%208.6196,8.2544%20-8.25439,8.61959%203.65729,3.50234%208.25441,-8.61958%208.62052,8.25528%203.50235,-3.6573%20-8.62053,-8.25528%208.25441,-8.6196%20z'%20/%3e%3c/g%3e%3c/svg%3e",H4e="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20xmlns='http://www.w3.org/2000/svg'%20fill='currentColor'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.957%206h.05a2.99%202.99%200%200%201%202.116.879%203.003%203.003%200%200%201%200%204.242%202.99%202.99%200%200%201-2.117.879v-1a2.002%202.002%200%200%200%200-4h-.914l-.123-.857a2.49%202.49%200%200%200-2.126-2.122A2.478%202.478%200%200%200%206.231%205.5l-.333.762-.809-.189A2.49%202.49%200%200%200%204.523%206c-.662%200-1.297.263-1.764.732A2.503%202.503%200%200%200%204.523%2011h.498v1h-.498a3.486%203.486%200%200%201-2.628-1.16%203.502%203.502%200%200%201%201.958-5.78%203.462%203.462%200%200%201%201.468.04%203.486%203.486%200%200%201%203.657-2.06A3.479%203.479%200%200%201%2011.957%206zm-5.25%205.121l1.314%201.314V7h.994v5.4l1.278-1.279.707.707-2.146%202.147h-.708L6%2011.829l.707-.708z'/%3e%3c/svg%3e",W4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg11267'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='Segment.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs11269'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata11272'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(17.428573,-43.505061)'%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%209.4170928,107.94873%20C%20133.86789,156.73909%20133.86789,156.73909%20133.86789,156.73909'%20id='path5172'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Segment.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='M%2019.68314,89.52305%207.59923,101.60696%20-4.48469,89.52305%20-9.6119,94.65026%202.47201,106.73417%20-9.6119,118.81809%20l%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3cpath%20id='rect1225-1'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20146.33084,139.67403%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3c/g%3e%3c/svg%3e",Y4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg4928'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='Palette.svg'%3e%3cdefs%20id='defs4930'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.139535'%20inkscape:cx='85.999998'%20inkscape:cy='85.999998'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1920'%20inkscape:window-height='1017'%20inkscape:window-x='1272'%20inkscape:window-y='-8'%20inkscape:window-maximized='1'%20/%3e%3cmetadata%20id='metadata4933'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-165.42857,-40.647918)'%3e%3crect%20style='color:%23000000;display:inline;overflow:visible;visibility:visible;opacity:0.1;fill:none;stroke:%23000000;stroke-width:0.81904763;stroke-miterlimit:4;stroke-dasharray:none;marker:none;enable-background:accumulate'%20id='rect5045-5-5-1'%20width='171.18095'%20height='171.18095'%20x='165.83809'%20y='41.057442'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23cccccc;fill-opacity:1;fill-rule:nonzero;stroke:%230e232e;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='rect4714'%20width='42.426407'%20height='42.426407'%20x='172.97838'%20y='49.443588'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23cccccc;fill-opacity:1;fill-rule:nonzero;stroke:%230e232e;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='rect4714-8'%20width='42.426407'%20height='42.426407'%20x='230.60759'%20y='49.443588'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23cccccc;fill-opacity:1;fill-rule:nonzero;stroke:%230e232e;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='rect4714-6'%20width='42.426407'%20height='42.426407'%20x='288.23676'%20y='49.443588'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%230e232e;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='rect4714-5'%20width='42.426407'%20height='42.426407'%20x='172.97838'%20y='49.443604'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23364e59;fill-opacity:1;fill-rule:nonzero;stroke:none'%20id='rect4714-8-0'%20width='42.426407'%20height='42.426407'%20x='230.60759'%20y='49.443604'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%232d2d2d;fill-opacity:1;fill-rule:nonzero;stroke:none'%20id='rect4714-6-9'%20width='42.426407'%20height='42.426407'%20x='288.23676'%20y='49.443604'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23cccccc;fill-opacity:1;fill-rule:nonzero;stroke:%230e232e;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='rect4714-0'%20width='42.426407'%20height='42.426407'%20x='172.97838'%20y='103.4436'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23cccccc;fill-opacity:1;fill-rule:nonzero;stroke:%230e232e;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='rect4714-8-06'%20width='42.426407'%20height='42.426407'%20x='230.60759'%20y='103.4436'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23cccccc;fill-opacity:1;fill-rule:nonzero;stroke:%230e232e;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='rect4714-6-1'%20width='42.426407'%20height='42.426407'%20x='288.23676'%20y='103.4436'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23ff4141;fill-opacity:1;fill-rule:nonzero;stroke:none'%20id='rect4714-5-3'%20width='42.426407'%20height='42.426407'%20x='172.97838'%20y='103.44362'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23ff6600;fill-opacity:1;fill-rule:nonzero;stroke:none'%20id='rect4714-8-0-8'%20width='42.426407'%20height='42.426407'%20x='230.60759'%20y='103.44362'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23009100;fill-opacity:1;fill-rule:nonzero;stroke:none'%20id='rect4714-6-9-9'%20width='42.426407'%20height='42.426407'%20x='288.23676'%20y='103.44362'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23cccccc;fill-opacity:1;fill-rule:nonzero;stroke:%230e232e;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='rect4714-3'%20width='42.426407'%20height='42.426407'%20x='172.97838'%20y='159.44359'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23cccccc;fill-opacity:1;fill-rule:nonzero;stroke:%230e232e;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='rect4714-8-4'%20width='42.426407'%20height='42.426407'%20x='230.60759'%20y='159.44359'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23cccccc;fill-opacity:1;fill-rule:nonzero;stroke:%230e232e;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='rect4714-6-4'%20width='42.426407'%20height='42.426407'%20x='288.23676'%20y='159.44359'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%2319aeff;fill-opacity:1;fill-rule:nonzero;stroke:none'%20id='rect4714-5-6'%20width='42.426407'%20height='42.426407'%20x='172.97838'%20y='159.44362'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23ba00ff;fill-opacity:1;fill-rule:nonzero;stroke:none'%20id='rect4714-8-0-0'%20width='42.426407'%20height='42.426407'%20x='230.60759'%20y='159.44362'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3crect%20style='fill:%23804d00;fill-opacity:1;fill-rule:nonzero;stroke:none'%20id='rect4714-6-9-6'%20width='42.426407'%20height='42.426407'%20x='288.23676'%20y='159.44362'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Palette.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3c/g%3e%3c/svg%3e",K4e="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20class='icon'%20viewBox='0%200%201024%201024'%3e%3cpath%20d='M324%20666a48%2048%200%201%200%2096%200%2048%2048%200%201%200-96%200zm616.7-309.6L667.6%2083.2C655.2%2070.9%20638.7%2064%20621.1%2064s-34.1%206.8-46.5%2019.2L83.3%20574.5a65.85%2065.85%200%200%200%200%2093.1l273.2%20273.2c12.3%2012.3%2028.9%2019.2%2046.5%2019.2s34.1-6.8%2046.5-19.2l491.3-491.3c25.6-25.7%2025.6-67.5-.1-93.1zM403%20880.1L143.9%20621l477.2-477.2%20259%20259.2L403%20880.1zM152.8%20373.7a7.9%207.9%200%200%200%2011.2%200L373.7%20164a7.9%207.9%200%200%200%200-11.2l-38.4-38.4a7.9%207.9%200%200%200-11.2%200L114.3%20323.9a7.9%207.9%200%200%200%200%2011.2l38.5%2038.6zm718.6%20276.6a7.9%207.9%200%200%200-11.2%200L650.3%20860.1a7.9%207.9%200%200%200%200%2011.2l38.4%2038.4a7.9%207.9%200%200%200%2011.2%200L909.7%20700a7.9%207.9%200%200%200%200-11.2l-38.3-38.5z'/%3e%3c/svg%3e",X4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg7186'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='Translation.svg'%3e%3cdefs%20id='defs7188'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.139535'%20inkscape:cx='85.999998'%20inkscape:cy='85.999998'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1920'%20inkscape:window-height='1017'%20inkscape:window-x='1272'%20inkscape:window-y='-8'%20inkscape:window-maximized='1'%20/%3e%3cmetadata%20id='metadata7191'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-148.28571,-214.93363)'%3e%3crect%20style='color:%23000000;display:inline;overflow:visible;visibility:visible;opacity:0.1;fill:none;stroke:%23000000;stroke-width:0.81904763;stroke-miterlimit:4;stroke-dasharray:none;marker:none;enable-background:accumulate'%20id='rect5045-5-5'%20width='171.18095'%20height='171.18095'%20x='148.69524'%20y='215.34315'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\Translation.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20170.28572,310.93363%200,41%2066,0%20z'%20id='path3045'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\Translation.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:%239eabb0;stroke:%230e232e;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20225.28572,237.43363%200,41%2066,0%20z'%20id='path3045-1'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\Translation.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cg%20id='g3858'%20transform='matrix(0.76020005,0.19967656,-0.21023752,0.72201254,159.94068,29.236022)'%20inkscape:transform-center-x='-25.732462'%20inkscape:transform-center-y='-34.812782'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\Translation.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%3e%3cpath%20inkscape:export-ydpi='12.55814'%20inkscape:export-xdpi='12.55814'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\PointParSommeVect.png'%20sodipodi:nodetypes='cc'%20inkscape:connector-curvature='0'%20id='path6164'%20d='M%20226.08702,395.28053%20266.14768,286.27012'%20style='fill:none;stroke:%23000000;stroke-width:10.40758801;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:none'%20/%3e%3cpath%20inkscape:export-ydpi='12.55814'%20inkscape:export-xdpi='12.55814'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\PointParSommeVect.png'%20sodipodi:nodetypes='ccc'%20inkscape:connector-curvature='0'%20id='path6358'%20d='m%20236.62235,309.035%2028.81552,-23.59116%2010.47511,35.63408'%20style='fill:none;stroke:%23000000;stroke-width:10.40758801;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Q4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20viewBox='0%200%20512%20512'%20version='1.1'%20id='svg11'%20sodipodi:docname='undo.svg'%20inkscape:version='1.2-alpha1%20(b6a15bb,%202022-02-23)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs15'%20/%3e%3csodipodi:namedview%20id='namedview13'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:pageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20showgrid='false'%20inkscape:zoom='0.4609375'%20inkscape:cx='-156.20339'%20inkscape:cy='256'%20inkscape:window-width='1440'%20inkscape:window-height='900'%20inkscape:window-x='0'%20inkscape:window-y='0'%20inkscape:window-maximized='0'%20inkscape:current-layer='svg11'%20/%3e%3cpath%20d='M%20222.57129,234.78304%20H%2054.113924%20c%20-5.5336,0%20-10.06934,-4.12064%20-10.06934,-9.2057%20V%2072.324346%20c%200,-5.08505%204.53574,-9.2057%2010.06934,-9.2057%20h%2040.36809%20c%205.533596,0%2010.069336,4.12065%2010.069336,9.2057%20v%2059.793214%20c%2038.46307,-38.926964%2094.34338,-63.300144%20156.48302,-62.861784%20115.11707,0.78906%20207.19259,85.393834%20206.92044,190.251154%20-0.18143,104.5943%20-93.43624,189.37442%20-208.46259,189.37442%20-53.88459,0%20-102.9613,-18.58675%20-139.97293,-49.18475%20-4.2636,-3.50693%20-4.44503,-9.64406%20-0.36286,-13.32634%20l%2028.57516,-26.03899%20c%203.71931,-3.41926%209.7972,-3.5946%2013.78865,-0.43836%2026.03514,21.12927%2060.41605,33.84191%2097.97198,33.84191%2081.73402,0%20147.95582,-60.23159%20147.95582,-134.75393%200,-74.43467%20-66.13108,-134.75393%20-147.95582,-134.75393%20-49.16742,0%20-92.71052,21.83066%20-119.5621,55.32188%20h%2082.64117%20c%205.53361,0%2010.06935,4.12065%2010.06935,9.2057%20v%2036.73513%20c%200,5.08505%20-4.53574,9.2057%20-10.06935,9.2057%20z'%20id='path9'%20style='stroke-width:0.891811'%20/%3e%3c/svg%3e",J4e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg12430'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='Vecteur.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs12432'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.139535'%20inkscape:cx='85.999998'%20inkscape:cy='85.999998'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata12435'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-114,-203.50506)'%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20147.91469,269.51062%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3cpath%20id='rect1225-6'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20277.66556,270.01925%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3cpath%20style='fill:%230e232e;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-mid:none;marker-end:none'%20d='m%20137.2703,286.72174%20122.66222,0.61695'%20id='path3926'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='cc'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Vecteur.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20230.52355,266.89496%2031.16924,20.38028%20-30.82986,20.71317'%20id='path6358'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='ccc'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Vecteur.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3c/g%3e%3c/svg%3e",e3e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.5%2014.5C8.94772%2014.5%208.5%2014.0523%208.5%2013.5V11.5H6.5C5.94772%2011.5%205.5%2011.0523%205.5%2010.5V9.5C5.5%208.94772%205.94772%208.5%206.5%208.5H8.5V6.5C8.5%205.94772%208.94772%205.5%209.5%205.5H10.5C11.0523%205.5%2011.5%205.94772%2011.5%206.5V8.5H13.5C14.0523%208.5%2014.5%208.94772%2014.5%209.5V10.5C14.5%2011.0523%2014.0523%2011.5%2013.5%2011.5H11.5V13.5C11.5%2014.0523%2011.0523%2014.5%2010.5%2014.5H9.5Z'%20fill='%23000000'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.5%2010C0.5%204.75329%204.75329%200.5%2010%200.5C15.2467%200.5%2019.5%204.75329%2019.5%2010C19.5%2012.082%2018.8302%2014.0076%2017.6944%2015.5731L22.4142%2020.2929C22.8047%2020.6834%2022.8047%2021.3166%2022.4142%2021.7071L21.7071%2022.4142C21.3166%2022.8047%2020.6834%2022.8047%2020.2929%2022.4142L15.5731%2017.6944C14.0076%2018.8302%2012.082%2019.5%2010%2019.5C4.75329%2019.5%200.5%2015.2467%200.5%2010ZM10%203.5C6.41015%203.5%203.5%206.41015%203.5%2010C3.5%2013.5899%206.41015%2016.5%2010%2016.5C13.5899%2016.5%2016.5%2013.5899%2016.5%2010C16.5%206.41015%2013.5899%203.5%2010%203.5Z'%20fill='%23000000'/%3e%3c/svg%3e",t3e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.5%208.5C5.94772%208.5%205.5%208.94771%205.5%209.5V10.5C5.5%2011.0523%205.94772%2011.5%206.5%2011.5H13.5C14.0523%2011.5%2014.5%2011.0523%2014.5%2010.5V9.5C14.5%208.94772%2014.0523%208.5%2013.5%208.5H6.5Z'%20fill='%23000000'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.5%2010C0.5%204.75329%204.75329%200.5%2010%200.5C15.2467%200.5%2019.5%204.75329%2019.5%2010C19.5%2012.082%2018.8302%2014.0076%2017.6944%2015.5731L22.4142%2020.2929C22.8047%2020.6834%2022.8047%2021.3166%2022.4142%2021.7071L21.7071%2022.4142C21.3166%2022.8047%2020.6834%2022.8047%2020.2929%2022.4142L15.5731%2017.6944C14.0076%2018.8302%2012.082%2019.5%2010%2019.5C4.75329%2019.5%200.5%2015.2467%200.5%2010ZM10%203.5C6.41015%203.5%203.5%206.41015%203.5%2010C3.5%2013.5899%206.41015%2016.5%2010%2016.5C13.5899%2016.5%2016.5%2013.5899%2016.5%2010C16.5%206.41015%2013.5899%203.5%2010%203.5Z'%20fill='%23000000'/%3e%3c/svg%3e";function TT(t){t.style.width="40px",t.style.height="40px",t.style.margin="4px",t.style.cursor="pointer",t.style.borderRadius="5px",t.style.border="1px solid black",t.style.backgroundColor="white",t.style.boxShadow="0px 0px 2px 0px rgba(0,0,0,0.75)",t.style.padding="2px",t.onmouseover=()=>{t.style.boxShadow="0px 0px 5px 0px rgba(0,0,0,0.75)"},t.onmouseout=()=>{t.style.boxShadow="0px 0px 2px 0px rgba(0,0,0,0.75)"}}const LT=new Map([["BISECTOR_BY_POINTS",{tooltip:"Bissectrice",url:i4e}],["CIRCLE_CENTER_POINT",{tooltip:"Cercle centre-point",url:s4e}],["CIRCLE_COMPASS",{tooltip:"Cercle par report de longueur",url:a4e}],["CIRCLE_RADIUS",{tooltip:"Cercle centre-rayon",url:n4e}],["CURSOR",{tooltip:"Curseur",url:o4e}],["DESCRIPTION",{tooltip:"Afficher le programme de construction",url:l4e}],["DILATE",{tooltip:"Homothétie",url:u4e}],["DISC_CENTER_POINT",{tooltip:"Disque centre-point",url:h4e}],["DISC_RADIUS",{tooltip:"Disque centre-rayon",url:c4e}],["DOWNLOAD_LATEX_SVG",{tooltip:"Exporter la figure au format LaTeX ou SVG",url:b4e}],["DRAG_ALL",{tooltip:"Déplacer la figure",url:d4e}],["DRAG",{tooltip:"Déplacer les points",url:p4e}],["FILL",{tooltip:"Remplir / Vider",url:m4e}],["GRID",{tooltip:"Afficher le repère",url:f4e}],["HIDE",{tooltip:"Masquer un élément",url:g4e}],["INFORMATIONS",{tooltip:"Obtenir les informations sur l'élément",url:v4e}],["LATEX",{tooltip:"Export LaTeX",url:y4e}],["LINE_PARALLEL",{tooltip:"Droite parallèle",url:w4e}],["LINE_PERPENDICULAR",{tooltip:"Droite perpendiculaire",url:M4e}],["LINE",{tooltip:"Droite",url:x4e}],["MARK_ANGLE",{tooltip:"Coder un angle",url:k4e}],["MARK_BETWEEN_POINTS",{tooltip:"Coder un segment",url:C4e}],["MESURE_ANGLE",{tooltip:"Mesurer un angle",url:N4e}],["MESURE_SEGMENT",{tooltip:"Mesurer une distance",url:S4e}],["MIDDLE",{tooltip:"Milieu",url:D4e}],["MOVE_LABEL",{tooltip:"Déplacer le nom d'un point",url:A4e}],["NAME_POINT",{tooltip:"Renommer un point",url:$4e}],["OPEN",{tooltip:"Charger un fichier",url:_4e}],["PAUSE",{tooltip:"Pause",url:E4e}],["PERPENDICULAR_BISECTOR",{tooltip:"Médiatrice",url:I4e}],["PLAY_SKIP_BACK",{tooltip:"Étape précédente",url:L4e}],["PLAY_SKIP_FORWARD",{tooltip:"Étape suivante",url:z4e}],["PLAY",{tooltip:"Lecture",url:T4e}],["POINT_INTERSECTION",{tooltip:"Point à l'intersection",url:O4e}],["POINT_ON",{tooltip:"Point sur",url:F4e}],["POINT",{tooltip:"Point",url:B4e}],["POLYGON",{tooltip:"Polygone",url:P4e}],["RAY",{tooltip:"Demi-droite",url:R4e}],["REDO",{tooltip:"Rétablir",url:j4e}],["REFLECTION_OVER_LINE",{tooltip:"Symétrie axiale",url:U4e}],["REFLECTION",{tooltip:"Symétrie centrale",url:q4e}],["REMOVE",{tooltip:"Supprimer",url:V4e}],["RESTART",{tooltip:"Recommencer",url:G4e}],["ROTATE",{tooltip:"Rotation",url:Z4e}],["SAVE",{tooltip:"Sauvegarder",url:H4e}],["SEGMENT",{tooltip:"Segment",url:W4e}],["SET_OPTIONS",{tooltip:"Modifier le style",url:Y4e}],["SHAKE",{tooltip:"Secouer la figure",url:K4e}],["TRANSLATION",{tooltip:"Translation",url:X4e}],["UNDO",{tooltip:"Annuler la dernière action",url:Q4e}],["VECTOR",{tooltip:"Vecteur",url:J4e}],["ZOOM_IN",{tooltip:"Zoom avant",url:e3e}],["ZOOM_OUT",{tooltip:"Zoom arrière",url:t3e}]]);function r3e(t,e){const r=[],i=t.split(" ");for(const n of i){const a=n.toUpperCase();if(!LT.has(a)){console.error(`Le bouton ${a} n'existe pas`);continue}const s=document.createElement("img"),o=LT.get(a);if(o==null){console.error(`L'icône pour le bouton ${a} n'existe pas`);continue}s.src=o.url,s.title=o.tooltip,TT(s),s.onclick=()=>{var l;(l=e.ui)==null||l.send(a)},e.buttons.set(a,s),r.push(s)}return r}function i3e({action:t,figure:e,tooltip:r="",url:i,text:n,container:a,record:s=!0,userMessage:o=""}){if(i==null&&n==null)throw new Error("addCustomButton doit spécifier une url ou un texte");let l;if(i!=null){l=document.createElement("img");const u=l;u.src=i}else{l=document.createElement("div");const u=l;u.textContent=n,l.style.textAlign="center",l.style.lineHeight="40px",l.style.fontSize="20px",l.style.letterSpacing="1px",l.style.fontFamily="Arial"}if(l.title=r,TT(l),a==null?e.divButtons.appendChild(l):a.appendChild(l),l.onclick=()=>{t(),e.userMessage=o},s){const u=window.crypto.randomUUID!==void 0?window.crypto.randomUUID():n3e();e.buttons.set(u,l),l.addEventListener("click",()=>{for(const c of e.buttons.values())c.style.backgroundColor="white";l.style.backgroundColor=lg})}return l}let zT=0;function n3e(){return zT++,zT}function a3e(t){const e=document.createElement("div");e.style.marginTop="30px",e.style.fontWeight="bold";const r=document.createElement("div");r.style.marginBottom="10px",r.textContent=`Épaisseur : ${t.options.thickness}`;const i=document.createElement("input");return i.type="range",i.value=`${t.options.thickness}`,i.min="1",i.max="4",e.appendChild(r),e.appendChild(i),i.addEventListener("input",()=>{t.options.thickness=Number(i.value),r.textContent=`Épaisseur : ${t.options.thickness}`}),e}function s3e({figure:t,container:e}){const r=[];for(const n of UH){const a=t.addCustomButton({record:!1,text:n,action:()=>{t.options.mark=n},container:e});n===t.options.mark&&(a.style.backgroundColor=lg),r.push(a),a.addEventListener("click",i)}function i(){for(const n of r)n.style.backgroundColor="white";this.style.backgroundColor=lg}}function o3e(t,{nbCols:e,position:r="left",showStyles:i,tools:n=VH}){if(t.divButtons.innerHTML="",t.divButtons.style.zIndex="100",r==="none"){t.divButtons.style.display="none";return}if(r==="left"&&(i===void 0&&(i=!0),e===void 0&&(e=4),t.divButtons.style.display="grid",window.matchMedia("(min-width: 768px)").matches?t.container.style.gridTemplateColumns="230px 1fr":t.container.style.gridTemplateColumns="50px 1fr",t.container.style.display="grid",window.matchMedia("(min-width: 768px)").matches?t.divButtons.style.gridTemplateColumns=`repeat(${e}, auto)`:t.divButtons.style.gridTemplateColumns="auto",t.divButtons.style.gridAutoRows="min-content",t.divButtons.style.justifyContent="start"),r==="top"&&(i===void 0&&(i=!1),e===void 0&&(e=8),t.container.style.display="block",t.divButtons.style.display="grid",t.divButtons.style.gridTemplateColumns=`repeat(${e}, auto)`,t.divButtons.style.gridAutoRows="min-content",n.length<6?t.divButtons.style.justifyContent="start":t.divButtons.style.justifyContent="center"),i===!1){const s=n.indexOf("SET_OPTIONS");s>-1&&n.splice(s,1)}const a=t.addButtons(n.join(" "));t.divButtons.append(...a);for(const s of a)t.divButtons.appendChild(s);if(i===!0){const s=document.createElement("div");s.style.gridColumn="1 / -1",t.divButtons.appendChild(s),s.appendChild(t.addColorPalette(["black","blue","red"])),s.appendChild(t.addColorPalette(["green","orange","lightgray"])),s.appendChild(t.addDashedChoice()),s.appendChild(t.addThicknessChoice())}n.indexOf("MARK_BETWEEN_POINTS")&&(t.divMarkPalette=document.createElement("div"),t.divMarkPalette.style.display="flex",t.divToolbar2.appendChild(t.divMarkPalette),s3e({figure:t,container:t.divMarkPalette}),t.divMarkPalette.style.display="none")}class gx{constructor({border:e=!1,dx:r=1,dy:i=1,height:n=document.documentElement.clientHeight-Qk,isDynamic:a=!0,pixelsPerUnit:s=30,scale:o=1,snapGrid:l=!1,width:u=document.documentElement.clientWidth-Xk,xMin:c=-10,xScale:h=1,yMin:p=-6,yScale:d=1}={}){this._actionsOnChange=[],this.buttons=new Map,this.currentState="",this.id="",this.zoomLevel=1,this.elements=new Map,this.stackUndo=[],this.stackRedo=[],this.width=u,this.height=n,this.pixelsPerUnit=s,this.xMin=c,this.xMax=c+u/s/o/h,this.yMin=p,this.yMax=p+n/s/o/d,this.dx=r,this.dy=i,this.hoverPoints=new Set,this.xScale=h,this.yScale=d,this._scale=o,this.isDynamic=a,this.pointerX=null,this.pointerY=null,this.selectedElements=[],this.tmpElements=[],this.options={...tC},this.snapGrid=l,this.container=document.createElement("div"),this.container.id="containerApigeom",this.divFigureAndUserMessage=document.createElement("div"),this.divFigureAndUserMessage.id="divFigureAndUserMessage",this.divFigure=document.createElement("div"),this.divFigure.id="divFigure",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.divSave=null,this.divButtons=document.createElement("div"),this.divButtons.id="divButtons",this.divUserMessage=document.createElement("div"),this.divUserMessage.id="divUserMessage",this.divUserMessage.style.fontSize=jH,this.divUserMessage.style.height=RH,this.divUserMessage.style.width="90%",this.divUserMessage.style.textAlign="right",this.divUserMessage.style.right="0",this.divUserMessage.style.color="blue",this.divUserMessage.style.margin="3px",this.divUserMessage.style.padding="0.5em",this.divUserMessage.style.fontSize="1.5em",this.divToolbar2=document.createElement("div"),this.divToolbar2.id="divToolbar2",this.divToolbar2.style.display="flex",this.container.appendChild(this.divButtons),this.container.appendChild(this.divFigureAndUserMessage),this.divFigureAndUserMessage.appendChild(this.divToolbar2),this.divFigureAndUserMessage.appendChild(this.divUserMessage),this.divFigureAndUserMessage.appendChild(this.divFigure),this.divFigure.appendChild(this.svg),e&&(this.svg.style.border="solid"),this.svg.style.touchAction="none",this.clearHtml(),this.isDynamic&&this.listenPointer(),this.pointer=new ca(this,{isChild:!0,isFree:!1,isVisible:!1,isSelectable:!1,color:"black",shape:"",x:0,y:0}),this.pointer.type="pointer",this.filter=m=>m instanceof ca&&m.isFree,this.saveState(),this.initial={height:this.height,width:this.width,scale:this._scale,xMin:this.xMin,yMin:this.yMin},setTimeout(()=>{this.handleUndoRedoButtons()},100)}addButtons(e){return r3e(e,this)}addColorPalette(e){return IH(e,this)}addCustomButton({action:e,container:r,record:i,text:n,tooltip:a="",url:s,userMessage:o}){return i3e({action:e,figure:this,tooltip:a,url:s,text:n,container:r,record:i,userMessage:o})}addDashedChoice(){return BH(this)}addThicknessChoice(){return a3e(this)}adjustSize(){this.width<Jk&&(this.width=Jk),this.height<eC&&(this.height=eC),this.xMax=this.xMin+this.width/this.pixelsPerUnit/this.scale/this.xScale,this.yMax=this.yMin+this.height/this.pixelsPerUnit/this.scale/this.yScale,this.divFigure!==null&&this.svg!==null&&(this.divFigure.style.width=`${this.width.toString()}px`,this.divFigure.style.height=`${this.height.toString()}px`,this.svg.setAttribute("width",this.width.toString()),this.svg.setAttribute("height",this.height.toString()),this.svg.setAttribute("viewBox",`${this.xToSx(this.xMin)} ${this.yToSy(this.yMax)} ${this.width} ${this.height}`));for(const e of this.elements.values())e instanceof fn&&e.update()}autoAdjustSize(){window.addEventListener("resize",()=>{e(),this.adjustSize()}),window.addEventListener("orientationchange",()=>{e(),this.adjustSize()}),window.addEventListener("fullscreenchange",()=>{e(),this.adjustSize()});const e=()=>{this.width=document.documentElement.clientWidth-Xk,this.height=document.documentElement.clientHeight-Qk}}checkPoint({label:e,x:r,y:i,color:n}){return iW({figure:this,label:e,x:r,y:i,color:n})}checkPointOnLine({labelPt:e,nameLine:r}){return oW({figure:this,labelPt:e,nameLine:r})}checkPointOnIntersectionLL({labelPt:e,nameLine1:r,nameLine2:i}){return sW({figure:this,labelPt:e,nameLine1:r,nameLine2:i})}checkPointBetween2Points({labelPt:e,labelPt1:r,labelPt2:i}){return nW({figure:this,labelPt:e,labelPt1:r,labelPt2:i})}checkAngle({angle:e,label1:r,label2:i,label3:n}){return WH({angle:e,figure:this,label1:r,label2:i,label3:n})}checkPerpendicularBisector({color:e,label1:r,label2:i}){return rW({figure:this,label1:r,label2:i,color:e})}checkCircleRadius({center:e,labelCenter:r,radius:i}){return YH({center:e,figure:this,labelCenter:r,radius:i})}checkCoords({checkOnlyAbscissa:e,label:r,x:i,y:n,color:a}){return QH({checkOnlyAbscissa:e,figure:this,label:r,x:i,y:n,color:a})}checkDistance({distance:e,label1:r,label2:i}){return JH({distance:e,figure:this,label1:r,label2:i})}checkLine({point1:e,point2:r,color:i}){return eW({figure:this,point1:e,point2:r,color:i})}checkSegment({point1:e,point2:r,color:i}){return pW({figure:this,point1:e,point2:r,color:i})}checkParallel({label1:e,label2:r}){return tW({figure:this,label1:e,label2:r})}checkPolygon({acceptSegments:e,points:r,color:i}){return lW({figure:this,acceptSegments:e,points:r,color:i})}checkPolygonByLabels({labels:e,color:r}){return uW({figure:this,labels:e,color:r})}checkSameDistance({label1:e,label2:r}){return hW({figure:this,label1:e,label2:r})}checkRay({point1:e,point2:r,color:i}){return cW({figure:this,point1:e,point2:r,color:i})}checkVector({color:e,labelOrigin:r,labelPoint2:i,x:n,xOrigin:a,y:s,yOrigin:o}){return mW({color:e,figure:this,labelOrigin:r,labelPoint2:i,x:n,xOrigin:a,y:s,yOrigin:o})}clearHtml(){this.svg.innerHTML="";const e=document.createElementNS("http://www.w3.org/2000/svg","style");this.svg.appendChild(e),e.type="text/css",e.innerHTML=".onlyOver:hover { opacity: 1; }",this.options={...tC}}copy(){const e=this.getJsonWithHistory(),r=new gx;if(r.loadJson(JSON.parse(e)),this.elements.size!==r.elements.size)throw new Error("Erreur lors de la copie de la figure");return r}create(e,r){const i=new l3e[e](this,{...r});return"draw"in i&&i.draw(),i}getContainer(){return this.container}getJsonWithHistory(){const e={apiGeomVersion:APP_VERSION,options:this.options,...Object.fromEntries(this.elements),history:this.stackUndo};return JSON.stringify(e,BT,2)}getPointByLabel(e){const r=[...this.elements.values()].filter(i=>i instanceof ca&&i.label===e);return r.length>0?r[0]:null}getPointerCoord(e){e.preventDefault();const r=this.svg.getBoundingClientRect(),i=(e.clientX-r.x)/this.pixelsPerUnit/this.xScale/this.scale+this.xMin,n=-(e.clientY-r.y)/this.pixelsPerUnit/this.yScale/this.scale+this.yMax;return[i,n]}getStaticHtml({center:e=!1}={}){const r=this.isDynamic;this.isDynamic=!1;let i="";if(this.container.childElementCount<5){const n=document.createElement("div");this.setContainer(n)}else this.isDynamic=r;return this.divFigure.style.display="block",e&&(this.divFigure.style.margin="0 auto"),i=this.divFigure.outerHTML,i}handleDragAll(){window.addEventListener("keydown",e=>{const r={x:0,y:0},i=qH;e.key==="ArrowLeft"&&(r.x=i),e.key==="ArrowRight"&&(r.x=-i),e.key==="ArrowUp"&&(r.y=-i),e.key==="ArrowDown"&&(r.y=+i),e.shiftKey&&(r.x*=10,r.y*=10),!u3e()&&(r.x!==0||r.y!==0)&&(e.preventDefault(),this.xMin+=r.x,this.yMin+=r.y,this.zoom(this.zoomLevel))})}handleUndoRedoButtons(){const e=this.buttons.get("REDO"),r=this.buttons.get("UNDO");e!==void 0&&(e.style.opacity=this.stackRedo.length===0?"0.5":"1"),r!==void 0&&(r.style.opacity=this.stackUndo.length<2?"0.5":"1")}latex({xMax:e=this.xMin+this.options.latexWidth,xMin:r=this.xMin,yMax:i=this.yMax,yMin:n=this.yMax-this.options.latexHeight,includePreambule:a=!0}={}){let s="";return a&&(s+="\\documentclass[french,a4paper]{article}",s+=`
\\usepackage[francais]{babel}`,s+=`
\\usepackage[utf8]{inputenc}`,s+=`
\\usepackage{tkz-base}`,s+=`
\\usepackage{pgfplots}`,s+=`
\\begin{document}`),s+=this.tikz({xMax:e,xMin:r,yMax:i,yMin:n}),a&&(s+=`
\\end{document}`),s=s.replace(/\d+\.\d+/g,o=>(Math.round(1e6*Number.parseFloat(o))/1e6).toString()),s}listenPointer(){this.svg.addEventListener("pointerdown",r=>{if(!this.isDynamic)return;const[i,n]=this.getPointerCoord(r);this.pointer.moveTo(i,n),r4e(this,r)});const e=()=>{this.isDynamic&&(this.pointer.moveTo(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),IT(this,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),this.inDrag!==void 0&&(this.inDrag=void 0,this.divFigure!==null&&(this.divFigure.style.cursor="auto"),this.saveState()))};this.svg.addEventListener("pointerup",e),this.svg.addEventListener("pointerleave",e),this.svg.addEventListener("pointermove",r=>{if(!this.isDynamic)return;const[i,n]=this.getPointerCoord(r);this.pointer.moveTo(i,n),IT(this,i,n),this.inDrag!==void 0&&this.inDrag.moveTo(i,n)})}_hasChanged(){for(const e of this._actionsOnChange)e()}loadJson(e,r){OH(this,e,r)}onChange(e){this._actionsOnChange.push(e)}redo(){const e=this.stackRedo.at(-1);e!==void 0&&(this.stackUndo.push(e),this.stackRedo.pop(),this.loadJson(JSON.parse(e)),this.handleUndoRedoButtons()),this._hasChanged()}restart(e=1){if(this.stackUndo.length===0)return;const r=Number.isInteger(e)&&e>1?e:1;for(;this.stackUndo.length>r;){const i=this.stackUndo.at(-2);i!==void 0&&(this.stackRedo.push(this.stackUndo.at(-1)),this.stackUndo.pop(),this.stackUndo.length+1===r&&(this.loadJson(JSON.parse(i)),this.handleUndoRedoButtons()))}this._hasChanged()}saveState(){const e=this.json;t4e()&&localStorage.setItem("apiGeom",e),this.divSave!==null&&(this.divSave.textContent=e),this.stackUndo.push(e),this.stackRedo=[],this.stackUndo.length>Wk&&(this.stackUndo=this.stackUndo.slice(-Wk)),this.handleUndoRedoButtons();for(const r of this.tmpElements)r.remove();this.tmpElements=[],this.selectedElements=[],this._hasChanged()}setContainer(e){if(!(e instanceof HTMLElement))throw Error("grandParentContainer doit être un HTMLElement");e.appendChild(this.container),this.divFigure.style.position="relative",this.divFigure.style.display="inline-block",this.divFigure.style.margin="0",this.divFigure.style.padding="0",this.divFigure.style.boxSizing="border-box",this.divFigure.style.border="none",this.divButtons.childElementCount===0&&this.isDynamic&&this.setToolbar(),this.adjustSize()}setToolbar({nbCols:e,position:r="left",showStyles:i,tools:n}={}){o3e(this,{nbCols:e,position:r,showStyles:i,tools:n})}async shake({delta:e=3,repeat:r=5,time:i=1}={}){await fW({delta:e,figure:this,repeat:r,time:i})}sxTox(e){return e/this.pixelsPerUnit/this.xScale/this.scale}syToy(e){return-e/this.pixelsPerUnit/this.yScale/this.scale}tempCreate(e,r){const i=this.create(e,{isChild:!0,isSelectable:!1,...r});return i.color=this.options.tmpColor,i.thickness=this.options.tmpThickness,"isDashed"in i&&!(i instanceof ca)&&(i.isDashed=this.options.tmpIsDashed),"fillColor"in i&&(i.fillColor=this.options.tmpFillColor),"fillOpacity"in i&&(i.fillOpacity=this.options.tmpFillOpacity),this.tmpElements.push(i),i}tikz({xMax:e=Math.min(this.xMax,this.xMin+this.options.latexWidth),xMin:r=this.xMin,yMax:i=this.yMax,yMin:n=Math.max(this.yMin,this.yMax-this.options.latexHeight),anchor:a="north"}={}){const s=this.scale!==1?`, scale=${this.scale}`:"",o=this.xScale!==1?`, xScale=${this.xScale}`:"",l=this.yScale!==1?`, yScale=${this.yScale}`:"";let u=`
\\begin{tikzpicture}[baseline={(current bounding box.${a})}${s}${o}${l}]`;u+=`
\\clip(${r}, ${n}) rectangle (${e}, ${i});`;for(const c of this.elements.values())c instanceof fn&&c.latex!==void 0&&c.latex!==""&&c.isVisible&&c.color!==""&&c.color!=="none"&&(u+=`
${c.latex}`);return u+=`
\\end{tikzpicture}`,u=u.replace(/\d+\.\d+/g,c=>(Math.round(1e6*Number.parseFloat(c))/1e6).toString()),u}undo(){const e=this.stackUndo.at(-2);e!==void 0&&(this.stackRedo.push(this.stackUndo.at(-1)),this.stackUndo.pop(),this.loadJson(JSON.parse(e)),this.handleUndoRedoButtons()),this._hasChanged()}async wait(e=1500){await new Promise(r=>{setTimeout(r,e)})}xToSx(e){return e*this.pixelsPerUnit*this.xScale*this.scale}yToSy(e){return-e*this.pixelsPerUnit*this.yScale*this.scale}zoom(e,{changeWidth:r=!0,changeHeight:i=!0,changeLeft:n=!0,changeBottom:a=!0}={}){if(e<=0)return;r&&(this.width=this.initial.width*e),i&&(this.height=this.initial.height*e),this.scale=this.initial.scale*e,n&&(this.xMin=this.initial.xMin/e),a&&(this.yMin=this.initial.yMin/e),this.adjustSize();const s=this.getJsonWithHistory(),o=this.options;this.loadJson(JSON.parse(s),!1),this.options=o}get htmlDescription(){const e=document.createElement("ul");e.style.lineHeight="2";for(const r of this.elements.values())if("description"in r&&!r.isChild){const i=document.createElement("li");i.textContent=r.description,e.appendChild(i)}return e}get json(){const e={apiGeomVersion:APP_VERSION,options:this.options,...Object.fromEntries(this.elements)};return JSON.stringify(e,BT,2)}get scale(){return this._scale}set scale(e){this._scale=e,this.adjustSize()}get userMessage(){return this.divUserMessage.textContent??""}set userMessage(e){this.divUserMessage.textContent=e,mb(this.divUserMessage,{delimiters:[{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"}],errorColor:"#CC0000",preProcess:r=>r.replaceAll(" ","\\,"),strict:"warn",throwOnError:!0,trust:!1})}}const l3e={Angle:yW,Arc:dx,ArcBy3PointsAndRadius:kge,ArcByCenterRadiusAndAngles:Nge,Barycenter:Oge,BisectorByPoints:Sge,Circle:_4,CircleCenterDynamicRadius:$T,CircleCenterPoint:Dge,CircleFractionDiagram:vge,Distance:vC,DynamicCalcul:bW,DynamicX:xW,DynamicY:wW,GraduatedLine:Mge,Graph:hge,Graph2:dge,GraphByParts:fge,Grid:hC,Line:Ih,LineByPointVector:Age,LineFractionDiagram:yge,RectangleFractionDiagram:xge,LineParallel:mx,LinePerpendicular:E4,MarkBetweenPoints:zge,MarkRightAngle:Bge,Middle:Fge,PerpendicularBisector:_T,PerpendicularBisectorByPoints:$ge,Point:ca,PointByProjection:jge,PointByProjectionOnAxisX:qge,PointByProjectionOnAxisY:Uge,PointIntersectionCC:Vge,PointIntersectionLC:Gge,PointIntersectionLL:pC,PointOnCircle:Zge,PointOnGraph:Rge,PointOnLine:fC,PointOnPolyline:Wge,PointOnLineAtDistance:Hge,PointsIntersectionCC:Yge,PointsIntersectionLC:Kge,Polygon:_ge,Polyline:Tge,Ray:bb,Segment:f0,TextByPoint:Xge,TextByPosition:Km,TextDynamicByPosition:Qge,Vector:ET,VectorByPoints:Jge,VectorPerpendicular:e4e};function BT(t,e){if(!(e!=null&&e.isChild)&&t!=="isChild")return e}function u3e(){return Array.from(document.querySelectorAll("dialog")).some(e=>!!e.open)}var OT={exports:{}};function c3e(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vx={exports:{}},FT;function Si(){return FT||(FT=1,function(t,e){(function(r,i){t.exports=i()})(zr,function(){var r=r||function(i,n){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof zr<"u"&&zr.crypto&&(a=zr.crypto),!a&&typeof c3e=="function")try{a=YE}catch{}var s=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function x(){}return function(g){var b;return x.prototype=g,b=new x,x.prototype=null,b}}(),l={},u=l.lib={},c=u.Base=function(){return{extend:function(x){var g=o(this);return x&&g.mixIn(x),(!g.hasOwnProperty("init")||this.init===g.init)&&(g.init=function(){g.$super.init.apply(this,arguments)}),g.init.prototype=g,g.$super=this,g},create:function(){var x=this.extend();return x.init.apply(x,arguments),x},init:function(){},mixIn:function(x){for(var g in x)x.hasOwnProperty(g)&&(this[g]=x[g]);x.hasOwnProperty("toString")&&(this.toString=x.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=u.WordArray=c.extend({init:function(x,g){x=this.words=x||[],g!=n?this.sigBytes=g:this.sigBytes=x.length*4},toString:function(x){return(x||d).stringify(this)},concat:function(x){var g=this.words,b=x.words,k=this.sigBytes,w=x.sigBytes;if(this.clamp(),k%4)for(var N=0;N<w;N++){var A=b[N>>>2]>>>24-N%4*8&255;g[k+N>>>2]|=A<<24-(k+N)%4*8}else for(var $=0;$<w;$+=4)g[k+$>>>2]=b[$>>>2];return this.sigBytes+=w,this},clamp:function(){var x=this.words,g=this.sigBytes;x[g>>>2]&=4294967295<<32-g%4*8,x.length=i.ceil(g/4)},clone:function(){var x=c.clone.call(this);return x.words=this.words.slice(0),x},random:function(x){for(var g=[],b=0;b<x;b+=4)g.push(s());return new h.init(g,x)}}),p=l.enc={},d=p.Hex={stringify:function(x){for(var g=x.words,b=x.sigBytes,k=[],w=0;w<b;w++){var N=g[w>>>2]>>>24-w%4*8&255;k.push((N>>>4).toString(16)),k.push((N&15).toString(16))}return k.join("")},parse:function(x){for(var g=x.length,b=[],k=0;k<g;k+=2)b[k>>>3]|=parseInt(x.substr(k,2),16)<<24-k%8*4;return new h.init(b,g/2)}},m=p.Latin1={stringify:function(x){for(var g=x.words,b=x.sigBytes,k=[],w=0;w<b;w++){var N=g[w>>>2]>>>24-w%4*8&255;k.push(String.fromCharCode(N))}return k.join("")},parse:function(x){for(var g=x.length,b=[],k=0;k<g;k++)b[k>>>2]|=(x.charCodeAt(k)&255)<<24-k%4*8;return new h.init(b,g)}},f=p.Utf8={stringify:function(x){try{return decodeURIComponent(escape(m.stringify(x)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(x){return m.parse(unescape(encodeURIComponent(x)))}},v=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(x){typeof x=="string"&&(x=f.parse(x)),this._data.concat(x),this._nDataBytes+=x.sigBytes},_process:function(x){var g,b=this._data,k=b.words,w=b.sigBytes,N=this.blockSize,A=N*4,$=w/A;x?$=i.ceil($):$=i.max(($|0)-this._minBufferSize,0);var D=$*N,_=i.min(D*4,w);if(D){for(var T=0;T<D;T+=N)this._doProcessBlock(k,T);g=k.splice(0,D),b.sigBytes-=_}return new h.init(g,_)},clone:function(){var x=c.clone.call(this);return x._data=this._data.clone(),x},_minBufferSize:0});u.Hasher=v.extend({cfg:c.extend(),init:function(x){this.cfg=this.cfg.extend(x),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(x){return this._append(x),this._process(),this},finalize:function(x){x&&this._append(x);var g=this._doFinalize();return g},blockSize:16,_createHelper:function(x){return function(g,b){return new x.init(b).finalize(g)}},_createHmacHelper:function(x){return function(g,b){return new y.HMAC.init(x,b).finalize(g)}}});var y=l.algo={};return l}(Math);return r})}(vx)),vx.exports}var yx={exports:{}},PT;function I4(){return PT||(PT=1,function(t,e){(function(r,i){t.exports=i(Si())})(zr,function(r){return function(i){var n=r,a=n.lib,s=a.Base,o=a.WordArray,l=n.x64={};l.Word=s.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=s.extend({init:function(u,c){u=this.words=u||[],c!=i?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,h=[],p=0;p<c;p++){var d=u[p];h.push(d.high),h.push(d.low)}return o.create(h,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),c=u.words=this.words.slice(0),h=c.length,p=0;p<h;p++)c[p]=c[p].clone();return u}})}(),r})}(yx)),yx.exports}var bx={exports:{}},RT;function h3e(){return RT||(RT=1,function(t,e){(function(r,i){t.exports=i(Si())})(zr,function(r){return function(){if(typeof ArrayBuffer=="function"){var i=r,n=i.lib,a=n.WordArray,s=a.init,o=a.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],h=0;h<u;h++)c[h>>>2]|=l[h]<<24-h%4*8;s.call(this,c,u)}else s.apply(this,arguments)};o.prototype=a}}(),r.lib.WordArray})}(bx)),bx.exports}var xx={exports:{}},jT;function p3e(){return jT||(jT=1,function(t,e){(function(r,i){t.exports=i(Si())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.WordArray,s=i.enc;s.Utf16=s.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,h=[],p=0;p<c;p+=2){var d=u[p>>>2]>>>16-p%4*8&65535;h.push(String.fromCharCode(d))}return h.join("")},parse:function(l){for(var u=l.length,c=[],h=0;h<u;h++)c[h>>>1]|=l.charCodeAt(h)<<16-h%2*16;return a.create(c,u*2)}},s.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,h=[],p=0;p<c;p+=2){var d=o(u[p>>>2]>>>16-p%4*8&65535);h.push(String.fromCharCode(d))}return h.join("")},parse:function(l){for(var u=l.length,c=[],h=0;h<u;h++)c[h>>>1]|=o(l.charCodeAt(h)<<16-h%2*16);return a.create(c,u*2)}};function o(l){return l<<8&4278255360|l>>>8&16711935}}(),r.enc.Utf16})}(xx)),xx.exports}var wx={exports:{}},qT;function r1(){return qT||(qT=1,function(t,e){(function(r,i){t.exports=i(Si())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.WordArray,s=i.enc;s.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,h=this._map;l.clamp();for(var p=[],d=0;d<c;d+=3)for(var m=u[d>>>2]>>>24-d%4*8&255,f=u[d+1>>>2]>>>24-(d+1)%4*8&255,v=u[d+2>>>2]>>>24-(d+2)%4*8&255,y=m<<16|f<<8|v,x=0;x<4&&d+x*.75<c;x++)p.push(h.charAt(y>>>6*(3-x)&63));var g=h.charAt(64);if(g)for(;p.length%4;)p.push(g);return p.join("")},parse:function(l){var u=l.length,c=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<c.length;p++)h[c.charCodeAt(p)]=p}var d=c.charAt(64);if(d){var m=l.indexOf(d);m!==-1&&(u=m)}return o(l,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(l,u,c){for(var h=[],p=0,d=0;d<u;d++)if(d%4){var m=c[l.charCodeAt(d-1)]<<d%4*2,f=c[l.charCodeAt(d)]>>>6-d%4*2,v=m|f;h[p>>>2]|=v<<24-p%4*8,p++}return a.create(h,p)}}(),r.enc.Base64})}(wx)),wx.exports}var Mx={exports:{}},UT;function d3e(){return UT||(UT=1,function(t,e){(function(r,i){t.exports=i(Si())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.WordArray,s=i.enc;s.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var c=l.words,h=l.sigBytes,p=u?this._safe_map:this._map;l.clamp();for(var d=[],m=0;m<h;m+=3)for(var f=c[m>>>2]>>>24-m%4*8&255,v=c[m+1>>>2]>>>24-(m+1)%4*8&255,y=c[m+2>>>2]>>>24-(m+2)%4*8&255,x=f<<16|v<<8|y,g=0;g<4&&m+g*.75<h;g++)d.push(p.charAt(x>>>6*(3-g)&63));var b=p.charAt(64);if(b)for(;d.length%4;)d.push(b);return d.join("")},parse:function(l,u){u===void 0&&(u=!0);var c=l.length,h=u?this._safe_map:this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var d=0;d<h.length;d++)p[h.charCodeAt(d)]=d}var m=h.charAt(64);if(m){var f=l.indexOf(m);f!==-1&&(c=f)}return o(l,c,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(l,u,c){for(var h=[],p=0,d=0;d<u;d++)if(d%4){var m=c[l.charCodeAt(d-1)]<<d%4*2,f=c[l.charCodeAt(d)]>>>6-d%4*2,v=m|f;h[p>>>2]|=v<<24-p%4*8,p++}return a.create(h,p)}}(),r.enc.Base64url})}(Mx)),Mx.exports}var kx={exports:{}},VT;function i1(){return VT||(VT=1,function(t,e){(function(r,i){t.exports=i(Si())})(zr,function(r){return function(i){var n=r,a=n.lib,s=a.WordArray,o=a.Hasher,l=n.algo,u=[];(function(){for(var f=0;f<64;f++)u[f]=i.abs(i.sin(f+1))*4294967296|0})();var c=l.MD5=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(f,v){for(var y=0;y<16;y++){var x=v+y,g=f[x];f[x]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var b=this._hash.words,k=f[v+0],w=f[v+1],N=f[v+2],A=f[v+3],$=f[v+4],D=f[v+5],_=f[v+6],T=f[v+7],z=f[v+8],P=f[v+9],q=f[v+10],L=f[v+11],Z=f[v+12],W=f[v+13],Y=f[v+14],ie=f[v+15],re=b[0],R=b[1],X=b[2],E=b[3];re=h(re,R,X,E,k,7,u[0]),E=h(E,re,R,X,w,12,u[1]),X=h(X,E,re,R,N,17,u[2]),R=h(R,X,E,re,A,22,u[3]),re=h(re,R,X,E,$,7,u[4]),E=h(E,re,R,X,D,12,u[5]),X=h(X,E,re,R,_,17,u[6]),R=h(R,X,E,re,T,22,u[7]),re=h(re,R,X,E,z,7,u[8]),E=h(E,re,R,X,P,12,u[9]),X=h(X,E,re,R,q,17,u[10]),R=h(R,X,E,re,L,22,u[11]),re=h(re,R,X,E,Z,7,u[12]),E=h(E,re,R,X,W,12,u[13]),X=h(X,E,re,R,Y,17,u[14]),R=h(R,X,E,re,ie,22,u[15]),re=p(re,R,X,E,w,5,u[16]),E=p(E,re,R,X,_,9,u[17]),X=p(X,E,re,R,L,14,u[18]),R=p(R,X,E,re,k,20,u[19]),re=p(re,R,X,E,D,5,u[20]),E=p(E,re,R,X,q,9,u[21]),X=p(X,E,re,R,ie,14,u[22]),R=p(R,X,E,re,$,20,u[23]),re=p(re,R,X,E,P,5,u[24]),E=p(E,re,R,X,Y,9,u[25]),X=p(X,E,re,R,A,14,u[26]),R=p(R,X,E,re,z,20,u[27]),re=p(re,R,X,E,W,5,u[28]),E=p(E,re,R,X,N,9,u[29]),X=p(X,E,re,R,T,14,u[30]),R=p(R,X,E,re,Z,20,u[31]),re=d(re,R,X,E,D,4,u[32]),E=d(E,re,R,X,z,11,u[33]),X=d(X,E,re,R,L,16,u[34]),R=d(R,X,E,re,Y,23,u[35]),re=d(re,R,X,E,w,4,u[36]),E=d(E,re,R,X,$,11,u[37]),X=d(X,E,re,R,T,16,u[38]),R=d(R,X,E,re,q,23,u[39]),re=d(re,R,X,E,W,4,u[40]),E=d(E,re,R,X,k,11,u[41]),X=d(X,E,re,R,A,16,u[42]),R=d(R,X,E,re,_,23,u[43]),re=d(re,R,X,E,P,4,u[44]),E=d(E,re,R,X,Z,11,u[45]),X=d(X,E,re,R,ie,16,u[46]),R=d(R,X,E,re,N,23,u[47]),re=m(re,R,X,E,k,6,u[48]),E=m(E,re,R,X,T,10,u[49]),X=m(X,E,re,R,Y,15,u[50]),R=m(R,X,E,re,D,21,u[51]),re=m(re,R,X,E,Z,6,u[52]),E=m(E,re,R,X,A,10,u[53]),X=m(X,E,re,R,q,15,u[54]),R=m(R,X,E,re,w,21,u[55]),re=m(re,R,X,E,z,6,u[56]),E=m(E,re,R,X,ie,10,u[57]),X=m(X,E,re,R,_,15,u[58]),R=m(R,X,E,re,W,21,u[59]),re=m(re,R,X,E,$,6,u[60]),E=m(E,re,R,X,L,10,u[61]),X=m(X,E,re,R,N,15,u[62]),R=m(R,X,E,re,P,21,u[63]),b[0]=b[0]+re|0,b[1]=b[1]+R|0,b[2]=b[2]+X|0,b[3]=b[3]+E|0},_doFinalize:function(){var f=this._data,v=f.words,y=this._nDataBytes*8,x=f.sigBytes*8;v[x>>>5]|=128<<24-x%32;var g=i.floor(y/4294967296),b=y;v[(x+64>>>9<<4)+15]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,v[(x+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,f.sigBytes=(v.length+1)*4,this._process();for(var k=this._hash,w=k.words,N=0;N<4;N++){var A=w[N];w[N]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return k},clone:function(){var f=o.clone.call(this);return f._hash=this._hash.clone(),f}});function h(f,v,y,x,g,b,k){var w=f+(v&y|~v&x)+g+k;return(w<<b|w>>>32-b)+v}function p(f,v,y,x,g,b,k){var w=f+(v&x|y&~x)+g+k;return(w<<b|w>>>32-b)+v}function d(f,v,y,x,g,b,k){var w=f+(v^y^x)+g+k;return(w<<b|w>>>32-b)+v}function m(f,v,y,x,g,b,k){var w=f+(y^(v|~x))+g+k;return(w<<b|w>>>32-b)+v}n.MD5=o._createHelper(c),n.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5})}(kx)),kx.exports}var Cx={exports:{}},GT;function ZT(){return GT||(GT=1,function(t,e){(function(r,i){t.exports=i(Si())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.WordArray,s=n.Hasher,o=i.algo,l=[],u=o.SHA1=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,h){for(var p=this._hash.words,d=p[0],m=p[1],f=p[2],v=p[3],y=p[4],x=0;x<80;x++){if(x<16)l[x]=c[h+x]|0;else{var g=l[x-3]^l[x-8]^l[x-14]^l[x-16];l[x]=g<<1|g>>>31}var b=(d<<5|d>>>27)+y+l[x];x<20?b+=(m&f|~m&v)+1518500249:x<40?b+=(m^f^v)+1859775393:x<60?b+=(m&f|m&v|f&v)-1894007588:b+=(m^f^v)-899497514,y=v,v=f,f=m<<30|m>>>2,m=d,d=b}p[0]=p[0]+d|0,p[1]=p[1]+m|0,p[2]=p[2]+f|0,p[3]=p[3]+v|0,p[4]=p[4]+y|0},_doFinalize:function(){var c=this._data,h=c.words,p=this._nDataBytes*8,d=c.sigBytes*8;return h[d>>>5]|=128<<24-d%32,h[(d+64>>>9<<4)+14]=Math.floor(p/4294967296),h[(d+64>>>9<<4)+15]=p,c.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});i.SHA1=s._createHelper(u),i.HmacSHA1=s._createHmacHelper(u)}(),r.SHA1})}(Cx)),Cx.exports}var Nx={exports:{}},HT;function Sx(){return HT||(HT=1,function(t,e){(function(r,i){t.exports=i(Si())})(zr,function(r){return function(i){var n=r,a=n.lib,s=a.WordArray,o=a.Hasher,l=n.algo,u=[],c=[];(function(){function d(y){for(var x=i.sqrt(y),g=2;g<=x;g++)if(!(y%g))return!1;return!0}function m(y){return(y-(y|0))*4294967296|0}for(var f=2,v=0;v<64;)d(f)&&(v<8&&(u[v]=m(i.pow(f,1/2))),c[v]=m(i.pow(f,1/3)),v++),f++})();var h=[],p=l.SHA256=o.extend({_doReset:function(){this._hash=new s.init(u.slice(0))},_doProcessBlock:function(d,m){for(var f=this._hash.words,v=f[0],y=f[1],x=f[2],g=f[3],b=f[4],k=f[5],w=f[6],N=f[7],A=0;A<64;A++){if(A<16)h[A]=d[m+A]|0;else{var $=h[A-15],D=($<<25|$>>>7)^($<<14|$>>>18)^$>>>3,_=h[A-2],T=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;h[A]=D+h[A-7]+T+h[A-16]}var z=b&k^~b&w,P=v&y^v&x^y&x,q=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),L=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),Z=N+L+z+c[A]+h[A],W=q+P;N=w,w=k,k=b,b=g+Z|0,g=x,x=y,y=v,v=Z+W|0}f[0]=f[0]+v|0,f[1]=f[1]+y|0,f[2]=f[2]+x|0,f[3]=f[3]+g|0,f[4]=f[4]+b|0,f[5]=f[5]+k|0,f[6]=f[6]+w|0,f[7]=f[7]+N|0},_doFinalize:function(){var d=this._data,m=d.words,f=this._nDataBytes*8,v=d.sigBytes*8;return m[v>>>5]|=128<<24-v%32,m[(v+64>>>9<<4)+14]=i.floor(f/4294967296),m[(v+64>>>9<<4)+15]=f,d.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA256=o._createHelper(p),n.HmacSHA256=o._createHmacHelper(p)}(Math),r.SHA256})}(Nx)),Nx.exports}var Dx={exports:{}},WT;function m3e(){return WT||(WT=1,function(t,e){(function(r,i,n){t.exports=i(Si(),Sx())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.WordArray,s=i.algo,o=s.SHA256,l=s.SHA224=o.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=o._doFinalize.call(this);return u.sigBytes-=4,u}});i.SHA224=o._createHelper(l),i.HmacSHA224=o._createHmacHelper(l)}(),r.SHA224})}(Dx)),Dx.exports}var Ax={exports:{}},YT;function KT(){return YT||(YT=1,function(t,e){(function(r,i,n){t.exports=i(Si(),I4())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.Hasher,s=i.x64,o=s.Word,l=s.WordArray,u=i.algo;function c(){return o.create.apply(o,arguments)}var h=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],p=[];(function(){for(var m=0;m<80;m++)p[m]=c()})();var d=u.SHA512=a.extend({_doReset:function(){this._hash=new l.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(m,f){for(var v=this._hash.words,y=v[0],x=v[1],g=v[2],b=v[3],k=v[4],w=v[5],N=v[6],A=v[7],$=y.high,D=y.low,_=x.high,T=x.low,z=g.high,P=g.low,q=b.high,L=b.low,Z=k.high,W=k.low,Y=w.high,ie=w.low,re=N.high,R=N.low,X=A.high,E=A.low,oe=$,le=D,ne=_,H=T,ue=z,ae=P,$e=q,Ne=L,ze=Z,Te=W,Qe=Y,nt=ie,rt=re,Ue=R,lt=X,J=E,me=0;me<80;me++){var Oe,te,fe=p[me];if(me<16)te=fe.high=m[f+me*2]|0,Oe=fe.low=m[f+me*2+1]|0;else{var xe=p[me-15],Ee=xe.high,Me=xe.low,Le=(Ee>>>1|Me<<31)^(Ee>>>8|Me<<24)^Ee>>>7,st=(Me>>>1|Ee<<31)^(Me>>>8|Ee<<24)^(Me>>>7|Ee<<25),mt=p[me-2],ft=mt.high,Pe=mt.low,We=(ft>>>19|Pe<<13)^(ft<<3|Pe>>>29)^ft>>>6,ot=(Pe>>>19|ft<<13)^(Pe<<3|ft>>>29)^(Pe>>>6|ft<<26),jt=p[me-7],Er=jt.high,U=jt.low,Se=p[me-16],Ke=Se.high,gt=Se.low;Oe=st+U,te=Le+Er+(Oe>>>0<st>>>0?1:0),Oe=Oe+ot,te=te+We+(Oe>>>0<ot>>>0?1:0),Oe=Oe+gt,te=te+Ke+(Oe>>>0<gt>>>0?1:0),fe.high=te,fe.low=Oe}var ar=ze&Qe^~ze&rt,vr=Te&nt^~Te&Ue,Ii=oe&ne^oe&ue^ne&ue,un=le&H^le&ae^H&ae,An=(oe>>>28|le<<4)^(oe<<30|le>>>2)^(oe<<25|le>>>7),oa=(le>>>28|oe<<4)^(le<<30|oe>>>2)^(le<<25|oe>>>7),Bt=(ze>>>14|Te<<18)^(ze>>>18|Te<<14)^(ze<<23|Te>>>9),wr=(Te>>>14|ze<<18)^(Te>>>18|ze<<14)^(Te<<23|ze>>>9),tr=h[me],Di=tr.high,la=tr.low,Mr=J+wr,O=lt+Bt+(Mr>>>0<J>>>0?1:0),Mr=Mr+vr,O=O+ar+(Mr>>>0<vr>>>0?1:0),Mr=Mr+la,O=O+Di+(Mr>>>0<la>>>0?1:0),Mr=Mr+Oe,O=O+te+(Mr>>>0<Oe>>>0?1:0),j=oa+un,at=An+Ii+(j>>>0<oa>>>0?1:0);lt=rt,J=Ue,rt=Qe,Ue=nt,Qe=ze,nt=Te,Te=Ne+Mr|0,ze=$e+O+(Te>>>0<Ne>>>0?1:0)|0,$e=ue,Ne=ae,ue=ne,ae=H,ne=oe,H=le,le=Mr+j|0,oe=O+at+(le>>>0<Mr>>>0?1:0)|0}D=y.low=D+le,y.high=$+oe+(D>>>0<le>>>0?1:0),T=x.low=T+H,x.high=_+ne+(T>>>0<H>>>0?1:0),P=g.low=P+ae,g.high=z+ue+(P>>>0<ae>>>0?1:0),L=b.low=L+Ne,b.high=q+$e+(L>>>0<Ne>>>0?1:0),W=k.low=W+Te,k.high=Z+ze+(W>>>0<Te>>>0?1:0),ie=w.low=ie+nt,w.high=Y+Qe+(ie>>>0<nt>>>0?1:0),R=N.low=R+Ue,N.high=re+rt+(R>>>0<Ue>>>0?1:0),E=A.low=E+J,A.high=X+lt+(E>>>0<J>>>0?1:0)},_doFinalize:function(){var m=this._data,f=m.words,v=this._nDataBytes*8,y=m.sigBytes*8;f[y>>>5]|=128<<24-y%32,f[(y+128>>>10<<5)+30]=Math.floor(v/4294967296),f[(y+128>>>10<<5)+31]=v,m.sigBytes=f.length*4,this._process();var x=this._hash.toX32();return x},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});i.SHA512=a._createHelper(d),i.HmacSHA512=a._createHmacHelper(d)}(),r.SHA512})}(Ax)),Ax.exports}var $x={exports:{}},XT;function f3e(){return XT||(XT=1,function(t,e){(function(r,i,n){t.exports=i(Si(),I4(),KT())})(zr,function(r){return function(){var i=r,n=i.x64,a=n.Word,s=n.WordArray,o=i.algo,l=o.SHA512,u=o.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});i.SHA384=l._createHelper(u),i.HmacSHA384=l._createHmacHelper(u)}(),r.SHA384})}($x)),$x.exports}var _x={exports:{}},QT;function g3e(){return QT||(QT=1,function(t,e){(function(r,i,n){t.exports=i(Si(),I4())})(zr,function(r){return function(i){var n=r,a=n.lib,s=a.WordArray,o=a.Hasher,l=n.x64,u=l.Word,c=n.algo,h=[],p=[],d=[];(function(){for(var v=1,y=0,x=0;x<24;x++){h[v+5*y]=(x+1)*(x+2)/2%64;var g=y%5,b=(2*v+3*y)%5;v=g,y=b}for(var v=0;v<5;v++)for(var y=0;y<5;y++)p[v+5*y]=y+(2*v+3*y)%5*5;for(var k=1,w=0;w<24;w++){for(var N=0,A=0,$=0;$<7;$++){if(k&1){var D=(1<<$)-1;D<32?A^=1<<D:N^=1<<D-32}k&128?k=k<<1^113:k<<=1}d[w]=u.create(N,A)}})();var m=[];(function(){for(var v=0;v<25;v++)m[v]=u.create()})();var f=c.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],y=0;y<25;y++)v[y]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,y){for(var x=this._state,g=this.blockSize/2,b=0;b<g;b++){var k=v[y+2*b],w=v[y+2*b+1];k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360;var N=x[b];N.high^=w,N.low^=k}for(var A=0;A<24;A++){for(var $=0;$<5;$++){for(var D=0,_=0,T=0;T<5;T++){var N=x[$+5*T];D^=N.high,_^=N.low}var z=m[$];z.high=D,z.low=_}for(var $=0;$<5;$++)for(var P=m[($+4)%5],q=m[($+1)%5],L=q.high,Z=q.low,D=P.high^(L<<1|Z>>>31),_=P.low^(Z<<1|L>>>31),T=0;T<5;T++){var N=x[$+5*T];N.high^=D,N.low^=_}for(var W=1;W<25;W++){var D,_,N=x[W],Y=N.high,ie=N.low,re=h[W];re<32?(D=Y<<re|ie>>>32-re,_=ie<<re|Y>>>32-re):(D=ie<<re-32|Y>>>64-re,_=Y<<re-32|ie>>>64-re);var R=m[p[W]];R.high=D,R.low=_}var X=m[0],E=x[0];X.high=E.high,X.low=E.low;for(var $=0;$<5;$++)for(var T=0;T<5;T++){var W=$+5*T,N=x[W],oe=m[W],le=m[($+1)%5+5*T],ne=m[($+2)%5+5*T];N.high=oe.high^~le.high&ne.high,N.low=oe.low^~le.low&ne.low}var N=x[0],H=d[A];N.high^=H.high,N.low^=H.low}},_doFinalize:function(){var v=this._data,y=v.words;this._nDataBytes*8;var x=v.sigBytes*8,g=this.blockSize*32;y[x>>>5]|=1<<24-x%32,y[(i.ceil((x+1)/g)*g>>>5)-1]|=128,v.sigBytes=y.length*4,this._process();for(var b=this._state,k=this.cfg.outputLength/8,w=k/8,N=[],A=0;A<w;A++){var $=b[A],D=$.high,_=$.low;D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,N.push(_),N.push(D)}return new s.init(N,k)},clone:function(){for(var v=o.clone.call(this),y=v._state=this._state.slice(0),x=0;x<25;x++)y[x]=y[x].clone();return v}});n.SHA3=o._createHelper(f),n.HmacSHA3=o._createHmacHelper(f)}(Math),r.SHA3})}(_x)),_x.exports}var Ex={exports:{}},JT;function v3e(){return JT||(JT=1,function(t,e){(function(r,i){t.exports=i(Si())})(zr,function(r){/** @preserve
  			(c) 2012 by Cédric Mesnil. All rights reserved.

  			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

  			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

  			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  			*/return function(i){var n=r,a=n.lib,s=a.WordArray,o=a.Hasher,l=n.algo,u=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=s.create([0,1518500249,1859775393,2400959708,2840853838]),m=s.create([1352829926,1548603684,1836072691,2053994217,0]),f=l.RIPEMD160=o.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,N){for(var A=0;A<16;A++){var $=N+A,D=w[$];w[$]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var _=this._hash.words,T=d.words,z=m.words,P=u.words,q=c.words,L=h.words,Z=p.words,W,Y,ie,re,R,X,E,oe,le,ne;X=W=_[0],E=Y=_[1],oe=ie=_[2],le=re=_[3],ne=R=_[4];for(var H,A=0;A<80;A+=1)H=W+w[N+P[A]]|0,A<16?H+=v(Y,ie,re)+T[0]:A<32?H+=y(Y,ie,re)+T[1]:A<48?H+=x(Y,ie,re)+T[2]:A<64?H+=g(Y,ie,re)+T[3]:H+=b(Y,ie,re)+T[4],H=H|0,H=k(H,L[A]),H=H+R|0,W=R,R=re,re=k(ie,10),ie=Y,Y=H,H=X+w[N+q[A]]|0,A<16?H+=b(E,oe,le)+z[0]:A<32?H+=g(E,oe,le)+z[1]:A<48?H+=x(E,oe,le)+z[2]:A<64?H+=y(E,oe,le)+z[3]:H+=v(E,oe,le)+z[4],H=H|0,H=k(H,Z[A]),H=H+ne|0,X=ne,ne=le,le=k(oe,10),oe=E,E=H;H=_[1]+ie+le|0,_[1]=_[2]+re+ne|0,_[2]=_[3]+R+X|0,_[3]=_[4]+W+E|0,_[4]=_[0]+Y+oe|0,_[0]=H},_doFinalize:function(){var w=this._data,N=w.words,A=this._nDataBytes*8,$=w.sigBytes*8;N[$>>>5]|=128<<24-$%32,N[($+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,w.sigBytes=(N.length+1)*4,this._process();for(var D=this._hash,_=D.words,T=0;T<5;T++){var z=_[T];_[T]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}return D},clone:function(){var w=o.clone.call(this);return w._hash=this._hash.clone(),w}});function v(w,N,A){return w^N^A}function y(w,N,A){return w&N|~w&A}function x(w,N,A){return(w|~N)^A}function g(w,N,A){return w&A|N&~A}function b(w,N,A){return w^(N|~A)}function k(w,N){return w<<N|w>>>32-N}n.RIPEMD160=o._createHelper(f),n.HmacRIPEMD160=o._createHmacHelper(f)}(),r.RIPEMD160})}(Ex)),Ex.exports}var Ix={exports:{}},eL;function Tx(){return eL||(eL=1,function(t,e){(function(r,i){t.exports=i(Si())})(zr,function(r){(function(){var i=r,n=i.lib,a=n.Base,s=i.enc,o=s.Utf8,l=i.algo;l.HMAC=a.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=o.parse(c));var h=u.blockSize,p=h*4;c.sigBytes>p&&(c=u.finalize(c)),c.clamp();for(var d=this._oKey=c.clone(),m=this._iKey=c.clone(),f=d.words,v=m.words,y=0;y<h;y++)f[y]^=1549556828,v[y]^=909522486;d.sigBytes=m.sigBytes=p,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,h=c.finalize(u);c.reset();var p=c.finalize(this._oKey.clone().concat(h));return p}})})()})}(Ix)),Ix.exports}var Lx={exports:{}},tL;function y3e(){return tL||(tL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),Sx(),Tx())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.Base,s=n.WordArray,o=i.algo,l=o.SHA256,u=o.HMAC,c=o.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,p){for(var d=this.cfg,m=u.create(d.hasher,h),f=s.create(),v=s.create([1]),y=f.words,x=v.words,g=d.keySize,b=d.iterations;y.length<g;){var k=m.update(p).finalize(v);m.reset();for(var w=k.words,N=w.length,A=k,$=1;$<b;$++){A=m.finalize(A),m.reset();for(var D=A.words,_=0;_<N;_++)w[_]^=D[_]}f.concat(k),x[0]++}return f.sigBytes=g*4,f}});i.PBKDF2=function(h,p,d){return c.create(d).compute(h,p)}}(),r.PBKDF2})}(Lx)),Lx.exports}var zx={exports:{}},rL;function Sc(){return rL||(rL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),ZT(),Tx())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.Base,s=n.WordArray,o=i.algo,l=o.MD5,u=o.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,h){for(var p,d=this.cfg,m=d.hasher.create(),f=s.create(),v=f.words,y=d.keySize,x=d.iterations;v.length<y;){p&&m.update(p),p=m.update(c).finalize(h),m.reset();for(var g=1;g<x;g++)p=m.finalize(p),m.reset();f.concat(p)}return f.sigBytes=y*4,f}});i.EvpKDF=function(c,h,p){return u.create(p).compute(c,h)}}(),r.EvpKDF})}(zx)),zx.exports}var Bx={exports:{}},iL;function is(){return iL||(iL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),Sc())})(zr,function(r){r.lib.Cipher||function(i){var n=r,a=n.lib,s=a.Base,o=a.WordArray,l=a.BufferedBlockAlgorithm,u=n.enc;u.Utf8;var c=u.Base64,h=n.algo,p=h.EvpKDF,d=a.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(D,_){return this.create(this._ENC_XFORM_MODE,D,_)},createDecryptor:function(D,_){return this.create(this._DEC_XFORM_MODE,D,_)},init:function(D,_,T){this.cfg=this.cfg.extend(T),this._xformMode=D,this._key=_,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(D){return this._append(D),this._process()},finalize:function(D){D&&this._append(D);var _=this._doFinalize();return _},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function D(_){return typeof _=="string"?$:w}return function(_){return{encrypt:function(T,z,P){return D(z).encrypt(_,T,z,P)},decrypt:function(T,z,P){return D(z).decrypt(_,T,z,P)}}}}()});a.StreamCipher=d.extend({_doFinalize:function(){var D=this._process(!0);return D},blockSize:1});var m=n.mode={},f=a.BlockCipherMode=s.extend({createEncryptor:function(D,_){return this.Encryptor.create(D,_)},createDecryptor:function(D,_){return this.Decryptor.create(D,_)},init:function(D,_){this._cipher=D,this._iv=_}}),v=m.CBC=function(){var D=f.extend();D.Encryptor=D.extend({processBlock:function(T,z){var P=this._cipher,q=P.blockSize;_.call(this,T,z,q),P.encryptBlock(T,z),this._prevBlock=T.slice(z,z+q)}}),D.Decryptor=D.extend({processBlock:function(T,z){var P=this._cipher,q=P.blockSize,L=T.slice(z,z+q);P.decryptBlock(T,z),_.call(this,T,z,q),this._prevBlock=L}});function _(T,z,P){var q,L=this._iv;L?(q=L,this._iv=i):q=this._prevBlock;for(var Z=0;Z<P;Z++)T[z+Z]^=q[Z]}return D}(),y=n.pad={},x=y.Pkcs7={pad:function(D,_){for(var T=_*4,z=T-D.sigBytes%T,P=z<<24|z<<16|z<<8|z,q=[],L=0;L<z;L+=4)q.push(P);var Z=o.create(q,z);D.concat(Z)},unpad:function(D){var _=D.words[D.sigBytes-1>>>2]&255;D.sigBytes-=_}};a.BlockCipher=d.extend({cfg:d.cfg.extend({mode:v,padding:x}),reset:function(){var D;d.reset.call(this);var _=this.cfg,T=_.iv,z=_.mode;this._xformMode==this._ENC_XFORM_MODE?D=z.createEncryptor:(D=z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==D?this._mode.init(this,T&&T.words):(this._mode=D.call(z,this,T&&T.words),this._mode.__creator=D)},_doProcessBlock:function(D,_){this._mode.processBlock(D,_)},_doFinalize:function(){var D,_=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(_.pad(this._data,this.blockSize),D=this._process(!0)):(D=this._process(!0),_.unpad(D)),D},blockSize:128/32});var g=a.CipherParams=s.extend({init:function(D){this.mixIn(D)},toString:function(D){return(D||this.formatter).stringify(this)}}),b=n.format={},k=b.OpenSSL={stringify:function(D){var _,T=D.ciphertext,z=D.salt;return z?_=o.create([1398893684,1701076831]).concat(z).concat(T):_=T,_.toString(c)},parse:function(D){var _,T=c.parse(D),z=T.words;return z[0]==1398893684&&z[1]==1701076831&&(_=o.create(z.slice(2,4)),z.splice(0,4),T.sigBytes-=16),g.create({ciphertext:T,salt:_})}},w=a.SerializableCipher=s.extend({cfg:s.extend({format:k}),encrypt:function(D,_,T,z){z=this.cfg.extend(z);var P=D.createEncryptor(T,z),q=P.finalize(_),L=P.cfg;return g.create({ciphertext:q,key:T,iv:L.iv,algorithm:D,mode:L.mode,padding:L.padding,blockSize:D.blockSize,formatter:z.format})},decrypt:function(D,_,T,z){z=this.cfg.extend(z),_=this._parse(_,z.format);var P=D.createDecryptor(T,z).finalize(_.ciphertext);return P},_parse:function(D,_){return typeof D=="string"?_.parse(D,this):D}}),N=n.kdf={},A=N.OpenSSL={execute:function(D,_,T,z,P){if(z||(z=o.random(64/8)),P)var q=p.create({keySize:_+T,hasher:P}).compute(D,z);else var q=p.create({keySize:_+T}).compute(D,z);var L=o.create(q.words.slice(_),T*4);return q.sigBytes=_*4,g.create({key:q,iv:L,salt:z})}},$=a.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:A}),encrypt:function(D,_,T,z){z=this.cfg.extend(z);var P=z.kdf.execute(T,D.keySize,D.ivSize,z.salt,z.hasher);z.iv=P.iv;var q=w.encrypt.call(this,D,_,P.key,z);return q.mixIn(P),q},decrypt:function(D,_,T,z){z=this.cfg.extend(z),_=this._parse(_,z.format);var P=z.kdf.execute(T,D.keySize,D.ivSize,_.salt,z.hasher);z.iv=P.iv;var q=w.decrypt.call(this,D,_,P.key,z);return q}})}()})}(Bx)),Bx.exports}var Ox={exports:{}},nL;function b3e(){return nL||(nL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),is())})(zr,function(r){return r.mode.CFB=function(){var i=r.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(a,s){var o=this._cipher,l=o.blockSize;n.call(this,a,s,l,o),this._prevBlock=a.slice(s,s+l)}}),i.Decryptor=i.extend({processBlock:function(a,s){var o=this._cipher,l=o.blockSize,u=a.slice(s,s+l);n.call(this,a,s,l,o),this._prevBlock=u}});function n(a,s,o,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var h=0;h<o;h++)a[s+h]^=u[h]}return i}(),r.mode.CFB})}(Ox)),Ox.exports}var Fx={exports:{}},aL;function x3e(){return aL||(aL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),is())})(zr,function(r){return r.mode.CTR=function(){var i=r.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(a,s){var o=this._cipher,l=o.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var h=c.slice(0);o.encryptBlock(h,0),c[l-1]=c[l-1]+1|0;for(var p=0;p<l;p++)a[s+p]^=h[p]}});return i.Decryptor=n,i}(),r.mode.CTR})}(Fx)),Fx.exports}var Px={exports:{}},sL;function w3e(){return sL||(sL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),is())})(zr,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var i=r.lib.BlockCipherMode.extend();function n(o){if((o>>24&255)===255){var l=o>>16&255,u=o>>8&255,c=o&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,o=0,o+=l<<16,o+=u<<8,o+=c}else o+=1<<24;return o}function a(o){return(o[0]=n(o[0]))===0&&(o[1]=n(o[1])),o}var s=i.Encryptor=i.extend({processBlock:function(o,l){var u=this._cipher,c=u.blockSize,h=this._iv,p=this._counter;h&&(p=this._counter=h.slice(0),this._iv=void 0),a(p);var d=p.slice(0);u.encryptBlock(d,0);for(var m=0;m<c;m++)o[l+m]^=d[m]}});return i.Decryptor=s,i}(),r.mode.CTRGladman})}(Px)),Px.exports}var Rx={exports:{}},oL;function M3e(){return oL||(oL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),is())})(zr,function(r){return r.mode.OFB=function(){var i=r.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(a,s){var o=this._cipher,l=o.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),o.encryptBlock(c,0);for(var h=0;h<l;h++)a[s+h]^=c[h]}});return i.Decryptor=n,i}(),r.mode.OFB})}(Rx)),Rx.exports}var jx={exports:{}},lL;function k3e(){return lL||(lL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),is())})(zr,function(r){return r.mode.ECB=function(){var i=r.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(n,a){this._cipher.encryptBlock(n,a)}}),i.Decryptor=i.extend({processBlock:function(n,a){this._cipher.decryptBlock(n,a)}}),i}(),r.mode.ECB})}(jx)),jx.exports}var qx={exports:{}},uL;function C3e(){return uL||(uL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),is())})(zr,function(r){return r.pad.AnsiX923={pad:function(i,n){var a=i.sigBytes,s=n*4,o=s-a%s,l=a+o-1;i.clamp(),i.words[l>>>2]|=o<<24-l%4*8,i.sigBytes+=o},unpad:function(i){var n=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=n}},r.pad.Ansix923})}(qx)),qx.exports}var Ux={exports:{}},cL;function N3e(){return cL||(cL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),is())})(zr,function(r){return r.pad.Iso10126={pad:function(i,n){var a=n*4,s=a-i.sigBytes%a;i.concat(r.lib.WordArray.random(s-1)).concat(r.lib.WordArray.create([s<<24],1))},unpad:function(i){var n=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=n}},r.pad.Iso10126})}(Ux)),Ux.exports}var Vx={exports:{}},hL;function S3e(){return hL||(hL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),is())})(zr,function(r){return r.pad.Iso97971={pad:function(i,n){i.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(i,n)},unpad:function(i){r.pad.ZeroPadding.unpad(i),i.sigBytes--}},r.pad.Iso97971})}(Vx)),Vx.exports}var Gx={exports:{}},pL;function D3e(){return pL||(pL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),is())})(zr,function(r){return r.pad.ZeroPadding={pad:function(i,n){var a=n*4;i.clamp(),i.sigBytes+=a-(i.sigBytes%a||a)},unpad:function(i){for(var n=i.words,a=i.sigBytes-1,a=i.sigBytes-1;a>=0;a--)if(n[a>>>2]>>>24-a%4*8&255){i.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(Gx)),Gx.exports}var Zx={exports:{}},dL;function A3e(){return dL||(dL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),is())})(zr,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Zx)),Zx.exports}var Hx={exports:{}},mL;function $3e(){return mL||(mL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),is())})(zr,function(r){return function(i){var n=r,a=n.lib,s=a.CipherParams,o=n.enc,l=o.Hex,u=n.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var h=l.parse(c);return s.create({ciphertext:h})}}}(),r.format.Hex})}(Hx)),Hx.exports}var Wx={exports:{}},fL;function _3e(){return fL||(fL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),r1(),i1(),Sc(),is())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.BlockCipher,s=i.algo,o=[],l=[],u=[],c=[],h=[],p=[],d=[],m=[],f=[],v=[];(function(){for(var g=[],b=0;b<256;b++)b<128?g[b]=b<<1:g[b]=b<<1^283;for(var k=0,w=0,b=0;b<256;b++){var N=w^w<<1^w<<2^w<<3^w<<4;N=N>>>8^N&255^99,o[k]=N,l[N]=k;var A=g[k],$=g[A],D=g[$],_=g[N]*257^N*16843008;u[k]=_<<24|_>>>8,c[k]=_<<16|_>>>16,h[k]=_<<8|_>>>24,p[k]=_;var _=D*16843009^$*65537^A*257^k*16843008;d[N]=_<<24|_>>>8,m[N]=_<<16|_>>>16,f[N]=_<<8|_>>>24,v[N]=_,k?(k=A^g[g[g[D^A]]],w^=g[g[w]]):k=w=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],x=s.AES=a.extend({_doReset:function(){var g;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,k=b.words,w=b.sigBytes/4,N=this._nRounds=w+6,A=(N+1)*4,$=this._keySchedule=[],D=0;D<A;D++)D<w?$[D]=k[D]:(g=$[D-1],D%w?w>6&&D%w==4&&(g=o[g>>>24]<<24|o[g>>>16&255]<<16|o[g>>>8&255]<<8|o[g&255]):(g=g<<8|g>>>24,g=o[g>>>24]<<24|o[g>>>16&255]<<16|o[g>>>8&255]<<8|o[g&255],g^=y[D/w|0]<<24),$[D]=$[D-w]^g);for(var _=this._invKeySchedule=[],T=0;T<A;T++){var D=A-T;if(T%4)var g=$[D];else var g=$[D-4];T<4||D<=4?_[T]=g:_[T]=d[o[g>>>24]]^m[o[g>>>16&255]]^f[o[g>>>8&255]]^v[o[g&255]]}}},encryptBlock:function(g,b){this._doCryptBlock(g,b,this._keySchedule,u,c,h,p,o)},decryptBlock:function(g,b){var k=g[b+1];g[b+1]=g[b+3],g[b+3]=k,this._doCryptBlock(g,b,this._invKeySchedule,d,m,f,v,l);var k=g[b+1];g[b+1]=g[b+3],g[b+3]=k},_doCryptBlock:function(g,b,k,w,N,A,$,D){for(var _=this._nRounds,T=g[b]^k[0],z=g[b+1]^k[1],P=g[b+2]^k[2],q=g[b+3]^k[3],L=4,Z=1;Z<_;Z++){var W=w[T>>>24]^N[z>>>16&255]^A[P>>>8&255]^$[q&255]^k[L++],Y=w[z>>>24]^N[P>>>16&255]^A[q>>>8&255]^$[T&255]^k[L++],ie=w[P>>>24]^N[q>>>16&255]^A[T>>>8&255]^$[z&255]^k[L++],re=w[q>>>24]^N[T>>>16&255]^A[z>>>8&255]^$[P&255]^k[L++];T=W,z=Y,P=ie,q=re}var W=(D[T>>>24]<<24|D[z>>>16&255]<<16|D[P>>>8&255]<<8|D[q&255])^k[L++],Y=(D[z>>>24]<<24|D[P>>>16&255]<<16|D[q>>>8&255]<<8|D[T&255])^k[L++],ie=(D[P>>>24]<<24|D[q>>>16&255]<<16|D[T>>>8&255]<<8|D[z&255])^k[L++],re=(D[q>>>24]<<24|D[T>>>16&255]<<16|D[z>>>8&255]<<8|D[P&255])^k[L++];g[b]=W,g[b+1]=Y,g[b+2]=ie,g[b+3]=re},keySize:256/32});i.AES=a._createHelper(x)}(),r.AES})}(Wx)),Wx.exports}var Yx={exports:{}},gL;function E3e(){return gL||(gL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),r1(),i1(),Sc(),is())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.WordArray,s=n.BlockCipher,o=i.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=s.extend({_doReset:function(){for(var y=this._key,x=y.words,g=[],b=0;b<56;b++){var k=l[b]-1;g[b]=x[k>>>5]>>>31-k%32&1}for(var w=this._subKeys=[],N=0;N<16;N++){for(var A=w[N]=[],$=c[N],b=0;b<24;b++)A[b/6|0]|=g[(u[b]-1+$)%28]<<31-b%6,A[4+(b/6|0)]|=g[28+(u[b+24]-1+$)%28]<<31-b%6;A[0]=A[0]<<1|A[0]>>>31;for(var b=1;b<7;b++)A[b]=A[b]>>>(b-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var D=this._invSubKeys=[],b=0;b<16;b++)D[b]=w[15-b]},encryptBlock:function(y,x){this._doCryptBlock(y,x,this._subKeys)},decryptBlock:function(y,x){this._doCryptBlock(y,x,this._invSubKeys)},_doCryptBlock:function(y,x,g){this._lBlock=y[x],this._rBlock=y[x+1],m.call(this,4,252645135),m.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),m.call(this,1,1431655765);for(var b=0;b<16;b++){for(var k=g[b],w=this._lBlock,N=this._rBlock,A=0,$=0;$<8;$++)A|=h[$][((N^k[$])&p[$])>>>0];this._lBlock=N,this._rBlock=w^A}var D=this._lBlock;this._lBlock=this._rBlock,this._rBlock=D,m.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),y[x]=this._lBlock,y[x+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(y,x){var g=(this._lBlock>>>y^this._rBlock)&x;this._rBlock^=g,this._lBlock^=g<<y}function f(y,x){var g=(this._rBlock>>>y^this._lBlock)&x;this._lBlock^=g,this._rBlock^=g<<y}i.DES=s._createHelper(d);var v=o.TripleDES=s.extend({_doReset:function(){var y=this._key,x=y.words;if(x.length!==2&&x.length!==4&&x.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var g=x.slice(0,2),b=x.length<4?x.slice(0,2):x.slice(2,4),k=x.length<6?x.slice(0,2):x.slice(4,6);this._des1=d.createEncryptor(a.create(g)),this._des2=d.createEncryptor(a.create(b)),this._des3=d.createEncryptor(a.create(k))},encryptBlock:function(y,x){this._des1.encryptBlock(y,x),this._des2.decryptBlock(y,x),this._des3.encryptBlock(y,x)},decryptBlock:function(y,x){this._des3.decryptBlock(y,x),this._des2.encryptBlock(y,x),this._des1.decryptBlock(y,x)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=s._createHelper(v)}(),r.TripleDES})}(Yx)),Yx.exports}var Kx={exports:{}},vL;function I3e(){return vL||(vL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),r1(),i1(),Sc(),is())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.StreamCipher,s=i.algo,o=s.RC4=a.extend({_doReset:function(){for(var c=this._key,h=c.words,p=c.sigBytes,d=this._S=[],m=0;m<256;m++)d[m]=m;for(var m=0,f=0;m<256;m++){var v=m%p,y=h[v>>>2]>>>24-v%4*8&255;f=(f+d[m]+y)%256;var x=d[m];d[m]=d[f],d[f]=x}this._i=this._j=0},_doProcessBlock:function(c,h){c[h]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,h=this._i,p=this._j,d=0,m=0;m<4;m++){h=(h+1)%256,p=(p+c[h])%256;var f=c[h];c[h]=c[p],c[p]=f,d|=c[(c[h]+c[p])%256]<<24-m*8}return this._i=h,this._j=p,d}i.RC4=a._createHelper(o);var u=s.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});i.RC4Drop=a._createHelper(u)}(),r.RC4})}(Kx)),Kx.exports}var Xx={exports:{}},yL;function T3e(){return yL||(yL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),r1(),i1(),Sc(),is())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.StreamCipher,s=i.algo,o=[],l=[],u=[],c=s.Rabbit=a.extend({_doReset:function(){for(var p=this._key.words,d=this.cfg.iv,m=0;m<4;m++)p[m]=(p[m]<<8|p[m]>>>24)&16711935|(p[m]<<24|p[m]>>>8)&4278255360;var f=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],v=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var m=0;m<4;m++)h.call(this);for(var m=0;m<8;m++)v[m]^=f[m+4&7];if(d){var y=d.words,x=y[0],g=y[1],b=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,k=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,w=b>>>16|k&4294901760,N=k<<16|b&65535;v[0]^=b,v[1]^=w,v[2]^=k,v[3]^=N,v[4]^=b,v[5]^=w,v[6]^=k,v[7]^=N;for(var m=0;m<4;m++)h.call(this)}},_doProcessBlock:function(p,d){var m=this._X;h.call(this),o[0]=m[0]^m[5]>>>16^m[3]<<16,o[1]=m[2]^m[7]>>>16^m[5]<<16,o[2]=m[4]^m[1]>>>16^m[7]<<16,o[3]=m[6]^m[3]>>>16^m[1]<<16;for(var f=0;f<4;f++)o[f]=(o[f]<<8|o[f]>>>24)&16711935|(o[f]<<24|o[f]>>>8)&4278255360,p[d+f]^=o[f]},blockSize:128/32,ivSize:64/32});function h(){for(var p=this._X,d=this._C,m=0;m<8;m++)l[m]=d[m];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var m=0;m<8;m++){var f=p[m]+d[m],v=f&65535,y=f>>>16,x=((v*v>>>17)+v*y>>>15)+y*y,g=((f&4294901760)*f|0)+((f&65535)*f|0);u[m]=x^g}p[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,p[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,p[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,p[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,p[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,p[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,p[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,p[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}i.Rabbit=a._createHelper(c)}(),r.Rabbit})}(Xx)),Xx.exports}var Qx={exports:{}},bL;function L3e(){return bL||(bL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),r1(),i1(),Sc(),is())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.StreamCipher,s=i.algo,o=[],l=[],u=[],c=s.RabbitLegacy=a.extend({_doReset:function(){var p=this._key.words,d=this.cfg.iv,m=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],f=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var v=0;v<4;v++)h.call(this);for(var v=0;v<8;v++)f[v]^=m[v+4&7];if(d){var y=d.words,x=y[0],g=y[1],b=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,k=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,w=b>>>16|k&4294901760,N=k<<16|b&65535;f[0]^=b,f[1]^=w,f[2]^=k,f[3]^=N,f[4]^=b,f[5]^=w,f[6]^=k,f[7]^=N;for(var v=0;v<4;v++)h.call(this)}},_doProcessBlock:function(p,d){var m=this._X;h.call(this),o[0]=m[0]^m[5]>>>16^m[3]<<16,o[1]=m[2]^m[7]>>>16^m[5]<<16,o[2]=m[4]^m[1]>>>16^m[7]<<16,o[3]=m[6]^m[3]>>>16^m[1]<<16;for(var f=0;f<4;f++)o[f]=(o[f]<<8|o[f]>>>24)&16711935|(o[f]<<24|o[f]>>>8)&4278255360,p[d+f]^=o[f]},blockSize:128/32,ivSize:64/32});function h(){for(var p=this._X,d=this._C,m=0;m<8;m++)l[m]=d[m];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var m=0;m<8;m++){var f=p[m]+d[m],v=f&65535,y=f>>>16,x=((v*v>>>17)+v*y>>>15)+y*y,g=((f&4294901760)*f|0)+((f&65535)*f|0);u[m]=x^g}p[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,p[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,p[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,p[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,p[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,p[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,p[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,p[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}i.RabbitLegacy=a._createHelper(c)}(),r.RabbitLegacy})}(Qx)),Qx.exports}var Jx={exports:{}},xL;function z3e(){return xL||(xL=1,function(t,e){(function(r,i,n){t.exports=i(Si(),r1(),i1(),Sc(),is())})(zr,function(r){return function(){var i=r,n=i.lib,a=n.BlockCipher,s=i.algo;const o=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function h(v,y){let x=y>>24&255,g=y>>16&255,b=y>>8&255,k=y&255,w=v.sbox[0][x]+v.sbox[1][g];return w=w^v.sbox[2][b],w=w+v.sbox[3][k],w}function p(v,y,x){let g=y,b=x,k;for(let w=0;w<o;++w)g=g^v.pbox[w],b=h(v,g)^b,k=g,g=b,b=k;return k=g,g=b,b=k,b=b^v.pbox[o],g=g^v.pbox[o+1],{left:g,right:b}}function d(v,y,x){let g=y,b=x,k;for(let w=o+1;w>1;--w)g=g^v.pbox[w],b=h(v,g)^b,k=g,g=b,b=k;return k=g,g=b,b=k,b=b^v.pbox[1],g=g^v.pbox[0],{left:g,right:b}}function m(v,y,x){for(let N=0;N<4;N++){v.sbox[N]=[];for(let A=0;A<256;A++)v.sbox[N][A]=u[N][A]}let g=0;for(let N=0;N<o+2;N++)v.pbox[N]=l[N]^y[g],g++,g>=x&&(g=0);let b=0,k=0,w=0;for(let N=0;N<o+2;N+=2)w=p(v,b,k),b=w.left,k=w.right,v.pbox[N]=b,v.pbox[N+1]=k;for(let N=0;N<4;N++)for(let A=0;A<256;A+=2)w=p(v,b,k),b=w.left,k=w.right,v.sbox[N][A]=b,v.sbox[N][A+1]=k;return!0}var f=s.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,y=v.words,x=v.sigBytes/4;m(c,y,x)}},encryptBlock:function(v,y){var x=p(c,v[y],v[y+1]);v[y]=x.left,v[y+1]=x.right},decryptBlock:function(v,y){var x=d(c,v[y],v[y+1]);v[y]=x.left,v[y+1]=x.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=a._createHelper(f)}(),r.Blowfish})}(Jx)),Jx.exports}(function(t,e){(function(r,i,n){t.exports=i(Si(),I4(),h3e(),p3e(),r1(),d3e(),i1(),ZT(),Sx(),m3e(),KT(),f3e(),g3e(),v3e(),Tx(),y3e(),Sc(),is(),b3e(),x3e(),w3e(),M3e(),k3e(),C3e(),N3e(),S3e(),D3e(),A3e(),$3e(),_3e(),E3e(),I3e(),T3e(),L3e(),z3e())})(zr,function(r){return r})})(OT);var B3e=OT.exports;const wL=Eh(B3e);class wo{constructor(e,r,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=i}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new wo(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class Po{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new Po(r,wo.range(this,e))}}class $t{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+e,n,a,s=r&&r.loc;if(s&&s.start<=s.end){var o=s.lexer.input;n=s.start,a=s.end,n===o.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var l=o.slice(n,a).replace(/[^]/g,"$&̲"),u;n>15?u="…"+o.slice(n-15,n):u=o.slice(0,n);var c;a+15<o.length?c=o.slice(a,a+15)+"…":c=o.slice(a),i+=u+l+c}var h=new Error(i);return h.name="ParseError",h.__proto__=$t.prototype,h.position=n,n!=null&&a!=null&&(h.length=a-n),h.rawMessage=e,h}}$t.prototype.__proto__=Error.prototype;var O3e=function(e,r){return e===void 0?r:e},F3e=/([A-Z])/g,P3e=function(e){return e.replace(F3e,"-$1").toLowerCase()},R3e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},j3e=/[&><"']/g;function q3e(t){return String(t).replace(j3e,e=>R3e[e])}var ML=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},U3e=function(e){var r=ML(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},V3e=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},G3e=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},ji={deflt:O3e,escape:q3e,hyphenate:P3e,getBaseElem:ML,isCharacterBox:U3e,protocolFromUrl:G3e},T4={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Z3e(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class e8{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in T4)if(T4.hasOwnProperty(r)){var i=T4[r];this[r]=e[r]!==void 0?i.processor?i.processor(e[r]):e[r]:Z3e(i)}}reportNonstrict(e,r,i){var n=this.strict;if(typeof n=="function"&&(n=n(e,r,i)),!(!n||n==="ignore")){if(n===!0||n==="error")throw new $t("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),i);n==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,i){var n=this.strict;if(typeof n=="function")try{n=n(e,r,i)}catch{n="error"}return!n||n==="ignore"?!1:n===!0||n==="error"?!0:n==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=ji.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var i=typeof this.trust=="function"?this.trust(e):this.trust;return!!i}}class Dc{constructor(e,r,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=i}sup(){return k0[H3e[this.id]]}sub(){return k0[W3e[this.id]]}fracNum(){return k0[Y3e[this.id]]}fracDen(){return k0[K3e[this.id]]}cramp(){return k0[X3e[this.id]]}text(){return k0[Q3e[this.id]]}isTight(){return this.size>=2}}var t8=0,L4=1,Up=2,gu=3,Xm=4,vl=5,Vp=6,io=7,k0=[new Dc(t8,0,!1),new Dc(L4,0,!0),new Dc(Up,1,!1),new Dc(gu,1,!0),new Dc(Xm,2,!1),new Dc(vl,2,!0),new Dc(Vp,3,!1),new Dc(io,3,!0)],H3e=[Xm,vl,Xm,vl,Vp,io,Vp,io],W3e=[vl,vl,vl,vl,io,io,io,io],Y3e=[Up,gu,Xm,vl,Vp,io,Vp,io],K3e=[gu,gu,vl,vl,io,io,io,io],X3e=[L4,L4,gu,gu,vl,vl,io,io],Q3e=[t8,L4,Up,gu,Up,gu,Up,gu],Nr={DISPLAY:k0[t8],TEXT:k0[Up],SCRIPT:k0[Xm],SCRIPTSCRIPT:k0[Vp]},r8=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function J3e(t){for(var e=0;e<r8.length;e++)for(var r=r8[e],i=0;i<r.blocks.length;i++){var n=r.blocks[i];if(t>=n[0]&&t<=n[1])return r.name}return null}var z4=[];r8.forEach(t=>t.blocks.forEach(e=>z4.push(...e)));function kL(t){for(var e=0;e<z4.length;e+=2)if(t>=z4[e]&&t<=z4[e+1])return!0;return!1}var Gp=80,e5e=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},t5e=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},r5e=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},i5e=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},n5e=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},a5e=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},s5e=function(e,r,i){var n=i-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+n+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},o5e=function(e,r,i){r=1e3*r;var n="";switch(e){case"sqrtMain":n=e5e(r,Gp);break;case"sqrtSize1":n=t5e(r,Gp);break;case"sqrtSize2":n=r5e(r,Gp);break;case"sqrtSize3":n=i5e(r,Gp);break;case"sqrtSize4":n=n5e(r,Gp);break;case"sqrtTall":n=s5e(r,Gp,i)}return n},l5e=function(e,r){switch(e){case"⎜":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"∣":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"∥":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"⎟":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"⎢":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"⎥":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"⎪":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"⏐":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"‖":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},CL={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},u5e=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Qm{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var C0={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},B4={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},NL={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function c5e(t,e){C0[t]=e}function i8(t,e,r){if(!C0[e])throw new Error("Font metrics not found for font: "+e+".");var i=t.charCodeAt(0),n=C0[e][i];if(!n&&t[0]in NL&&(i=NL[t[0]].charCodeAt(0),n=C0[e][i]),!n&&r==="text"&&kL(i)&&(n=C0[e][77]),n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}var n8={};function h5e(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!n8[e]){var r=n8[e]={cssEmPerMu:B4.quad[e]/18};for(var i in B4)B4.hasOwnProperty(i)&&(r[i]=B4[i][e])}return n8[e]}var p5e=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],SL=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],DL=function(e,r){return r.size<2?e:p5e[e-1][r.size-1]};class vu{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||vu.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=SL[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return new vu(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:DL(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:SL[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=DL(vu.BASESIZE,e);return this.size===r&&this.textSize===vu.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==vu.BASESIZE?["sizing","reset-size"+this.size,"size"+vu.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=h5e(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}vu.BASESIZE=6;var a8={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},d5e={ex:!0,em:!0,mu:!0},AL=function(e){return typeof e!="string"&&(e=e.unit),e in a8||e in d5e||e==="ex"},jn=function(e,r){var i;if(e.unit in a8)i=a8[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")i=r.fontMetrics().cssEmPerMu;else{var n;if(r.style.isTight()?n=r.havingStyle(r.style.text()):n=r,e.unit==="ex")i=n.fontMetrics().xHeight;else if(e.unit==="em")i=n.fontMetrics().quad;else throw new $t("Invalid unit: '"+e.unit+"'");n!==r&&(i*=n.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*i,r.maxSize)},Ot=function(e){return+e.toFixed(4)+"em"},Ac=function(e){return e.filter(r=>r).join(" ")},$L=function(e,r,i){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},r){r.style.isTight()&&this.classes.push("mtight");var n=r.getColor();n&&(this.style.color=n)}},_L=function(e){var r=document.createElement(e);r.className=Ac(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(r.style[i]=this.style[i]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&r.setAttribute(n,this.attributes[n]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r},m5e=/[\s"'>/=\x00-\x1f]/,EL=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+ji.escape(Ac(this.classes))+'"');var i="";for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=ji.hyphenate(n)+":"+this.style[n]+";");i&&(r+=' style="'+ji.escape(i)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(m5e.test(a))throw new $t("Invalid attribute name '"+a+"'");r+=" "+a+'="'+ji.escape(this.attributes[a])+'"'}r+=">";for(var s=0;s<this.children.length;s++)r+=this.children[s].toMarkup();return r+="</"+e+">",r};class Jm{constructor(e,r,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,$L.call(this,e,i,n),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return _L.call(this,"span")}toMarkup(){return EL.call(this,"span")}}class s8{constructor(e,r,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,$L.call(this,r,n),this.children=i||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return _L.call(this,"a")}toMarkup(){return EL.call(this,"a")}}class f5e{constructor(e,r,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=i}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+ji.escape(this.src)+'"'+(' alt="'+ji.escape(this.alt)+'"'),r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=ji.hyphenate(i)+":"+this.style[i]+";");return r&&(e+=' style="'+ji.escape(r)+'"'),e+="'/>",e}}var g5e={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class yl{constructor(e,r,i,n,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=i||0,this.italic=n||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=J3e(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=g5e[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Ot(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Ac(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(r=r||document.createElement("span"),r.style[i]=this.style[i]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=ji.escape(Ac(this.classes)),r+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=ji.hyphenate(n)+":"+this.style[n]+";");i&&(e=!0,r+=' style="'+ji.escape(i)+'"');var a=ji.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}}class yu{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&r.setAttribute(i,this.attributes[i]);for(var n=0;n<this.children.length;n++)r.appendChild(this.children[n].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+ji.escape(this.attributes[r])+'"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</svg>",e}}class $c{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",CL[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+ji.escape(this.alternate)+'"/>':'<path d="'+ji.escape(CL[this.pathName])+'"/>'}}class o8{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&r.setAttribute(i,this.attributes[i]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+ji.escape(this.attributes[r])+'"');return e+="/>",e}}function IL(t){if(t instanceof yl)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function v5e(t){if(t instanceof Jm)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var y5e={bin:1,close:1,inner:1,open:1,punct:1,rel:1},b5e={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Mn={math:{},text:{}};function F(t,e,r,i,n,a){Mn[t][n]={font:e,group:r,replace:i},a&&i&&(Mn[t][i]=Mn[t][n])}var G="math",Mt="text",ee="main",Ae="ams",zn="accent-token",Wt="bin",no="close",Zp="inner",Sr="mathord",Aa="op-token",Ro="open",O4="punct",_e="rel",bu="spacing",qe="textord";F(G,ee,_e,"≡","\\equiv",!0),F(G,ee,_e,"≺","\\prec",!0),F(G,ee,_e,"≻","\\succ",!0),F(G,ee,_e,"∼","\\sim",!0),F(G,ee,_e,"⊥","\\perp"),F(G,ee,_e,"⪯","\\preceq",!0),F(G,ee,_e,"⪰","\\succeq",!0),F(G,ee,_e,"≃","\\simeq",!0),F(G,ee,_e,"∣","\\mid",!0),F(G,ee,_e,"≪","\\ll",!0),F(G,ee,_e,"≫","\\gg",!0),F(G,ee,_e,"≍","\\asymp",!0),F(G,ee,_e,"∥","\\parallel"),F(G,ee,_e,"⋈","\\bowtie",!0),F(G,ee,_e,"⌣","\\smile",!0),F(G,ee,_e,"⊑","\\sqsubseteq",!0),F(G,ee,_e,"⊒","\\sqsupseteq",!0),F(G,ee,_e,"≐","\\doteq",!0),F(G,ee,_e,"⌢","\\frown",!0),F(G,ee,_e,"∋","\\ni",!0),F(G,ee,_e,"∝","\\propto",!0),F(G,ee,_e,"⊢","\\vdash",!0),F(G,ee,_e,"⊣","\\dashv",!0),F(G,ee,_e,"∋","\\owns"),F(G,ee,O4,".","\\ldotp"),F(G,ee,O4,"⋅","\\cdotp"),F(G,ee,qe,"#","\\#"),F(Mt,ee,qe,"#","\\#"),F(G,ee,qe,"&","\\&"),F(Mt,ee,qe,"&","\\&"),F(G,ee,qe,"ℵ","\\aleph",!0),F(G,ee,qe,"∀","\\forall",!0),F(G,ee,qe,"ℏ","\\hbar",!0),F(G,ee,qe,"∃","\\exists",!0),F(G,ee,qe,"∇","\\nabla",!0),F(G,ee,qe,"♭","\\flat",!0),F(G,ee,qe,"ℓ","\\ell",!0),F(G,ee,qe,"♮","\\natural",!0),F(G,ee,qe,"♣","\\clubsuit",!0),F(G,ee,qe,"℘","\\wp",!0),F(G,ee,qe,"♯","\\sharp",!0),F(G,ee,qe,"♢","\\diamondsuit",!0),F(G,ee,qe,"ℜ","\\Re",!0),F(G,ee,qe,"♡","\\heartsuit",!0),F(G,ee,qe,"ℑ","\\Im",!0),F(G,ee,qe,"♠","\\spadesuit",!0),F(G,ee,qe,"§","\\S",!0),F(Mt,ee,qe,"§","\\S"),F(G,ee,qe,"¶","\\P",!0),F(Mt,ee,qe,"¶","\\P"),F(G,ee,qe,"†","\\dag"),F(Mt,ee,qe,"†","\\dag"),F(Mt,ee,qe,"†","\\textdagger"),F(G,ee,qe,"‡","\\ddag"),F(Mt,ee,qe,"‡","\\ddag"),F(Mt,ee,qe,"‡","\\textdaggerdbl"),F(G,ee,no,"⎱","\\rmoustache",!0),F(G,ee,Ro,"⎰","\\lmoustache",!0),F(G,ee,no,"⟯","\\rgroup",!0),F(G,ee,Ro,"⟮","\\lgroup",!0),F(G,ee,Wt,"∓","\\mp",!0),F(G,ee,Wt,"⊖","\\ominus",!0),F(G,ee,Wt,"⊎","\\uplus",!0),F(G,ee,Wt,"⊓","\\sqcap",!0),F(G,ee,Wt,"∗","\\ast"),F(G,ee,Wt,"⊔","\\sqcup",!0),F(G,ee,Wt,"◯","\\bigcirc",!0),F(G,ee,Wt,"∙","\\bullet",!0),F(G,ee,Wt,"‡","\\ddagger"),F(G,ee,Wt,"≀","\\wr",!0),F(G,ee,Wt,"⨿","\\amalg"),F(G,ee,Wt,"&","\\And"),F(G,ee,_e,"⟵","\\longleftarrow",!0),F(G,ee,_e,"⇐","\\Leftarrow",!0),F(G,ee,_e,"⟸","\\Longleftarrow",!0),F(G,ee,_e,"⟶","\\longrightarrow",!0),F(G,ee,_e,"⇒","\\Rightarrow",!0),F(G,ee,_e,"⟹","\\Longrightarrow",!0),F(G,ee,_e,"↔","\\leftrightarrow",!0),F(G,ee,_e,"⟷","\\longleftrightarrow",!0),F(G,ee,_e,"⇔","\\Leftrightarrow",!0),F(G,ee,_e,"⟺","\\Longleftrightarrow",!0),F(G,ee,_e,"↦","\\mapsto",!0),F(G,ee,_e,"⟼","\\longmapsto",!0),F(G,ee,_e,"↗","\\nearrow",!0),F(G,ee,_e,"↩","\\hookleftarrow",!0),F(G,ee,_e,"↪","\\hookrightarrow",!0),F(G,ee,_e,"↘","\\searrow",!0),F(G,ee,_e,"↼","\\leftharpoonup",!0),F(G,ee,_e,"⇀","\\rightharpoonup",!0),F(G,ee,_e,"↙","\\swarrow",!0),F(G,ee,_e,"↽","\\leftharpoondown",!0),F(G,ee,_e,"⇁","\\rightharpoondown",!0),F(G,ee,_e,"↖","\\nwarrow",!0),F(G,ee,_e,"⇌","\\rightleftharpoons",!0),F(G,Ae,_e,"≮","\\nless",!0),F(G,Ae,_e,"","\\@nleqslant"),F(G,Ae,_e,"","\\@nleqq"),F(G,Ae,_e,"⪇","\\lneq",!0),F(G,Ae,_e,"≨","\\lneqq",!0),F(G,Ae,_e,"","\\@lvertneqq"),F(G,Ae,_e,"⋦","\\lnsim",!0),F(G,Ae,_e,"⪉","\\lnapprox",!0),F(G,Ae,_e,"⊀","\\nprec",!0),F(G,Ae,_e,"⋠","\\npreceq",!0),F(G,Ae,_e,"⋨","\\precnsim",!0),F(G,Ae,_e,"⪹","\\precnapprox",!0),F(G,Ae,_e,"≁","\\nsim",!0),F(G,Ae,_e,"","\\@nshortmid"),F(G,Ae,_e,"∤","\\nmid",!0),F(G,Ae,_e,"⊬","\\nvdash",!0),F(G,Ae,_e,"⊭","\\nvDash",!0),F(G,Ae,_e,"⋪","\\ntriangleleft"),F(G,Ae,_e,"⋬","\\ntrianglelefteq",!0),F(G,Ae,_e,"⊊","\\subsetneq",!0),F(G,Ae,_e,"","\\@varsubsetneq"),F(G,Ae,_e,"⫋","\\subsetneqq",!0),F(G,Ae,_e,"","\\@varsubsetneqq"),F(G,Ae,_e,"≯","\\ngtr",!0),F(G,Ae,_e,"","\\@ngeqslant"),F(G,Ae,_e,"","\\@ngeqq"),F(G,Ae,_e,"⪈","\\gneq",!0),F(G,Ae,_e,"≩","\\gneqq",!0),F(G,Ae,_e,"","\\@gvertneqq"),F(G,Ae,_e,"⋧","\\gnsim",!0),F(G,Ae,_e,"⪊","\\gnapprox",!0),F(G,Ae,_e,"⊁","\\nsucc",!0),F(G,Ae,_e,"⋡","\\nsucceq",!0),F(G,Ae,_e,"⋩","\\succnsim",!0),F(G,Ae,_e,"⪺","\\succnapprox",!0),F(G,Ae,_e,"≆","\\ncong",!0),F(G,Ae,_e,"","\\@nshortparallel"),F(G,Ae,_e,"∦","\\nparallel",!0),F(G,Ae,_e,"⊯","\\nVDash",!0),F(G,Ae,_e,"⋫","\\ntriangleright"),F(G,Ae,_e,"⋭","\\ntrianglerighteq",!0),F(G,Ae,_e,"","\\@nsupseteqq"),F(G,Ae,_e,"⊋","\\supsetneq",!0),F(G,Ae,_e,"","\\@varsupsetneq"),F(G,Ae,_e,"⫌","\\supsetneqq",!0),F(G,Ae,_e,"","\\@varsupsetneqq"),F(G,Ae,_e,"⊮","\\nVdash",!0),F(G,Ae,_e,"⪵","\\precneqq",!0),F(G,Ae,_e,"⪶","\\succneqq",!0),F(G,Ae,_e,"","\\@nsubseteqq"),F(G,Ae,Wt,"⊴","\\unlhd"),F(G,Ae,Wt,"⊵","\\unrhd"),F(G,Ae,_e,"↚","\\nleftarrow",!0),F(G,Ae,_e,"↛","\\nrightarrow",!0),F(G,Ae,_e,"⇍","\\nLeftarrow",!0),F(G,Ae,_e,"⇏","\\nRightarrow",!0),F(G,Ae,_e,"↮","\\nleftrightarrow",!0),F(G,Ae,_e,"⇎","\\nLeftrightarrow",!0),F(G,Ae,_e,"△","\\vartriangle"),F(G,Ae,qe,"ℏ","\\hslash"),F(G,Ae,qe,"▽","\\triangledown"),F(G,Ae,qe,"◊","\\lozenge"),F(G,Ae,qe,"Ⓢ","\\circledS"),F(G,Ae,qe,"®","\\circledR"),F(Mt,Ae,qe,"®","\\circledR"),F(G,Ae,qe,"∡","\\measuredangle",!0),F(G,Ae,qe,"∄","\\nexists"),F(G,Ae,qe,"℧","\\mho"),F(G,Ae,qe,"Ⅎ","\\Finv",!0),F(G,Ae,qe,"⅁","\\Game",!0),F(G,Ae,qe,"‵","\\backprime"),F(G,Ae,qe,"▲","\\blacktriangle"),F(G,Ae,qe,"▼","\\blacktriangledown"),F(G,Ae,qe,"■","\\blacksquare"),F(G,Ae,qe,"⧫","\\blacklozenge"),F(G,Ae,qe,"★","\\bigstar"),F(G,Ae,qe,"∢","\\sphericalangle",!0),F(G,Ae,qe,"∁","\\complement",!0),F(G,Ae,qe,"ð","\\eth",!0),F(Mt,ee,qe,"ð","ð"),F(G,Ae,qe,"╱","\\diagup"),F(G,Ae,qe,"╲","\\diagdown"),F(G,Ae,qe,"□","\\square"),F(G,Ae,qe,"□","\\Box"),F(G,Ae,qe,"◊","\\Diamond"),F(G,Ae,qe,"¥","\\yen",!0),F(Mt,Ae,qe,"¥","\\yen",!0),F(G,Ae,qe,"✓","\\checkmark",!0),F(Mt,Ae,qe,"✓","\\checkmark"),F(G,Ae,qe,"ℶ","\\beth",!0),F(G,Ae,qe,"ℸ","\\daleth",!0),F(G,Ae,qe,"ℷ","\\gimel",!0),F(G,Ae,qe,"ϝ","\\digamma",!0),F(G,Ae,qe,"ϰ","\\varkappa"),F(G,Ae,Ro,"┌","\\@ulcorner",!0),F(G,Ae,no,"┐","\\@urcorner",!0),F(G,Ae,Ro,"└","\\@llcorner",!0),F(G,Ae,no,"┘","\\@lrcorner",!0),F(G,Ae,_e,"≦","\\leqq",!0),F(G,Ae,_e,"⩽","\\leqslant",!0),F(G,Ae,_e,"⪕","\\eqslantless",!0),F(G,Ae,_e,"≲","\\lesssim",!0),F(G,Ae,_e,"⪅","\\lessapprox",!0),F(G,Ae,_e,"≊","\\approxeq",!0),F(G,Ae,Wt,"⋖","\\lessdot"),F(G,Ae,_e,"⋘","\\lll",!0),F(G,Ae,_e,"≶","\\lessgtr",!0),F(G,Ae,_e,"⋚","\\lesseqgtr",!0),F(G,Ae,_e,"⪋","\\lesseqqgtr",!0),F(G,Ae,_e,"≑","\\doteqdot"),F(G,Ae,_e,"≓","\\risingdotseq",!0),F(G,Ae,_e,"≒","\\fallingdotseq",!0),F(G,Ae,_e,"∽","\\backsim",!0),F(G,Ae,_e,"⋍","\\backsimeq",!0),F(G,Ae,_e,"⫅","\\subseteqq",!0),F(G,Ae,_e,"⋐","\\Subset",!0),F(G,Ae,_e,"⊏","\\sqsubset",!0),F(G,Ae,_e,"≼","\\preccurlyeq",!0),F(G,Ae,_e,"⋞","\\curlyeqprec",!0),F(G,Ae,_e,"≾","\\precsim",!0),F(G,Ae,_e,"⪷","\\precapprox",!0),F(G,Ae,_e,"⊲","\\vartriangleleft"),F(G,Ae,_e,"⊴","\\trianglelefteq"),F(G,Ae,_e,"⊨","\\vDash",!0),F(G,Ae,_e,"⊪","\\Vvdash",!0),F(G,Ae,_e,"⌣","\\smallsmile"),F(G,Ae,_e,"⌢","\\smallfrown"),F(G,Ae,_e,"≏","\\bumpeq",!0),F(G,Ae,_e,"≎","\\Bumpeq",!0),F(G,Ae,_e,"≧","\\geqq",!0),F(G,Ae,_e,"⩾","\\geqslant",!0),F(G,Ae,_e,"⪖","\\eqslantgtr",!0),F(G,Ae,_e,"≳","\\gtrsim",!0),F(G,Ae,_e,"⪆","\\gtrapprox",!0),F(G,Ae,Wt,"⋗","\\gtrdot"),F(G,Ae,_e,"⋙","\\ggg",!0),F(G,Ae,_e,"≷","\\gtrless",!0),F(G,Ae,_e,"⋛","\\gtreqless",!0),F(G,Ae,_e,"⪌","\\gtreqqless",!0),F(G,Ae,_e,"≖","\\eqcirc",!0),F(G,Ae,_e,"≗","\\circeq",!0),F(G,Ae,_e,"≜","\\triangleq",!0),F(G,Ae,_e,"∼","\\thicksim"),F(G,Ae,_e,"≈","\\thickapprox"),F(G,Ae,_e,"⫆","\\supseteqq",!0),F(G,Ae,_e,"⋑","\\Supset",!0),F(G,Ae,_e,"⊐","\\sqsupset",!0),F(G,Ae,_e,"≽","\\succcurlyeq",!0),F(G,Ae,_e,"⋟","\\curlyeqsucc",!0),F(G,Ae,_e,"≿","\\succsim",!0),F(G,Ae,_e,"⪸","\\succapprox",!0),F(G,Ae,_e,"⊳","\\vartriangleright"),F(G,Ae,_e,"⊵","\\trianglerighteq"),F(G,Ae,_e,"⊩","\\Vdash",!0),F(G,Ae,_e,"∣","\\shortmid"),F(G,Ae,_e,"∥","\\shortparallel"),F(G,Ae,_e,"≬","\\between",!0),F(G,Ae,_e,"⋔","\\pitchfork",!0),F(G,Ae,_e,"∝","\\varpropto"),F(G,Ae,_e,"◀","\\blacktriangleleft"),F(G,Ae,_e,"∴","\\therefore",!0),F(G,Ae,_e,"∍","\\backepsilon"),F(G,Ae,_e,"▶","\\blacktriangleright"),F(G,Ae,_e,"∵","\\because",!0),F(G,Ae,_e,"⋘","\\llless"),F(G,Ae,_e,"⋙","\\gggtr"),F(G,Ae,Wt,"⊲","\\lhd"),F(G,Ae,Wt,"⊳","\\rhd"),F(G,Ae,_e,"≂","\\eqsim",!0),F(G,ee,_e,"⋈","\\Join"),F(G,Ae,_e,"≑","\\Doteq",!0),F(G,Ae,Wt,"∔","\\dotplus",!0),F(G,Ae,Wt,"∖","\\smallsetminus"),F(G,Ae,Wt,"⋒","\\Cap",!0),F(G,Ae,Wt,"⋓","\\Cup",!0),F(G,Ae,Wt,"⩞","\\doublebarwedge",!0),F(G,Ae,Wt,"⊟","\\boxminus",!0),F(G,Ae,Wt,"⊞","\\boxplus",!0),F(G,Ae,Wt,"⋇","\\divideontimes",!0),F(G,Ae,Wt,"⋉","\\ltimes",!0),F(G,Ae,Wt,"⋊","\\rtimes",!0),F(G,Ae,Wt,"⋋","\\leftthreetimes",!0),F(G,Ae,Wt,"⋌","\\rightthreetimes",!0),F(G,Ae,Wt,"⋏","\\curlywedge",!0),F(G,Ae,Wt,"⋎","\\curlyvee",!0),F(G,Ae,Wt,"⊝","\\circleddash",!0),F(G,Ae,Wt,"⊛","\\circledast",!0),F(G,Ae,Wt,"⋅","\\centerdot"),F(G,Ae,Wt,"⊺","\\intercal",!0),F(G,Ae,Wt,"⋒","\\doublecap"),F(G,Ae,Wt,"⋓","\\doublecup"),F(G,Ae,Wt,"⊠","\\boxtimes",!0),F(G,Ae,_e,"⇢","\\dashrightarrow",!0),F(G,Ae,_e,"⇠","\\dashleftarrow",!0),F(G,Ae,_e,"⇇","\\leftleftarrows",!0),F(G,Ae,_e,"⇆","\\leftrightarrows",!0),F(G,Ae,_e,"⇚","\\Lleftarrow",!0),F(G,Ae,_e,"↞","\\twoheadleftarrow",!0),F(G,Ae,_e,"↢","\\leftarrowtail",!0),F(G,Ae,_e,"↫","\\looparrowleft",!0),F(G,Ae,_e,"⇋","\\leftrightharpoons",!0),F(G,Ae,_e,"↶","\\curvearrowleft",!0),F(G,Ae,_e,"↺","\\circlearrowleft",!0),F(G,Ae,_e,"↰","\\Lsh",!0),F(G,Ae,_e,"⇈","\\upuparrows",!0),F(G,Ae,_e,"↿","\\upharpoonleft",!0),F(G,Ae,_e,"⇃","\\downharpoonleft",!0),F(G,ee,_e,"⊶","\\origof",!0),F(G,ee,_e,"⊷","\\imageof",!0),F(G,Ae,_e,"⊸","\\multimap",!0),F(G,Ae,_e,"↭","\\leftrightsquigarrow",!0),F(G,Ae,_e,"⇉","\\rightrightarrows",!0),F(G,Ae,_e,"⇄","\\rightleftarrows",!0),F(G,Ae,_e,"↠","\\twoheadrightarrow",!0),F(G,Ae,_e,"↣","\\rightarrowtail",!0),F(G,Ae,_e,"↬","\\looparrowright",!0),F(G,Ae,_e,"↷","\\curvearrowright",!0),F(G,Ae,_e,"↻","\\circlearrowright",!0),F(G,Ae,_e,"↱","\\Rsh",!0),F(G,Ae,_e,"⇊","\\downdownarrows",!0),F(G,Ae,_e,"↾","\\upharpoonright",!0),F(G,Ae,_e,"⇂","\\downharpoonright",!0),F(G,Ae,_e,"⇝","\\rightsquigarrow",!0),F(G,Ae,_e,"⇝","\\leadsto"),F(G,Ae,_e,"⇛","\\Rrightarrow",!0),F(G,Ae,_e,"↾","\\restriction"),F(G,ee,qe,"‘","`"),F(G,ee,qe,"$","\\$"),F(Mt,ee,qe,"$","\\$"),F(Mt,ee,qe,"$","\\textdollar"),F(G,ee,qe,"%","\\%"),F(Mt,ee,qe,"%","\\%"),F(G,ee,qe,"_","\\_"),F(Mt,ee,qe,"_","\\_"),F(Mt,ee,qe,"_","\\textunderscore"),F(G,ee,qe,"∠","\\angle",!0),F(G,ee,qe,"∞","\\infty",!0),F(G,ee,qe,"′","\\prime"),F(G,ee,qe,"△","\\triangle"),F(G,ee,qe,"Γ","\\Gamma",!0),F(G,ee,qe,"Δ","\\Delta",!0),F(G,ee,qe,"Θ","\\Theta",!0),F(G,ee,qe,"Λ","\\Lambda",!0),F(G,ee,qe,"Ξ","\\Xi",!0),F(G,ee,qe,"Π","\\Pi",!0),F(G,ee,qe,"Σ","\\Sigma",!0),F(G,ee,qe,"Υ","\\Upsilon",!0),F(G,ee,qe,"Φ","\\Phi",!0),F(G,ee,qe,"Ψ","\\Psi",!0),F(G,ee,qe,"Ω","\\Omega",!0),F(G,ee,qe,"A","Α"),F(G,ee,qe,"B","Β"),F(G,ee,qe,"E","Ε"),F(G,ee,qe,"Z","Ζ"),F(G,ee,qe,"H","Η"),F(G,ee,qe,"I","Ι"),F(G,ee,qe,"K","Κ"),F(G,ee,qe,"M","Μ"),F(G,ee,qe,"N","Ν"),F(G,ee,qe,"O","Ο"),F(G,ee,qe,"P","Ρ"),F(G,ee,qe,"T","Τ"),F(G,ee,qe,"X","Χ"),F(G,ee,qe,"¬","\\neg",!0),F(G,ee,qe,"¬","\\lnot"),F(G,ee,qe,"⊤","\\top"),F(G,ee,qe,"⊥","\\bot"),F(G,ee,qe,"∅","\\emptyset"),F(G,Ae,qe,"∅","\\varnothing"),F(G,ee,Sr,"α","\\alpha",!0),F(G,ee,Sr,"β","\\beta",!0),F(G,ee,Sr,"γ","\\gamma",!0),F(G,ee,Sr,"δ","\\delta",!0),F(G,ee,Sr,"ϵ","\\epsilon",!0),F(G,ee,Sr,"ζ","\\zeta",!0),F(G,ee,Sr,"η","\\eta",!0),F(G,ee,Sr,"θ","\\theta",!0),F(G,ee,Sr,"ι","\\iota",!0),F(G,ee,Sr,"κ","\\kappa",!0),F(G,ee,Sr,"λ","\\lambda",!0),F(G,ee,Sr,"μ","\\mu",!0),F(G,ee,Sr,"ν","\\nu",!0),F(G,ee,Sr,"ξ","\\xi",!0),F(G,ee,Sr,"ο","\\omicron",!0),F(G,ee,Sr,"π","\\pi",!0),F(G,ee,Sr,"ρ","\\rho",!0),F(G,ee,Sr,"σ","\\sigma",!0),F(G,ee,Sr,"τ","\\tau",!0),F(G,ee,Sr,"υ","\\upsilon",!0),F(G,ee,Sr,"ϕ","\\phi",!0),F(G,ee,Sr,"χ","\\chi",!0),F(G,ee,Sr,"ψ","\\psi",!0),F(G,ee,Sr,"ω","\\omega",!0),F(G,ee,Sr,"ε","\\varepsilon",!0),F(G,ee,Sr,"ϑ","\\vartheta",!0),F(G,ee,Sr,"ϖ","\\varpi",!0),F(G,ee,Sr,"ϱ","\\varrho",!0),F(G,ee,Sr,"ς","\\varsigma",!0),F(G,ee,Sr,"φ","\\varphi",!0),F(G,ee,Wt,"∗","*",!0),F(G,ee,Wt,"+","+"),F(G,ee,Wt,"−","-",!0),F(G,ee,Wt,"⋅","\\cdot",!0),F(G,ee,Wt,"∘","\\circ",!0),F(G,ee,Wt,"÷","\\div",!0),F(G,ee,Wt,"±","\\pm",!0),F(G,ee,Wt,"×","\\times",!0),F(G,ee,Wt,"∩","\\cap",!0),F(G,ee,Wt,"∪","\\cup",!0),F(G,ee,Wt,"∖","\\setminus",!0),F(G,ee,Wt,"∧","\\land"),F(G,ee,Wt,"∨","\\lor"),F(G,ee,Wt,"∧","\\wedge",!0),F(G,ee,Wt,"∨","\\vee",!0),F(G,ee,qe,"√","\\surd"),F(G,ee,Ro,"⟨","\\langle",!0),F(G,ee,Ro,"∣","\\lvert"),F(G,ee,Ro,"∥","\\lVert"),F(G,ee,no,"?","?"),F(G,ee,no,"!","!"),F(G,ee,no,"⟩","\\rangle",!0),F(G,ee,no,"∣","\\rvert"),F(G,ee,no,"∥","\\rVert"),F(G,ee,_e,"=","="),F(G,ee,_e,":",":"),F(G,ee,_e,"≈","\\approx",!0),F(G,ee,_e,"≅","\\cong",!0),F(G,ee,_e,"≥","\\ge"),F(G,ee,_e,"≥","\\geq",!0),F(G,ee,_e,"←","\\gets"),F(G,ee,_e,">","\\gt",!0),F(G,ee,_e,"∈","\\in",!0),F(G,ee,_e,"","\\@not"),F(G,ee,_e,"⊂","\\subset",!0),F(G,ee,_e,"⊃","\\supset",!0),F(G,ee,_e,"⊆","\\subseteq",!0),F(G,ee,_e,"⊇","\\supseteq",!0),F(G,Ae,_e,"⊈","\\nsubseteq",!0),F(G,Ae,_e,"⊉","\\nsupseteq",!0),F(G,ee,_e,"⊨","\\models"),F(G,ee,_e,"←","\\leftarrow",!0),F(G,ee,_e,"≤","\\le"),F(G,ee,_e,"≤","\\leq",!0),F(G,ee,_e,"<","\\lt",!0),F(G,ee,_e,"→","\\rightarrow",!0),F(G,ee,_e,"→","\\to"),F(G,Ae,_e,"≱","\\ngeq",!0),F(G,Ae,_e,"≰","\\nleq",!0),F(G,ee,bu," ","\\ "),F(G,ee,bu," ","\\space"),F(G,ee,bu," ","\\nobreakspace"),F(Mt,ee,bu," ","\\ "),F(Mt,ee,bu," "," "),F(Mt,ee,bu," ","\\space"),F(Mt,ee,bu," ","\\nobreakspace"),F(G,ee,bu,null,"\\nobreak"),F(G,ee,bu,null,"\\allowbreak"),F(G,ee,O4,",",","),F(G,ee,O4,";",";"),F(G,Ae,Wt,"⊼","\\barwedge",!0),F(G,Ae,Wt,"⊻","\\veebar",!0),F(G,ee,Wt,"⊙","\\odot",!0),F(G,ee,Wt,"⊕","\\oplus",!0),F(G,ee,Wt,"⊗","\\otimes",!0),F(G,ee,qe,"∂","\\partial",!0),F(G,ee,Wt,"⊘","\\oslash",!0),F(G,Ae,Wt,"⊚","\\circledcirc",!0),F(G,Ae,Wt,"⊡","\\boxdot",!0),F(G,ee,Wt,"△","\\bigtriangleup"),F(G,ee,Wt,"▽","\\bigtriangledown"),F(G,ee,Wt,"†","\\dagger"),F(G,ee,Wt,"⋄","\\diamond"),F(G,ee,Wt,"⋆","\\star"),F(G,ee,Wt,"◃","\\triangleleft"),F(G,ee,Wt,"▹","\\triangleright"),F(G,ee,Ro,"{","\\{"),F(Mt,ee,qe,"{","\\{"),F(Mt,ee,qe,"{","\\textbraceleft"),F(G,ee,no,"}","\\}"),F(Mt,ee,qe,"}","\\}"),F(Mt,ee,qe,"}","\\textbraceright"),F(G,ee,Ro,"{","\\lbrace"),F(G,ee,no,"}","\\rbrace"),F(G,ee,Ro,"[","\\lbrack",!0),F(Mt,ee,qe,"[","\\lbrack",!0),F(G,ee,no,"]","\\rbrack",!0),F(Mt,ee,qe,"]","\\rbrack",!0),F(G,ee,Ro,"(","\\lparen",!0),F(G,ee,no,")","\\rparen",!0),F(Mt,ee,qe,"<","\\textless",!0),F(Mt,ee,qe,">","\\textgreater",!0),F(G,ee,Ro,"⌊","\\lfloor",!0),F(G,ee,no,"⌋","\\rfloor",!0),F(G,ee,Ro,"⌈","\\lceil",!0),F(G,ee,no,"⌉","\\rceil",!0),F(G,ee,qe,"\\","\\backslash"),F(G,ee,qe,"∣","|"),F(G,ee,qe,"∣","\\vert"),F(Mt,ee,qe,"|","\\textbar",!0),F(G,ee,qe,"∥","\\|"),F(G,ee,qe,"∥","\\Vert"),F(Mt,ee,qe,"∥","\\textbardbl"),F(Mt,ee,qe,"~","\\textasciitilde"),F(Mt,ee,qe,"\\","\\textbackslash"),F(Mt,ee,qe,"^","\\textasciicircum"),F(G,ee,_e,"↑","\\uparrow",!0),F(G,ee,_e,"⇑","\\Uparrow",!0),F(G,ee,_e,"↓","\\downarrow",!0),F(G,ee,_e,"⇓","\\Downarrow",!0),F(G,ee,_e,"↕","\\updownarrow",!0),F(G,ee,_e,"⇕","\\Updownarrow",!0),F(G,ee,Aa,"∐","\\coprod"),F(G,ee,Aa,"⋁","\\bigvee"),F(G,ee,Aa,"⋀","\\bigwedge"),F(G,ee,Aa,"⨄","\\biguplus"),F(G,ee,Aa,"⋂","\\bigcap"),F(G,ee,Aa,"⋃","\\bigcup"),F(G,ee,Aa,"∫","\\int"),F(G,ee,Aa,"∫","\\intop"),F(G,ee,Aa,"∬","\\iint"),F(G,ee,Aa,"∭","\\iiint"),F(G,ee,Aa,"∏","\\prod"),F(G,ee,Aa,"∑","\\sum"),F(G,ee,Aa,"⨂","\\bigotimes"),F(G,ee,Aa,"⨁","\\bigoplus"),F(G,ee,Aa,"⨀","\\bigodot"),F(G,ee,Aa,"∮","\\oint"),F(G,ee,Aa,"∯","\\oiint"),F(G,ee,Aa,"∰","\\oiiint"),F(G,ee,Aa,"⨆","\\bigsqcup"),F(G,ee,Aa,"∫","\\smallint"),F(Mt,ee,Zp,"…","\\textellipsis"),F(G,ee,Zp,"…","\\mathellipsis"),F(Mt,ee,Zp,"…","\\ldots",!0),F(G,ee,Zp,"…","\\ldots",!0),F(G,ee,Zp,"⋯","\\@cdots",!0),F(G,ee,Zp,"⋱","\\ddots",!0),F(G,ee,qe,"⋮","\\varvdots"),F(Mt,ee,qe,"⋮","\\varvdots"),F(G,ee,zn,"ˊ","\\acute"),F(G,ee,zn,"ˋ","\\grave"),F(G,ee,zn,"¨","\\ddot"),F(G,ee,zn,"~","\\tilde"),F(G,ee,zn,"ˉ","\\bar"),F(G,ee,zn,"˘","\\breve"),F(G,ee,zn,"ˇ","\\check"),F(G,ee,zn,"^","\\hat"),F(G,ee,zn,"⃗","\\vec"),F(G,ee,zn,"˙","\\dot"),F(G,ee,zn,"˚","\\mathring"),F(G,ee,Sr,"","\\@imath"),F(G,ee,Sr,"","\\@jmath"),F(G,ee,qe,"ı","ı"),F(G,ee,qe,"ȷ","ȷ"),F(Mt,ee,qe,"ı","\\i",!0),F(Mt,ee,qe,"ȷ","\\j",!0),F(Mt,ee,qe,"ß","\\ss",!0),F(Mt,ee,qe,"æ","\\ae",!0),F(Mt,ee,qe,"œ","\\oe",!0),F(Mt,ee,qe,"ø","\\o",!0),F(Mt,ee,qe,"Æ","\\AE",!0),F(Mt,ee,qe,"Œ","\\OE",!0),F(Mt,ee,qe,"Ø","\\O",!0),F(Mt,ee,zn,"ˊ","\\'"),F(Mt,ee,zn,"ˋ","\\`"),F(Mt,ee,zn,"ˆ","\\^"),F(Mt,ee,zn,"˜","\\~"),F(Mt,ee,zn,"ˉ","\\="),F(Mt,ee,zn,"˘","\\u"),F(Mt,ee,zn,"˙","\\."),F(Mt,ee,zn,"¸","\\c"),F(Mt,ee,zn,"˚","\\r"),F(Mt,ee,zn,"ˇ","\\v"),F(Mt,ee,zn,"¨",'\\"'),F(Mt,ee,zn,"˝","\\H"),F(Mt,ee,zn,"◯","\\textcircled");var TL={"--":!0,"---":!0,"``":!0,"''":!0};F(Mt,ee,qe,"–","--",!0),F(Mt,ee,qe,"–","\\textendash"),F(Mt,ee,qe,"—","---",!0),F(Mt,ee,qe,"—","\\textemdash"),F(Mt,ee,qe,"‘","`",!0),F(Mt,ee,qe,"‘","\\textquoteleft"),F(Mt,ee,qe,"’","'",!0),F(Mt,ee,qe,"’","\\textquoteright"),F(Mt,ee,qe,"“","``",!0),F(Mt,ee,qe,"“","\\textquotedblleft"),F(Mt,ee,qe,"”","''",!0),F(Mt,ee,qe,"”","\\textquotedblright"),F(G,ee,qe,"°","\\degree",!0),F(Mt,ee,qe,"°","\\degree"),F(Mt,ee,qe,"°","\\textdegree",!0),F(G,ee,qe,"£","\\pounds"),F(G,ee,qe,"£","\\mathsterling",!0),F(Mt,ee,qe,"£","\\pounds"),F(Mt,ee,qe,"£","\\textsterling",!0),F(G,Ae,qe,"✠","\\maltese"),F(Mt,Ae,qe,"✠","\\maltese");for(var LL='0123456789/@."',l8=0;l8<LL.length;l8++){var zL=LL.charAt(l8);F(G,ee,qe,zL,zL)}for(var BL='0123456789!@*()-=+";:?/.,',u8=0;u8<BL.length;u8++){var OL=BL.charAt(u8);F(Mt,ee,qe,OL,OL)}for(var F4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c8=0;c8<F4.length;c8++){var P4=F4.charAt(c8);F(G,ee,Sr,P4,P4),F(Mt,ee,qe,P4,P4)}F(G,Ae,qe,"C","ℂ"),F(Mt,Ae,qe,"C","ℂ"),F(G,Ae,qe,"H","ℍ"),F(Mt,Ae,qe,"H","ℍ"),F(G,Ae,qe,"N","ℕ"),F(Mt,Ae,qe,"N","ℕ"),F(G,Ae,qe,"P","ℙ"),F(Mt,Ae,qe,"P","ℙ"),F(G,Ae,qe,"Q","ℚ"),F(Mt,Ae,qe,"Q","ℚ"),F(G,Ae,qe,"R","ℝ"),F(Mt,Ae,qe,"R","ℝ"),F(G,Ae,qe,"Z","ℤ"),F(Mt,Ae,qe,"Z","ℤ"),F(G,ee,Sr,"h","ℎ"),F(Mt,ee,Sr,"h","ℎ");for(var Br="",ao=0;ao<F4.length;ao++){var ra=F4.charAt(ao);Br=String.fromCharCode(55349,56320+ao),F(G,ee,Sr,ra,Br),F(Mt,ee,qe,ra,Br),Br=String.fromCharCode(55349,56372+ao),F(G,ee,Sr,ra,Br),F(Mt,ee,qe,ra,Br),Br=String.fromCharCode(55349,56424+ao),F(G,ee,Sr,ra,Br),F(Mt,ee,qe,ra,Br),Br=String.fromCharCode(55349,56580+ao),F(G,ee,Sr,ra,Br),F(Mt,ee,qe,ra,Br),Br=String.fromCharCode(55349,56684+ao),F(G,ee,Sr,ra,Br),F(Mt,ee,qe,ra,Br),Br=String.fromCharCode(55349,56736+ao),F(G,ee,Sr,ra,Br),F(Mt,ee,qe,ra,Br),Br=String.fromCharCode(55349,56788+ao),F(G,ee,Sr,ra,Br),F(Mt,ee,qe,ra,Br),Br=String.fromCharCode(55349,56840+ao),F(G,ee,Sr,ra,Br),F(Mt,ee,qe,ra,Br),Br=String.fromCharCode(55349,56944+ao),F(G,ee,Sr,ra,Br),F(Mt,ee,qe,ra,Br),ao<26&&(Br=String.fromCharCode(55349,56632+ao),F(G,ee,Sr,ra,Br),F(Mt,ee,qe,ra,Br),Br=String.fromCharCode(55349,56476+ao),F(G,ee,Sr,ra,Br),F(Mt,ee,qe,ra,Br))}Br="𝕜",F(G,ee,Sr,"k",Br),F(Mt,ee,qe,"k",Br);for(var n1=0;n1<10;n1++){var _c=n1.toString();Br=String.fromCharCode(55349,57294+n1),F(G,ee,Sr,_c,Br),F(Mt,ee,qe,_c,Br),Br=String.fromCharCode(55349,57314+n1),F(G,ee,Sr,_c,Br),F(Mt,ee,qe,_c,Br),Br=String.fromCharCode(55349,57324+n1),F(G,ee,Sr,_c,Br),F(Mt,ee,qe,_c,Br),Br=String.fromCharCode(55349,57334+n1),F(G,ee,Sr,_c,Br),F(Mt,ee,qe,_c,Br)}for(var h8="ÐÞþ",p8=0;p8<h8.length;p8++){var R4=h8.charAt(p8);F(G,ee,Sr,R4,R4),F(Mt,ee,qe,R4,R4)}var j4=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],FL=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],x5e=function(e,r){var i=e.charCodeAt(0),n=e.charCodeAt(1),a=(i-55296)*1024+(n-56320)+65536,s=r==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[j4[o][2],j4[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[FL[l][2],FL[l][s]]}else{if(a===120485||a===120486)return[j4[0][2],j4[0][s]];if(120486<a&&a<120782)return["",""];throw new $t("Unsupported character: "+e)}},q4=function(e,r,i){return Mn[i][e]&&Mn[i][e].replace&&(e=Mn[i][e].replace),{value:e,metrics:i8(e,r,i)}},Kl=function(e,r,i,n,a){var s=q4(e,r,i),o=s.metrics;e=s.value;var l;if(o){var u=o.italic;(i==="text"||n&&n.font==="mathit")&&(u=0),l=new yl(e,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+i+"'")),l=new yl(e,0,0,0,0,0,a);if(n){l.maxFontSize=n.sizeMultiplier,n.style.isTight()&&l.classes.push("mtight");var c=n.getColor();c&&(l.style.color=c)}return l},w5e=function(e,r,i,n){return n===void 0&&(n=[]),i.font==="boldsymbol"&&q4(e,"Main-Bold",r).metrics?Kl(e,"Main-Bold",r,i,n.concat(["mathbf"])):e==="\\"||Mn[r][e].font==="main"?Kl(e,"Main-Regular",r,i,n):Kl(e,"AMS-Regular",r,i,n.concat(["amsrm"]))},M5e=function(e,r,i,n,a){return a!=="textord"&&q4(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},k5e=function(e,r,i){var n=e.mode,a=e.text,s=["mord"],o=n==="math"||n==="text"&&r.font,l=o?r.font:r.fontFamily,u="",c="";if(a.charCodeAt(0)===55349&&([u,c]=x5e(a,n)),u.length>0)return Kl(a,u,n,r,s.concat(c));if(l){var h,p;if(l==="boldsymbol"){var d=M5e(a,n,r,s,i);h=d.fontName,p=[d.fontClass]}else o?(h=jL[l].fontName,p=[l]):(h=U4(l,r.fontWeight,r.fontShape),p=[l,r.fontWeight,r.fontShape]);if(q4(a,h,n).metrics)return Kl(a,h,n,r,s.concat(p));if(TL.hasOwnProperty(a)&&h.slice(0,10)==="Typewriter"){for(var m=[],f=0;f<a.length;f++)m.push(Kl(a[f],h,n,r,s.concat(p)));return RL(m)}}if(i==="mathord")return Kl(a,"Math-Italic",n,r,s.concat(["mathnormal"]));if(i==="textord"){var v=Mn[n][a]&&Mn[n][a].font;if(v==="ams"){var y=U4("amsrm",r.fontWeight,r.fontShape);return Kl(a,y,n,r,s.concat("amsrm",r.fontWeight,r.fontShape))}else if(v==="main"||!v){var x=U4("textrm",r.fontWeight,r.fontShape);return Kl(a,x,n,r,s.concat(r.fontWeight,r.fontShape))}else{var g=U4(v,r.fontWeight,r.fontShape);return Kl(a,g,n,r,s.concat(g,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},C5e=(t,e)=>{if(Ac(t.classes)!==Ac(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var i in t.style)if(t.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;for(var n in e.style)if(e.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;return!0},N5e=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],i=t[e+1];r instanceof yl&&i instanceof yl&&C5e(r,i)&&(r.text+=i.text,r.height=Math.max(r.height,i.height),r.depth=Math.max(r.depth,i.depth),r.italic=i.italic,t.splice(e+1,1),e--)}return t},d8=function(e){for(var r=0,i=0,n=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>r&&(r=s.height),s.depth>i&&(i=s.depth),s.maxFontSize>n&&(n=s.maxFontSize)}e.height=r,e.depth=i,e.maxFontSize=n},Mo=function(e,r,i,n){var a=new Jm(e,r,i,n);return d8(a),a},PL=(t,e,r,i)=>new Jm(t,e,r,i),S5e=function(e,r,i){var n=Mo([e],[],r);return n.height=Math.max(i||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),n.style.borderBottomWidth=Ot(n.height),n.maxFontSize=1,n},D5e=function(e,r,i,n){var a=new s8(e,r,i,n);return d8(a),a},RL=function(e){var r=new Qm(e);return d8(r),r},A5e=function(e,r){return e instanceof Qm?Mo([],[e],r):e},$5e=function(e){if(e.positionType==="individualShift"){for(var r=e.children,i=[r[0]],n=-r[0].shift-r[0].elem.depth,a=n,s=1;s<r.length;s++){var o=-r[s].shift-a-r[s].elem.depth,l=o-(r[s-1].elem.height+r[s-1].elem.depth);a=a+o,i.push({type:"kern",size:l}),i.push(r[s])}return{children:i,depth:n}}var u;if(e.positionType==="top"){for(var c=e.positionData,h=0;h<e.children.length;h++){var p=e.children[h];c-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var d=e.children[0];if(d.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-d.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-d.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},_5e=function(e,r){for(var{children:i,depth:n}=$5e(e),a=0,s=0;s<i.length;s++){var o=i[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=Mo(["pstrut"],[]);u.style.height=Ot(a);for(var c=[],h=n,p=n,d=n,m=0;m<i.length;m++){var f=i[m];if(f.type==="kern")d+=f.size;else{var v=f.elem,y=f.wrapperClasses||[],x=f.wrapperStyle||{},g=Mo(y,[u,v],void 0,x);g.style.top=Ot(-a-d-v.depth),f.marginLeft&&(g.style.marginLeft=f.marginLeft),f.marginRight&&(g.style.marginRight=f.marginRight),c.push(g),d+=v.height+v.depth}h=Math.min(h,d),p=Math.max(p,d)}var b=Mo(["vlist"],c);b.style.height=Ot(p);var k;if(h<0){var w=Mo([],[]),N=Mo(["vlist"],[w]);N.style.height=Ot(-h);var A=Mo(["vlist-s"],[new yl("​")]);k=[Mo(["vlist-r"],[b,A]),Mo(["vlist-r"],[N])]}else k=[Mo(["vlist-r"],[b])];var $=Mo(["vlist-t"],k);return k.length===2&&$.classes.push("vlist-t2"),$.height=p,$.depth=-h,$},E5e=(t,e)=>{var r=Mo(["mspace"],[],e),i=jn(t,e);return r.style.marginRight=Ot(i),r},U4=function(e,r,i){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}var a;return r==="textbf"&&i==="textit"?a="BoldItalic":r==="textbf"?a="Bold":r==="textit"?a="Italic":a="Regular",n+"-"+a},jL={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},qL={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},I5e=function(e,r){var[i,n,a]=qL[e],s=new $c(i),o=new yu([s],{width:Ot(n),height:Ot(a),style:"width:"+Ot(n),viewBox:"0 0 "+1e3*n+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=PL(["overlay"],[o],r);return l.height=a,l.style.height=Ot(a),l.style.width=Ot(n),l},Xe={fontMap:jL,makeSymbol:Kl,mathsym:w5e,makeSpan:Mo,makeSvgSpan:PL,makeLineSpan:S5e,makeAnchor:D5e,makeFragment:RL,wrapFragment:A5e,makeVList:_5e,makeOrd:k5e,makeGlue:E5e,staticSvg:I5e,svgData:qL,tryCombineChars:N5e},qn={number:3,unit:"mu"},a1={number:4,unit:"mu"},xu={number:5,unit:"mu"},T5e={mord:{mop:qn,mbin:a1,mrel:xu,minner:qn},mop:{mord:qn,mop:qn,mrel:xu,minner:qn},mbin:{mord:a1,mop:a1,mopen:a1,minner:a1},mrel:{mord:xu,mop:xu,mopen:xu,minner:xu},mopen:{},mclose:{mop:qn,mbin:a1,mrel:xu,minner:qn},mpunct:{mord:qn,mop:qn,mrel:xu,mopen:qn,mclose:qn,mpunct:qn,minner:qn},minner:{mord:qn,mop:qn,mbin:a1,mrel:xu,mopen:qn,mpunct:qn,minner:qn}},L5e={mord:{mop:qn},mop:{mord:qn,mop:qn},mbin:{},mrel:{},mopen:{},mclose:{mop:qn},mpunct:{},minner:{mop:qn}},UL={},V4={},G4={};function Zt(t){for(var{type:e,names:r,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:n},l=0;l<r.length;++l)UL[r[l]]=o;e&&(a&&(V4[e]=a),s&&(G4[e]=s))}function s1(t){var{type:e,htmlBuilder:r,mathmlBuilder:i}=t;Zt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:i})}var Z4=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},da=function(e){return e.type==="ordgroup"?e.body:[e]},wu=Xe.makeSpan,z5e=["leftmost","mbin","mopen","mrel","mop","mpunct"],B5e=["rightmost","mrel","mclose","mpunct"],O5e={display:Nr.DISPLAY,text:Nr.TEXT,script:Nr.SCRIPT,scriptscript:Nr.SCRIPTSCRIPT},F5e={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ra=function(e,r,i,n){n===void 0&&(n=[null,null]);for(var a=[],s=0;s<e.length;s++){var o=zi(e[s],r);if(o instanceof Qm){var l=o.children;a.push(...l)}else a.push(o)}if(Xe.tryCombineChars(a),!i)return a;var u=r;if(e.length===1){var c=e[0];c.type==="sizing"?u=r.havingSize(c.size):c.type==="styling"&&(u=r.havingStyle(O5e[c.style]))}var h=wu([n[0]||"leftmost"],[],r),p=wu([n[1]||"rightmost"],[],r),d=i==="root";return VL(a,(m,f)=>{var v=f.classes[0],y=m.classes[0];v==="mbin"&&B5e.includes(y)?f.classes[0]="mord":y==="mbin"&&z5e.includes(v)&&(m.classes[0]="mord")},{node:h},p,d),VL(a,(m,f)=>{var v=m8(f),y=m8(m),x=v&&y?m.hasClass("mtight")?L5e[v][y]:T5e[v][y]:null;if(x)return Xe.makeGlue(x,u)},{node:h},p,d),a},VL=function t(e,r,i,n,a){n&&e.push(n);for(var s=0;s<e.length;s++){var o=e[s],l=GL(o);if(l){t(l.children,r,i,null,a);continue}var u=!o.hasClass("mspace");if(u){var c=r(o,i.node);c&&(i.insertAfter?i.insertAfter(c):(e.unshift(c),s++))}u?i.node=o:a&&o.hasClass("newline")&&(i.node=wu(["leftmost"])),i.insertAfter=(h=>p=>{e.splice(h+1,0,p),s++})(s)}n&&e.pop()},GL=function(e){return e instanceof Qm||e instanceof s8||e instanceof Jm&&e.hasClass("enclosing")?e:null},P5e=function t(e,r){var i=GL(e);if(i){var n=i.children;if(n.length){if(r==="right")return t(n[n.length-1],"right");if(r==="left")return t(n[0],"left")}}return e},m8=function(e,r){return e?(r&&(e=P5e(e,r)),F5e[e.classes[0]]||null):null},ef=function(e,r){var i=["nulldelimiter"].concat(e.baseSizingClasses());return wu(r.concat(i))},zi=function(e,r,i){if(!e)return wu();if(V4[e.type]){var n=V4[e.type](e,r);if(i&&r.size!==i.size){n=wu(r.sizingClasses(i),[n],r);var a=r.sizeMultiplier/i.sizeMultiplier;n.height*=a,n.depth*=a}return n}else throw new $t("Got group of unknown type: '"+e.type+"'")};function H4(t,e){var r=wu(["base"],t,e),i=wu(["strut"]);return i.style.height=Ot(r.height+r.depth),r.depth&&(i.style.verticalAlign=Ot(-r.depth)),r.children.unshift(i),r}function f8(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var i=Ra(t,e,"root"),n;i.length===2&&i[1].hasClass("tag")&&(n=i.pop());for(var a=[],s=[],o=0;o<i.length;o++)if(s.push(i[o]),i[o].hasClass("mbin")||i[o].hasClass("mrel")||i[o].hasClass("allowbreak")){for(var l=!1;o<i.length-1&&i[o+1].hasClass("mspace")&&!i[o+1].hasClass("newline");)o++,s.push(i[o]),i[o].hasClass("nobreak")&&(l=!0);l||(a.push(H4(s,e)),s=[])}else i[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(H4(s,e)),s=[]),a.push(i[o]));s.length>0&&a.push(H4(s,e));var u;r?(u=H4(Ra(r,e,!0)),u.classes=["tag"],a.push(u)):n&&a.push(n);var c=wu(["katex-html"],a);if(c.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=Ot(c.height+c.depth),c.depth&&(h.style.verticalAlign=Ot(-c.depth))}return c}function ZL(t){return new Qm(t)}class jo{constructor(e,r,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=i||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=Ac(this.classes));for(var i=0;i<this.children.length;i++)if(this.children[i]instanceof N0&&this.children[i+1]instanceof N0){for(var n=this.children[i].toText()+this.children[++i].toText();this.children[i+1]instanceof N0;)n+=this.children[++i].toText();e.appendChild(new N0(n).toNode())}else e.appendChild(this.children[i].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=ji.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+ji.escape(Ac(this.classes))+'"'),e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class N0{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return ji.escape(this.toText())}toText(){return this.text}}class R5e{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Ot(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ot(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var St={MathNode:jo,TextNode:N0,SpaceNode:R5e,newDocumentFragment:ZL},bl=function(e,r,i){return Mn[r][e]&&Mn[r][e].replace&&e.charCodeAt(0)!==55349&&!(TL.hasOwnProperty(e)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(e=Mn[r][e].replace),new St.TextNode(e)},g8=function(e){return e.length===1?e[0]:new St.MathNode("mrow",e)},v8=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var i=r.font;if(!i||i==="mathnormal")return null;var n=e.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathsfit")return"sans-serif-italic";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;Mn[n][a]&&Mn[n][a].replace&&(a=Mn[n][a].replace);var s=Xe.fontMap[i].fontName;return i8(a,s,n)?Xe.fontMap[i].variant:null};function y8(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof N0&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof N0&&r.text===","}else return!1}var ko=function(e,r,i){if(e.length===1){var n=vn(e[0],r);return i&&n instanceof jo&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var a=[],s,o=0;o<e.length;o++){var l=vn(e[o],r);if(l instanceof jo&&s instanceof jo){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(y8(l)&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mn"&&y8(s))l.children=[...s.children,...l.children],a.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(s.type==="mn"||y8(s))){var u=l.children[0];u instanceof jo&&u.type==="mn"&&(u.children=[...s.children,...u.children],a.pop())}else if(s.type==="mi"&&s.children.length===1){var c=s.children[0];if(c instanceof N0&&c.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var h=l.children[0];h instanceof N0&&h.text.length>0&&(h.text=h.text.slice(0,1)+"̸"+h.text.slice(1),a.pop())}}}a.push(l),s=l}return a},Ec=function(e,r,i){return g8(ko(e,r,i))},vn=function(e,r){if(!e)return new St.MathNode("mrow");if(G4[e.type]){var i=G4[e.type](e,r);return i}else throw new $t("Got group of unknown type: '"+e.type+"'")};function HL(t,e,r,i,n){var a=ko(t,r),s;a.length===1&&a[0]instanceof jo&&["mrow","mtable"].includes(a[0].type)?s=a[0]:s=new St.MathNode("mrow",a);var o=new St.MathNode("annotation",[new St.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new St.MathNode("semantics",[s,o]),u=new St.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var c=n?"katex":"katex-mathml";return Xe.makeSpan([c],[u])}var WL=function(e){return new vu({style:e.displayMode?Nr.DISPLAY:Nr.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},YL=function(e,r){if(r.displayMode){var i=["katex-display"];r.leqno&&i.push("leqno"),r.fleqn&&i.push("fleqn"),e=Xe.makeSpan(i,[e])}return e},j5e=function(e,r,i){var n=WL(i),a;if(i.output==="mathml")return HL(e,r,n,i.displayMode,!0);if(i.output==="html"){var s=f8(e,n);a=Xe.makeSpan(["katex"],[s])}else{var o=HL(e,r,n,i.displayMode,!1),l=f8(e,n);a=Xe.makeSpan(["katex"],[o,l])}return YL(a,i)},q5e=function(e,r,i){var n=WL(i),a=f8(e,n),s=Xe.makeSpan(["katex"],[a]);return YL(s,i)},U5e={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},V5e=function(e){var r=new St.MathNode("mo",[new St.TextNode(U5e[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},G5e={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Z5e=function(e){return e.type==="ordgroup"?e.body.length:1},H5e=function(e,r){function i(){var o=4e5,l=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(l)){var u=e,c=Z5e(u.base),h,p,d;if(c>5)l==="widehat"||l==="widecheck"?(h=420,o=2364,d=.42,p=l+"4"):(h=312,o=2340,d=.34,p="tilde4");else{var m=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][m],h=[0,239,300,360,420][m],d=[0,.24,.3,.3,.36,.42][m],p=l+m):(o=[0,600,1033,2339,2340][m],h=[0,260,286,306,312][m],d=[0,.26,.286,.3,.306,.34][m],p="tilde"+m)}var f=new $c(p),v=new yu([f],{width:"100%",height:Ot(d),viewBox:"0 0 "+o+" "+h,preserveAspectRatio:"none"});return{span:Xe.makeSvgSpan([],[v],r),minWidth:0,height:d}}else{var y=[],x=G5e[l],[g,b,k]=x,w=k/1e3,N=g.length,A,$;if(N===1){var D=x[3];A=["hide-tail"],$=[D]}else if(N===2)A=["halfarrow-left","halfarrow-right"],$=["xMinYMin","xMaxYMin"];else if(N===3)A=["brace-left","brace-center","brace-right"],$=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+N+" children.");for(var _=0;_<N;_++){var T=new $c(g[_]),z=new yu([T],{width:"400em",height:Ot(w),viewBox:"0 0 "+o+" "+k,preserveAspectRatio:$[_]+" slice"}),P=Xe.makeSvgSpan([A[_]],[z],r);if(N===1)return{span:P,minWidth:b,height:w};P.style.height=Ot(w),y.push(P)}return{span:Xe.makeSpan(["stretchy"],y,r),minWidth:b,height:w}}}var{span:n,minWidth:a,height:s}=i();return n.height=s,n.style.height=Ot(s),a>0&&(n.style.minWidth=Ot(a)),n},W5e=function(e,r,i,n,a){var s,o=e.height+e.depth+i+n;if(/fbox|color|angl/.test(r)){if(s=Xe.makeSpan(["stretchy",r],[],a),r==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new o8({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new o8({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new yu(u,{width:"100%",height:Ot(o)});s=Xe.makeSvgSpan([],[c],a)}return s.height=o,s.style.height=Ot(o),s},Mu={encloseSpan:W5e,mathMLnode:V5e,svgSpan:H5e};function ii(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function b8(t){var e=W4(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function W4(t){return t&&(t.type==="atom"||b5e.hasOwnProperty(t.type))?t:null}var x8=(t,e)=>{var r,i,n;t&&t.type==="supsub"?(i=ii(t.base,"accent"),r=i.base,t.base=r,n=v5e(zi(t,e)),t.base=i):(i=ii(t,"accent"),r=i.base);var a=zi(r,e.havingCrampedStyle()),s=i.isShifty&&ji.isCharacterBox(r),o=0;if(s){var l=ji.getBaseElem(r),u=zi(l,e.havingCrampedStyle());o=IL(u).skew}var c=i.label==="\\c",h=c?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),p;if(i.isStretchy)p=Mu.svgSpan(i,e),p=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Ot(2*o)+")",marginLeft:Ot(2*o)}:void 0}]},e);else{var d,m;i.label==="\\vec"?(d=Xe.staticSvg("vec",e),m=Xe.svgData.vec[1]):(d=Xe.makeOrd({mode:i.mode,text:i.label},e,"textord"),d=IL(d),d.italic=0,m=d.width,c&&(h+=d.depth)),p=Xe.makeSpan(["accent-body"],[d]);var f=i.label==="\\textcircled";f&&(p.classes.push("accent-full"),h=a.height);var v=o;f||(v-=m/2),p.style.left=Ot(v),i.label==="\\textcircled"&&(p.style.top=".2em"),p=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-h},{type:"elem",elem:p}]},e)}var y=Xe.makeSpan(["mord","accent"],[p],e);return n?(n.children[0]=y,n.height=Math.max(y.height,n.height),n.classes[0]="mord",n):y},KL=(t,e)=>{var r=t.isStretchy?Mu.mathMLnode(t.label):new St.MathNode("mo",[bl(t.label,t.mode)]),i=new St.MathNode("mover",[vn(t.base,e),r]);return i.setAttribute("accent","true"),i},Y5e=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Zt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=Z4(e[0]),i=!Y5e.test(t.funcName),n=!i||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:i,isShifty:n,base:r}},htmlBuilder:x8,mathmlBuilder:KL}),Zt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],i=t.parser.mode;return i==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:x8,mathmlBuilder:KL}),Zt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0];return{type:"accentUnder",mode:r.mode,label:i,base:n}},htmlBuilder:(t,e)=>{var r=zi(t.base,e),i=Mu.svgSpan(t,e),n=t.label==="\\utilde"?.12:0,a=Xe.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:n},{type:"elem",elem:r}]},e);return Xe.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var r=Mu.mathMLnode(t.label),i=new St.MathNode("munder",[vn(t.base,e),r]);return i.setAttribute("accentunder","true"),i}});var Y4=t=>{var e=new St.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Zt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:i,funcName:n}=t;return{type:"xArrow",mode:i.mode,label:n,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,i=e.havingStyle(r.sup()),n=Xe.wrapFragment(zi(t.body,i,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";n.classes.push(a+"-arrow-pad");var s;t.below&&(i=e.havingStyle(r.sub()),s=Xe.wrapFragment(zi(t.below,i,e),e),s.classes.push(a+"-arrow-pad"));var o=Mu.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(n.depth>.25||t.label==="\\xleftequilibrium")&&(u-=n.depth);var c;if(s){var h=-e.fontMetrics().axisHeight+s.height+.5*o.height+.111;c=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:h}]},e)}else c=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),Xe.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(t,e){var r=Mu.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(t.body){var n=Y4(vn(t.body,e));if(t.below){var a=Y4(vn(t.below,e));i=new St.MathNode("munderover",[r,a,n])}else i=new St.MathNode("mover",[r,n])}else if(t.below){var s=Y4(vn(t.below,e));i=new St.MathNode("munder",[r,s])}else i=Y4(),i=new St.MathNode("mover",[r,i]);return i}});var K5e=Xe.makeSpan;function XL(t,e){var r=Ra(t.body,e,!0);return K5e([t.mclass],r,e)}function QL(t,e){var r,i=ko(t.body,e);return t.mclass==="minner"?r=new St.MathNode("mpadded",i):t.mclass==="mord"?t.isCharacterBox?(r=i[0],r.type="mi"):r=new St.MathNode("mi",i):(t.isCharacterBox?(r=i[0],r.type="mo"):r=new St.MathNode("mo",i),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Zt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+i.slice(5),body:da(n),isCharacterBox:ji.isCharacterBox(n)}},htmlBuilder:XL,mathmlBuilder:QL});var K4=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Zt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:K4(e[0]),body:da(e[1]),isCharacterBox:ji.isCharacterBox(e[1])}}}),Zt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:i}=t,n=e[1],a=e[0],s;i!=="\\stackrel"?s=K4(n):s="mrel";var o={type:"op",mode:n.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:da(n)},l={type:"supsub",mode:a.mode,base:o,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:s,body:[l],isCharacterBox:ji.isCharacterBox(l)}},htmlBuilder:XL,mathmlBuilder:QL}),Zt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:K4(e[0]),body:da(e[0])}},htmlBuilder(t,e){var r=Ra(t.body,e,!0),i=Xe.makeSpan([t.mclass],r,e);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(t,e){var r=ko(t.body,e),i=new St.MathNode("mstyle",r);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var X5e={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},JL=()=>({type:"styling",body:[],mode:"math",style:"display"}),ez=t=>t.type==="textord"&&t.text==="@",Q5e=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function J5e(t,e,r){var i=X5e[t];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(i,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var n=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),o=r.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[n,s,o]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function eve(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new $t("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var i=[],n=[i],a=0;a<e.length;a++){for(var s=e[a],o=JL(),l=0;l<s.length;l++)if(!ez(s[l]))o.body.push(s[l]);else{i.push(o),l+=1;var u=b8(s[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var p=!0,d=l+1;d<s.length;d++){if(Q5e(s[d],u)){p=!1,l=d;break}if(ez(s[d]))throw new $t("Missing a "+u+" character to complete a CD arrow.",s[d]);c[h].body.push(s[d])}if(p)throw new $t("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new $t('Expected one of "<>AV=|." after @',s[l]);var m=J5e(u,c,t),f={type:"styling",body:[m],mode:"math",style:"display"};i.push(f),o=JL()}a%2===0?i.push(o):i.shift(),i=[],n.push(i)}t.gullet.endGroup(),t.gullet.endGroup();var v=new Array(n[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:n,arraystretch:1,addJot:!0,rowGaps:[null],cols:v,colSeparationType:"CD",hLinesBeforeRow:new Array(n.length+1).fill([])}}Zt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t;return{type:"cdlabel",mode:r.mode,side:i.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),i=Xe.wrapFragment(zi(t.label,r,e),e);return i.classes.push("cd-label-"+t.side),i.style.bottom=Ot(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(t,e){var r=new St.MathNode("mrow",[vn(t.label,e)]);return r=new St.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new St.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}}),Zt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=Xe.wrapFragment(zi(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new St.MathNode("mrow",[vn(t.fragment,e)])}}),Zt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,i=ii(e[0],"ordgroup"),n=i.body,a="",s=0;s<n.length;s++){var o=ii(n[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new $t("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new $t("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var tz=(t,e)=>{var r=Ra(t.body,e.withColor(t.color),!1);return Xe.makeFragment(r)},rz=(t,e)=>{var r=ko(t.body,e.withColor(t.color)),i=new St.MathNode("mstyle",r);return i.setAttribute("mathcolor",t.color),i};Zt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,i=ii(e[0],"color-token").color,n=e[1];return{type:"color",mode:r.mode,color:i,body:da(n)}},htmlBuilder:tz,mathmlBuilder:rz}),Zt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:i}=t,n=ii(e[0],"color-token").color;r.gullet.macros.set("\\current@color",n);var a=r.parseExpression(!0,i);return{type:"color",mode:r.mode,color:n,body:a}},htmlBuilder:tz,mathmlBuilder:rz}),Zt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:i}=t,n=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:n&&ii(n,"size").value}},htmlBuilder(t,e){var r=Xe.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=Ot(jn(t.size,e)))),r},mathmlBuilder(t,e){var r=new St.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",Ot(jn(t.size,e)))),r}});var w8={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},iz=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new $t("Expected a control sequence",t);return e},tve=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},nz=(t,e,r,i)=>{var n=t.gullet.macros.get(r.text);n==null&&(r.noexpand=!0,n={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,n,i)};Zt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var i=e.fetch();if(w8[i.text])return(r==="\\global"||r==="\\\\globallong")&&(i.text=w8[i.text]),ii(e.parseFunction(),"internal");throw new $t("Invalid token after macro prefix",i)}}),Zt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=e.gullet.popToken(),n=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(n))throw new $t("Expected a control sequence",i);for(var a=0,s,o=[[]];e.gullet.future().text!=="{";)if(i=e.gullet.popToken(),i.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),o[a].push("{");break}if(i=e.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new $t('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new $t('Argument number "'+i.text+'" out of order');a++,o.push([])}else{if(i.text==="EOF")throw new $t("Expected a macro definition");o[a].push(i.text)}var{tokens:l}=e.gullet.consumeArg();return s&&l.unshift(s),(r==="\\edef"||r==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(n,{tokens:l,numArgs:a,delimiters:o},r===w8[r]),{type:"internal",mode:e.mode}}}),Zt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=iz(e.gullet.popToken());e.gullet.consumeSpaces();var n=tve(e);return nz(e,i,n,r==="\\\\globallet"),{type:"internal",mode:e.mode}}}),Zt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=iz(e.gullet.popToken()),n=e.gullet.popToken(),a=e.gullet.popToken();return nz(e,i,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(n),{type:"internal",mode:e.mode}}});var tf=function(e,r,i){var n=Mn.math[e]&&Mn.math[e].replace,a=i8(n||e,r,i);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return a},M8=function(e,r,i,n){var a=i.havingBaseStyle(r),s=Xe.makeSpan(n.concat(a.sizingClasses(i)),[e],i),o=a.sizeMultiplier/i.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},az=function(e,r,i){var n=r.havingBaseStyle(i),a=(1-r.sizeMultiplier/n.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Ot(a),e.height-=a,e.depth+=a},rve=function(e,r,i,n,a,s){var o=Xe.makeSymbol(e,"Main-Regular",a,n),l=M8(o,r,n,s);return i&&az(l,n,r),l},ive=function(e,r,i,n){return Xe.makeSymbol(e,"Size"+r+"-Regular",i,n)},sz=function(e,r,i,n,a,s){var o=ive(e,r,a,n),l=M8(Xe.makeSpan(["delimsizing","size"+r],[o],n),Nr.TEXT,n,s);return i&&az(l,n,Nr.TEXT),l},k8=function(e,r,i){var n;r==="Size1-Regular"?n="delim-size1":n="delim-size4";var a=Xe.makeSpan(["delimsizinginner",n],[Xe.makeSpan([],[Xe.makeSymbol(e,r,i)])]);return{type:"elem",elem:a}},C8=function(e,r,i){var n=C0["Size4-Regular"][e.charCodeAt(0)]?C0["Size4-Regular"][e.charCodeAt(0)][4]:C0["Size1-Regular"][e.charCodeAt(0)][4],a=new $c("inner",l5e(e,Math.round(1e3*r))),s=new yu([a],{width:Ot(n),height:Ot(r),style:"width:"+Ot(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=Xe.makeSvgSpan([],[s],i);return o.height=r,o.style.height=Ot(r),o.style.width=Ot(n),{type:"elem",elem:o}},N8=.008,X4={type:"kern",size:-1*N8},nve=["|","\\lvert","\\rvert","\\vert"],ave=["\\|","\\lVert","\\rVert","\\Vert"],oz=function(e,r,i,n,a,s){var o,l,u,c,h="",p=0;o=u=c=e,l=null;var d="Size1-Regular";e==="\\uparrow"?u=c="⏐":e==="\\Uparrow"?u=c="‖":e==="\\downarrow"?o=u="⏐":e==="\\Downarrow"?o=u="‖":e==="\\updownarrow"?(o="\\uparrow",u="⏐",c="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="‖",c="\\Downarrow"):nve.includes(e)?(u="∣",h="vert",p=333):ave.includes(e)?(u="∥",h="doublevert",p=556):e==="["||e==="\\lbrack"?(o="⎡",u="⎢",c="⎣",d="Size4-Regular",h="lbrack",p=667):e==="]"||e==="\\rbrack"?(o="⎤",u="⎥",c="⎦",d="Size4-Regular",h="rbrack",p=667):e==="\\lfloor"||e==="⌊"?(u=o="⎢",c="⎣",d="Size4-Regular",h="lfloor",p=667):e==="\\lceil"||e==="⌈"?(o="⎡",u=c="⎢",d="Size4-Regular",h="lceil",p=667):e==="\\rfloor"||e==="⌋"?(u=o="⎥",c="⎦",d="Size4-Regular",h="rfloor",p=667):e==="\\rceil"||e==="⌉"?(o="⎤",u=c="⎥",d="Size4-Regular",h="rceil",p=667):e==="("||e==="\\lparen"?(o="⎛",u="⎜",c="⎝",d="Size4-Regular",h="lparen",p=875):e===")"||e==="\\rparen"?(o="⎞",u="⎟",c="⎠",d="Size4-Regular",h="rparen",p=875):e==="\\{"||e==="\\lbrace"?(o="⎧",l="⎨",c="⎩",u="⎪",d="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="⎫",l="⎬",c="⎭",u="⎪",d="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(o="⎧",c="⎩",u="⎪",d="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(o="⎫",c="⎭",u="⎪",d="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(o="⎧",c="⎭",u="⎪",d="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(o="⎫",c="⎩",u="⎪",d="Size4-Regular");var m=tf(o,d,a),f=m.height+m.depth,v=tf(u,d,a),y=v.height+v.depth,x=tf(c,d,a),g=x.height+x.depth,b=0,k=1;if(l!==null){var w=tf(l,d,a);b=w.height+w.depth,k=2}var N=f+g+b,A=Math.max(0,Math.ceil((r-N)/(k*y))),$=N+A*k*y,D=n.fontMetrics().axisHeight;i&&(D*=n.sizeMultiplier);var _=$/2-D,T=[];if(h.length>0){var z=$-f-g,P=Math.round($*1e3),q=u5e(h,Math.round(z*1e3)),L=new $c(h,q),Z=(p/1e3).toFixed(3)+"em",W=(P/1e3).toFixed(3)+"em",Y=new yu([L],{width:Z,height:W,viewBox:"0 0 "+p+" "+P}),ie=Xe.makeSvgSpan([],[Y],n);ie.height=P/1e3,ie.style.width=Z,ie.style.height=W,T.push({type:"elem",elem:ie})}else{if(T.push(k8(c,d,a)),T.push(X4),l===null){var re=$-f-g+2*N8;T.push(C8(u,re,n))}else{var R=($-f-g-b)/2+2*N8;T.push(C8(u,R,n)),T.push(X4),T.push(k8(l,d,a)),T.push(X4),T.push(C8(u,R,n))}T.push(X4),T.push(k8(o,d,a))}var X=n.havingBaseStyle(Nr.TEXT),E=Xe.makeVList({positionType:"bottom",positionData:_,children:T},X);return M8(Xe.makeSpan(["delimsizing","mult"],[E],X),Nr.TEXT,n,s)},S8=80,D8=.08,A8=function(e,r,i,n,a){var s=o5e(e,n,i),o=new $c(e,s),l=new yu([o],{width:"400em",height:Ot(r),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return Xe.makeSvgSpan(["hide-tail"],[l],a)},sve=function(e,r){var i=r.havingBaseSizing(),n=hz("\\surd",e*i.sizeMultiplier,cz,i),a=i.sizeMultiplier,s=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,l=0,u=0,c=0,h;return n.type==="small"?(c=1e3+1e3*s+S8,e<1?a=1:e<1.4&&(a=.7),l=(1+s+D8)/a,u=(1+s)/a,o=A8("sqrtMain",l,c,s,r),o.style.minWidth="0.853em",h=.833/a):n.type==="large"?(c=(1e3+S8)*rf[n.size],u=(rf[n.size]+s)/a,l=(rf[n.size]+s+D8)/a,o=A8("sqrtSize"+n.size,l,c,s,r),o.style.minWidth="1.02em",h=1/a):(l=e+s+D8,u=e+s,c=Math.floor(1e3*e+s)+S8,o=A8("sqrtTall",l,c,s,r),o.style.minWidth="0.742em",h=1.056),o.height=u,o.style.height=Ot(l),{span:o,advanceWidth:h,ruleWidth:(r.fontMetrics().sqrtRuleThickness+s)*a}},lz=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],ove=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],uz=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],rf=[0,1.2,1.8,2.4,3],lve=function(e,r,i,n,a){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),lz.includes(e)||uz.includes(e))return sz(e,r,!1,i,n,a);if(ove.includes(e))return oz(e,rf[r],!1,i,n,a);throw new $t("Illegal delimiter: '"+e+"'")},uve=[{type:"small",style:Nr.SCRIPTSCRIPT},{type:"small",style:Nr.SCRIPT},{type:"small",style:Nr.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],cve=[{type:"small",style:Nr.SCRIPTSCRIPT},{type:"small",style:Nr.SCRIPT},{type:"small",style:Nr.TEXT},{type:"stack"}],cz=[{type:"small",style:Nr.SCRIPTSCRIPT},{type:"small",style:Nr.SCRIPT},{type:"small",style:Nr.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],hve=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},hz=function(e,r,i,n){for(var a=Math.min(2,3-n.style.size),s=a;s<i.length&&i[s].type!=="stack";s++){var o=tf(e,hve(i[s]),"math"),l=o.height+o.depth;if(i[s].type==="small"){var u=n.havingBaseStyle(i[s].style);l*=u.sizeMultiplier}if(l>r)return i[s]}return i[i.length-1]},pz=function(e,r,i,n,a,s){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var o;uz.includes(e)?o=uve:lz.includes(e)?o=cz:o=cve;var l=hz(e,r,o,n);return l.type==="small"?rve(e,l.style,i,n,a,s):l.type==="large"?sz(e,l.size,i,n,a,s):oz(e,r,i,n,a,s)},pve=function(e,r,i,n,a,s){var o=n.fontMetrics().axisHeight*n.sizeMultiplier,l=901,u=5/n.fontMetrics().ptPerEm,c=Math.max(r-o,i+o),h=Math.max(c/500*l,2*c-u);return pz(e,h,!0,n,a,s)},ku={sqrtImage:sve,sizedDelim:lve,sizeToMaxHeight:rf,customSizedDelim:pz,leftRightDelim:pve},dz={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},dve=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Q4(t,e){var r=W4(t);if(r&&dve.includes(r.text))return r;throw r?new $t("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new $t("Invalid delimiter type '"+t.type+"'",t)}Zt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=Q4(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:dz[t.funcName].size,mclass:dz[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?Xe.makeSpan([t.mclass]):ku.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(bl(t.delim,t.mode));var r=new St.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var i=Ot(ku.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",i),r.setAttribute("maxsize",i),r}});function mz(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Zt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new $t("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Q4(e[0],t).text,color:r}}}),Zt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Q4(e[0],t),i=t.parser;++i.leftrightDepth;var n=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=ii(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:n,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{mz(t);for(var r=Ra(t.body,e,!0,["mopen","mclose"]),i=0,n=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(i=Math.max(r[s].height,i),n=Math.max(r[s].depth,n));i*=e.sizeMultiplier,n*=e.sizeMultiplier;var o;if(t.left==="."?o=ef(e,["mopen"]):o=ku.leftRightDelim(t.left,i,n,e,t.mode,["mopen"]),r.unshift(o),a)for(var l=1;l<r.length;l++){var u=r[l],c=u.isMiddle;c&&(r[l]=ku.leftRightDelim(c.delim,i,n,c.options,t.mode,[]))}var h;if(t.right===".")h=ef(e,["mclose"]);else{var p=t.rightColor?e.withColor(t.rightColor):e;h=ku.leftRightDelim(t.right,i,n,p,t.mode,["mclose"])}return r.push(h),Xe.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{mz(t);var r=ko(t.body,e);if(t.left!=="."){var i=new St.MathNode("mo",[bl(t.left,t.mode)]);i.setAttribute("fence","true"),r.unshift(i)}if(t.right!=="."){var n=new St.MathNode("mo",[bl(t.right,t.mode)]);n.setAttribute("fence","true"),t.rightColor&&n.setAttribute("mathcolor",t.rightColor),r.push(n)}return g8(r)}}),Zt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Q4(e[0],t);if(!t.parser.leftrightDepth)throw new $t("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=ef(e,[]);else{r=ku.sizedDelim(t.delim,1,e,t.mode,[]);var i={delim:t.delim,options:e};r.isMiddle=i}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?bl("|","text"):bl(t.delim,t.mode),i=new St.MathNode("mo",[r]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var $8=(t,e)=>{var r=Xe.wrapFragment(zi(t.body,e),e),i=t.label.slice(1),n=e.sizeMultiplier,a,s=0,o=ji.isCharacterBox(t.body);if(i==="sout")a=Xe.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/n,s=-.5*e.fontMetrics().xHeight;else if(i==="phase"){var l=jn({number:.6,unit:"pt"},e),u=jn({number:.35,unit:"ex"},e),c=e.havingBaseSizing();n=n/c.sizeMultiplier;var h=r.height+r.depth+l+u;r.style.paddingLeft=Ot(h/2+l);var p=Math.floor(1e3*h*n),d=a5e(p),m=new yu([new $c("phase",d)],{width:"400em",height:Ot(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});a=Xe.makeSvgSpan(["hide-tail"],[m],e),a.style.height=Ot(h),s=r.depth+l+u}else{/cancel/.test(i)?o||r.classes.push("cancel-pad"):i==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var f=0,v=0,y=0;/box/.test(i)?(y=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),f=e.fontMetrics().fboxsep+(i==="colorbox"?0:y),v=f):i==="angl"?(y=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),f=4*y,v=Math.max(0,.25-r.depth)):(f=o?.2:0,v=f),a=Mu.encloseSpan(r,i,f,v,e),/fbox|boxed|fcolorbox/.test(i)?(a.style.borderStyle="solid",a.style.borderWidth=Ot(y)):i==="angl"&&y!==.049&&(a.style.borderTopWidth=Ot(y),a.style.borderRightWidth=Ot(y)),s=r.depth+v,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var x;if(t.backgroundColor)x=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:0}]},e);else{var g=/cancel|phase/.test(i)?["svg-align"]:[];x=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:g}]},e)}return/cancel/.test(i)&&(x.height=r.height,x.depth=r.depth),/cancel/.test(i)&&!o?Xe.makeSpan(["mord","cancel-lap"],[x],e):Xe.makeSpan(["mord"],[x],e)},_8=(t,e)=>{var r=0,i=new St.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[vn(t.body,e)]);switch(t.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*r+"pt"),i.setAttribute("height","+"+2*r+"pt"),i.setAttribute("lspace",r+"pt"),i.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var n=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);i.setAttribute("style","border: "+n+"em solid "+String(t.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&i.setAttribute("mathbackground",t.backgroundColor),i};Zt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:i,funcName:n}=t,a=ii(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:i.mode,label:n,backgroundColor:a,body:s}},htmlBuilder:$8,mathmlBuilder:_8}),Zt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:i,funcName:n}=t,a=ii(e[0],"color-token").color,s=ii(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:i.mode,label:n,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:$8,mathmlBuilder:_8}),Zt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}}),Zt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];return{type:"enclose",mode:r.mode,label:i,body:n}},htmlBuilder:$8,mathmlBuilder:_8}),Zt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var fz={};function S0(t){for(var{type:e,names:r,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:n},l=0;l<r.length;++l)fz[r[l]]=o;a&&(V4[e]=a),s&&(G4[e]=s)}var gz={};function he(t,e){gz[t]=e}function vz(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var J4=t=>{var e=t.parser.settings;if(!e.displayMode)throw new $t("{"+t.envName+"} can be used only in display mode.")};function E8(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Ic(t,e,r){var{hskipBeforeAndAfter:i,addJot:n,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:h,leqno:p}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var d=t.gullet.expandMacroAsText("\\arraystretch");if(d==null)s=1;else if(s=parseFloat(d),!s||s<0)throw new $t("Invalid \\arraystretch: "+d)}t.gullet.beginGroup();var m=[],f=[m],v=[],y=[],x=l!=null?[]:void 0;function g(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function b(){x&&(t.gullet.macros.get("\\df@tag")?(x.push(t.subparse([new Po("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):x.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(g(),y.push(vz(t));;){var k=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),k={type:"ordgroup",mode:t.mode,body:k},r&&(k={type:"styling",mode:t.mode,style:r,body:[k]}),m.push(k);var w=t.fetch().text;if(w==="&"){if(h&&m.length===h){if(u||o)throw new $t("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(w==="\\end"){b(),m.length===1&&k.type==="styling"&&k.body[0].body.length===0&&(f.length>1||!c)&&f.pop(),y.length<f.length+1&&y.push([]);break}else if(w==="\\\\"){t.consume();var N=void 0;t.gullet.future().text!==" "&&(N=t.parseSizeGroup(!0)),v.push(N?N.value:null),b(),y.push(vz(t)),m=[],f.push(m),g()}else throw new $t("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:n,arraystretch:s,body:f,cols:a,rowGaps:v,hskipBeforeAndAfter:i,hLinesBeforeRow:y,colSeparationType:o,tags:x,leqno:p}}function I8(t){return t.slice(0,1)==="d"?"display":"text"}var D0=function(e,r){var i,n,a=e.body.length,s=e.hLinesBeforeRow,o=0,l=new Array(a),u=[],c=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),h=1/r.fontMetrics().ptPerEm,p=5*h;if(e.colSeparationType&&e.colSeparationType==="small"){var d=r.havingStyle(Nr.SCRIPT).sizeMultiplier;p=.2778*(d/r.sizeMultiplier)}var m=e.colSeparationType==="CD"?jn({number:3,unit:"ex"},r):12*h,f=3*h,v=e.arraystretch*m,y=.7*v,x=.3*v,g=0;function b(Ue){for(var lt=0;lt<Ue.length;++lt)lt>0&&(g+=.25),u.push({pos:g,isDashed:Ue[lt]})}for(b(s[0]),i=0;i<e.body.length;++i){var k=e.body[i],w=y,N=x;o<k.length&&(o=k.length);var A=new Array(k.length);for(n=0;n<k.length;++n){var $=zi(k[n],r);N<$.depth&&(N=$.depth),w<$.height&&(w=$.height),A[n]=$}var D=e.rowGaps[i],_=0;D&&(_=jn(D,r),_>0&&(_+=x,N<_&&(N=_),_=0)),e.addJot&&(N+=f),A.height=w,A.depth=N,g+=w,A.pos=g,g+=N+_,l[i]=A,b(s[i+1])}var T=g/2+r.fontMetrics().axisHeight,z=e.cols||[],P=[],q,L,Z=[];if(e.tags&&e.tags.some(Ue=>Ue))for(i=0;i<a;++i){var W=l[i],Y=W.pos-T,ie=e.tags[i],re=void 0;ie===!0?re=Xe.makeSpan(["eqn-num"],[],r):ie===!1?re=Xe.makeSpan([],[],r):re=Xe.makeSpan([],Ra(ie,r,!0),r),re.depth=W.depth,re.height=W.height,Z.push({type:"elem",elem:re,shift:Y})}for(n=0,L=0;n<o||L<z.length;++n,++L){for(var R=z[L]||{},X=!0;R.type==="separator";){if(X||(q=Xe.makeSpan(["arraycolsep"],[]),q.style.width=Ot(r.fontMetrics().doubleRuleSep),P.push(q)),R.separator==="|"||R.separator===":"){var E=R.separator==="|"?"solid":"dashed",oe=Xe.makeSpan(["vertical-separator"],[],r);oe.style.height=Ot(g),oe.style.borderRightWidth=Ot(c),oe.style.borderRightStyle=E,oe.style.margin="0 "+Ot(-c/2);var le=g-T;le&&(oe.style.verticalAlign=Ot(-le)),P.push(oe)}else throw new $t("Invalid separator type: "+R.separator);L++,R=z[L]||{},X=!1}if(!(n>=o)){var ne=void 0;(n>0||e.hskipBeforeAndAfter)&&(ne=ji.deflt(R.pregap,p),ne!==0&&(q=Xe.makeSpan(["arraycolsep"],[]),q.style.width=Ot(ne),P.push(q)));var H=[];for(i=0;i<a;++i){var ue=l[i],ae=ue[n];if(ae){var $e=ue.pos-T;ae.depth=ue.depth,ae.height=ue.height,H.push({type:"elem",elem:ae,shift:$e})}}H=Xe.makeVList({positionType:"individualShift",children:H},r),H=Xe.makeSpan(["col-align-"+(R.align||"c")],[H]),P.push(H),(n<o-1||e.hskipBeforeAndAfter)&&(ne=ji.deflt(R.postgap,p),ne!==0&&(q=Xe.makeSpan(["arraycolsep"],[]),q.style.width=Ot(ne),P.push(q)))}}if(l=Xe.makeSpan(["mtable"],P),u.length>0){for(var Ne=Xe.makeLineSpan("hline",r,c),ze=Xe.makeLineSpan("hdashline",r,c),Te=[{type:"elem",elem:l,shift:0}];u.length>0;){var Qe=u.pop(),nt=Qe.pos-T;Qe.isDashed?Te.push({type:"elem",elem:ze,shift:nt}):Te.push({type:"elem",elem:Ne,shift:nt})}l=Xe.makeVList({positionType:"individualShift",children:Te},r)}if(Z.length===0)return Xe.makeSpan(["mord"],[l],r);var rt=Xe.makeVList({positionType:"individualShift",children:Z},r);return rt=Xe.makeSpan(["tag"],[rt],r),Xe.makeFragment([l,rt])},mve={c:"center ",l:"left ",r:"right "},A0=function(e,r){for(var i=[],n=new St.MathNode("mtd",[],["mtr-glue"]),a=new St.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var o=e.body[s],l=[],u=0;u<o.length;u++)l.push(new St.MathNode("mtd",[vn(o[u],r)]));e.tags&&e.tags[s]&&(l.unshift(n),l.push(n),e.leqno?l.unshift(a):l.push(a)),i.push(new St.MathNode("mtr",l))}var c=new St.MathNode("mtable",i),h=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",Ot(h));var p="",d="";if(e.cols&&e.cols.length>0){var m=e.cols,f="",v=!1,y=0,x=m.length;m[0].type==="separator"&&(p+="top ",y=1),m[m.length-1].type==="separator"&&(p+="bottom ",x-=1);for(var g=y;g<x;g++)m[g].type==="align"?(d+=mve[m[g].align],v&&(f+="none "),v=!0):m[g].type==="separator"&&v&&(f+=m[g].separator==="|"?"solid ":"dashed ",v=!1);c.setAttribute("columnalign",d.trim()),/[sd]/.test(f)&&c.setAttribute("columnlines",f.trim())}if(e.colSeparationType==="align"){for(var b=e.cols||[],k="",w=1;w<b.length;w++)k+=w%2?"0em ":"1em ";c.setAttribute("columnspacing",k.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var N="",A=e.hLinesBeforeRow;p+=A[0].length>0?"left ":"",p+=A[A.length-1].length>0?"right ":"";for(var $=1;$<A.length-1;$++)N+=A[$].length===0?"none ":A[$][0]?"dashed ":"solid ";return/[sd]/.test(N)&&c.setAttribute("rowlines",N.trim()),p!==""&&(c=new St.MathNode("menclose",[c]),c.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(c=new St.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},yz=function(e,r){e.envName.indexOf("ed")===-1&&J4(e);var i=[],n=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=Ic(e.parser,{cols:i,addJot:!0,autoTag:a?void 0:E8(e.envName),emptySingleRow:!0,colSeparationType:n,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var c="",h=0;h<r[0].body.length;h++){var p=ii(r[0].body[h],"textord");c+=p.text}o=Number(c),l=o*2}var d=!l;s.body.forEach(function(y){for(var x=1;x<y.length;x+=2){var g=ii(y[x],"styling"),b=ii(g.body[0],"ordgroup");b.body.unshift(u)}if(d)l<y.length&&(l=y.length);else{var k=y.length/2;if(o<k)throw new $t("Too many math in a row: "+("expected "+o+", but got "+k),y[0])}});for(var m=0;m<l;++m){var f="r",v=0;m%2===1?f="l":m>0&&d&&(v=1),i[m]={type:"align",align:f,pregap:v,postgap:0}}return s.colSeparationType=d?"align":"alignat",s};S0({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=W4(e[0]),i=r?[e[0]]:ii(e[0],"ordgroup").body,n=i.map(function(s){var o=b8(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new $t("Unknown column alignment: "+l,s)}),a={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Ic(t.parser,a,I8(t.envName))},htmlBuilder:D0,mathmlBuilder:A0}),S0({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var n=t.parser;if(n.consumeSpaces(),n.fetch().text==="["){if(n.consume(),n.consumeSpaces(),r=n.fetch().text,"lcr".indexOf(r)===-1)throw new $t("Expected l or c or r",n.nextToken);n.consume(),n.consumeSpaces(),n.expect("]"),n.consume(),i.cols=[{type:"align",align:r}]}}var a=Ic(t.parser,i,I8(t.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:D0,mathmlBuilder:A0}),S0({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Ic(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:D0,mathmlBuilder:A0}),S0({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=W4(e[0]),i=r?[e[0]]:ii(e[0],"ordgroup").body,n=i.map(function(s){var o=b8(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new $t("Unknown column alignment: "+l,s)});if(n.length>1)throw new $t("{subarray} can contain only one column");var a={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Ic(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new $t("{subarray} can contain only one column");return a},htmlBuilder:D0,mathmlBuilder:A0}),S0({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Ic(t.parser,e,I8(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:D0,mathmlBuilder:A0}),S0({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:yz,htmlBuilder:D0,mathmlBuilder:A0}),S0({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&J4(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:E8(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Ic(t.parser,e,"display")},htmlBuilder:D0,mathmlBuilder:A0}),S0({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:yz,htmlBuilder:D0,mathmlBuilder:A0}),S0({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){J4(t);var e={autoTag:E8(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Ic(t.parser,e,"display")},htmlBuilder:D0,mathmlBuilder:A0}),S0({type:"array",names:["CD"],props:{numArgs:0},handler(t){return J4(t),eve(t.parser)},htmlBuilder:D0,mathmlBuilder:A0}),he("\\nonumber","\\gdef\\@eqnsw{0}"),he("\\notag","\\nonumber"),Zt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new $t(t.funcName+" valid only within array environment")}});var bz=fz;Zt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];if(n.type!=="ordgroup")throw new $t("Invalid environment name",n);for(var a="",s=0;s<n.body.length;++s)a+=ii(n.body[s],"textord").text;if(i==="\\begin"){if(!bz.hasOwnProperty(a))throw new $t("No such environment: "+a,n);var o=bz[a],{args:l,optArgs:u}=r.parseArguments("\\begin{"+a+"}",o),c={mode:r.mode,envName:a,parser:r},h=o.handler(c,l,u);r.expect("\\end",!1);var p=r.nextToken,d=ii(r.parseFunction(),"environment");if(d.name!==a)throw new $t("Mismatch: \\begin{"+a+"} matched by \\end{"+d.name+"}",p);return h}return{type:"environment",mode:r.mode,name:a,nameGroup:n}}});var xz=(t,e)=>{var r=t.font,i=e.withFont(r);return zi(t.body,i)},wz=(t,e)=>{var r=t.font,i=e.withFont(r);return vn(t.body,i)},Mz={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Zt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=Z4(e[0]),a=i;return a in Mz&&(a=Mz[a]),{type:"font",mode:r.mode,font:a.slice(1),body:n}},htmlBuilder:xz,mathmlBuilder:wz}),Zt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,i=e[0],n=ji.isCharacterBox(i);return{type:"mclass",mode:r.mode,mclass:K4(i),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:i}],isCharacterBox:n}}}),Zt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:i,breakOnTokenText:n}=t,{mode:a}=r,s=r.parseExpression(!0,n),o="math"+i.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:r.mode,body:s}}},htmlBuilder:xz,mathmlBuilder:wz});var kz=(t,e)=>{var r=e;return t==="display"?r=r.id>=Nr.SCRIPT.id?r.text():Nr.DISPLAY:t==="text"&&r.size===Nr.DISPLAY.size?r=Nr.TEXT:t==="script"?r=Nr.SCRIPT:t==="scriptscript"&&(r=Nr.SCRIPTSCRIPT),r},T8=(t,e)=>{var r=kz(t.size,e.style),i=r.fracNum(),n=r.fracDen(),a;a=e.havingStyle(i);var s=zi(t.numer,a,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=e.havingStyle(n);var u=zi(t.denom,a,e),c,h,p;t.hasBarLine?(t.barSize?(h=jn(t.barSize,e),c=Xe.makeLineSpan("frac-line",e,h)):c=Xe.makeLineSpan("frac-line",e),h=c.height,p=c.height):(c=null,h=0,p=e.fontMetrics().defaultRuleThickness);var d,m,f;r.size===Nr.DISPLAY.size||t.size==="display"?(d=e.fontMetrics().num1,h>0?m=3*p:m=7*p,f=e.fontMetrics().denom1):(h>0?(d=e.fontMetrics().num2,m=p):(d=e.fontMetrics().num3,m=3*p),f=e.fontMetrics().denom2);var v;if(c){var x=e.fontMetrics().axisHeight;d-s.depth-(x+.5*h)<m&&(d+=m-(d-s.depth-(x+.5*h))),x-.5*h-(u.height-f)<m&&(f+=m-(x-.5*h-(u.height-f)));var g=-(x-.5*h);v=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:f},{type:"elem",elem:c,shift:g},{type:"elem",elem:s,shift:-d}]},e)}else{var y=d-s.depth-(u.height-f);y<m&&(d+=.5*(m-y),f+=.5*(m-y)),v=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:f},{type:"elem",elem:s,shift:-d}]},e)}a=e.havingStyle(r),v.height*=a.sizeMultiplier/e.sizeMultiplier,v.depth*=a.sizeMultiplier/e.sizeMultiplier;var b;r.size===Nr.DISPLAY.size?b=e.fontMetrics().delim1:r.size===Nr.SCRIPTSCRIPT.size?b=e.havingStyle(Nr.SCRIPT).fontMetrics().delim2:b=e.fontMetrics().delim2;var k,w;return t.leftDelim==null?k=ef(e,["mopen"]):k=ku.customSizedDelim(t.leftDelim,b,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?w=Xe.makeSpan([]):t.rightDelim==null?w=ef(e,["mclose"]):w=ku.customSizedDelim(t.rightDelim,b,!0,e.havingStyle(r),t.mode,["mclose"]),Xe.makeSpan(["mord"].concat(a.sizingClasses(e)),[k,Xe.makeSpan(["mfrac"],[v]),w],e)},L8=(t,e)=>{var r=new St.MathNode("mfrac",[vn(t.numer,e),vn(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var i=jn(t.barSize,e);r.setAttribute("linethickness",Ot(i))}var n=kz(t.size,e.style);if(n.size!==e.style.size){r=new St.MathNode("mstyle",[r]);var a=n.size===Nr.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var o=new St.MathNode("mo",[new St.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(r),t.rightDelim!=null){var l=new St.MathNode("mo",[new St.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return g8(s)}return r};Zt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0],a=e[1],s,o=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:n,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:T8,mathmlBuilder:L8}),Zt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:n,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Zt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:i}=t,n;switch(r){case"\\over":n="\\frac";break;case"\\choose":n="\\binom";break;case"\\atop":n="\\\\atopfrac";break;case"\\brace":n="\\\\bracefrac";break;case"\\brack":n="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:n,token:i}}});var Cz=["display","text","script","scriptscript"],Nz=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};Zt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,i=e[4],n=e[5],a=Z4(e[0]),s=a.type==="atom"&&a.family==="open"?Nz(a.text):null,o=Z4(e[1]),l=o.type==="atom"&&o.family==="close"?Nz(o.text):null,u=ii(e[2],"size"),c,h=null;u.isBlank?c=!0:(h=u.value,c=h.number>0);var p="auto",d=e[3];if(d.type==="ordgroup"){if(d.body.length>0){var m=ii(d.body[0],"textord");p=Cz[Number(m.text)]}}else d=ii(d,"textord"),p=Cz[Number(d.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:n,continued:!1,hasBarLine:c,barSize:h,leftDelim:s,rightDelim:l,size:p}},htmlBuilder:T8,mathmlBuilder:L8}),Zt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:i,token:n}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:ii(e[0],"size").value,token:n}}}),Zt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0],a=V3e(ii(e[1],"infix").size),s=e[2],o=a.number>0;return{type:"genfrac",mode:r.mode,numer:n,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:T8,mathmlBuilder:L8});var Sz=(t,e)=>{var r=e.style,i,n;t.type==="supsub"?(i=t.sup?zi(t.sup,e.havingStyle(r.sup()),e):zi(t.sub,e.havingStyle(r.sub()),e),n=ii(t.base,"horizBrace")):n=ii(t,"horizBrace");var a=zi(n.base,e.havingBaseStyle(Nr.DISPLAY)),s=Mu.svgSpan(n,e),o;if(n.isOver?(o=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Xe.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),i){var l=Xe.makeSpan(["mord",n.isOver?"mover":"munder"],[o],e);n.isOver?o=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:i}]},e):o=Xe.makeVList({positionType:"bottom",positionData:l.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return Xe.makeSpan(["mord",n.isOver?"mover":"munder"],[o],e)},fve=(t,e)=>{var r=Mu.mathMLnode(t.label);return new St.MathNode(t.isOver?"mover":"munder",[vn(t.base,e),r])};Zt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t;return{type:"horizBrace",mode:r.mode,label:i,isOver:/^\\over/.test(i),base:e[0]}},htmlBuilder:Sz,mathmlBuilder:fve}),Zt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[1],n=ii(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:n})?{type:"href",mode:r.mode,href:n,body:da(i)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=Ra(t.body,e,!1);return Xe.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=Ec(t.body,e);return r instanceof jo||(r=new jo("mrow",[r])),r.setAttribute("href",t.href),r}}),Zt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=ii(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:i}))return r.formatUnsupportedCmd("\\url");for(var n=[],a=0;a<i.length;a++){var s=i[a];s==="~"&&(s="\\textasciitilde"),n.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:r.mode,font:"\\texttt",body:n};return{type:"href",mode:r.mode,href:i,body:da(o)}}}),Zt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:da(e[0])}},htmlBuilder(t,e){var r=Ra(t.body,e,!1);return Xe.makeFragment(r)},mathmlBuilder(t,e){return new St.MathNode("mrow",ko(t.body,e))}}),Zt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:i,token:n}=t,a=ii(e[0],"raw").string,s=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(i){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length!==2)throw new $t("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:l,body:da(s)}:r.formatUnsupportedCmd(i)},htmlBuilder:(t,e)=>{var r=Ra(t.body,e,!1),i=["enclosing"];t.attributes.class&&i.push(...t.attributes.class.trim().split(/\s+/));var n=Xe.makeSpan(i,r,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&n.setAttribute(a,t.attributes[a]);return n},mathmlBuilder:(t,e)=>Ec(t.body,e)}),Zt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:da(e[0]),mathml:da(e[1])}},htmlBuilder:(t,e)=>{var r=Ra(t.html,e,!1);return Xe.makeFragment(r)},mathmlBuilder:(t,e)=>Ec(t.mathml,e)});var z8=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new $t("Invalid size: '"+e+"' in \\includegraphics");var i={number:+(r[1]+r[2]),unit:r[3]};if(!AL(i))throw new $t("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};Zt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:i}=t,n={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(r[0])for(var l=ii(r[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length===2){var p=h[1].trim();switch(h[0].trim()){case"alt":o=p;break;case"width":n=z8(p);break;case"height":a=z8(p);break;case"totalheight":s=z8(p);break;default:throw new $t("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var d=ii(e[0],"url").url;return o===""&&(o=d,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:d})?{type:"includegraphics",mode:i.mode,alt:o,width:n,height:a,totalheight:s,src:d}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=jn(t.height,e),i=0;t.totalheight.number>0&&(i=jn(t.totalheight,e)-r);var n=0;t.width.number>0&&(n=jn(t.width,e));var a={height:Ot(r+i)};n>0&&(a.width=Ot(n)),i>0&&(a.verticalAlign=Ot(-i));var s=new f5e(t.src,t.alt,a);return s.height=r,s.depth=i,s},mathmlBuilder:(t,e)=>{var r=new St.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var i=jn(t.height,e),n=0;if(t.totalheight.number>0&&(n=jn(t.totalheight,e)-i,r.setAttribute("valign",Ot(-n))),r.setAttribute("height",Ot(i+n)),t.width.number>0){var a=jn(t.width,e);r.setAttribute("width",Ot(a))}return r.setAttribute("src",t.src),r}}),Zt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:i}=t,n=ii(e[0],"size");if(r.settings.strict){var a=i[1]==="m",s=n.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+n.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:n.value}},htmlBuilder(t,e){return Xe.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=jn(t.dimension,e);return new St.SpaceNode(r)}}),Zt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0];return{type:"lap",mode:r.mode,alignment:i.slice(5),body:n}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=Xe.makeSpan([],[zi(t.body,e)]),r=Xe.makeSpan(["inner"],[r],e)):r=Xe.makeSpan(["inner"],[zi(t.body,e)]);var i=Xe.makeSpan(["fix"],[]),n=Xe.makeSpan([t.alignment],[r,i],e),a=Xe.makeSpan(["strut"]);return a.style.height=Ot(n.height+n.depth),n.depth&&(a.style.verticalAlign=Ot(-n.depth)),n.children.unshift(a),n=Xe.makeSpan(["thinbox"],[n],e),Xe.makeSpan(["mord","vbox"],[n],e)},mathmlBuilder:(t,e)=>{var r=new St.MathNode("mpadded",[vn(t.body,e)]);if(t.alignment!=="rlap"){var i=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",i+"width")}return r.setAttribute("width","0px"),r}}),Zt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:i}=t,n=i.mode;i.switchMode("math");var a=r==="\\("?"\\)":"$",s=i.parseExpression(!1,a);return i.expect(a),i.switchMode(n),{type:"styling",mode:i.mode,style:"text",body:s}}}),Zt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new $t("Mismatched "+t.funcName)}});var Dz=(t,e)=>{switch(e.style.size){case Nr.DISPLAY.size:return t.display;case Nr.TEXT.size:return t.text;case Nr.SCRIPT.size:return t.script;case Nr.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Zt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:da(e[0]),text:da(e[1]),script:da(e[2]),scriptscript:da(e[3])}},htmlBuilder:(t,e)=>{var r=Dz(t,e),i=Ra(r,e,!1);return Xe.makeFragment(i)},mathmlBuilder:(t,e)=>{var r=Dz(t,e);return Ec(r,e)}});var Az=(t,e,r,i,n,a,s)=>{t=Xe.makeSpan([],[t]);var o=r&&ji.isCharacterBox(r),l,u;if(e){var c=zi(e,i.havingStyle(n.sup()),i);u={elem:c,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-c.depth)}}if(r){var h=zi(r,i.havingStyle(n.sub()),i);l={elem:h,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-h.height)}}var p;if(u&&l){var d=i.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+s;p=Xe.makeVList({positionType:"bottom",positionData:d,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Ot(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ot(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(l){var m=t.height-s;p=Xe.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Ot(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},i)}else if(u){var f=t.depth+s;p=Xe.makeVList({positionType:"bottom",positionData:f,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ot(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return t;var v=[p];if(l&&a!==0&&!o){var y=Xe.makeSpan(["mspace"],[],i);y.style.marginRight=Ot(a),v.unshift(y)}return Xe.makeSpan(["mop","op-limits"],v,i)},$z=["\\smallint"],Hp=(t,e)=>{var r,i,n=!1,a;t.type==="supsub"?(r=t.sup,i=t.sub,a=ii(t.base,"op"),n=!0):a=ii(t,"op");var s=e.style,o=!1;s.size===Nr.DISPLAY.size&&a.symbol&&!$z.includes(a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",c="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(c=a.name.slice(1),a.name=c==="oiint"?"\\iint":"\\iiint"),l=Xe.makeSymbol(a.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),c.length>0){var h=l.italic,p=Xe.staticSvg(c+"Size"+(o?"2":"1"),e);l=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:p,shift:o?.08:0}]},e),a.name="\\"+c,l.classes.unshift("mop"),l.italic=h}}else if(a.body){var d=Ra(a.body,e,!0);d.length===1&&d[0]instanceof yl?(l=d[0],l.classes[0]="mop"):l=Xe.makeSpan(["mop"],d,e)}else{for(var m=[],f=1;f<a.name.length;f++)m.push(Xe.mathsym(a.name[f],a.mode,e));l=Xe.makeSpan(["mop"],m,e)}var v=0,y=0;return(l instanceof yl||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(v=(l.height-l.depth)/2-e.fontMetrics().axisHeight,y=l.italic),n?Az(l,r,i,e,s,y,v):(v&&(l.style.position="relative",l.style.top=Ot(v)),l)},nf=(t,e)=>{var r;if(t.symbol)r=new jo("mo",[bl(t.name,t.mode)]),$z.includes(t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new jo("mo",ko(t.body,e));else{r=new jo("mi",[new N0(t.name.slice(1))]);var i=new jo("mo",[bl("⁡","text")]);t.parentIsSupSub?r=new jo("mrow",[r,i]):r=ZL([r,i])}return r},gve={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Zt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=i;return n.length===1&&(n=gve[n]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Hp,mathmlBuilder:nf}),Zt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:da(i)}},htmlBuilder:Hp,mathmlBuilder:nf});var vve={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Zt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Hp,mathmlBuilder:nf}),Zt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Hp,mathmlBuilder:nf}),Zt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,i=r;return i.length===1&&(i=vve[i]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Hp,mathmlBuilder:nf});var _z=(t,e)=>{var r,i,n=!1,a;t.type==="supsub"?(r=t.sup,i=t.sub,a=ii(t.base,"operatorname"),n=!0):a=ii(t,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(h=>{var p=h.text;return typeof p=="string"?{type:"textord",mode:h.mode,text:p}:h}),l=Ra(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof yl&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Xe.makeSpan(["mop"],l,e)}else s=Xe.makeSpan(["mop"],[],e);return n?Az(s,r,i,e,e.style,0,0):s},yve=(t,e)=>{for(var r=ko(t.body,e.withFont("mathrm")),i=!0,n=0;n<r.length;n++){var a=r[n];if(!(a instanceof St.SpaceNode))if(a instanceof St.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof St.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var o=r.map(c=>c.toText()).join("");r=[new St.TextNode(o)]}var l=new St.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new St.MathNode("mo",[bl("⁡","text")]);return t.parentIsSupSub?new St.MathNode("mrow",[l,u]):St.newDocumentFragment([l,u])};Zt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0];return{type:"operatorname",mode:r.mode,body:da(n),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:_z,mathmlBuilder:yve}),he("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),s1({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?Xe.makeFragment(Ra(t.body,e,!1)):Xe.makeSpan(["mord"],Ra(t.body,e,!0),e)},mathmlBuilder(t,e){return Ec(t.body,e,!0)}}),Zt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,i=e[0];return{type:"overline",mode:r.mode,body:i}},htmlBuilder(t,e){var r=zi(t.body,e.havingCrampedStyle()),i=Xe.makeLineSpan("overline-line",e),n=e.fontMetrics().defaultRuleThickness,a=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*n},{type:"elem",elem:i},{type:"kern",size:n}]},e);return Xe.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var r=new St.MathNode("mo",[new St.TextNode("‾")]);r.setAttribute("stretchy","true");var i=new St.MathNode("mover",[vn(t.body,e),r]);return i.setAttribute("accent","true"),i}}),Zt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"phantom",mode:r.mode,body:da(i)}},htmlBuilder:(t,e)=>{var r=Ra(t.body,e.withPhantom(),!1);return Xe.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=ko(t.body,e);return new St.MathNode("mphantom",r)}}),Zt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"hphantom",mode:r.mode,body:i}},htmlBuilder:(t,e)=>{var r=Xe.makeSpan([],[zi(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var i=0;i<r.children.length;i++)r.children[i].height=0,r.children[i].depth=0;return r=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),Xe.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=ko(da(t.body),e),i=new St.MathNode("mphantom",r),n=new St.MathNode("mpadded",[i]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n}}),Zt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"vphantom",mode:r.mode,body:i}},htmlBuilder:(t,e)=>{var r=Xe.makeSpan(["inner"],[zi(t.body,e.withPhantom())]),i=Xe.makeSpan(["fix"],[]);return Xe.makeSpan(["mord","rlap"],[r,i],e)},mathmlBuilder:(t,e)=>{var r=ko(da(t.body),e),i=new St.MathNode("mphantom",r),n=new St.MathNode("mpadded",[i]);return n.setAttribute("width","0px"),n}}),Zt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,i=ii(e[0],"size").value,n=e[1];return{type:"raisebox",mode:r.mode,dy:i,body:n}},htmlBuilder(t,e){var r=zi(t.body,e),i=jn(t.dy,e);return Xe.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new St.MathNode("mpadded",[vn(t.body,e)]),i=t.dy.number+t.dy.unit;return r.setAttribute("voffset",i),r}}),Zt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}}),Zt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:i}=t,n=r[0],a=ii(e[0],"size"),s=ii(e[1],"size");return{type:"rule",mode:i.mode,shift:n&&ii(n,"size").value,width:a.value,height:s.value}},htmlBuilder(t,e){var r=Xe.makeSpan(["mord","rule"],[],e),i=jn(t.width,e),n=jn(t.height,e),a=t.shift?jn(t.shift,e):0;return r.style.borderRightWidth=Ot(i),r.style.borderTopWidth=Ot(n),r.style.bottom=Ot(a),r.width=i,r.height=n+a,r.depth=-a,r.maxFontSize=n*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=jn(t.width,e),i=jn(t.height,e),n=t.shift?jn(t.shift,e):0,a=e.color&&e.getColor()||"black",s=new St.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Ot(r)),s.setAttribute("height",Ot(i));var o=new St.MathNode("mpadded",[s]);return n>=0?o.setAttribute("height",Ot(n)):(o.setAttribute("height",Ot(n)),o.setAttribute("depth",Ot(-n))),o.setAttribute("voffset",Ot(n)),o}});function Ez(t,e,r){for(var i=Ra(t,e,!1),n=e.sizeMultiplier/r.sizeMultiplier,a=0;a<i.length;a++){var s=i[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[a].classes,e.sizingClasses(r)):i[a].classes[s+1]==="reset-size"+e.size&&(i[a].classes[s+1]="reset-size"+r.size),i[a].height*=n,i[a].depth*=n}return Xe.makeFragment(i)}var Iz=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],bve=(t,e)=>{var r=e.havingSize(t.size);return Ez(t.body,r,e)};Zt({type:"sizing",names:Iz,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:i,parser:n}=t,a=n.parseExpression(!1,r);return{type:"sizing",mode:n.mode,size:Iz.indexOf(i)+1,body:a}},htmlBuilder:bve,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),i=ko(t.body,r),n=new St.MathNode("mstyle",i);return n.setAttribute("mathsize",Ot(r.sizeMultiplier)),n}}),Zt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:i}=t,n=!1,a=!1,s=r[0]&&ii(r[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")n=!0;else if(o==="b")a=!0;else{n=!1,a=!1;break}}else n=!0,a=!0;var c=e[0];return{type:"smash",mode:i.mode,body:c,smashHeight:n,smashDepth:a}},htmlBuilder:(t,e)=>{var r=Xe.makeSpan([],[zi(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].depth=0;var a=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return Xe.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var r=new St.MathNode("mpadded",[vn(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}}),Zt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:i}=t,n=r[0],a=e[0];return{type:"sqrt",mode:i.mode,body:a,index:n}},htmlBuilder(t,e){var r=zi(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=Xe.wrapFragment(r,e);var i=e.fontMetrics(),n=i.defaultRuleThickness,a=n;e.style.id<Nr.TEXT.id&&(a=e.fontMetrics().xHeight);var s=n+a/4,o=r.height+r.depth+s+n,{span:l,ruleWidth:u,advanceWidth:c}=ku.sqrtImage(o,e),h=l.height-u;h>r.height+r.depth+s&&(s=(s+h-r.height-r.depth)/2);var p=l.height-r.height-s-u;r.style.paddingLeft=Ot(c);var d=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+p)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var m=e.havingStyle(Nr.SCRIPTSCRIPT),f=zi(t.index,m,e),v=.6*(d.height-d.depth),y=Xe.makeVList({positionType:"shift",positionData:-v,children:[{type:"elem",elem:f}]},e),x=Xe.makeSpan(["root"],[y]);return Xe.makeSpan(["mord","sqrt"],[x,d],e)}else return Xe.makeSpan(["mord","sqrt"],[d],e)},mathmlBuilder(t,e){var{body:r,index:i}=t;return i?new St.MathNode("mroot",[vn(r,e),vn(i,e)]):new St.MathNode("msqrt",[vn(r,e)])}});var Tz={display:Nr.DISPLAY,text:Nr.TEXT,script:Nr.SCRIPT,scriptscript:Nr.SCRIPTSCRIPT};Zt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:i,parser:n}=t,a=n.parseExpression(!0,r),s=i.slice(1,i.length-5);return{type:"styling",mode:n.mode,style:s,body:a}},htmlBuilder(t,e){var r=Tz[t.style],i=e.havingStyle(r).withFont("");return Ez(t.body,i,e)},mathmlBuilder(t,e){var r=Tz[t.style],i=e.havingStyle(r),n=ko(t.body,i),a=new St.MathNode("mstyle",n),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[t.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var xve=function(e,r){var i=e.base;if(i)if(i.type==="op"){var n=i.limits&&(r.style.size===Nr.DISPLAY.size||i.alwaysHandleSupSub);return n?Hp:null}else if(i.type==="operatorname"){var a=i.alwaysHandleSupSub&&(r.style.size===Nr.DISPLAY.size||i.limits);return a?_z:null}else{if(i.type==="accent")return ji.isCharacterBox(i.base)?x8:null;if(i.type==="horizBrace"){var s=!e.sub;return s===i.isOver?Sz:null}else return null}else return null};s1({type:"supsub",htmlBuilder(t,e){var r=xve(t,e);if(r)return r(t,e);var{base:i,sup:n,sub:a}=t,s=zi(i,e),o,l,u=e.fontMetrics(),c=0,h=0,p=i&&ji.isCharacterBox(i);if(n){var d=e.havingStyle(e.style.sup());o=zi(n,d,e),p||(c=s.height-d.fontMetrics().supDrop*d.sizeMultiplier/e.sizeMultiplier)}if(a){var m=e.havingStyle(e.style.sub());l=zi(a,m,e),p||(h=s.depth+m.fontMetrics().subDrop*m.sizeMultiplier/e.sizeMultiplier)}var f;e.style===Nr.DISPLAY?f=u.sup1:e.style.cramped?f=u.sup3:f=u.sup2;var v=e.sizeMultiplier,y=Ot(.5/u.ptPerEm/v),x=null;if(l){var g=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof yl||g)&&(x=Ot(-s.italic))}var b;if(o&&l){c=Math.max(c,f,o.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var k=u.defaultRuleThickness,w=4*k;if(c-o.depth-(l.height-h)<w){h=w-(c-o.depth)+l.height;var N=.8*u.xHeight-(c-o.depth);N>0&&(c+=N,h-=N)}var A=[{type:"elem",elem:l,shift:h,marginRight:y,marginLeft:x},{type:"elem",elem:o,shift:-c,marginRight:y}];b=Xe.makeVList({positionType:"individualShift",children:A},e)}else if(l){h=Math.max(h,u.sub1,l.height-.8*u.xHeight);var $=[{type:"elem",elem:l,marginLeft:x,marginRight:y}];b=Xe.makeVList({positionType:"shift",positionData:h,children:$},e)}else if(o)c=Math.max(c,f,o.depth+.25*u.xHeight),b=Xe.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:o,marginRight:y}]},e);else throw new Error("supsub must have either sup or sub.");var D=m8(s,"right")||"mord";return Xe.makeSpan([D],[s,Xe.makeSpan(["msupsub"],[b])],e)},mathmlBuilder(t,e){var r=!1,i,n;t.base&&t.base.type==="horizBrace"&&(n=!!t.sup,n===t.base.isOver&&(r=!0,i=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[vn(t.base,e)];t.sub&&a.push(vn(t.sub,e)),t.sup&&a.push(vn(t.sup,e));var s;if(r)s=i?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===Nr.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===Nr.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===Nr.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Nr.DISPLAY)?s="munder":s="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===Nr.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===Nr.DISPLAY)?s="mover":s="msup"}return new St.MathNode(s,a)}}),s1({type:"atom",htmlBuilder(t,e){return Xe.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new St.MathNode("mo",[bl(t.text,t.mode)]);if(t.family==="bin"){var i=v8(t,e);i==="bold-italic"&&r.setAttribute("mathvariant",i)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var Lz={mi:"italic",mn:"normal",mtext:"normal"};s1({type:"mathord",htmlBuilder(t,e){return Xe.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new St.MathNode("mi",[bl(t.text,t.mode,e)]),i=v8(t,e)||"italic";return i!==Lz[r.type]&&r.setAttribute("mathvariant",i),r}}),s1({type:"textord",htmlBuilder(t,e){return Xe.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=bl(t.text,t.mode,e),i=v8(t,e)||"normal",n;return t.mode==="text"?n=new St.MathNode("mtext",[r]):/[0-9]/.test(t.text)?n=new St.MathNode("mn",[r]):t.text==="\\prime"?n=new St.MathNode("mo",[r]):n=new St.MathNode("mi",[r]),i!==Lz[n.type]&&n.setAttribute("mathvariant",i),n}});var B8={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},O8={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};s1({type:"spacing",htmlBuilder(t,e){if(O8.hasOwnProperty(t.text)){var r=O8[t.text].className||"";if(t.mode==="text"){var i=Xe.makeOrd(t,e,"textord");return i.classes.push(r),i}else return Xe.makeSpan(["mspace",r],[Xe.mathsym(t.text,t.mode,e)],e)}else{if(B8.hasOwnProperty(t.text))return Xe.makeSpan(["mspace",B8[t.text]],[],e);throw new $t('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(O8.hasOwnProperty(t.text))r=new St.MathNode("mtext",[new St.TextNode(" ")]);else{if(B8.hasOwnProperty(t.text))return new St.MathNode("mspace");throw new $t('Unknown type of space "'+t.text+'"')}return r}});var zz=()=>{var t=new St.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};s1({type:"tag",mathmlBuilder(t,e){var r=new St.MathNode("mtable",[new St.MathNode("mtr",[zz(),new St.MathNode("mtd",[Ec(t.body,e)]),zz(),new St.MathNode("mtd",[Ec(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var Bz={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Oz={"\\textbf":"textbf","\\textmd":"textmd"},wve={"\\textit":"textit","\\textup":"textup"},Fz=(t,e)=>{var r=t.font;if(r){if(Bz[r])return e.withTextFontFamily(Bz[r]);if(Oz[r])return e.withTextFontWeight(Oz[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(wve[r])};Zt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];return{type:"text",mode:r.mode,body:da(n),font:i}},htmlBuilder(t,e){var r=Fz(t,e),i=Ra(t.body,r,!0);return Xe.makeSpan(["mord","text"],i,r)},mathmlBuilder(t,e){var r=Fz(t,e);return Ec(t.body,r)}}),Zt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=zi(t.body,e),i=Xe.makeLineSpan("underline-line",e),n=e.fontMetrics().defaultRuleThickness,a=Xe.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:n},{type:"elem",elem:i},{type:"kern",size:3*n},{type:"elem",elem:r}]},e);return Xe.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var r=new St.MathNode("mo",[new St.TextNode("‾")]);r.setAttribute("stretchy","true");var i=new St.MathNode("munder",[vn(t.body,e),r]);return i.setAttribute("accentunder","true"),i}}),Zt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=zi(t.body,e),i=e.fontMetrics().axisHeight,n=.5*(r.height-i-(r.depth+i));return Xe.makeVList({positionType:"shift",positionData:n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new St.MathNode("mpadded",[vn(t.body,e)],["vcenter"])}}),Zt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new $t("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=Pz(t),i=[],n=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),i.push(Xe.makeSymbol(s,"Typewriter-Regular",t.mode,n,["mord","texttt"]))}return Xe.makeSpan(["mord","text"].concat(n.sizingClasses(e)),Xe.tryCombineChars(i),n)},mathmlBuilder(t,e){var r=new St.TextNode(Pz(t)),i=new St.MathNode("mtext",[r]);return i.setAttribute("mathvariant","monospace"),i}});var Pz=t=>t.body.replace(/ /g,t.star?"␣":" "),Tc=UL,Rz=`[ \r
	]`,Mve="\\\\[a-zA-Z@]+",kve="\\\\[^\uD800-\uDFFF]",Cve="("+Mve+")"+Rz+"*",Nve=`\\\\(
|[ \r	]+
?)[ \r	]*`,F8="[̀-ͯ]",Sve=new RegExp(F8+"+$"),Dve="("+Rz+"+)|"+(Nve+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(F8+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(F8+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Cve)+("|"+kve+")");class jz{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(Dve,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new Po("EOF",new wo(this,r,r));var i=this.tokenRegex.exec(e);if(i===null||i.index!==r)throw new $t("Unexpected character: '"+e[r]+"'",new Po(e[r],new wo(this,r,r+1)));var n=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[n]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Po(n,new wo(this,r,this.tokenRegex.lastIndex))}}class Ave{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new $t("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,i){if(i===void 0&&(i=!1),i){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var $ve=gz;he("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}}),he("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}}),he("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}}),he("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}}),he("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}}),he("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),he("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var qz={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};he("\\char",function(t){var e=t.popToken(),r,i="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")i=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new $t("\\char` missing argument");i=e.text.charCodeAt(0)}else r=10;if(r){if(i=qz[e.text],i==null||i>=r)throw new $t("Invalid base-"+r+" digit "+e.text);for(var n;(n=qz[t.future().text])!=null&&n<r;)i*=r,i+=n,t.popToken()}return"\\@char{"+i+"}"});var P8=(t,e,r,i)=>{var n=t.consumeArg().tokens;if(n.length!==1)throw new $t("\\newcommand's first argument must be a macro name");var a=n[0].text,s=t.isDefined(a);if(s&&!e)throw new $t("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!s&&!r)throw new $t("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var o=0;if(n=t.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var l="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new $t("Invalid number of arguments: "+l);o=parseInt(l),n=t.consumeArg().tokens}return s&&i||t.macros.set(a,{tokens:n,numArgs:o}),""};he("\\newcommand",t=>P8(t,!1,!0,!1)),he("\\renewcommand",t=>P8(t,!0,!1,!1)),he("\\providecommand",t=>P8(t,!0,!0,!0)),he("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""}),he("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""}),he("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Tc[r],Mn.math[r],Mn.text[r]),""}),he("\\bgroup","{"),he("\\egroup","}"),he("~","\\nobreakspace"),he("\\lq","`"),he("\\rq","'"),he("\\aa","\\r a"),he("\\AA","\\r A"),he("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),he("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),he("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),he("ℬ","\\mathscr{B}"),he("ℰ","\\mathscr{E}"),he("ℱ","\\mathscr{F}"),he("ℋ","\\mathscr{H}"),he("ℐ","\\mathscr{I}"),he("ℒ","\\mathscr{L}"),he("ℳ","\\mathscr{M}"),he("ℛ","\\mathscr{R}"),he("ℭ","\\mathfrak{C}"),he("ℌ","\\mathfrak{H}"),he("ℨ","\\mathfrak{Z}"),he("\\Bbbk","\\Bbb{k}"),he("·","\\cdotp"),he("\\llap","\\mathllap{\\textrm{#1}}"),he("\\rlap","\\mathrlap{\\textrm{#1}}"),he("\\clap","\\mathclap{\\textrm{#1}}"),he("\\mathstrut","\\vphantom{(}"),he("\\underbar","\\underline{\\text{#1}}"),he("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),he("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),he("\\ne","\\neq"),he("≠","\\neq"),he("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),he("∉","\\notin"),he("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),he("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),he("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),he("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),he("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),he("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),he("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),he("⟂","\\perp"),he("‼","\\mathclose{!\\mkern-0.8mu!}"),he("∌","\\notni"),he("⌜","\\ulcorner"),he("⌝","\\urcorner"),he("⌞","\\llcorner"),he("⌟","\\lrcorner"),he("©","\\copyright"),he("®","\\textregistered"),he("️","\\textregistered"),he("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),he("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),he("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),he("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),he("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),he("⋮","\\vdots"),he("\\varGamma","\\mathit{\\Gamma}"),he("\\varDelta","\\mathit{\\Delta}"),he("\\varTheta","\\mathit{\\Theta}"),he("\\varLambda","\\mathit{\\Lambda}"),he("\\varXi","\\mathit{\\Xi}"),he("\\varPi","\\mathit{\\Pi}"),he("\\varSigma","\\mathit{\\Sigma}"),he("\\varUpsilon","\\mathit{\\Upsilon}"),he("\\varPhi","\\mathit{\\Phi}"),he("\\varPsi","\\mathit{\\Psi}"),he("\\varOmega","\\mathit{\\Omega}"),he("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),he("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),he("\\boxed","\\fbox{$\\displaystyle{#1}$}"),he("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),he("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),he("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),he("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),he("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Uz={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};he("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in Uz?e=Uz[r]:(r.slice(0,4)==="\\not"||r in Mn.math&&["bin","rel"].includes(Mn.math[r].group))&&(e="\\dotsb"),e});var R8={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};he("\\dotso",function(t){var e=t.future().text;return e in R8?"\\ldots\\,":"\\ldots"}),he("\\dotsc",function(t){var e=t.future().text;return e in R8&&e!==","?"\\ldots\\,":"\\ldots"}),he("\\cdots",function(t){var e=t.future().text;return e in R8?"\\@cdots\\,":"\\@cdots"}),he("\\dotsb","\\cdots"),he("\\dotsm","\\cdots"),he("\\dotsi","\\!\\cdots"),he("\\dotsx","\\ldots\\,"),he("\\DOTSI","\\relax"),he("\\DOTSB","\\relax"),he("\\DOTSX","\\relax"),he("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),he("\\,","\\tmspace+{3mu}{.1667em}"),he("\\thinspace","\\,"),he("\\>","\\mskip{4mu}"),he("\\:","\\tmspace+{4mu}{.2222em}"),he("\\medspace","\\:"),he("\\;","\\tmspace+{5mu}{.2777em}"),he("\\thickspace","\\;"),he("\\!","\\tmspace-{3mu}{.1667em}"),he("\\negthinspace","\\!"),he("\\negmedspace","\\tmspace-{4mu}{.2222em}"),he("\\negthickspace","\\tmspace-{5mu}{.277em}"),he("\\enspace","\\kern.5em "),he("\\enskip","\\hskip.5em\\relax"),he("\\quad","\\hskip1em\\relax"),he("\\qquad","\\hskip2em\\relax"),he("\\tag","\\@ifstar\\tag@literal\\tag@paren"),he("\\tag@paren","\\tag@literal{({#1})}"),he("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new $t("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),he("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),he("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),he("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),he("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),he("\\newline","\\\\\\relax"),he("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Vz=Ot(C0["Main-Regular"][84][1]-.7*C0["Main-Regular"][65][1]);he("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Vz+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),he("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Vz+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),he("\\hspace","\\@ifstar\\@hspacer\\@hspace"),he("\\@hspace","\\hskip #1\\relax"),he("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),he("\\ordinarycolon",":"),he("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),he("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),he("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),he("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),he("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),he("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),he("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),he("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),he("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),he("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),he("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),he("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),he("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),he("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),he("∷","\\dblcolon"),he("∹","\\eqcolon"),he("≔","\\coloneqq"),he("≕","\\eqqcolon"),he("⩴","\\Coloneqq"),he("\\ratio","\\vcentcolon"),he("\\coloncolon","\\dblcolon"),he("\\colonequals","\\coloneqq"),he("\\coloncolonequals","\\Coloneqq"),he("\\equalscolon","\\eqqcolon"),he("\\equalscoloncolon","\\Eqqcolon"),he("\\colonminus","\\coloneq"),he("\\coloncolonminus","\\Coloneq"),he("\\minuscolon","\\eqcolon"),he("\\minuscoloncolon","\\Eqcolon"),he("\\coloncolonapprox","\\Colonapprox"),he("\\coloncolonsim","\\Colonsim"),he("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),he("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),he("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),he("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),he("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),he("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),he("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),he("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),he("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),he("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),he("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),he("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),he("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),he("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),he("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),he("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),he("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),he("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),he("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),he("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),he("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),he("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),he("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),he("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),he("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),he("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),he("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),he("\\imath","\\html@mathml{\\@imath}{ı}"),he("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),he("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),he("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),he("⟦","\\llbracket"),he("⟧","\\rrbracket"),he("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),he("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),he("⦃","\\lBrace"),he("⦄","\\rBrace"),he("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),he("⦵","\\minuso"),he("\\darr","\\downarrow"),he("\\dArr","\\Downarrow"),he("\\Darr","\\Downarrow"),he("\\lang","\\langle"),he("\\rang","\\rangle"),he("\\uarr","\\uparrow"),he("\\uArr","\\Uparrow"),he("\\Uarr","\\Uparrow"),he("\\N","\\mathbb{N}"),he("\\R","\\mathbb{R}"),he("\\Z","\\mathbb{Z}"),he("\\alef","\\aleph"),he("\\alefsym","\\aleph"),he("\\Alpha","\\mathrm{A}"),he("\\Beta","\\mathrm{B}"),he("\\bull","\\bullet"),he("\\Chi","\\mathrm{X}"),he("\\clubs","\\clubsuit"),he("\\cnums","\\mathbb{C}"),he("\\Complex","\\mathbb{C}"),he("\\Dagger","\\ddagger"),he("\\diamonds","\\diamondsuit"),he("\\empty","\\emptyset"),he("\\Epsilon","\\mathrm{E}"),he("\\Eta","\\mathrm{H}"),he("\\exist","\\exists"),he("\\harr","\\leftrightarrow"),he("\\hArr","\\Leftrightarrow"),he("\\Harr","\\Leftrightarrow"),he("\\hearts","\\heartsuit"),he("\\image","\\Im"),he("\\infin","\\infty"),he("\\Iota","\\mathrm{I}"),he("\\isin","\\in"),he("\\Kappa","\\mathrm{K}"),he("\\larr","\\leftarrow"),he("\\lArr","\\Leftarrow"),he("\\Larr","\\Leftarrow"),he("\\lrarr","\\leftrightarrow"),he("\\lrArr","\\Leftrightarrow"),he("\\Lrarr","\\Leftrightarrow"),he("\\Mu","\\mathrm{M}"),he("\\natnums","\\mathbb{N}"),he("\\Nu","\\mathrm{N}"),he("\\Omicron","\\mathrm{O}"),he("\\plusmn","\\pm"),he("\\rarr","\\rightarrow"),he("\\rArr","\\Rightarrow"),he("\\Rarr","\\Rightarrow"),he("\\real","\\Re"),he("\\reals","\\mathbb{R}"),he("\\Reals","\\mathbb{R}"),he("\\Rho","\\mathrm{P}"),he("\\sdot","\\cdot"),he("\\sect","\\S"),he("\\spades","\\spadesuit"),he("\\sub","\\subset"),he("\\sube","\\subseteq"),he("\\supe","\\supseteq"),he("\\Tau","\\mathrm{T}"),he("\\thetasym","\\vartheta"),he("\\weierp","\\wp"),he("\\Zeta","\\mathrm{Z}"),he("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),he("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),he("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),he("\\bra","\\mathinner{\\langle{#1}|}"),he("\\ket","\\mathinner{|{#1}\\rangle}"),he("\\braket","\\mathinner{\\langle{#1}\\rangle}"),he("\\Bra","\\left\\langle#1\\right|"),he("\\Ket","\\left|#1\\right\\rangle");var Gz=t=>e=>{var r=e.consumeArg().tokens,i=e.consumeArg().tokens,n=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=h=>p=>{t&&(p.macros.set("|",s),n.length&&p.macros.set("\\|",o));var d=h;if(!h&&n.length){var m=p.future();m.text==="|"&&(p.popToken(),d=!0)}return{tokens:d?n:i,numArgs:0}};e.macros.set("|",l(!1)),n.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...a,...u,...r]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};he("\\bra@ket",Gz(!1)),he("\\bra@set",Gz(!0)),he("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),he("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),he("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),he("\\angln","{\\angl n}"),he("\\blue","\\textcolor{##6495ed}{#1}"),he("\\orange","\\textcolor{##ffa500}{#1}"),he("\\pink","\\textcolor{##ff00af}{#1}"),he("\\red","\\textcolor{##df0030}{#1}"),he("\\green","\\textcolor{##28ae7b}{#1}"),he("\\gray","\\textcolor{gray}{#1}"),he("\\purple","\\textcolor{##9d38bd}{#1}"),he("\\blueA","\\textcolor{##ccfaff}{#1}"),he("\\blueB","\\textcolor{##80f6ff}{#1}"),he("\\blueC","\\textcolor{##63d9ea}{#1}"),he("\\blueD","\\textcolor{##11accd}{#1}"),he("\\blueE","\\textcolor{##0c7f99}{#1}"),he("\\tealA","\\textcolor{##94fff5}{#1}"),he("\\tealB","\\textcolor{##26edd5}{#1}"),he("\\tealC","\\textcolor{##01d1c1}{#1}"),he("\\tealD","\\textcolor{##01a995}{#1}"),he("\\tealE","\\textcolor{##208170}{#1}"),he("\\greenA","\\textcolor{##b6ffb0}{#1}"),he("\\greenB","\\textcolor{##8af281}{#1}"),he("\\greenC","\\textcolor{##74cf70}{#1}"),he("\\greenD","\\textcolor{##1fab54}{#1}"),he("\\greenE","\\textcolor{##0d923f}{#1}"),he("\\goldA","\\textcolor{##ffd0a9}{#1}"),he("\\goldB","\\textcolor{##ffbb71}{#1}"),he("\\goldC","\\textcolor{##ff9c39}{#1}"),he("\\goldD","\\textcolor{##e07d10}{#1}"),he("\\goldE","\\textcolor{##a75a05}{#1}"),he("\\redA","\\textcolor{##fca9a9}{#1}"),he("\\redB","\\textcolor{##ff8482}{#1}"),he("\\redC","\\textcolor{##f9685d}{#1}"),he("\\redD","\\textcolor{##e84d39}{#1}"),he("\\redE","\\textcolor{##bc2612}{#1}"),he("\\maroonA","\\textcolor{##ffbde0}{#1}"),he("\\maroonB","\\textcolor{##ff92c6}{#1}"),he("\\maroonC","\\textcolor{##ed5fa6}{#1}"),he("\\maroonD","\\textcolor{##ca337c}{#1}"),he("\\maroonE","\\textcolor{##9e034e}{#1}"),he("\\purpleA","\\textcolor{##ddd7ff}{#1}"),he("\\purpleB","\\textcolor{##c6b9fc}{#1}"),he("\\purpleC","\\textcolor{##aa87ff}{#1}"),he("\\purpleD","\\textcolor{##7854ab}{#1}"),he("\\purpleE","\\textcolor{##543b78}{#1}"),he("\\mintA","\\textcolor{##f5f9e8}{#1}"),he("\\mintB","\\textcolor{##edf2df}{#1}"),he("\\mintC","\\textcolor{##e0e5cc}{#1}"),he("\\grayA","\\textcolor{##f6f7f7}{#1}"),he("\\grayB","\\textcolor{##f0f1f2}{#1}"),he("\\grayC","\\textcolor{##e3e5e6}{#1}"),he("\\grayD","\\textcolor{##d6d8da}{#1}"),he("\\grayE","\\textcolor{##babec2}{#1}"),he("\\grayF","\\textcolor{##888d93}{#1}"),he("\\grayG","\\textcolor{##626569}{#1}"),he("\\grayH","\\textcolor{##3b3e40}{#1}"),he("\\grayI","\\textcolor{##21242c}{#1}"),he("\\kaBlue","\\textcolor{##314453}{#1}"),he("\\kaGreen","\\textcolor{##71B307}{#1}");var Zz={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class _ve{constructor(e,r,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new Ave($ve,r.macros),this.mode=i,this.stack=[]}feed(e){this.lexer=new jz(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,i,n;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:n,end:i}=this.consumeArg(["]"])}else({tokens:n,start:r,end:i}=this.consumeArg());return this.pushToken(new Po("EOF",i.loc)),this.pushTokens(n),new Po("",wo.range(r,i))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],i=e&&e.length>0;i||this.consumeSpaces();var n=this.future(),a,s=0,o=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new $t("Extra }",a)}else if(a.text==="EOF")throw new $t("Unexpected end of input in a macro argument, expected '"+(e&&i?e[o]:"}")+"'",a);if(e&&i)if((s===0||s===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){r.splice(-o,o);break}}else o=0}while(s!==0||i);return n.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:n,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new $t("The length of delimiters doesn't match the number of args!");for(var i=r[0],n=0;n<i.length;n++){var a=this.popToken();if(i[n]!==a.text)throw new $t("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<e;o++)s.push(this.consumeArg(r&&r[o+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new $t("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),i=r.text,n=r.noexpand?null:this._getExpansion(i);if(n==null||e&&n.unexpandable){if(e&&n==null&&i[0]==="\\"&&!this.isDefined(i))throw new $t("Undefined control sequence: "+i);return this.pushToken(r),!1}this.countExpansion(1);var a=n.tokens,s=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new $t("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new $t("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Po(e)]):void 0}expandTokens(e){var r=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;)if(this.expandOnce(!0)===!1){var n=this.stack.pop();n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),r.push(n)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(i=>i.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var i=this.lexer.catcodes[e];if(i!=null&&i!==13)return}var n=typeof r=="function"?r(this):r;if(typeof n=="string"){var a=0;if(n.indexOf("#")!==-1)for(var s=n.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new jz(n,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var c={tokens:l,numArgs:a};return c}return n}isDefined(e){return this.macros.has(e)||Tc.hasOwnProperty(e)||Mn.math.hasOwnProperty(e)||Mn.text.hasOwnProperty(e)||Zz.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Tc.hasOwnProperty(e)&&!Tc[e].primitive}}var Hz=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,e3=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),j8={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Wz={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class t3{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new _ve(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new $t("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Po("}")),this.gullet.pushTokens(e);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,i}parseExpression(e,r){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var n=this.fetch();if(t3.endOfExpression.indexOf(n.text)!==-1||r&&n.text===r||e&&Tc[n.text]&&Tc[n.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;i.push(a)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(e){for(var r=-1,i,n=0;n<e.length;n++)if(e[n].type==="infix"){if(r!==-1)throw new $t("only one infix operator per group",e[n].token);r=n,i=e[n].replaceWith}if(r!==-1&&i){var a,s,o=e.slice(0,r),l=e.slice(r+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return i==="\\\\abovefrac"?u=this.callFunction(i,[a,e[r],s],[]):u=this.callFunction(i,[a,s],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),i=r.text;this.consume(),this.consumeSpaces();var n;do{var a;n=this.parseGroup(e)}while(((a=n)==null?void 0:a.type)==="internal");if(!n)throw new $t("Expected group after '"+i+"'",r);return n}formatUnsupportedCmd(e){for(var r=[],i=0;i<e.length;i++)r.push({type:"textord",mode:"text",text:e[i]});var n={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if((r==null?void 0:r.type)==="internal"||this.mode==="text")return r;for(var i,n;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var s=a.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new $t("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(i)throw new $t("Double superscript",a);i=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(n)throw new $t("Double subscript",a);n=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(i)throw new $t("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:l}}else if(e3[a.text]){var u=Hz.test(a.text),c=[];for(c.push(new Po(e3[a.text])),this.consume();;){var h=this.fetch().text;if(!e3[h]||Hz.test(h)!==u)break;c.unshift(new Po(e3[h])),this.consume()}var p=this.subparse(c);u?n={type:"ordgroup",mode:"math",body:p}:i={type:"ordgroup",mode:"math",body:p}}else break}return i||n?{type:"supsub",mode:this.mode,base:r,sup:i,sub:n}:r}parseFunction(e,r){var i=this.fetch(),n=i.text,a=Tc[n];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new $t("Got function '"+n+"' with no arguments"+(r?" as "+r:""),i);if(this.mode==="text"&&!a.allowedInText)throw new $t("Can't use function '"+n+"' in text mode",i);if(this.mode==="math"&&a.allowedInMath===!1)throw new $t("Can't use function '"+n+"' in math mode",i);var{args:s,optArgs:o}=this.parseArguments(n,a);return this.callFunction(n,s,o,i,e)}callFunction(e,r,i,n,a){var s={funcName:e,parser:this,token:n,breakOnTokenText:a},o=Tc[e];if(o&&o.handler)return o.handler(s,r,i);throw new $t("No function handler for "+e)}parseArguments(e,r){var i=r.numArgs+r.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var n=[],a=[],s=0;s<i;s++){var o=r.argTypes&&r.argTypes[s],l=s<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)a.push(u);else if(u!=null)n.push(u);else throw new $t("Null argument, please report this as a bug")}return{args:n,optArgs:a}}parseGroupOfType(e,r,i){switch(r){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,r);case"hbox":{var n=this.parseArgumentGroup(i,"text");return n!=null?{type:"styling",mode:n.mode,body:[n],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",i);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(i)throw new $t("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new $t("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new $t("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var i=this.gullet.scanArgument(r);if(i==null)return null;for(var n="",a;(a=this.fetch()).text!=="EOF";)n+=a.text,this.consume();return this.consume(),i.text=n,i}parseRegexGroup(e,r){for(var i=this.fetch(),n=i,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)n=s,a+=n.text,this.consume();if(a==="")throw new $t("Invalid "+r+": '"+i.text+"'",i);return i.range(n,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var i=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!i)throw new $t("Invalid color: '"+r.text+"'",r);var n=i[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(e){var r,i=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",i=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!n)throw new $t("Invalid size: '"+r.text+"'",r);var a={number:+(n[1]+n[2]),unit:n[3]};if(!AL(a))throw new $t("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:i}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var i=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(e,r){var i=this.gullet.scanArgument(e);if(i==null)return null;var n=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:i.loc,body:a};return r&&this.switchMode(n),s}parseGroup(e,r){var i=this.fetch(),n=i.text,a;if(n==="{"||n==="\\begingroup"){this.consume();var s=n==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:wo.range(i,l),body:o,semisimple:n==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&n[0]==="\\"&&!Zz.hasOwnProperty(n)){if(this.settings.throwOnError)throw new $t("Undefined control sequence: "+n,i);a=this.formatUnsupportedCmd(n),this.consume()}return a}formLigatures(e){for(var r=e.length-1,i=0;i<r;++i){var n=e[i],a=n.text;a==="-"&&e[i+1].text==="-"&&(i+1<r&&e[i+2].text==="-"?(e.splice(i,3,{type:"textord",mode:"text",loc:wo.range(n,e[i+2]),text:"---"}),r-=2):(e.splice(i,2,{type:"textord",mode:"text",loc:wo.range(n,e[i+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[i+1].text===a&&(e.splice(i,2,{type:"textord",mode:"text",loc:wo.range(n,e[i+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var i=r.slice(5),n=i.charAt(0)==="*";if(n&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new $t(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:n}}Wz.hasOwnProperty(r[0])&&!Mn[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=Wz[r[0]]+r.slice(1));var a=Sve.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="ı":r==="j"&&(r="ȷ"));var s;if(Mn[this.mode][r]){this.settings.strict&&this.mode==="math"&&h8.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var o=Mn[this.mode][r].group,l=wo.range(e),u;if(y5e.hasOwnProperty(o)){var c=o;u={type:"atom",mode:this.mode,family:c,loc:l,text:r}}else u={type:o,mode:this.mode,loc:l,text:r};s=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(kL(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:wo.range(e),text:r};else return null;if(this.consume(),a)for(var h=0;h<a[0].length;h++){var p=a[0][h];if(!j8[p])throw new $t("Unknown accent ' "+p+"'",e);var d=j8[p][this.mode]||j8[p].text;if(!d)throw new $t("Accent "+p+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:wo.range(e),label:d,isStretchy:!1,isShifty:!0,base:s}}return s}}t3.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var q8=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new t3(e,r);delete i.gullet.macros.current["\\df@tag"];var n=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new $t("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:i.subparse([new Po("\\df@tag")])}]}return n},Yz=function(e,r,i){r.textContent="";var n=U8(e,i).toNode();r.appendChild(n)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Yz=function(){throw new $t("KaTeX doesn't work in quirks mode.")});var Eve=function(e,r){var i=U8(e,r).toMarkup();return i},Ive=function(e,r){var i=new e8(r);return q8(e,i)},Kz=function(e,r,i){if(i.throwOnError||!(e instanceof $t))throw e;var n=Xe.makeSpan(["katex-error"],[new yl(r)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+i.errorColor),n},U8=function(e,r){var i=new e8(r);try{var n=q8(e,i);return j5e(n,e,i)}catch(a){return Kz(a,e,i)}},Tve=function(e,r){var i=new e8(r);try{var n=q8(e,i);return q5e(n,e,i)}catch(a){return Kz(a,e,i)}},Lve="0.16.25",zve={Span:Jm,Anchor:s8,SymbolNode:yl,SvgNode:yu,PathNode:$c,LineNode:o8},Xz={version:Lve,render:Yz,renderToString:Eve,ParseError:$t,SETTINGS_SCHEMA:T4,__parse:Ive,__renderToDomTree:U8,__renderToHTMLTree:Tve,__setFontMetrics:c5e,__defineSymbol:F,__defineFunction:Zt,__defineMacro:he,__domTree:zve};const Tt={isHtml:!0,isAmc:!1,anglePerspective:30,coeffPerspective:.5,pixelsParCm:20,scale:1,fenetreMathalea2d:[-1,-10,29,10]};function af(t,e=2){let r;return e>1?r="\\begin{multicols}{"+e+`}
`+t+`
\\end{multicols}`:r=t,r}const Bve="Trop de chiffres",sf=1e-6;function Cu(t){var r;let e="";t.vspace&&(e=`\\vspace{${t.vspace} cm}
`),t.contenu=lf(t.consigne)+e+a3(t.introduction)+af(Jz(t.listeQuestions,t.spacing),t.nbCols),t.contenuCorrection=lf("")+a3(t.consigneCorrection)+af(Jz(t.listeCorrections,t.spacingCorr),t.nbColsCorr),t.contenuCorrection=t.contenuCorrection.replace(/\\\\\n*/g,`\\\\
`),t.contenu=(r=t.contenu)==null?void 0:r.replace(/\\\\\n*/g,`\\\\
`)}function Ove(t,e=!0){const r=document.getElementById("supprimer_reference");r&&r instanceof HTMLInputElement&&r.checked===!0?t.contenu=lf(t.consigne)+a3(t.introduction)+af(V8(t.listeQuestions,t.spacing,e),t.nbCols):t.contenu=lf(t.consigne)+`
\\marginpar{\\footnotesize ${t.id}}`+a3(t.introduction)+af(V8(t.listeQuestions,t.spacing,e),t.nbCols),t.contenuCorrection=lf(t.consigneCorrection)+af(V8(t.listeCorrections,t.spacingCorr,e),t.nbColsCorr)}function r3(t,e,r,i){if(isNaN(t)||isNaN(e)||isNaN(i))throw Error(`Erreur dans contraindreValeur : un des paramètres de contrainte est NaN : ${["min : "+String(t)+" ",e,r,i].reduce((n,a,s)=>String(n)+["min",",max",",valeur",",defaut"][s]+" : "+String(a)+" ")}`);return isNaN(Number(r))?Number(i):Number(r)<Number(t)?Number(t):Number(r)>Number(e)?Number(e):Number(r)}function Xl(t){let{saisie:e,min:r=1,max:i,defaut:n,listeOfCase:a,shuffle:s=!0,nbQuestions:o,melange:l=0,enleveDoublons:u=!1,exclus:c}=t;if(c&&(c=c.filter(m=>m>=r&&m<=i)),i==null||isNaN(i)||i<r)throw Error("La fonction gestionnaireFormulaireTexte réclame un paramètre max de type number");if(n==null||isNaN(n)||n<r||n>i&&n!==l)throw Error(`La fonction gestionnaireFormulaireTexte réclame un paramètre defaut (ici, ${n}) compris entre min (ici, ${r}) et max (ici, ${i})`);let h,p;if(h=[],typeof e=="boolean"||e===""||e===null||e===void 0)h=[n];else if(typeof e=="number"||Number.isInteger(e))h=[r3(Math.min(r,l??r),Math.max(i,l??i),e,n)];else{p=e.split("-");for(let m=0;m<p.length;m++)isNaN(parseInt(p[m]))||h.push(r3(Math.min(r,l??r),Math.max(i,l??i),parseInt(p[m]),n))}h.length===0&&(h=[n]),c&&c.length>0&&(h=h.filter(m=>!c.includes(m))),h.length===0&&(h=[n]),l!=null&&tB(h,l)&&(h=cf(r,i,c)),o===0?o=h.length:o=Math.min(o,100),h=s?o1(h,o):qve(h,o);const d=Math.max(...h);if(u&&(h=jve(h)),Array.isArray(a)){if(a.length<d)throw Error("La liste de cas fournie ne contient pas assez de valeurs par rapport à max");return h.map(m=>a[m-r]).slice(0,o)}return h.slice(0,o)}function lr(t,e,r=sf){return r=r===0?1e-10:r,t instanceof _t&&(t=t.valeurDecimale),e instanceof _t&&(e=e.valeurDecimale),Math.abs(t-e)<=r}function of(t,e,r=sf){return t-e>r||lr(t,e,r)}function i3(t,e,r=sf){return e-t>r||lr(t,e,r)}function Qz(t,e=sf){return typeof t!="number"&&window.notify("Erreur dans estEntier()",{a:t}),Math.abs(t-Js(t))<e}function n3(t,e){return Qz(t)&&Qz(e)?Math.floor(t/e):Math.floor(Math.round(t)/Math.round(e))}function ge(t,e,r=[]){t instanceof Cr&&(t=t.toNumber()),e instanceof Cr&&(e=e.toNumber()),(!Number.isInteger(t)||!Number.isInteger(e))&&(window.notify("Les min et max de randint doivent être entiers",{min:t,max:e}),t=Math.floor(t),e=Math.ceil(e),e-t<1&&(e=t+1));const i=e-t;let n=Math.floor(Math.random()*(i+1));if(typeof r=="string"&&(r=r.split("")),typeof r=="number"&&(Number.isInteger(r)?r=[r]:(window.notify("Le nombre fourni à randint en exclusion n'est pas un entier",{listeAEviter:r}),r=[r])),Array.isArray(r)?r=r.map(Number).filter(a=>Math.round(a)===a):(window.notify("La liste d'exclusion de randint n'est pas d'un type pris en compte",{listeAEviter:r}),r=[]),r.length>0){let a=0;for(;r.includes(t+n)&&a<50;)n=Math.floor(Math.random()*(i+1)),a++;a===50&&window.notify(`Randint n'a pas pu trouver de valeur en dehors de la liste à éviter, c'est donc cette valeur qui a été choisie : ${t+n}`,{min:t,max:e,listeAEviter:r,rand:n})}return t+n}Object.fromEntries||Object.defineProperty(Object,"fromEntries",{value(t){if(!t||typeof t[Symbol.iterator]!="function")throw new Error("Object.fromEntries() requires a single iterable argument");const e={};for(const[r,i]of t)e[r]=i;return e}});function Jz(t,e){let r="";if(t.length>1){r=`\\begin{enumerate}
`,e>1&&(r+=`\\begin{spacing}{${e}}
`);for(const i in t)r+="	\\item "+t[i]+`
`;e>1&&(r+=`\\end{spacing}
`),r+=`\\end{enumerate}
`}else e>1&&(r+=`\\begin{spacing}{${e}}
`),r+=t[0]+`
`,e>1&&(r+=`\\end{spacing}
`);return r.replace(/(<br *\/?>[\n\t ]*)+<br *\/?>/gim,`

\\medskip
`).replace(/<br>/g,`\\\\
`).replace(/€/g,"\\euro{}")}function V8(t,e=0,r){let i="";e>1&&(i=`\\begin{spacing}{${e}}
`);for(const n in t)r?i+=`	${t[n]}\\\\
`:i+=`	${t[n]}
`;return e>1&&(i+="\\end{spacing}"),i.replace(/(<br *\/?>[\n\t ]*)+<br *\/?>/gim,`

\\medskip
`).replace(/<br>/g,`\\\\
`).replace(/€/g,"\\euro{}")}function a3(t){return typeof t=="string"&&t!==""?t.replace(/(<br *\/?>[\n\t ]*)+<br *\/?>/gim,`

\\medskip
`).replace(/<br>/g,`\\\\
`):""}function lf(t){return(t!=null&&typeof t=="string"?t.replace(/<br>/g,"\\\\"):"")+`

`}function eB(t,e){if(Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]),t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!(Array.isArray(t[r])?eB(t[r],e[r]):t[r]===e[r]))return!1;return!0}function Fve(t,e,r=10){let i=[],n=[];for(const a of t)for(const s of e)i.push([a,s]);for(n=so(i).slice(0),i=n.slice(0);i.length<r;)i=i.concat(so(n));return i}function s3(t,e){for(let r=t.length-1;r>=0;r--)typeof e=="number"?lr(t[r],e)&&t.splice(r,1):Array.isArray(t[r])&&Array.isArray(e)?eB(t[r],e)&&t.splice(r,1):t[r]===e&&t.splice(r,1)}function tB(t,e){let r=0;return t.forEach(i=>i===e&&r++),r}function Pve(t,e){const r=[];for(let i=0;i<t.length;i++)r.push(t[i]);for(let i=r.length-1;i>=0;i--)r[i]===e&&r.splice(i,1);return r}function Rve(t,e){e>=0&&e<t.length&&t.splice(e,1)}function Pt(t,e=[]){Array.isArray(e)||(e=[e]);const r=t.slice();for(let n=0;n<e.length;n++)s3(r,e[n]);const i=Math.floor(Math.random()*r.length);return r[i]!=null||window.notify("choice a éliminé toutes les possibilités, il ne reste rien à choisir ! ",{liste:t,listeAEviter:e}),r[i]}function jve(t,e=sf){let r=0;for(;r<t.length-1;){let i=r+1;for(;i<=t.length-1;)lr(t[r],t[i],e)?(t[r]=(t[r]+t[i])/2,t.splice(i,1)):i++;r++}return t}function so(t){let e=t.length,r,i;const n=[...t];for(;e!==0;)i=Math.floor(Math.random()*e),e-=1,r=n[e],n[e]=n[i],n[i]=r;return n}function o1(t,e){e===void 0&&(e=t.length),t.length===0&&window.notify("erreur dans CombinaisonListes : la liste à combiner est vide",{liste:t});let r=so(t);for(;r.length<e;)r=r.concat(so(t));return r}function qve(t,e){t.length===0&&window.notify("erreur dans CombinaisonListes : la liste à combiner est vide",{liste:t});let r=[...t];for(;r.length<e;)r=r.concat(t);return r}function yt(t,e=6){return isNaN(t)?(window.notify("Le nombre à arrondir n'en est pas un, ça retourne NaN",{nombre:t,precision:e}),NaN):Js(t,e)}function Uve(t){return t instanceof Cr?t.abs():Math.abs(t)}function ja(t,e){let r=0;return(t instanceof Cr||typeof t=="number")&&(t=t.toString()),t.indexOf(".")>0?t.split(".")[1].length-r:0}function uf(t=10,e=[]){const r=[...Array(t+1).keys()];for(let i=0;i<e.length;i++)s3(r,e[i]);return r}function cf(t,e,r=[],i=1){const n=[];for(let a=t;a<=e;a=a+i)n.push(a);typeof r=="number"&&(r=[r]);for(let a=0;a<r.length;a++)s3(n,r[a]);return n}function Bi(t=10,e=[]){const r=[];for(let i=1;i<=t;i++)r.push(i);for(let i=0;i<e.length;i++)s3(r,e[i]);return r}function Vve(t){return t<0?-1:1}const Gve={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};/*
  MathALEA2D
 @name      mathalea2d
 @author    Rémi Angot et Jean-Claude Lhote
 @license   MIT License - CC-BY-SA
 @homepage  https://coopmaths.fr/mathalea2d.html
 */let rB=0;class br{constructor(){this.positionLabel="above",this.color=Ze("black"),this.style="",this.epaisseur=1,this.opacite=1,this.pointilles=0,this.id=rB,this.bordures=[NaN,NaN,NaN,NaN],rB++}svg(e){return""}tikz(...e){return""}}function ci({xmin:t=0,ymin:e=0,xmax:r=15,ymax:i=6,pixelsParCm:n=20,scale:a=1,zoom:s=1,optionsTikz:o=[],mainlevee:l=!1,amplitude:u=1,style:c="display: block",id:h="",usePgfplots:p=!1,centerLatex:d=!1}={},...m){const f=(w,N,A,$,D)=>{let _="";if(N instanceof br&&N.objets!=null&&(N=N.objets),!Array.isArray(N)&&N!=null)try{const T=N;if(!w||typeof(T==null?void 0:T.svgml)>"u")if(T!=null&&T.svg){const z=T.svg(n);if(typeof z=="string")_="	"+T.svg(n)+`
`;else{const P=z;if(typeof P!="object")return window.notify("Dans mathalea2d, la méthode svg() de l'objet a renvoyé quelque chose d'inconnu",{codeLatex:P}),_;const q=(P.x-$)*n*s,L=-(P.y-D)*n*s;P.backgroundColor=P.backgroundColor.replace("{","").replace("}",""),P.color=P.color.replace("{","").replace("}","");const Z=P.backgroundColor!==""&&P.backgroundColor!=="none"?`<div class="divLatex" style="background-color: ${P.backgroundColor}; position: absolute; top: ${L}px; left: ${q}px; transform: translate(-50%,-50%) rotate(${-P.orientation}deg); opacity: ${P.opacity};" data-top=${L} data-left=${q}>${Xz.renderToString("\\"+P.letterSize+" {\\color{"+P.color+"}{"+P.latex+"}}")}</div>`:`<div class="divLatex" style="position: absolute; top: ${L}px; left: ${q}px; transform: translate(-50%,-50%) rotate(${-P.orientation}deg); opacity: ${P.opacity};" data-top=${L} data-left=${q}>${Xz.renderToString("{\\color{"+P.color+"} \\"+P.letterSize+"{"+P.latex+"}}")}</div>`;A.push(Z)}}else window.notify("Un problème avec ce mathalea2d, la liste des objets contient un truc louche",{objets:JSON.stringify(N)});else T!=null&&T.svgml&&(_="	"+T.svgml(n,u)+`
`)}catch(T){window.notify(T instanceof Error?T.message:String(T),{objet:JSON.stringify(N)})}else if(N!=null&&Array.isArray(N))for(const T of N)_+=f(w,T,A,$,D);else window.notify("Un problème avec ce mathalea2d, la liste des objets contient un truc louche",{objets:JSON.stringify(N)});return _},v=(w,N,A=!1,$,D)=>{let _="";if(A&&N instanceof br&&N.constructor.name==="Repere")return _;const T=N instanceof br&&N.constructor.name==="Courbe"&&N.usePgfplots===!0;if(N instanceof br&&N.objets!=null&&!T&&(N=N.objets),Array.isArray(N))for(const z of N)_+=v(w,z,A,$,D);else try{!w||typeof N.tikzml>"u"?typeof N.tikz=="function"&&(N.constructor.name==="Courbe"&&N.usePgfplots===!0?_="	"+N.tikz($,D)+`
`:_="	"+N.tikz()+`
`):typeof N.tikzml=="function"&&(_="	"+N.tikzml(u)+`
`)}catch(z){console.log(z instanceof Error?z.message:String(z))}return _},y=[];let x=`<svg class="mathalea2d" ${c} ${h!==""?`id="${h}"`:""}" width="${(r-t)*n*s}" height="${(i-e)*n*s}" viewBox="${t*n} ${-i*n} ${(r-t)*n} ${(i-e)*n}" xmlns="http://www.w3.org/2000/svg" >
`;x+=f(l,m,y,t,i),x+=`
</svg>`,x=x.replace(/\\thickspace/gm," ");const g=`<div class="svgContainer" ${c?`style="${c}"`:""}>
        <div ${h!==""?`id="M2D${h}"`:""} style="position: relative;${c}">
          ${x}
          ${y.join(`
`)}
        </div>
      </div>`;let b;const k=[];if(o!==void 0&&(typeof o=="string"?k.push(o):o.forEach(w=>k.push(w))),p){b=d?`{\\centering
`:"",b+="\\begin{tikzpicture}[baseline";for(let w=0;w<k.length;w++)b+=`,${k[w]}`;a!==1&&(b+=`,scale = ${a}`),b+=`]
`,b+=`\\begin{axis}[
`,b+=`  xmin=${t}, xmax=${r},
`,b+=`  ymin=${e}, ymax=${i},
`,b+=`  axis lines=middle,
`,b+=`  axis line style={-Stealth},
`,b+=`  xlabel={},
`,b+=`  ylabel={},
`,b+=`  xtick distance=2,
`,b+=`  ytick distance=2,
`,b+=`  minor tick num=1,
`,b+=`  grid=both,
`,b+=`  grid style={line width=.1pt, draw=gray!30},
`,b+=`  major grid style={line width=.2pt,draw=gray!50},
`,b+=`  tick label style={font=\\scriptsize},
`,b+=`  every axis plot/.append style={line width=1pt},
`,b+=`  clip=true,
`,b+=`]
`,b+=v(l,m,!0,e,i),b+=`\\end{axis}
`,b+="\\end{tikzpicture}",d&&(b+="\\par}")}else{if(b=d?`{\\centering
`:"",a===1){b+="\\begin{tikzpicture}[baseline";for(let w=0;w<k.length;w++)b+=`,${k[w]}`;b+=`]
`}else{b+="\\begin{tikzpicture}[baseline";for(let w=0;w<k.length;w++)b+=`,${k[w]}`;b+=`,scale = ${a}`,b+=`]
`}b+=`
    \\tikzset{
      point/.style={
        thick,
        draw,
        cross out,
        inner sep=0pt,
        minimum width=5pt,
        minimum height=5pt,
      },
    }
    \\clip (${t},${e}) rectangle (${r},${i});
    `,b+=v(l,m),b+=`
\\end{tikzpicture}`,d&&(b+="\\par}")}return c.includes("display: block")&&!d&&(b+=`\\\\
`),g}class iB extends br{constructor(e,r){super(),this.x=e,this.y=r,this.bordures=[e,r,e,r],this.tikz=()=>"",this.svg=()=>""}}function Un(t=0,e=0){return new iB(t,e)}function Zve(t="000000"){const e=t.match(/.{1,2}/g);return e!==null&&e.length===3?[Number.parseInt(e[0],16),Number.parseInt(e[1],16),Number.parseInt(e[2],16)]:(window.notify("Une couleur est mal formée. Veuillez le signaler aux développeurs de MathALEA.",{couleur:t}),[0,0,0])}function Hve(t){if(!t.startsWith("#"))return t;const e=Zve(t.replace("#",""));return"{rgb,255:red,"+e[0]+";green,"+e[1]+";blue,"+e[2]+"}"}function Ze(t){if(Array.isArray(t)&&t.length===2)return t[1]==="none"&&(t[1]=""),t.length===2?[String(t[0]),String(t[1])]:(window.notify("Une couleur est mal formée. Veuillez le signaler aux développeurs de MathALEA.",{couleur:t}),["",""]);if(t===void 0||t==="")return window.notify("Une couleur est undefined ou bien une chaine vide. Veuillez le signaler aux développeurs de MathALEA.",{couleur:t}),["",""];if(t==="none")return["none",""];{const e=[];return e[0]=t,t[0]==="#"?e[1]=Hve(t):e[1]=`{${t}}`.replace("{{","{").replace("}}","}"),e.slice(0,2)}}function Wve(t){return Gve[t]}function o3(t,e){let r=Wve(t)??t;if(r=r.replace("#",""),r.length===6){const i=Number.parseInt(r,16);let n=(i>>16)+e;n>255&&(n=255),n<0&&(n=0);let a=(i&255)+e;a>255&&(a=255),a<0&&(a=0);let s=(i>>8&255)+e;return s>255&&(s=255),s<0&&(s=0),`#${(a|s<<8|n<<16).toString(16)}`}else return r}function gi(t,{rxmin:e=-.5,rymin:r=-.5,rxmax:i=.5,rymax:n=.5,rzoom:a=1}={}){const s=(p,d,m,f,v,y)=>{if(v==null)return[p,d,m,f,y];if(Array.isArray(v))for(const x of v)[p,d,m,f,y]=s(p,d,m,f,x,y);else{const x=v.bordures??null;x===null||isNaN(x[0])?window.notify(`Ìl y a un problème avec les bordures de ${v.constructor.name}... elles ne sont pas définies !`,{objets:v}):Array.isArray(x)?x.filter(g=>isNaN(g)).length>0?window.notify(`Les bordures de ${v.constructor.name} sont bien un array mais contiennent autre chose que des nombres : ${x}`,{...v}):(p=Math.min(p,x[0]),m=Math.max(m,x[2]),d=Math.min(d,x[1]),f=Math.max(f,x[3]),y=!0):window.notify(`Les bordures de ${v.constructor.name} ne sont pas un array : ${JSON.stringify(x)}`,{...v})}return[p,d,m,f,y]};let o=1e3,l=1e3,u=-1e3,c=-1e3,h=!1;return[o,l,u,c,h]=s(o,l,u,c,t,h),h||window.notify("fixeBordures : aucun objet ne définit de bordures valides",{...t}),{xmin:o+e*a,xmax:u+i*a,ymin:l+r*a,ymax:c+n*a}}function Ge(t,e="#f15929"){return t instanceof _t&&(t=t.texFraction),typeof t=="number"&&(t=String(t)),Li(e)&&(e=e[0]),`{\\color{${e}}\\boldsymbol{${t}}}`}function Lc(t,e="#f15929"){return t=typeof t=="number"?String(t):t,Li(e)&&(e=e[0]),`{\\color{${e}} ${t}}`}function ye(t,e="#f15929"){return typeof t=="number"&&(t=String(t)),Li(e)&&(e=e[0]),`<span style="color:${e};font-weight: bold;">${t}</span>`}function Yve(t){return`<span class="oblique-strike">${t}</span>`}function nB(t){return`<b>${t}</b>`}function l3(t,e){{if(t===void 0)throw window.notify("fraction de fractions : le premier argument n'est pas défini ",{a:t,b:e}),new Error("fraction de fractions : le premier argument n'est pas défini ");if(typeof t=="number"&&typeof e=="number")return new _t(t,e);if(!isNaN(e)&&!isNaN(t))return new _t(Number(t),Number(e));throw window.notify("fraction de fractions : les arguments sont de type inconvenant ",{a:t,b:e}),new Error("fraction de fractions : les arguments sont de type inconvenant ")}}class $a{constructor(e,r){this.mesureDecimal=e instanceof Cr?e:new Cr(e),this.unite=r;const i=sB(r);this.puissanceUnite=i.puissanceUnite,this.uniteDeReference=i.uniteDeReference,this.prefixe=i.prefixe,this.puissancePrefixe=i.puissancePrefixe}get mesure(){return this.mesureDecimal.toNumber()}set mesure(e){this.mesureDecimal=new Cr(e)}convertirEn(e){const r=sB(e);if(u3(this.unite)&&u3(e)){const i=Kve(this.mesureDecimal,this.unite),n=Xve(i,e);return new $a(n,e)}if(Wp(this.unite)&&Wp(e)){const i=G8(this.mesureDecimal,this.unite),n=Qve(i,e);return new $a(n,e)}if(r.puissanceUnite===this.puissanceUnite&&r.uniteDeReference===this.uniteDeReference){const i=new Cr(this.puissancePrefixe).minus(r.puissancePrefixe).times(this.puissanceUnite),n=new Cr(10).pow(i);return new $a(this.mesureDecimal.times(n),e)}else if(r.uniteDeReference==="m^3"&&this.uniteDeReference==="L"){const i=new Cr(this.puissancePrefixe).minus(r.puissancePrefixe).minus(3).times(this.puissanceUnite),n=new Cr(10).pow(i);return new $a(this.mesureDecimal.times(n),"L")}else if(r.uniteDeReference==="L"&&this.uniteDeReference==="m^3"){const i=new Cr(this.puissancePrefixe).times(this.puissanceUnite).plus(3),n=new Cr(10).pow(i);return new $a(this.mesureDecimal.times(n),"m^3")}else if(r.uniteDeReference==="m^2"&&this.uniteDeReference==="a"){const i=new Cr(this.puissancePrefixe).plus(2),n=new Cr(10).pow(i);return new $a(this.mesureDecimal.times(n),"m^2")}else if(r.uniteDeReference==="a"&&this.uniteDeReference==="m^2"){const i=new Cr(this.puissancePrefixe).times(this.puissanceUnite).minus(2),n=new Cr(10).pow(i);return new $a(this.mesureDecimal.times(n),"a")}else throw new Error(`Conversion impossible de ${this.unite} en ${e}`)}estEgal(e){if(e.uniteDeReference!==this.uniteDeReference)return!1;try{const r=this.convertirEn(this.uniteDeReference),i=e.convertirEn(this.uniteDeReference);return r&&i?r.mesure===i.mesure:!1}catch(r){return console.error(r),!1}}estUneApproximation(e,r){if(e.uniteDeReference!==this.uniteDeReference)return!1;try{let i,n;return this.puissancePrefixe>e.puissancePrefixe?(i=this.convertirEn(e.unite),n=e):(i=this.convertirEn(this.unite),n=e.convertirEn(this.unite)),i!==void 0&&n!==void 0?Math.abs(i.mesure-n.mesure)<=r:!1}catch(i){return console.error(i),!1}}toString(e=12){var i;if(this.unite==="hhmmss")return aB(this.mesureDecimal);const r=(i=String(this.mesure).split(".")[1])==null?void 0:i.length;return r<e&&(e=r),`${Co(this.mesure,e).replace(".",",")} ${this.unite}`}toTex(e=12){if(Wp(this.unite)){const r=G8(this.mesureDecimal,this.unite);return eye(r)}return`${de(this.mesure,e).replace(".",",")}~\\text{${this.unite}}`}get latexUnit(){return u3(this.unite)||Wp(this.unite)?`\\text{${this.unite}}`:`\\text{${this.prefixe}${this.uniteDeReference.split("^")[0]}}${this.puissanceUnite===1?"":`^{${this.puissanceUnite.toString()}}`}`}static fromString(e){e=e.replace("\\,",""),e=e.replace("~",""),e=e.replace(",","."),e=e.replace(" ",""),e=e.replace(/\\text{([^}]+)}/g,"$1");const r=parseFloat(e),i=e.replace(String(r),"");return new $a(r,i)}static fromHHMMSS(e){const r=Jve(e);return new $a(r,"hhmmss")}toHHMMSS(){if(!Wp(this.unite))throw new Error(`Impossible d'appeler toHHMMSS() sur une grandeur qui n'est pas une durée (unité: ${this.unite})`);const e=G8(this.mesureDecimal,this.unite);return aB(e)}}function u3(t){return t==="m/s"||t==="km/h"}function Wp(t){return t==="hhmmss"||t==="hdec"||t==="mindec"||t==="sec"}function Kve(t,e){if(e==="m/s")return t;if(e==="km/h")return t.div(3.6);throw new Error(`Unité de vitesse inconnue: ${e}`)}function Xve(t,e){if(e==="m/s")return t;if(e==="km/h")return t.times(3.6);throw new Error(`Unité de vitesse inconnue: ${e}`)}function G8(t,e){if(e==="hhmmss")return t;if(e==="hdec")return t.times(3600);if(e==="mindec")return t.times(60);if(e==="sec")return t;throw new Error(`Unité de durée inconnue: ${e}`)}function Qve(t,e){if(e==="hhmmss")return t;if(e==="hdec")return t.div(3600);if(e==="mindec")return t.div(60);if(e==="sec")return t;throw new Error(`Unité de durée inconnue: ${e}`)}function Jve(t){const e=t.trim();if(/^\d{1,2}:\d{2}:\d{2}$/.test(e)){const[r,i,n]=e.split(":").map(Number);return new Cr(r).times(3600).plus(new Cr(i).times(60)).plus(n)}if(/^\d{6}$/.test(e)){const r=Number(e.slice(0,2)),i=Number(e.slice(2,4)),n=Number(e.slice(4,6));return new Cr(r).times(3600).plus(new Cr(i).times(60)).plus(n)}throw new Error(`Format hhmmss invalide: "${t}"`)}function eye(t){const e=t.toDecimalPlaces(0,Cr.ROUND_HALF_UP).toNumber(),r=Math.floor(e/3600),i=Math.floor(e%3600/60),n=e%60,a=[];return r>0&&a.push(`${r}~\\text{h}`),i>0&&a.push(`${i}~\\text{min}`),n>0&&a.push(`${n}~\\text{s}`),a.join("~")}function aB(t){const e=t.toDecimalPlaces(0,Cr.ROUND_HALF_UP).toNumber(),r=Math.floor(e/3600),i=Math.floor(e%3600/60),n=e%60,a=[];return r>0&&a.push(`${r} h`),i>0&&a.push(`${i} min`),n>0&&a.push(`${n} s`),a.join(" ")}function sB(t){if(u3(t))return{prefixe:"",uniteDeReference:"m/s",puissanceUnite:1,puissancePrefixe:0};if(Wp(t))return{prefixe:"",uniteDeReference:"s",puissanceUnite:1,puissancePrefixe:0};let e,r;t==="°"&&(e=1,r="°"),t==="°C"&&(e=1,r="°C"),t.indexOf("^")>0?(e=Number(t.split("^")[1]),r=t.split("^")[0]):t.indexOf("ha")===0?(e=1,r="ha"):t.indexOf("a")===0?(e=1,r="a"):t.indexOf("ca")===0?(e=1,r="ca"):(e=1,r=t);const i=t==="°C"?"":["t","q"].includes(t)?t:r.substring(0,r.length-1),n=tye(i,t),a=["t","q"].includes(t)?"g":t.substring(i.length);return{prefixe:i,uniteDeReference:a,puissanceUnite:e,puissancePrefixe:n}}function tye(t,e){let r;switch(t){case"m":r=-3;break;case"c":r=-2;break;case"d":r=-1;break;case"":r=0;break;case"da":r=1;break;case"h":r=2;break;case"k":r=3;break;case"q":r=e==="q"?5:NaN;break;case"t":r=e==="t"?6:NaN;break;case"M":r=6;break;case"G":r=9;break;case"T":r=12;break;case"\\mu{}":r=-6;break;case"n":r=-9;break;default:r=NaN}return r}class Nu{constructor({week:e=0,day:r=0,hour:i=0,minute:n=0,second:a=0,sign:s=""}={}){this.week=e,this.day=r,this.hour=i,this.minute=n,this.second=a,this.sign=s}static fromString(e){const r=new Nu;e=e.replaceAll(" ",""),e=e.replaceAll("&nbsp;",""),e=e.replaceAll("{\\:\\text{semaines}\\:}","semaines"),e=e.replaceAll("{\\:\\text{j}\\:}","j"),e=e.replaceAll("{\\:\\text{h}\\:}","h"),e=e.replaceAll("{\\:\\text{min}\\:}","min"),e=e.replaceAll("{\\:\\text{s}\\:}","s"),e=e.replaceAll("sem","semaines");const i=/(?:(?<sign>[+,-]))?(?:(?<week>\d+)\s*semaines\s*)?(?:(?<day>\d+)\s*j\s*)?(?:(?<hour>\d+)\s*h\s*)?(?:(?<minute>\d+)\s*min\s*)?(?:(?<second>\d+)\s*s)?/gm;for(const n of e.matchAll(i))n.groups!==void 0&&(Number.isInteger(parseInt(n.groups.week))&&(r.week=parseInt(n.groups.week)),Number.isInteger(parseInt(n.groups.day))&&(r.day=parseInt(n.groups.day)),Number.isInteger(parseInt(n.groups.hour))&&(r.hour=parseInt(n.groups.hour)),Number.isInteger(parseInt(n.groups.minute))&&(r.minute=parseInt(n.groups.minute)),Number.isInteger(parseInt(n.groups.second))&&(r.second=parseInt(n.groups.second)),(n.groups.sign==="+"||n.groups.sign==="-")&&(r.sign=n.groups.sign));if(e.includes("min")&&!e.endsWith("s")){const n=/(?:(?<sign>[+,-]))?(?:(?<week>\d+)\s*semaines\s*)?(?:(?<day>\d+)\s*j\s*)?(?:(?<hour>\d+)\s*h\s*)?(?:(?<minute>\d+)\s*min\s*)?(?:(?<second>\d+))?/gm;for(const a of e.matchAll(n))a.groups!==void 0&&Number.isInteger(parseInt(a.groups.week))&&(r.week=parseInt(a.groups.week)),a.groups!==void 0&&Number.isInteger(parseInt(a.groups.day))&&(r.day=parseInt(a.groups.day)),a.groups!==void 0&&Number.isInteger(parseInt(a.groups.hour))&&(r.hour=parseInt(a.groups.hour)),a.groups!==void 0&&Number.isInteger(parseInt(a.groups.minute))&&(r.minute=parseInt(a.groups.minute)),a.groups!==void 0&&Number.isInteger(parseInt(a.groups.second))&&(r.second=parseInt(a.groups.second)),a.groups!==void 0&&(a.groups.sign==="+"||a.groups.sign==="-")&&(r.sign=a.groups.sign)}else if(e.includes("h")&&!e.includes("min")&&!e.endsWith("s")){const n=/(?:(?<sign>[+,-]))?(?:(?<week>\d+)\s*semaines\s*)?(?:(?<day>\d+)\s*j\s*)?(?:(?<hour>\d+)\s*h\s*)?(?:(?<minute>\d+))?/gm;for(const a of e.matchAll(n))a.groups!==void 0&&Number.isInteger(parseInt(a.groups.week))&&(r.week=parseInt(a.groups.week)),a.groups!==void 0&&Number.isInteger(parseInt(a.groups.day))&&(r.day=parseInt(a.groups.day)),a.groups!==void 0&&Number.isInteger(parseInt(a.groups.hour))&&(r.hour=parseInt(a.groups.hour)),a.groups!==void 0&&Number.isInteger(parseInt(a.groups.minute))&&(r.minute=parseInt(a.groups.minute)),a.groups!==void 0&&Number.isInteger(parseInt(a.groups.second))&&(r.second=parseInt(a.groups.second)),a.groups!==void 0&&(a.groups.sign==="+"||a.groups.sign==="-")&&(r.sign=a.groups.sign)}else{const n=/(?:(?<sign>[+,-]))?(?:(?<week>\d+)\s*semaines\s*)?(?:(?<day>\d+)\s*j\s*)?(?:(?<hour>\d+)\s*h\s*)?(?:(?<minute>\d+)\s*min\s*)?(?:(?<second>\d+)\s*s)?/gm;for(const a of e.matchAll(n))a.groups!==void 0&&Number.isInteger(parseInt(a.groups.week))&&(r.week=parseInt(a.groups.week)),a.groups!==void 0&&Number.isInteger(parseInt(a.groups.day))&&(r.day=parseInt(a.groups.day)),a.groups!==void 0&&Number.isInteger(parseInt(a.groups.hour))&&(r.hour=parseInt(a.groups.hour)),a.groups!==void 0&&Number.isInteger(parseInt(a.groups.minute))&&(r.minute=parseInt(a.groups.minute)),a.groups!==void 0&&Number.isInteger(parseInt(a.groups.second))&&(r.second=parseInt(a.groups.second)),a.groups!==void 0&&(a.groups.sign==="+"||a.groups.sign==="-")&&(r.sign=a.groups.sign)}return r}toString(){let e="";return this.week>0&&(e+=`${this.week} semaines `,(this.day>0||this.hour>0||this.minute>0||this.second>0)&&(e+=" ")),this.day>0&&(e+=`${this.day} jours `,(this.hour>0||this.minute>0||this.second>0)&&(e+=" ")),this.hour>0&&(this.hour%24===0?e+="0 h":e+=`${this.hour} h`,(this.minute>0||this.second>0)&&(e+=" ")),this.minute>0&&(e+=this.minute>9?`${this.minute} min`:`0${this.minute} min`,this.second>0&&(e+=" ")),this.second>0&&(e+=`${this.second} s`),e}toString2(){return this.hour>0&&this.second===0?this.toString().replace(" min",""):this.minute>0?this.toString().replace(" s",""):this.toString()}isGreaterThan(e){return this.toSeconds()>e.toSeconds()}isEqual(e){return this.toSeconds()===e.toSeconds()}isTheSame(e){return this.week===e.week&&this.day===e.day&&this.hour===e.hour&&this.minute===e.minute&&this.second===e.second}isEquivalentToString(e){return Nu.fromString(e).toSeconds()===this.toSeconds()}toSecondsString(){return`${this.toSeconds()} s`}toSeconds(){return this.week*604800+this.day*86400+this.hour*3600+this.minute*60+this.second}normalize(){return this.minute+=Math.floor(this.second/60),this.second=this.second%60,this.hour+=Math.floor(this.minute/60),this.minute=this.minute%60,this}add(e){const r=new Nu;return r.second=this.toSeconds()+e.toSeconds(),r.normalize(),r}substract(e){const r=new Nu;return r.second=Math.abs(this.toSeconds()-e.toSeconds()),r.normalize(),r}}function zc(t,e=[]){let r=ge(65,90-t),i="";typeof e=="string"&&(e=Array.from(e));for(let n=0;n<t;n++){let a=n;for(;r+a>90;)a-=26;for(;r+a<65;)a+=26;i+=String.fromCharCode(r+a)}if(e.length<=26-t){let n=0;for(;rye(i,e)&&n<20;){i="",r=ge(65,90-t);for(let a=0;a<t;a++)i+=String.fromCharCode(r+a);n++}}else console.info("Trop de questions donc plusieurs polygones peuvent avoir le même nom");return i}function rye(t,e){let r=!1;for(const i of e)for(let n=0;n<i.length;n++)t.indexOf(i[n])>-1&&(r=!0);return r}function Qt(t,e=!1){let r="";return t<=26?(r=String.fromCharCode(64+t),e&&t>=4&&(r=String.fromCharCode(64+t+1))):t%26===0?(r=String.fromCharCode(64+Math.floor(t/26)-1),r+="Z"):(r=String.fromCharCode(64+Math.floor(t/26)),r+=String.fromCharCode(64+t%26)),r}function Be(t=1){let e="";for(let r=0;r<t;r++)e+="&nbsp;";return e}function Bc(t){return typeof t=="string"&&t.length>0?(t+"").charAt(0).toUpperCase()+t.substring(1):""}function ut(t,e=!1){return'<span style="color:#f15929; font-weight:bold">'+String.fromCharCode(97+t)+")"+(e?"":"&nbsp;")+"</span>"}function hf(t){if(typeof t=="number")return t===1?"":t===-1?"-":de(t);if(t instanceof Cr)return t.eq(1)?"":t.eq(-1)?"-":de(t);if(t instanceof _t&&!(t.isEqual(l3(1,1))||t.isEqual(l3(-1,1))))return t.toLatex();if(t instanceof _t&&t.isEqual(l3(1,1)))return"";if(t instanceof _t&&t.isEqual(l3(-1,1)))return"-";if(!(t instanceof _t)){if(lr(t,1))return"";if(lr(t,-1))return"-"}return typeof t=="string"?(window.notify("rienSi1() n'accepte pas les string.",{argument:t}),de(Number(t),7)):(window.notify("rienSi1 : type de valeur non prise en compte : ",{a:t}),String(t))}function iye(t){return typeof t=="string"?(window.notify("ecritureAlgebrique() n'accepte pas les string.",{argument:t}),t):t instanceof _t?t.texFractionSignee:typeof t=="number"?t>=0?"+"+de(t,7):de(t,7):t instanceof Cr?t.isPos()?"+"+de(t,7):de(t,7):(window.notify("ecritureAlgebrique() : type de valeur non prise en compte",{argument:t}),"")}function oB(t,e=0){if(typeof t!="number")window.notify("signeMoinsEnEvidence() appelé avec autre chose qu'un nombre.",{argument:t});else return t<0?Ge("-")+de(Math.abs(t),e):de(Math.abs(t),e)}function qo(t){let e="";return t instanceof Cr?t.gte(0)?de(t,8):`(${de(t,8)})`:typeof t=="number"?(t>=0?e=de(t,8):e=`(${de(t,8)})`,e):t instanceof _t?t.ecritureParentheseSiNegatif:(window.notify("ecritureParentheseSiNegatif() appelée avec autre chose qu'un nombre",{argument:t}),"undefined")}function c3(...t){return Qh(...t)}function nye(t,e){return t===0||e===0?0:Math.abs(t*e)/c3(t,e)}function pf(t){if(t===1||t===0)return[];const e=[],r=t<0?-1:1;for(let i=2;i<=Math.abs(t);i++)for(;t%i===0;)e.push(i),t/=i;return e[0]=r*e[0],e}function aye(t){if(t===1)return[[1,1]];const e=pf(t),r=[];let i=0;for(let n=0;n<e.length;)if(e[n]===0)n++;else{r.push([e[n],1]),i++;for(let a=n+1;a<e.length;a++)e[a]===e[n]&&(r[i-1][1]++,e[a]=0);n++}return r}function sye(t){let e=2;const r=[1];for(;e<=t;)t%e===0&&r.push(e),e++;return r}function kn(t){let e="";if(Uve(t)===1)return t;const r=pf(t);for(const i in r)e+=qo(r[i])+"\\times";return e=e.substr(0,e.length-6),e}function l1(t){if(t===1)return[1,1];const e=aye(t);let r=1,i=1;for(let n=0;n<e.length;n++)e[n][1]%2===0?i*=e[n][0]**(e[n][1]>>1):(e[n][1]>1&&(i*=e[n][0]**(e[n][1]-1>>1)),r*=e[n][0]);return[i,r]}function de(t,e=8,r=!1,i=!1){return typeof t=="string"&&(window.notify("texNombre appelé avec un string à la place d'un nombre",{nombre:t}),t=Number(t)),lB(t,e,"texNombre",r,i).replace(",","{,}").replace(/\s+/g,"\\,")}function Co(t,e,r,i){return r===void 0&&(r=!1),i===void 0&&(i=!1),e===void 0&&(e=8),typeof t=="string"&&window.notify("stringNombre appelé avec un string à la place d'un nombre",{nombre:t}),lB(t,e,"stringNombre",r,i)}function lB(t,e,r,i=!1,n){function a(u,c,h,p){let d,m;const f=c+h;u instanceof Cr?(Cr.set({toExpNeg:-h-1}),d=u.isNeg(),u.abs().gte(1),i?m=u.toFixed(h).replace(".",","):m=u.toDP(h).toString().replace(".",",")):(d=u<0,Math.abs(u)<1?i?m=Intl.NumberFormat("fr-FR",{maximumFractionDigits:h,minimumFractionDigits:h}).format(u):m=Intl.NumberFormat("fr-FR",{maximumFractionDigits:h}).format(u).replaceAll(/\s+/g," "):i&&(n&&Number.isInteger(u)||!Number.isInteger(u))?m=Intl.NumberFormat("fr-FR",{maximumSignificantDigits:f,minimumSignificantDigits:Math.min(f,15)}).format(u).replaceAll(/\s+/g," "):m=Intl.NumberFormat("fr-FR",{maximumSignificantDigits:Math.min(f,15)}).format(u).replaceAll(/\s+/g," "));const v=m.indexOf(",");let y;v!==-1?y=m.substring(0,v):y=m;let x="";if(v!==-1&&(x=m.substring(v+1)),u instanceof Cr){d&&(y=y.substring(1));for(let g=y.length-3;g>0;g-=3)y=y.substring(0,g)+" "+y.substring(g);d&&(y="-"+y)}for(let g=3;g<x.length;g+=p==="texNombre"?5:4)x=x.substring(0,g)+(p==="texNombre"?"\\,":" ")+x.substring(g);return x===""?m=y:m=y+","+x,m}const s=function(u){if(Math.abs(u)>1e-10&&Math.abs(u)<1e11){let c=u.toFixed(18);c.includes(".")&&(c=c.split(".")[1]);const h=+("."+c);let p=1;for(let d=1;d<c.length;d++){const m=Js(+("."+c.substring(0,d+1)),d);if(Math.abs(m-h)>1e-10)p++;else return p}return p}else return window.notify(`trouveLaPrecision de ${u} n'est pas possible : il ne peut pas être transformé en écriture décimale. Il faut adapter le code de l'exercice ou verifier que ce nombre n'est pas un bug`,{x:u}),10};if(!(t instanceof Cr)&&typeof t!="number")if(t instanceof _t)t=t.toNumber();else if(typeof t=="string"){const u=t.replaceAll(",",".")??"";t!==""?t=new Cr(u):window.notify(`TrouveLaPrecision : problème avec ce nombre : ${t}`,{nb:t})}else typeof t!="number"&&(window.notify(`afficherNombre a reçu un argument de type inconnu come nombre : ${t}`,{nombreEntrant:t}),t=Number(t),isNaN(t)&&(window.notify("Et ce paramètre n'est pas convertible en nombre ! il faut donc vérifier l'exercice qui comporte un bug !",{nb:t}),t=0));if(e===void 0&&(t instanceof Cr?e=t.e<0?t.precision()+-t.e:t.precision(!0):Number.isInteger(t)||Math.round(Math.log10(Number(t)))<-10?e=0:e=s(Number(t))),Number.isNaN(t)&&!(t instanceof Cr))return window.notify("AfficherNombre : Le nombre n'en est pas un",{nb:t,precision:e,fonction:r}),"";if(t instanceof Cr){if(t.isZero())return"0"}else if(Number(t)===0)return"0";let o;return t instanceof Cr?(t.abs().lt(1)?o=0:o=t.abs().floor().toFixed(0).length,t.isInteger()&&!n?e=0:typeof e!="number"?e=15-o:e<0&&(e=0)):(Math.abs(Number(t))<1?o=0:o=Math.floor(Math.abs(Number(t))).toFixed(0).length,Number.isInteger(t)&&!i?e=0:typeof e!="number"?e=15-o:e<0&&(e=0)),o+e>15&&!(t instanceof Cr)&&window.notify(r+` : ${Bve} le nombre passé à la fonction a trop de chiffres significatifs, soit c'est un bug à corriger, soit il faut utiliser un Decimal !`,{nb:t,precision:e}),a(Number(t),o,e,r)}function Z8(t){return t*Math.PI/180}class df{constructor({degres:e,cos:r=void 0,sin:i=void 0,tan:n=void 0,radians:a=void 0}){this.degres=e;const o=[{degres:"90",cos:"0",sin:"1",tan:"\\infin",radians:"\\dfrac{\\pi}{2}"},{degres:"45",cos:"\\dfrac{\\sqrt{2}}{2}",sin:"\\dfrac{\\sqrt{2}}{2}",tan:"1",radians:"\\dfrac{\\pi}{4}"},{degres:"60",cos:["\\dfrac{1}{2}","0.5"],sin:"\\dfrac{\\sqrt{3}}{2}",tan:"\\sqrt{3}",radians:"\\dfrac{\\pi}{3}"},{degres:"30",sin:["\\dfrac{1}{2}","0.5"],cos:"\\dfrac{\\sqrt{3}}{2}",tan:"\\dfrac{\\sqrt{3}}{3}",radians:"\\dfrac{\\pi}{6}"},{degres:"0",cos:"1",sin:"0",tan:"0",radians:"0"}].find(l=>l.degres===(parseInt(e)%360).toString());o===void 0?((r===void 0||i===void 0||n===void 0||a===void 0)&&window.notify("Il faut fournir les valeurs du cosinus, du sinus, de la tangente et de la mesure en radians",{cos:r,sin:i,tan:n,radians:a}),this.cos=r??"",this.sin=i??"",this.tan=n??"",this.radians=a??""):(this.cos=r??o.cos,this.sin=i??o.sin,this.tan=n??o.tan,this.radians=a??o.radians)}}new df({degres:"90",cos:"0",sin:"1",tan:"\\infin",radians:"\\dfrac{\\pi}{2}"}),new df({degres:"45",cos:"\\dfrac{\\sqrt{2}}{2}",sin:"\\dfrac{\\sqrt{2}}{2}",tan:"1",radians:"\\dfrac{\\pi}{4}"}),new df({degres:"60",cos:["\\dfrac{1}{2}","0.5"],sin:"\\dfrac{\\sqrt{3}}{2}",tan:"\\sqrt{3}",radians:"\\dfrac{\\pi}{3}"}),new df({degres:"30",sin:["\\dfrac{1}{2}","0.5"],cos:"\\dfrac{\\sqrt{3}}{2}",tan:"\\dfrac{\\sqrt{3}}{3}",radians:"\\dfrac{\\pi}{6}"}),new df({degres:"0",cos:"1",sin:"0",tan:"0",radians:"0"});class Vn extends br{constructor(e,r,i,n="above"){super(),this.typeObjet="point",this.x=0,this.y=0,this.nom=" ",arguments.length===1?this.nom=String(e):arguments.length===2?Number.isNaN(e)||Number.isNaN(r)?window.notify("Point : les coordonnées ne sont pas valides",{arg1:e,arg2:r}):(this.x=Number(e),this.y=r):(Number.isNaN(e)||Number.isNaN(r)?window.notify("Point : les coordonnées ne sont pas valides",{arg1:e,arg2:r}):(this.x=Number(e),this.y=r),this.nom=String(i)),this.x=yt(this.x,2),this.y=yt(this.y,2),this.positionLabel=n,this.bordures=[this.x,this.y,this.x,this.y]}xSVG(e){return yt(this.x*e,1)}ySVG(e){return yt(-this.y*e,1)}}function Gn(t,e,r="",i="above"){return new Vn(t,e,r,i)}var H8={exports:{}};H8.exports=h3,H8.exports.default=h3;function h3(t,e,r){r=r||2;var i=e&&e.length,n=i?e[0]*r:t.length,a=uB(t,0,n,r,!0),s=[];if(!a||a.next===a.prev)return s;var o,l,u,c,h,p,d;if(i&&(a=hye(t,e,a,r)),t.length>80*r){o=u=t[0],l=c=t[1];for(var m=r;m<n;m+=r)h=t[m],p=t[m+1],h<o&&(o=h),p<l&&(l=p),h>u&&(u=h),p>c&&(c=p);d=Math.max(u-o,c-l),d=d!==0?32767/d:0}return mf(a,s,r,o,l,d,0),s}function uB(t,e,r,i,n){var a,s;if(n===K8(t,e,r,i)>0)for(a=e;a<r;a+=i)s=pB(a,t[a],t[a+1],s);else for(a=r-i;a>=e;a-=i)s=pB(a,t[a],t[a+1],s);return s&&p3(s,s.next)&&(gf(s),s=s.next),s}function u1(t,e){if(!t)return t;e||(e=t);var r=t,i;do if(i=!1,!r.steiner&&(p3(r,r.next)||Zn(r.prev,r,r.next)===0)){if(gf(r),r=e=r.prev,r===r.next)break;i=!0}else r=r.next;while(i||r!==e);return e}function mf(t,e,r,i,n,a,s){if(t){!s&&a&&gye(t,i,n,a);for(var o=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,a?lye(t,i,n,a):oye(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),gf(t),t=u.next,o=u.next;continue}if(t=u,t===o){s?s===1?(t=uye(u1(t),e,r),mf(t,e,r,i,n,a,2)):s===2&&cye(t,e,r,i,n,a):mf(u1(t),e,r,i,n,a,1);break}}}}function oye(t){var e=t.prev,r=t,i=t.next;if(Zn(e,r,i)>=0)return!1;for(var n=e.x,a=r.x,s=i.x,o=e.y,l=r.y,u=i.y,c=n<a?n<s?n:s:a<s?a:s,h=o<l?o<u?o:u:l<u?l:u,p=n>a?n>s?n:s:a>s?a:s,d=o>l?o>u?o:u:l>u?l:u,m=i.next;m!==e;){if(m.x>=c&&m.x<=p&&m.y>=h&&m.y<=d&&Yp(n,o,a,l,s,u,m.x,m.y)&&Zn(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function lye(t,e,r,i){var n=t.prev,a=t,s=t.next;if(Zn(n,a,s)>=0)return!1;for(var o=n.x,l=a.x,u=s.x,c=n.y,h=a.y,p=s.y,d=o<l?o<u?o:u:l<u?l:u,m=c<h?c<p?c:p:h<p?h:p,f=o>l?o>u?o:u:l>u?l:u,v=c>h?c>p?c:p:h>p?h:p,y=W8(d,m,e,r,i),x=W8(f,v,e,r,i),g=t.prevZ,b=t.nextZ;g&&g.z>=y&&b&&b.z<=x;){if(g.x>=d&&g.x<=f&&g.y>=m&&g.y<=v&&g!==n&&g!==s&&Yp(o,c,l,h,u,p,g.x,g.y)&&Zn(g.prev,g,g.next)>=0||(g=g.prevZ,b.x>=d&&b.x<=f&&b.y>=m&&b.y<=v&&b!==n&&b!==s&&Yp(o,c,l,h,u,p,b.x,b.y)&&Zn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;g&&g.z>=y;){if(g.x>=d&&g.x<=f&&g.y>=m&&g.y<=v&&g!==n&&g!==s&&Yp(o,c,l,h,u,p,g.x,g.y)&&Zn(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;b&&b.z<=x;){if(b.x>=d&&b.x<=f&&b.y>=m&&b.y<=v&&b!==n&&b!==s&&Yp(o,c,l,h,u,p,b.x,b.y)&&Zn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function uye(t,e,r){var i=t;do{var n=i.prev,a=i.next.next;!p3(n,a)&&cB(n,i,i.next,a)&&ff(n,a)&&ff(a,n)&&(e.push(n.i/r|0),e.push(i.i/r|0),e.push(a.i/r|0),gf(i),gf(i.next),i=t=a),i=i.next}while(i!==t);return u1(i)}function cye(t,e,r,i,n,a){var s=t;do{for(var o=s.next.next;o!==s.prev;){if(s.i!==o.i&&bye(s,o)){var l=hB(s,o);s=u1(s,s.next),l=u1(l,l.next),mf(s,e,r,i,n,a,0),mf(l,e,r,i,n,a,0);return}o=o.next}s=s.next}while(s!==t)}function hye(t,e,r,i){var n=[],a,s,o,l,u;for(a=0,s=e.length;a<s;a++)o=e[a]*i,l=a<s-1?e[a+1]*i:t.length,u=uB(t,o,l,i,!1),u===u.next&&(u.steiner=!0),n.push(yye(u));for(n.sort(pye),a=0;a<n.length;a++)r=dye(n[a],r);return r}function pye(t,e){return t.x-e.x}function dye(t,e){var r=mye(t,e);if(!r)return e;var i=hB(r,t);return u1(i,i.next),u1(r,r.next)}function mye(t,e){var r=e,i=t.x,n=t.y,a=-1/0,s;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var o=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=i&&o>a&&(a=o,s=r.x<r.next.x?r:r.next,o===i))return s}r=r.next}while(r!==e);if(!s)return null;var l=s,u=s.x,c=s.y,h=1/0,p;r=s;do i>=r.x&&r.x>=u&&i!==r.x&&Yp(n<c?i:a,n,u,c,n<c?a:i,n,r.x,r.y)&&(p=Math.abs(n-r.y)/(i-r.x),ff(r,t)&&(p<h||p===h&&(r.x>s.x||r.x===s.x&&fye(s,r)))&&(s=r,h=p)),r=r.next;while(r!==l);return s}function fye(t,e){return Zn(t.prev,t,e.prev)<0&&Zn(e.next,t,t.next)<0}function gye(t,e,r,i){var n=t;do n.z===0&&(n.z=W8(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,vye(n)}function vye(t){var e,r,i,n,a,s,o,l,u=1;do{for(r=t,t=null,a=null,s=0;r;){for(s++,i=r,o=0,e=0;e<u&&(o++,i=i.nextZ,!!i);e++);for(l=u;o>0||l>0&&i;)o!==0&&(l===0||!i||r.z<=i.z)?(n=r,r=r.nextZ,o--):(n=i,i=i.nextZ,l--),a?a.nextZ=n:t=n,n.prevZ=a,a=n;r=i}a.nextZ=null,u*=2}while(s>1);return t}function W8(t,e,r,i,n){return t=(t-r)*n|0,e=(e-i)*n|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function yye(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Yp(t,e,r,i,n,a,s,o){return(n-s)*(e-o)>=(t-s)*(a-o)&&(t-s)*(i-o)>=(r-s)*(e-o)&&(r-s)*(a-o)>=(n-s)*(i-o)}function bye(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!xye(t,e)&&(ff(t,e)&&ff(e,t)&&wye(t,e)&&(Zn(t.prev,t,e.prev)||Zn(t,e.prev,e))||p3(t,e)&&Zn(t.prev,t,t.next)>0&&Zn(e.prev,e,e.next)>0)}function Zn(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function p3(t,e){return t.x===e.x&&t.y===e.y}function cB(t,e,r,i){var n=m3(Zn(t,e,r)),a=m3(Zn(t,e,i)),s=m3(Zn(r,i,t)),o=m3(Zn(r,i,e));return!!(n!==a&&s!==o||n===0&&d3(t,r,e)||a===0&&d3(t,i,e)||s===0&&d3(r,t,i)||o===0&&d3(r,e,i))}function d3(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function m3(t){return t>0?1:t<0?-1:0}function xye(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&cB(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function ff(t,e){return Zn(t.prev,t,t.next)<0?Zn(t,e,t.next)>=0&&Zn(t,t.prev,e)>=0:Zn(t,e,t.prev)<0||Zn(t,t.next,e)<0}function wye(t,e){var r=t,i=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&n<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==t);return i}function hB(t,e){var r=new Y8(t.i,t.x,t.y),i=new Y8(e.i,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,a.next=i,i.prev=a,i}function pB(t,e,r,i){var n=new Y8(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function gf(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Y8(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}h3.deviation=function(t,e,r,i){var n=e&&e.length,a=n?e[0]*r:t.length,s=Math.abs(K8(t,0,a,r));if(n)for(var o=0,l=e.length;o<l;o++){var u=e[o]*r,c=o<l-1?e[o+1]*r:t.length;s-=Math.abs(K8(t,u,c,r))}var h=0;for(o=0;o<i.length;o+=3){var p=i[o]*r,d=i[o+1]*r,m=i[o+2]*r;h+=Math.abs((t[p]-t[m])*(t[d+1]-t[p+1])-(t[p]-t[d])*(t[m+1]-t[p+1]))}return s===0&&h===0?0:Math.abs((h-s)/s)};function K8(t,e,r,i){for(var n=0,a=e,s=r-i;a<r;a+=i)n+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return n}h3.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var a=0;a<t[n].length;a++)for(var s=0;s<e;s++)r.vertices.push(t[n][a][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r};var Mye=H8.exports;const kye=Eh(Mye);function X8(t,e,r){if(t&&t.length){const[i,n]=e,a=Math.PI/180*r,s=Math.cos(a),o=Math.sin(a);for(const l of t){const[u,c]=l;l[0]=(u-i)*s-(c-n)*o+i,l[1]=(u-i)*o+(c-n)*s+n}}}function Cye(t,e){return t[0]===e[0]&&t[1]===e[1]}function Nye(t,e,r,i=1){const n=r,a=Math.max(e,.1),s=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(n)for(const u of s)X8(u,o,n);const l=function(u,c,h){const p=[];for(const x of u){const g=[...x];Cye(g[0],g[g.length-1])||g.push([g[0][0],g[0][1]]),g.length>2&&p.push(g)}const d=[];c=Math.max(c,.1);const m=[];for(const x of p)for(let g=0;g<x.length-1;g++){const b=x[g],k=x[g+1];if(b[1]!==k[1]){const w=Math.min(b[1],k[1]);m.push({ymin:w,ymax:Math.max(b[1],k[1]),x:w===b[1]?b[0]:k[0],islope:(k[0]-b[0])/(k[1]-b[1])})}}if(m.sort((x,g)=>x.ymin<g.ymin?-1:x.ymin>g.ymin?1:x.x<g.x?-1:x.x>g.x?1:x.ymax===g.ymax?0:(x.ymax-g.ymax)/Math.abs(x.ymax-g.ymax)),!m.length)return d;let f=[],v=m[0].ymin,y=0;for(;f.length||m.length;){if(m.length){let x=-1;for(let g=0;g<m.length&&!(m[g].ymin>v);g++)x=g;m.splice(0,x+1).forEach(g=>{f.push({s:v,edge:g})})}if(f=f.filter(x=>!(x.edge.ymax<=v)),f.sort((x,g)=>x.edge.x===g.edge.x?0:(x.edge.x-g.edge.x)/Math.abs(x.edge.x-g.edge.x)),(h!==1||y%c==0)&&f.length>1)for(let x=0;x<f.length;x+=2){const g=x+1;if(g>=f.length)break;const b=f[x].edge,k=f[g].edge;d.push([[Math.round(b.x),v],[Math.round(k.x),v]])}v+=h,f.forEach(x=>{x.edge.x=x.edge.x+h*x.edge.islope}),y++}return d}(s,a,i);if(n){for(const u of s)X8(u,o,-n);(function(u,c,h){const p=[];u.forEach(d=>p.push(...d)),X8(p,c,h)})(l,o,-n)}return l}function vf(t,e){var r;const i=e.hachureAngle+90;let n=e.hachureGap;n<0&&(n=4*e.strokeWidth),n=Math.round(Math.max(n,.1));let a=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=n),Nye(t,n,i,a||1)}class Q8{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const i=vf(e,r);return{type:"fillSketch",ops:this.renderLines(i,r)}}renderLines(e,r){const i=[];for(const n of e)i.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],r));return i}}function f3(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}let Sye=class extends Q8{fillPolygons(e,r){let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);const n=vf(e,Object.assign({},r,{hachureGap:i})),a=Math.PI/180*r.hachureAngle,s=[],o=.5*i*Math.cos(a),l=.5*i*Math.sin(a);for(const[u,c]of n)f3([u,c])&&s.push([[u[0]-o,u[1]+l],[...c]],[[u[0]+o,u[1]-l],[...c]]);return{type:"fillSketch",ops:this.renderLines(s,r)}}};class Dye extends Q8{fillPolygons(e,r){const i=this._fillPolygons(e,r),n=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),a=this._fillPolygons(e,n);return i.ops=i.ops.concat(a.ops),i}}class Aye{constructor(e){this.helper=e}fillPolygons(e,r){const i=vf(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(i,r)}dotsOnLines(e,r){const i=[];let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);const s=n/4;for(const o of e){const l=f3(o),u=l/n,c=Math.ceil(u)-1,h=l-c*n,p=(o[0][0]+o[1][0])/2-n/4,d=Math.min(o[0][1],o[1][1]);for(let m=0;m<c;m++){const f=d+h+m*n,v=p-s+2*Math.random()*s,y=f-s+2*Math.random()*s,x=this.helper.ellipse(v,y,a,a,r);i.push(...x.ops)}}return{type:"fillSketch",ops:i}}}class $ye{constructor(e){this.helper=e}fillPolygons(e,r){const i=vf(e,r);return{type:"fillSketch",ops:this.dashedLine(i,r)}}dashedLine(e,r){const i=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,n=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,a=[];return e.forEach(s=>{const o=f3(s),l=Math.floor(o/(i+n)),u=(o+n-l*(i+n))/2;let c=s[0],h=s[1];c[0]>h[0]&&(c=s[1],h=s[0]);const p=Math.atan((h[1]-c[1])/(h[0]-c[0]));for(let d=0;d<l;d++){const m=d*(i+n),f=m+i,v=[c[0]+m*Math.cos(p)+u*Math.cos(p),c[1]+m*Math.sin(p)+u*Math.sin(p)],y=[c[0]+f*Math.cos(p)+u*Math.cos(p),c[1]+f*Math.sin(p)+u*Math.sin(p)];a.push(...this.helper.doubleLineOps(v[0],v[1],y[0],y[1],r))}}),a}}class _ye{constructor(e){this.helper=e}fillPolygons(e,r){const i=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,n=r.zigzagOffset<0?i:r.zigzagOffset,a=vf(e,r=Object.assign({},r,{hachureGap:i+n}));return{type:"fillSketch",ops:this.zigzagLines(a,n,r)}}zigzagLines(e,r,i){const n=[];return e.forEach(a=>{const s=f3(a),o=Math.round(s/(2*r));let l=a[0],u=a[1];l[0]>u[0]&&(l=a[1],u=a[0]);const c=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let h=0;h<o;h++){const p=2*h*r,d=2*(h+1)*r,m=Math.sqrt(2*Math.pow(r,2)),f=[l[0]+p*Math.cos(c),l[1]+p*Math.sin(c)],v=[l[0]+d*Math.cos(c),l[1]+d*Math.sin(c)],y=[f[0]+m*Math.cos(c+Math.PI/4),f[1]+m*Math.sin(c+Math.PI/4)];n.push(...this.helper.doubleLineOps(f[0],f[1],y[0],y[1],i),...this.helper.doubleLineOps(y[0],y[1],v[0],v[1],i))}}),n}}const No={};let Eye=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const Iye=0,J8=1,dB=2,g3={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function e7(t,e){return t.type===e}function t7(t){const e=[],r=function(s){const o=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:Iye,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:J8,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return o[o.length]={type:dB,text:""},o}(t);let i="BOD",n=0,a=r[n];for(;!e7(a,dB);){let s=0;const o=[];if(i==="BOD"){if(a.text!=="M"&&a.text!=="m")return t7("M0,0"+t);n++,s=g3[a.text],i=a.text}else e7(a,J8)?s=g3[i]:(n++,s=g3[a.text],i=a.text);if(!(n+s<r.length))throw new Error("Path data ended short");for(let l=n;l<n+s;l++){const u=r[l];if(!e7(u,J8))throw new Error("Param not a number: "+i+","+u.text);o[o.length]=+u.text}if(typeof g3[i]!="number")throw new Error("Bad segment: "+i);{const l={key:i,data:o};e.push(l),n+=s,a=r[n],i==="M"&&(i="L"),i==="m"&&(i="l")}}return e}function mB(t){let e=0,r=0,i=0,n=0;const a=[];for(const{key:s,data:o}of t)switch(s){case"M":a.push({key:"M",data:[...o]}),[e,r]=o,[i,n]=o;break;case"m":e+=o[0],r+=o[1],a.push({key:"M",data:[e,r]}),i=e,n=r;break;case"L":a.push({key:"L",data:[...o]}),[e,r]=o;break;case"l":e+=o[0],r+=o[1],a.push({key:"L",data:[e,r]});break;case"C":a.push({key:"C",data:[...o]}),e=o[4],r=o[5];break;case"c":{const l=o.map((u,c)=>c%2?u+r:u+e);a.push({key:"C",data:l}),e=l[4],r=l[5];break}case"Q":a.push({key:"Q",data:[...o]}),e=o[2],r=o[3];break;case"q":{const l=o.map((u,c)=>c%2?u+r:u+e);a.push({key:"Q",data:l}),e=l[2],r=l[3];break}case"A":a.push({key:"A",data:[...o]}),e=o[5],r=o[6];break;case"a":e+=o[5],r+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,r]});break;case"H":a.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],a.push({key:"H",data:[e]});break;case"V":a.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...o]}),e=o[2],r=o[3];break;case"s":{const l=o.map((u,c)=>c%2?u+r:u+e);a.push({key:"S",data:l}),e=l[2],r=l[3];break}case"T":a.push({key:"T",data:[...o]}),e=o[0],r=o[1];break;case"t":e+=o[0],r+=o[1],a.push({key:"T",data:[e,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),e=i,r=n}return a}function fB(t){const e=[];let r="",i=0,n=0,a=0,s=0,o=0,l=0;for(const{key:u,data:c}of t){switch(u){case"M":e.push({key:"M",data:[...c]}),[i,n]=c,[a,s]=c;break;case"C":e.push({key:"C",data:[...c]}),i=c[4],n=c[5],o=c[2],l=c[3];break;case"L":e.push({key:"L",data:[...c]}),[i,n]=c;break;case"H":i=c[0],e.push({key:"L",data:[i,n]});break;case"V":n=c[0],e.push({key:"L",data:[i,n]});break;case"S":{let h=0,p=0;r==="C"||r==="S"?(h=i+(i-o),p=n+(n-l)):(h=i,p=n),e.push({key:"C",data:[h,p,...c]}),o=c[0],l=c[1],i=c[2],n=c[3];break}case"T":{const[h,p]=c;let d=0,m=0;r==="Q"||r==="T"?(d=i+(i-o),m=n+(n-l)):(d=i,m=n);const f=i+2*(d-i)/3,v=n+2*(m-n)/3,y=h+2*(d-h)/3,x=p+2*(m-p)/3;e.push({key:"C",data:[f,v,y,x,h,p]}),o=d,l=m,i=h,n=p;break}case"Q":{const[h,p,d,m]=c,f=i+2*(h-i)/3,v=n+2*(p-n)/3,y=d+2*(h-d)/3,x=m+2*(p-m)/3;e.push({key:"C",data:[f,v,y,x,d,m]}),o=h,l=p,i=d,n=m;break}case"A":{const h=Math.abs(c[0]),p=Math.abs(c[1]),d=c[2],m=c[3],f=c[4],v=c[5],y=c[6];h===0||p===0?(e.push({key:"C",data:[i,n,v,y,v,y]}),i=v,n=y):(i!==v||n!==y)&&(gB(i,n,v,y,h,p,d,m,f).forEach(function(x){e.push({key:"C",data:x})}),i=v,n=y);break}case"Z":e.push({key:"Z",data:[]}),i=a,n=s}r=u}return e}function yf(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function gB(t,e,r,i,n,a,s,o,l,u){const c=(h=s,Math.PI*h/180);var h;let p=[],d=0,m=0,f=0,v=0;if(u)[d,m,f,v]=u;else{[t,e]=yf(t,e,-c),[r,i]=yf(r,i,-c);const z=(t-r)/2,P=(e-i)/2;let q=z*z/(n*n)+P*P/(a*a);q>1&&(q=Math.sqrt(q),n*=q,a*=q);const L=n*n,Z=a*a,W=L*Z-L*P*P-Z*z*z,Y=L*P*P+Z*z*z,ie=(o===l?-1:1)*Math.sqrt(Math.abs(W/Y));f=ie*n*P/a+(t+r)/2,v=ie*-a*z/n+(e+i)/2,d=Math.asin(parseFloat(((e-v)/a).toFixed(9))),m=Math.asin(parseFloat(((i-v)/a).toFixed(9))),t<f&&(d=Math.PI-d),r<f&&(m=Math.PI-m),d<0&&(d=2*Math.PI+d),m<0&&(m=2*Math.PI+m),l&&d>m&&(d-=2*Math.PI),!l&&m>d&&(m-=2*Math.PI)}let y=m-d;if(Math.abs(y)>120*Math.PI/180){const z=m,P=r,q=i;m=l&&m>d?d+120*Math.PI/180*1:d+120*Math.PI/180*-1,p=gB(r=f+n*Math.cos(m),i=v+a*Math.sin(m),P,q,n,a,s,0,l,[m,z,f,v])}y=m-d;const x=Math.cos(d),g=Math.sin(d),b=Math.cos(m),k=Math.sin(m),w=Math.tan(y/4),N=4/3*n*w,A=4/3*a*w,$=[t,e],D=[t+N*g,e-A*x],_=[r+N*k,i-A*b],T=[r,i];if(D[0]=2*$[0]-D[0],D[1]=2*$[1]-D[1],u)return[D,_,T].concat(p);{p=[D,_,T].concat(p);const z=[];for(let P=0;P<p.length;P+=3){const q=yf(p[P][0],p[P][1],c),L=yf(p[P+1][0],p[P+1][1],c),Z=yf(p[P+2][0],p[P+2][1],c);z.push([q[0],q[1],L[0],L[1],Z[0],Z[1]])}return z}}const Tye={randOffset:function(t,e){return Lr(t,e)},randOffsetWithRange:function(t,e,r){return y3(t,e,r)},ellipse:function(t,e,r,i,n){const a=bB(r,i,n);return r7(t,e,n,a).opset},doubleLineOps:function(t,e,r,i,n){return Oc(t,e,r,i,n,!0)}};function vB(t,e,r,i,n){return{type:"path",ops:Oc(t,e,r,i,n)}}function v3(t,e,r){const i=(t||[]).length;if(i>2){const n=[];for(let a=0;a<i-1;a++)n.push(...Oc(t[a][0],t[a][1],t[a+1][0],t[a+1][1],r));return e&&n.push(...Oc(t[i-1][0],t[i-1][1],t[0][0],t[0][1],r)),{type:"path",ops:n}}return i===2?vB(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function Lye(t,e,r,i,n){return function(a,s){return v3(a,!0,s)}([[t,e],[t+r,e],[t+r,e+i],[t,e+i]],n)}function yB(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,i=b3(r[0],1*(1+.2*e.roughness),e),n=e.disableMultiStroke?[]:b3(r[0],1.5*(1+.22*e.roughness),MB(e));for(let a=1;a<r.length;a++){const s=r[a];if(s.length){const o=b3(s,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:b3(s,1.5*(1+.22*e.roughness),MB(e));for(const u of o)u.op!=="move"&&i.push(u);for(const u of l)u.op!=="move"&&n.push(u)}}return{type:"path",ops:i.concat(n)}}return{type:"path",ops:[]}}function bB(t,e,r){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),n=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*i)),a=2*Math.PI/n;let s=Math.abs(t/2),o=Math.abs(e/2);const l=1-r.curveFitting;return s+=Lr(s*l,r),o+=Lr(o*l,r),{increment:a,rx:s,ry:o}}function r7(t,e,r,i){const[n,a]=CB(i.increment,t,e,i.rx,i.ry,1,i.increment*y3(.1,y3(.4,1,r),r),r);let s=x3(n,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=CB(i.increment,t,e,i.rx,i.ry,1.5,0,r),l=x3(o,null,r);s=s.concat(l)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function xB(t,e,r,i,n,a,s,o,l){const u=t,c=e;let h=Math.abs(r/2),p=Math.abs(i/2);h+=Lr(.01*h,l),p+=Lr(.01*p,l);let d=n,m=a;for(;d<0;)d+=2*Math.PI,m+=2*Math.PI;m-d>2*Math.PI&&(d=0,m=2*Math.PI);const f=2*Math.PI/l.curveStepCount,v=Math.min(f/2,(m-d)/2),y=NB(v,u,c,h,p,d,m,1,l);if(!l.disableMultiStroke){const x=NB(v,u,c,h,p,d,m,1.5,l);y.push(...x)}return s&&(o?y.push(...Oc(u,c,u+h*Math.cos(d),c+p*Math.sin(d),l),...Oc(u,c,u+h*Math.cos(m),c+p*Math.sin(m),l)):y.push({op:"lineTo",data:[u,c]},{op:"lineTo",data:[u+h*Math.cos(d),c+p*Math.sin(d)]})),{type:"path",ops:y}}function wB(t,e){const r=fB(mB(t7(t))),i=[];let n=[0,0],a=[0,0];for(const{key:s,data:o}of r)switch(s){case"M":a=[o[0],o[1]],n=[o[0],o[1]];break;case"L":i.push(...Oc(a[0],a[1],o[0],o[1],e)),a=[o[0],o[1]];break;case"C":{const[l,u,c,h,p,d]=o;i.push(...zye(l,u,c,h,p,d,a,e)),a=[p,d];break}case"Z":i.push(...Oc(a[0],a[1],n[0],n[1],e)),a=[n[0],n[1]]}return{type:"path",ops:i}}function i7(t,e){const r=[];for(const i of t)if(i.length){const n=e.maxRandomnessOffset||0,a=i.length;if(a>2){r.push({op:"move",data:[i[0][0]+Lr(n,e),i[0][1]+Lr(n,e)]});for(let s=1;s<a;s++)r.push({op:"lineTo",data:[i[s][0]+Lr(n,e),i[s][1]+Lr(n,e)]})}}return{type:"fillPath",ops:r}}function Kp(t,e){return function(r,i){let n=r.fillStyle||"hachure";if(!No[n])switch(n){case"zigzag":No[n]||(No[n]=new Sye(i));break;case"cross-hatch":No[n]||(No[n]=new Dye(i));break;case"dots":No[n]||(No[n]=new Aye(i));break;case"dashed":No[n]||(No[n]=new $ye(i));break;case"zigzag-line":No[n]||(No[n]=new _ye(i));break;default:n="hachure",No[n]||(No[n]=new Q8(i))}return No[n]}(e,Tye).fillPolygons(t,e)}function MB(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function kB(t){return t.randomizer||(t.randomizer=new Eye(t.seed||0)),t.randomizer.next()}function y3(t,e,r,i=1){return r.roughness*i*(kB(r)*(e-t)+t)}function Lr(t,e,r=1){return y3(-t,t,e,r)}function Oc(t,e,r,i,n,a=!1){const s=a?n.disableMultiStrokeFill:n.disableMultiStroke,o=n7(t,e,r,i,n,!0,!1);if(s)return o;const l=n7(t,e,r,i,n,!0,!0);return o.concat(l)}function n7(t,e,r,i,n,a,s){const o=Math.pow(t-r,2)+Math.pow(e-i,2),l=Math.sqrt(o);let u=1;u=l<200?1:l>500?.4:-.0016668*l+1.233334;let c=n.maxRandomnessOffset||0;c*c*100>o&&(c=l/10);const h=c/2,p=.2+.2*kB(n);let d=n.bowing*n.maxRandomnessOffset*(i-e)/200,m=n.bowing*n.maxRandomnessOffset*(t-r)/200;d=Lr(d,n,u),m=Lr(m,n,u);const f=[],v=()=>Lr(h,n,u),y=()=>Lr(c,n,u),x=n.preserveVertices;return s?f.push({op:"move",data:[t+(x?0:v()),e+(x?0:v())]}):f.push({op:"move",data:[t+(x?0:Lr(c,n,u)),e+(x?0:Lr(c,n,u))]}),s?f.push({op:"bcurveTo",data:[d+t+(r-t)*p+v(),m+e+(i-e)*p+v(),d+t+2*(r-t)*p+v(),m+e+2*(i-e)*p+v(),r+(x?0:v()),i+(x?0:v())]}):f.push({op:"bcurveTo",data:[d+t+(r-t)*p+y(),m+e+(i-e)*p+y(),d+t+2*(r-t)*p+y(),m+e+2*(i-e)*p+y(),r+(x?0:y()),i+(x?0:y())]}),f}function b3(t,e,r){if(!t.length)return[];const i=[];i.push([t[0][0]+Lr(e,r),t[0][1]+Lr(e,r)]),i.push([t[0][0]+Lr(e,r),t[0][1]+Lr(e,r)]);for(let n=1;n<t.length;n++)i.push([t[n][0]+Lr(e,r),t[n][1]+Lr(e,r)]),n===t.length-1&&i.push([t[n][0]+Lr(e,r),t[n][1]+Lr(e,r)]);return x3(i,null,r)}function x3(t,e,r){const i=t.length,n=[];if(i>3){const a=[],s=1-r.curveTightness;n.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<i;o++){const l=t[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*t[o+1][0]-s*t[o-1][0])/6,l[1]+(s*t[o+1][1]-s*t[o-1][1])/6],a[2]=[t[o+1][0]+(s*t[o][0]-s*t[o+2][0])/6,t[o+1][1]+(s*t[o][1]-s*t[o+2][1])/6],a[3]=[t[o+1][0],t[o+1][1]],n.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}}else i===3?(n.push({op:"move",data:[t[1][0],t[1][1]]}),n.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):i===2&&n.push(...n7(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return n}function CB(t,e,r,i,n,a,s,o){const l=[],u=[];if(o.roughness===0){t/=4,u.push([e+i*Math.cos(-t),r+n*Math.sin(-t)]);for(let c=0;c<=2*Math.PI;c+=t){const h=[e+i*Math.cos(c),r+n*Math.sin(c)];l.push(h),u.push(h)}u.push([e+i*Math.cos(0),r+n*Math.sin(0)]),u.push([e+i*Math.cos(t),r+n*Math.sin(t)])}else{const c=Lr(.5,o)-Math.PI/2;u.push([Lr(a,o)+e+.9*i*Math.cos(c-t),Lr(a,o)+r+.9*n*Math.sin(c-t)]);const h=2*Math.PI+c-.01;for(let p=c;p<h;p+=t){const d=[Lr(a,o)+e+i*Math.cos(p),Lr(a,o)+r+n*Math.sin(p)];l.push(d),u.push(d)}u.push([Lr(a,o)+e+i*Math.cos(c+2*Math.PI+.5*s),Lr(a,o)+r+n*Math.sin(c+2*Math.PI+.5*s)]),u.push([Lr(a,o)+e+.98*i*Math.cos(c+s),Lr(a,o)+r+.98*n*Math.sin(c+s)]),u.push([Lr(a,o)+e+.9*i*Math.cos(c+.5*s),Lr(a,o)+r+.9*n*Math.sin(c+.5*s)])}return[u,l]}function NB(t,e,r,i,n,a,s,o,l){const u=a+Lr(.1,l),c=[];c.push([Lr(o,l)+e+.9*i*Math.cos(u-t),Lr(o,l)+r+.9*n*Math.sin(u-t)]);for(let h=u;h<=s;h+=t)c.push([Lr(o,l)+e+i*Math.cos(h),Lr(o,l)+r+n*Math.sin(h)]);return c.push([e+i*Math.cos(s),r+n*Math.sin(s)]),c.push([e+i*Math.cos(s),r+n*Math.sin(s)]),x3(c,null,l)}function zye(t,e,r,i,n,a,s,o){const l=[],u=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let c=[0,0];const h=o.disableMultiStroke?1:2,p=o.preserveVertices;for(let d=0;d<h;d++)d===0?l.push({op:"move",data:[s[0],s[1]]}):l.push({op:"move",data:[s[0]+(p?0:Lr(u[0],o)),s[1]+(p?0:Lr(u[0],o))]}),c=p?[n,a]:[n+Lr(u[d],o),a+Lr(u[d],o)],l.push({op:"bcurveTo",data:[t+Lr(u[d],o),e+Lr(u[d],o),r+Lr(u[d],o),i+Lr(u[d],o),c[0],c[1]]});return l}function bf(t){return[...t]}function SB(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const i=[];if(r===3)i.push(bf(t[0]),bf(t[1]),bf(t[2]),bf(t[2]));else{const n=[];n.push(t[0],t[0]);for(let o=1;o<t.length;o++)n.push(t[o]),o===t.length-1&&n.push(t[o]);const a=[],s=1-e;i.push(bf(n[0]));for(let o=1;o+2<n.length;o++){const l=n[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*n[o+1][0]-s*n[o-1][0])/6,l[1]+(s*n[o+1][1]-s*n[o-1][1])/6],a[2]=[n[o+1][0]+(s*n[o][0]-s*n[o+2][0])/6,n[o+1][1]+(s*n[o][1]-s*n[o+2][1])/6],a[3]=[n[o+1][0],n[o+1][1]],i.push(a[1],a[2],a[3])}}return i}function w3(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Bye(t,e,r){const i=w3(e,r);if(i===0)return w3(t,e);let n=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/i;return n=Math.max(0,Math.min(1,n)),w3(t,c1(e,r,n))}function c1(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function a7(t,e,r,i){const n=i||[];if(function(o,l){const u=o[l+0],c=o[l+1],h=o[l+2],p=o[l+3];let d=3*c[0]-2*u[0]-p[0];d*=d;let m=3*c[1]-2*u[1]-p[1];m*=m;let f=3*h[0]-2*p[0]-u[0];f*=f;let v=3*h[1]-2*p[1]-u[1];return v*=v,d<f&&(d=f),m<v&&(m=v),d+m}(t,e)<r){const o=t[e+0];n.length?(a=n[n.length-1],s=o,Math.sqrt(w3(a,s))>1&&n.push(o)):n.push(o),n.push(t[e+3])}else{const l=t[e+0],u=t[e+1],c=t[e+2],h=t[e+3],p=c1(l,u,.5),d=c1(u,c,.5),m=c1(c,h,.5),f=c1(p,d,.5),v=c1(d,m,.5),y=c1(f,v,.5);a7([l,p,f,y],0,r,n),a7([y,v,m,h],0,r,n)}var a,s;return n}function Oye(t,e){return M3(t,0,t.length,e)}function M3(t,e,r,i,n){const a=n||[],s=t[e],o=t[r-1];let l=0,u=1;for(let c=e+1;c<r-1;++c){const h=Bye(t[c],s,o);h>l&&(l=h,u=c)}return Math.sqrt(l)>i?(M3(t,e,u+1,i,a),M3(t,u,r,i,a)):(a.length||a.push(s),a.push(o)),a}function s7(t,e=.15,r){const i=[],n=(t.length-1)/3;for(let a=0;a<n;a++)a7(t,3*a,e,i);return r&&r>0?M3(i,0,i.length,r):i}const Uo="none";let k3=class{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,i){return{shape:e,sets:r||[],options:i||this.defaultOptions}}line(e,r,i,n,a){const s=this._o(a);return this._d("line",[vB(e,r,i,n,s)],s)}rectangle(e,r,i,n,a){const s=this._o(a),o=[],l=Lye(e,r,i,n,s);if(s.fill){const u=[[e,r],[e+i,r],[e+i,r+n],[e,r+n]];s.fillStyle==="solid"?o.push(i7([u],s)):o.push(Kp([u],s))}return s.stroke!==Uo&&o.push(l),this._d("rectangle",o,s)}ellipse(e,r,i,n,a){const s=this._o(a),o=[],l=bB(i,n,s),u=r7(e,r,s,l);if(s.fill)if(s.fillStyle==="solid"){const c=r7(e,r,s,l).opset;c.type="fillPath",o.push(c)}else o.push(Kp([u.estimatedPoints],s));return s.stroke!==Uo&&o.push(u.opset),this._d("ellipse",o,s)}circle(e,r,i,n){const a=this.ellipse(e,r,i,i,n);return a.shape="circle",a}linearPath(e,r){const i=this._o(r);return this._d("linearPath",[v3(e,!1,i)],i)}arc(e,r,i,n,a,s,o=!1,l){const u=this._o(l),c=[],h=xB(e,r,i,n,a,s,o,!0,u);if(o&&u.fill)if(u.fillStyle==="solid"){const p=Object.assign({},u);p.disableMultiStroke=!0;const d=xB(e,r,i,n,a,s,!0,!1,p);d.type="fillPath",c.push(d)}else c.push(function(p,d,m,f,v,y,x){const g=p,b=d;let k=Math.abs(m/2),w=Math.abs(f/2);k+=Lr(.01*k,x),w+=Lr(.01*w,x);let N=v,A=y;for(;N<0;)N+=2*Math.PI,A+=2*Math.PI;A-N>2*Math.PI&&(N=0,A=2*Math.PI);const $=(A-N)/x.curveStepCount,D=[];for(let _=N;_<=A;_+=$)D.push([g+k*Math.cos(_),b+w*Math.sin(_)]);return D.push([g+k*Math.cos(A),b+w*Math.sin(A)]),D.push([g,b]),Kp([D],x)}(e,r,i,n,a,s,u));return u.stroke!==Uo&&c.push(h),this._d("arc",c,u)}curve(e,r){const i=this._o(r),n=[],a=yB(e,i);if(i.fill&&i.fill!==Uo)if(i.fillStyle==="solid"){const s=yB(e,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(s.ops)})}else{const s=[],o=e;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const u of l)u.length<3?s.push(...u):u.length===3?s.push(...s7(SB([u[0],u[0],u[1],u[2]]),10,(1+i.roughness)/2)):s.push(...s7(SB(u),10,(1+i.roughness)/2))}s.length&&n.push(Kp([s],i))}return i.stroke!==Uo&&n.push(a),this._d("curve",n,i)}polygon(e,r){const i=this._o(r),n=[],a=v3(e,!0,i);return i.fill&&(i.fillStyle==="solid"?n.push(i7([e],i)):n.push(Kp([e],i))),i.stroke!==Uo&&n.push(a),this._d("polygon",n,i)}path(e,r){const i=this._o(r),n=[];if(!e)return this._d("path",n,i);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=i.fill&&i.fill!=="transparent"&&i.fill!==Uo,s=i.stroke!==Uo,o=!!(i.simplification&&i.simplification<1),l=function(c,h,p){const d=fB(mB(t7(c))),m=[];let f=[],v=[0,0],y=[];const x=()=>{y.length>=4&&f.push(...s7(y,h)),y=[]},g=()=>{x(),f.length&&(m.push(f),f=[])};for(const{key:k,data:w}of d)switch(k){case"M":g(),v=[w[0],w[1]],f.push(v);break;case"L":x(),f.push([w[0],w[1]]);break;case"C":if(!y.length){const N=f.length?f[f.length-1]:v;y.push([N[0],N[1]])}y.push([w[0],w[1]]),y.push([w[2],w[3]]),y.push([w[4],w[5]]);break;case"Z":x(),f.push([v[0],v[1]])}if(g(),!p)return m;const b=[];for(const k of m){const w=Oye(k,p);w.length&&b.push(w)}return b}(e,1,o?4-4*(i.simplification||1):(1+i.roughness)/2),u=wB(e,i);if(a)if(i.fillStyle==="solid")if(l.length===1){const c=wB(e,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(c.ops)})}else n.push(i7(l,i));else n.push(Kp(l,i));return s&&(o?l.forEach(c=>{n.push(v3(c,!1,i))}):n.push(u)),this._d("path",n,i)}opsToPath(e,r){let i="";for(const n of e.ops){const a=typeof r=="number"&&r>=0?n.data.map(s=>+s.toFixed(r)):n.data;switch(n.op){case"move":i+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":i+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":i+=`L${a[0]} ${a[1]} `}}return i.trim()}toPaths(e){const r=e.sets||[],i=e.options||this.defaultOptions,n=[];for(const a of r){let s=null;switch(a.type){case"path":s={d:this.opsToPath(a),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:Uo};break;case"fillPath":s={d:this.opsToPath(a),stroke:Uo,strokeWidth:0,fill:i.fill||Uo};break;case"fillSketch":s=this.fillSketch(a,i)}s&&n.push(s)}return n}fillSketch(e,r){let i=r.fillWeight;return i<0&&(i=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||Uo,strokeWidth:i,fill:Uo}}_mergedShape(e){return e.filter((r,i)=>i===0||r.op!=="move")}},Fye=class{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new k3(r)}draw(e){const r=e.sets||[],i=e.options||this.getDefaultOptions(),n=this.ctx,a=e.options.fixedDecimalPlaceDigits;for(const s of r)switch(s.type){case"path":n.save(),n.strokeStyle=i.stroke==="none"?"transparent":i.stroke,n.lineWidth=i.strokeWidth,i.strokeLineDash&&n.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(n.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(n,s,a),n.restore();break;case"fillPath":{n.save(),n.fillStyle=i.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(n,s,a,o),n.restore();break}case"fillSketch":this.fillSketch(n,s,i)}}fillSketch(e,r,i){let n=i.fillWeight;n<0&&(n=i.strokeWidth/2),e.save(),i.fillLineDash&&e.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(e.lineDashOffset=i.fillLineDashOffset),e.strokeStyle=i.fill||"",e.lineWidth=n,this._drawToContext(e,r,i.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,i,n="nonzero"){e.beginPath();for(const a of r.ops){const s=typeof i=="number"&&i>=0?a.data.map(o=>+o.toFixed(i)):a.data;switch(a.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}r.type==="fillPath"?e.fill(n):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,i,n,a){const s=this.gen.line(e,r,i,n,a);return this.draw(s),s}rectangle(e,r,i,n,a){const s=this.gen.rectangle(e,r,i,n,a);return this.draw(s),s}ellipse(e,r,i,n,a){const s=this.gen.ellipse(e,r,i,n,a);return this.draw(s),s}circle(e,r,i,n){const a=this.gen.circle(e,r,i,n);return this.draw(a),a}linearPath(e,r){const i=this.gen.linearPath(e,r);return this.draw(i),i}polygon(e,r){const i=this.gen.polygon(e,r);return this.draw(i),i}arc(e,r,i,n,a,s,o=!1,l){const u=this.gen.arc(e,r,i,n,a,s,o,l);return this.draw(u),u}curve(e,r){const i=this.gen.curve(e,r);return this.draw(i),i}path(e,r){const i=this.gen.path(e,r);return this.draw(i),i}};const C3="http://www.w3.org/2000/svg";let Pye=class{constructor(e,r){this.svg=e,this.gen=new k3(r)}draw(e){const r=e.sets||[],i=e.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,a=n.createElementNS(C3,"g"),s=e.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=n.createElementNS(C3,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke",i.stroke),l.setAttribute("stroke-width",i.strokeWidth+""),l.setAttribute("fill","none"),i.strokeLineDash&&l.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":l=n.createElementNS(C3,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",i.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(n,o,i)}l&&a.appendChild(l)}return a}fillSketch(e,r,i){let n=i.fillWeight;n<0&&(n=i.strokeWidth/2);const a=e.createElementNS(C3,"path");return a.setAttribute("d",this.opsToPath(r,i.fixedDecimalPlaceDigits)),a.setAttribute("stroke",i.fill||""),a.setAttribute("stroke-width",n+""),a.setAttribute("fill","none"),i.fillLineDash&&a.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,i,n,a){const s=this.gen.line(e,r,i,n,a);return this.draw(s)}rectangle(e,r,i,n,a){const s=this.gen.rectangle(e,r,i,n,a);return this.draw(s)}ellipse(e,r,i,n,a){const s=this.gen.ellipse(e,r,i,n,a);return this.draw(s)}circle(e,r,i,n){const a=this.gen.circle(e,r,i,n);return this.draw(a)}linearPath(e,r){const i=this.gen.linearPath(e,r);return this.draw(i)}polygon(e,r){const i=this.gen.polygon(e,r);return this.draw(i)}arc(e,r,i,n,a,s,o=!1,l){const u=this.gen.arc(e,r,i,n,a,s,o,l);return this.draw(u)}curve(e,r){const i=this.gen.curve(e,r);return this.draw(i)}path(e,r){const i=this.gen.path(e,r);return this.draw(i)}};var Rye={canvas:(t,e)=>new Fye(t,e),svg:(t,e)=>new Pye(t,e),generator:t=>new k3(t),newSeed:()=>k3.newSeed()};class Xp{constructor(e,r,i){this.roughSvg=e,this.div=r,this.svg=i}line(e,r,i,n,{color:a="#000",epaisseur:s=2,roughness:o=1}={}){return this.roughSvg.line(e,r,i,n,{roughness:o,disableMultiStroke:!0,strokeWidth:s,stroke:a}).outerHTML}arc(e,r,i,n,a,s,o,{color:l="#000",epaisseur:u=1,roughness:c=1,bowing:h=.5}={}){return this.roughSvg.arc(e,r,i,n,a,s,o,{roughness:c,bowing:h,disableMultiStroke:!0,strokeWidth:u,stroke:l}).outerHTML}circle(e,r,i,{color:n="#000",epaisseur:a=1,roughness:s=1.5,bowing:o=2.5}={}){return this.roughSvg.circle(e,r,i*2,{roughness:s,bowing:o,disableMultiStroke:!0,strokeWidth:a,stroke:n}).outerHTML}polygon(e=[],{color:r="#000",epaisseur:i=1,roughness:n=1.5,bowing:a=2.5}={}){return this.roughSvg.polygon(e,{roughness:n,bowing:a,disableMultiStroke:!0,strokeWidth:i,stroke:r}).outerHTML}linearPath(e=[],{color:r="#000",epaisseur:i=1,roughness:n=1.5,bowing:a=2.5}={}){return this.roughSvg.linearPath(e,{roughness:n,bowing:a,disableMultiStroke:!0,strokeWidth:i,stroke:r}).outerHTML}ellipse(e,r,i,n,a,s,o,{color:l="#000",epaisseur:u=1,roughness:c=1,bowing:h=.5}={}){return this.roughSvg.ellipse(e,r,i,n,{roughness:c,bowing:h,disableMultiStroke:!0,strokeWidth:u,stroke:l}).outerHTML}rectangle(e,r,i,n,a,s,o,{color:l="#000",epaisseur:u=1,roughness:c=1,bowing:h=.5}={}){return this.roughSvg.rectangle(e,r,i,n,{roughness:c,bowing:h,disableMultiStroke:!0,strokeWidth:u,stroke:l}).outerHTML}curve(e=[],{color:r="#000",epaisseur:i=1,roughness:n=1.5,bowing:a=2.5}={}){return this.roughSvg.curve(e,{roughness:n,bowing:a,disableMultiStroke:!0,strokeWidth:i,stroke:r}).outerHTML}destroy(){this.div.removeChild(this.svg)}static create(){const e=document.querySelector("div#appMathalea");if(!e)return null;const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.style.width="1024",r.style.height="1024",r.setAttribute("viewBox","0 0 0 0"),e.appendChild(r);const i=Rye.svg(r);return new Xp(i,e,r)}}const o7={gauche:"west",milieu:"center",droite:"east"},DB={gauche:"start",milieu:"middle",droite:"end"};function l7({points:t,color:e,taille:r,largeur:i,hauteur:n,couleurDeRemplissage:a}={points:[],color:"black",taille:8,largeur:10,hauteur:10,couleurDeRemplissage:""}){const s=.25*Math.log10(r);let o,l,u;const c=[];let h;Array.isArray(t[0])?h=t[0]:h=t;for(const p of h)switch(p instanceof Qp?u=p.c2d:u=p,o=yt(u.x),l=yt(u.y),u.positionLabel){case"left":c.push(Gi(u.nom,o-s,l,e,i,n,a,r));break;case"right":c.push(Gi(u.nom,o+s,l,e,i,n,a,r));break;case"below":c.push(Gi(u.nom,o,l-s,e,i,n,a,r));break;case"above":c.push(Gi(u.nom,o,l+s,e,i,n,a,r));break;case"above right":c.push(Gi(u.nom,o+s,l+s,e,i,n,a,r));break;case"below left":c.push(Gi(u.nom,o-s,l-s,e,i,n,a,r));break;case"below right":c.push(Gi(u.nom,o+s,l-s,e,i,n,a,r));break;default:c.push(Gi(u.nom,o-s,l+s,e,i,n,a,r));break}return c}function ma(...t){const r=[...t];let i;typeof r[r.length-1]=="string"?(i=Ze(String(r[r.length-1])),r.length--):i=Ze("black");const n=[];for(const a of r){let s;a instanceof Qp?s=a.c2d:s=a;let o,l;if(s instanceof bs||s instanceof Vn)switch(o=s.x,l=s.y,s.positionLabel){case"left":n.push(na(s.nom,o-10/Tt.pixelsParCm,l,0,i[0],1,"milieu",!0,1));break;case"right":n.push(na(s.nom,o+10/Tt.pixelsParCm,l,0,i[0],1,"milieu",!0,1));break;case"below":n.push(na(s.nom,o,l-10/Tt.pixelsParCm,0,i[0],1,"milieu",!0,1));break;case"above":n.push(na(s.nom,o,l+10/Tt.pixelsParCm,0,i[0],1,"milieu",!0,1));break;case"above left":n.push(na(s.nom,o-10/Tt.pixelsParCm,l+10/Tt.pixelsParCm,0,i[0],1,"milieu",!0,1));break;case"above right":n.push(na(s.nom,o+10/Tt.pixelsParCm,l+10/Tt.pixelsParCm,0,i[0],1,"milieu",!0,1));break;case"below left":n.push(na(s.nom,o-10/Tt.pixelsParCm,l-10/Tt.pixelsParCm,0,i[0],1,"milieu",!0,1));break;case"below right":n.push(na(s.nom,o+10/Tt.pixelsParCm,l-10/Tt.pixelsParCm,0,i[0],1,"milieu",!0,1));break;default:n.push(na(s.nom,o,l,0,i[0],1,"milieu",!0,1));break}}return n}class u7 extends br{constructor(e,r,i=0,n="black",a=1,s="milieu",o=!1,l=1){super(),typeof i!="number"&&(i==="milieu"||typeof i=="string")&&(s=i,i=0),["milieu","gauche","droite"].includes(s)||(s="milieu"),this.ancrageDeRotation=s,this.orientation=i,this.color=Ze(n),this.scale=a,this.taille=Math.round(14*a),this.opacite=l,this.couleurDeRemplissage=Ze(n),this.mathOn=o,this.point=r,this.gras=!1,this.contour=!1,this.opaciteDeRemplissage=l,typeof e!="string"&&(Number.isNaN(e)||(e=Co(e,3)));const u=Math.PI*i/180,c=Math.cos(u),h=Math.sin(u),p=.25,d=.3*a,m=e.length*p*a;s==="milieu"?this.bordures=[r.x-m*c,r.y-m*h-d,r.x+m*c,r.y+m*h+d]:s==="gauche"?this.bordures=[r.x,r.y-2*(m*h)-d,r.x+2*(m*c),r.y+d]:this.bordures=[r.x-2*m*c,r.y-d,r.x,r.y+2*(m*h)+d],typeof e!="string"&&(e=String(e)),e=e.replaceAll("$$","$"),this.texte=e}svg(e){if(this.texte.charAt(0)==="$")return this.point.positionLabel||(this.point.positionLabel="above"),Su(this.texte.substring(1,this.texte.length-1),this.point.x,this.point.y,{color:this.color[0],orientation:this.orientation,letterSize:"normalsize"}).svg();{let r="",i="";this.mathOn&&(i=' font-family= "Book Antiqua"; font-style= "italic" '),this.contour?i+=` style="font-size: ${this.taille}px;fill: ${this.couleurDeRemplissage[0]};fill-opacity: ${this.opaciteDeRemplissage};stroke: ${this.color[0]};stroke-width: 0.5px;stroke-linecap: butt;stroke-linejoin:miter;stroke-opacity: ${this.opacite}" `:i+=` style="font-size:${this.taille}px;fill:${this.color[0]};fill-opacity:${this.opacite};${this.gras?"font-weight:bolder":""}" `;const n=DB[this.ancrageDeRotation];return r=`<text ${i} x="${this.point.xSVG(e)}" y="${this.point.ySVG(e)}" text-anchor = "${n}" dominant-baseline = "central" fill="${this.couleurDeRemplissage[0]}" transform="rotate(${String(this.orientation)} ${this.point.xSVG(e)} ${this.point.ySVG(e)})" id="${this.id}" >${this.texte}</text>
 `,r}}tikz(){if(this.texte.charAt(0)==="$"){this.point.positionLabel||(this.point.positionLabel="above");let e="";const r=o7[this.ancrageDeRotation];return e=`\\draw [color=${this.color[1]}] (${String(yt(this.point.x))},${String(yt(this.point.y))}) node[anchor = ${r},scale=${String(this.scale)}, rotate = ${String(-this.orientation)}] {${this.texte}};`,e}else{let e="";const r=o7[this.ancrageDeRotation];return e=`\\draw [color=${this.color[1]}] (${yt(this.point.x)},${yt(this.point.y)}) node[anchor = ${r},scale=${String(this.scale)}, rotate = ${String(-this.orientation)}] {${this.texte}};`,e}}}function Ql(t,e,r=0,i="black",n=1,a="milieu",s=!1,o=1){return new u7(t,e,r,i,n,a,s,o)}class jye extends br{constructor(e,r,i=0,n="black",a=1,s="milieu",o=!1,l){super(),typeof i!="number"&&(i==="milieu"||typeof i=="string")&&(s=i,i=0),["milieu","gauche","droite"].includes(s)||(s="milieu"),this.color=Ze(n),this.contour=!1,this.mathOn=o,this.gras=!1,this.point=r,this.scale=a,this.scaleFigure=l,this.taille=10*a,this.opacite=1,this.couleurDeRemplissage=Ze(n),this.opaciteDeRemplissage=this.opacite,this.bordures=[r.x-e.length*.2,r.y-.4,r.x+e.length*.2,r.y+.4],this.texte=e,this.orientation=i,this.ancrageDeRotation=s}svg(e){if(this.texte.charAt(0)==="$")return Uye(this.texte.substring(1,this.texte.length-2),this.point,this.color[0],this.texte.length*8,10,"",this.taille*.8).svg(e);{let r="";return this.mathOn&&(r=' font-family= "Book Antiqua"; font-style= "italic" '),this.contour?r+=` style="font-size: ${this.taille}px;fill: ${this.couleurDeRemplissage[0]};fill-opacity: ${this.opaciteDeRemplissage};stroke: ${this.color[0]};stroke-width: 0.5px;stroke-linecap: butt;stroke-linejoin:miter;stroke-opacity: ${this.opacite}" `:r+=` style="font-size:${this.taille}px;fill:${this.color[0]};fill-opacity:${this.opacite};${this.gras?"font-weight:bolder":""}" `,`<text ${r} x="${this.point.xSVG(e)}" y="${this.point.ySVG(e)}" text-anchor = "${DB[this.ancrageDeRotation]}" dominant-baseline = "central" fill="${this.color[0]}" transform="rotate(${String(this.orientation)} ${this.point.xSVG(e)} ${this.point.ySVG(e)})" id="${this.id}" >${this.texte}</text>
 `}}tikz(){let e=this.texte;return this.mathOn&&e[0]!=="$"&&(e="$"+this.texte+"$"),`\\draw ${this.color[0]==="black"?"":`[color=${this.color[1]}]`} (${String(yt(this.point.x))},${String(yt(this.point.y))}) node[anchor = ${o7[this.ancrageDeRotation]}, rotate = ${String(-this.orientation)}, scale=${(this.scale*this.scaleFigure*1.25).toFixed(2)}] {${e}};`}}function qye(t,e,r=0,i="black",n=1,a="milieu",s=!1,o=1){return new jye(t,e,r,i,n,a,s,o)}function ia(t,e,r,i=0,n="black",a=1,s="milieu",o=!1,l=1){return qye(t,be(yt(e,2),yt(r,2),"","center"),i,n,a,s,o,l)}function na(t,e,r,i=0,n="black",a=1,s="milieu",o=!1,l){return typeof t=="number"&&(t=String(t)),typeof i!="number"&&(s=i,i=0),s==="middle"&&(s="milieu"),["milieu","droite","gauche"].includes(s)||(s="milieu"),t[0]==="$"?Su(t.substring(1,t.length-1),e,r,{color:n,backgroundColor:"white",letterSize:"normalsize"}):new u7(t,be(e,r,""),i,n,a,s,o,l)}function Uye(t,e,r="black",i=20,n=12,a="white",s=8){let o,l;const u=Tt.pixelsParCm,c=10*Math.log10(s);switch(e.positionLabel){case"above":o=e.x,l=e.y+c/u;break;case"below":o=e.x,l=e.y-c/u;break;case"left":o=e.x-c/u,l=e.y;break;case"right":o=e.x+c/u,l=e.y;break;case"above right":o=e.x+c/u,l=e.y+c/u;break;case"above left":o=e.x-c/u,l=e.y+c/u;break;case"below right":o=e.x+c/u,l=e.y-c/u;break;case"below left":o=e.x-c/u,l=e.y-c/u;break;case"center":o=e.x,l=e.y;break;default:o=e.x,l=e.y;break}return Gi(t,o,l,r,i,n,a,s)}class Vye extends br{constructor(e,r,i,n,a,s,o="",l=8){if(super(),this.x=r,this.y=i,this.largeur=a*Math.log10(2*l),this.hauteur=s*Math.log10(l),this.colorBackground=o,this.color=Ze(n),this.texte=e,this.orientation=0,this.bordures=[this.x-(this.texte.length??0)*.15,this.y-.02*this.hauteur,this.x+(this.texte.length??0)*.15,this.y+.02*this.hauteur],l>19?this.taille="\\huge":l>16?this.taille="\\LARGE":l>13?this.taille="\\Large":l>11?this.taille="\\large":l<6?this.taille="\\tiny":l<8?this.taille="\\scriptsize":l<9?this.taille="\\footnotesize":l<10?this.taille="\\small":this.taille="\\normalsize",typeof this.texte!="string")throw Error(`Vous n'avez pas passer un string à latexParCoordonnees() : ${this.texte}`);this.texte[0]==="$"&&this.texte[this.texte.length-1]==="$"&&(this.texte=this.texte.substring(1,this.texte.length-2))}svg(){return{latex:this.texte,x:this.x,y:this.y,opacity:this.opacite,orientation:this.orientation,letterSize:this.taille.substring(1),color:this.color[0],backgroundColor:this.colorBackground}}tikz(){let e;return this.colorBackground!==""&&this.colorBackground!=="none"?e=`\\draw (${this.x},${this.y}) node[anchor = center] {\\colorbox ${Ze(this.colorBackground)[1]}{${this.taille}  \\color${this.color[1]}{$${this.texte}$}}};`:e=`\\draw (${this.x},${this.y}) node[anchor = center] {${this.taille} \\color${this.color[1]}{$${this.texte}$}};`,e}}function Gi(t,e,r,i="black",n=50,a=20,s="",o=8){return t===""&&(t="\\phantom{ }"),new Vye(t,e,r,i,n,a,s,o)}class Gye extends br{constructor(e,r,i,{color:n="black",backgroundColor:a="",letterSize:s="normalsize",orientation:o=0,opacity:l=1}){super(),this.col=n,this.backgroundCol=a,this.letterSize=s,this.orientation=o,this.opacity=l,this.latex=e,this.x=r,this.y=i;const u=.25;this.bordures=[r-u,i-u,r+u,i+u]}svg(){return{latex:this.latex,x:this.x,y:this.y,opacity:this.opacity,orientation:this.orientation,letterSize:this.letterSize,color:this.col.replace("#",""),backgroundColor:this.backgroundCol.replace("#","")}}tikz(){return this.backgroundCol.startsWith("#")?this.backgroundCol=`[HTML]{${this.backgroundCol.substring(1)}}`:this.backgroundCol=`${this.backgroundCol}`,this.col.startsWith("#")?this.col=`[HTML]{${this.col.substring(1)}}`:this.col=this.col.startsWith("{")&&this.col.endsWith("}")?this.col:`{${this.col}}`,this.backgroundCol!==""&&this.backgroundCol!=="none"?`\\draw (${this.x},${this.y}) node[anchor = center, rotate=${this.orientation}] {\\colorbox{${this.backgroundCol}} {\\${this.letterSize}  \\color${this.col}{$${this.latex}$}}};`:`\\draw (${this.x},${this.y}) node[anchor = center, rotate=${this.orientation}] {\\${this.letterSize} \\color${this.col}{$${this.latex}$}};`}}function Su(t,e,r,{color:i,backgroundColor:n,letterSize:a,orientation:s,opacity:o}){return i=i??"black",n=n==null||n===""||n==="none"?"":n,a=a??"normalsize",s=s??0,o=o??1,new Gye(t,e,r,{color:i,backgroundColor:n,letterSize:a,orientation:s,opacity:o})}function Zye(t){return t>1.9?"huge":t>1.6?"LARGE":t>1.3?"Large":t>1.1?"large":t<.6?"tiny":t<.8?"scriptsize":t<.9?"footnotesize":t<1?"small":"normalsize"}function xr(t,e,r="",i="above",n="black"){if(t instanceof Vn){const a=t.x+e.x,s=t.y+e.y;return t instanceof bs?be(a,s,r,i):Gn(a,s,r,i)}if(t instanceof h1){const a=[];for(let s=0;s<t.listePoints.length;s++)a[s]=xr(t.listePoints[s],e),a[s].nom=t.listePoints[s].nom+"'";return er(a,n)}if(t instanceof Bs){const a=xr(be(t.x1,t.y1),e),s=xr(be(t.x2,t.y2),e);return ri(a,s,n)}if(t instanceof e0){const a=xr(t.extremite1,e),s=xr(t.extremite2,e),o=He(a,s,n);return o.styleExtremites=t.styleExtremites,o}return t}function zt(t,e,r,i="",n="above",a="black"){if(t instanceof Vn){const u=e.x+(t.x-e.x)*Math.cos(r*Math.PI/180)-(t.y-e.y)*Math.sin(r*Math.PI/180),c=e.y+(t.x-e.x)*Math.sin(r*Math.PI/180)+(t.y-e.y)*Math.cos(r*Math.PI/180);return t instanceof bs?be(u,c,i,n):Gn(u,c,i,n)}if(t instanceof h1){const u=[];for(let c=0;c<t.listePoints.length;c++)u[c]=zt(t.listePoints[c],e,r),u[c].nom=t.listePoints[c].nom+"'";return er(u,a)}if(t instanceof Bs){const u=zt(be(t.x1,t.y1),e,r),c=zt(be(t.x2,t.y2),e,r);return ri(u,c,"",a)}if(t instanceof e0){const u=zt(t.extremite1,e,r),c=zt(t.extremite2,e,r),h=He(u,c,a);return h.styleExtremites=t.styleExtremites,h}const s=t.x*Math.cos(r*Math.PI/180)-t.y*Math.sin(r*Math.PI/180),o=t.x*Math.sin(r*Math.PI/180)+t.y*Math.cos(r*Math.PI/180);return Jt(s,o)}function Jl(t,e,r,i="",n="above",a="black"){if(t instanceof Vn){const u=e.x+r*(t.x-e.x),c=e.y+r*(t.y-e.y);return t instanceof bs?be(u,c,i,n):Gn(u,c,i,n)}if(t instanceof h1){const u=[];for(let c=0;c<t.listePoints.length;c++)u[c]=Jl(t.listePoints[c],e,r),u[c].nom=t.listePoints[c].nom+"'";return er(u,a)}if(t instanceof Bs){const u=Jl(be(t.x1,t.y1),e,r),c=Jl(be(t.x2,t.y2),e,r);return ri(u,c,"",a)}if(t instanceof e0){const u=Jl(t.extremite1,e,r),c=Jl(t.extremite2,e,r),h=He(u,c,a);return h.styleExtremites=t.styleExtremites,h}const s=t.x,o=t.y;return Jt(s*r,o*r)}function _a(t,e,r="",i="above",n="black"){let a,s;const o=e.a,l=e.b,u=e.c,c=1/(o*o+l*l);if(t instanceof Vn)return o===0?(a=t.x,s=-(t.y+2*u/l)):l===0?(s=t.y,a=-(t.x+2*u/o)):(a=c*((l*l-o*o)*t.x-2*o*l*t.y-2*o*u),s=c*((o*o-l*l)*t.y-2*o*l*t.x+o*o*u/l-l*u)-u/l),t instanceof bs?be(a,s,r,i):Gn(a,s,r,i);if(t instanceof h1){const f=[];for(let v=0;v<t.listePoints.length;v++)f[v]=_a(t.listePoints[v],e),f[v].nom=t.listePoints[v].nom+"'";return er(f,n)}if(t instanceof Bs){const f=_a(be(t.x1,t.y1),e),v=_a(be(t.x2,t.y2),e);return ri(f,v,n)}if(t instanceof e0){const f=_a(t.extremite1,e),v=_a(t.extremite2,e),y=He(f,v,n);return y.styleExtremites=t.styleExtremites,y}let h;lr(l,0)?h=be(-u/o,0):h=be(0,-u/l);const p=xr(h,t),d=_a(p,e);return Jt(h,d)}function N3(t,e,r="",i="above"){const n=e.a,a=e.b,s=e.c,o=1/(n*n+a*a);let l,u;if(t instanceof Vn)return n===0?(l=t.x,u=-s/a):a===0?(u=t.y,l=-s/n):(l=o*(a*a*t.x-n*a*t.y-n*s),u=o*(-n*a*t.x+n*n*t.y+n*n*s/a)-s/a),t instanceof bs?be(l,u,r,i):Gn(l,u,r,i);let c;lr(a,0)?c=be(-s/n,0):c=be(0,-s/a);const h=xr(c,t),p=N3(h,e);return Jt(c,p)}function vi(t,e,r,i,n="",a="above",s="black"){if(t instanceof Vn){const u=Z8(r),c=e.x+i*(Math.cos(u)*(t.x-e.x)-Math.sin(u)*(t.y-e.y)),h=e.y+i*(Math.cos(u)*(t.y-e.y)+Math.sin(u)*(t.x-e.x));return t instanceof bs?be(c,h,n,a):Gn(c,h,n,a)}if(t instanceof h1){const u=[];for(let c=0;c<t.listePoints.length;c++)u[c]=vi(t.listePoints[c],e,r,i),u[c].nom=t.listePoints[c].nom+"'";return er(u,s)}if(t instanceof Bs){const u=vi(be(t.x1,t.y1),e,r,i),c=vi(be(t.x2,t.y2),e,r,i);return ri(u,c,s)}if(t instanceof e0){const u=vi(t.extremite1,e,r,i),c=vi(t.extremite2,e,r,i),h=He(u,c,s);return h.styleExtremites=t.styleExtremites,h}const o=zt(t,e,r);return Jl(o,e,i)}class Hye{constructor(e,r,i=""){arguments.length===1?(this.nom=String(e),this.x=0,this.y=0):(typeof e=="number"||e instanceof _t?(this.x=e instanceof _t?e.valeurDecimale:Number(e),this.y=r instanceof _t?r.valeurDecimale:Number(r)):e instanceof Vn&&r instanceof Vn?(this.x=r.x-e.x,this.y=r.y-e.y):(window.notify("Vecteur : (attendus : A et B) les arguments de sont pas des points valides",{arg1:e,arg2:r}),this.x=0,this.y=0),this.nom=i)}norme(){return Math.sqrt(this.x**2+this.y**2)}oppose(){this.x=-this.x,this.y=-this.y}xSVG(e){return this.x*e}ySVG(e){return-this.y*e}representant(e,r="black"){const i=be(e.x+this.x,e.y+this.y),n=He(e,i,r,"->");return n.tailleExtremites=5,n}representantNomme(e,r,i=1,n="black"){let a,s;const o=be(e.x+this.x,e.y+this.y),l=Zi(e,o);a=He(e,o,n);const u=a.angleAvecHorizontale;s=vi(this,e,90,.5/this.norme()),Math.abs(u)>90&&(a=He(o,e,n),s=vi(this,e,-90,.5/this.norme()));const c=xr(l,s);return Yye(r,c.x,c.y,i,0,n)}}function Jt(t,e,r=""){return new Hye(t,e,r)}class Wye extends br{constructor(e,r,i,n=1,a=0,s="black"){super(),this.nom=e,this.x=r,this.y=i,this.color=Ze(s),this.angle=a,this.taille=n;const o=na(this.nom,this.x,this.y,-this.angle,s,this.taille,"milieu",!0),l=be(this.x,this.y),u=be(l.x+.25*this.nom.length,l.y),c=vi(u,l,90+this.angle,1.5),h=zt(xr(c,Jt(u,l)),c,this.angle),p=vi(h,c,180,1.5),d=He(h,p,s);d.styleExtremites="->",d.tailleExtremites=3,this.objets=[o,d];const m=gi(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[m.xmin,m.ymin,m.xmax,m.ymax]}svg(e){let r="";if(this.objets==null)return r;for(const i of this.objets)r+=`
	`+i.svg(e);return r}tikz(){let e="";if(this.objets==null)return e;for(const r of this.objets)e+=`
	`+r.tikz();return e}}function Yye(t,e,r,i=1,n=0,a="black"){return t==="i"?Su("\\vec{\\imath}",e,r,{color:a}):t==="j"?Su("\\vec{\\jmath}",e,r,{color:a}):new Wye(t,e,r,i,n,a)}class e0 extends br{constructor(...e){var r,i;super(),this.bordures=[0,0,0,0],this.typeObjet="segment",typeof e[0]=="number"?this.styleExtremites=e[5]||"":this.styleExtremites=String(e[3])||"",this.tailleExtremites=4,e[0]instanceof Vn||e[0]instanceof Qp?(e[1]instanceof Vn||e[1]instanceof Qp?(this.x1=e[0].x,this.y1=e[0].y,this.x2=e[1].x,this.y2=e[1].y):(window.notify(`Segment : (attendus : A et B${arguments.length===3?' et "couleur"':""}) les arguments de sont pas des points valides`,{...e}),this.x1=0,this.y1=0,this.x2=0,this.y2=0),this.color=Ze(((r=e[2])==null?void 0:r.toString())||"black"),this.styleExtremites=((i=e[3])==null?void 0:i.toString())||""):((Number.isNaN(e[0])||Number.isNaN(e[1])||Number.isNaN(e[2])||Number.isNaN(e[3]))&&window.notify('Segment : (attendus : x1, y1, x2, y2 et "couleur") les arguments de sont pas des nombres valides',{...e}),this.x1=Number(e[0]),this.y1=Number(e[1]),this.x2=Number(e[2]),this.y2=Number(e[3]),this.color=Ze(e[4]||"black"),this.styleExtremites=e[5]||""),this.x1=yt(this.x1,2),this.y1=yt(this.y1,2),this.x2=yt(this.x2,2),this.y2=yt(this.y2,2),this.epaisseur=1,this.opacite=1,this.pointilles=0,this.bordures=[Number(Math.min(this.x1,this.x2)),Number(Math.min(this.y1,this.y2)),Number(Math.max(this.x1,this.x2)),Number(Math.max(this.y1,this.y2))],this.extremite1=be(this.x1,this.y1),this.extremite2=be(this.x2,this.y2),this.longueur=Math.sqrt((this.x2-this.x1)**2+(this.y2-this.y1)**2),this.angleAvecHorizontale=this.longueur<1e-8?0:Rt(be(this.x1+1,this.y1),this.extremite1,this.extremite2,5)}svg(e){switch(this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `);let r=this.codeExtremitesSVG(e);const i=be(this.x1,this.y1),n=be(this.x2,this.y2);return r+=`
	<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${n.xSVG(e)}" y2="${n.ySVG(e)}" stroke="${this.color[0]}" ${this.style} />`,this.styleExtremites.length>0?r=`<g id="${this.id}">${r}</g>`:r=r.replace("/>",`id="${this.id}" />`),r}tikz(){let e="";const r=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&r.push(`color =${this.color[1]}`),this.epaisseur!==1&&r.push(`line width = ${this.epaisseur}`),this.opacite!==1&&r.push(`opacity = ${this.opacite}`),this.pointilles){case 1:r.push(" dash dot ");break;case 2:r.push(" densely dash dot dot ");break;case 3:r.push(" dash dot dot ");break;case 4:r.push(" dotted ");break;case 5:r.push(" dashed ");break}let i="";if(this.styleExtremites.length>0){const n={"|":"Bar",">":"Stealth","<":"Stealth"},a=Math.max(2,Math.round(this.tailleExtremites));Math.max(4,Math.round(this.tailleExtremites*2));let s="",o="";this.styleExtremites.length===3?(s=n[this.styleExtremites[0]]||"",o=n[this.styleExtremites[2]]||""):this.styleExtremites.length===2?(this.styleExtremites[0]in n&&(s=n[this.styleExtremites[0]]),this.styleExtremites[1]in n&&(o=n[this.styleExtremites[1]])):this.styleExtremites.length===1&&this.styleExtremites[0]in n&&(o=n[this.styleExtremites[0]]);const l=s?`{${s}[width=${a}mm]}`:"",u=o?`{${o}[width=${a}mm]}`:"";l&&u?i=`${l}-${u}`:l?i=`${l}-`:u&&(i=`-${u}`),i&&r.push(i)}return r.length>0&&(e="["+r.join(",")+"]"),`\\draw${e} (${this.x1},${this.y1})--(${this.x2},${this.y2});`}svgml(e,r){const i=Xp.create();if(i!=null){const n=be(this.x1,this.y1),a=be(this.x2,this.y2);let s=this.codeExtremitesSVG(e);return s+=i.line(n.xSVG(e),n.ySVG(e),a.xSVG(e),a.ySVG(e),{color:this.color[0],epaisseur:this.epaisseur,roughness:r*2}),this.styleExtremites.length>0?s=`<g id="${this.id}">${s}</g>`:s=s.replace("/>",`id="${this.id}" />`),i.destroy(),s}else return""}tikzml(e){const r=be(this.x1,this.y1),i=be(this.x2,this.y2);let n="";const a=[];return this.color[1].length>1&&this.color[1]!=="black"&&a.push(`color =${this.color[1]}`),this.epaisseur!==1&&a.push(`line width = ${this.epaisseur}`),this.opacite!==1&&a.push(`opacity = ${this.opacite}`),this.styleExtremites.length>1&&(this.styleExtremites.includes("[")||this.styleExtremites.includes("]")?a.push("{"+this.styleExtremites+"}"):a.push(this.styleExtremites)),a.push(`decorate,decoration={random steps , amplitude = ${e}pt}`),n="["+a.join(",")+"]",`\\draw${n} (${r.x},${r.y})--(${i.x},${i.y});`}codeExtremitesSVG(e){let r="";const i=be(this.x1,this.y1),n=be(this.x2,this.y2),a=this.tailleExtremites;if(this.styleExtremites.length>1){const s=this.styleExtremites.slice(-1);if(s==="|"){const l=$r(n,i,a/Tt.pixelsParCm),u=zt(l,n,90),c=zt(l,n,-90);r+=`<line x1="${u.xSVG(e)}" y1="${u.ySVG(e)}" x2="${c.xSVG(e)}" y2="${c.ySVG(e)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`}if(s===">"){const l=$r(n,i,a/Tt.pixelsParCm),u=vi(n,l,90,.7),c=vi(n,l,-90,.7);r+=`<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${u.xSVG(e)}" y2="${u.ySVG(e)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`,r+=`
	<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${c.xSVG(e)}" y2="${c.ySVG(e)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`}if(s==="<"){const l=$r(n,i,-a/Tt.pixelsParCm),u=vi(n,l,90,.7),c=vi(n,l,-90,.7);r+=`<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${u.xSVG(e)}" y2="${u.ySVG(e)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`,r+=`
	<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${c.xSVG(e)}" y2="${c.ySVG(e)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`}if(s==="["){const l=$r(n,i,a/Tt.pixelsParCm),u=vi(l,n,90,1),c=vi(l,n,-90,1),h=vi(n,u,-90,.3),p=vi(n,c,90,.3);r+=`<polyline points="${p.xSVG(e)},${p.ySVG(e)} ${c.xSVG(e)},${c.ySVG(e)} ${u.xSVG(e)},${u.ySVG(e)} ${h.xSVG(e)},${h.ySVG(e)}" fill="none" stroke="${this.color[0]}" ${this.style} id="${this.id}" stroke-width="${this.epaisseur}" />`}if(s==="]"){const l=$r(n,i,a/Tt.pixelsParCm),u=vi(l,n,90,1),c=vi(l,n,-90,1),h=vi(n,u,90,.3),p=vi(n,c,-90,.3);r+=`<polyline points="${p.xSVG(e)},${p.ySVG(e)} ${c.xSVG(e)},${c.ySVG(e)} ${u.xSVG(e)},${u.ySVG(e)} ${h.xSVG(e)},${h.ySVG(e)}" fill="none" stroke="${this.color[0]}" ${this.style} id="${this.id}" stroke-width="${this.epaisseur}" />`}const o=this.styleExtremites[0];if(o==="["){const l=$r(i,n,a/Tt.pixelsParCm),u=vi(l,i,90,1),c=vi(l,i,-90,1),h=vi(i,u,90,.3),p=vi(i,c,-90,.3);r+=`<polyline points="${p.xSVG(e)},${p.ySVG(e)} ${c.xSVG(e)},${c.ySVG(e)} ${u.xSVG(e)},${u.ySVG(e)} ${h.xSVG(e)},${h.ySVG(e)}" fill="none" stroke="${this.color[0]}" ${this.style} id="${this.id}" stroke-width="${this.epaisseur}" />`}if(o==="]"){const l=$r(i,n,a/Tt.pixelsParCm),u=vi(l,i,90,1),c=vi(l,i,-90,1),h=vi(i,u,-90,.3),p=vi(i,c,90,.3);r+=`<polyline points="${p.xSVG(e)},${p.ySVG(e)} ${c.xSVG(e)},${c.ySVG(e)} ${u.xSVG(e)},${u.ySVG(e)} ${h.xSVG(e)},${h.ySVG(e)}" fill="none" stroke="${this.color[0]}" ${this.style} id="${this.id}" stroke-width="${this.epaisseur}" />`}if(o==="<"){const l=$r(i,n,a/Tt.pixelsParCm),u=vi(i,l,90,.7),c=vi(i,l,-90,.7);r+=`<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${u.xSVG(e)}" y2="${u.ySVG(e)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`,r+=`
	<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${c.xSVG(e)}" y2="${c.ySVG(e)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`}if(o===">"){const l=$r(i,n,-a/Tt.pixelsParCm),u=vi(i,l,90,.7),c=vi(i,l,-90,.7);r+=`<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${u.xSVG(e)}" y2="${u.ySVG(e)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`,r+=`
	<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${c.xSVG(e)}" y2="${c.ySVG(e)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`}if(o==="|"){const l=$r(i,n,a/Tt.pixelsParCm),u=zt(l,i,90),c=zt(l,i,-90);r+=`<line x1="${u.xSVG(e)}" y1="${u.ySVG(e)}" x2="${c.xSVG(e)}" y2="${c.ySVG(e)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`}}return r}estSecant(e){if(Math.abs(this.x1-this.x2)<.01&&Math.abs(this.y1-this.y2)<.01)return be(this.x1,this.y1).estSur(e);const r=ri(this.extremite1,this.extremite2);if(e instanceof f7){const n=_i(r,e,"",1),a=_i(r,e,"",2);return n instanceof bs&&n.estSur(this)||a instanceof bs&&a.estSur(this)}let i;if(e instanceof Bs)i=Du(r,e);else{const n=ri(e.extremite1,e.extremite2);i=Du(r,n),typeof i=="boolean"&&(i=e.extremite1.estSur(this)||e.extremite2.estSur(this)||this.extremite1.estSur(He(e.extremite1,e.extremite2))||this.extremite2.estSur(He(e.extremite1,e.extremite2)))}return typeof i=="boolean"?i:i.estSur(e)&&i.estSur(this)}}function He(...t){return new e0(...t)}class Kye extends e0{constructor(e,r,i="black",n=!1){super(e,r),this.opacite=1,this.pointilles=0,this.epaisseur=1;const a=$r(r,e,-10);this.x2=a.x,this.y2=a.y,this.color=Ze(i),n&&(this.styleExtremites="|-")}}function qi(t,e,r=2){return yt(Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),r??6)}function Xye(t){return Math.sqrt(t.x**2+t.y**2)}class Qye extends br{constructor(e,r,i=1,n=.5,a="black"){super(),this.typeObjet="cordelette",this.A=e,this.B=r,this.tailleExtremites=0,this.color=Ze(a),this.amplitude=i,this.bordures=[Math.min(e.x,r.x),Math.min(e.y,r.y),Math.max(e.x,r.x),Math.max(e.y,r.y)]}svg(e){const r=Xp.create();if(r!=null){const i=this.A,n=this.B,a=Math.sqrt((n.x-i.x)**2+(n.y-i.y)**2),s=Math.max(2,Math.floor(a/.2)),l=this.genererPointsCordelette(i,n,s).map(c=>[c.x*e,-c.y*e]),u=r.curve(l,{color:this.color[0],epaisseur:this.epaisseur,roughness:this.amplitude*.5,bowing:1});return r.destroy(),u}else return""}genererPointsCordelette(e,r,i){const n=[e],a={x:r.x-e.x,y:r.y-e.y},s={x:-a.y,y:a.x},o=Math.sqrt(s.x**2+s.y**2);o>0&&(s.x/=o,s.y/=o);const l=Math.sqrt(a.x**2+a.y**2),u=1,c=2.3,h=3.7,p=1,d=.6,m=.3,f=(e.x+e.y+r.x+r.y)*1e3,v=y=>{const x=Math.sin(y*Math.PI),g=f*.001,b=f*.0013,k=f*.0017;return(p*Math.sin(y*Math.PI*u+g)+d*Math.sin(y*Math.PI*c+b)+m*Math.sin(y*Math.PI*h+k))*x};for(let y=1;y<i;y++){const x=y/i,g={x:e.x+x*a.x,y:e.y+x*a.y},b=this.amplitude*.05*l,k=v(x)*b,w=Math.sin(x*Math.PI)*this.amplitude*.02*l,N=Gn(g.x+k*s.x,g.y+k*s.y-w);n.push(N)}return n.push(r),n}tikz(){const e=this.A,r=this.B,i=Math.sqrt((r.x-e.x)**2+(r.y-e.y)**2),n=Math.max(2,Math.floor(i/.2)),a=this.genererPointsCordelette(e,r,n),s=[];this.color[1]!=="black"&&s.push(this.color[1]),this.epaisseur!==1&&s.push(`line width=${this.epaisseur}`),this.opacite!==1&&s.push(`opacity=${this.opacite}`);const o=s.length>0?`[${s.join(", ")}]`:"",l=a.map(u=>`(${u.x.toFixed(3)},${u.y.toFixed(3)})`).join(" ");return`\\draw${o} plot[smooth] coordinates {${l}};`}}function Jye(t,e,r=1,i=.5,n="black"){return new Qye(t,e,r,i,n)}const c7={matrix:Ct,multiply:$i,norm:C4,cross:VI,dot:Gm};class Qp{constructor(e,r,i,n,a,s){const o=Tt.anglePerspective*Math.PI/180,l=Tt.coeffPerspective,u=c7.matrix([[1,l*Math.cos(o),0],[0,l*Math.sin(o),1]]);this.x=e,this.y=r,this.z=i,this.isVisible=n,this.label=a,this.typeObjet="point3d";const c=c7.matrix([this.x,this.y,this.z]),h=c7.multiply(u,c);this.c2d=be(yt(h._data[0],2),yt(h._data[1],2),this.label,s)}}function S3(t,e,r,i,n=1,a="black"){const s=ns(t,r),o=ns(e,i);let l;return n===1?l=p7(s,o):l=p7(s,o,"",2),er([t,e,l],a)}function Vo(t,e,r,i,n=1,a="black"){n===1?i*=-1:r*=-1;const s=$r(t,e,1),o=zt(s,t,r),l=$r(e,t,1),u=zt(l,e,i),c=ri(t,o),h=ri(e,u),p=Du(c,h,"C");return er([t,e,p],a)}function AB(t){if(t.listePoints.length!==3)return!1;const e=t.listePoints[0],r=t.listePoints[1],i=t.listePoints[2];return 1/2*Math.abs((r.x-e.x)*(i.y-e.y)-(i.x-e.x)*(r.y-e.y))}function h7(t,e="",r="above"){let i=0,n=0,a=0;for(const l of t.listePoints)i+=l.x,n+=l.y,a++;const s=i/a,o=n/a;return new bs(s,o,e,r)}class ebe extends br{constructor(...e){super(),this.epaisseur=1,this.pointilles=0,this.opacite=1,Array.isArray(e[0])?(this.listePoints=e[0].filter(s=>s instanceof Vn),this.listePoints3d=e[0].filter(s=>s instanceof Qp),this.stringColor=String(e[1]),this.color=Ze(String(e[1]))):(this.listePoints=e.filter(s=>s instanceof Vn),this.listePoints3d=e.filter(s=>s instanceof Qp),this.color=Ze("black"),this.stringColor="black");let r=1e3,i=-1e3,n=1e3,a=-1e3;for(const s of this.listePoints)s.typeObjet!=="point"&&window.notify("Polyline : argument invalide",{...e}),r=Math.min(r,s.x),i=Math.max(i,s.x),n=Math.min(n,s.y),a=Math.max(a,s.y);if(this.bordures=[r,n,i,a],this.nom="",this.listePoints.length<15){for(const s of this.listePoints)this.nom+=s.nom;for(const s of this.listePoints3d)this.nom+=s.label}}svg(e){switch(this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `);let r="";for(const i of this.listePoints){const n=i.xSVG(e),a=i.ySVG(e);r+=`${n},${a} `}for(const i of this.listePoints3d){const n=i.c2d.xSVG(e),a=i.c2d.ySVG(e);r+=`${n},${a} `}return`<polyline points="${r}" fill="none" stroke="${this.color[0]}" ${this.style} id="${this.id}" />`}tikz(){const e=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&e.push(`color=${this.color[1]}`),this.epaisseur!==1&&e.push(`line width = ${this.epaisseur}`),this.pointilles){case 1:e.push(" dash dot ");break;case 2:e.push(" densely dash dot dot ");break;case 3:e.push(" dash dot dot ");break;case 4:e.push(" dotted ");break;case 5:e.push(" dashed ");break}this.opacite!==1&&e.push(`opacity = ${this.opacite}`);let r="";e.length>0&&(r="["+e.join(",")+"]");let i="";for(const n of this.listePoints)i+=`(${yt(n.x)},${yt(n.y)})--`;return i=i.substr(0,i.length-2),`\\draw${r} ${i};`}svgml(e,r){let i="",n;for(let a=1;a<this.listePoints.length;a++)n=He(this.listePoints[a-1],this.listePoints[a],this.stringColor),n.epaisseur=this.epaisseur,n.opacite=this.opacite,i+=n.svgml(e,r);return i}tikzml(e){const r=[];this.color[1].length>1&&this.color[1]!=="black"&&r.push(`color=${this.color[1]}`),this.epaisseur!==1&&r.push(`line width = ${this.epaisseur}`),this.opacite!==1&&r.push(`opacity = ${this.opacite}`),r.push(`decorate,decoration={random steps , segment length=3pt, amplitude = ${e}pt}`);let i="";r.length>0&&(i="["+r.join(",")+"]");let n="";for(const a of this.listePoints)n+=`(${yt(a.x)},${yt(a.y)})--`;return n=n.substr(0,n.length-2),`\\draw${i} ${n};`}}function D3(...t){return new ebe(...t)}class h1 extends br{constructor(...e){super(),this.epaisseurDesHachures=1,this.distanceDesHachures=10,this.couleurDeRemplissage=Ze("none"),this.opaciteDeRemplissage=.5,this.epaisseur=1,this.opacite=1,this.pointilles=0,this._triangulation=[],this._flat=[],this._aire=0,this.stringColor="black",Array.isArray(e[0])?(this.listePoints=e[0],e[1]&&(this.color=Ze(String(e[1])),this.stringColor=String(e[1])),e[2]?this.couleurDeRemplissage=Ze(String(e[2])):this.couleurDeRemplissage=Ze("none"),e[3]?(this.couleurDesHachures=Ze(String(e[3])),this.hachures=!0):(this.couleurDesHachures=Ze("black"),this.hachures=!1),this.nom=this.listePoints.map(o=>o.nom).join("")):(typeof e[e.length-1]=="string"&&(this.color=Ze(String(e[e.length-1])),this.stringColor=String(e[e.length-1]),e.splice(e.length-1,1)),this.listePoints=e.filter(o=>o instanceof Vn),this.nom=this.listePoints.map(o=>o.nom).join(""),this.couleurDeRemplissage=Ze("none"),this.couleurDesHachures=Ze("none"),this.hachures=!1);let r=1e3,i=-1e3,n=1e3,a=-1e3;this.bordures=[r,n,i,a];for(const o of this.listePoints)o.typeObjet!=="point"&&window.notify("Polygone : argument invalide",{...e}),r=Math.min(r,o.x),i=Math.max(i,o.x),n=Math.min(n,o.y),a=Math.max(a,o.y);this.bordures=[r,n,i,a];let s=0;for(let o=0;o<this.listePoints.length;o++)s+=qi(this.listePoints[o],this.listePoints[(o+1)%this.listePoints.length]);this.perimetre=s}binomesXY(e){let r="";for(const i of this.listePoints)r+=`${i.xSVG(e)},${i.ySVG(e)} `;return r}get flat(){return this._flat.length===0&&(this._flat=rbe(this)),this._flat}get triangulation(){if(this._triangulation.length===0){const e=kye(this.flat);this._triangulation=[];for(let r=0;r<e.length;r+=3)this._triangulation.push([be(this.flat[e[r]*2],this.flat[e[r]*2+1]),be(this.flat[e[r+1]*2],this.flat[e[r+1]*2+1]),be(this.flat[e[r+2]*2],this.flat[e[r+2]*2+1])])}return this._triangulation}get aire(){if(this._aire===0){const e=this.triangulation;this._aire=0;for(let r=0;r<e.length;r++)this._aire+=Number(AB(er(e[r])))}return this._aire}svg(e){switch(this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}return this.hachures?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage=Ze("none")),Jp({motif:String(this.hachures),id:String(this.id),distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures[0]||"black",couleurDeRemplissage:this.couleurDeRemplissage[0],opaciteDeRemplissage:this.opaciteDeRemplissage})+`<polygon points="${this.binomesXY(e)}" stroke="${this.color[0]}" ${this.style} id="${this.id}" fill="url(#pattern${this.id})" />`):(this.couleurDeRemplissage[0]===""||this.couleurDeRemplissage[0]===void 0?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage[0]}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),`<polygon points="${this.binomesXY(e)}" stroke="${this.color[0]}" ${this.style} id="${this.id}" />`)}tikz(){const e=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&e.push(`color=${this.color[1]}`),this.epaisseur!==1&&e.push(`line width = ${this.epaisseur}`),this.pointilles){case 1:e.push(" dash dot ");break;case 2:e.push(" densely dash dot dot ");break;case 3:e.push(" dash dot dot ");break;case 4:e.push(" dotted ");break;case 5:e.push(" dashed ");break}this.opacite!==1&&e.push(`opacity=${this.opacite}`),this.couleurDeRemplissage[1]!==""&&this.couleurDeRemplissage[1]!=="none"&&e.push(`preaction={fill,color = ${this.couleurDeRemplissage[1]}${this.opaciteDeRemplissage!==1?", opacity = "+this.opaciteDeRemplissage:""}}`),this.hachures&&(this.hachures="dotted"),this.hachures!=null&&typeof this.hachures=="string"&&e.push(Jp({motif:this.hachures,id:String(this.id),distanceDesHachures:this.distanceDesHachures,couleurDesHachures:this.couleurDesHachures[1],couleurDeRemplissage:this.couleurDeRemplissage[1],opaciteDeRemplissage:this.opaciteDeRemplissage}));let r="";e.length>0&&(r="["+e.join(",")+"]");let i="";for(const a of this.listePoints)i+=`(${yt(a.x)},${yt(a.y)})--`;return`\\draw${r} ${i}cycle;`}svgml(e,r){let i="",n,a,s;for(let o=1;o<=this.listePoints.length;o++)s=this.listePoints[o%this.listePoints.length],a=this.listePoints[o-1],n=He(a,s,this.stringColor),n.epaisseur=this.epaisseur,n.opacite=this.opacite,i+=n.svgml(e,r);return i}tikzml(e){let r="",i,n,a;for(let s=1;s<=this.listePoints.length;s++)a=this.listePoints[s%this.listePoints.length],n=this.listePoints[s-1],i=He(n,a,this.stringColor),i.epaisseur=this.epaisseur,i.opacite=this.opacite,r+="	"+i.tikzml(e)+`
`;return r}}function er(...t){return new h1(...t)}function tbe(t,e,r,i="black"){const n=[t,e];for(let a=1;a<r-1;a++)n[a+1]=zt(n[a-1],n[a],-180+360/r);return new h1(n,i)}function Fc(t,e,r="black"){return tbe(t,e,4,r)}class $B{constructor({xMin:e,xMax:r,yMin:i,yMax:n}){this.xMin=e,this.xMax=r,this.yMin=i,this.yMax=n,this.forme=er([be(e,i),be(r,i),be(r,n),be(e,n)])}render(){return this.text?[this.forme,this.text]:this.forme}addColor({color:e,colorBackground:r,opacity:i,backgroudOpacity:n}){return this.forme.color=Ze(e??"black"),this.forme.opacite=i??1,this.forme.couleurDeRemplissage=Ze(r??"none"),this.forme.opaciteDeRemplissage=n??.7,this}addTextIn({textIn:e,color:r,opacity:i,size:n}){return typeof e!="string"&&window.notify("BoiteBuilder.addTextIn() requiert un texteIn de type string ",{textIn:e}),e.length>0&&(this.text=e.includes("\\")?Gi(e,(this.xMin+this.xMax)/2,(this.yMin+this.yMax)/2,r??"black",50,0,"",(n??1)*10):na(e,(this.xMin+this.xMax)/2,(this.yMin+this.yMax)/2,0,r??"black",n),this.text.opacite=i??1),this}}function rbe(t){const e=[];for(let r=0;r<t.listePoints.length;r++)e.push(t.listePoints[r].x,t.listePoints[r].y);return e}class ibe extends br{constructor(e,r="",i=.5,n="black",a=1){super(),this.poly=e,this.dist=i,this.objets=[];const s=r.includes(",")?r.split(","):r;for(let p=0;p<e.listePoints.length;p++)s.length>0&&(e.listePoints[p].nom=s[p]);const o=h7(e);let l=1e3,u=-1e3,c=1e3,h=-1e3;for(const p of e.listePoints){const d=$r(o,p,qi(o,p)+i*20/Tt.pixelsParCm);d.positionLabel="center",this.objets.push(Ql(p.nom,d,0,n,a,"milieu",!0)),l=Math.min(l,d.x-.5),u=Math.max(u,d.x+.5),c=Math.min(c,d.y-.5),h=Math.max(h,d.y+.5)}this.bordures=[l,c,u,h]}svg(e){let r="";if(this.objets==null)return r;for(const i of this.objets)r+=`
	`+i.svg(e);return r}tikz(){let e="";if(this.objets==null)return e;for(const r of this.objets)e+=`
	`+r.tikz();return e}}function qr(t,e="",r=.5,i="black",n=1){return new ibe(t,e,r,i,n)}function Jp({motif:t="north east lines",id:e="0",distanceDesHachures:r=10,epaisseurDesHachures:i=1,couleurDesHachures:n="black",couleurDeRemplissage:a="none",opaciteDeRemplissage:s=.5}){let o="";{switch(a.length<1&&(a="none"),t){case"north east lines":o+=`<pattern id="pattern${e}" width="${r}" height="${r}"  patternTransform="rotate(45 0 0)" patternUnits="userSpaceOnUse">
            <rect x="0" y="0" width="${r}" height="${r}" fill="${a}" fill-opacity="${s}"/>
            <line x1="0" y1="0" x2="0" y2="${r}" style="stroke:${n}; stroke-width:${i}" />
            </pattern>`;break;case"horizontal lines":o+=`<pattern id="pattern${e}" width="${r}" height="${r}"  patternUnits="userSpaceOnUse">
            <rect x="0" y="0" width="${r}" height="${r}" fill="${a}" fill-opacity="${s}"/>
            <line x1="0" y1="${r/2}" x2="${r}" y2="${r/2}" style="stroke:${n}; stroke-width:${i}" />
            </pattern>`;break;case"vertical lines":o+=`<pattern id="pattern${e}" width="${r}" height="${r}"  patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
            <rect x="0" y="0" width="${r}" height="${r}" fill="${a}" fill-opacity="${s}"/>
            <line x1="0" y1="0" x2="0" y2="${r}" style="stroke:${n}; stroke-width:${i}" />
            </pattern>`;break;case"dots":o+=`<pattern id="pattern${e}" width="${r}" height="${r}"  patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
            <circle cx="3" cy="3" r="${i}" fill="${n}" fill-opacity="${s}"/>
            <circle cx="8" cy="3" r="${i}" fill="${n}" fill-opacity="${s}"/>
            <circle cx="3" cy="8" r="${i}" fill="${n}" fill-opacity="${s}"/>
            <circle cx="8" cy="8" r="${i}" fill="${n}" fill-opacity="${s}"/>
            </pattern>`;break;case"crosshatch dots":o+=`<pattern id="pattern${e}" width="12" height="12" x="12" y="12" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
          <circle cx="2" cy="2" r="${i}" fill="${n}" fill-opacity="${s}"/>
          <circle cx="8" cy="2" r="${i}" fill="${n}" fill-opacity="${s}"/>
          <circle cx="5" cy="5" r="${i}" fill="${n}" fill-opacity="${s}"/>
          <circle cx="2" cy="8" r="${i}" fill="${n}" fill-opacity="${s}"/>
          <circle cx="8" cy="8" r="${i}" fill="${n}" fill-opacity="${s}"/>
          <circle cx="5" cy="11" r="${i}" fill="${n}" fill-opacity="${s}"/>
          <circle cx="11" cy="5" r="${i}" fill="${n}" fill-opacity="${s}"/>
          <circle cx="11" cy="11" r="${i}" fill="${n}" fill-opacity="${s}"/>
          </pattern>`;break;case"fivepointed stars":o+=`<pattern id="pattern${e}" width="12" height="12" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
          <polygon points="10,5 6.2,4.2 6.6,0.2 4.6,3.6 1,2 3.6,5 1,8 4.6,6.4 6.6,9.8 6.2,5.8 " stroke="${n}"  fill="${a}" fill-opacity="${s}" />
          </pattern>`;break;case"sixpointed stars":o+=`<pattern id="pattern${e}"  width="12" height="12" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
        <polygon points="10,5 7.6,3.4 7.6,0.6 5,2 2.6,0.6 2.4,3.4 0,5 2.4,6.4 2.6,9.4 5,8 7.6,9.4 7.6,6.4 " stroke="${n}" fill="${a}" fill-opacity="${s}" />
        </pattern>`;break;case"crosshatch":o+=`<pattern id="pattern${e}" width="12" height="12" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
          <polygon points="2,2 7.6,7.6 7,8.4 9.8,8.4 9.8,5.6 9,6.2 3.4,0.6 " stroke="${n}"  fill="${a}" fill-opacity="${s}" />
          </pattern>`;break;case"bricks":o+=`<pattern id="pattern${e}" width="18" height="16" x="18" y="16" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
          <line x1="4" y1="2" x2="4" y2="4" stroke="${n}" fill="${a}" fill-opacity="${s}"  />
          <line x1="0" y1="4" x2="16" y2="4" stroke="${n}" fill="${a}" fill-opacity="${s}"   />
          <line x1="14" y1="4" x2="14" y2="12" stroke="${n}" fill="${a}" fill-opacity="${s}"   />
          <line x1="16" y1="12" x2="0" y2="12" stroke="${n}" fill="${a}" fill-opacity="${s}"   />
          <line x1="4" y1="12" x2="4" y2="16" stroke="${n}" fill="${a}" fill-opacity="${s}"   />
          </pattern>`;break;case"grid":o+=`<pattern id="pattern${e}" width="10" height="10" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
          <polyline points="8,8 0,8 0,0 " fill="none" stroke="${n}" />
          </pattern>`;break;case"checkerboard":o+=`<pattern id="pattern${e}" width="8" height="8" x="8" y="8" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
          <polygon points="4,4 8,4 8,0 4,0 "  fill="${n}" fill-opacity="${s}" />
          <polygon points="0,4 4,4 4,8 0,8 "  fill="${n}" fill-opacity="${s}" />
        
          </pattern>`;break;default:o+=`<pattern id="pattern${e}" width="${r}" height="${r}"  patternTransform="rotate(45 0 0)" patternUnits="userSpaceOnUse">
        <rect x="0" y="0" width="${r}" height="${r}" fill="${a}" fill-opacity="${s}"/>
        <line x1="0" y1="0" x2="0" y2="${r}" style="stroke:${n}; stroke-width:${i}" />
        </pattern>`;break}return o}}class bs extends Vn{estDansPolygone(e){for(const r of e.triangulation)if(this.estDansTriangle(...r))return!0;return!1}estDansTriangle(e,r,i){const n=Jt(this,e),a=Jt(this,r),s=Jt(this,i),o=a.x*s.y-a.y*s.x,l=s.x*n.y-s.y*n.x,u=n.x*a.y-n.y*a.x;return of(o,0)&&of(l,0)&&of(u,0)||i3(o,0)&&i3(l,0)&&i3(u,0)}estDansPolygoneConvexe(e){const r=e.listePoints.length;if(r===3)return this.estDansTriangle(...e.listePoints);{const i=e.listePoints[0],n=e.listePoints[1],a=e.listePoints[r-1],s=er(...e.listePoints.slice(1));return this.estDansTriangle(i,n,a)?!0:this.estDansPolygoneConvexe(s)}}estDansQuadrilatere(e,r,i,n){return this.estDansTriangle(e,r,i)||this.estDansTriangle(e,i,n)}estSur(e){if(e instanceof Bs)return lr(e.a*this.x+e.b*this.y+e.c,0,.01);if(e instanceof e0){const r=(e.extremite2.x-e.extremite1.x)*(this.y-e.extremite1.y)-(this.x-e.extremite1.x)*(e.extremite2.y-e.extremite1.y),i=(this.x-e.extremite1.x)*(e.extremite2.x-e.extremite1.x)+(this.y-e.extremite1.y)*(e.extremite2.y-e.extremite1.y),n=(e.extremite2.x-e.extremite1.x)**2+(e.extremite2.y-e.extremite1.y)**2;return lr(r,0,.01)&&of(i,0)&&i3(i,n)}if(e instanceof Kye){const r=Jt(e.extremite1,this),i=Jt(e.extremite1,e.extremite2),n=r.x*i.x+r.y*i.y,a=r.x*i.y-r.y*i.x;return lr(a,0,.01)&&of(n,0,.01)}if(e instanceof f7)return lr(qi(this,e.centre),e.rayon,.01)}}function be(t,e,r="",i="above"){return new bs(t,e,r,i)}function _B(t){return new bs(t.x,t.y,t.nom,t.positionLabel)}class nbe extends br{constructor(e,r,{rayon:i=.05,couleur:n="black",couleurDeRemplissage:a="black",opacite:s=1,opaciteDeRemplissage:o=1}={}){super(),(isNaN(e)||isNaN(r))&&window.notify("Plot : les coordonnées ne sont pas valides",{x:e,y:r}),this.color=Ze(n),this.couleurDeRemplissage=Ze(a),this.rayon=i,this.x=e,this.y=r,this.bordures=[e-i,r-i,e+i,r+i],this.opacite=s,this.opaciteDeRemplissage=o}svg(e){return this.couleurDeRemplissage[0]===""?`
	 <circle cx="${this.x*e}" cy="${-this.y*e}" r="${this.rayon*e}" stroke="${this.color[0]}" stroke-opacity="${this.opacite||1}"/>`:`
	 <circle cx="${this.x*e}" cy="${-this.y*e}" r="${this.rayon*e}" stroke="${this.color[0]}" fill="${this.couleurDeRemplissage[0]}" stroke-opacity="${this.opacite||1}" fill-opacity="${this.opaciteDeRemplissage||1}"/>`}tikz(){const e=[];this.color[1].length>1&&this.color[1]!=="black"&&e.push(`color=${this.color[1]}`),this.epaisseur!==1&&e.push(`line-width=${this.epaisseur}`),this.opacite!==1&&e.push(`opacity=${this.opacite}`),this.opaciteDeRemplissage!==1&&e.push(`fill opacity=${this.opaciteDeRemplissage}`),this.couleurDeRemplissage[1]!==""&&this.couleurDeRemplissage[1]!=="none"&&this.couleurDeRemplissage[1]!==""&&e.push(`fill=${this.couleurDeRemplissage[1]}`);let r="";return e.length>0&&(r="["+e.join(",")+"]"),`
	 \\filldraw${r} (${this.x},${this.y}) circle (${this.rayon});`}}function EB(t,e,{rayon:r=.05,couleur:i="black",couleurDeRemplissage:n="black",opacite:a=1,opaciteDeRemplissage:s=1}={}){return new nbe(yt(t),yt(e),{rayon:r,couleur:i,couleurDeRemplissage:n,opacite:a,opaciteDeRemplissage:s})}class abe extends br{constructor(...e){super(),this.taille=3,this.tailleTikz=this.taille/15,this.epaisseur=1,this.opacite=.8,this.style="x";let r=1e3,i=-1e3,n=1e3,a=-1e3,s;typeof e[e.length-1]=="string"?(this.color=Ze(String(e[e.length-1])),e.pop()):this.color=Ze("black"),this.points=e;for(const o of this.points){const l=o;l.typeObjet!=="point3d"&&l.typeObjet!=="point"&&window.notify("TracePoint : argument invalide",{...e}),s=l.typeObjet==="point"?l:l.c2d,r=Math.min(r,s.x-this.taille/Tt.pixelsParCm),i=Math.max(i,s.x+this.taille/Tt.pixelsParCm),n=Math.min(n,s.y-this.taille/Tt.pixelsParCm),a=Math.max(a,s.y+this.taille/Tt.pixelsParCm)}this.bordures=[r,n,i,a]}svg(e){const r=[];let i,n,a,s,o,l;for(const c of this.points)c.typeObjet==="point3d"?l=c.c2d:l=c,l.constructor===bs&&(this.style==="x"?(i=He(be(l.x-this.taille/e,l.y+this.taille/e),be(l.x+this.taille/e,l.y-this.taille/e),this.color[0]),n=He(be(l.x-this.taille/e,l.y-this.taille/e),be(l.x+this.taille/e,l.y+this.taille/e),this.color[0]),i.epaisseur=this.epaisseur,n.epaisseur=this.epaisseur,i.opacite=this.opacite,n.opacite=this.opacite,r.push(i,n)):this.style==="o"?(a=be(l.x,l.y),o=ns(a,this.taille/e,this.color[0]),o.epaisseur=this.epaisseur,o.opacite=this.opacite,o.couleurDeRemplissage=this.color,o.opaciteDeRemplissage=this.opacite/2,r.push(o)):this.style==="#"?(a=be(l.x-this.taille/e,l.y-this.taille/e),s=be(l.x+this.taille/e,l.y-this.taille/e),o=Fc(a,s,this.color[0]),o.epaisseur=this.epaisseur,o.opacite=this.opacite,o.couleurDeRemplissage=[this.color[0]??"black",this.color[1]??"black"],o.opaciteDeRemplissage=this.opacite/2,r.push(o)):this.style==="+"?(i=He(be(l.x,l.y+this.taille/e),be(l.x,l.y-this.taille/e),this.color[0]),n=He(be(l.x-this.taille/e,l.y),be(l.x+this.taille/e,l.y),this.color[0]),i.epaisseur=this.epaisseur,n.epaisseur=this.epaisseur,i.opacite=this.opacite,n.opacite=this.opacite,r.push(i,n)):this.style==="|"?(i=He(be(l.x,l.y+this.taille/e),be(l.x,l.y-this.taille/e),this.color[0]),i.epaisseur=this.epaisseur,i.opacite=this.opacite,r.push(i)):this.style==="."&&(i=EB(l.x,l.y,{couleur:this.color[0],rayon:this.epaisseur*.05,couleurDeRemplissage:this.color[0]}),r.push(i)));let u="";for(const c of r)u+=`
	`+c.svg(e);return u=`<g id="${this.id}">`+u+"</g>",u}tikz(){const e=[];let r,i,n,a,s,o;for(const u of this.points)u.typeObjet==="point3d"?o=u.c2d:o=u,o.constructor===bs&&(this.style==="x"?(this.tailleTikz=this.taille/16,r=He(be(o.x-this.tailleTikz,o.y+this.tailleTikz),be(o.x+this.tailleTikz,o.y-this.tailleTikz),this.color[1]),i=He(be(o.x-this.tailleTikz,o.y-this.tailleTikz),be(o.x+this.tailleTikz,o.y+this.tailleTikz),this.color[1]),r.epaisseur=this.epaisseur/1.6,i.epaisseur=this.epaisseur/1.6,r.opacite=this.opacite,i.opacite=this.opacite,e.push(r,i)):this.style==="o"?(n=be(o.x,o.y),s=ns(n,this.tailleTikz,this.color[1]),s.epaisseur=this.epaisseur,s.opacite=this.opacite,s.couleurDeRemplissage=this.color,s.opaciteDeRemplissage=this.opacite/2,e.push(s)):this.style==="#"?(n=be(o.x-this.tailleTikz,o.y-this.tailleTikz),a=be(o.x+this.tailleTikz,o.y-this.tailleTikz),s=Fc(a,n,this.color[1]),s.epaisseur=this.epaisseur,s.opacite=this.opacite,s.couleurDeRemplissage=[this.color[0]??"black",this.color[1]??"black"],s.opaciteDeRemplissage=this.opacite/2,e.push(s)):this.style==="+"?(r=He(be(o.x,o.y+this.tailleTikz),be(o.x,o.y-this.tailleTikz),this.color[1]),i=He(be(o.x-this.tailleTikz,o.y),be(o.x+this.tailleTikz,o.y),this.color[1]),r.epaisseur=this.epaisseur,i.epaisseur=this.epaisseur,r.opacite=this.opacite,i.opacite=this.opacite,e.push(r,i)):this.style==="|"?(r=He(be(o.x,o.y+this.tailleTikz),be(o.x,o.y-this.tailleTikz),this.color[1]),r.epaisseur=this.epaisseur,r.opacite=this.opacite,e.push(r)):this.style==="."&&(r=EB(o.x,o.y,{couleur:this.color[0],rayon:this.epaisseur*.05,couleurDeRemplissage:this.color[1]}),e.push(r)));let l="";for(const u of e)l+=u.tikz();return l}}function Cn(...t){return new abe(...t)}class sbe extends br{constructor(e,r,i="black"){super(),this.stringColor=i,this.lieu=e,this.taille=.2,this.x=e.x,this.y=e.y;let n,a;this.bordures=[e.x-.2,e.y-.2,e.x+.2,e.y+.2],r instanceof Vn?(qi(this.lieu,r)<.001&&window.notify("TracePointSurDroite : points trop rapprochés pour définir une droite",{A:e,O:r}),n=$r(this.lieu,r,1),this.direction=zt(n,this.lieu,90)):(a=lbe(this.lieu,r),this.direction=$r(be(a.x1,a.y1),be(a.x2,a.y2),1))}svg(e){const r=$r(this.lieu,this.direction,this.taille*20/e),i=$r(this.lieu,this.direction,-this.taille*20/e),n=He(r,i,this.stringColor);return this.id=n.id,n.svg(e)}tikz(){const e=$r(this.lieu,this.direction,this.taille/Tt.scale),r=$r(this.lieu,this.direction,-this.taille/Tt.scale);return He(e,r,this.stringColor).tikz()}}function obe(t,e,r="black"){return new sbe(t,e,r)}function Zi(t,e,r="",i="above"){isNaN(qi(t,e))&&window.notify("milieu : Quelque chose ne va pas avec les points",{A:t,B:e});const n=(t.x+e.x)/2,a=(t.y+e.y)/2;return be(n,a,r,i)}function $r(t,e,r,i="",n="above"){return isNaN(qi(t,e))&&window.notify("pointSurSegment : Quelque chose ne va pas avec les points",{A:t,B:e}),qi(t,e)===0?_B(t):((r===void 0||typeof r=="string")&&(r=qi(t,e)*ge(15,85)/100),_B(Jl(e,t,r/qi(t,e),i,n)))}function zs(t,e,r="",i="above"){return t.b===0?be(-t.c/t.a,e,r,i):t.a===0?be(e,-t.c/t.b,r,i):be(e,(-t.c-t.a*e)/t.b,r,i)}function Du(t,e,r="",i="above"){let n,a;return lr(e.a*t.b-e.b*t.a,0,1e-6)?ed(t,e,be(0,0)):(a=(e.c*t.a-t.c*e.a)/(e.a*t.b-e.b*t.a),lr(t.a,0,1e-6)?n=(-e.c-e.b*a)/e.a:n=(-t.c-t.b*a)/t.a,be(n,a,r,i))}function aa(t,e=1,r=0,i="",n="above"){let a="",s=0,o="above";typeof r=="string"?(s=ge(0,360),a=r,i!=null&&(o=i)):(s=r??ge(0,360),i!=null&&(a=i),n!=null&&(o=n));const l=be(t.x+1,t.y);return vi(l,t,s,e,a,o)}function _i(t,e,r="",i=1){const n=e.centre,a=e.rayon,s=t.a,o=t.b,l=t.c,u=n.x,c=n.y;let h,p,d,m,f,v;if(lr(o,0,1e-6)){if(d=-l/s,f=d,h=4*(-u*u-l*l/(s*s)-2*u*l/s+a*a),h<0)return ed(t,e,e.centre);lr(h,0)?(m=c+Math.sqrt(h)/2,v=m):(m=c-Math.sqrt(h)/2,v=c+Math.sqrt(h)/2)}else if(lr(s,0,1e-7)){if(m=-l/o,v=m,h=4*(-c*c-l*l/(o*o)-2*c*l/o+a*a),h<0)return ed(t,e,e.centre);lr(h,0)?(d=u+Math.sqrt(h)/2,f=d):(d=u-Math.sqrt(h)/2,f=u+Math.sqrt(h)/2)}else{if(h=(2*(s*l/(o*o)+c*s/o-u))**2-4*(1+(s/o)**2)*(u*u+c*c+(l/o)**2+2*c*l/o-a*a),h<0)return ed(t,e,e.centre);lr(h,0)?(p=Math.sqrt(h),d=(-2*(s*l/(o*o)+c*s/o-u)-p)/(2*(1+(s/o)**2)),f=d,m=(-s*d-l)/o,v=m):(p=Math.sqrt(h),d=(-2*(s*l/(o*o)+c*s/o-u)-p)/(2*(1+(s/o)**2)),f=(-2*(s*l/(o*o)+c*s/o-u)+p)/(2*(1+(s/o)**2)),m=(-s*d-l)/o,v=(-s*f-l)/o)}return i===1?v>m?be(f,v,r):be(d,m,r):v>m?be(d,m,r):be(f,v,r)}function p7(t,e,r="",i=1){const n=t.centre,a=e.centre,s=t.rayon,o=e.rayon,l=n.x,u=a.x,c=n.y,h=a.y,p=u-l,d=h-c,m=Math.sqrt(d*d+p*p);if(m>s+o||m<Math.abs(s-o))return ed(t,e,t.centre);const f=(s*s-o*o+m*m)/(2*m),v=l+p*f/m,y=c+d*f/m,x=Math.sqrt(s*s-f*f),g=-d*(x/m),b=p*(x/m),k=v+g,w=v-g,N=y+b,A=y-b;return i===1?A>N?be(w,A,r):be(k,N,r):A>N?be(k,N,r):be(w,A,r)}function ed(t,e,r){return!1}class Bs extends br{constructor(e,r,i,n,a){super();let s,o,l;this.stringColor="black",arguments.length===2?(e instanceof Vn&&r instanceof Vn?(this.x1=e.x,this.x2=r.x,this.y1=e.y,this.y2=r.y):(window.notify("Droite : (attendus : A et B) les arguments de sont pas des points valides",{arg1:e,arg2:r}),this.x1=0,this.x2=0,this.y1=0,this.y2=0),this.nom="",this.pointilles=0,this.opacite=1,this.epaisseur=1,this.a=this.y1-this.y2,this.b=this.x2-this.x1,this.c=(this.x1-this.x2)*this.y1+(this.y2-this.y1)*this.x1,this.pente=NaN):arguments.length===3?typeof e=="number"?((isNaN(e)||Number.isNaN(r)||Number.isNaN(i))&&window.notify("Droite : (attendus : a, b et c) les arguments de sont pas des nombres valides",{arg1:e,arg2:r,arg3:i}),this.nom="",this.a=Number(e),this.b=Number(r),this.c=Number(i),s=Number(e),o=Number(r),l=Number(i),lr(s,0)?(this.x1=0,this.x2=1,this.y1=-l/o,this.y2=-l/o):lr(o,0)?(this.y1=0,this.y2=1,this.x1=-l/s,this.x2=-l/s):(this.x1=0,this.y1=-l/o,this.x2=1,this.y2=(-l-s)/o)):((isNaN(e.x)||isNaN(e.y)||isNaN(r.x)||isNaN(r.y))&&window.notify('Droite : (attendus : A, B et "nom") les arguments de sont pas des points valides',{arg1:e,arg2:r}),this.x1=e.x,this.y1=e.y,this.x2=r.x,this.y2=r.y,this.a=this.y1-this.y2,this.b=this.x2-this.x1,this.c=(this.x1-this.x2)*this.y1+(this.y2-this.y1)*this.x1,this.nom=String(i)):arguments.length===4?typeof e=="number"?((isNaN(e)||Number.isNaN(r)||Number.isNaN(i))&&window.notify('Droite : (attendus : a, b, c et "nom") les arguments de sont pas des nombres valides',{arg1:e,arg2:r,arg3:i}),this.a=Number(e),this.b=Number(r),this.c=Number(i),s=Number(e),o=Number(r),l=Number(i),this.nom=String(n),lr(s,0)?(this.x1=0,this.x2=1,this.y1=-l/o,this.y2=-l/o):lr(o,0)?(this.y1=0,this.y2=1,this.x1=-l/s,this.x2=-l/s):(this.x1=0,this.y1=-l/o,this.x2=1,this.y2=(-l-s)/o)):((isNaN(e.x)||isNaN(e.y)||isNaN(r.x)||isNaN(r.y))&&window.notify('Droite : (attendus : A, B, "nom" et "couleur") les arguments de sont pas des points valides',{arg1:e,arg2:r}),this.x1=e.x,this.y1=e.y,this.x2=r.x,this.y2=r.y,this.a=this.y1-this.y2,this.b=this.x2-this.x1,this.c=(this.x1-this.x2)*this.y1+(this.y2-this.y1)*this.x1,this.nom=String(i),this.color=Ze(String(n)),this.stringColor=String(n)):((Number.isNaN(e)||Number.isNaN(r)||Number.isNaN(i))&&window.notify('Droite : (attendus : a, b, c et "nom") les arguments de sont pas des nombres valides',{arg1:e,arg2:r,arg3:i}),this.a=Number(e),this.b=Number(r),this.c=Number(i),s=Number(e),o=Number(r),l=Number(i),this.nom=String(n),this.color=Ze(String(a)),this.stringColor=String(a),lr(s,0)?(this.x1=0,this.x2=1,this.y1=-l/o,this.y2=-l/o):lr(o,0)?(this.y1=0,this.y2=1,this.x1=-l/s,this.x2=-l/s):(this.x1=0,this.y1=-l/o,this.x2=1,this.y2=(-l-s)/o)),this.b!==0?this.pente=-this.a/this.b:this.pente=NaN;let u,c;this.x1>this.x2&&(u=this.x1,c=this.y1,this.x1=this.x2+0,this.y1=this.y2+0,this.x2=u,this.y2=c),this.x1=yt(this.x1,2),this.y1=yt(this.y1,2),this.x2=yt(this.x2,2),this.y2=yt(this.y2,2),this.normal=Jt(this.a,this.b),this.directeur=Jt(this.b,-this.a),this.angleAvecHorizontale=Rt(be(1,0),be(0,0),be(this.directeur.x,this.directeur.y)),this.bordures=[Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.max(this.x1,this.x2),Math.max(this.y1,this.y2)];let h,p;if(this.nom!==""){if(lr(this.b,0,.05))h=-this.c/this.a+.8,p=Tt.fenetreMathalea2d[1]+1;else if(lr(this.a,0,.05))h=Tt.fenetreMathalea2d[0]+.8,p=-this.c/this.b+.8;else{const d=(-this.a*(Tt.fenetreMathalea2d[0]+1)-this.c)/this.b,m=(-this.a*(Tt.fenetreMathalea2d[2]-1)-this.c)/this.b,f=(-this.b*(Tt.fenetreMathalea2d[1]+1)-this.c)/this.a,v=(-this.b*(Tt.fenetreMathalea2d[3]-1)-this.c)/this.a;d>Tt.fenetreMathalea2d[1]&&d<Tt.fenetreMathalea2d[3]?(h=Tt.fenetreMathalea2d[0]+1,p=d+this.pente):m>Tt.fenetreMathalea2d[1]&&m<Tt.fenetreMathalea2d[3]?(h=Tt.fenetreMathalea2d[2]-1,p=m-this.pente):f>Tt.fenetreMathalea2d[0]&&f<Tt.fenetreMathalea2d[2]?(h=f,p=Tt.fenetreMathalea2d[1]+Math.abs(this.pente)):v>Tt.fenetreMathalea2d[0]&&v<Tt.fenetreMathalea2d[2]?(h=v,p=Tt.fenetreMathalea2d[3]+this.pente):(h=(Tt.fenetreMathalea2d[0]+Tt.fenetreMathalea2d[2])/2,p=zs(this,h,"").y)}this.leNom=na(this.nom,h,p,0,this.stringColor,1,"milieu",!0)}if(this.nom.includes("$"))return window.notify(`Droite() appelé avec un nom contenant du Latex... utiliser droiteAvecNom() à la place !
On va retourner un array contenant la droite et un latexParCoordonnees dans un proche avenir !
Il faut donc adapter l'exo qui a provoqué ça.
 Pour l'instant on retourne une droite sans nom.`,{nom:this.nom}),new Bs(be(this.x1,this.y1),be(this.x2,this.y2))}svg(e){var s;switch(this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `);const r=be(this.x1,this.y1),i=be(this.x2,this.y2),n=$r(r,i,-50),a=$r(i,r,-50);return this.nom===""?`<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${a.xSVG(e)}" y2="${a.ySVG(e)}" stroke="${this.color[0]}" ${this.style} id ="${this.id}" />`:`<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${a.xSVG(e)}" y2="${a.ySVG(e)}" stroke="${this.color[0]}" ${this.style} id ="${this.id}" />`+(this.leNom!=null?((s=this.leNom)==null?void 0:s.svg(e))??"":"")}tikz(){var o;const e=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&e.push(`color=${this.color[1]}`),this.epaisseur!==1&&e.push(`line width = ${this.epaisseur}`),this.pointilles){case 1:e.push(" dash dot ");break;case 2:e.push(" densely dash dot dot ");break;case 3:e.push(" dash dot dot ");break;case 4:e.push(" dotted ");break;case 5:e.push(" dashed ");break}this.opacite!==1&&e.push(`opacity = ${this.opacite}`);let r="";e.length>0&&(r="["+e.join(",")+"]");const i=be(this.x1,this.y1),n=be(this.x2,this.y2),a=$r(i,n,-50),s=$r(n,i,-50);return this.nom!==""?`\\draw${r} (${a.x},${a.y})--(${s.x},${s.y});`+(this.leNom!=null?((o=this.leNom)==null?void 0:o.tikz())??"":""):`\\draw${r} (${a.x},${a.y})--(${s.x},${s.y});`}svgml(e,r){const i=be(this.x1,this.y1),n=be(this.x2,this.y2),a=$r(i,n,-50),s=$r(n,i,-50);return He(a,s,this.color[0]).svgml(e,r)}tikzml(e){const r=be(this.x1,this.y1),i=be(this.x2,this.y2),n=$r(r,i,-50),a=$r(i,r,-50);return He(n,a,this.color[1]).tikzml(e)}}function ri(t,e,r,i,n){return arguments.length===2?new Bs(t,e):arguments.length===3?new Bs(t,e,r):arguments.length===4?new Bs(t,e,r,i):new Bs(t,e,r,i,n)}function d7(t,e,r=1e-4){return lr(t.a*e.x+t.b*e.y+t.c,0,r)?"sur":lr(t.b,0)?e.x<-t.c/t.a?"gauche":"droite":t.a*e.x+t.b*e.y+t.c<0?"dessous":"dessus"}function IB(t,e,r="",i="black"){const n=be(t.x+e.x,t.y+e.y);return new Bs(t,n,r,i)}function lbe(t,e,r="",i="black"){return IB(t,e.normal,r,i)}function xf(t,e="",r="black"){return p1(t,0,e,r)}function td(t,e="",r="black"){return IB(t,Jt(0,1),e,r)}function p1(t,e,r="",i="black"){const n=be(t.x+1,t.y+e);return new Bs(t,n,r,i)}class TB extends br{constructor(e,r,i="",n="red",a="blue",s="black",o=!1,l=!1,u="×",c="||",h=1,p=1,d=0){super();const m=Zi(e,r),f=zt(e,m,90),v=zt(e,m,-90),y=$r(m,f,qi(e,r)*.785),x=$r(m,v,qi(e,r)*.785),g=new Bs(y,x,i,n);if(arguments.length<5)return this.color=Ze(n),this.pointilles=d,this.opacite=p,this.epaisseur=h,g;if(qi(e,r)<.1&&window.notify("ConstructionMediatrice : Points trop rapprochés pour créer cet objet",{A:e,B:r}),this.color=Ze(a),this.couleurMediatrice=n,this.epaisseurMediatrice=h,this.opaciteMediatrice=p,this.pointillesMediatrice=d,this.couleurConstruction=s,this.epaisseur=1,g.epaisseur=this.epaisseurMediatrice,g.opacite=this.opaciteMediatrice,g.pointilles=this.pointillesMediatrice,!o&&!l)return g;if(this.objets=[g],o){const b=A3(e,y,20,this.couleurConstruction),k=A3(r,y,20,this.couleurConstruction),w=A3(e,x,20,this.couleurConstruction),N=A3(r,x,20,this.couleurConstruction),A=qa(e,r,this.couleurMediatrice,u);this.objets.push(b,k,w,N,g,A)}if(l){const b=He(e,y,this.couleurConstruction);b.pointilles=5;const k=He(r,y,this.couleurConstruction);k.pointilles=5;const w=He(e,x,this.couleurConstruction);w.pointilles=5;const N=He(r,x,this.couleurConstruction);N.pointilles=5;const A=ui(c,this.couleurConstruction,e,y,r,y,e,x,r,x);this.objets.push(b,k,w,N,A)}}svg(e){let r="";if(this.objets==null)return r;for(const i of this.objets)r+=`
	`+i.svg(e);return r=`<g id="${this.id}">${r}</g>`,r}tikz(){let e="";if(this.objets==null)return e;for(const r of this.objets)e+=`
	`+r.tikz();return e}svgml(e,r){let i="";if(this.objets==null)return i;for(const n of this.objets)typeof n.svgml>"u"?i+=`
	`+n.svg(e):i+=`
	`+n.svgml(e,r);return i}tikzml(e){let r="";if(this.objets==null)return r;for(const i of this.objets)typeof i.tikzml>"u"?r+=`
	`+i.tikz():r+=`
	`+i.tikzml(e);return r}}function m7(t,e,r="",i="red",n="blue",a="black",s=!1,o=!1,l="×",u="||",c=1,h=1,p=0){return arguments.length<5?new TB(t,e,r,i):new TB(t,e,r,i,n,a,s,o,l,u,c,h,p)}class ube extends br{constructor(e,r,i="black",n="×",a=!0){super(),qi(e,r)<.1&&window.notify("CodageMilieu : Points trop rapprochés pour créer ce codage",{A:e,B:r}),this.color=Ze(i);const s=Zi(e,r),o=ri(e,r),l=obe(s,o,i),u=ui(n,i,e,s,s,r);let c="";this.bordures=[Math.min(e.bordures[0],r.bordures[0]),Math.min(e.bordures[1],r.bordures[1]),Math.max(e.bordures[2],r.bordures[2]),Math.max(e.bordures[3],r.bordures[3])],this.svg=function(h){return a?c=l.svg(h)+`
`+u.svg(h):c=u.svg(h),c=`<g id="${this.id}">${c}</g>`,c},this.tikz=function(){return a?l.tikz()+`
`+u.tikz():u.tikz()}}}function rd(t,e,r="black",i="×",n=!0){return new ube(t,e,r,i,n)}class cbe extends br{constructor(e,r,i="black",n="×"){super(),qi(e,r)<.1&&window.notify("CodageMediatrice : Points trop rapprochés pour créer ce codage",{A:e,B:r}),this.color=Ze(i);const a=Zi(e,r),s=zt(e,a,90),o=Qr(s,a,r,i),l=ui(n,i,e,a,a,r),u=gi([e,r,a,o]);this.bordures=[u.xmin,u.ymin,u.xmax,u.ymax],this.svg=function(c){return`<g id="${this.id}">${o.svg(c)+`
`+l.svg(c)}</g>`},this.tikz=function(){return o.tikz()+`
`+l.tikz()},this.svgml=function(c,h){return o.svgml(c,h)+`
`+l.svg(c)},this.tikzml=function(c){return o.tikzml(c)+`
`+l.tikz()}}}function qa(t,e,r="black",i="×"){return new cbe(t,e,r,i)}class hbe extends br{constructor(e,r,i="black",n=.5,a="cm",s=!1,o=1){super(),this.stringColor=i,this.O=Zi(e,r),this.M=zt(e,this.O,-90);const l=He(e,r),u=Co(l.longueur,o);this.text=`${u}${a!==""?" "+a:""}`,this.distance=s?n-.1+this.text.length/10:n,s?this.angle=0:r.x>e.x?this.angle=-l.angleAvecHorizontale:this.angle=180-l.angleAvecHorizontale,this.bordures=[this.O.x-.5,this.O.y-.5,this.O.x+.5,this.O.y+.5]}svg(e){const r=$r(this.O,this.M,this.distance*20/e);return Ql(this.text,r,this.angle,this.stringColor,1,"milieu",!1).svg(e)}tikz(){const e=$r(this.O,this.M,this.distance/Tt.scale);return Ql(this.text,e,this.angle,this.stringColor,1,"milieu",!1).tikz()}}function En(t,e,r="black",i=.5,n="cm",a=!1,s=1){return new hbe(t,e,r,i,n,a,s)}class pbe extends br{constructor(e,r,i,n="black",a=.5,s=!1){super(),typeof e=="number"&&(e=String(e)),qi(r,i)<.1&&window.notify("TexteSurSegment : Points trop proches pour cette fonction",{A:r,B:i}),this.color=Ze(n),this.stringColor=n,this.extremite1=r,this.extremite2=i,this.texte=String(e),this.scale=1,this.mathOn=!0,this.distance=s?a-.1+this.texte.length/10:a,this.O=Zi(this.extremite1,this.extremite2),this.M=zt(this.extremite1,this.O,-90);const o=He(this.extremite1,this.extremite2),l=$r(this.O,this.M,this.distance),u=.2*(this.texte.length??2);this.bordures=[l.x-u,l.y-u,l.x+u,l.y+u],s?this.angle=0:this.extremite2.x>this.extremite1.x?(this.angle=-o.angleAvecHorizontale,this.angle=-o.angleAvecHorizontale):(this.angle=180-o.angleAvecHorizontale,this.angle=180-o.angleAvecHorizontale)}svg(e){const r=$r(this.O,this.M,this.distance*20/e);return Ql(this.texte,r,this.angle,this.stringColor,this.scale,"milieu",this.mathOn).svg(e)}tikz(){const e=$r(this.O,this.M,this.distance/Tt.scale);return Ql(this.texte,e,this.angle,this.stringColor,this.scale,"milieu",this.mathOn).tikz()}}function dbe(t="",e,r,i="black",n=.5,a=!1){return t[0]==="$"?wf(t.replaceAll("$",""),e,r,{color:i,distance:n,horizontal:a}):new pbe(t,e,r,i,n,a)}class mbe extends br{constructor(e,r,i,n="black",a=1.5,s="",{ecart:o=.5,mesureEnGras:l=!1,saillant:u=!0,colorArc:c="black",rayon:h=!1,couleurDeRemplissage:p="none",opaciteDeRemplissage:d=.5,arcEpaisseur:m=1}={}){super(),this.depart=e,this.arrivee=i,this.sommet=r,this.distance=a;const f=u?Rt(this.depart,this.sommet,this.arrivee):Rt(this.depart,this.sommet,this.arrivee)>0?Rt(this.depart,this.sommet,this.arrivee)-360:360+Rt(this.depart,this.sommet,this.arrivee);this.ecart=o,this.saillant=u,this.epaisseur=m;const v=$r(this.sommet,this.depart,this.distance),y=zt($r(this.sommet,v,this.distance+this.ecart*20/Tt.pixelsParCm),this.sommet,f/2);let x;s!==""?x=s:x=Math.round(Math.abs(f)).toString()+"^\\circ";const g=Gi(x,y.x,y.y,n,0,0,"",8),b=ni(v,r,f,h,p,c,d);b.epaisseur=this.epaisseur,this.bordures=[Math.min(y.x,v.x)-.5,Math.min(y.y,v.y)-.5,Math.max(y.x,v.x)+.5,Math.max(y.y,v.y)+.5],this.objets=[g,b]}}function id(t,e,r,i="black",n=1.5,a="",{ecart:s=.5,mesureEnGras:o=!1,saillant:l=!0,colorArc:u="black",rayon:c=!1,couleurDeRemplissage:h="none",opaciteDeRemplissage:p=.5,arcEpaisseur:d=1}={}){return new mbe(t,e,r,i,n,a,{ecart:s,mesureEnGras:o,saillant:l,colorArc:u,rayon:c,couleurDeRemplissage:h,opaciteDeRemplissage:p,arcEpaisseur:d})}class fbe extends br{constructor(e,r="",i=.5,n="black",a=1,s=.5,o="black",l=!1){super();let u;const c=e.extremite1,h=e.extremite2,p=vi(Jt(c,h),c,90,i/e.longueur),d=He(xr(c,p),xr(h,p),n);qi(c,h)>1?d.styleExtremites="<->":d.styleExtremites=">-<",d.epaisseur=a,r===""?u=En(d.extremite1,d.extremite2,o,s,"cm",l):r.includes("\\")?u=wf(r,d.extremite1,d.extremite2,{distance:s,horizontal:l,letterSize:"normalsize",color:o}):u=dbe(r,d.extremite1,d.extremite2,o,s,l);const{xmin:m,xmax:f,ymin:v,ymax:y}=gi([d,u]);this.bordures=[m,v,f,y],this.objets=[d,u]}svg(e){let r="";if(this.objets==null)return r;this.objets.forEach(i=>{i.opacite=this.opacite});for(const i of this.objets)r+=`
	`+i.svg(e);return r}tikz(){let e="";if(this.objets==null)return e;this.objets.forEach(r=>{r.opacite=this.opacite});for(const r of this.objets)e+=`
	`+r.tikz();return e}}function Qi(t,e="",r=.5,i="black",n=1,a=.5,s="black",o=!1){return t.longueur<1?(window.notify("afficheCoteSegment : Segment trop petit pour cette fonction",{s:t}),new iB(t.extremite1.x,t.extremite1.y)):new fbe(t,e,r,i,n,a,s,o)}function Pc(t,e,r="||",i="black",n=.5){const a=Zi(t,e),s=He(t,e);let o;return e.x>t.x?o=-parseInt(s.angleAvecHorizontale.toFixed(0)):o=-parseInt(s.angleAvecHorizontale.toFixed(0))+180,new u7(r,a,o,i,n)}class gbe extends br{constructor(e="||",r="black",...i){super(),this.args=i,this.mark=e,this.stringColor=r,this.isEchelle=typeof i[i.length-1]=="number",this.echelle=this.isEchelle?i[i.length-1]:1;const n=function(a,s,o,l,...u){if(u.length===0)return[a,s,o,l];{const c=u.shift();return c instanceof e0?(a=Math.min(a,c.x1,c.x2),o=Math.max(o,c.x1,c.x2),s=Math.min(s,c.y1,c.y2),l=Math.max(l,c.y1,c.y2),n(a,s,o,l,...u)):c instanceof bs?(a=Math.min(a,c.x),o=Math.max(o,c.x),s=Math.min(s,c.y),l=Math.max(l,c.y),n(a,s,o,l,...u)):n(a,s,o,l,...u)}};this.bordures=n(1e3,1e3,-1e3,-1e3,...i)}svg(e){let r="";if(Array.isArray(this.args[0])){for(let n=0;n<this.args[0].length-1;n++){const a=Pc(this.args[0][n],this.args[0][n+1],this.mark,this.stringColor,this.echelle);r+=a.svg(e),r+=`
`}const i=Pc(this.args[0][this.args[0].length-1],this.args[0][0],this.mark,this.stringColor,this.echelle);r+=i.svg(e),r+=`
`}else if(this.args[0].constructor===e0)for(let i=0;i<(this.isEchelle?this.args.length-1:this.args.length);i++){const n=Pc(this.args[i].extremite1,this.args[i].extremite2,this.mark,this.stringColor,this.echelle);r+=n.svg(e),r+=`
`}else for(let i=0;i<(this.isEchelle?this.args.length-1:this.args.length);i+=2)if([this.args[i],this.args[i+1]].every(n=>n instanceof bs||n instanceof Vn)){const n=Pc(this.args[i],this.args[i+1],this.mark,this.stringColor,this.echelle);r+=n.svg(e),r+=`
`}return r=`<g id="${this.id}">${r}</g>`,r}tikz(){let e="";if(Array.isArray(this.args[0])){for(let r=0;r<this.args[0].length-1;r++)e+=Pc(this.args[0][r],this.args[0][r+1],this.mark,this.stringColor,this.echelle).tikz(),e+=`
`;e+=Pc(this.args[0][this.args[0].length-1],this.args[0][0],this.mark,this.stringColor).tikz(),e+=`
`}else if(this.args[0].constructor===e0){const r=this.isEchelle?this.args.length-1:this.args.length;for(let i=0;i<r;i++)e+=Pc(this.args[i].extremite1,this.args[i].extremite2,this.mark,this.stringColor).tikz(),e+=`
`}else{const r=this.isEchelle?this.args.length-1:this.args.length;for(let i=0;i<r;i+=2)[this.args[i],this.args[i+1]].every(n=>n instanceof bs||n instanceof Vn)&&(e+=Pc(this.args[i],this.args[i+1],this.mark,this.stringColor,this.echelle).tikz(),e+=`
`)}return e}}function ui(t="||",e="black",...r){return new gbe(t,e,...r)}class vbe extends br{constructor(e,r,i,n=.8,a="",s="black",o=1,l=1,u="none",c=.2,h=!1,p="",d=1,{echelleMark:m=1,angleArrondi:f=0}={}){super(),this.color=Ze(s),this.debut=e,this.centre=r,this.taille=n,this.mark=a,this.echelleMark=m,this.epaisseur=o,this.opacite=l,this.couleurDeRemplissage=Ze(u),this.opaciteDeRemplissage=c,this.angle=i instanceof Vn?Rt(e,r,i):i,this.tailleTexte=d,this.angleArrondi=f,this.objets=[];const v=$r(this.centre,this.debut,this.taille*20/Tt.pixelsParCm),y=zt(v,this.centre,this.angle/2),x=$r(this.centre,y,this.taille+.6*20/Tt.pixelsParCm),g=ri(this.centre,y),b=yt(Math.abs(this.angle),this.angleArrondi)+"^\\circ",k=ni(v,this.centre,this.angle,u!=="none",u,s);if(k.opacite=this.opacite,k.epaisseur=this.epaisseur,k.opaciteDeRemplissage=this.opaciteDeRemplissage,this.objets.push(k),this.mark!==""){const N=Ql(a,y,90-g.angleAvecHorizontale,s,this.echelleMark);this.objets.push(N)}if(h&&p===""){const N=Su(b,x.x+.2,x.y,{color:s,letterSize:Zye(this.taille)});this.objets.push(N)}else if(p!=="")if(p.includes("$")){x.positionLabel="center";const N=Su(p.substring(1,p.length-1),x.x,x.y,{color:s,backgroundColor:"none"});this.objets.push(N)}else this.objets.push(Ql(p,x,0,s,this.tailleTexte));const w=gi(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[w.xmin,w.ymin,w.xmax,w.ymax]}}function ybe(t,e){let i=He(t,e).angleAvecHorizontale;return i=i>90?i-180:i<-90?i+180:i,i}function LB(t,e,r=.5){const i=Zi(t,e),n=zt(t,i,-90);return $r(i,n,r)}function wf(t,e,r,{distance:i=.5,color:n="black",backgroundColor:a="none",letterSize:s="normalsize",horizontal:o=!1}={}){return Su(t,LB(e,r,i).x,LB(e,r,i).y,{orientation:o?0:ybe(e,r),color:n,backgroundColor:a,letterSize:s})}function bbe(t,e,r,i=2){const n=qi(e,t,i),a=qi(e,r,i),s=qi(t,r,i);if(n>0&&a>0){const o=Jt(e,t),l=Jt(e,r);if(lr(o.x*l.y-o.y*l.x,0))return o.x*l.x>0?0:o.x*l.x<0?180:o.y*l.y>0?0:180;{let u=(s**2-n**2-a**2)/(-2*n*a);u<-1&&(u=-1),u>1&&(u=1);const c=Math.acos(u);return yt(c*180/Math.PI,i)}}else return 0}function xbe(t){for(;t<=-180;)t=t+360;for(;t>180;)t=t-360;return t}function Rt(t,e,r,i=2){const n=qi(e,t,i),a=qi(e,r,i);if(n<1e-12||a<1e-12)return 0;const s=zt(t,e,90),o=Jt(e,r),l=Jt(e,s);return yt(Vve(yt(o.x*l.x+o.y*l.y,10))*bbe(t,e,r,10),i)}class zB extends br{constructor(e,r,i,n="black",a=.4,s=.5,o=1,l="none",u=1){super(),this.sommet=r,this.depart=e,this.arrivee=i,this.taille=a,this.color=Ze(n),this.couleurDeRemplissage=Ze(l),this.opaciteDeRemplissage=u;const c=$r(this.sommet,this.depart,this.taille*20/Tt.pixelsParCm),h=$r(this.sommet,this.arrivee,this.taille*20/Tt.pixelsParCm);let p;Rt(this.depart,this.sommet,this.arrivee)>0?p=zt(this.sommet,c,-90):p=zt(this.sommet,c,90);const d=gi([c,h,p],{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[d.xmin,d.ymin,d.xmax,d.ymax],this.epaisseur=s,this.opacite=o}svg(e){const r=$r(this.sommet,this.depart,this.taille*20/e),i=$r(this.sommet,this.arrivee,this.taille*20/e);let n;Rt(this.depart,this.sommet,this.arrivee)>0?n=zt(this.sommet,r,-90):n=zt(this.sommet,r,90);const a=er([this.sommet,r,n,i],this.color[0]);return this.couleurDeRemplissage[0]!=="none"&&(a.couleurDeRemplissage=[this.couleurDeRemplissage[0],this.couleurDeRemplissage[1]],a.opaciteDeRemplissage=this.opaciteDeRemplissage),a.epaisseur=this.epaisseur,a.opacite=this.opacite,this.id=a.id,a.svg(e)}tikz(){const e=$r(this.sommet,this.depart,this.taille/Tt.scale),r=$r(this.sommet,this.arrivee,this.taille/Tt.scale);let i;Rt(this.depart,this.sommet,this.arrivee)>0?i=zt(this.sommet,e,-90):i=zt(this.sommet,e,90);const n=er([this.sommet,e,i,r],this.color[1]);return this.couleurDeRemplissage[1]===""&&(n.couleurDeRemplissage=[this.couleurDeRemplissage[0],this.couleurDeRemplissage[1]],n.opaciteDeRemplissage=this.opaciteDeRemplissage,n.epaisseur=this.epaisseur,n.opacite=this.opacite),n.tikz()}svgml(e,r){const i=$r(this.sommet,this.depart,this.taille*20/e),n=$r(this.sommet,this.arrivee,this.taille*20/e);let a;return Rt(this.depart,this.sommet,this.arrivee)>0?a=zt(this.sommet,i,-90):a=zt(this.sommet,i,90),D3([i,a,n],this.color[0]).svgml(e,r)}tikzml(e){const r=$r(this.sommet,this.depart,this.taille/Tt.scale),i=$r(this.sommet,this.arrivee,this.taille/Tt.scale);let n;return Rt(this.depart,this.sommet,this.arrivee)>0?n=zt(this.sommet,r,-90):n=zt(this.sommet,r,90),D3([r,n,i],this.color[1]).tikzml(e)}}function Qr(t,e,r,i="black",n=.4,a=.5,s=1,o="none",l=1){return new zB(t,e,r,i,n,a,s,o,l)}function pr(t,e,r,i=.8,n="",a="black",s=1,o=1,l="none",u=.2,c=!1,h=!1,p="",d=1,{echelleMark:m=1,angleArrondi:f=0}={}){let v;return typeof r!="number"?v=Rt(t,e,r):v=r,(v===90||v===-90)&&!h?new zB(t,e,zt(t,e,v),a,i,s,o,l,u):new vbe(t,e,v,i,n,a,s,o,l,u,c,p,d,{echelleMark:m,angleArrondi:f})}class f7 extends br{constructor(e,r,i="black",n="none",a="none",s=1,o=0,l=1,u=1.1,c=1,h=10){super(),this.color=Ze(i),this.centre=e,this.rayon=r,this.couleurDeRemplissage=Ze(n),this.opaciteDeRemplissage=u,this.couleurDesHachures=Ze(a),this.epaisseurDesHachures=c,this.distanceDesHachures=h,this.bordures=[e.x-r,e.y-r,e.x+r,e.y+r],this.epaisseur=s,this.pointilles=o,this.opacite=l}svg(e){switch(this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}return this.hachures?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage=Ze("none")),Jp({motif:this.hachures,id:String(this.id),distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures[0],couleurDeRemplissage:this.couleurDeRemplissage[0],opaciteDeRemplissage:this.opaciteDeRemplissage})+`<circle cx="${this.centre.xSVG(e)}" cy="${this.centre.ySVG(e)}" r="${this.rayon*e}" stroke="${this.color[0]}" ${this.style} id="${this.id}" fill="url(#pattern${this.id})" />`):(this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),this.couleurDeRemplissage[0]===""?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage[0]}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<circle cx="${this.centre.xSVG(e)}" cy="${this.centre.ySVG(e)}" r="${this.rayon*e}" stroke="${this.color[0]}" ${this.style} id="${this.id}" />`)}tikz(){let e="";const r=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&r.push(`color=${this.color[1]}`),this.epaisseur!==1&&r.push(`line width = ${this.epaisseur}`),this.pointilles){case 1:r.push(" dash dot ");break;case 2:r.push(" densely dash dot dot ");break;case 3:r.push(" dash dot dot ");break;case 4:r.push(" dotted ");break;case 5:r.push(" dashed ");break}return this.opacite!==1&&r.push(`opacity = ${this.opacite}`),this.opaciteDeRemplissage!==1&&r.push(`fill opacity = ${this.opaciteDeRemplissage}`),this.couleurDeRemplissage[1]!==""&&this.couleurDeRemplissage[1]!=="none"&&this.couleurDeRemplissage[1]!==""&&r.push(`preaction={fill,color = ${this.couleurDeRemplissage[1]}}`),this.hachures&&r.push(Jp({motif:this.hachures,id:String(this.id),distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures[1],couleurDeRemplissage:this.couleurDeRemplissage[1],opaciteDeRemplissage:this.opaciteDeRemplissage})),r.length>0&&(e="["+r.join(",")+"]"),`\\draw${e} (${this.centre.x},${this.centre.y}) circle (${this.rayon});`}svgml(e){const r=Xp.create();if(r!=null){const i=r.circle(this.centre.x,this.centre.y,this.rayon*e);return r.destroy(),i}else return""}tikzml(e){let r="";const i=[];return this.color[1].length>1&&this.color[1]!=="black"&&i.push(`color=${this.color[1]}`),this.epaisseur!==1&&i.push(`line width = ${this.epaisseur}`),this.opacite!==1&&i.push(`opacity = ${this.opacite}`),i.push(`decorate,decoration={random steps , amplitude = ${e}pt}`),r="["+i.join(",")+"]",`\\draw${r} (${this.centre.x},${this.centre.y}) circle (${this.rayon});`}}function ns(t,e,r="black",i="none",n="none",a=1,s=0,o=1,l=1.1,u=1,c=10){return new f7(t,e,r,i,n,a,s,o,l,u,c)}class wbe extends br{constructor(e,r,i,n=!1,a="none",s="black",o=.2,l="none",u=1,c=1,h=10){super(),this.pointDepart=e,this.centre=r,this.rayons=n,this.typeObjet="arc",this.color=Ze(s),this.couleurDeRemplissage=Ze(a),this.opaciteDeRemplissage=o,this.opacite=u??1,this.epaisseurDesHachures=c??1,this.distanceDesHachures=h??10,this.pointilles=0,this.epaisseur=1,this.couleurDesHachures=Ze(l),this.angle=i instanceof Vn?Rt(e,r,i):i;const p=[],d=[];for(let v=1;v<9;v++)p.push(zt(e,r,v*this.angle/10).x),d.push(zt(e,r,v*this.angle/10).y);this.rayon=qi(r,e,2);const m=be(r.x+1,r.y);this.azimut=Rt(m,r,e),this.angleFin=this.azimut+this.angle;const f=xbe(this.angle);this.pointFinal=zt(e,r,f),this.bordures=[Math.min(e.x,this.pointFinal.x,...p)-.1,Math.min(e.y,this.pointFinal.y,...d)-.1,Math.max(e.x,this.pointFinal.x,...p)+.1,Math.max(e.y,this.pointFinal.y,...d)+.1]}svg(e){let r,i;if(this.angle>180?(r=0,i=1):this.angle<-180?(i=1,r=1):(i=0,r=1-(this.angle>0?1:0)),this.rayons){switch(this.style="",this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}return this.hachures!=null&&typeof this.hachures=="string"&&this.hachures!==""?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage=Ze("none")),Jp({motif:this.hachures,id:String(this.id),distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures[0]??"black",couleurDeRemplissage:this.couleurDeRemplissage[0],opaciteDeRemplissage:this.opaciteDeRemplissage})+`<path d="M${this.pointDepart.xSVG(e)} ${this.pointDepart.ySVG(e)} A ${this.rayon*e} ${this.rayon*e} 0 ${i} ${r} ${this.pointFinal.xSVG(e)} ${this.pointFinal.ySVG(e)} L ${this.centre.xSVG(e)} ${this.centre.ySVG(e)} Z" stroke="${this.color[0]}" ${this.style} id="${this.id}" fill="url(#pattern${this.id})"/>`):(this.couleurDeRemplissage[0]===""||this.couleurDeRemplissage[0]===void 0||this.couleurDeRemplissage[0]==="none"?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage[0]}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<path d="M${this.pointDepart.xSVG(e)} ${this.pointDepart.ySVG(e)} A ${this.rayon*e} ${this.rayon*e} 0 ${i} ${r} ${this.pointFinal.xSVG(e)} ${this.pointFinal.ySVG(e)} L ${this.centre.xSVG(e)} ${this.centre.ySVG(e)} Z" stroke="${this.color[0]}" ${this.style}/>`)}else{switch(this.style="",this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}return this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),this.couleurDeRemplissage[0]===""||this.couleurDeRemplissage[0]===void 0||this.couleurDeRemplissage[0]==="none"?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage[0]}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<path d="M${this.pointDepart.xSVG(e)} ${this.pointDepart.ySVG(e)} A ${this.rayon*e} ${this.rayon*e} 0 ${i} ${r} ${this.pointFinal.xSVG(e)} ${this.pointFinal.ySVG(e)}" stroke="${this.color[0]}" ${this.style} id="${this.id}" />`}}tikz(){let e="";const r=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&r.push(`color=${this.color[1]}`),this.epaisseur!==1&&r.push(`line width = ${this.epaisseur}`),this.pointilles){case 1:r.push(" dash dot ");break;case 2:r.push(" densely dash dot dot ");break;case 3:r.push(" dash dot dot ");break;case 4:r.push(" dotted ");break;case 5:r.push(" dashed ");break}this.opacite!==1&&r.push(`opacity = ${this.opacite}`),this.couleurDeRemplissage[1]!=="none"&&this.couleurDeRemplissage[1]!==""&&r.push(`preaction={fill,color = ${this.couleurDeRemplissage[1]},opacity = ${this.opaciteDeRemplissage}}`),this.hachures!=null&&typeof this.hachures=="string"&&this.hachures!==""&&r.push(Jp({motif:this.hachures,id:String(this.id),distanceDesHachures:this.distanceDesHachures,couleurDesHachures:this.couleurDesHachures[1],couleurDeRemplissage:this.couleurDeRemplissage[1],opaciteDeRemplissage:this.opaciteDeRemplissage})),r.length>0&&(e="["+r.join(",")+"]");const i=qi(this.centre,this.pointDepart,2);return this.rayons?`\\draw  ${e} (${this.pointFinal.x},${this.pointFinal.y}) -- (${this.centre.x},${this.centre.y}) -- (${this.pointDepart.x},${this.pointDepart.y}) arc (${this.azimut}:${this.angleFin}:${i}) ;`:`\\draw${e} (${this.pointDepart.x},${this.pointDepart.y}) arc (${this.azimut}:${this.angleFin}:${i}) ;`}svgml(e){const r=qi(this.pointDepart,this.centre,2)*e*2,i=r,n=this.rayons,a=be(this.centre.x+1,this.centre.y),s=Z8(Rt(this.pointDepart,this.centre,a)),o=s-Z8(this.angle),l=Xp.create();if(l!=null){const u=l.arc(this.centre.xSVG(e),this.centre.ySVG(e),r,i,o>s?s:o,o>s?o:s,n);return l.destroy(),u}else return""}tikzml(e){let r="";const i=[];return this.color[1].length>1&&this.color[1]!=="black"&&i.push(`color=${this.color[1]}`),this.epaisseur!==1&&i.push(`line width = ${this.epaisseur}`),this.opacite!==1&&i.push(`opacity = ${this.opacite}`),i.push(`decorate,decoration={random steps , amplitude = ${e}pt}`),r="["+i.join(",")+"]",`\\draw${r} (${this.pointDepart.x},${this.pointDepart.y}) arc (${this.azimut}:${this.angleFin}:${yt(qi(this.centre,this.pointDepart,2),2)}) ;`}}function ni(t,e,r,i=!1,n="none",a="black",s=.2,o="none"){return new wbe(t,e,r,i,n,a,s,o)}function A3(t,e,r=20,i="gray",n=1.1,a=1,s=0){const o=zt(e,t,-r/2),l=ni(o,t,r,!1);return l.epaisseur=a,l.opacite=n,l.color=Ze(i),l.pointilles=s,l}const Ua=(t,e,r)=>{Object.defineProperty(t,e,{enumerable:!0,get:r,set:()=>{throw Error(`${e} est en lecture seule`)}})};function Mbe(t){if(t==null)return window.notify("rationnalise est appelé avec une valeur undefined ou nulle",{x:t}),new _t(0,1);if(t instanceof _t)return t;if(t instanceof Cr){const e=t.toFraction(1e4);return new _t(e[0].toNumber(),e[1].toNumber())}if(typeof t=="number"){const e=new Cr(t.toFixed(5)).toFraction(1e4);return new _t(e[0].toNumber(),e[1].toNumber())}return window.notify("rationnalise est appelé avec un nombre dont le format est inconnu :",{x:t}),t}function kbe(t,e){let r,i;if(e==null)if(t instanceof Cr)[r,i]=t.toFraction(1e4).map(a=>a.toNumber());else{const n=Mbe(t);r=n.num,i=n.den}else r=Number(t),i=Number(e);if(!isNaN(r)&&!isNaN(i)){let n=Math.max(ja(r),ja(i));if(n>9){const a=yt(r/i,12);if(ja(a)<9)r=a,i=1,n=Jh(ja(r),ja(i));else{const s=yt(i/r,12);if(ja(s)<9)i=s,r=1,n=Jh(ja(r),ja(i));else{const o=yt(1/r,12),l=yt(1/i,12);if(n=Jh(ja(o),ja(l)),n<13)i=o,r=l;else{let c=1,h=i,p=l;for(;j6(ja(h),ja(p))>9&&c<2e3;)c+=c%5===3?4:2,h=yt(i*c,10),p=yt(l*c,10);let d=1,m=r,f=o;for(;j6(ja(m),ja(f))>9&&d<2e3;)d+=d%5===3?4:2,m=yt(r*d,10),f=yt(o*d,10);ja(m)<10?ja(h)<10?(r=yt(m*c,10),i=yt(h*d,10)):(r=yt(m*p,10),i=c*d):ja(h)<10?(i=yt(h*f,10),r=c*d):(i=yt(f*c,10),r=yt(p*d,10)),n=Jh(ja(r),ja(i))}}}}return i=Js(i*Math.pow(10,n)),r=Js(r*Math.pow(10,n)),[r,i]}else return window.notify("Fraction Etendue : le constructeur a reçu des valeurs impossibles à mettre sous la forme d'une fraction",{n:t,d:e}),[NaN,NaN]}class _t{constructor(e,r){const[i,n]=kbe(e,r);if(isNaN(i)||isNaN(n))throw Error(`Fraction Etendue les données ne permettent pas de définir une fraction : n=${e}, d=${r}`);const a=Math.abs(i)===1&&Math.abs(n)===1?1:Qh(Math.abs(i),Math.abs(n)),s=i*n;this.s=s===0?0:s<0?-1:1;const o=this.s*Math.abs(i/a),l=Math.abs(n/a);this.num=i,this.den=n,this.n=Math.abs(i/a),this.d=Math.abs(n/a);let u;Ua(this,"sign",()=>(u||(u=this.s),u));let c;Ua(this,"signe",()=>(c||(c=this.s),c)),this.type="FractionEtendue",this.numIrred=o,this.denIrred=l;let h;Ua(this,"pourcentage",()=>(h||(h=yt(this.s*this.n*100/this.d,2)),h));let p;Ua(this,"signeString",()=>(p||(p=this.s===-1?"-":"+"),p));let d;Ua(this,"texFraction",()=>(d||(d=this.s===0?"0":n===1?`${de(i,0)}`:`\\dfrac{${de(i,0)}}{${de(n,0)}}`),d));let m;Ua(this,"texFractionSR",()=>(m||(m=`\\dfrac{${oB(this.num)}}{${oB(this.den)}}`),m));let f;Ua(this,"texFSD",()=>(f||(f=this.s===0?"0":this.s===-1?Math.abs(n)===1?"-"+de(Math.abs(i),0):`-\\dfrac{${de(Math.abs(i),0)}}{${de(Math.abs(n),0)}}`:Math.abs(n)===1?de(Math.abs(i),0):`\\dfrac{${de(Math.abs(i),0)}}{${de(Math.abs(n),0)}}`),f));let v;Ua(this,"texFractionSignee",()=>(v||(v=this.s===-1?this.texFSD:"+"+this.texFSD),v));let y;Ua(this,"valeurDecimale",()=>(y||(y=Number((this.num/this.den).toFixed(6))),y));let x;Ua(this,"texFractionSaufUn",()=>(x||(x=this.valeurDecimale===-1?"-":this.valeurDecimale===1?"":this.texFSD),x));let g;Ua(this,"texFractionSaufUnSignee",()=>(g||(g=this.valeurDecimale===-1?"-":this.valeurDecimale===1?"+":this.texFractionSignee),g));let b;Ua(this,"texFSP",()=>(b||(b=this.s===0?"0":this.s>0?this.texFSD:"\\left("+this.texFSD+"\\right)"),b));let k;Ua(this,"texParentheses",()=>(k||(k=this.s===0?"0":n===1&&this.s===1?this.texFSD:"\\left("+this.texFSD+"\\right)"),k));let w;Ua(this,"texFractionSimplifiee",()=>(w||(w=this.s===0?"0":this.denIrred===1?`${this.s===-1?"-":""}${de(Math.abs(o),0)}`:`${this.s===-1?"-":""}\\dfrac{${de(Math.abs(o),0)}}{${de(Math.abs(l),0)}}`),w));let N;Ua(this,"ecritureAlgebrique",()=>(N||(N=this.s===0?"":this.s===1?"+"+this.texFSD:this.texFSD),N));let A;Ua(this,"ecritureParentheseSiNegatif",()=>(A||(A=this.s===0?"0":this.s===1?this.texFSD:"\\left("+this.texFSD+"\\right)"),A));let $;Ua(this,"estEntiere",()=>($||($=this.d===1),$));let D;Ua(this,"estParfaite",()=>(D||(D=Number.isInteger(Math.sqrt(this.n))&&Number.isInteger(Math.sqrt(this.d))),D));let _;Ua(this,"estIrreductible",()=>(_||(_=Qh(Math.abs(this.num),Math.abs(this.den))===1&&this.den!==1),_))}toLatex(){return this.texFSD.replace("\\frac","\\dfrac")}toNumber(){return this.num/this.den}toString(){return window.notify("Pour obtenir du Latex avec une FractionEtendue, il faut utiliser sa propriété texFraction !",{numerateur:this.num,denominateur:this.den}),this.texFraction}valueOf(){return this.toNumber()}sommeFractions(...e){let r=new _t(this.num,this.den);if(r!=null)for(const i of e)r=r.sommeFraction(i);return r==null?(window.notify("il se passe quelque chose de travers dans sommeFractions() avec les fractions passées",{fractions:e}),this):r.simplifie()}simplifie(){return new _t(_n(this.num)*this.signe/Qh(_n(this.num),_n(this.den)),_n(this.den)/Qh(_n(this.num),_n(this.den)))}valeurAbsolue(){return new _t(_n(this.num),_n(this.den))}oppose(){return new _t(-1*this.num,this.den)}reduire(e){const r=$i(this.num,e),i=$i(this.den,e);return new _t(r,i)}isEqual(e){return e instanceof _t?e.differenceFraction(this).simplifie().num===0:new _t(e,1).differenceFraction(this).simplifie().num===0}differenceFraction(e){return e instanceof _t||(e=new _t(e,1)),this.sommeFraction(e.oppose())}multiplieEntier(e){return Number.isInteger(e)?new _t(this.num*e,this.den):(window.notify(`multiplieEntier() : l'argument n'est pas entier : n=${e}... j'arrondis !`,{n:Math.round(e)}),new _t(this.num*Math.round(e),this.den))}entierDivise(e){return Number.isInteger(e)?new _t(this.num,e*this.den):(window.notify(`entierDivise() : l'argument n'est pas entier : n=${e}... j'arrondis !`,{n:Math.round(e)}),new _t(this.num,this.den*Math.round(e)))}ajouteEntier(e){return Number.isInteger(e)?new _t(this.num+e*this.den,this.den):(window.notify(`ajouteEntier() : l'argument n'est pas entier : n=${e}... j'arrondis !`,{n:Math.round(e)}),new _t(this.num+Math.round(e)*this.den,this.den))}entierMoinsFraction(e){return Number.isInteger(e)?new _t(e*this.den-this.num,this.den):(window.notify(`entierMoinsFraction() : l'argument n'est pas entier : n=${e}... j'arrondis !`,{n:Math.round(e)}),new _t(Math.round(e)*this.den-this.num,this.den))}superieurLarge(e){return e instanceof _t||(e=new _t(e,1)),this.num*e.den>=e.num*this.den}superieurstrict(e){return e instanceof _t||(e=new _t(e,1)),this.num*e.den>e.num*this.den}inferieurstrict(e){return e instanceof _t||(e=new _t(e,1)),this.differenceFraction(e).valeurDecimale<0}inferieurlarge(e){return e instanceof _t||(e=new _t(e,1)),this.num*e.den<=e.num*this.den}estUneSimplification(e){if(e.num==null||e.den==null)throw Error(`estUneSimplification(f2) : f2 n'est pas une FractionEtendue ! f2=${JSON.stringify(e)}`);return this.isEqual(e)&&_n(this.num)<_n(e.num)}sommeFraction(e){return e instanceof _t?this.den===e.den?new _t(this.num+e.num,e.den):[this.den,e.den].indexOf(Ip(this.den,e.den))!==-1?this.den===Ip(this.den,e.den)?new _t(this.num+e.num*Js(this.den/e.den),this.den):new _t(e.num+this.num*Js(e.den/this.den),e.den):new _t(this.num*Js(Ip(this.den,e.den)/this.den)+e.num*Js(Ip(this.den,e.den)/e.den),Ip(this.den,e.den)):(window.notify(`FractionEtendue.sommeFraction(fractionAAjouter) a été appelée avec autre chose qu'une  FractionMathjs  étendue, alors que c'est obligatoire !
Voilci l'argument passé : ${e}... je retourne la fraction de départ`,{argument:e}),this)}texSommeFraction(e,r=!0){if(e instanceof _t){const i=new _t(e.num,e.den);i.den<0&&(i.den=-i.den,i.num=-i.num);const n=new _t(this.num,this.den);this.den<0&&(n.den=-n.den,n.num=-n.num);let a=`${n.texFraction}+${i.texFraction}=`;const s=nye(n.den,i.den),o=s/n.den,l=s/i.den;if((o!==1||l!==1)&&(o!==1?(a+=`\\dfrac{${n.num}\\times ${o}}{${n.den}\\times ${o}}+`,a+=l===1?`${i.texFraction}=`:`\\dfrac{${String(i.num)}\\times ${String(l)}}{${String(i.den)}\\times ${String(l)}}=`):a+=`${n.texFraction}+\\dfrac{${String(i.num)}\\times ${String(l)}}{${String(i.den)}\\times ${String(l)}}=`,o!==1?(a+=`\\dfrac{${String(n.num*o)}}{${String(n.den*o)}}+`,a+=l===1?`${i.texFraction}=`:`\\dfrac{${String(i.num*l)}}{${String(i.den*l)}}=`):a+=`${n.texFraction}+\\dfrac{${String(i.num*l)}}{${String(i.den*l)}}=`),a+=`\\dfrac{${String(n.num*o)}${iye(i.num*l)}}{${String(s)}}=`,a+=`\\dfrac{${String(n.num*o+i.num*l)}}{${String(s)}}`,!r)return a;const u=new _t(n.num*o+i.num*l,s);return u.estIrreductible||(a+=`=${u.texFractionSimplifiee}`),a}else return window.notify("texSommeFraction : pour l'instant on n'ajoute que une fractionEtendue et rien d'autre",{fraction:JSON.stringify(e)}),""}produitFraction(e){return e instanceof _t||(e=new _t(e,1)),this.signe*e.signe===1?new _t(Math.abs(this.num*e.num),Math.abs(this.den*e.den)):new _t(-Math.abs(this.num*e.num),Math.abs(this.den*e.den))}produitFractions(...e){let r=new _t(this.num,this.den);for(const i of e)r=r.produitFraction(i);return r.simplifie()}texProduitFraction(e,r="none"){return this.estEntiere?`${this.texFraction}\\times ${e.texFraction}=\\dfrac{${`${this.simplifie().num}\\times ${qo(e.num)}`}}{${qo(e.den)}}${r==="none"||this.produitFraction(e).estIrreductible?"=\\dfrac{"+this.num*e.num+"}{"+this.den*e.den+"}":this.produitFraction(e).texSimplificationAvecEtapes(r)}`:`${this.texFraction}\\times ${e.texFraction}=\\dfrac{${this.num}\\times ${qo(e.num)}}{${this.den} \\times' ${qo(e.den)}}${r==="none"||this.produitFraction(e).estIrreductible?"=\\dfrac{"+this.num*e.num+"}{"+this.den*e.den+"}":`${this.den!==e.num&&e.den!==this.num?"=\\dfrac{"+(kn(this.num)||"1")+"\\times "+(kn(e.num)||"1")+"}{"+(kn(this.den)||"1")+"\\times "+(kn(e.den)||"1")+"}"+this.produitFraction(e).texSimplificationAvecEtapes(r):`${this.den===e.num?"=\\dfrac{"+this.num+"}{"+e.den+"}"+new _t(this.num,e.den).texSimplificationAvecEtapes(r):"=\\dfrac{"+e.num+"}{"+this.den+"}"+new _t(e.num,this.den).texSimplificationAvecEtapes(r)}`}`}`}texDiviseFraction(e,r="none",i="/"){const n="\\phantom{\\dfrac{(_(^(}{(_(^(}}",a="\\phantom{(_(^(}";return this.estEntiere?e.inverse().estEntiere&&e.num===1?i==="/"?`\\dfrac{${a+this.texFraction+a}}{${(e.estEntiere?a:n)+e.texFraction+(e.estEntiere?a:n)}}=${this.simplifie().texFSD}\\times ${e.inverse().simplifie().texFSP}=${this.simplifie().num*e.inverse().simplifie().num}`:`${this.simplifie().texFraction}\\div${e.texFraction}=${this.simplifie().texFSD}\\times ${e.inverse().simplifie().texFSP}=${this.simplifie().num*e.inverse().simplifie().num}`:i==="/"?`\\dfrac{${a+this.texFraction+a}}{${(e.estEntiere?a:n)+e.texFraction+(e.estEntiere?a:n)}}=${this.texFractionSimplifiee}\\times ${e.inverse().texFraction}=\\dfrac{${this.texFractionSimplifiee} \\times ${qo(e.den)}}{${qo(e.num)}}${r==="none"||this.diviseFraction(e).estIrreductible?`=\\dfrac{${this.simplifie().num*e.den}}{${e.num}}`:`=\\dfrac{${kn(this.num)}\\times ${kn(e.den)}}{${kn(this.den)}\\times ${kn(e.num)}}${this.diviseFraction(e).texSimplificationAvecEtapes(r)}`}`:`${this.texFraction}\\div${e.texFraction}=${this.texFractionSimplifiee}\\times ${e.inverse().texFraction}=\\dfrac{${this.texFractionSimplifiee+"\\times "+qo(e.den)}}{${qo(e.num)}}${r==="none"||this.diviseFraction(e).estIrreductible?`=\\dfrac{${this.simplifie().num*e.den}}{${e.num}}`:`=\\dfrac{${kn(this.num)} \\times ${kn(e.den)}}{${kn(this.den)} \\times ${kn(e.num)}}${this.diviseFraction(e).texSimplificationAvecEtapes(r)}`}`:e.inverse().estEntiere&&e.num===1?i==="/"?`\\dfrac{${n+this.texFraction+n}}{${(e.estEntiere?a:n)+e.texFraction+(e.estEntiere?a:n)}}=${this.texFraction}\\times ${e.inverse().simplifie().texFSP}=\\dfrac{${this.num+"\\times "+e.inverse().simplifie().texFSP}}{${this.den}}
      ${r==="none"||this.diviseFraction(e).estIrreductible?"=\\dfrac{"+this.num*e.den+"}{"+this.den*e.num+"}":"=\\dfrac{"+kn(this.num)+"\\times "+kn(e.den)+"}{"+kn(this.den)+"}"+this.diviseFraction(e).texSimplificationAvecEtapes(r)}`:`${this.texFraction}\\div${e.texFraction}=${this.texFraction}\\times ${e.inverse().texFractionSimplifiee}=\\dfrac{${this.num+"\\times "+e.inverse().texFractionSimplifiee}}{${this.den}}${r==="none"||this.diviseFraction(e).estIrreductible?`=\\dfrac{${this.num*e.den}}{${this.den*e.num}}`:`=\\dfrac{${kn(this.num)}\\times ${kn(e.den)}}{${kn(this.den)}}${this.diviseFraction(e).texSimplificationAvecEtapes(r)}`}`:i==="/"?`\\dfrac{${n+this.texFraction+n}}{${(e.estEntiere?a:n)+e.texFraction+(e.estEntiere?a:n)}}=${this.texFraction}\\times ${e.inverse().texFraction}=\\dfrac{${this.num+"\\times "+qo(e.den)}}{${this.den+"\\times "+qo(e.num)}}${r==="none"||this.diviseFraction(e).estIrreductible?`=\\dfrac{${this.num*e.den}}{${this.den*e.num}}`:`=\\dfrac{${kn(this.num)}\\times ${kn(e.den)}}{${kn(this.den)}\\times ${kn(e.num)}}${this.diviseFraction(e).texSimplificationAvecEtapes(r)}`}`:`${this.texFraction}\\div${e.texFraction}=${this.texFraction}\\times ${e.inverse().texFraction}=\\dfrac{${this.num+"\\times "+e.den}}{${this.den+"\\times "+e.num}}${r==="none"||this.diviseFraction(e).estIrreductible?`=\\dfrac{${this.num*e.den}}{${this.den*e.num}}`:`=\\dfrac{${kn(this.num)}\\times ${kn(e.den)}}{${kn(this.den)}\\times ${kn(e.num)}}${this.diviseFraction(e).texSimplificationAvecEtapes(r)}`}`}puissanceFraction(e){return Number.isInteger(e)?new _t(this.num**e,this.den**e):(window.notify("puissanceFraction() l'argument n'est pas un entier j'arrondis !",{argument:e}),new _t(this.num**Math.round(e),this.den**Math.round(e)))}inverse(){if(this.num===0)throw Error(`Division par 0 dans inverse() : ${JSON.stringify(this)}`);return new _t(this.den,this.num)}diviseFraction(e){return e instanceof _t?this.produitFraction(e.inverse()):(window.notify("FractionEtendue.diviseFraction() : l'argument n'est pas une fraction",{f2:e}),typeof e=="number"?this.multiplieEntier(1/e):(window.notify("FractionEtendue.diviseFraction() : l'argument n'est pas un nombre, je retourne la fraction de départ.",{f2:e}),this))}diviseEntier(e){return Number.isInteger(e)?new _t(e*this.den,this.num).simplifie():(window.notify("diviseEntier() : l'argument n'est pas un entier, j'arrondis",{n:e}),new _t(Math.round(e)*this.den,this.num).simplifie())}texQuotientFraction(e){if(!(e instanceof _t))if(window.notify("texQuotientFraction() : l'argument n'est pas une fraction",{f2:e}),typeof e=="number")e=new _t(e,1);else return window.notify("texQuotientFraction() : l'argument n'est pas un nombre, je retourne la fraction de départ.",{f2:e}),this.texFraction;return`${this.texFraction}\\div ${e.texFraction}=${this.texFraction}\\times ${e.inverse().texFraction}=\\dfrac{${this.num+"\\times"+e.den}}{${this.den+"\\times"+e.num}}=\\dfrac{${this.num*e.den}}{${this.den*e.num}}`}texSimplificationAvecEtapes(e=!1,r=""){if(this.isEqual(0)||this.estIrreductible&&this.num>0&&this.den>0)return"";if(this.estIrreductible&&this.num*this.den<0)return r===""?`=${this.texFSD}`:`=${Ge(this.texFSD,r)}`;if(e){const i=this.sign===-1?"-":"",n=Math.abs(this.num),a=Math.abs(this.den),s=pf(n),o=pf(a);let l="=";const u=[],c=[];s.forEach(function(v){u.push([v,!0])}),o.forEach(function(v){c.push([v,!0])});for(let f=0;f<o.length;){for(let v=0;v<=s.length;){if(o[f]===s[v]){c[f]=[o[f],!1],u[v]=[s[v],!1],s[v]=1,o[f]=1;break}v++}f++}let h=1,p=1;for(const f of s)h=h*f;for(const f of o)p=p*f;let d="",m="";for(const f in u)u[f][1]===!0?d+=u[f][0]+"\\times":d+="\\cancel{"+u[f][0]+"}\\times";d=d.substring(0,d.length-6);for(const f in c)c[f][1]===!0?m+=c[f][0]+"\\times":m+="\\cancel{"+c[f][0]+"}\\times";return m=m.substring(0,m.length-6),l+=`${i}\\dfrac{${d}}{${m}}`,l+=r!==""?`=${Ge(`${i}${new _t(h,p).simplifie().texFraction}`,r)}`:`=${i}${new _t(h,p).simplifie().texFraction}`,l}else{const i=this.sign===-1?"-":"",n=Math.abs(this.num),a=Math.abs(this.den),s=Qh(n,a);if(s!==1){const o=`=${i}\\dfrac{${n/s}${Ge("\\times"+qo(s),"#2563a5")} }{${a/s}${Ge("\\times"+qo(s),"#2563a5")}}=`;let l;return Math.abs(a/s)!==1?l=`${i}\\dfrac{${Math.abs(n/s)}}{${Math.abs(a/s)}}`:l=`${i}${Math.abs(n/s)}`,r!==""&&(l=Ge(l,r)),o+l}else{let o;return lr(Math.abs(a/s),1)?o=`=${i}${Math.abs(n/s)}`:o=`=${i}\\dfrac{${Math.abs(n/s)}}{${Math.abs(a/s)}}`,r!==""&&(o=Ge(o,r)),o}}}fractionDecimale(){const e=Math.abs(this.simplifie().den),r=Math.abs(this.simplifie().num),i=this.simplifie().signe,n=pf(e);let a=0,s=0;for(const o of n)if(o===2)a++;else if(o===5)s++;else return window.notify("FractionEtendue.valeurDecimale :  FractionMathjs  non décimale",{fraction:this}),this;return s===a?new _t(r*i,e):s>a?new _t(i*r*2**(s-a),e*2**(s-a)):new _t(i*r*5**(a-s),e*5**(a-s))}texRacineCarree(e=!1){if(this.num===0)return"0";{if(this.estParfaite){const o=this.racineCarree();return o?o.texFraction:`\\sqrt{${this.texFraction}}`}if(this.signe===-1)return"Not a real number !";let r=l1(Math.abs(this.den)),i,n;this.estEntiere?(i=l1(Math.abs(this.num)),i[0]!==1?n=e?`\\sqrt{${Math.abs(this.num)}}=`:"":n=""):n=e?`\\sqrt{\\dfrac{${this.num}}{${this.den}}}=`:"",r[1]!==1?(this.estEntiere||(n+=e?`\\sqrt{\\dfrac{${Math.abs(this.num)}\\times ${r[1]}}{${Math.abs(this.den)}\\times ${r[1]}}}=`:"",n+=e?`\\sqrt{\\dfrac{${Math.abs(this.num*r[1])}}{${Math.abs(this.den*r[1])}}}=`:""),i=l1(Math.abs(this.num*r[1])),r=l1(Math.abs(this.den*r[1]))):i=l1(Math.abs(this.num));const a=new _t(i[0],r[0]).simplifie(),s=new _t(i[1],r[1]).simplifie();return e&&a.valeurDecimale!==1&&(a.denIrred===1?(n+=e?`\\sqrt{${i[0]}^2\\times${i[1]}}=`:"",n+=e?`${i[0]}${i[1]!==1?"\\sqrt{"+i[1]+"}":"}"}`:""):i[0]!==1?(n+=e?`\\sqrt{\\dfrac{${i[0]}^2${i[1]!==1?"\\times "+i[1]:""}}{${r[0]}^2${r[1]!==1?"\\times"+r[1]:""}}}=`:"",n+=e?`\\dfrac{${i[0]}${i[1]!==1?"\\times\\sqrt{"+i[1]+"}":""}}{${r[0]}${r[1]!==1?"\\times\\sqrt{"+r[1]+"}":""}}=`:""):r[1]!==1?n+=e?`\\sqrt{\\dfrac{${i[1]}}{${r[0]}^2\\times ${r[1]}}}=`:"":n+=e?`\\sqrt{\\dfrac{${i[1]}}{${r[0]}^2}}=`:""),yt(i[1]/r[1],6)===1?n+a.texFraction:a.numIrred===1&&a.denIrred!==1?s.denIrred===1?a.valeurDecimale===1?n:n+`\\dfrac{\\sqrt{${s.numIrred}}}{${a.denIrred}}`:(a.valeurDecimale===1?n:n+a.texFraction)+`\\sqrt{${s.toLatex()}}`:(a.valeurDecimale===1?n:n+a.texFraction)+`\\sqrt{${s.toLatex()}}`}}racineCarree(){if(this.isEqual(0))return new _t(0,1);const e=l1(Math.abs(this.num)),r=l1(Math.abs(this.den)),i=new _t(e[0],r[0]).simplifie();return new _t(e[1],r[1]).simplifie().valeurDecimale!==1||this.signe===-1?!1:i}representationIrred(e,r,i,n=0,a="gateau",s="gray",o=0,l=1,u=1,c=""){let h,p;const d=[],m=n3(this.numIrred,this.denIrred);h=this.numIrred;const f=function(v,y,x="black",g=1){const b=be(v,y+.2,""),k=be(v,y-.2,""),w=He(b,k,x);return w.epaisseur=g,w};if(a==="gateau"){for(p=0;p<m;p++){const v=be(e+p*2*(i+.5),r),y=ns(v,i);d.push(y);for(let g=0;g<this.denIrred;g++){const b=He(v,zt(be(e+i+p*2*(i+.5),r),v,90-g*360/this.denIrred));d.push(b)}let x=zt(be(e+i+p*2*(i+.5),r),v,90-n*360/this.denIrred);for(let g=0;g<Math.min(this.denIrred,h);g++){const b=ni(x,v,-360/this.denIrred,!0,s);b.opacite=.3,x=zt(x,v,-360/this.denIrred),d.push(b)}h-=this.denIrred}if(Math.abs(this.numIrred)%Math.abs(this.denIrred)!==0){const v=be(e+p*2*(i+.5),r),y=ns(v,i);d.push(y);for(let g=0;g<this.denIrred;g++){const b=He(v,zt(be(e+i+p*2*(i+.5),r),v,90-g*360/this.denIrred));d.push(b)}let x=zt(be(e+i+p*2*(i+.5),r),v,90-n*360/this.denIrred);for(let g=0;g<Math.min(this.denIrred,h);g++){const b=ni(x,v,-360/this.denIrred,!0,s);b.opacite=.3,x=zt(x,v,-360/this.denIrred),d.push(b)}}}else if(a==="segment"){for(p=0;p<m;p++){const g=be(e+p*i,r),b=xr(g,Jt(i,0)),k=He(g,b);k.styleExtremites="-|",d.push(k);for(let N=0;N<this.denIrred;N++){const A=He(xr(g,Jt(N*i/this.denIrred,0)),xr(g,Jt((N+1)*i/this.denIrred,0)));A.styleExtremites="|-",d.push(A)}const w=He(g,be(g.x+Math.min(h,this.denIrred)*i/this.denIrred,g.y),s);w.opacite=.4,w.epaisseur=6,d.push(w),h-=this.denIrred}const v=be(e+p*i,r),y=xr(v,Jt(i,0)),x=He(v,y);x.styleExtremites="-|",d.push(x);for(let g=0;g<this.denIrred;g++){const b=He(xr(v,Jt(g*i/this.denIrred,0)),xr(v,Jt((g+1)*i/this.denIrred,0)));b.styleExtremites="|-",d.push(b)}if(h>0){const g=He(v,be(v.x+Math.min(this.numIrred,this.denIrred)*i/this.denIrred,v.y),s);g.opacite=.4,g.epaisseur=6,d.push(g)}if(d.push(f(e,r)),typeof o=="number"&&typeof l=="number")for(p=0;p<=m+1;p++)d.push(na(Co(o+p*(l-o),0),e+i*p,r-.6,0,"black",u,"milieu",!0,1));else o!=null&&d.push(na(String(o),e,r-.6,0,"black",u,"milieu",!0,1)),l!=null&&d.push(na(String(l),e+i,r-.6,0,"black",u,"milieu",!0,1)),c!=null&&d.push(na(c,e+i*this.numIrred/this.denIrred,r-.6,0,"black",u,"milieu",!0,1))}else{let v;this.denIrred%6===0?v=6:this.denIrred%5===0?v=5:this.denIrred%4===0?v=4:this.denIrred%3===0?v=3:this.denIrred%2===0?v=2:v=1;const y=Math.max(i/v,1);for(p=0;p<m;p++){for(let x=0;x<v;x++)for(let g=0;g<this.denIrred/v;g++){const b=be(e+p*(v*y+1)+x*y,r+g*y),k=xr(b,Jt(y,0)),w=Fc(b,k,"black");w.couleurDeRemplissage=Ze(s),w.opaciteDeRemplissage=.4,d.push(w)}h-=this.denIrred}if(h>0){for(let x=0;x<v;x++)for(let g=0;g<this.denIrred/v;g++){const b=be(e+m*(v*y+1)+x*y,r+g*y),k=xr(b,Jt(y,0)),w=Fc(b,k,"black");d.push(w)}for(let x=0;x<h;x++){const g=be(e+m*(v*y+1)+x%v*y,r+n3(x,v)*y),b=xr(g,Jt(y,0)),k=Fc(g,b,"black");k.couleurDeRemplissage=Ze(s),k.opaciteDeRemplissage=.4,d.push(k)}}}return d}representation(e,r,i,n=0,a="gateau",s="gray",o=0,l=1,u=1,c=""){const h=[];let p,d;const m=n3(Math.abs(this.num),Math.abs(this.den));p=Math.abs(this.num);const f=function(v,y,x="black",g=1){const b=be(v,y+.2),k=be(v,y-.2),w=He(b,k,x);return w.epaisseur=g,w};if(a==="gateau"){for(d=0;d<m;d++){const v=be(e+d*2*(i+.5),r),y=ns(v,i);h.push(y);for(let g=0;g<this.den;g++){const b=He(v,zt(be(e+i+d*2*(i+.5),r),v,90-g*360/this.den));h.push(b)}let x=zt(be(e+i+d*2*(i+.5),r),v,90-n*360/this.den);for(let g=0;g<Math.min(this.den,p);g++){const b=ni(x,v,-360/this.den,!0,s);b.opacite=.3,x=zt(x,v,-360/this.den),h.push(b)}p-=this.den}if(this.num%this.den!==0){const v=be(e+d*2*(i+.5),r),y=ns(v,i);h.push(y);for(let g=0;g<this.den;g++){const b=He(v,zt(be(e+i+d*2*(i+.5),r),v,90-g*360/this.den));h.push(b)}let x=zt(be(e+i+d*2*(i+.5),r),v,90-n*360/this.den);if(this.num%this.den!==0)for(let g=0;g<Math.min(this.den,p);g++){const b=ni(x,v,-360/this.den,!0,s);b.opacite=.3,x=zt(x,v,-360/this.den),h.push(b)}}}else if(a==="segment"){for(d=0;d<m;d++){const g=be(e+d*i,r),b=xr(g,Jt(i,0)),k=He(g,b);k.styleExtremites="-|",h.push(k);for(let N=0;N<this.den;N++){const A=He(xr(g,Jt(N*i/this.den,0)),xr(g,Jt((N+1)*i/this.den,0)));A.styleExtremites="|-",h.push(A)}const w=He(g,be(g.x+Math.min(p,this.den)*i/this.den,g.y),s);w.opacite=.4,w.epaisseur=6,h.push(w),p-=this.den}const v=be(e+d*i,r),y=xr(v,Jt(i,0)),x=He(v,y);x.styleExtremites="-|",h.push(x);for(let g=0;g<this.den;g++){const b=He(xr(v,Jt(g*i/this.den,0)),xr(v,Jt((g+1)*i/this.den,0)));b.styleExtremites="|-",h.push(b)}if(p>0){const g=He(v,be(v.x+Math.min(p,this.den)*i/this.den,v.y),s);g.opacite=.4,g.epaisseur=6,h.push(g)}if(h.push(f(e,r)),typeof o=="number"&&typeof l=="number")for(d=0;d<=m+1;d++)h.push(na(String(o+d*(l-o)),e+i*d,r-.6,0,"black",u,"milieu",!0,1));else String(o)!==""&&h.push(na(String(o),e,r-.6,0,"black",u,"milieu",!0,1)),String(l)!==""&&h.push(na(String(l),e+i,r-.6,0,"black",u,"milieu",!0,1)),c!==""&&h.push(na(c,e+i*this.num/this.den,r-.6,0,"black",u,"milieu",!0,1))}else{let v;this.den%6===0?v=6:this.den%5===0?v=5:this.den%4===0?v=4:this.den%3===0?v=3:this.den%2===0?v=2:v=1;const y=Math.max(i/v,1);for(d=0;d<m;d++){for(let x=0;x<v;x++)for(let g=0;g<this.den/v;g++){const b=be(e+d*(v*y+1)+x*y,r+g*y),k=xr(b,Jt(y,0)),w=Fc(b,k,"black");w.couleurDeRemplissage=Ze(s),w.opaciteDeRemplissage=.4,h.push(w)}p-=this.den}if(p>0){for(let x=0;x<v;x++)for(let g=0;g<this.den/v;g++){const b=be(e+m*(v*y+1)+x*y,r+g*y),k=xr(b,Jt(y,0)),w=Fc(b,k,"black");h.push(w)}for(let x=0;x<p;x++){const g=be(e+m*(v*y+1)+x%v*y,r+n3(x,v)*y),b=xr(g,Jt(y,0)),k=Fc(g,b,"black");k.couleurDeRemplissage=Ze(s),k.opaciteDeRemplissage=.4,h.push(k)}}}return h}static texArrayReponsesCoupleDeFractionsEgalesEtSimplifiees(e,r,i,n){return this.texArrayReponsesCoupleDeFractions(e,r,i,n,!0)}static texArrayReponsesFractionsEgalesEtSimplifiees(e,r){const i=this.listerFractionsSimplifiees(e,r),n=[];for(const a of i){const s=this.texArrayReponsesFraction(a[0],a[1]);for(const o of s)n.push(o)}return n}static texArrayReponsesCoupleDeFractions(e,r,i,n,a=!1){let s,o;a?(s=this.texArrayReponsesFractionsEgalesEtSimplifiees(e,r),o=this.texArrayReponsesFractionsEgalesEtSimplifiees(i,n)):(s=this.texArrayReponsesFraction(e,r),o=this.texArrayReponsesFraction(i,n));const l=[];for(const u of s)for(const c of o)l.push(u+";"+c,c+";"+u);return l}static texArrayReponsesFraction(e,r){const i=Math.abs(e),n=Math.abs(r);return n===1?[(e*r).toString()]:e*r>0?[`\\frac{${i}}{${n}}`,`\\frac{${-i}}{${-n}}`,`-\\frac{${-i}}{${n}}`,`-\\frac{${i}}{${-n}}`]:e*r<0?[`-\\frac{${i}}{${n}}`,`-\\frac{${-i}}{${-n}}`,`\\frac{${-i}}{${n}}`,`\\frac{${i}}{${-n}}`]:["0"]}static listerFractionsSimplifiees(e,r){if(c3(e,r)===1)return[[e,r]];{const i=[];for(const n of sye(c3(e,r)))i.push([e/n,r/n]);return i}}}function Cbe(t,e){const r=[this.seed,this.sup,this.sup2,this.sup3,this.sup4,this.sup5,this.correctionDetaillee,this.interactif,this.nbQuestions,t,e].map(String).join("");this.lastCallback!==r&&(this.lastCallback=r,this.reinit(),N6(this.seed,{global:!0}),this.nouvelleVersion(t,e))}function Nbe(){if(this.listeQuestions=[],this.listeCorrections=[],this.listeCanEnonces=[],this.listeCanReponsesACompleter=[],this.listeCanLiees=[],this.listeCanNumerosLies=[],this.listeArguments=[],this.autoCorrection=[],this.distracteurs=[],this.figures&&this.figures.forEach(t=>{t instanceof gx&&(t.clearHtml(),t.container=document.createElement("div"))}),this.figures=[],this.dragAndDrops&&this.dragAndDrops.length>0){for(const t of this.dragAndDrops)for(const[e,r,i]of t.listeners)e.removeEventListener(r,i);this.dragAndDrops=[]}}function Sbe(){const t=$be({includeUpperCase:!0,includeNumbers:!0,length:4,startsWithLowerCase:!1});this.seed=t}function Dbe(t){const r=wL.SHA256(t).toString(wL.enc.Hex);return r.length>t.length?t:r}function Abe(t,...e){t===0&&(this.listeArguments=[]);let r="";for(const n of e)n!==void 0&&(r+=n instanceof _t?n.texFraction:n.toString());const i=Dbe(r);if(this.listeArguments!=null&&this.listeArguments.indexOf(i)>-1)return!1;if(this.listeArguments!=null)return this.listeArguments.push(i),!0}function $be({includeUpperCase:t=!0,includeNumbers:e=!0,length:r=4,startsWithLowerCase:i=!1}={}){let n=10;const a="abcdefghijklmnopqrstuvwxyz";let s="",o=0,l=""+a;for(i&&(s=a[Math.floor(Math.random()*a.length)],o=1),r&&(n=r),t&&(l+=a.toUpperCase()),e&&(l+="1234567890");o<n;o++)s+=l[Math.floor(Math.random()*l.length)];return s}class Os{constructor(){this.listeQuestions=[],this.listeCorrections=[],this.listeCanReponsesACompleter=[],this.listeCanEnonces=[],this.listeCanLiees=[],this.listeCanNumerosLies=[],this.canOfficielle=!1,this.canReponseACompleter="",this.canNumeroLie=0,this.canLiee=[],this.formatChampTexte=Xt.clavierDeBase,this._html=document.createElement("div"),this.nouvelleVersionWrapper=Cbe.bind(this),this.reinit=Nbe.bind(this),this.applyNewSeed=Sbe.bind(this),this.questionJamaisPosee=Abe.bind(this),this.titre="",this.consigne="",this.consigneCorrection="",this.introduction="",this.listeQuestions=[],this.listeCorrections=[],this.contenu="",this.contenuCorrection="",this.autoCorrection=[],this.tableauSolutionsDuQcm=[],this.spacing=1,this.spacingCorr=1,this.pasDeVersionLatex=!1,this.consigneModifiable=!0,this.nbQuestionsModifiable=!0,this.nbCols=1,this.nbColsCorr=1,this.nbColsModifiable=!0,this.nbColsCorrModifiable=!0,this.spacingModifiable=!0,this.spacingCorrModifiable=!0,this.beamer=!1,this.nbQuestions=10,this.pointsParQuestions=1,this.correctionDetailleeDisponible=!1,this.correctionDetaillee=!0,this.correctionIsCachee=!1,this.video="",this.interactif=!1,this.interactifReady=!1,this.interactifObligatoire=!1,this.besoinFormulaireNumerique=!1,this.besoinFormulaireTexte=!1,this.besoinFormulaireCaseACocher=!1,this.besoinFormulaire2Numerique=!1,this.besoinFormulaire2Texte=!1,this.besoinFormulaire2CaseACocher=!1,this.besoinFormulaire3Numerique=!1,this.besoinFormulaire3Texte=!1,this.besoinFormulaire3CaseACocher=!1,this.besoinFormulaire4Numerique=!1,this.besoinFormulaire4Texte=!1,this.besoinFormulaire4CaseACocher=!1,this.besoinFormulaire5Numerique=!1,this.besoinFormulaire5Texte=!1,this.besoinFormulaire5CaseACocher=!1,this.listeArguments=[],this.lastCallback="",this.answers={},this.listeAvecNumerotation=!0}get html(){return this._html}set html(e){this._html=e}destroy(){}nouvelleVersion(e,r){console.info(e)}}class BB extends Os{constructor(){super(),this.distracteurs=[],this.typeExercice="simple"}}function _be(t,e){const r=t.map(n=>JSON.parse(JSON.stringify(n))),i=Array.from({length:t.length},(n,a)=>a);for(let n=e;n>0;n--){const a=Math.floor(Math.random()*(n+1));[r[n],r[a]]=[r[a],r[n]],[i[n],i[a]]=[i[a],i[n]]}return{shuffledArray:r,indexes:i}}function Ebe(t){var r;const e=[];if(t.autoCorrection.length!==t.listeQuestions.length)return[];for(let i=0;i<t.autoCorrection.length;i++){const n=t.autoCorrection[i].propositions;if(n==null||n.length>4)continue;const a=t.consigne.replaceAll(/\$([^$]*)\$/g,'<span class="math-tex">$1</span>')??"",s=t.introduction.replaceAll(/\$([^$]*)\$/g,'<span class="math-tex">$1</span>')??"",l=t.listeQuestions[i].split('<div class="my-3">')[0].replaceAll(/\$([^$]*)\$/g,'<span class="math-tex">$1</span>');let u;t.autoCorrection[i].enonce!=null&&t.autoCorrection[i].enonce!==""?u=`${i===0||!a.startsWith("Parmi les")?a:""}${i===0&&a!==""?"<br>":""}
        ${s??""}
          ${s!=null&&s!==""?"<br>":""}
            ${t.autoCorrection[i].enonce!=null?(r=t.autoCorrection[i].enonce)==null?void 0:r.replaceAll(/&nbsp;/g," ").replaceAll(/\$([^$]*)\$/g,'<span class="math-tex">$1</span>'):""}`:u=`${i===0?a:""}${i===0&&a!==""?"<br>":""}
       ${s??""}
         ${s!=null&&s!==""?"<br>":""}
           ${l.replaceAll(/&nbsp;/g," ")}`;const c=n.map(m=>m.texte),h=n.map(m=>m.statut);let p=`<h3 data-translate="{&quot;html&quot;:&quot;questions.defaultquestion&quot;}">${u==null?void 0:u.replaceAll(/\$([^$]*)\$/g,'<span class="math-tex">$1</span>')}</h3><ol>`,d="";for(let m=0;m<c.length;m++){const f=c[m].replaceAll(/\$([^$]*)\$/g,'<span class="math-tex">$1</span>'),v=h[m];p+=`<li${v?' class="rondvert"':""}>${f}</li>`,v&&(d=Qt(m+1))}p+="</ol>",e.push({question:p,reponse:d})}return e}const Ibe=["nombres","alpha","Alpha","roman","Roman"],Tbe=new Map([["puces","$\\bullet$"],["carres","\\tiny$\\blacksquare$"],["qcm","$\\square$"],["fleches","\\tiny$\\blacktriangleright$"],["nombres","\\arabic*."],["alpha","\\alph*."],["Alpha","\\Alph*."],["roman","\\roman*."],["Roman","\\Roman*."]]);function Lbe(t){return t.description!==void 0}function OB(t,e="",r=1,i=0){const n=Ibe.includes(t.style);let a=t.style==="none"?"":"	\\item ",s=t.style==="none"?"\\par":"";const o=`
`;Tbe.get(t.style);const l=r>1?` start='${r}'`:"";let u="\\begin{enumerate}",c="\\begin{itemize}",h="\\end{enumerate}",p="\\end{itemize}",d,m="";{a=t.style==="none"?"<li>":"	<li>",s="</li>";let g=t.classOptions??"";g!==""&&(g=" "+g),u=`<ol class='${t.style}${g}'${l}>`,c=`<ul class='${t.style}${g}'>`,h="</ol>",p="</ul>"}const f=n?u:c,v=n?h:p;d=o+e+f;const y=e+v+o;d+="",d+=o,m+=d;function x(g,b=e+a,k=s+o){return b+g+k}for(const g of t.items){let b="";typeof g=="string"?b=g:Lbe(g)?b=`<span>${g.description}</span>`+g.text:b=(g.introduction??"")+OB(g,e+"	",1,i++),m+=x(b)}return m+=y,m}function Mf(t,e,r={style:"",format:"case"}){var p,d,m,f,v,y;const i=[];let n="",a="",s="",o=1,l=!1;const u=(r==null?void 0:r.style)!=null&&r.style!==""?`class="ml-2" style="${r.style};" `:'class="ml-2"';if(((p=t==null?void 0:t.autoCorrection[e])==null?void 0:p.propositions)===void 0)return window.notify("propositionsQcm a reçu une liste de propositions undefined",{autoCrorrection:t==null?void 0:t.autoCorrection[e],propositions:t==null?void 0:t.autoCorrection[e].propositions}),{texte:"",texteCorr:""};if(t.autoCorrection[e].propositions.length===0)return window.notify("propositionsQcm a reçu une liste de propositions vide",{autoCrorrection:t.autoCorrection[e],propositions:t.autoCorrection[e].propositions}),{texte:"",texteCorr:""};if(t.autoCorrection[e].propositions.length===1)return window.notify("propositionsQcm a reçu une liste de propositions de taille 1",{autoCrorrection:t.autoCorrection[e],propositions:t.autoCorrection[e].propositions}),{texte:"",texteCorr:""};zbe(t.autoCorrection[e].propositions),s="&emsp;",(t==null?void 0:t.autoCorrection[e].reponse)==null&&(t.autoCorrection[e].reponse={}),t.autoCorrection[e].reponse.param==null&&(t.autoCorrection[e].reponse.param={}),t.autoCorrection[e].reponse.param.formatInteractif="qcm";const c=Math.min(((d=t.autoCorrection[e].options)==null?void 0:d.lastChoice)??t.autoCorrection[e].propositions.length,t.autoCorrection[e].propositions.length-1);l=((m=t.autoCorrection[e].options)==null?void 0:m.vertical)??!1,o=Math.min(((f=t.autoCorrection[e].options)==null?void 0:f.nbCols)??1,1);const h=t.autoCorrection[e].propositions.some(x=>x.texte==="Vrai")&&t.autoCorrection[e].propositions.some(x=>x.texte==="Faux");if(h){const x=t.autoCorrection[e].propositions.findIndex(b=>b.texte==="Vrai"),g=t.autoCorrection[e].propositions.findIndex(b=>b.texte==="Faux");if(x!==-1&&g!==-1){const b=t.autoCorrection[e].propositions[x],k=t.autoCorrection[e].propositions[g];t.autoCorrection[e].propositions.splice(x,1),t.autoCorrection[e].propositions.splice(g-1,1),t.autoCorrection[e].propositions.unshift(k),t.autoCorrection[e].propositions.unshift(b)}}if(!((v=t.autoCorrection[e].options)!=null&&v.ordered)&&!h){const x=_be(t.autoCorrection[e].propositions,c);t.autoCorrection[e].propositions=x.shuffledArray,i.push(...x.indexes)}{const x=((y=t.autoCorrection[e].options)==null?void 0:y.radio)??!1,g=(w,N)=>w==null||w==="case"?`<input type="${x?"radio":"checkbox"}" name="checkEx${t.numeroExercice}Q${e}" ${t.interactif?"":"disabled"} tabindex="0" style="height: 1rem; width: 1rem;" class="disabled:cursor-default" id="checkEx${t.numeroExercice}Q${e}R${N}">`:w==="lettre"?`<label ${u} >${nB(Qt(N+1))}.</label>`:`<input type="${x?"radio":"checkbox"}" name="checkEx${t.numeroExercice}Q${e}" ${t.interactif?"":"disabled"} tabindex="0" style="height: 1rem; width: 1rem;" class="disabled:cursor-default" id="checkEx${t.numeroExercice}Q${e}R${N}"><label ${u} >${Qt(N+1)}.</label>`,b=(w,N)=>w==null||w==="case"?`<input type="${x?"radio":"checkbox"}" name="checkEx${t.numeroExercice}Q${e}" tabindex="0" style="height: 1rem; width: 1rem;" class="disabled:cursor-default" checked>`:w==="lettre"?`<label ${u} >${ye(Qt(N+1))}.</label>`:`<input type="${x?"radio":"checkbox"}" name="checkEx${t.numeroExercice}Q${e}" ${t.interactif?"":"disabled"} tabindex="0" style="height: 1rem; width: 1rem;" class="disabled:cursor-default" checked><label ${u} >${ye(Qt(N+1))}.</label>`,k=(w,N)=>w==null||w==="case"?`<input type="${x?"radio":"checkbox"}" name="checkEx${t.numeroExercice}Q${e}" tabindex="0" style="height: 1rem; width: 1rem;" class="disabled:cursor-default">`:w==="lettre"?`<label ${u} >${nB(`${Yve(Qt(N+1))}`)}.</label>`:`<input type="${x?"radio":"checkbox"}" name="checkEx${t.numeroExercice}Q${e}" ${t.interactif?"":"disabled"} tabindex="0" style="height: 1rem; width: 1rem;" class="disabled:cursor-default"><label ${u} >$${Ge(`\\cancel{${Qt(N+1)}}`,"black")}$.</label>`;n='<div class="my-3">',a='<div class="my-3">';for(let w=0;w<t.autoCorrection[e].propositions.length;w++)o>1&&w%o===0&&(n+="<br>"),n+=`<div class="ex${t.numeroExercice} ${l?"":"inline-block"} my-2 align-center">
      ${g(r==null?void 0:r.format,w)}
      <label id="labelEx${t.numeroExercice}Q${e}R${w}" ${u} >${t.autoCorrection[e].propositions[w].texte+s}</label>
      <div id="feedbackEx${t.numeroExercice}Q${e}R${w}" ${l?"":'class="inline"'}></div></div>`,a+=`<div class="${l?"":"inline-block"}">
    ${t.autoCorrection[e].propositions[w].statut?b(r==null?void 0:r.format,w):k(r==null?void 0:r.format,w)}
      <label id="labelEx${t.numeroExercice}Q${e}R${w}" ${u} >${t.autoCorrection[e].propositions[w].texte+s}</label>
      </div>`;n+=`</div><div class="m-2" id="resultatCheckEx${t.numeroExercice}Q${e}"></div>`,a+='</div><div class="m-2"></div>'}return{texte:n,texteCorr:a,indexes:i}}function zbe(t){let e=!1;for(let r=0;r<t.length-1;r++)for(let i=r+1;i<t.length;)t[r].texte===t[i].texte?(e=!0,t[r].statut?t.splice(i,1):t[i].statut?(t.splice(i,1),t[r].statut=!0):t.splice(i,1)):i++;return e}class FB extends Os{constructor(){super(),this.versionQcmDisponible=!0,this.ajouteQcmCorr=!1,this.versionOriginale=void 0,this.besoinFormulaire2CaseACocher=["Consigne augmentée",!1],this.sup2=!1,this.nbQuestions=1,this.nbQuestionsModifiable=!1,this.spacingCorr=2,this.options={vertical:!1,ordered:!1,lastChoice:8},this.versionOriginale!=null&&this.versionOriginale()}nouvelleVersion(){var r;this.sup2?this.consigne=this.bonnesReponses==null?`Parmi les ${this.reponses.length} réponses ci-dessous, une seule est correcte.<br>
${this.interactif||Tt.isAmc?"Cocher la case correspondante":"Donner la lettre correspondante"}${this.sup4?", ou choisir « Je ne sais pas ».":"."}`:`Parmi les ${this.reponses.length} réponses ci-dessous, il peut y avoir plusieurs bonnes réponses.<br>
${this.interactif||Tt.isAmc?"Cocher la (ou les) case(s) correspondante(s)":"Donner la (ou les) lettre(s) correspondante(s)"}${this.sup4?", ou choisir « Je ne sais pas ».":"."}`:this.consigne="";const e=[];if(this.bonnesReponses==null)e.fill(!1,0,this.reponses.length-1),e[0]=!0;else for(let i=0;i<this.reponses.length;i++)e[i]=this.bonnesReponses[i]??!1;if(this.versionAleatoire!=null)for(let i=0,n=0;i<this.nbQuestions&&n<30;){this.sup&&this.versionOriginale!=null?this.versionOriginale():this.versionAleatoire();const a=this.reponses[0];if(this.questionJamaisPosee(i,a)){let s=this.enonce;this.autoCorrection[i]={},this.options!=null&&(this.autoCorrection[i].options={...this.options});const o=this.autoCorrection[i];o.propositions=[];for(let p=0;p<this.reponses.length;p++)o.propositions.push({texte:this.reponses[p],statut:e[p]});this.sup4&&(o.propositions.push({texte:"Je ne sais pas",statut:!1}),o.options&&(o.options.lastChoice=this.reponses.length-1));const l=["A","B","C","D","E","F","G","H","I","J"].slice(0,this.reponses.length),u=Mf(this,i,{style:"margin:0 3px 0 3px;",format:this.interactif?"case":"lettre"});s+=`<br>${u.texte}`;let c;if(this.corrections&&o.propositions!=null){this.correction="";const p=new Array(this.reponses.length),d=o.propositions;for(let f=0;f<this.reponses.length;f++){const v=this.reponses.findIndex(y=>y===d[f].texte);this.corrections[v]!=null&&this.corrections[v]!==""&&(p[f]=`réponse ${l[f]} : ${this.corrections[v]}${d[f].statut?"✅":"❌"}<br>`)}const m=p.filter(f=>f!=null&&f!=="");m.length!==0?this.correction=OB({items:m,style:"fleches"}):this.correction+=this.correction.endsWith("\\end{tikzpicture}")?`

`:this.correction!==""?"<br>":""}else this.correction+=(r=this.correction)!=null&&r.endsWith("\\end{tikzpicture}")?`

`:this.correction!==""?"<br>":"";if(this.ajouteQcmCorr&&(this.correction+=`<br>${u.texteCorr}`),this.bonnesReponses){const p=o.propositions.map((d,m)=>Object.assign({},{prop:d,index:m})).filter(d=>d.prop.statut).map(d=>l[d.index]);c=`Les bonnes réponses sont les réponses ${ye(p.join(" ; "))}.`}else{const p=l[o.propositions.findIndex(d=>d.statut)];c=`La bonne réponse est la réponse ${ye(p)}.`}const h=`${this.correction}${this.interactif?"":c}`;this.listeQuestions[i]=s,this.listeCorrections[i]=h,i++}if(n++,this.sup)break}else{this.versionOriginale!=null&&this.versionOriginale();let i=this.enonce;this.autoCorrection[0]={},this.options!=null&&(this.autoCorrection[0].options={...this.options});const n=this.autoCorrection[0];n.propositions=[];for(let u=0;u<this.reponses.length;u++)n.propositions.push({texte:this.reponses[u],statut:e[u]});const a=["A","B","C","D","E","F","G","H","I","J"].slice(0,this.reponses.length),s=Mf(this,0,{style:"margin:0 3px 0 3px;",format:this.interactif?"case":"lettre"});i+=`<br>${s.texte}`,this.ajouteQcmCorr&&(this.correction+=`<br>${s.texteCorr}`);const o=a[n.propositions.findIndex(u=>u.statut)],l=`${this.correction}<br>${this.interactif?"":`La bonne réponse est la réponse ${ye(o)}.`}`;this.listeQuestions[0]=i,this.listeCorrections[0]=l}}qcmCamExport(){return Ebe(this)}}class Bbe extends FB{constructor(){super(),this.versionAleatoire=()=>{},this.aleatoire=()=>{},this.besoinFormulaireCaseACocher=["Sujet original",!1],this.besoinFormulaire4CaseACocher=["Ajout de « Je ne sais pas »",!1],this.sup=!1,this.sup4=!1,this.versionAleatoire()}}class Obe extends BB{constructor(){super(),this.typeExercice="simple",this.nbQuestions=1,this.canOfficielle=!1,this.besoinFormulaireCaseACocher=["sujet officiel",!1]}}var Fs=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:(Math.exp(t)+Math.exp(-t))*.5},xl=Math.sinh||function(t){return Math.abs(t)<1e-9?t:(Math.exp(t)-Math.exp(-t))*.5},Fbe=function(t){var e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;var r=t*t;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},Pbe=function(t,e){var r=Math.abs(t),i=Math.abs(e);return r<3e3&&i<3e3?Math.sqrt(r*r+i*i):(r<i?(r=i,i=t/e):i=e/t,r*Math.sqrt(1+i*i))},nd=function(){throw SyntaxError("Invalid Param")};function g7(t,e){var r=Math.abs(t),i=Math.abs(e);return t===0?Math.log(i):e===0?Math.log(r):r<3e3&&i<3e3?Math.log(t*t+e*e)*.5:(t=t/2,e=e/2,.5*Math.log(t*t+e*e)+Math.LN2)}var Rbe=function(t,e){var r={re:0,im:0};if(t==null)r.re=r.im=0;else if(e!==void 0)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return yn.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return yn.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi)}else t.length===2?(r.re=t[0],r.im=t[1]):nd();break;case"string":r.im=r.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),n=1,a=0;i===null&&nd();for(var s=0;s<i.length;s++){var o=i[s];o===" "||o==="	"||o===`
`||(o==="+"?n++:o==="-"?a++:o==="i"||o==="I"?(n+a===0&&nd(),i[s+1]!==" "&&!isNaN(Number(i[s+1]))?(r.im+=parseFloat((a%2?"-":"")+i[s+1]),s++):r.im+=parseFloat((a%2?"-":"")+"1"),n=a=0):((n+a===0||isNaN(Number(o)))&&nd(),i[s+1]==="i"||i[s+1]==="I"?(r.im+=parseFloat((a%2?"-":"")+o),s++):r.re+=parseFloat((a%2?"-":"")+o),n=a=0))}n+a>0&&nd();break;case"number":r.im=0,r.re=t;break;default:nd()}return isNaN(r.re)||isNaN(r.im),r},yn=class It{constructor(e,r){this.re=0,this.im=0;var i=Rbe(e,r);this.re=i.re,this.im=i.im}sign(){var e=this.abs();return new It(this.re/e,this.im/e)}add(e,r){var i=new It(e,r);return this.isInfinite()&&i.isInfinite()?It.NAN:this.isInfinite()||i.isInfinite()?It.INFINITY:new It(this.re+i.re,this.im+i.im)}sub(e,r){var i=new It(e,r);return this.isInfinite()&&i.isInfinite()?It.NAN:this.isInfinite()||i.isInfinite()?It.INFINITY:new It(this.re-i.re,this.im-i.im)}mul(e,r){var i=new It(e,r);return this.isInfinite()&&i.isZero()||this.isZero()&&i.isInfinite()?It.NAN:this.isInfinite()||i.isInfinite()?It.INFINITY:i.im===0&&this.im===0?new It(this.re*i.re,0):new It(this.re*i.re-this.im*i.im,this.re*i.im+this.im*i.re)}div(e,r){var i=new It(e,r);if(this.isZero()&&i.isZero()||this.isInfinite()&&i.isInfinite())return It.NAN;if(this.isInfinite()||i.isZero())return It.INFINITY;if(this.isZero()||i.isInfinite())return It.ZERO;e=this.re,r=this.im;var n=i.re,a=i.im,s,o;return a===0?new It(e/n,r/n):Math.abs(n)<Math.abs(a)?(o=n/a,s=n*o+a,new It((e*o+r)/s,(r*o-e)/s)):(o=a/n,s=a*o+n,new It((e+r*o)/s,(r-e*o)/s))}pow(e,r){var i=new It(e,r);if(e=this.re,r=this.im,i.isZero())return It.ONE;if(i.im===0){if(r===0&&e>0)return new It(Math.pow(e,i.re),0);if(e===0)switch((i.re%4+4)%4){case 0:return new It(Math.pow(r,i.re),0);case 1:return new It(0,Math.pow(r,i.re));case 2:return new It(-Math.pow(r,i.re),0);case 3:return new It(0,-Math.pow(r,i.re))}}if(e===0&&r===0&&i.re>0&&i.im>=0)return It.ZERO;var n=Math.atan2(r,e),a=g7(e,r);return e=Math.exp(i.re*a-i.im*n),r=i.im*a+i.re*n,new It(e*Math.cos(r),e*Math.sin(r))}sqrt(){var e=this.re,r=this.im,i=this.abs(),n,a;if(e>=0){if(r===0)return new It(Math.sqrt(e),0);n=.5*Math.sqrt(2*(i+e))}else n=Math.abs(r)/Math.sqrt(2*(i-e));return e<=0?a=.5*Math.sqrt(2*(i-e)):a=Math.abs(r)/Math.sqrt(2*(i+e)),new It(n,r<0?-a:a)}exp(){var e=Math.exp(this.re);return this.im,new It(e*Math.cos(this.im),e*Math.sin(this.im))}expm1(){var e=this.re,r=this.im;return new It(Math.expm1(e)*Math.cos(r)+Fbe(r),Math.exp(e)*Math.sin(r))}log(){var e=this.re,r=this.im;return new It(g7(e,r),Math.atan2(r,e))}abs(){return Pbe(this.re,this.im)}arg(){return Math.atan2(this.im,this.re)}sin(){var e=this.re,r=this.im;return new It(Math.sin(e)*Fs(r),Math.cos(e)*xl(r))}cos(){var e=this.re,r=this.im;return new It(Math.cos(e)*Fs(r),-Math.sin(e)*xl(r))}tan(){var e=2*this.re,r=2*this.im,i=Math.cos(e)+Fs(r);return new It(Math.sin(e)/i,xl(r)/i)}cot(){var e=2*this.re,r=2*this.im,i=Math.cos(e)-Fs(r);return new It(-Math.sin(e)/i,xl(r)/i)}sec(){var e=this.re,r=this.im,i=.5*Fs(2*r)+.5*Math.cos(2*e);return new It(Math.cos(e)*Fs(r)/i,Math.sin(e)*xl(r)/i)}csc(){var e=this.re,r=this.im,i=.5*Fs(2*r)-.5*Math.cos(2*e);return new It(Math.sin(e)*Fs(r)/i,-Math.cos(e)*xl(r)/i)}asin(){var e=this.re,r=this.im,i=new It(r*r-e*e+1,-2*e*r).sqrt(),n=new It(i.re-r,i.im+e).log();return new It(n.im,-n.re)}acos(){var e=this.re,r=this.im,i=new It(r*r-e*e+1,-2*e*r).sqrt(),n=new It(i.re-r,i.im+e).log();return new It(Math.PI/2-n.im,n.re)}atan(){var e=this.re,r=this.im;if(e===0){if(r===1)return new It(0,1/0);if(r===-1)return new It(0,-1/0)}var i=e*e+(1-r)*(1-r),n=new It((1-r*r-e*e)/i,-2*e/i).log();return new It(-.5*n.im,.5*n.re)}acot(){var e=this.re,r=this.im;if(r===0)return new It(Math.atan2(1,e),0);var i=e*e+r*r;return i!==0?new It(e/i,-r/i).atan():new It(e!==0?e/0:0,r!==0?-r/0:0).atan()}asec(){var e=this.re,r=this.im;if(e===0&&r===0)return new It(0,1/0);var i=e*e+r*r;return i!==0?new It(e/i,-r/i).acos():new It(e!==0?e/0:0,r!==0?-r/0:0).acos()}acsc(){var e=this.re,r=this.im;if(e===0&&r===0)return new It(Math.PI/2,1/0);var i=e*e+r*r;return i!==0?new It(e/i,-r/i).asin():new It(e!==0?e/0:0,r!==0?-r/0:0).asin()}sinh(){var e=this.re,r=this.im;return new It(xl(e)*Math.cos(r),Fs(e)*Math.sin(r))}cosh(){var e=this.re,r=this.im;return new It(Fs(e)*Math.cos(r),xl(e)*Math.sin(r))}tanh(){var e=2*this.re,r=2*this.im,i=Fs(e)+Math.cos(r);return new It(xl(e)/i,Math.sin(r)/i)}coth(){var e=2*this.re,r=2*this.im,i=Fs(e)-Math.cos(r);return new It(xl(e)/i,-Math.sin(r)/i)}csch(){var e=this.re,r=this.im,i=Math.cos(2*r)-Fs(2*e);return new It(-2*xl(e)*Math.cos(r)/i,2*Fs(e)*Math.sin(r)/i)}sech(){var e=this.re,r=this.im,i=Math.cos(2*r)+Fs(2*e);return new It(2*Fs(e)*Math.cos(r)/i,-2*xl(e)*Math.sin(r)/i)}asinh(){var e=this.im;this.im=-this.re,this.re=e;var r=this.asin();return this.re=-this.im,this.im=e,e=r.re,r.re=-r.im,r.im=e,r}acosh(){var e=this.acos();if(e.im<=0){var r=e.re;e.re=-e.im,e.im=r}else{var r=e.im;e.im=-e.re,e.re=r}return e}atanh(){var e=this.re,r=this.im,i=e>1&&r===0,n=1-e,a=1+e,s=n*n+r*r,o=s!==0?new It((a*n-r*r)/s,(r*n+a*r)/s):new It(e!==-1?e/0:0,r!==0?r/0:0),l=o.re;return o.re=g7(o.re,o.im)/2,o.im=Math.atan2(o.im,l)/2,i&&(o.im=-o.im),o}acoth(){var e=this.re,r=this.im;if(e===0&&r===0)return new It(0,Math.PI/2);var i=e*e+r*r;return i!==0?new It(e/i,-r/i).atanh():new It(e!==0?e/0:0,r!==0?-r/0:0).atanh()}acsch(){var e=this.re,r=this.im;if(r===0)return new It(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var i=e*e+r*r;return i!==0?new It(e/i,-r/i).asinh():new It(e!==0?e/0:0,r!==0?-r/0:0).asinh()}asech(){var e=this.re,r=this.im;if(this.isZero())return It.INFINITY;var i=e*e+r*r;return i!==0?new It(e/i,-r/i).acosh():new It(e!==0?e/0:0,r!==0?-r/0:0).acosh()}inverse(){if(this.isZero())return It.INFINITY;if(this.isInfinite())return It.ZERO;var e=this.re,r=this.im,i=e*e+r*r;return new It(e/i,-r/i)}conjugate(){return new It(this.re,-this.im)}neg(){return new It(-this.re,-this.im)}ceil(e){return e=Math.pow(10,e||0),new It(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)}floor(e){return e=Math.pow(10,e||0),new It(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)}round(e){return e=Math.pow(10,e||0),new It(Math.round(this.re*e)/e,Math.round(this.im*e)/e)}equals(e,r){var i=new It(e,r);return Math.abs(i.re-this.re)<=It.EPSILON&&Math.abs(i.im-this.im)<=It.EPSILON}clone(){return new It(this.re,this.im)}toString(){var e=this.re,r=this.im,i="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<It.EPSILON&&(e=0),Math.abs(r)<It.EPSILON&&(r=0),r===0?i+e:(e!==0?(i+=e,i+=" ",r<0?(r=-r,i+="-"):i+="+",i+=" "):r<0&&(r=-r,i+="-"),r!==1&&(i+=r),i+"i"))}toVector(){return[this.re,this.im]}valueOf(){return this.im===0?this.re:null}isNaN(){return isNaN(this.re)||isNaN(this.im)}isZero(){return this.im===0&&this.re===0}isFinite(){return isFinite(this.re)&&isFinite(this.im)}isInfinite(){return!(this.isNaN()||this.isFinite())}};yn.ZERO=new yn(0,0),yn.ONE=new yn(1,0),yn.I=new yn(0,1),yn.PI=new yn(Math.PI,0),yn.E=new yn(Math.E,0),yn.INFINITY=new yn(1/0,1/0),yn.NAN=new yn(NaN,NaN),yn.EPSILON=1e-15;var ad=9e15,Rc=1e9,v7="0123456789abcdef",$3="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",_3="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",y7={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ad,maxE:ad,crypto:!1},PB,Au,Ur=!0,E3="[DecimalError] ",jc=E3+"Invalid argument: ",RB=E3+"Precision limit exceeded",jB=E3+"crypto unavailable",qB="[object Decimal]",Ps=Math.floor,Va=Math.pow,jbe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,qbe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Ube=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,UB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,t0=1e7,_r=7,Vbe=9007199254740991,Gbe=$3.length-1,b7=_3.length-1,xt={toStringTag:qB};xt.absoluteValue=xt.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),fr(t)},xt.ceil=function(){return fr(new this.constructor(this),this.e+1,2)},xt.clampedTo=xt.clamp=function(t,e){var r,i=this,n=i.constructor;if(t=new n(t),e=new n(e),!t.s||!e.s)return new n(NaN);if(t.gt(e))throw Error(jc+e);return r=i.cmp(t),r<0?t:i.cmp(e)>0?e:new n(i)},xt.comparedTo=xt.cmp=function(t){var e,r,i,n,a=this,s=a.d,o=(t=new a.constructor(t)).d,l=a.s,u=t.s;if(!s||!o)return!l||!u?NaN:l!==u?l:s===o?0:!s^l<0?1:-1;if(!s[0]||!o[0])return s[0]?l:o[0]?-u:0;if(l!==u)return l;if(a.e!==t.e)return a.e>t.e^l<0?1:-1;for(i=s.length,n=o.length,e=0,r=i<n?i:n;e<r;++e)if(s[e]!==o[e])return s[e]>o[e]^l<0?1:-1;return i===n?0:i>n^l<0?1:-1},xt.cosine=xt.cos=function(){var t,e,r=this,i=r.constructor;return r.d?r.d[0]?(t=i.precision,e=i.rounding,i.precision=t+Math.max(r.e,r.sd())+_r,i.rounding=1,r=Zbe(i,YB(i,r)),i.precision=t,i.rounding=e,fr(Au==2||Au==3?r.neg():r,t,e,!0)):new i(1):new i(NaN)},xt.cubeRoot=xt.cbrt=function(){var t,e,r,i,n,a,s,o,l,u,c=this,h=c.constructor;if(!c.isFinite()||c.isZero())return new h(c);for(Ur=!1,a=c.s*Va(c.s*c,1/3),!a||Math.abs(a)==1/0?(r=xs(c.d),t=c.e,(a=(t-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=Va(r,1/3),t=Ps((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),i=new h(r),i.s=c.s):i=new h(a.toString()),s=(t=h.precision)+3;;)if(o=i,l=o.times(o).times(o),u=l.plus(c),i=bn(u.plus(c).times(o),u.plus(l),s+2,1),xs(o.d).slice(0,s)===(r=xs(i.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!n&&r=="4999"){if(!n&&(fr(o,t+1,0),o.times(o).times(o).eq(c))){i=o;break}s+=4,n=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(fr(i,t+1,1),e=!i.times(i).times(i).eq(c));break}return Ur=!0,fr(i,t,h.rounding,e)},xt.decimalPlaces=xt.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-Ps(this.e/_r))*_r,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r},xt.dividedBy=xt.div=function(t){return bn(this,new this.constructor(t))},xt.dividedToIntegerBy=xt.divToInt=function(t){var e=this,r=e.constructor;return fr(bn(e,new r(t),0,1,1),r.precision,r.rounding)},xt.equals=xt.eq=function(t){return this.cmp(t)===0},xt.floor=function(){return fr(new this.constructor(this),this.e+1,3)},xt.greaterThan=xt.gt=function(t){return this.cmp(t)>0},xt.greaterThanOrEqualTo=xt.gte=function(t){var e=this.cmp(t);return e==1||e===0},xt.hyperbolicCosine=xt.cosh=function(){var t,e,r,i,n,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;r=s.precision,i=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,n=a.d.length,n<32?(t=Math.ceil(n/3),e=(1/B3(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=sd(s,1,a.times(e),new s(1),!0);for(var l,u=t,c=new s(8);u--;)l=a.times(a),a=o.minus(l.times(c.minus(l.times(c))));return fr(a,s.precision=r,s.rounding=i,!0)},xt.hyperbolicSine=xt.sinh=function(){var t,e,r,i,n=this,a=n.constructor;if(!n.isFinite()||n.isZero())return new a(n);if(e=a.precision,r=a.rounding,a.precision=e+Math.max(n.e,n.sd())+4,a.rounding=1,i=n.d.length,i<3)n=sd(a,2,n,n,!0);else{t=1.4*Math.sqrt(i),t=t>16?16:t|0,n=n.times(1/B3(5,t)),n=sd(a,2,n,n,!0);for(var s,o=new a(5),l=new a(16),u=new a(20);t--;)s=n.times(n),n=n.times(o.plus(s.times(l.times(s).plus(u))))}return a.precision=e,a.rounding=r,fr(n,e,r,!0)},xt.hyperbolicTangent=xt.tanh=function(){var t,e,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+7,i.rounding=1,bn(r.sinh(),r.cosh(),i.precision=t,i.rounding=e)):new i(r.s)},xt.inverseCosine=xt.acos=function(){var t=this,e=t.constructor,r=t.abs().cmp(1),i=e.precision,n=e.rounding;return r!==-1?r===0?t.isNeg()?_0(e,i,n):new e(0):new e(NaN):t.isZero()?_0(e,i+4,n).times(.5):(e.precision=i+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=i,e.rounding=n,t.times(2))},xt.inverseHyperbolicCosine=xt.acosh=function(){var t,e,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(t=i.precision,e=i.rounding,i.precision=t+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,Ur=!1,r=r.times(r).minus(1).sqrt().plus(r),Ur=!0,i.precision=t,i.rounding=e,r.ln()):new i(r)},xt.inverseHyperbolicSine=xt.asinh=function(){var t,e,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,Ur=!1,r=r.times(r).plus(1).sqrt().plus(r),Ur=!0,i.precision=t,i.rounding=e,r.ln())},xt.inverseHyperbolicTangent=xt.atanh=function(){var t,e,r,i,n=this,a=n.constructor;return n.isFinite()?n.e>=0?new a(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(t=a.precision,e=a.rounding,i=n.sd(),Math.max(i,t)<2*-n.e-1?fr(new a(n),t,e,!0):(a.precision=r=i-n.e,n=bn(n.plus(1),new a(1).minus(n),r+t,1),a.precision=t+4,a.rounding=1,n=n.ln(),a.precision=t,a.rounding=e,n.times(.5))):new a(NaN)},xt.inverseSine=xt.asin=function(){var t,e,r,i,n=this,a=n.constructor;return n.isZero()?new a(n):(e=n.abs().cmp(1),r=a.precision,i=a.rounding,e!==-1?e===0?(t=_0(a,r+4,i).times(.5),t.s=n.s,t):new a(NaN):(a.precision=r+6,a.rounding=1,n=n.div(new a(1).minus(n.times(n)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=i,n.times(2)))},xt.inverseTangent=xt.atan=function(){var t,e,r,i,n,a,s,o,l,u=this,c=u.constructor,h=c.precision,p=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&h+4<=b7)return s=_0(c,h+4,p).times(.25),s.s=u.s,s}else{if(!u.s)return new c(NaN);if(h+4<=b7)return s=_0(c,h+4,p).times(.5),s.s=u.s,s}for(c.precision=o=h+10,c.rounding=1,r=Math.min(28,o/_r+2|0),t=r;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(Ur=!1,e=Math.ceil(o/_r),i=1,l=u.times(u),s=new c(u),n=u;t!==-1;)if(n=n.times(l),a=s.minus(n.div(i+=2)),n=n.times(l),s=a.plus(n.div(i+=2)),s.d[e]!==void 0)for(t=e;s.d[t]===a.d[t]&&t--;);return r&&(s=s.times(2<<r-1)),Ur=!0,fr(s,c.precision=h,c.rounding=p,!0)},xt.isFinite=function(){return!!this.d},xt.isInteger=xt.isInt=function(){return!!this.d&&Ps(this.e/_r)>this.d.length-2},xt.isNaN=function(){return!this.s},xt.isNegative=xt.isNeg=function(){return this.s<0},xt.isPositive=xt.isPos=function(){return this.s>0},xt.isZero=function(){return!!this.d&&this.d[0]===0},xt.lessThan=xt.lt=function(t){return this.cmp(t)<0},xt.lessThanOrEqualTo=xt.lte=function(t){return this.cmp(t)<1},xt.logarithm=xt.log=function(t){var e,r,i,n,a,s,o,l,u=this,c=u.constructor,h=c.precision,p=c.rounding,d=5;if(t==null)t=new c(10),e=!0;else{if(t=new c(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(r=u.d,u.s<0||!r||!r[0]||u.eq(1))return new c(r&&!r[0]?-1/0:u.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)a=!0;else{for(n=r[0];n%10===0;)n/=10;a=n!==1}if(Ur=!1,o=h+d,s=Uc(u,o),i=e?L3(c,o+10):Uc(t,o),l=bn(s,i,o,1),kf(l.d,n=h,p))do if(o+=10,s=Uc(u,o),i=e?L3(c,o+10):Uc(t,o),l=bn(s,i,o,1),!a){+xs(l.d).slice(n+1,n+15)+1==1e14&&(l=fr(l,h+1,0));break}while(kf(l.d,n+=10,p));return Ur=!0,fr(l,h,p)},xt.minus=xt.sub=function(t){var e,r,i,n,a,s,o,l,u,c,h,p,d=this,m=d.constructor;if(t=new m(t),!d.d||!t.d)return!d.s||!t.s?t=new m(NaN):d.d?t.s=-t.s:t=new m(t.d||d.s!==t.s?d:NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(u=d.d,p=t.d,o=m.precision,l=m.rounding,!u[0]||!p[0]){if(p[0])t.s=-t.s;else if(u[0])t=new m(d);else return new m(l===3?-0:0);return Ur?fr(t,o,l):t}if(r=Ps(t.e/_r),c=Ps(d.e/_r),u=u.slice(),a=c-r,a){for(h=a<0,h?(e=u,a=-a,s=p.length):(e=p,r=c,s=u.length),i=Math.max(Math.ceil(o/_r),s)+2,a>i&&(a=i,e.length=1),e.reverse(),i=a;i--;)e.push(0);e.reverse()}else{for(i=u.length,s=p.length,h=i<s,h&&(s=i),i=0;i<s;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}a=0}for(h&&(e=u,u=p,p=e,t.s=-t.s),s=u.length,i=p.length-s;i>0;--i)u[s++]=0;for(i=p.length;i>a;){if(u[--i]<p[i]){for(n=i;n&&u[--n]===0;)u[n]=t0-1;--u[n],u[i]+=t0}u[i]-=p[i]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=T3(u,r),Ur?fr(t,o,l):t):new m(l===3?-0:0)},xt.modulo=xt.mod=function(t){var e,r=this,i=r.constructor;return t=new i(t),!r.d||!t.s||t.d&&!t.d[0]?new i(NaN):!t.d||r.d&&!r.d[0]?fr(new i(r),i.precision,i.rounding):(Ur=!1,i.modulo==9?(e=bn(r,t.abs(),0,3,1),e.s*=t.s):e=bn(r,t,0,i.modulo,1),e=e.times(t),Ur=!0,r.minus(e))},xt.naturalExponential=xt.exp=function(){return x7(this)},xt.naturalLogarithm=xt.ln=function(){return Uc(this)},xt.negated=xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,fr(t)},xt.plus=xt.add=function(t){var e,r,i,n,a,s,o,l,u,c,h=this,p=h.constructor;if(t=new p(t),!h.d||!t.d)return!h.s||!t.s?t=new p(NaN):h.d||(t=new p(t.d||h.s===t.s?h:NaN)),t;if(h.s!=t.s)return t.s=-t.s,h.minus(t);if(u=h.d,c=t.d,o=p.precision,l=p.rounding,!u[0]||!c[0])return c[0]||(t=new p(h)),Ur?fr(t,o,l):t;if(a=Ps(h.e/_r),i=Ps(t.e/_r),u=u.slice(),n=a-i,n){for(n<0?(r=u,n=-n,s=c.length):(r=c,i=a,s=u.length),a=Math.ceil(o/_r),s=a>s?a+1:s+1,n>s&&(n=s,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for(s=u.length,n=c.length,s-n<0&&(n=s,r=c,c=u,u=r),e=0;n;)e=(u[--n]=u[n]+c[n]+e)/t0|0,u[n]%=t0;for(e&&(u.unshift(e),++i),s=u.length;u[--s]==0;)u.pop();return t.d=u,t.e=T3(u,i),Ur?fr(t,o,l):t},xt.precision=xt.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(jc+t);return r.d?(e=VB(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e},xt.round=function(){var t=this,e=t.constructor;return fr(new e(t),t.e+1,e.rounding)},xt.sine=xt.sin=function(){var t,e,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+Math.max(r.e,r.sd())+_r,i.rounding=1,r=Wbe(i,YB(i,r)),i.precision=t,i.rounding=e,fr(Au>2?r.neg():r,t,e,!0)):new i(NaN)},xt.squareRoot=xt.sqrt=function(){var t,e,r,i,n,a,s=this,o=s.d,l=s.e,u=s.s,c=s.constructor;if(u!==1||!o||!o[0])return new c(!u||u<0&&(!o||o[0])?NaN:o?s:1/0);for(Ur=!1,u=Math.sqrt(+s),u==0||u==1/0?(e=xs(o),(e.length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=Ps((l+1)/2)-(l<0||l%2),u==1/0?e="5e"+l:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),i=new c(e)):i=new c(u.toString()),r=(l=c.precision)+3;;)if(a=i,i=a.plus(bn(s,a,r+2,1)).times(.5),xs(a.d).slice(0,r)===(e=xs(i.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!n&&e=="4999"){if(!n&&(fr(a,l+1,0),a.times(a).eq(s))){i=a;break}r+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(fr(i,l+1,1),t=!i.times(i).eq(s));break}return Ur=!0,fr(i,l,c.rounding,t)},xt.tangent=xt.tan=function(){var t,e,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(t=i.precision,e=i.rounding,i.precision=t+10,i.rounding=1,r=r.sin(),r.s=1,r=bn(r,new i(1).minus(r.times(r)).sqrt(),t+10,0),i.precision=t,i.rounding=e,fr(Au==2||Au==4?r.neg():r,t,e,!0)):new i(NaN)},xt.times=xt.mul=function(t){var e,r,i,n,a,s,o,l,u,c=this,h=c.constructor,p=c.d,d=(t=new h(t)).d;if(t.s*=c.s,!p||!p[0]||!d||!d[0])return new h(!t.s||p&&!p[0]&&!d||d&&!d[0]&&!p?NaN:!p||!d?t.s/0:t.s*0);for(r=Ps(c.e/_r)+Ps(t.e/_r),l=p.length,u=d.length,l<u&&(a=p,p=d,d=a,s=l,l=u,u=s),a=[],s=l+u,i=s;i--;)a.push(0);for(i=u;--i>=0;){for(e=0,n=l+i;n>i;)o=a[n]+d[i]*p[n-i-1]+e,a[n--]=o%t0|0,e=o/t0|0;a[n]=(a[n]+e)%t0|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=T3(a,r),Ur?fr(t,h.precision,h.rounding):t},xt.toBinary=function(t,e){return w7(this,2,t,e)},xt.toDecimalPlaces=xt.toDP=function(t,e){var r=this,i=r.constructor;return r=new i(r),t===void 0?r:(So(t,0,Rc),e===void 0?e=i.rounding:So(e,0,8),fr(r,t+r.e+1,e))},xt.toExponential=function(t,e){var r,i=this,n=i.constructor;return t===void 0?r=$0(i,!0):(So(t,0,Rc),e===void 0?e=n.rounding:So(e,0,8),i=fr(new n(i),t+1,e),r=$0(i,!0,t+1)),i.isNeg()&&!i.isZero()?"-"+r:r},xt.toFixed=function(t,e){var r,i,n=this,a=n.constructor;return t===void 0?r=$0(n):(So(t,0,Rc),e===void 0?e=a.rounding:So(e,0,8),i=fr(new a(n),t+n.e+1,e),r=$0(i,!1,t+i.e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},xt.toFraction=function(t){var e,r,i,n,a,s,o,l,u,c,h,p,d=this,m=d.d,f=d.constructor;if(!m)return new f(d);if(u=r=new f(1),i=l=new f(0),e=new f(i),a=e.e=VB(m)-d.e-1,s=a%_r,e.d[0]=Va(10,s<0?_r+s:s),t==null)t=a>0?e:u;else{if(o=new f(t),!o.isInt()||o.lt(u))throw Error(jc+o);t=o.gt(e)?a>0?e:u:o}for(Ur=!1,o=new f(xs(m)),c=f.precision,f.precision=a=m.length*_r*2;h=bn(o,e,0,1,1),n=r.plus(h.times(i)),n.cmp(t)!=1;)r=i,i=n,n=u,u=l.plus(h.times(n)),l=n,n=e,e=o.minus(h.times(n)),o=n;return n=bn(t.minus(r),i,0,1,1),l=l.plus(n.times(u)),r=r.plus(n.times(i)),l.s=u.s=d.s,p=bn(u,i,a,1).minus(d).abs().cmp(bn(l,r,a,1).minus(d).abs())<1?[u,i]:[l,r],f.precision=c,Ur=!0,p},xt.toHexadecimal=xt.toHex=function(t,e){return w7(this,16,t,e)},xt.toNearest=function(t,e){var r=this,i=r.constructor;if(r=new i(r),t==null){if(!r.d)return r;t=new i(1),e=i.rounding}else{if(t=new i(t),e===void 0?e=i.rounding:So(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Ur=!1,r=bn(r,t,0,e,1).times(t),Ur=!0,fr(r)):(t.s=r.s,r=t),r},xt.toNumber=function(){return+this},xt.toOctal=function(t,e){return w7(this,8,t,e)},xt.toPower=xt.pow=function(t){var e,r,i,n,a,s,o=this,l=o.constructor,u=+(t=new l(t));if(!o.d||!t.d||!o.d[0]||!t.d[0])return new l(Va(+o,u));if(o=new l(o),o.eq(1))return o;if(i=l.precision,a=l.rounding,t.eq(1))return fr(o,i,a);if(e=Ps(t.e/_r),e>=t.d.length-1&&(r=u<0?-u:u)<=Vbe)return n=GB(l,o,r,i),t.s<0?new l(1).div(n):fr(n,i,a);if(s=o.s,s<0){if(e<t.d.length-1)return new l(NaN);if(t.d[e]&1||(s=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=s,o}return r=Va(+o,u),e=r==0||!isFinite(r)?Ps(u*(Math.log("0."+xs(o.d))/Math.LN10+o.e+1)):new l(r+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?s/0:0):(Ur=!1,l.rounding=o.s=1,r=Math.min(12,(e+"").length),n=x7(t.times(Uc(o,i+r)),i),n.d&&(n=fr(n,i+5,1),kf(n.d,i,a)&&(e=i+10,n=fr(x7(t.times(Uc(o,e+r)),e),e+5,1),+xs(n.d).slice(i+1,i+15)+1==1e14&&(n=fr(n,i+1,0)))),n.s=s,Ur=!0,l.rounding=a,fr(n,i,a))},xt.toPrecision=function(t,e){var r,i=this,n=i.constructor;return t===void 0?r=$0(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(So(t,1,Rc),e===void 0?e=n.rounding:So(e,0,8),i=fr(new n(i),t,e),r=$0(i,t<=i.e||i.e<=n.toExpNeg,t)),i.isNeg()&&!i.isZero()?"-"+r:r},xt.toSignificantDigits=xt.toSD=function(t,e){var r=this,i=r.constructor;return t===void 0?(t=i.precision,e=i.rounding):(So(t,1,Rc),e===void 0?e=i.rounding:So(e,0,8)),fr(new i(r),t,e)},xt.toString=function(){var t=this,e=t.constructor,r=$0(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},xt.truncated=xt.trunc=function(){return fr(new this.constructor(this),this.e+1,1)},xt.valueOf=xt.toJSON=function(){var t=this,e=t.constructor,r=$0(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function xs(t){var e,r,i,n=t.length-1,a="",s=t[0];if(n>0){for(a+=s,e=1;e<n;e++)i=t[e]+"",r=_r-i.length,r&&(a+=qc(r)),a+=i;s=t[e],i=s+"",r=_r-i.length,r&&(a+=qc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}function So(t,e,r){if(t!==~~t||t<e||t>r)throw Error(jc+t)}function kf(t,e,r,i){var n,a,s,o;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=_r,n=0):(n=Math.ceil((e+1)/_r),e%=_r),a=Va(10,_r-e),o=t[n]%a|0,i==null?e<3?(e==0?o=o/100|0:e==1&&(o=o/10|0),s=r<4&&o==99999||r>3&&o==49999||o==5e4||o==0):s=(r<4&&o+1==a||r>3&&o+1==a/2)&&(t[n+1]/a/100|0)==Va(10,e-2)-1||(o==a/2||o==0)&&(t[n+1]/a/100|0)==0:e<4?(e==0?o=o/1e3|0:e==1?o=o/100|0:e==2&&(o=o/10|0),s=(i||r<4)&&o==9999||!i&&r>3&&o==4999):s=((i||r<4)&&o+1==a||!i&&r>3&&o+1==a/2)&&(t[n+1]/a/1e3|0)==Va(10,e-3)-1,s}function I3(t,e,r){for(var i,n=[0],a,s=0,o=t.length;s<o;){for(a=n.length;a--;)n[a]*=e;for(n[0]+=v7.indexOf(t.charAt(s++)),i=0;i<n.length;i++)n[i]>r-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/r|0,n[i]%=r)}return n.reverse()}function Zbe(t,e){var r,i,n;if(e.isZero())return e;i=e.d.length,i<32?(r=Math.ceil(i/3),n=(1/B3(4,r)).toString()):(r=16,n="2.3283064365386962890625e-10"),t.precision+=r,e=sd(t,1,e.times(n),new t(1));for(var a=r;a--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return t.precision-=r,e}var bn=function(){function t(i,n,a){var s,o=0,l=i.length;for(i=i.slice();l--;)s=i[l]*n+o,i[l]=s%a|0,o=s/a|0;return o&&i.unshift(o),i}function e(i,n,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(i[o]!=n[o]){l=i[o]>n[o]?1:-1;break}return l}function r(i,n,a,s){for(var o=0;a--;)i[a]-=o,o=i[a]<n[a]?1:0,i[a]=o*s+i[a]-n[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,a,s,o,l){var u,c,h,p,d,m,f,v,y,x,g,b,k,w,N,A,$,D,_,T,z=i.constructor,P=i.s==n.s?1:-1,q=i.d,L=n.d;if(!q||!q[0]||!L||!L[0])return new z(!i.s||!n.s||(q?L&&q[0]==L[0]:!L)?NaN:q&&q[0]==0||!L?P*0:P/0);for(l?(d=1,c=i.e-n.e):(l=t0,d=_r,c=Ps(i.e/d)-Ps(n.e/d)),_=L.length,$=q.length,y=new z(P),x=y.d=[],h=0;L[h]==(q[h]||0);h++);if(L[h]>(q[h]||0)&&c--,a==null?(w=a=z.precision,s=z.rounding):o?w=a+(i.e-n.e)+1:w=a,w<0)x.push(1),m=!0;else{if(w=w/d+2|0,h=0,_==1){for(p=0,L=L[0],w++;(h<$||p)&&w--;h++)N=p*l+(q[h]||0),x[h]=N/L|0,p=N%L|0;m=p||h<$}else{for(p=l/(L[0]+1)|0,p>1&&(L=t(L,p,l),q=t(q,p,l),_=L.length,$=q.length),A=_,g=q.slice(0,_),b=g.length;b<_;)g[b++]=0;T=L.slice(),T.unshift(0),D=L[0],L[1]>=l/2&&++D;do p=0,u=e(L,g,_,b),u<0?(k=g[0],_!=b&&(k=k*l+(g[1]||0)),p=k/D|0,p>1?(p>=l&&(p=l-1),f=t(L,p,l),v=f.length,b=g.length,u=e(f,g,v,b),u==1&&(p--,r(f,_<v?T:L,v,l))):(p==0&&(u=p=1),f=L.slice()),v=f.length,v<b&&f.unshift(0),r(g,f,b,l),u==-1&&(b=g.length,u=e(L,g,_,b),u<1&&(p++,r(g,_<b?T:L,b,l))),b=g.length):u===0&&(p++,g=[0]),x[h++]=p,u&&g[0]?g[b++]=q[A]||0:(g=[q[A]],b=1);while((A++<$||g[0]!==void 0)&&w--);m=g[0]!==void 0}x[0]||x.shift()}if(d==1)y.e=c,PB=m;else{for(h=1,p=x[0];p>=10;p/=10)h++;y.e=h+c*d-1,fr(y,o?a+y.e+1:a,s,m)}return y}}();function fr(t,e,r,i){var n,a,s,o,l,u,c,h,p,d=t.constructor;e:if(e!=null){if(h=t.d,!h)return t;for(n=1,o=h[0];o>=10;o/=10)n++;if(a=e-n,a<0)a+=_r,s=e,c=h[p=0],l=c/Va(10,n-s-1)%10|0;else if(p=Math.ceil((a+1)/_r),o=h.length,p>=o)if(i){for(;o++<=p;)h.push(0);c=l=0,n=1,a%=_r,s=a-_r+1}else break e;else{for(c=o=h[p],n=1;o>=10;o/=10)n++;a%=_r,s=a-_r+n,l=s<0?0:c/Va(10,n-s-1)%10|0}if(i=i||e<0||h[p+1]!==void 0||(s<0?c:c%Va(10,n-s-1)),u=r<4?(l||i)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||i||r==6&&(a>0?s>0?c/Va(10,n-s):0:h[p-1])%10&1||r==(t.s<0?8:7)),e<1||!h[0])return h.length=0,u?(e-=t.e+1,h[0]=Va(10,(_r-e%_r)%_r),t.e=-e||0):h[0]=t.e=0,t;if(a==0?(h.length=p,o=1,p--):(h.length=p+1,o=Va(10,_r-a),h[p]=s>0?(c/Va(10,n-s)%Va(10,s)|0)*o:0),u)for(;;)if(p==0){for(a=1,s=h[0];s>=10;s/=10)a++;for(s=h[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(t.e++,h[0]==t0&&(h[0]=1));break}else{if(h[p]+=o,h[p]!=t0)break;h[p--]=0,o=1}for(a=h.length;h[--a]===0;)h.pop()}return Ur&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function $0(t,e,r){if(!t.isFinite())return WB(t);var i,n=t.e,a=xs(t.d),s=a.length;return e?(r&&(i=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+qc(i):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):n<0?(a="0."+qc(-n-1)+a,r&&(i=r-s)>0&&(a+=qc(i))):n>=s?(a+=qc(n+1-s),r&&(i=r-n-1)>0&&(a=a+"."+qc(i))):((i=n+1)<s&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-s)>0&&(n+1===s&&(a+="."),a+=qc(i))),a}function T3(t,e){var r=t[0];for(e*=_r;r>=10;r/=10)e++;return e}function L3(t,e,r){if(e>Gbe)throw Ur=!0,r&&(t.precision=r),Error(RB);return fr(new t($3),e,1,!0)}function _0(t,e,r){if(e>b7)throw Error(RB);return fr(new t(_3),e,r,!0)}function VB(t){var e=t.length-1,r=e*_r+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function qc(t){for(var e="";t--;)e+="0";return e}function GB(t,e,r,i){var n,a=new t(1),s=Math.ceil(i/_r+4);for(Ur=!1;;){if(r%2&&(a=a.times(e),KB(a.d,s)&&(n=!0)),r=Ps(r/2),r===0){r=a.d.length-1,n&&a.d[r]===0&&++a.d[r];break}e=e.times(e),KB(e.d,s)}return Ur=!0,a}function ZB(t){return t.d[t.d.length-1]&1}function HB(t,e,r){for(var i,n,a=new t(e[0]),s=0;++s<e.length;){if(n=new t(e[s]),!n.s){a=n;break}i=a.cmp(n),(i===r||i===0&&a.s===r)&&(a=n)}return a}function x7(t,e){var r,i,n,a,s,o,l,u=0,c=0,h=0,p=t.constructor,d=p.rounding,m=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(Ur=!1,l=m):l=e,o=new p(.03125);t.e>-2;)t=t.times(o),h+=5;for(i=Math.log(Va(2,h))/Math.LN10*2+5|0,l+=i,r=a=s=new p(1),p.precision=l;;){if(a=fr(a.times(t),l,1),r=r.times(++c),o=s.plus(bn(a,r,l,1)),xs(o.d).slice(0,l)===xs(s.d).slice(0,l)){for(n=h;n--;)s=fr(s.times(s),l,1);if(e==null)if(u<3&&kf(s.d,l-i,d,u))p.precision=l+=10,r=a=o=new p(1),c=0,u++;else return fr(s,p.precision=m,d,Ur=!0);else return p.precision=m,s}s=o}}function Uc(t,e){var r,i,n,a,s,o,l,u,c,h,p,d=1,m=10,f=t,v=f.d,y=f.constructor,x=y.rounding,g=y.precision;if(f.s<0||!v||!v[0]||!f.e&&v[0]==1&&v.length==1)return new y(v&&!v[0]?-1/0:f.s!=1?NaN:v?0:f);if(e==null?(Ur=!1,c=g):c=e,y.precision=c+=m,r=xs(v),i=r.charAt(0),Math.abs(a=f.e)<15e14){for(;i<7&&i!=1||i==1&&r.charAt(1)>3;)f=f.times(t),r=xs(f.d),i=r.charAt(0),d++;a=f.e,i>1?(f=new y("0."+r),a++):f=new y(i+"."+r.slice(1))}else return u=L3(y,c+2,g).times(a+""),f=Uc(new y(i+"."+r.slice(1)),c-m).plus(u),y.precision=g,e==null?fr(f,g,x,Ur=!0):f;for(h=f,l=s=f=bn(f.minus(1),f.plus(1),c,1),p=fr(f.times(f),c,1),n=3;;){if(s=fr(s.times(p),c,1),u=l.plus(bn(s,new y(n),c,1)),xs(u.d).slice(0,c)===xs(l.d).slice(0,c))if(l=l.times(2),a!==0&&(l=l.plus(L3(y,c+2,g).times(a+""))),l=bn(l,new y(d),c,1),e==null)if(kf(l.d,c-m,x,o))y.precision=c+=m,u=s=f=bn(h.minus(1),h.plus(1),c,1),p=fr(f.times(f),c,1),n=o=1;else return fr(l,y.precision=g,x,Ur=!0);else return y.precision=g,l;l=u,n+=2}}function WB(t){return String(t.s*t.s/0)}function z3(t,e){var r,i,n;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length),i=0;e.charCodeAt(i)===48;i++);for(n=e.length;e.charCodeAt(n-1)===48;--n);if(e=e.slice(i,n),e){if(n-=i,t.e=r=r-i-1,t.d=[],i=(r+1)%_r,r<0&&(i+=_r),i<n){for(i&&t.d.push(+e.slice(0,i)),n-=_r;i<n;)t.d.push(+e.slice(i,i+=_r));e=e.slice(i),i=_r-e.length}else i-=n;for(;i--;)e+="0";t.d.push(+e),Ur&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Hbe(t,e){var r,i,n,a,s,o,l,u,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),UB.test(e))return z3(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(qbe.test(e))r=16,e=e.toLowerCase();else if(jbe.test(e))r=2;else if(Ube.test(e))r=8;else throw Error(jc+e);for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),s=a>=0,i=t.constructor,s&&(e=e.replace(".",""),o=e.length,a=o-a,n=GB(i,new i(r),a,a*2)),u=I3(e,r,t0),c=u.length-1,a=c;u[a]===0;--a)u.pop();return a<0?new i(t.s*0):(t.e=T3(u,c),t.d=u,Ur=!1,s&&(t=bn(t,n,o*4)),l&&(t=t.times(Math.abs(l)<54?Va(2,l):Ui.pow(2,l))),Ur=!0,t)}function Wbe(t,e){var r,i=e.d.length;if(i<3)return e.isZero()?e:sd(t,2,e,e);r=1.4*Math.sqrt(i),r=r>16?16:r|0,e=e.times(1/B3(5,r)),e=sd(t,2,e,e);for(var n,a=new t(5),s=new t(16),o=new t(20);r--;)n=e.times(e),e=e.times(a.plus(n.times(s.times(n).minus(o))));return e}function sd(t,e,r,i,n){var a,s,o,l,u=t.precision,c=Math.ceil(u/_r);for(Ur=!1,l=r.times(r),o=new t(i);;){if(s=bn(o.times(l),new t(e++*e++),u,1),o=n?i.plus(s):i.minus(s),i=bn(s.times(l),new t(e++*e++),u,1),s=o.plus(i),s.d[c]!==void 0){for(a=c;s.d[a]===o.d[a]&&a--;);if(a==-1)break}a=o,o=i,i=s,s=a}return Ur=!0,s.d.length=c+1,s}function B3(t,e){for(var r=t;--e;)r*=t;return r}function YB(t,e){var r,i=e.s<0,n=_0(t,t.precision,1),a=n.times(.5);if(e=e.abs(),e.lte(a))return Au=i?4:1,e;if(r=e.divToInt(n),r.isZero())Au=i?3:2;else{if(e=e.minus(r.times(n)),e.lte(a))return Au=ZB(r)?i?2:3:i?4:1,e;Au=ZB(r)?i?1:4:i?3:2}return e.minus(n).abs()}function w7(t,e,r,i){var n,a,s,o,l,u,c,h,p,d=t.constructor,m=r!==void 0;if(m?(So(r,1,Rc),i===void 0?i=d.rounding:So(i,0,8)):(r=d.precision,i=d.rounding),!t.isFinite())c=WB(t);else{for(c=$0(t),s=c.indexOf("."),m?(n=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):n=e,s>=0&&(c=c.replace(".",""),p=new d(1),p.e=c.length-s,p.d=I3($0(p),10,n),p.e=p.d.length),h=I3(c,10,n),a=l=h.length;h[--l]==0;)h.pop();if(!h[0])c=m?"0p+0":"0";else{if(s<0?a--:(t=new d(t),t.d=h,t.e=a,t=bn(t,p,r,i,0,n),h=t.d,a=t.e,u=PB),s=h[r],o=n/2,u=u||h[r+1]!==void 0,u=i<4?(s!==void 0||u)&&(i===0||i===(t.s<0?3:2)):s>o||s===o&&(i===4||u||i===6&&h[r-1]&1||i===(t.s<0?8:7)),h.length=r,u)for(;++h[--r]>n-1;)h[r]=0,r||(++a,h.unshift(1));for(l=h.length;!h[l-1];--l);for(s=0,c="";s<l;s++)c+=v7.charAt(h[s]);if(m){if(l>1)if(e==16||e==8){for(s=e==16?4:3,--l;l%s;l++)c+="0";for(h=I3(c,n,e),l=h.length;!h[l-1];--l);for(s=1,c="1.";s<l;s++)c+=v7.charAt(h[s])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>l)for(a-=l;a--;)c+="0";else a<l&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return t.s<0?"-"+c:c}function KB(t,e){if(t.length>e)return t.length=e,!0}function Ybe(t){return new this(t).abs()}function Kbe(t){return new this(t).acos()}function Xbe(t){return new this(t).acosh()}function Qbe(t,e){return new this(t).plus(e)}function Jbe(t){return new this(t).asin()}function e6e(t){return new this(t).asinh()}function t6e(t){return new this(t).atan()}function r6e(t){return new this(t).atanh()}function i6e(t,e){t=new this(t),e=new this(e);var r,i=this.precision,n=this.rounding,a=i+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=_0(this,a,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?_0(this,i,n):new this(0),r.s=t.s):!t.d||e.isZero()?(r=_0(this,a,1).times(.5),r.s=t.s):e.s<0?(this.precision=a,this.rounding=1,r=this.atan(bn(t,e,a,1)),e=_0(this,a,1),this.precision=i,this.rounding=n,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(bn(t,e,a,1)),r}function n6e(t){return new this(t).cbrt()}function a6e(t){return fr(t=new this(t),t.e+1,2)}function s6e(t,e,r){return new this(t).clamp(e,r)}function o6e(t){if(!t||typeof t!="object")throw Error(E3+"Object expected");var e,r,i,n=t.defaults===!0,a=["precision",1,Rc,"rounding",0,8,"toExpNeg",-ad,0,"toExpPos",0,ad,"maxE",0,ad,"minE",-ad,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(r=a[e],n&&(this[r]=y7[r]),(i=t[r])!==void 0)if(Ps(i)===i&&i>=a[e+1]&&i<=a[e+2])this[r]=i;else throw Error(jc+r+": "+i);if(r="crypto",n&&(this[r]=y7[r]),(i=t[r])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(jB);else this[r]=!1;else throw Error(jc+r+": "+i);return this}function l6e(t){return new this(t).cos()}function u6e(t){return new this(t).cosh()}function XB(t){var e,r,i;function n(a){var s,o,l,u=this;if(!(u instanceof n))return new n(a);if(u.constructor=n,QB(a)){u.s=a.s,Ur?!a.d||a.e>n.maxE?(u.e=NaN,u.d=null):a.e<n.minE?(u.e=0,u.d=[0]):(u.e=a.e,u.d=a.d.slice()):(u.e=a.e,u.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){u.s=1/a<0?-1:1,u.e=0,u.d=[0];return}if(a<0?(a=-a,u.s=-1):u.s=1,a===~~a&&a<1e7){for(s=0,o=a;o>=10;o/=10)s++;Ur?s>n.maxE?(u.e=NaN,u.d=null):s<n.minE?(u.e=0,u.d=[0]):(u.e=s,u.d=[a]):(u.e=s,u.d=[a]);return}if(a*0!==0){a||(u.s=NaN),u.e=NaN,u.d=null;return}return z3(u,a.toString())}if(l==="string")return(o=a.charCodeAt(0))===45?(a=a.slice(1),u.s=-1):(o===43&&(a=a.slice(1)),u.s=1),UB.test(a)?z3(u,a):Hbe(u,a);if(l==="bigint")return a<0?(a=-a,u.s=-1):u.s=1,z3(u,a.toString());throw Error(jc+a)}if(n.prototype=xt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=o6e,n.clone=XB,n.isDecimal=QB,n.abs=Ybe,n.acos=Kbe,n.acosh=Xbe,n.add=Qbe,n.asin=Jbe,n.asinh=e6e,n.atan=t6e,n.atanh=r6e,n.atan2=i6e,n.cbrt=n6e,n.ceil=a6e,n.clamp=s6e,n.cos=l6e,n.cosh=u6e,n.div=c6e,n.exp=h6e,n.floor=p6e,n.hypot=d6e,n.ln=m6e,n.log=f6e,n.log10=v6e,n.log2=g6e,n.max=y6e,n.min=b6e,n.mod=x6e,n.mul=w6e,n.pow=M6e,n.random=k6e,n.round=C6e,n.sign=N6e,n.sin=S6e,n.sinh=D6e,n.sqrt=A6e,n.sub=$6e,n.sum=_6e,n.tan=E6e,n.tanh=I6e,n.trunc=T6e,t===void 0&&(t={}),t&&t.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)t.hasOwnProperty(r=i[e++])||(t[r]=this[r]);return n.config(t),n}function c6e(t,e){return new this(t).div(e)}function h6e(t){return new this(t).exp()}function p6e(t){return fr(t=new this(t),t.e+1,3)}function d6e(){var t,e,r=new this(0);for(Ur=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return Ur=!0,new this(1/0);r=e}return Ur=!0,r.sqrt()}function QB(t){return t instanceof Ui||t&&t.toStringTag===qB||!1}function m6e(t){return new this(t).ln()}function f6e(t,e){return new this(t).log(e)}function g6e(t){return new this(t).log(2)}function v6e(t){return new this(t).log(10)}function y6e(){return HB(this,arguments,-1)}function b6e(){return HB(this,arguments,1)}function x6e(t,e){return new this(t).mod(e)}function w6e(t,e){return new this(t).mul(e)}function M6e(t,e){return new this(t).pow(e)}function k6e(t){var e,r,i,n,a=0,s=new this(1),o=[];if(t===void 0?t=this.precision:So(t,1,Rc),i=Math.ceil(t/_r),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));a<i;)n=e[a],n>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=n%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);a<i;)n=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(e,a):(o.push(n%1e7),a+=4);a=i/4}else throw Error(jB);else for(;a<i;)o[a++]=Math.random()*1e7|0;for(i=o[--a],t%=_r,i&&t&&(n=Va(10,_r-t),o[a]=(i/n|0)*n);o[a]===0;a--)o.pop();if(a<0)r=0,o=[0];else{for(r=-1;o[0]===0;r-=_r)o.shift();for(i=1,n=o[0];n>=10;n/=10)i++;i<_r&&(r-=_r-i)}return s.e=r,s.d=o,s}function C6e(t){return fr(t=new this(t),t.e+1,this.rounding)}function N6e(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function S6e(t){return new this(t).sin()}function D6e(t){return new this(t).sinh()}function A6e(t){return new this(t).sqrt()}function $6e(t,e){return new this(t).sub(e)}function _6e(){var t=0,e=arguments,r=new this(e[t]);for(Ur=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return Ur=!0,fr(r,this.precision,this.rounding)}function E6e(t){return new this(t).tan()}function I6e(t){return new this(t).tanh()}function T6e(t){return fr(t=new this(t),t.e+1,1)}xt[Symbol.for("nodejs.util.inspect.custom")]=xt.toString,xt[Symbol.toStringTag]="Decimal";var Ui=xt.constructor=XB(y7);$3=new Ui($3),_3=new Ui(_3);var M7=["number","finite_number","complex","finite_complex","imaginary","real","finite_real","rational","finite_rational","integer","finite_integer","non_finite_number"],k7=["collection","list","set","tuple","map"],C7=["scalar",...M7,"boolean","string"],JB=["value",...k7,...C7],eO=["expression","symbol","function",...JB],Cf=["any","unknown","nothing","never","error",...eO],tO=3,rO=1,iO=2,L6e=4,z6e=5,B6e=6,O6e=7,F6e=8,P6e=9,R6e=10;function fa(t,e=0){if(typeof t=="string")return t;let r="";switch(t.kind){case"value":typeof t.value=="string"?r=`"${t.value}"`:typeof t.value=="boolean"?r=t.value?"true":"false":r=t.value.toString();break;case"reference":r=t.ref;break;case"negation":r=`!${fa(t.type,tO)}`;break;case"union":r=t.types.map(s=>fa(s,rO)).join(" | ");break;case"intersection":r=t.types.map(s=>fa(s,iO)).join(" & ");break;case"list":if(t.dimensions&&ur(t.elements,"number")){if(t.dimensions===void 0)t.elements==="number"&&(r="tensor");else if(t.dimensions.length===1)t.elements==="number"?t.dimensions[0]<0?r="vector":r=`vector<${t.dimensions[0]}>`:t.dimensions[0]<0?r=`vector<${fa(t.elements)}>`:r=`vector<${fa(t.elements)}^${t.dimensions[0]}>`;else if(t.dimensions.length===2){let s=t.dimensions;t.elements==="number"?s[0]<0&&s[1]<0?r="matrix":r=`matrix<${s[0]}x${s[1]}>`:s[0]<0&&s[1]<0?r=`matrix<${fa(t.elements)}>`:r=`matrix<${fa(t.elements)}^(${s[0]}x${s[1]})>`}}if(!r){let s=t.dimensions?t.dimensions.length===1?`^${t.dimensions[0].toString()}`:`^(${t.dimensions.join("x")})`:"";r=`list<${fa(t.elements)}${s}>`}break;case"map":r=`map<${Object.entries(t.elements).map(([s,o])=>`${s}: ${fa(o)}`).join(", ")}>`;break;case"set":r=`set<${fa(t.elements)}>`;break;case"collection":r=`collection<${fa(t.elements)}>`;break;case"tuple":if(t.elements.length===0)r="tuple";else if(t.elements.length===1){let[s]=t.elements;r=`tuple<${Nf(s)}>`}else r="tuple<"+t.elements.map(s=>Nf(s)).join(", ")+">";break;case"signature":let i=t.args?t.args.map(s=>Nf(s)).join(", "):"",n=t.optArgs?t.optArgs.map(s=>Nf(s)+"?").join(", "):"",a=t.restArg?`...${Nf(t.restArg)}`:"";r=`(${[i,n,a].filter(s=>s).join(", ")}) -> ${fa(t.result)}`;break;default:r="error"}return e>0&&e>j6e(t.kind)?`(${r})`:r}function Nf(t){return t.name?`${t.name}: ${fa(t.type)}`:fa(t.type)}function j6e(t){switch(t){case"negation":return tO;case"union":return rO;case"intersection":return iO;case"list":return L6e;case"map":return z6e;case"set":return B6e;case"collection":return O6e;case"tuple":return F6e;case"signature":return P6e;case"value":return R6e;default:return 0}}function q6e(t,e){return t===e?t:t==="nothing"||e==="nothing"?"nothing":t==="any"?e:e==="any"?t:t==="never"?e:e==="never"?t:t==="unknown"?e:e==="unknown"||ur(t,e)?t:ur(e,t)?e:nO(t,e)}function U6e(t,e){return t===e?t:t==="any"||e==="any"?"any":t==="never"?e:e==="never"?t:t==="unknown"?e:e==="unknown"?t:t==="nothing"?e:e==="nothing"?t:ur(t,e)?e:ur(e,t)?t:nO(t,e)}function V6e(...t){return t.length===0?"nothing":t.length===1?t[0]:t.reduce(q6e)}function E0(...t){return t.length===0?"nothing":t.length===1?t[0]:t.reduce(U6e)}function O3(t){return t=typeof t=="string"?Mi(t):t,typeof t!="string"&&t.kind==="signature"}function F3(t){if(t){if(t==="function")return"any";if(typeof t!="string"&&t.kind==="signature")return t.result}}function Sf(t){if(t==="collection")return"any";if(typeof t!="string"){if(t.kind==="collection"||t.kind==="list")return t.elements;if(t.kind==="map")return Mi(`tuple<string, ${E0(...Object.values(t.elements))}>`);if(t.kind==="set")return t.elements;if(t.kind==="tuple")return E0(...t.elements.map(e=>e.type))}}function Df(t){return typeof t=="string"?Cf.includes(t):typeof t!="object"||!("kind"in t)?!1:t.kind==="signature"||t.kind==="union"||t.kind==="intersection"||t.kind==="negation"||t.kind==="tuple"||t.kind==="list"||t.kind==="map"||t.kind==="set"||t.kind==="function"||t.kind==="collection"||t.kind==="reference"}function nO(t,e){return t===e?t:t==="any"||e==="any"?"any":t==="never"?e:e==="never"?t:t==="unknown"?e:e==="unknown"?t:t==="nothing"?e:e==="nothing"?t:ga(t,e,"non_finite_number")?"non_finite_number":ga(t,e,"finite_integer")?"finite_integer":ga(t,e,"integer")?"integer":ga(t,e,"finite_rational")?"finite_rational":ga(t,e,"rational")?"rational":ga(t,e,"finite_real")?"finite_real":ga(t,e,"real")?"real":ga(t,e,"imaginary")?"imaginary":ga(t,e,"finite_complex")?"finite_complex":ga(t,e,"complex")?"complex":ga(t,e,"finite_number")?"finite_number":ga(t,e,"number")?"number":ga(t,e,"list")?"list":ga(t,e,"map")?"map":ga(t,e,"set")?"set":ga(t,e,"tuple")?"tuple":ga(t,e,"collection")?"collection":ga(t,e,"scalar")?"scalar":ga(t,e,"value")?"value":ga(t,e,"function")?"function":ga(t,e,"expression")?"expression":"any"}function ga(t,e,r){return!!(ur(t,r)&&ur(e,r))}function G6e(t,e){if(t===e)return 0;if(t.length===0)return e.length;if(e.length===0)return t.length;let r=Array.from({length:t.length+1},(n,a)=>a),i=new Array(t.length+1);for(let n=1;n<=e.length;n++){i[0]=n;for(let a=1;a<=t.length;a++){let s=t[a-1]===e[n-1]?0:1;i[a]=Math.min(r[a]+1,i[a-1]+1,r[a-1]+s)}[r,i]=[i,r]}return r[t.length]}function Z6e(t,e){let r=null,i=1/0,n=t.length;for(let a of e){if(Math.abs(n-a.length)>3)continue;let s=G6e(t,a);if(s===0)return a;s<=3&&s<i&&(i=s,r=a)}return r}var H6e=class{constructor(e,r){this.buffer=e,this.pos=0,this._valueParser=(r==null?void 0:r.value)??(()=>null),this._typeParser=(r==null?void 0:r.type)??(()=>null)}error(...e){throw new Error(`
Invalid type
|   ${this.buffer}
|   ${" ".repeat(this.pos)}^
|   
|   ${e.join(`
|   `)}
`)}peek(){return this.buffer[this.pos]}consume(){return this.buffer[this.pos++]}match(e){if(e.length===1&&this.buffer[this.pos]===e)return this.pos++,!0;let r=this.pos;return this.buffer.slice(r,r+e.length)===e?(this.pos+=e.length,!0):!1}skipWhitespace(){for(;this.pos<this.buffer.length&&/\s/.test(this.buffer[this.pos]);)this.pos++}isEOF(){return this.pos>=this.buffer.length}parseValue(){this.skipWhitespace();let e=this._valueParser(this);return e===null?null:{kind:"value",value:e}}parseTypeReference(){this.skipWhitespace();let e=this._typeParser(this);return e===null?null:{kind:"reference",ref:e}}parsePrimitiveType(){this.skipWhitespace(),this.isEOF()&&this.error("Unexpected end of input");for(let e of Cf)if(this.match(e))return e;return null}parseArguments(){let e=[],r=[];for(;;){let s=this.parseNamedElement();if(s===null||(this.match("?")?r.push(s):(r.length>0&&this.error("Optional arguments must come after required arguments"),e.push(s)),this.skipWhitespace(),!this.match(",")))break}let i=this.pos,n=this.parseRestArgument()??void 0;n&&r.length>0&&(this.pos=i,this.error("Optional arguments cannot be followed by a rest argument"));let a=aO([...e,...r,...n?[n]:[]]);return a&&this.error(`Duplicate argument name "${a}"`),[e,r,n]}parseRestArgument(){let e=this.pos,r=this.parseName();if(this.skipWhitespace(),!this.match("..."))return this.pos=e,null;let i=this.parsePrimitiveType()??this.parseGroup();if(!i&&!r&&(this.pos=e,this.match("...")&&this.parseName())){let n=this.parsePrimitiveType()??this.parseGroup();this.pos=e,this.error("The rest argument indicator is placed before the type, not the name",`Use "${r}: ...${n?fa(n):"number"}"`)}return this.skipWhitespace(),this.match(":")&&this.error('Unexpected ":" after rest argument. Use "x: ...number"'),i??(i="any"),r?{name:r,type:i}:{type:i}}parseFunctionSignature(){let e=[],r=[],i;this.skipWhitespace();let n=this.pos;if(!this.match("()")){if(this.match("(")){if([e,r,i]=this.parseArguments(),this.skipWhitespace(),!this.match(")"))return i&&(this.parseNamedElement()&&(this.pos=n,this.error("The rest argument must be the last argument")),this.error("The rest argument must have a valid type")),r.length>0&&(this.parseNamedElement()&&this.error("Optional arguments cannot be followed by required arguments"),this.skipWhitespace(),n=this.pos,this.match("->")&&(this.pos=n,this.error('Expected ")" to close the argument list')),this.error("Expected an argument")),this.pos=n,null}else if(i=this.parseRestArgument()??void 0,i!=null&&i.name&&(this.pos=n,this.error("Named arguments must be enclosed in parentheses")),!i)return this.pos=n,null}if(this.skipWhitespace(),!this.match("->"))return this.pos=n,null;let a=this.parseType();return a===null&&this.error("Expected a return type.","Use `any` for any type, `nothing` for no return value, or `never` for a function that never returns"),e.length===0&&(e=void 0),r.length===0&&(r=void 0),{kind:"signature",args:e,optArgs:r,restArg:i,result:a}}parsePositiveIntegerLiteral(){let e=0;for(this.skipWhitespace();/[0-9]/.test(this.peek());)e=e*10+parseInt(this.consume());return e===0?null:e}parseOptionalDimension(){let e=this.parsePositiveIntegerLiteral();return e===null&&this.match("?")&&(e=-1),e}parseDimensions(){let e=this.pos,r=this.match("("),i=[],n=this.parseOptionalDimension();if(n===null){this.pos=e;return}do{if(i.push(n),this.skipWhitespace(),!this.match("x"))break;this.skipWhitespace(),n=this.parseOptionalDimension(),n===null&&this.error("Expected a positive integer literal or `?`.","For example : `matrix<integer^2x3>` or `matrix<integer^?x?>`")}while(!0);return this.skipWhitespace(),r&&!this.match(")")&&this.error('Expected ")".',"For example `matrix<integer^(2x3)>`"),i}parseList(){if(this.skipWhitespace(),this.match("list<")){let i=this.parseDimensions();if(i!==void 0)return this.skipWhitespace(),this.match(">")||this.error('Expected ">".',"For example `list<2x3>`"),{kind:"list",elements:"any",dimensions:i};let n=this.parseType();return n&&this.match("^")&&(i=this.parseDimensions(),i===void 0&&this.error("Expected dimensions after `^`.","For example `list<number^2x3>`")),this.skipWhitespace(),this.match(">")||this.error('Expected ">".',"For example `list<number>`"),{kind:"list",elements:n??"any",dimensions:i}}if(this.match("list(")&&this.error("Use `list<type>` instead of `list(type)`.","For example `list<number>`"),this.match("vector<")){let i=this.parseType(),n;if(i&&this.match("^")){let a=this.parsePositiveIntegerLiteral();a===null&&this.error("Expected a positive integer literal.","For example `vector<3>`","Use `vector` for a vector of unknown size"),n=[a]}else i||(i="number",n=this.parseDimensions());return this.skipWhitespace(),this.match(">")||this.error('Expected ">"',"For example `vector<integer>`"),{kind:"list",elements:i,dimensions:n}}if(this.match("vector(")&&this.error("Use `vector<...>` instead of `vector(...)`.","For example `vector<3>` or `vector<integer^3>`"),this.match("vector"))return{kind:"list",elements:"number"};if(this.match("matrix<")){let i=this.parseType(),n;return i&&this.match("^")?(n=this.parseDimensions(),n===void 0&&this.error("Expected dimensions","For example `matrix<number^2x3>`","Use `matrix` for a matrix of unknown size")):i||(i="number",n=this.parseDimensions()),this.match(">")||this.error('Expected ">".',"For example `matrix<integer>`"),{kind:"list",elements:i,dimensions:n}}if(this.match("matrix(")&&this.error("Use `matrix<...>` instead of `matrix(...)`.","For example `matrix<3x2>` or `matrix<integer^3x2>`"),this.match("matrix"))return{kind:"list",elements:"number",dimensions:[-1,-1]};if(this.match("tensor<")){let i=this.parseType()??"number";return this.match(">")||this.error('Expected ">".',"For example `tensor<number>`"),{kind:"list",elements:i,dimensions:void 0}}if(this.match("tensor"))return{kind:"list",elements:"number",dimensions:void 0};if(!this.match("list<"))return null;let e=this.parseType();e===null&&this.error('Expected a type. Use "[any]" for a collection of any type');let r=this.match("^")?this.parseDimensions():void 0;return this.skipWhitespace(),this.match(">")||this.error('Expected ">".',"For example `list<number^2x3>`"),{kind:"list",elements:e,dimensions:r}}parseName(){let e=this.pos;if(this.skipWhitespace(),this.isEOF()||!/[a-zA-Z_]/.test(this.peek()))return null;let r="";for(;!this.isEOF()&&/[a-zA-Z0-9_]/.test(this.peek());)r+=this.consume();if(this.skipWhitespace(),!this.match(":")){if(this.match("?:")){let i=this.parseType();i&&this.error("Optional qualifier must come after the type",`Use "${r}: ${fa(i)}?"`),this.error("Optional qualifier must come after the type",`Use "${r}: number?"`)}return this.pos=e,null}return r}parseKey(){if(this.skipWhitespace(),this.isEOF())return null;let e="";if(this.match("`")){for(;this.peek()!=="`";)this.isEOF()&&this.error("Expected closing backtick"),this.match("\\`")?e+="`":e+=this.consume();return e}for(;!this.isEOF()&&!/[:\s]/.test(this.peek());)e+=this.consume();return e}parseNamedElement(){let e=this.pos,r=this.parseName();if(r!==null){let n=this.parseType();if(n===null){if(this.skipWhitespace(),this.match("..."))return this.pos=e,null;this.pos=e,this.error(`Expected a valid type after "${r}:"`)}return this.skipWhitespace(),this.match("->")&&(this.pos=e,this.error("Single named argument must be enclosed in parentheses")),{name:r,type:n}}let i=this.parseType();return i===null?(this.pos=e,null):{type:i}}parseTupleElements(){let e=[],r=this.pos,i=this.parseNamedElement();if(i===null)return[];for(;e.push(i),this.skipWhitespace(),!!this.match(",");)r=this.pos,i=this.parseNamedElement(),i===null&&(this.pos=r,this.error("Expected a type or unexpected comma"));let n=aO(e);return n&&this.error(`Duplicate tuple named element "${n}"`),e}parseTuple(){if(this.skipWhitespace(),!this.match("tuple<"))return this.match("tuple(")&&this.error("Use `tuple<type>` instead of `tuple(type)`.","For example `tuple<number, boolean>` or `tuple<x: integer, y: integer>`"),null;let e=this.parseTupleElements();return this.skipWhitespace(),this.match(">")||this.error('Expected ">".',"For example `tuple<number, boolean>` or `tuple<x: integer, y: integer>`"),{kind:"tuple",elements:e}}parseGroup(){let e=this.pos;if(this.skipWhitespace(),!this.match("("))return null;let r=this.parseType();return r===null?(this.pos=e,null):(this.skipWhitespace(),this.match(")")&&(this.skipWhitespace(),!this.match("->"))?r:(this.pos=e,null))}parseSet(){if(this.skipWhitespace(),!this.match("set<"))return this.match("set(")&&this.error("Use `set<type>` instead of `set(type)`.","For example `set<number>`"),this.match("set")?"set":null;let e=this.parseType();return e===null&&this.error("Expected a type.","Use `set<number>` for a set of numbers"),this.skipWhitespace(),this.match(">")||this.error("Expected `>`.","For example `set<number>`"),{kind:"set",elements:e}}parseMapElements(){var r;let e=[];for(;;){let i=this.parseKey();i===null&&this.error("Expected a name for the key.","For example `map<key: string>`.","Use backticks for special characters.","For example `map<`key with space`: string>`"),this.skipWhitespace(),this.match(":")||this.error("Expected a type separated by a `:` after the key.",`For example \`map<${i}: string>\``,"Use backticks for special characters.","For example `map<`key with space`: string>`");let n=this.parseType();if(n===null&&this.error("Expected a type for the value. Use `any` for any type.",`For example \`map<${i}: any>.\``),e.push([i,n]),this.skipWhitespace(),!this.match(","))break}if(new Set(e.map(([i])=>i)).size!==e.length){let i=(r=e.find(([n],a)=>e.slice(a+1).some(([s])=>s===n)))==null?void 0:r[0];this.error(`Duplicate map key "${i}"`,"Keys in a map must be unique.")}return e}parseMap(){if(this.skipWhitespace(),this.match("map(")&&this.error('Use `map<key: type>` instead of `map(key: type)".',"For example `map<key: string>`"),this.match("map<")){let e=this.parseMapElements();return this.skipWhitespace(),this.match(">")||this.error("Expected a closing `>`.","For example `map<key: string>`"),{kind:"map",elements:Object.fromEntries(e)}}return this.match("map")?"map":null}parseCollection(){if(this.skipWhitespace(),!this.match("collection<"))return this.match("collection(")&&this.error("Use `collection<type>` instead of `collection(type)`.","For example `collection<number>`"),this.match("collection")?"collection":null;let e=this.parseType();return e===null&&this.error("Expected a type.","Use `collection<number>` for a collection of numbers"),this.skipWhitespace(),this.match(">")||this.error('Expected ">".',"For example `collection<number>`"),{kind:"collection",elements:e}}parsePrimary(){let e=this.parseGroup()??this.parseNegationType()??this.parseList()??this.parseSet()??this.parseMap()??this.parseCollection()??this.parseTuple()??this.parsePrimitiveType()??this.parseValue()??this.parseTypeReference();if(e===null){let r="";for(;!this.isEOF()&&/[a-zA-Z_]/.test(this.peek());)r+=this.consume();if(!r)return null;let i=Z6e(r,[...Cf,"vector","matrix"]);return i&&this.error(`Unknown keyword "${r}"`,`Did you mean "${i}"?`),null}if(this.skipWhitespace(),this.match("->")){let r=this.parseType();r===null&&this.error("Expected return type","Use `any` for any type, `nothing` for no return value or `never` for a function that never returns"),e={kind:"signature",args:[{type:e}],result:r}}return e}parseNegationType(){if(!this.match("!"))return null;let e=this.parsePrimary();return e===null&&this.error("Expected type"),{kind:"negation",type:e}}parseIntersectionType(){let e=this.parseFunctionSignature()??this.parsePrimary();if(e===null)return null;let r=[e];for(this.skipWhitespace();this.match("&");)this.skipWhitespace(),e=this.parsePrimary(),e===null&&this.error("Expected type"),r.push(e);return r.length===1?r[0]:{kind:"intersection",types:r}}parseUnionType(){let e=this.parseIntersectionType();if(e===null)return null;let r=[e];for(this.skipWhitespace();this.match("|");)e=this.parseIntersectionType(),e===null&&this.error("Expected type"),r.push(e);return r.length===1?r[0]:{kind:"union",types:r}}parseType(){if(this.skipWhitespace(),this.isEOF())return null;if(this.peek()==="("){let e=this.parseFunctionSignature();if(e)return e}return this.parseUnionType()}parse(){let e=this.pos;this.parseName()!==null&&(this.pos=e,this.error("Named elements must be enclosed in parentheses"));let r=this.parseType();return r===null&&this.error("Syntax error. The type was not recognized."),this.skipWhitespace(),this.isEOF()||this.error("Unexpected character. Could be some mismatched parentheses."),r}};function W6e(t){let e=t.pos;if(t.skipWhitespace(),/["]/.test(t.peek())){let r=t.consume(),i="";for(;t.peek()!==r;)t.isEOF()&&t.error("Expected closing quote"),t.match("\\"+r)?i+=r:i+=t.consume();return t.consume(),i}if(t.match("0x")){let r=0;for(;/[0-9a-fA-F]/.test(t.peek());)r=r*16+parseInt(t.consume(),16);return r}if(t.match("0b")){let r=0;for(;/[01]/.test(t.peek());)r=r*2+parseInt(t.consume());return r}if(/[-0-9\.]/.test(t.peek())){let r=0,i=1;if(t.match("-")&&(i=-1),!/[0-9]/.test(t.peek()))return t.pos=e,null;for(;/[0-9]/.test(t.peek());)r=r*10+parseInt(t.consume());if(t.match(".")){let n=0,a=1;for(;/[0-9]/.test(t.peek());)n=n*10+parseInt(t.consume()),a*=10;r+=n/a}if(t.match("e")||t.match("E")){let n=0,a=1;for(t.match("+")&&(a=1),t.match("-")&&(a=-1);/[0-9]/.test(t.peek());)n=n*10+parseInt(t.consume());r*=Math.pow(10,a*n)}return i*r}return t.match("true")?!0:t.match("false")?!1:t.match("nan")?NaN:t.match("infinity")?1/0:t.match("-infinity")?-1/0:(t.pos=e,null)}function Mi(t){return t===void 0?void 0:Df(t)?t:typeof t!="string"?void 0:Cf.includes(t)?t:new H6e(t,{value:W6e}).parse()}function aO(t){let e=new Set;for(let{name:r}of t)if(r){if(e.has(r))return r;e.add(r)}return""}var Y6e={number:M7,non_finite_number:[],finite_number:["finite_complex","finite_real","finite_integer","finite_rational"],complex:["finite_complex","imaginary","finite_real","finite_rational","finite_integer","non_finite_number"],finite_complex:["imaginary","finite_real","finite_rational","finite_integer"],imaginary:[],real:["rational","integer","finite_real","finite_rational","finite_integer","non_finite_number"],finite_real:["finite_rational","finite_integer"],rational:["finite_rational","finite_integer","integer","non_finite_number"],finite_rational:["finite_integer"],integer:["finite_integer","non_finite_number"],finite_integer:[],any:Cf,unknown:[],nothing:[],never:[],error:[],value:JB,scalar:C7,collection:k7,list:[],set:[],tuple:[],map:[],function:[],symbol:[],boolean:[],string:[],expression:eO};function Af(t,e){return e==="any"||t==="never"?!0:t==="unknown"||e==="unknown"?!1:t===e?!0:Y6e[e].includes(t)}function ur(t,e){if(typeof t=="string"&&typeof e=="string"&&t===e||(typeof t=="string"&&(t=Mi(t)),typeof e=="string"&&(e=Mi(e)),e==="any"))return!0;if(e==="never"||e==="error")return!1;if(e==="nothing")return t==="nothing";if(t==="nothing")return!1;if(e==="unknown")return!0;if(t==="unknown")return!1;if(typeof e=="string")return typeof t=="string"?Af(t,e):t.kind==="value"?typeof t.value=="boolean"?e==="boolean":typeof t.value=="number"?Number.isInteger(t.value)?Af("integer",e):Af("number",e):typeof t.value=="boolean"?Af("boolean",e):typeof t.value=="string"?Af("string",e):!1:e==="numeric"?sO(t):e==="function"?cO(t):e==="expression"?K6e(t):e==="scalar"?oO(t):e==="value"?uO(t):e==="collection"?lO(t):e==="tuple"?t.kind==="tuple":e==="list"?t.kind==="list":e==="set"?t.kind==="set":e==="map"?t.kind==="map":t.kind==="union"?t.types.every(r=>ur(r,e)):!1;if(e.kind==="union")return typeof t!="string"&&t.kind==="union"?t.types.every(r=>e.types.some(i=>ur(r,i))):e.types.some(r=>ur(t,r));if(typeof t=="string")return!1;if(t.kind==="reference"&&e.kind==="reference")return t.ref===e.ref;if(t.kind==="union")return t.types.some(r=>ur(r,e));if(t.kind==="intersection"&&e.kind==="intersection")return e.types.every(r=>t.types.some(i=>ur(i,r)));if(t.kind==="intersection")return t.types.every(r=>ur(r,e));if(e.kind==="intersection")return e.types.every(r=>ur(t,r));if(t.kind==="signature"&&e.kind==="signature"){if(!ur(t.result,e.result))return!1;if(e.args){if(!t.args||t.args.length!==e.args.length)return!1;for(let r=0;r<t.args.length;r++)if(!ur(e.args[r].type,t.args[r].type))return!1}else if(t.args)return!1;if(e.optArgs){if(!t.optArgs||t.optArgs.length!==e.optArgs.length)return!1;for(let r=0;r<t.optArgs.length;r++)if(!ur(e.optArgs[r].type,t.optArgs[r].type))return!1}else if(t.optArgs)return!1;if(e.restArg){if(!t.restArg||!ur(e.restArg.type,t.restArg.type))return!1}else if(t.restArg)return!1;return!0}if(t.kind==="map"&&e.kind==="map"){let r=Object.entries(t.elements),i=Object.entries(e.elements);for(let n=0;n<i.length;n++){let[a,s]=i[n],o=r.findIndex(c=>c[0]===a);if(o===-1)return!1;let l=s,u=r[o][1];if(!ur(u,l))return!1}return!0}if(e.kind==="collection")return t.kind==="collection"||t.kind==="list"||t.kind==="set"?!!ur(t.elements,e.elements):t.kind==="tuple"?t.elements.every(r=>ur(r.type,e.elements)):!1;if(t.kind==="tuple"&&e.kind==="tuple"){if(t.elements.length!==e.elements.length)return!1;for(let r=0;r<t.elements.length;r++){let i=t.elements[r],n=e.elements[r];if(!ur(i.type,n.type)||i.name!==n.name)return!1}return!0}if(e.kind==="list"&&t.kind==="list"){if(!ur(t.elements,e.elements))return!1;if(e.dimensions){if(!t.dimensions||t.dimensions.length!==e.dimensions.length)return!1;for(let r=0;r<t.dimensions.length;r++)if(e.dimensions[r]!==-1&&t.dimensions[r]!==e.dimensions[r])return!1}return!0}if(e.kind==="set"&&t.kind==="set")return!!ur(t.elements,e.elements);if(t.kind==="negation"&&e.kind==="negation")return ur(t.type,e.type);if(e.kind==="negation")return!ur(t,e.type);if(e.kind==="value"&&t.kind==="value")return e.value===t.value;if(t.kind==="value"){if(typeof t.value=="boolean")return ur("boolean",e);if(typeof t.value=="number")return Number.isInteger(t.value)?ur("integer",e):ur("real",e);if(typeof t.value=="string")return ur("string",e)}return!1}function sO(t){return typeof t=="string"?M7.includes(t):t.kind==="value"?typeof t.value=="number":!1}function oO(t){return sO(t)?!0:typeof t=="string"?C7.includes(t):t.kind==="value"?["string","boolean","number"].includes(typeof t.value):!1}function lO(t){return typeof t=="string"?k7.includes(t):["collection","list","set","tuple","map"].includes(t.kind)}function uO(t){return oO(t)||lO(t)}function cO(t){return t==="function"||typeof t!="string"&&t.kind==="signature"}function K6e(t){return!!(typeof t=="string"&&["expression","symbol","function"].includes(t)||uO(t)||cO(t))}var N7=class jZ{constructor(e){typeof e=="string"?this.type=Mi(e):this.type=e}matches(e){return e instanceof jZ?ur(this.type,e.type):ur(this.type,e)}is(e){return ur(this.type,e)&&ur(e,this.type)}get isUnknown(){return this.type==="unknown"}toString(){return fa(this.type)}toJSON(){return fa(this.type)}[Symbol.toPrimitive](e){return e==="string"?this.toString():null}valueOf(){return fa(this.type)}};N7.unknown=new N7("unknown");var Ji=N7;function X6e(t){let e=[];for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let n=t.charCodeAt(r+1);if(n>=56320&&n<=57343){let a=i-55296,s=n-56320;i=2**16+a*2**10+s,r++}}e.push(i)}return e}var P3=8205,hO=[127462,127487];function pO(t){return t===P3||t===65038||t===65039||t>=127995&&t<=128e3||t>=129456&&t<=129460||t>=917536&&t<=917632}function Q6e(t){return t>=hO[0]&&t<=hO[1]}function J6e(t){if(/^[\u0020-\u00FF]*$/.test(t))return t;let e=[],r=X6e(t),i=0;for(;i<r.length;){let n=r[i++],a=r[i];if(a===P3){let s=i-1;for(i+=2;r[i]===P3;)i+=2;e.push(String.fromCodePoint(...r.slice(s,2*i-s+1)))}else if(pO(a)){let s=i-1;for(;pO(r[i]);)i+=r[i]===P3?2:1;e.push(String.fromCodePoint(...r.slice(s,2*i-s-1)))}else Q6e(n)?(i+=1,e.push(String.fromCodePoint(...r.slice(i-2,2)))):e.push(String.fromCodePoint(n))}return e}var exe=class{constructor(t){this.obeyspaces=!1,t=t.replace(/[\u200E\u200F\u2066-\u2069\u202A-\u202E]/g,""),t=t.replace(/\u2212/g,"-"),this.s=J6e(t),this.pos=0}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(t){let e;return typeof this.s=="string"?e=t.exec(this.s.slice(this.pos)):e=t.exec(this.s.slice(this.pos).join("")),e!=null&&e[0]?(this.pos+=e[0].length,e[0]):null}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]/))return"<space>";let t=this.get();if(t==="\\"){if(!this.end()){let e=this.match(/^[a-zA-Z]+/);if(e)this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]*/);else if(e=this.get(),e===" ")return"<space>";return"\\"+e}}else{if(t==="{")return"<{>";if(t==="}")return"<}>";if(t==="^"){if(this.peek()==="^"){this.get();let e=this.match(/^(\^(\^(\^(\^[0-9a-f])?[0-9a-f])?[0-9a-f])?[0-9a-f])?[0-9a-f][0-9a-f]/);if(e)return String.fromCodePoint(parseInt(e.slice(e.lastIndexOf("^")+1),16))}return t}else if(t==="#"){if(!this.end()){let e=!1;if(/[0-9?]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){let r=this.s[this.pos+1];e=/[^0-9A-Za-z]/.test(r)}return e?"#"+this.get():"#"}}else if(t==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return t}};function txe(t,e){let r=t.next();if(!r)return[];let i=[];if(r!=="\\relax"){if(r==="\\noexpand")r=t.next(),r&&i.push(r);else if(r==="\\obeyspaces")t.obeyspaces=!0;else if(r==="\\space"||r==="~")i.push("<space>");else if(r==="\\bgroup")i.push("<{>");else if(r==="\\egroup")i.push("<}>");else if(r==="\\string")r=t.next(),r&&(r[0]==="\\"?Array.from(r).forEach(n=>i.push(n==="\\"?"\\backslash":n)):r==="<{>"?i.push("\\{"):r==="<space>"?i.push("~"):r==="<}>"&&i.push("\\}"));else if(r==="\\csname"){for(;t.peek()==="<space>";)t.next();let n="",a=!1,s=[];do{if(s.length===0)if(/^#[0-9?]$/.test(t.peek())){let o=t.get().slice(1);s=as((e==null?void 0:e[o])??(e==null?void 0:e["?"])??"\\placeholder{}",e),r=s[0]}else r=t.next(),s=r?[r]:[];a=s.length===0,!a&&r==="\\endcsname"&&(a=!0,s.shift()),a||(a=r==="<$>"||r==="<$$>"||r==="<{>"||r==="<}>"||!!r&&r.length>1&&r[0]==="\\"),a||(n+=s.shift())}while(!a);n&&i.push("\\"+n),i=i.concat(s)}else if(r!=="\\endcsname")if(r.length>1&&r[0]==="#"){let n=r.slice(1);i=i.concat(as((e==null?void 0:e[n])??(e==null?void 0:e["?"])??"\\placeholder{}",e))}else i.push(r)}return i}function as(t,e=[]){let r=t.toString().split(/\r?\n/),i="",n="";for(let o of r){i+=n,n=" ";let l=o.match(/((?:\\%)|[^%])*/);l!==null&&(i+=l[0])}let a=new exe(i),s=[];do s.push(...txe(a,e));while(!a.end());return s}function dO(t){return as(t).length}function Gt(t){let e="",r="";for(let i of t)i!=null&&(typeof i=="string"&&(/[a-zA-Z]/.test(i[0])&&(r+=e),/\\[a-zA-Z]+\*?$/.test(i)?e=" ":e=""),r+=i.toString());return r}function R3(t,e,r){return e.includes(t)&&(e=`{${e}}`),/^[0-9]$/.test(r)?`${e}${t}${r}`:`${e}${t}{${r}}`}function $u(t){let e=[];if(Array.isArray(t))for(let r of t)Array.isArray(r)?e=[...e,...r]:e.push(r);else e=[t];return Gt(e.map(r=>({"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"})[r]??r))}function rxe(t){return!("kind"in t)||t.kind==="expression"}function ixe(t){return"kind"in t&&t.kind==="symbol"}function j3(t){return"kind"in t&&t.kind==="matchfix"}function mO(t){return"kind"in t&&t.kind==="infix"}function S7(t){return"kind"in t&&t.kind==="prefix"}function fO(t){return"kind"in t&&t.kind==="postfix"}function nxe(t){return"kind"in t&&t.kind==="environment"}var q3=[{latexTrigger:["\\not","<"],kind:"infix",associativity:"any",precedence:246,parse:"NotLess"},{name:"NotLess",latexTrigger:["\\nless"],kind:"infix",associativity:"any",precedence:246},{latexTrigger:["<"],kind:"infix",associativity:"any",precedence:245,parse:"Less"},{name:"Less",latexTrigger:["\\lt"],kind:"infix",associativity:"any",precedence:245},{latexTrigger:["<","="],kind:"infix",associativity:"any",precedence:241,parse:"LessEqual"},{name:"LessEqual",latexTrigger:["\\le"],kind:"infix",associativity:"any",precedence:241},{latexTrigger:["\\leq"],kind:"infix",associativity:"any",precedence:241,parse:"LessEqual"},{latexTrigger:["\\leqslant"],kind:"infix",associativity:"any",precedence:250,parse:"LessEqual"},{name:"LessNotEqual",latexTrigger:["\\lneqq"],kind:"infix",associativity:"any",precedence:245},{name:"NotLessNotEqual",latexTrigger:["\\nleqq"],kind:"infix",associativity:"any",precedence:245},{name:"LessOverEqual",latexTrigger:["\\leqq"],kind:"infix",associativity:"any",precedence:250},{name:"GreaterOverEqual",latexTrigger:["\\geqq"],kind:"infix",associativity:"any",precedence:250,parse:"GreaterEqual"},{name:"Equal",latexTrigger:["="],kind:"infix",associativity:"right",precedence:245},{latexTrigger:["*","="],kind:"infix",associativity:"right",precedence:245,parse:"StarEqual"},{name:"StarEqual",latexTrigger:["\\star","="],kind:"infix",associativity:"right",precedence:245},{name:"PlusEqual",latexTrigger:["+","="],kind:"infix",associativity:"right",precedence:245},{name:"MinusEqual",latexTrigger:["-","="],kind:"infix",associativity:"right",precedence:245},{name:"SlashEqual",latexTrigger:["/","="],kind:"infix",associativity:"right",precedence:245},{name:"EqualEqual",latexTrigger:["=","="],kind:"infix",associativity:"right",precedence:245},{name:"EqualEqualEqual",latexTrigger:["=","=","="],kind:"infix",associativity:"right",precedence:250},{name:"TildeFullEqual",latexTrigger:["\\cong"],kind:"infix",associativity:"right",precedence:245},{name:"NotTildeFullEqual",latexTrigger:["\\ncong"],kind:"infix",associativity:"right",precedence:245},{name:"Approx",latexTrigger:["\\approx"],kind:"infix",associativity:"right",precedence:247},{name:"NotApprox",latexTrigger:["\\not","\\approx"],kind:"infix",associativity:"right",precedence:247},{name:"ApproxEqual",latexTrigger:["\\approxeq"],kind:"infix",associativity:"right",precedence:245},{name:"NotApproxEqual",latexTrigger:["\\not","\\approxeq"],kind:"infix",associativity:"right",precedence:250},{name:"NotEqual",latexTrigger:["\\ne"],kind:"infix",associativity:"right",precedence:255},{name:"Unequal",latexTrigger:["!","="],kind:"infix",associativity:"right",precedence:245},{name:"GreaterEqual",latexTrigger:["\\ge"],kind:"infix",associativity:"right",precedence:242},{latexTrigger:["\\geq"],kind:"infix",associativity:"right",precedence:242,parse:"GreaterEqual"},{latexTrigger:[">","="],kind:"infix",associativity:"right",precedence:243,parse:"GreaterEqual"},{latexTrigger:["\\geqslant"],kind:"infix",associativity:"right",precedence:250,parse:"GreaterEqual"},{name:"GreaterNotEqual",latexTrigger:["\\gneqq"],kind:"infix",associativity:"right",precedence:245},{name:"NotGreaterNotEqual",latexTrigger:["\\ngeqq"],kind:"infix",associativity:"right",precedence:245},{latexTrigger:[">"],kind:"infix",associativity:"right",precedence:245,parse:"Greater"},{name:"Greater",latexTrigger:["\\gt"],kind:"infix",associativity:"right",precedence:245},{name:"NotGreater",latexTrigger:["\\ngtr"],kind:"infix",associativity:"right",precedence:244},{latexTrigger:["\\not",">"],kind:"infix",associativity:"right",precedence:244,parse:"NotGreater"},{name:"RingEqual",latexTrigger:["\\circeq"],kind:"infix",associativity:"right",precedence:245},{name:"TriangleEqual",latexTrigger:["\\triangleq"],kind:"infix",associativity:"right",precedence:245},{name:"DotEqual",latexTrigger:["\\doteq"],kind:"infix",associativity:"right",precedence:250},{name:"DotEqualDot",latexTrigger:["\\doteqdot"],kind:"infix",associativity:"right",precedence:250},{name:"FallingDotEqual",latexTrigger:["\\fallingdotseq"],kind:"infix",associativity:"right",precedence:250},{name:"RisingDotEqual",latexTrigger:["\\fallingdotseq"],kind:"infix",associativity:"right",precedence:250},{name:"QuestionEqual",latexTrigger:["\\questeq"],kind:"infix",associativity:"right",precedence:245},{name:"MuchLess",latexTrigger:["\\ll"],kind:"infix",associativity:"right",precedence:245},{name:"MuchGreater",latexTrigger:["\\gg"],kind:"infix",associativity:"right",precedence:245},{name:"Precedes",latexTrigger:["\\prec"],kind:"infix",associativity:"right",precedence:245},{name:"Succeeds",latexTrigger:["\\succ"],kind:"infix",associativity:"right",precedence:245},{name:"PrecedesEqual",latexTrigger:["\\preccurlyeq"],kind:"infix",associativity:"right",precedence:245},{name:"SucceedsEqual",latexTrigger:["\\curlyeqprec"],kind:"infix",associativity:"right",precedence:245},{name:"NotPrecedes",latexTrigger:["\\nprec"],kind:"infix",associativity:"right",precedence:245},{name:"NotSucceeds",latexTrigger:["\\nsucc"],kind:"infix",associativity:"right",precedence:245},{name:"Between",latexTrigger:["\\between"],kind:"infix",associativity:"right",precedence:250}];function gO(t,e,r={}){let{contract:i=.125,step:n=1,power:a=2,atol:s=1e-16,rtol:o=s>0?0:Math.sqrt(Number.EPSILON),maxeval:l=1e6,breaktol:u=2}=r;if(!isFinite(e))return gO(v=>t(1/v),1/e,{rtol:o,atol:s,maxeval:l,contract:Math.abs(i)>1?1/i:i,step:1/n,power:a});let c=n,h=Math.pow(1/i,a),p=t(e+c),d=[p],m=1/0,f=1;for(;f<l;){f+=1,c*=i,d.push(t(e+c));let v=h,y=1/0;for(let x=d.length-2;x>=0;x--){let g=d[x];d[x]=d[x+1]+(d[x+1]-d[x])/(v-1);let b=Math.abs(d[x]-g);y=Math.min(y,b),b<m&&(p=d[x],m=b),v*=h}if(y>u*m||!isFinite(y)||m<=Math.max(o*Math.abs(p),s))break}return[p,m]}function Rs(t){if(typeof t=="bigint")return t;if(typeof t=="number")return Number.isInteger(t)?t>=Number.MAX_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?BigInt(t):Rs(t.toString()):null;if(t instanceof Ui)return t.isInteger()?Rs(t.toString()):null;let e=t.toLowerCase(),r=e.match(/([+-]?[0-9]*)(?:\.([0-9]+))?e([+-]?[0-9]+)$/);if(r){let i=parseInt(r[3])-(r[2]?r[2].length:0);if(i<0)return null;e=(r[1]??"")+(r[2]??"")+"0".repeat(i)}if(e.indexOf(".")>=0||!/^[+-]?[0-9]+$/.test(e))return null;try{return BigInt(e)}catch(i){return console.error(i.message),null}}var axe=0x3ffffffffffe5,D7=new Set([2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999,5003,5009,5011,5021,5023,5039,5051,5059,5077,5081,5087,5099,5101,5107,5113,5119,5147,5153,5167,5171,5179,5189,5197,5209,5227,5231,5233,5237,5261,5273,5279,5281,5297,5303,5309,5323,5333,5347,5351,5381,5387,5393,5399,5407,5413,5417,5419,5431,5437,5441,5443,5449,5471,5477,5479,5483,5501,5503,5507,5519,5521,5527,5531,5557,5563,5569,5573,5581,5591,5623,5639,5641,5647,5651,5653,5657,5659,5669,5683,5689,5693,5701,5711,5717,5737,5741,5743,5749,5779,5783,5791,5801,5807,5813,5821,5827,5839,5843,5849,5851,5857,5861,5867,5869,5879,5881,5897,5903,5923,5927,5939,5953,5981,5987,6007,6011,6029,6037,6043,6047,6053,6067,6073,6079,6089,6091,6101,6113,6121,6131,6133,6143,6151,6163,6173,6197,6199,6203,6211,6217,6221,6229,6247,6257,6263,6269,6271,6277,6287,6299,6301,6311,6317,6323,6329,6337,6343,6353,6359,6361,6367,6373,6379,6389,6397,6421,6427,6449,6451,6469,6473,6481,6491,6521,6529,6547,6551,6553,6563,6569,6571,6577,6581,6599,6607,6619,6637,6653,6659,6661,6673,6679,6689,6691,6701,6703,6709,6719,6733,6737,6761,6763,6779,6781,6791,6793,6803,6823,6827,6829,6833,6841,6857,6863,6869,6871,6883,6899,6907,6911,6917,6947,6949,6959,6961,6967,6971,6977,6983,6991,6997,7001,7013,7019,7027,7039,7043,7057,7069,7079,7103,7109,7121,7127,7129,7151,7159,7177,7187,7193,7207,7211,7213,7219,7229,7237,7243,7247,7253,7283,7297,7307,7309,7321,7331,7333,7349,7351,7369,7393,7411,7417,7433,7451,7457,7459,7477,7481,7487,7489,7499,7507,7517,7523,7529,7537,7541,7547,7549,7559,7561,7573,7577,7583,7589,7591,7603,7607,7621,7639,7643,7649,7669,7673,7681,7687,7691,7699,7703,7717,7723,7727,7741,7753,7757,7759,7789,7793,7817,7823,7829,7841,7853,7867,7873,7877,7879,7883,7901,7907,7919]),vO=7919;function sxe(t){if(t<=3)return{[t]:1};let e={},r=0;for(;t%2===0;)r+=1,t/=2;for(r>0&&(e[2]=r),r=0;t%3===0;)r+=1,t/=3;r>0&&(e[3]=r);let i=!1;for(;!i;){if(t===1)return e;let n=Math.sqrt(t);i=!0;for(let a=6;a<=n+6;a+=6){if(t%(a-1)===0){e[a-1]=(e[a-1]??0)+1,t/=a-1,i=!1;break}if(t%(a+1)===0){e[a+1]=(e[a+1]??0)+1,t/=a+1,i=!1;break}}}return e[t]!==void 0?e[t]+=1:e[t]=1,e}function yO(t){if(!Number.isInteger(t)||!Number.isFinite(t)||Number.isNaN(t)||t<=1)return!1;if(t<=vO)return D7.has(t);for(let e of D7)if(t%e===0)return!1;return uxe(t,30)?void 0:!1}function oxe(t){if(t<=1)return!1;if(t<=vO)return yO(Number(t));for(let e of D7)if(t%BigInt(e)===BigInt(0))return!1;return t<axe&&(t=lxe(t)),cxe(t,30)?void 0:!1}function lxe(t){if(t===BigInt(1))return BigInt(1);if(t%BigInt(2)===BigInt(0))return BigInt(2);if(t%BigInt(3)===BigInt(0))return BigInt(3);if(t%BigInt(5)===BigInt(0))return BigInt(5);let e=BigInt(Math.floor(Math.sqrt(Number(t)))),r=BigInt(7);for(;r<=e;){if(t%r===BigInt(0))return r;if(t%(r+BigInt(4))===BigInt(0))return r+BigInt(4);if(t%(r+BigInt(6))===BigInt(0))return r+BigInt(6);if(t%(r+BigInt(10))===BigInt(0))return r+BigInt(10);if(t%(r+BigInt(12))===BigInt(0))return r+BigInt(12);if(t%(r+BigInt(16))===BigInt(0))return r+BigInt(16);if(t%(r+BigInt(22))===BigInt(0))return r+BigInt(22);if(t%(r+BigInt(24))===BigInt(0))return r+BigInt(24);r+=BigInt(30)}return t}function uxe(t,e){let r=0,i=t-1;for(;i%2===0;)i/=2,++r;e:do{let n=Math.pow(2+Math.floor(Math.random()*(t-3)),i)%t;if(!(n===1||n===t-1)){for(let a=r-1;a--;){if(n=n*n%t,n===1)return!1;if(n===t-1)continue e}return!1}}while(--e);return!0}function cxe(t,e){let r=0,i=t-BigInt(1);for(;i%BigInt(2)===BigInt(0);)i=i/BigInt(2),++r;e:do{let n=BigInt(2+Math.floor(Math.random()*(Number(t)-3)))**i%t;if(!(n===BigInt(1)||n===t-BigInt(1))){for(let a=r-1;a--;){if(n=n*n%t,n===BigInt(1))return!1;if(n===t-BigInt(1))continue e}return!1}}while(--e);return!0}BigInt(4),BigInt(2),BigInt(4),BigInt(2),BigInt(4),BigInt(6),BigInt(2),BigInt(6);var bO=21,hxe=53,d1=Math.floor(Math.log10(Math.pow(2,hxe))),xO=1e-10,en=1e6,pxe=1024,U3=1e6;function A7(t,e){if(t>=Number.MAX_SAFE_INTEGER)return[1,t];if(t===0)return[0,0];if(t===1)return[1,1];if(e===2){let a=[[0,0],[1,1],[1,2],[1,3],[2,1],[1,5],[1,6],[1,7],[1,8],[3,1],[1,10],[1,11],[2,3],[1,13],[1,14],[1,15],[4,1],[1,17],[3,2],[1,19],[1,20]][t];if(a)return a}let r=sxe(t),i=1,n=1;for(let a of Object.keys(r)){let s=parseInt(a);i=i*Math.pow(s,Math.floor(r[a]/e)),n=n*Math.pow(s,r[a]%e)}return[i,n]}function od(t,e){if(t===0)return e;if(e===0||t===e)return t;if(!Number.isInteger(t)||!Number.isInteger(e))return NaN;for(;e!==0;)[t,e]=[e,t%e];return t<0?-t:t}function wO(t,e){return t*e/od(t,e)}function dxe(t){if(!Number.isInteger(t)||t<0)return NaN;if(t>=170)return 1/0;let e=1;for(let r=2;r<=t;r++)e=e*r;return e}function mxe(t){if(!Number.isInteger(t)||t<0)return NaN;if(t<0)return NaN;if(t<=1)return 1;let e=t;for(;t>2;)t-=2,e*=t;return e}function fxe(t,e=xO){return typeof t=="number"&&Math.abs(t)<=e?0:t}function gxe(t,e,r=.1){return(t(e-4*r)/280-4*t(e-3*r)/105+t(e-2*r)/5-4*t(e-r)/5+4*t(e+r)/5-t(e+2*r)/5+4*t(e+3*r)/105-t(e+4*r)/280)/r}function $f(t,e,r=1){if(r===0){let a=$f(t,e,-1),s=$f(t,e,1);return a===void 0||s===void 0?NaN:Math.abs(a-s)>1e-5?NaN:(a+s)/2}let[i,n]=gO(t,e,{step:r>0?1:-1});return i}function m1(t){return typeof t=="object"&&t!==null&&"engine"in t}function ss(t){return t.precision>d1}function $7(t){return typeof t=="string"?t.startsWith("$")&&t.endsWith("$"):!1}function _f(t){if(typeof t=="number")return t.toString();if(typeof t=="string"){let e=t.trim();if(e.startsWith("$$")&&e.endsWith("$$"))return e.slice(2,-2);if(e.startsWith("$")&&e.endsWith("$"))return e.slice(1,-1)}return Array.isArray(t)?_f(Gt(t)):null}function Ef(t){let e=0;for(let r=0;r<t.length;r++)e=Math.imul(31,e)+t.charCodeAt(r)|0;return Math.abs(e)}function _7(t){return t==null?[]:typeof t=="string"?[t]:m1(t)?_7(t.symbol):typeof t[Symbol.iterator]=="function"?Array.from(t).map(e=>typeof e=="string"?e:e.symbol):[]}function Vc(t){return typeof t!="string"?!1:q3.some(e=>e.name===t)}function E7(t){return["Less","LessEqual","Greater","GreaterEqual"].includes(t)}function I7(t){return["Equal","NotEqual"].includes(t)}function V3(t){let e=t.operator;return typeof e!="string"?!1:E7(e)}function MO(t){let e=t.operator;return typeof e!="string"?!1:I7(e)}function G3(t){var r,i;if(typeof t=="number")return;let e=t.engine;if(t.symbol==="ImaginaryUnit")return e.One;if(t.re===0)return e.number(t.im);if(t.operator==="Negate")return(r=G3(t.op1))==null?void 0:r.neg();if(t.operator==="Complex")return t.op1.is(0)&&!isNaN(t.op2.re)?e.number(t.op2.re):void 0;if(t.operator==="Multiply"&&t.nops===2){let[n,a]=t.ops;if(n.symbol==="ImaginaryUnit")return a;if(a.symbol==="ImaginaryUnit")return n;if(a.isNumberLiteral&&a.re===0&&a.im!==0)return n.mul(a.im);if(n.isNumberLiteral&&n.re===0&&n.im!==0)return a.mul(n.im)}if(t.operator==="Divide"){let n=t.op2;return n.is(0)||(i=G3(t.op1))==null?void 0:i.div(n)}}function kO(t){if(!t)return;let e={...t};return e.odd&&(e.even=!1),e.even&&(e.odd=!1),e}function T7(t){if(t==null||typeof t!="object"||m1(t))return!1;if("value"in t||"constant"in t||"inferred"in t||"type"in t){if("type"in t&&typeof t.type!="string")throw new Error("The `type` field of a symbol definition should be of type `string`");if("signature"in t)throw new Error("Symbol definition cannot have a `signature` field. Use a `type` field instead.");if("sgn"in t)throw new Error("Symbol definition cannot have a `sgn` field. Use a `flags.sgn` field instead.");return!0}return!1}function L7(t){if(t==null||typeof t!="object"||m1(t))return!1;if(("signature"in t||"complexity"in t)&&"constant"in t)throw new Error("Function definition cannot have a `constant` field and symbol definition cannot have a `signature` field.");if(!("evaluate"in t)&&!("signature"in t)&&!("sgn"in t)&&!("complexity"in t)&&!("canonical"in t))return!1;if("type"in t&&typeof t.type!="function")throw new Error("The `type` field of a function definition should be a function");if("sgn"in t&&typeof t.sgn!="function")throw new Error("The `sgn` field of a function definition should be a function");return!0}function If(t,e){return e.every(r=>m1(r))?e.every(r=>r.isCanonical)?e:e.map(r=>r.canonical):e.map(r=>t.box(r))}function Gc(t,e){return e.every(r=>m1(r)&&r.isCanonical)?e:e.map(r=>t.box(r))}function z7(t){return t.symbol==="Numbers"?"number":t.symbol==="ComplexNumbers"?"complex":t.symbol==="ImaginaryNumbers"?"imaginary":t.symbol==="RealNumbers"?"real":t.symbol==="RationalNumbers"?"rational":t.symbol==="Integers"?"integer":"unknown"}function vxe(t){if(!t)return t;let e=t.engine,r=e.angularUnit;return r==="rad"||(r==="deg"&&(t=t.mul(e.Pi).div(180)),r==="grad"&&(t=t.mul(e.Pi).div(200)),r==="turn"&&(t=t.mul(e.Pi).mul(2))),t}function CO(t){if(!t)return t;let e=vxe(t);if(!e)return;if(e.N().im!==0)return e;let r=e.engine,[i,n]=f1(e);if(i.isZero)return r.number(n);let a=r._numericValue(i.bignumRe?i.bignumRe.mod(2):i.re%2);return r.number(n.add(r.Pi.mul(a).N().numericValue))}function f1(t){let e=t.engine;if(t.symbol==="Pi")return[e._numericValue(1),e._numericValue(0)];if(t.operator==="Negate"){let[r,i]=f1(t.ops[0]);return[r.neg(),i.neg()]}if(t.operator==="Add"&&t.nops===2){let[r,i]=f1(t.op1),[n,a]=f1(t.op2);return[r.add(n),i.add(a)]}if(t.operator==="Multiply"&&t.nops===2){if(t.op1.isNumberLiteral){let[r,i]=f1(t.op2),n=t.op1.numericValue;return[r.mul(n),i.mul(n)]}if(t.op2.isNumberLiteral){let[r,i]=f1(t.op1),n=t.op2.numericValue;return[r.mul(n),i.mul(n)]}}if(t.operator==="Divide"&&t.op2.isNumberLiteral){let[r,i]=f1(t.op1),n=t.op2.numericValue;return[r.div(n),i.div(n)]}return[e._numericValue(0),e._numericValue(t.N().numericValue??0)]}var ld=class extends Error{constructor({message:e,value:r,cause:i}={}){super(e??"Operation canceled"),r&&(this.value=r),this.cause=i,this.name="CancellationError"}};async function Z3(t,e,r){let i=performance.now();for(;;){let n=performance.now(),a=16;for(;performance.now()-n<a;){let{done:s,value:o}=t.next();if(s)return o;if(r!=null&&r.aborted)throw new ld({value:o,cause:r.reason});if(performance.now()-i>=e)throw new ld({value:o,cause:"timeout",message:`Timeout exceeded (${e}ms)`})}await new Promise(s=>setTimeout(s,0))}}function H3(t,e){let r=Date.now();for(;;){let{done:i,value:n}=t.next();if(i)return n;if(Date.now()-r>=e)throw new ld({value:n,cause:"timeout",message:`Timeout exceeded (${e}ms)`})}}var yxe=100;function Tf(t){let e=bxe(t);return e===void 0?!1:Number.isFinite(e)}function W3(t){var e,r;return t=zf(t),t.string!==null?!0:((r=(e=t.functionDefinition)==null?void 0:e.collection)==null?void 0:r.at)!==void 0}function os(t){var r,i,n;if(t=zf(t),t.string!==null)return!0;let e=t.functionDefinition;return e?((r=e.collection)==null?void 0:r.at)!==void 0&&Number.isFinite(((n=(i=e.collection)==null?void 0:i.size)==null?void 0:n.call(i,t))??1/0):!1}function*ls(t){let e=Lf(t);if(!e){yield t;return}let r=t.engine.iterationLimit,i=0;for(;;){let{done:n,value:a}=e.next();if(n)return;if(i++>r)throw new ld({cause:"iteration-limit-exceeded"});yield a}}function bxe(t){var r,i,n;t=zf(t);let e=t.string;return e!==null?e.length:(n=(i=(r=t.functionDefinition)==null?void 0:r.collection)==null?void 0:i.size)==null?void 0:n.call(i,t)}function Lf(t){var i;t=zf(t);let e=t.functionDefinition;if((i=e==null?void 0:e.collection)!=null&&i.iterator)return e.collection.iterator(t);let r=t.string;if(r!==null){if(r.length===0)return{next:()=>({done:!0,value:void 0})};let n=0;return{next:()=>({value:t.engine.string(r.charAt(n++)),done:n>r.length})}}}function xxe(t,e){return typeof e=="number"?(e<0&&(e=0),{next(){return e===0?{done:!0,value:void 0}:(e--,{done:!1,value:t})}}):{next(){return{done:!1,value:t}}}}function wxe(t){if(!t)return;let e={};if(!t.contains||!t.size)throw new Error('A collection must have at least a "contains" and "size" handler');t.contains&&(e.contains=t.contains),t.size&&(e.size=t.size),t.at&&(e.at=t.at),t.iterator&&(e.iterator=t.iterator),t.keys&&(e.keys=t.keys),t.indexOf&&(e.indexOf=t.indexOf),t.subsetOf&&(e.subsetOf=t.subsetOf);let r=e.iterator;return e.at&&!r&&(r=(i,n=1,a=-1)=>{let s=t.at,o=n;return{next(){if(a>=0&&o>=n+a)return{done:!0,value:void 0};let l=s(i,o);return l===void 0?{done:!0,value:void 0}:(o++,{done:!1,value:l})}}},e.iterator=r),e.indexOf||(e.indexOf=(i,n)=>{let a=1,s=r(i),o=s.next();for(;!o.done;){if(n.isSame(o.value))return a;a++,o=s.next()}}),{contains:t.contains,size:t.size,at:t.at,iterator:r,keys:t.keys,indexOf:t.indexOf,subsetOf:t.subsetOf}}function zf(t){return t.symbolDefinition&&t.symbolDefinition.holdUntil==="never"?t.symbolDefinition.value??t:t}function NO(t){t=t.map(r=>zf(r));let e=t.map(r=>Lf(r)??xxe(r));return{next(){let r=e.map(i=>i.next());return r.some(i=>i.done)?{done:!0,value:void 0}:{done:!1,value:r.map(i=>i.value)}}}}function ws(t,e){let r=t.every(n=>n.isCanonical)?t:t.map(n=>n.canonical);if(e){let n=s=>s.symbol==="Nothing"||s.operator===e||s.operator==="Sequence";if(r.every(s=>!n(s)))return r;let a=[];for(let s of r)s.symbol!=="Nothing"&&(s.ops&&(s.operator===e||s.operator==="Sequence")?a.push(...ws(s.ops,e)):a.push(s));return a}if(r.every(n=>!(n.symbol==="Nothing"||n.operator==="Sequence")))return r;let i=[];for(let n of r)n.symbol!=="Nothing"&&(n.ops&&n.operator==="Sequence"?i.push(...ws(n.ops,e)):i.push(n));return i}function ud(t,e){if(!e||t.every(i=>!i.ops||i.operator!==e))return t;let r=[];for(let i of t)!i.ops||i.operator!==e?r.push(i):r.push(...ud(i.ops,e));return r.length,t.length,r.length===t.length?t:r}function SO(t){if(t.every(r=>r.operator!=="Sequence"&&r.operator!=="Delimiter"))return t;let e=[];for(let r of t)if(!r.isValid)e.push(r);else if(r.operator==="Delimiter")if(r.op1.operator==="Sequence"){let i=r.op1.ops??[];i.length===0?e.push(r.engine.box(["Tuple"])):e.push(...SO(i))}else e.push(r.op1);else r.operator==="Sequence"?r.ops&&e.push(...r.ops):e.push(r);return e}function _u(t,e,r){if(e=ws(e),!t.strict||e.length===r)return e;let i=[...e.slice(0,r)],n=Math.min(r,e.length);for(;n<r;)i.push(t.error("missing")),n+=1;for(;n<e.length;)i.push(t.error("unexpected-argument",e[n].toString())),n+=1;return i}function wl(t,e,r){var o,l,u,c;let i=typeof r=="number"?r:r==null?void 0:r.count,n=typeof r=="number"||r==null?void 0:r.flatten;if(e=ws(e,n),!t.strict){let h="real";for(let p of e)if(ur("complex",p.type.type)){h="number";break}for(let p of e)os(p)||p.infer(h);return e}let a=!0;i??(i=e.length);let s=[];for(let h=0;h<=Math.max(i-1,e.length-1);h++){let p=e[h];if(h>i-1)a=!1,s.push(t.error("unexpected-argument",p.toString()));else if(p===void 0)a=!1,s.push(t.error("missing"));else if(!p.isValid)a=!1,s.push(p);else if(p.isNumber)s.push(p);else if(p.symbol&&!t.lookupSymbol(p.symbol)&&!t.lookupFunction(p.symbol))s.push(p);else if(p.type.isUnknown)s.push(p);else if(os(p)){for(let d of ls(p))if(!d.isNumber){a=!1;break}a?s.push(p):s.push(t.typeError("number",p.type,p))}else(o=p.symbolDefinition)!=null&&o.inferredType&&ur("number",p.type.type)||(l=p.functionDefinition)!=null&&l.inferredSignature&&ur("number",p.type.type)||p.operator==="Hold"||((c=(u=p.symbolDefinition)==null?void 0:u.value)==null?void 0:c.operator)==="Hold"?s.push(p):(a=!1,s.push(t.typeError("number",p.type,p)))}if(a){let h="real";for(let p of s)if(ur("complex",p.type.type)){h="number";break}for(let p of s)if(os(p))for(let d of ls(p))d.infer(h);else p.infer(h)}return s}function cd(t,e,r){return e==null?t.error("missing"):r===void 0?t.error("unexpected-argument",e.toString()):(e=e.canonical,!e.isValid||e.type.matches(r)?e:t.typeError(r,e.type,e))}function DO(t,e,r){if(e.length===r.length&&e.every((n,a)=>n.type.matches(r[a])))return e;let i=[];for(let n=0;n<=r.length-1;n++)i.push(cd(t,e[n],r[n]));for(let n=r.length;n<=e.length-1;n++)i.push(t.error("unexpected-argument",e[n].toString()));return i}function Y3(t,e,r,i,n){var h,p,d,m,f,v,y,x;if(!t.strict||typeof r=="string"||r.kind!=="signature")return null;let a=[],s=!0,o=((h=r.args)==null?void 0:h.map(g=>g.type))??[],l=((p=r.optArgs)==null?void 0:p.map(g=>g.type))??[],u=(d=r.restArg)==null?void 0:d.type,c=0;for(let g of o){let b=e[c++];if(!b){a.push(t.error("missing")),s=!1;continue}if(i){a.push(b);continue}if(!b.isValid){a.push(b),s=!1;continue}if(b.type.isUnknown){a.push(b);continue}if(n&&os(b)){a.push(b);continue}if((m=b.symbolDefinition)!=null&&m.inferredType&&b.type.matches(g)){a.push(b);continue}if((f=b.functionDefinition)!=null&&f.inferredSignature&&b.type.matches(g)){a.push(b);continue}if(!b.type.matches(g)){a.push(t.typeError(g,b.type,b)),s=!1;continue}a.push(b)}for(let g of l){let b=e[c];if(!b)break;if(i){a.push(b),c+=1;continue}if(!b.isValid){a.push(b),s=!1,c+=1;continue}if(b.type.isUnknown){a.push(b),c+=1;continue}if(n&&os(b)){a.push(b),c+=1;continue}if((v=b.symbolDefinition)!=null&&v.inferredType&&b.type.matches(g)){a.push(b),c+=1;continue}if(!b.type.matches(g)){a.push(t.typeError(g,b.type,b)),s=!1,c+=1;continue}a.push(b),c+=1}if(u)for(let g of e.slice(c)){if(c+=1,i){a.push(g);continue}if(!g.isValid){a.push(g),s=!1;continue}if(g.type.isUnknown){a.push(g);continue}if(n&&os(g)){a.push(g);continue}if((y=g.symbolDefinition)!=null&&y.inferredType&&g.type.matches(u)){a.push(g);continue}if(!g.type.matches(u)){a.push(t.typeError(u,g.type,g)),s=!1;continue}a.push(g)}if(c<e.length)for(let g of e.slice(c))a.push(t.error("unexpected-argument",g.toString())),s=!1;if(!s)return a;c=0;for(let g of o)i||(!n||!os(e[c]))&&e[c].infer(g),c+=1;for(let g of l){if(!e[c])break;(!n||!os(e[c]))&&((x=e[c])==null||x.infer(g)),c+=1}if(u)for(let g of e.slice(c))i||(!n||!os(g))&&g.infer(u),c+=1;return null}function K3(t,e){for(;e!==BigInt(0);)[t,e]=[e,t%e];return t<0?-t:t}function Mxe(t,e){return t*e/K3(t,e)}function*B7(t){if(t<0)return BigInt(0);if(t<10)return BigInt([1,1,2,6,24,120,720,5040,40320,362880][Number(t)]);if(t%BigInt(2)===BigInt(1))return t*(yield*B7(t-BigInt(1)));let e=t,r=t,i=t,n=0;for(;e>2;)e-=BigInt(2),r+=e,i*=r,n+=1,(n%5e4===0||n>1e4&&n%500===0)&&(yield i);return i}function hd(t){return t!==null&&Array.isArray(t)}function va(t){return t!==null&&Array.isArray(t)&&typeof t[0]=="number"}function AO(t){return t!==null&&Array.isArray(t)&&typeof t[0]=="bigint"}function Zc(t){return t[0]==0}function $O(t){return t[0]>0}function Ml(t){return t[0]==t[1]}function O7(t){return t[0]===-t[1]}function Bf(t){return t[1]==1}function kxe(t){return Number(t[0])}function Cxe(t){return Number(t[1])}function Nxe(t){return Number(t[0])/Number(t[1])}function Of(t,e){if(typeof t[0]=="number"&&!Number.isFinite(t[0]))return t;let r=e;if(r===null)return t;if(AO(r))return t=[BigInt(t[0]),BigInt(t[1])],[r[1]*t[0]+r[0]*t[1],r[1]*t[1]];if(!Number.isFinite(r[0]))return r;if(AO(t)){let i=[BigInt(r[0]),BigInt(r[1])];return[i[1]*t[0]+i[0]*t[1],i[1]*t[1]]}return[r[1]*t[0]+r[0]*t[1],r[1]*t[1]]}function pd(t,e){return va(t)&&va(e)?[t[0]*e[0],t[1]*e[1]]:va(t)?[BigInt(t[0])*e[0],BigInt(t[1])*e[1]]:va(e)?[BigInt(e[0])*t[0],BigInt(e[1])*t[1]]:[t[0]*e[0],t[1]*e[1]]}function X3(t){return[-t[0],t[1]]}function Sxe(t){return t[0]<0?[-t[1],-t[0]]:[t[1],t[0]]}function Dxe(t){return[Number(t[0]),Number(t[1])]}function _O(t,e){return va(t)&&va(e)?t[1]===1&&e[1]===1?[od(t[0],e[0]),1]:[od(t[0],e[0]),wO(t[1],e[1])]:t[1]===1&&e[1]===1?[K3(BigInt(t[0]),BigInt(e[0])),BigInt(1)]:[K3(BigInt(t[0]),BigInt(e[0])),Mxe(BigInt(t[1]),BigInt(e[1]))]}function F7(t){if(va(t)){if(t[0]===1||t[1]===1)return t;if(t[1]<0&&(t=[-t[0],-t[1]]),!Number.isFinite(t[1]))return[0,1];let n=od(t[0],t[1]);return n<=1?t:[t[0]/n,t[1]/n]}t[1]<0&&(t=[-t[0],-t[1]]);let e=K3(t[0],t[1]),[r,i]=e<=1?t:[t[0]/e,t[1]/e];return r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER&&i<=Number.MAX_SAFE_INTEGER?[Number(r),Number(i)]:[r,i]}function Axe(t){if(!Number.isFinite(t)||t%1===0)return t;let e=1e-15,r=Math.floor(t),i=1,n=0,a=r,s=1;for(;t-r>e*s*s;){t=1/(t-r),r=Math.floor(t);let o=i;i=a;let l=n;n=s,a=o+r*i,s=l+r*n}return[a,s]}var us=class{get bignumRe(){}get bignumIm(){}isZeroWithTolerance(e){return this.isZero}valueOf(){return this.im===0?this.bignumRe?this.bignumRe.toFixed():this.re:this.N().toString()}[Symbol.toPrimitive](e){return e==="string"?this.toString():this.valueOf()}toJSON(){if(this.im===0){let e=this.re;if(Number.isFinite(e))return e}return this.N().toString()}print(){let e=console.log;e==null||e(this.toString())}},EO=class{static parse(e){let r=new $xe(e),i=r.parseValue();if(r.skipWhitespace(),!r.isAtEnd())throw r.error(`Unexpected token '${r.currentChar()}' after parsing complete value`);return i}},$xe=class{constructor(e){this.index=0,this.text=e}parseValue(){if(this.skipWhitespace(),this.isAtEnd())throw this.error("Unexpected end of input");let e=this.currentChar();return e==="{"?this.parseObject():e==="["?this.parseArray():e==='"'||e==="'"?this.parseString():e==="-"||e==="+"||e>="0"&&e<="9"||e==="."?this.parseNumber():this.parseIdentifier()}parseObject(){let e={};if(this.expectChar("{"),this.skipWhitespace(),this.currentChar()==="}")return this.index++,e;for(;;){this.skipWhitespace();let r,i=this.currentChar();i==='"'||i==="'"?r=this.parseString():r=this.parseIdentifier(),this.skipWhitespace(),this.expectChar(":"),this.skipWhitespace();let n=this.parseValue();if(e[r]=n,this.skipWhitespace(),this.currentChar()===","){if(this.index++,this.skipWhitespace(),this.currentChar()==="}"){this.index++;break}}else if(this.currentChar()==="}"){this.index++;break}else throw this.error(`Expected ',' or '}' in object but found '${this.currentChar()}'`)}return e}parseArray(){let e=[];if(this.expectChar("["),this.skipWhitespace(),this.currentChar()==="]")return this.index++,e;for(;;)if(this.skipWhitespace(),e.push(this.parseValue()),this.skipWhitespace(),this.currentChar()===","){if(this.index++,this.skipWhitespace(),this.currentChar()==="]"){this.index++;break}}else if(this.currentChar()==="]"){this.index++;break}else throw this.error(`Expected ',' or ']' in array but found '${this.currentChar()}'`);return e}parseString(){let e=this.currentChar();if(e!=='"'&&e!=="'")throw this.error(`String should start with a quote, got '${e}'`);this.index++;let r="";for(;!this.isAtEnd();){let i=this.currentChar();if(i===e)return this.index++,r;if(i==="\\"){if(this.index++,this.isAtEnd())throw this.error("Unterminated escape sequence in string");let n=this.currentChar();switch(n){case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+=`
`;break;case"r":r+="\r";break;case"t":r+="	";break;case"v":r+="\v";break;case"\\":r+="\\";break;case"'":r+="'";break;case'"':r+='"';break;case"0":r+="\0";break;case"u":{this.index++;let a=this.text.substr(this.index,4);if(!/^[0-9a-fA-F]{4}$/.test(a))throw this.error(`Invalid Unicode escape sequence: \\u${a}`);r+=String.fromCharCode(parseInt(a,16)),this.index+=3;break}default:r+=n}this.index++}else r+=i,this.index++}throw this.error("Unterminated string literal")}parseNumber(){let e=this.index;if(this.text.startsWith("-Infinity",this.index))return this.index+=9,-1/0;if(this.text.startsWith("+Infinity",this.index))return this.index+=9,1/0;if(this.text.startsWith("Infinity",this.index))return this.index+=8,1/0;for(;!this.isAtEnd()&&/[0-9+\-_.eE]/.test(this.currentChar());)this.index++;let r=this.text.slice(e,this.index),i=r.replace(/_/g,""),n=Number(i);if(isNaN(n))throw this.error(`Invalid number: ${r}`);return n}parseIdentifier(){let e=this.index,r=this.currentChar();if(!/[a-zA-Z$_]/.test(r))throw this.error(`Unexpected token '${r}'`);for(this.index++;!this.isAtEnd();){let n=this.currentChar();if(!/[a-zA-Z0-9$_]/.test(n))break;this.index++}let i=this.text.slice(e,this.index);return i==="true"?!0:i==="false"?!1:i==="null"?null:i==="Infinity"?1/0:i==="NaN"?NaN:i}skipWhitespace(){for(;!this.isAtEnd();){let e=this.currentChar();if(/\s/.test(e)){this.index++;continue}if(e==="/"){let r=this.peekChar(1);if(r==="/"){for(this.index+=2;!this.isAtEnd()&&this.currentChar()!==`
`;)this.index++;continue}else if(r==="*"){for(this.index+=2;!this.isAtEnd()&&!(this.currentChar()==="*"&&this.peekChar(1)==="/");)this.index++;if(this.isAtEnd())throw this.error("Unterminated multi-line comment");this.index+=2;continue}}break}}expectChar(e){if(this.currentChar()!==e)throw this.error(`Expected '${e}' but found '${this.currentChar()}'`);this.index++}currentChar(){return this.text[this.index]}peekChar(e){return this.text[this.index+e]}isAtEnd(){return this.index>=this.text.length}error(e){return new Error(`${e} at position ${this.index}`)}},Ff=["Error","'missing'"];function dd(t){return!!(typeof t=="number"||Q3(t)||typeof t=="string"&&/^[+-]?[0-9\.]/.test(t))}function Q3(t){return t!==null&&typeof t=="object"&&"num"in t}function IO(t){return t!==null&&typeof t=="object"&&"sym"in t}function _xe(t){return t!==null&&typeof t=="object"&&"str"in t}function Pf(t){return t!==null&&typeof t=="object"&&"fn"in t}function mn(t){return t==null?null:typeof t=="object"&&"str"in t?t.str:typeof t!="string"||t.length<2||t.at(0)!=="'"||t.at(-1)!=="'"?null:t.substring(1,t.length-1)}function TO(t){if(t==null||mn(t)!==null)return null;let e=Nt(t);return e?[e,...nr(t).map(r=>TO(r)).filter(r=>r!==null)]:t}function Nt(t){return Array.isArray(t)?t[0]:t==null?"":Pf(t)?t.fn[0]:""}function nr(t){return Array.isArray(t)?t.slice(1):t!==void 0&&Pf(t)?t.fn.slice(1):[]}function Re(t,e){return Array.isArray(t)?t[e]??null:t===null||!Pf(t)?null:t.fn[e]??null}function Ea(t){return t==null?0:Array.isArray(t)?Math.max(0,t.length-1):Pf(t)?Math.max(0,t.fn.length-1):0}function LO(t){return t==null?null:Nt(t)==="Hold"?Re(t,1):t}function hi(t){if(typeof t=="string")return/^[+-]?[0-9\.]/.test(t)||t.length>=2&&t[0]==="'"&&t[t.length-1]==="'"?null:t;if(t==null)return null;let e=IO(t)?t.sym:t;return typeof e!="string"?null:e}function zO(t){let e=Nt(t);if(e==="KeyValuePair"||e==="Tuple"||e==="Pair"){let[r,i]=nr(t),n=mn(r);return n?[n,i??"Nothing"]:null}return null}function BO(t){if(t===null)return null;if(typeof t=="object"&&!("sym"in t)&&!("num"in t)&&!("str"in t)&&!("fn"in t))return t;if(typeof t=="string"&&t[0]==="{"&&t[t.length-1]==="}")try{return EO.parse(t)}catch{return null}let e=zO(t);if(e)return{[e[0]]:e[1]};if(Nt(t)==="Dictionary"){let r={},i=nr(t);for(let n=1;n<Ea(t);n++){let a=zO(i[n]);a&&(r[a[0]]=a[1])}return r}return null}function P7(t){let e=Object.keys(t);if(e.length===0)return["Dictionary"];if(e.length===1)return["Pair",{str:e[0]},t[e[0]]];let r=[];for(let i of e)r.push(["Pair",{str:i},t[i]]);return["Dictionary",...r]}function Exe(t){if(t=t.toLowerCase().replace(/[nd]$/,"").replace(/[\u0009-\u000d\u0020\u00a0]/g,""),t==="nan")return NaN;if(t==="infinity"||t==="+infinity")return 1/0;if(t==="-infinity")return-1/0;if(/\([0-9]+\)/.test(t)){let[e,r,i,n]=t.match(/(.+)\(([0-9]+)\)(.*)$/)??[];t=r+i.repeat(Math.ceil(16/i.length))+(n??"")}return parseFloat(t)}function ai(t){return typeof t=="number"?t:typeof t=="string"?Exe(t):t!==void 0&&Q3(t)?ai(t.num):null}function Rf(t){if(t==null)return null;if(hi(t)==="Half")return[1,2];let e=Nt(t);if(!e)return null;let r=null,i=null;if(e==="Negate"){let n=Rf(nr(t)[0]);if(n)return[-n[0],n[1]]}if(e==="Rational"||e==="Divide"){let[n,a]=nr(t);r=ai(n)??NaN,i=ai(a)??NaN}if(e==="Power"){let[n,a]=nr(t),s=ai(a);s===1?(r=ai(n),i=1):s===-1&&(r=1,i=ai(n))}if(e==="Multiply"){let[n,a]=nr(t);if(Nt(a)==="Power"){let[s,o]=nr(a);ai(o)===-1&&(r=ai(n),i=ai(s))}}return r===null||i===null?null:Number.isInteger(r)&&Number.isInteger(i)?[r,i]:null}function R7(t,e){let r=hi(t);if(r&&e[r])return e[r];let i=Nt(t);return i?[R7(i,e),...nr(t).map(n=>R7(n,e))]:t}function j7(t,e){let r=null;if(Array.isArray(t)&&(r=t),Pf(t)&&(r=t.fn),r===null)return[];let i=1,n=[];for(;i<r.length;)n.push(e(r[i])),i+=1;return n}function J3(t,e,r){let i=Nt(e),n=Nt(r);return i===t&&n===t?[t,...nr(e),...nr(r)]:i===t?[t,...nr(e),r]:n===t?[t,e,...nr(r)]:[t,e,r]}function jf(t){if(t==null)return null;let e=Nt(t);if(e==="Delimiter"){if(t=Re(t,1),t===null)return[];if(e=Nt(t),e!=="Sequence")return[t]}return e!=="Sequence"?null:nr(t)}function ya(t){return t==null||t==="Nothing"?!0:Nt(t)==="Sequence"&&Ea(t)===0}function tn(t){return ya(t)?Ff:t}function q7(t){return t[0]==="Square"?q7(t.slice(1))+2:t.reduce((e,r)=>e+e5(r),0)}function e5(t){if(t===null)return 0;if(typeof t=="number"||typeof t=="string"||dd(t)||IO(t)||_xe(t))return 1;if(Array.isArray(t))return q7(t);if("fn"in t)return q7(t.fn);let e=BO(t);if(e){let r=Object.keys(e);return 1+r.length+r.reduce((i,n)=>i+e5(e[n]),0)}return 0}function Ixe(t){if(t==="N")return[0,""];let e={I:1,V:5,X:10,L:50,C:100,D:500,M:1e3},r=0,i=0;t=t.toUpperCase();for(let n=t.length-1;n>=0;n--){let a=e[t[n]];if(a===void 0)return[r,t.slice(n)];a<i?r-=a:r+=a,i=a}return[r,""]}function t5(t,e){if(t=t.trim(),t.length===0)return[NaN,""];if(t.startsWith("+"))return t5(t.slice(1),e);if(t.startsWith("-")){let[n,a]=t5(t.slice(1),e);return[-n,a]}let r=10;if(typeof e=="string"&&(e=e.toLowerCase()),t.startsWith("0x"))r=16,t=t.slice(2);else if(t.startsWith("0b"))r=2,t=t.slice(2);else{if(e==="roman")return Ixe(t);if(e==="base64"||e==="base-64")try{return[parseInt(btoa(t)),""]}catch{return[NaN,""]}else typeof e=="number"?r=e:typeof e=="string"&&(r=parseInt(e))}let i=0;for(let n=0;n<t.length;n++){let a={" ":-1," ":-1," ":-1," ":-1," ":-1," ":-1," ":-1," ":-1," ":-1," ":-1," ":-1," ":-1," ":-1,"​":-1," ":-1," ":-1,_:-1,",":-1,0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,g:16,h:17,i:18,j:19,k:20,l:21,m:22,n:23,o:24,p:25,q:26,r:27,s:28,t:29,u:30,v:31,w:32,x:33,y:34,z:35}[t[n]];if(a!==-1){if(a===void 0)return[i,t.substring(n)];if(a>=r)return[i,t.substring(n)];i=i*r+a}}return[i,""]}function Do(t,e){if(typeof e=="number"&&typeof t=="number")return t.toFixed(e);let r=t.toString();if(typeof t=="number"&&Number.isInteger(t)&&r.includes("e")){let i=BigInt(t).toString(),n=i.match(/0+$/);if((n?n[0].length:0)<=5)return i}else if(typeof t=="bigint"){let i=r.match(/0+$/),n=i?i[0].length:0;if(n>5)return`${r.slice(0,-n)}e+${n}`}return r}function Txe(t){if(typeof t=="number")return Number.isInteger(t)?BigInt(t):null;if(t==null||!dd(t))return null;let e=Q3(t)?t.num:t;if(typeof e=="number")return Number.isInteger(e)?BigInt(e):null;if(typeof e!="string")return null;let r=e.toLowerCase().replace(/[nd]$/,"").replace(/[\u0009-\u000d\u0020\u00a0]/g,"");return r==="nan"||r==="infinity"||r==="+infinity"||r==="-infinity"?null:Rs(r)}function kl(t,e){if(typeof t=="number")return isNaN(t)?"NaN":Number.isFinite(t)?typeof e=="number"?{num:t.toFixed(e)}:t:t<0?"NegativeInfinity":"PositiveInfinity";if(t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER)return Number(t);let r=Do(t);return Number(t).toString()===r?Number(t):{num:r}}var Ms=class il extends us{constructor(e,r,i){if(super(),this.im=0,this.factory=r,this.bignum=i,typeof e=="number"){this.rational=[e,1],this.radical=1;return}if(typeof e=="bigint"){this.rational=[e,BigInt(1)],this.radical=1;return}let n=e.rational?[...e.rational]:[1,1];this.rational=n,this.radical=e.radical??1,this.radical<=en&&this.radical>=1,this.normalize()}get type(){return this.isNaN?"number":this.isPositiveInfinity||this.isNegativeInfinity?"non_finite_number":this.radical!==1?(Zc(this.rational),"finite_real"):Bf(this.rational)?"finite_integer":"finite_rational"}get isExact(){return!0}get asExact(){return this}toJSON(){if(this.isNaN)return"NaN";if(this.isPositiveInfinity)return"PositiveInfinity";if(this.isNegativeInfinity)return"NegativeInfinity";if(this.isZero)return 0;if(this.isOne)return 1;if(this.isNegativeOne)return-1;let e=r=>Bf(r)?kl(r[0]):["Rational",kl(r[0]),kl(r[1])];return this.radical===1?e(this.rational):Ml(this.rational)?["Sqrt",this.radical]:O7(this.rational)?["Negate",["Sqrt",this.radical]]:this.rational[0]==1?["Divide",["Sqrt",this.radical],kl(this.rational[1])]:this.rational[0]==-1?["Negate",["Divide",["Sqrt",this.radical],kl(this.rational[1])]]:["Multiply",e(this.rational),["Sqrt",this.radical]]}clone(e){return new il(e,this.factory,this.bignum)}toString(){if(this.isZero)return"0";if(this.isOne)return"1";if(this.isNegativeOne)return"-1";let e=i=>Bf(i)?Do(i[0]):`${Do(i[0])}/${Do(i[1])}`;if(this.radical===1)return e(this.rational);let r=i=>`sqrt(${Do(i)})`;return Ml(this.rational)?r(this.radical):O7(this.rational)?`-${r(this.radical)}`:this.rational[0]==1?`${r(this.radical)}/${Do(this.rational[1])}`:this.rational[0]==-1?`-${r(this.radical)}/${Do(this.rational[1])}`:`${e(this.rational)}${r(this.radical)}`}get sign(){return Zc(this.rational)?0:$O(this.rational)?1:-1}get re(){return Nxe(this.rational)*Math.sqrt(this.radical)}get bignumRe(){let e,r=this.rational;return va(r)?e=this.bignum(r[0]).div(r[1]):e=this.bignum(r[0].toString()).div(this.bignum(r[1].toString())),this.radical===1?e:e.mul(this.bignum(this.radical).sqrt())}get numerator(){return this.rational[1]==1?this:this.clone({rational:va(this.rational)?[this.rational[0],1]:[this.rational[0],BigInt(1)],radical:this.radical})}get denominator(){return va(this.rational)?this.clone(this.rational[1]):this.clone({rational:[this.rational[1],BigInt(1)]})}normalize(){if(Number.isInteger(this.radical)&&this.radical>0&&Number.isFinite(this.radical),isNaN(this.radical)){this.rational=[NaN,1],this.radical=1;return}let[e,r]=this.rational;if(r==0){this.rational=[NaN,1],this.radical=1;return}if(this.radical===0||e===0){this.rational=[0,1],this.radical=1;return}if(this.radical>=4){let[i,n]=A7(this.radical,2);typeof this.rational[0]=="number"?this.rational[0]*=i:this.rational=pd(this.rational,[i,1]),this.radical=n}this.rational=F7(this.rational)}get isNaN(){return Number.isNaN(this.rational[0])}get isPositiveInfinity(){return this.rational[0]==1/0}get isNegativeInfinity(){return this.rational[0]==-1/0}get isComplexInfinity(){return!1}get isZero(){return Zc(this.rational)}get isOne(){return!(this.rational[0]!==this.rational[1]||this.radical!==1)}get isNegativeOne(){return!(this.rational[0]!==-this.rational[1]||this.radical!==1)}sgn(){if(!Number.isNaN(this.rational[0]))return Zc(this.rational)?0:$O(this.rational)?1:-1}N(){return this.isZero||this.isOne||this.isNegativeOne?this:this.rational[1]==1&&this.radical===1?this:this.factory(this.bignumRe)}neg(){return this.isZero?this:this.clone({rational:X3(this.rational),radical:this.radical})}inv(){return this.isOne?this:this.isNegativeOne?this:this.clone({rational:va(this.rational)?[this.rational[1],this.rational[0]*this.radical]:[this.rational[1],this.rational[0]*BigInt(this.radical)],radical:this.radical})}add(e){return typeof e=="number"?e===0?this:Number.isInteger(e)&&this.radical===1?this.clone({rational:va(this.rational)?[this.rational[0]+e*this.rational[1],this.rational[1]]:[this.rational[0]+BigInt(e)*this.rational[1],this.rational[1]]}):this.factory(this.bignumRe).add(e):e.isZero?this:this.isZero?e:e instanceof il?this.radical===e.radical?this.clone({rational:Of(this.rational,e.rational),radical:this.radical}):this.factory(this.bignumRe).add(e):e.add(this)}sub(e){return this.add(e.neg())}mul(e){return e===0?this.clone(0):e===1?this:e===-1?this.neg():typeof e=="number"?Number.isInteger(e)?this.clone({rational:va(this.rational)?[this.rational[0]*e,this.rational[1]]:[this.rational[0]*BigInt(e),this.rational[1]],radical:this.radical}):this.factory(this.bignumRe).mul(e):e instanceof Ui?this.factory(e).mul(this):e.im!==0?e.mul(this):e.isZero?e:e.isOne?this:e.isNegativeOne?this.neg():e.isNaN?e:this.isZero?this:this.isOne?e:this.isNegativeOne?e.neg():e instanceof il?this.clone({rational:pd(this.rational,e.rational),radical:this.radical*e.radical}):e.mul(this)}div(e){if(typeof e=="number")return e===1?this:e===-1?this.neg():e===0?this.clone(NaN):this.clone({rational:va(this.rational)?[this.rational[0],this.rational[1]*e]:[this.rational[0],this.rational[1]*BigInt(e)],radical:this.radical});if(e.isOne)return this;if(e.isNegativeOne)return this.neg();if(this.isZero)return e.isZero?this.clone(NaN):e.isNaN?e:this;if(e.isNaN)return e;if(e.isZero)return this.clone(this.sign*(1/0));if(!(e instanceof il))return this.factory(this.bignumRe).div(e);if(e.im!==0)return this.factory(this.bignumRe).div(e);let r;if(va(this.rational)&&va(e.rational)){let[i,n]=this.rational,[a,s]=e.rational;r=[i*s,n*a*e.radical]}else r=pd(this.rational,[BigInt(e.rational[1]),BigInt(e.rational[0])*BigInt(e.radical)]);return this.clone({rational:r,radical:this.radical*e.radical})}pow(e){if(this.isNaN)return this;if(typeof e=="number"&&isNaN(e))return this.clone(NaN);if(e instanceof us){if(e.isNaN)return this.clone(NaN);if(e.isZero)return this.clone(1);if(e.isOne)return this;if(e.im)e={re:e.re,im:e.im};else{if(e instanceof il&&e.radical===1&&e.rational[0]==1)return this.root(e.rational[0]);e=e.re}}if(e===.5)return this.sqrt();if(typeof e=="object"&&("re"in e||"im"in e))return this.factory(this.bignumRe).pow(e);if(this.isPositiveInfinity){if(e===-1)return this.clone(0);if(e===1/0)return this.clone(1/0);if(e===-1/0)return this.clone(0)}else if(this.isNegativeInfinity&&e===1/0)return this.clone(NaN);if((e===1/0||e===-1/0)&&(this.isOne||this.isNegativeOne))return this.clone(NaN);if(e===1)return this;if(e===-1)return this.inv();if(e===0)return this.clone(1);if(this.isZero){if(e>0)return this;if(e<0)return this.factory({im:1/0})}if(e<0)return this.pow(-e).inv();if(e%1===.5)return this.pow(Math.floor(e)).mul(this.sqrt());if(this.radical>en||this.rational[0]>en||this.rational[0]<-en||this.rational[1]>en)return this.factory(this.bignumRe).pow(e);if(this.sign<0){if(Number.isInteger(e)){let r=e%2===0?1:-1;return this.clone({rational:va(this.rational)?[r*(-this.rational[0])**e,this.rational[1]**e]:[BigInt(r)*(-this.rational[0])**BigInt(e),this.rational[1]**BigInt(e)],radical:this.radical**e})}return this.factory({im:(-this.re)**e})}else if(Number.isInteger(e))return this.clone({rational:va(this.rational)?[this.rational[0]**e,this.rational[1]**e]:[BigInt(this.rational[0])**BigInt(e),this.rational[1]**BigInt(e)],radical:this.radical**e});return this.factory(this.bignumRe).pow(e)}root(e){if(e===0)return this.clone(NaN);if(this.isNaN)return this;if(this.isZero)return this;if(e===1)return this;if(e===-1)return this.inv();if(e<0)return this.root(-e).inv();if(e%1===.5)return this.root(Math.floor(e)).sqrt();if(this.radical===1){if(this.sign>0){let r=this.re;if(Number.isInteger(r)){if(r>0){let i=Math.pow(r,1/e);if(Number.isInteger(i))return this.clone(i)}return this.factory(this.bignumRe).root(e)}}return this.factory(this.bignumRe).root(e)}if(this.sign<0)return this.factory({im:Math.pow(-this.re,1/e)});if(this.radical>en||this.rational[0]>en||this.rational[0]<-en||this.rational[1]>en)return this.factory(this.bignumRe).root(e);if(this.rational[1]==1){let r=Math.pow(this.rational[0],1/e);if(Number.isInteger(r))return this.clone(r)}return this.factory(this.bignumRe).root(e)}sqrt(){if(this.isZero||this.isOne)return this;if(this.radical===1)if(va(this.rational)){let[e,r]=this.rational;return e*r>en?this.factory(this.bignumRe).sqrt():e>0?this.clone({radical:e*r,rational:[1,r]}):this.factory({im:Math.sqrt(-e*r)/r})}else return this.factory(this.bignumRe).sqrt();if(this.sign>0){let e=Math.sqrt(this.re);if(Number.isInteger(e))return this.clone(e)}return this.factory(this.bignumRe).sqrt()}gcd(e){if(!(e instanceof il))return e.gcd(this);if(this.isOne||e.im!==0||e.isOne)return this.clone(1);let r=_O(this.rational,e.rational),i=od(this.radical,e.radical);return this.clone({rational:r,radical:i})}abs(){return this.sign===-1?this.neg():this}ln(e){return this.isZero?this.clone(NaN):this.isPositiveInfinity?this.clone(1/0):this.sign<0?this.clone(NaN):this.isOne?this.clone(0):this.isNegativeOne?this.factory({im:Math.PI}):this.factory(this.bignumRe).ln(e)}exp(){return this.isNaN?this.clone(NaN):this.isZero?this.clone(1):this.isNegativeInfinity?this.clone(0):this.isPositiveInfinity?this.clone(1/0):this.factory(this.bignumRe).exp()}floor(){return this.isNaN?this.clone(NaN):this.type==="integer"?this:this.clone(Math.floor(this.re))}ceil(){return this.isNaN?this.clone(NaN):this.type==="integer"?this:this.clone(Math.ceil(this.re))}round(){return this.isNaN?this.clone(NaN):this.type==="integer"?this:this.clone(Math.round(this.re))}eq(e){return typeof e=="number"?this.radical===1&&Bf(this.rational)&&this.rational[0]==e:e instanceof il?this.radical===e.radical&&this.rational[0]==e.rational[0]&&this.rational[1]==e.rational[1]:e.im===0&&e.re===this.re}lt(e){return this.im,typeof e=="number"?this.re<e:this.re<e.re}lte(e){return this.im,typeof e=="number"?this.re<=e:this.re<=e.re}gt(e){return this.im,typeof e=="number"?this.re>e:this.re>e.re}gte(e){return this.im,typeof e=="number"?this.re>=e:this.re>=e.re}static sum(e,r,i){if(e.length===1)return e;if(e.some(l=>!l.isExact)){if(e.length===2)return[e[0].add(e[1])];let l=r(0);for(let u of e)l=l.add(u);return[l]}let n=0,a=[0,1],s=[];for(let l of e){if(l.isNaN)return[new il(NaN,r,i)];if(!l.isZero)if(n+=l.im,l instanceof il){let u=l.rational;if(l.radical===1)a=Of(a,u);else{let c=s.findIndex(h=>h.radical===l.radical);c===-1?s.push({multiple:u,radical:l.radical}):s[c].multiple=Of(s[c].multiple,u)}}else ur(l.type,"integer"),a=Of(a,[l.re,1])}if(Zc(a)&&s.length===0)return n===0?[new il(0,r,i)]:[r({im:n})];let o=[];return n!==0&&o.push(r({im:n})),s.length===0?o.push(new il({rational:a},r,i)):(s.push({multiple:a,radical:1}),o.push(...s.map(l=>new il({rational:l.multiple,radical:l.radical},r,i)))),o}};function Hc(t){let e=t.numericValue;if(e===null||typeof e=="number"&&!Number.isFinite(e)||e instanceof us&&(e.isNaN||e.isPositiveInfinity||e.isNegativeInfinity))return;if(typeof e=="number")return Number.isInteger(e)?[e,1]:void 0;let r=e.type;if(r!=="finite_integer"&&r!=="finite_rational"||e.im!==0)return;if(e instanceof Ms)return e.radical!==1?void 0:e.rational;let i=e.bignumRe;if(i!==void 0&&Number.isInteger(i))return[Rs(i),BigInt(1)];let n=e.re;if(Number.isInteger(n))return[n,1]}function U7(t){if(t==null)return null;let e=t.numericValue;if(e===null)return null;if(typeof e=="number")return Number.isInteger(e)?BigInt(e):null;if(e.im!==0)return null;let r=e.bignumRe;return r!=null&&r.isInteger()?Rs(r):Number.isInteger(e.re)?BigInt(e.re):null}function OO(t){if(t==null)return null;let e=typeof t=="number"?t:t.numericValue;if(e===null)return null;if(typeof e=="number")return t.engine.bignum(e);if(e.im!==0)return null;let r=e.bignumRe??e.re;return typeof r=="number"&&isNaN(r)?null:t.engine.bignum(r)}function Bn(t){if(t==null)return null;if(typeof t=="number")return Number.isInteger(t)&&t>=-en&&t<=en?t:null;let e=t.numericValue;if(e===null)return null;if(typeof e=="number")return Number.isInteger(e)&&e>=-en&&e<=en?e:null;if(e.im!==0)return null;let r=e.re;return Number.isInteger(r)&&r>=-en&&r<=en?Number(r):null}function Go(t){if(t.symbol&&!t.isConstant)return 1;if(t.operator==="Power"&&t.op2.isNumberLiteral){if(Go(t.op1)===0)return 0;let e=Bn(t.op2);return e!==null&&e>0?e:0}if(t.operator==="Multiply"){let e=0;for(let r of t.ops){let i=Go(r);e=e+i}return e}if(t.operator==="Add"||t.operator==="Subtract"){let e=0;for(let r of t.ops)e=Math.max(e,Go(r));return e}return t.operator==="Negate"||t.operator==="Divide"?Go(t.op1):0}function I0(t){if(t.symbol&&!t.isConstant)return 1;if(t.operator==="Power"&&t.op2.isNumberLiteral){if(I0(t.op1)===0)return 0;let e=Bn(t.op2);return e!==null&&e>0?e:0}if(t.operator==="Multiply"||t.operator==="Add"||t.operator==="Subtract"){let e=0;for(let r of t.ops)e=Math.max(e,Go(r));return e}return t.operator==="Negate"||t.operator==="Divide"?I0(t.op1):0}function FO(t){return t.symbol&&!t.isConstant?t.symbol:t.ops?t.ops.map(e=>FO(e)).join(" ").trim():""}function PO(t){return FO(t).split(" ").reverse().join(" ").trim()}function Hn(t,e,r,i){if(((t==null?void 0:t.numericValue)??null)===null)return;let n=t.engine,a;if(t.im!==0)a=i==null?void 0:i(n.complex(t.re,t.im));else{let s=t.bignumRe;if(s!==void 0&&ss(n)&&r)a=r(s);else{let o=t.re;ss(n)&&r?a=r(n.bignum(o)):a=e(o)}}if(a!==void 0)return a instanceof yn?n.number(n._numericValue({re:a.re,im:a.im})):n.number(a)}function g1(t,e,r,i,n){if(t.numericValue===null||e.numericValue===null)return;let a=t.engine,s;if((t.im!==0||e.im!==0)&&(s=n==null?void 0:n(a.complex(t.re,t.im),a.complex(e.re,e.im))),s===void 0&&i){let o=t.bignumRe,l=e.bignumRe;(o!==void 0||l!==void 0)&&(o??(o=a.bignum(t.re)),l??(l=a.bignum(e.re)),s=i(o,l))}if(s===void 0){let o=t.re,l=e.re;!isNaN(o)&&!isNaN(l)&&(ss(a)&&i?s=i(a.bignum(t.bignumRe??o),a.bignum(e.bignumRe??l)):s=r(o,l))}if(s!==void 0)return s instanceof yn?a.number(a._numericValue({re:a.chop(s.re),im:a.chop(s.im)})):a.number(a.chop(s))}function RO(t){return t.operator==="Sqrt"||t.operator==="Power"&&t.op2.im===0&&t.op2.re===.5||t.operator==="Root"&&t.op2.im===0&&t.op2.re===2}function jO(t){if(RO(t))return Hc(t.op1)??null;if(t.operator==="Divide"&&t.op1.is(1)&&RO(t.op2)){let e=t.op2.re;return Number.isInteger(e)?[1,e]:null}return null}function r5(t,e){let r=t.engine;if(t=t.canonical,e=e.canonical,t.is(0)){if(e.is(0))return r.NaN;if(e.isPositive)return r.Zero;if(e.isNegative)return r.ComplexInfinity}if(t.is(1)||e.is(0))return r.One;if(e.is(1))return t;if(e.is(.5))return qf(t,2);let i=Hc(e);return i!==void 0&&i[0]===1?qf(t,r.number(i[1])):r._fn("Power",[t,e])}function qf(t,e){t=t.canonical;let r=t.engine,i;if(typeof e=="number"?i=e:(e=e.canonical,e.isNumberLiteral&&e.im===0&&(i=e.re)),i===1)return t;if(i===2){if(t.isNumberLiteral&&t.type.matches("rational")&&t.re<en){let n=t.sqrt();if(typeof n.numericValue=="number"||n.numericValue.isExact)return n}return r._fn("Sqrt",[t])}return r._fn("Root",[t,typeof e=="number"?r.number(e):e])}function js(t,e,{numericApproximation:r}){if(!t.isCanonical)return t.canonical.pow(e);if(r&&t.isNumberLiteral){if(typeof e=="number")return Hn(t,a=>Math.pow(a,e),a=>a.pow(e),a=>a.pow(e))??js(t,e,{numericApproximation:!1});if(e.isNumberLiteral)return g1(t,e,(a,s)=>Math.pow(a,s),(a,s)=>a.pow(s),(a,s)=>a.pow(s))??js(t,e,{numericApproximation:!1})}let i=t.engine;typeof e!="number"&&(e=e.canonical);let n=typeof e=="number"?e:e.im===0?e.re:void 0;if(n===0)return i.One;if(n===1)return t;if(n===-1)return t.isInfinity&&t.isNegative?i.Zero:t.is(-1)?i.NegativeOne:t.is(0)?i.ComplexInfinity:t.is(1)?i.One:t.isInfinity&&t.isPositive?i.Zero:t.inv();if(n===Number.POSITIVE_INFINITY){if(t.is(0))return i.Zero;if(t.is(1)||t.is(-1))return i.NaN;if(t.isInfinity){if(t.isPositive)return i.PositiveInfinity;if(t.isNegative)return i.NaN}}if(n===Number.NEGATIVE_INFINITY){if(t.is(-1))return i.NaN;if(t.isInfinity){if(t.isPositive)return i.Zero;if(t.isNegative)return i.NegativeInfinity}}if(typeof e!="number"){if(e.isInfinity&&!e.isPositive&&!e.isNegative)return i.NaN;if(t.isInfinity){if(e.type.matches("imaginary"))return i.NaN;if(e.type.matches("complex")&&!isNaN(e.re)){if(e.re>0)return i.ComplexInfinity;if(e.re<0)return i.Zero}}}if(n===Number.POSITIVE_INFINITY){if(t.isGreater(1))return i.PositiveInfinity;if(t.isPositive&&t.isLess(1))return i.Zero}if(n===Number.NEGATIVE_INFINITY){if(t.isGreater(1))return i.Zero;if(t.isPositive&&t.isLess(1))return i.PositiveInfinity}if(typeof e!="number"&&e.operator==="Negate")return js(t,e.op1,{numericApproximation:r}).inv();if(t.symbol==="ComplexInfinity")return i.NaN;if(t.symbol==="ExponentialE"){let a=G3(e);if(a!==void 0){if(a=CO(a),a!==void 0)return i.function("Cos",[a]).add(i.function("Sin",[a]).mul(i.I)).simplify()}else if(r){if(typeof e=="number")return i.number(i._numericValue(i.E.N().numericValue).pow(e));if(e.isNumberLiteral)return i.number(i._numericValue(i.E.N().numericValue).pow(e.numericValue))}}if(t.operator==="Power"){let[a,s]=t.ops;return js(a,s.mul(e),{numericApproximation:r})}if(t.operator==="Divide"){let[a,s]=t.ops;return js(a,e,{numericApproximation:r}).div(js(s,e,{numericApproximation:r}))}if(t.operator==="Negate"&&n!==void 0)return n%2===0?js(t.op1,e,{numericApproximation:r}):js(t.op1,e,{numericApproximation:r}).neg();if(t.operator==="Sqrt")return n===2?t.op1:n!==void 0&&n%2===0?t.op1.pow(n/2):js(t.op1,e,{numericApproximation:r}).sqrt();if(t.operator==="Exp")return js(i.E,t.op1.mul(e),{numericApproximation:r});if(t.operator==="Multiply"){let a=t.ops.map(s=>js(s,e,{numericApproximation:r}));return i._fn("Multiply",a)}if(typeof e!="number"&&e.isNumberLiteral){let a=Hc(e);if(a!==void 0&&a[0]===1)return V7(t,i.number(a[1]),{numericApproximation:r})}if(t.operator==="Root"){let[a,s]=t.ops;return js(a,i.box(e).div(s),{numericApproximation:r})}if(t.isNumberLiteral&&Number.isInteger(n)){let a=t.numericValue;return typeof a=="number"?Hn(t,s=>Math.pow(s,n),s=>s.pow(n),s=>s.pow(n))??i._fn("Power",[t,i.box(e)]):i.number(a.pow(n))}return i._fn("Power",[t,i.box(e)])}function V7(t,e,{numericApproximation:r}){var i,n;if(r&&t.isNumberLiteral&&e.isNumberLiteral){let a=t.isNegative,s=e.isEven;return a&&(t=t.neg()),g1(t,e,(o,l)=>{let u=Math.pow(o,1/l);return a&&!s?-u:u},(o,l)=>{let u=o.pow(l.pow(-1));return a&&!s?u.neg():u},(o,l)=>{let u=o.pow(typeof l=="number"?1/l:l.inverse());return a&&!s?u.neg():u})??V7(t,e,{numericApproximation:!1})}if(t.isNumberLiteral&&e.isNumberLiteral&&e.isInteger){let a=typeof e=="number"?e:e.im===0?e.re:void 0;if(a!==void 0)if(typeof t.numericValue=="number"){let s=(i=t.engine._numericValue(t.numericValue))==null?void 0:i.root(a);if(s!=null&&s.isExact)return t.engine.number(s)}else{let s=(n=t.numericValue.asExact)==null?void 0:n.root(a);if(s!=null&&s.isExact)return t.engine.number(s)}}return t.engine._fn("Root",[t,e])}var md=1e5,Lxe={Sin:!0,Cos:!0,Tan:!0,Cot:!0,Sec:!0,Csc:!0,Sinh:!0,Cosh:!0,Tanh:!0,Coth:!0,Sech:!0,Csch:!0,Arcsin:!0,Arccos:!0,Arctan:!0,Arccot:!0,Arcsec:!0,Arccsc:!0,Arcsinh:!0,Arccosh:!0,Arctanh:!0,Arccoth:!0,Arccsch:!0,Arcsech:!0};function zxe(t){return!t||typeof t!="string"?!1:t in Lxe}function G7(t,e){let r=Go(t),i=Go(e);if(r!==i)return i-r;let n=I0(t),a=I0(e);if(n!==a)return a-n;let s=PO(t),o=PO(e);if(s||o){if(!s)return 1;if(!o||s<o)return-1;if(s>o)return 1}return ks(t,e)}var qO=["integer","rational","radical","real","complex","constant","symbol","multiply","divide","add","trig","fn","power","string","other"];function UO(t){if(typeof t.numericValue=="number")return Number.isInteger(t.numericValue)?"integer":"real";if(t.numericValue){let e=t.numericValue.type;return e==="integer"||e==="finite_integer"?"integer":e==="rational"||e==="finite_rational"?"rational":e==="real"||e==="finite_real"?"real":e==="complex"||e==="finite_complex"||e==="imaginary"||e==="finite_number"?"complex":e==="non_finite_number"?"constant":e==="number"?"real":"other"}return t.symbol==="ImaginaryUnit"?"complex":jO(t)?"radical":t.symbol&&t.isConstant?"constant":t.symbol?"symbol":zxe(t.operator)?"trig":t.operator==="Add"?"add":t.operator==="Power"||t.operator==="Root"?"power":t.operator==="Multiply"||t.operator==="Negate"?"multiply":t.operator==="Divide"?"divide":t.operator==="Rational"?"rational":t.operator==="Complex"?t.im!==0?"complex":"real":t.operator==="Sqrt"?t.op1.isNumberLiteral&&(t.op1.isInteger||t.op1.isRational)?"radical":"power":t.ops?"fn":t.string?"string":"other"}function ks(t,e){var n,a;if(t===e)return 0;let r=UO(t),i=UO(e);if(r!==i)return qO.indexOf(r)-qO.indexOf(i);if(r==="complex"){let[s,o]=GO(t),[l,u]=GO(e);return o!==u?o-u:s-l}if(r==="integer"||r==="rational"||r==="real"){let s=t.numericValue,o=e.numericValue;s===null&&t.operator==="Rational"&&(s=t.op1.re/t.op2.re),o===null&&e.operator==="Rational"&&(o=e.op1.re/e.op2.re);let l=typeof s=="number"?s:s.re,u=typeof o=="number"?o:o.re;return l-u}if(r==="radical")return ks(t.op1,e.op1);if(r==="constant"||r==="symbol")return t.symbol===e.symbol?0:t.symbol>e.symbol?1:-1;if(r==="add"){let s=t.ops,o=e.ops;if(s.length!==o.length)return o.length-s.length;for(let l=0;l<s.length;l++){let u=ks(s[l],o[l]);if(u!==0)return u}return 0}if(r==="power"){let s=Go(t),o=Go(e);if(s!==o)return o-s;let l=I0(t),u=I0(e);return l!==u?l-u:ks(t.op1,e.op1)}if(r==="multiply"){let s=Go(t),o=Go(e);if(s!==o)return o-s;let l=I0(t),u=I0(e);if(l!==u)return l-u;let c=t.ops,h=e.ops;if(c.length!==h.length)return h.length-c.length;for(let p=0;p<c.length;p++){let d=ks(c[p],h[p]);if(d!==0)return d}return 0}if(r==="divide"){let s=Go(t.op1),o=Go(e.op1);if(s!==o)return o-s;let l=I0(t.op1),u=I0(e.op1);if(l!==u)return l-u;let c=ks(t.op1,e.op1);return c!==0?c:ks(t.op2,e.op2)}if(r==="fn"||r==="trig"){if(t.operator==e.operator&&t.nops===1&&e.nops===1)return ks(t.op1,e.op1);let s=((n=t.functionDefinition)==null?void 0:n.complexity)??md,o=((a=e.functionDefinition)==null?void 0:a.complexity)??md;return s===o?t.operator===e.operator?H7(t)-H7(e):t.operator<e.operator?1:-1:s-o}return r==="string"?t.string===e.string?0:e.string<t.string?-1:1:(t.complexity??md)-(e.complexity??md)}function VO(t,{recursive:e=!1}){if(t.isCanonical||!t.ops)return t;let r=t.ops;return e&&(r=r.map(i=>VO(i,{recursive:e}))),r=Z7(t.operator,r),t.engine._fn(t.operator,r,{canonical:!1})}function Z7(t,e){if(e.length===0)return e;let r=e[0].engine;if(t==="Add")return[...e].sort(G7);if(t==="Multiply")return[...e].sort(ks);let i=r.lookupFunction(t);return!i||!i.commutative?e:i.commutativeOrder?[...e].sort(i.commutativeOrder):[...e].sort(ks)}function H7(t){return t.ops?1+[...t.ops].reduce((e,r)=>e+H7(r),0):1}function GO(t){if(t.symbol==="ImaginaryUnit")return[0,1];if(t.numericValue){if(typeof t.numericValue=="number")return[t.numericValue,0];let e=t.numericValue;return[e.re,e.im]}if(t.operator==="Complex"){let e=t.op1.numericValue;if(e===null)return[0,0];let r=typeof e=="number"?e:e.re,i=t.op2.numericValue;if(i===null)return[0,0];let n=typeof i=="number"?i:i.re;return[r,n]}return[0,0]}function ZO(t,e){for(t.isInteger()&&e.isInteger();!e.isZero();)[t,e]=[e,t.modulo(e)];return t.abs()}function Bxe(t,e){return t.mul(e).div(ZO(t,e))}function Oxe(t,e){if(!e.isInteger()||e.isNegative())return t._BIGNUM_NAN;if(e.lessThan(1))return t._BIGNUM_ONE;let r=e;for(;e.greaterThan(2);)e=e.minus(2),r=r.mul(e);return r}function i5(t){return t.isFinite()?t.d.length>3||t.d.length===3&&t.d[0]>=90?!1:(t.precision()<=16,t.e<308&&t.e>-306):!0}var HO=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];function W7(t){if(t<0)return NaN;let e=Math.PI,r=t*t*t;return t*Math.log(t)-t-.5*Math.log(t)+.5*Math.log(2*e)+1/(12*t)-1/(360*r)+1/(1260*r*t*t)}function Uf(t){if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Uf(1-t));if(t>100)return Math.exp(W7(t));t-=1;let e=HO[0];for(let i=1;i<9;i++)e+=HO[i]/(t+i);let r=t+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(r,t+.5)*Math.exp(-r)*e}function Fxe(t){let e=Math.PI,r=e*e,i=r*e,n=t*t,a=t*n,s=a*n,o=s*n;return Math.sqrt(e)/2*(t+e/12*a+7*r/480*s+127*i/40320*o+4369*r*r/5806080*o*n+34807*i*r/182476800*o*n*n)}function WO(t){let e=.254829592,r=-.284496736,i=1.421413741,n=-1.453152027,a=1.061405429,s=.3275911,o=t<0?-1:1;t=Math.abs(t);let l=1/(1+s*t),u=((((a*l+n)*l+i)*l+r)*l+e)*l;return o*(1-u*Math.exp(-t*t))}function YO(t,e){if(e.isNegative())return t._BIGNUM_NAN;let r=t.cache("gamma-p-ln",()=>["0.99999999999999709182","57.156235665862923517","-59.597960355475491248","14.136097974741747174","-0.49191381609762019978","0.33994649984811888699e-4","0.46523628927048575665e-4","-0.98374475304879564677e-4","0.15808870322491248884e-3","-0.21026444172410488319e-3","0.2174396181152126432e-3","-0.16431810653676389022e-3","0.84418223983852743293e-4","-0.2619083840158140867e-4","0.36899182659531622704e-5"].map(s=>t.bignum(s))),i=r[0];for(let s=r.length-1;s>0;--s)i=i.add(r[s].div(e.add(s)));let n=t.cache("gamma-g-ln",()=>t.bignum(607).div(128)),a=e.add(n).add(t._BIGNUM_HALF);return t._BIGNUM_NEGATIVE_ONE.acos().mul(t._BIGNUM_TWO).log().mul(t._BIGNUM_HALF).add(a.log().mul(e.add(t._BIGNUM_HALF)).minus(a).add(i.log()).minus(e.log()))}function KO(t,e){if(e.lessThan(t._BIGNUM_HALF)){let a=t._BIGNUM_NEGATIVE_ONE.acos();return a.div(a.mul(e).sin().mul(KO(t,t._BIGNUM_ONE.sub(e))))}if(e.greaterThan(100))return YO(t,e).exp();e=e.sub(1);let r=t.cache("lanczos-7-c",()=>["0.99999999999980993227684700473478","676.520368121885098567009190444019","-1259.13921672240287047156078755283","771.3234287776530788486528258894","-176.61502916214059906584551354","12.507343278686904814458936853","-0.13857109526572011689554707","9.984369578019570859563e-6","1.50563273514931155834e-7"].map(a=>t.bignum(a))),i=r[0];for(let a=1;a<9;a++)i=i.add(r[a].div(e.add(a)));let n=e.add(7).add(t._BIGNUM_HALF);return t._BIGNUM_NEGATIVE_ONE.acos().times(t._BIGNUM_TWO).sqrt().mul(i.mul(n.neg().exp()).mul(n.pow(e.add(t._BIGNUM_HALF))))}var Eu=class qZ{constructor(e,r,i){if(this.options=i,this.terms=[],this._isCanonical=!0,i=i?{...i}:{},"canonical"in i||(i.canonical=!0),this._isCanonical=i.canonical,this.engine=e,this.coefficient=e._numericValue(1),r)for(let n of r)this.mul(n)}static from(e){return new qZ(e.engine,[e])}mul(e,r){if(e.isCanonical||e.isStructural,this.coefficient.isNaN)return;if(e.isNaN){this.coefficient=this.engine._numericValue(NaN);return}if(e.operator==="Multiply"){for(let a of e.ops)this.mul(a,r);return}if(e.operator==="Negate"){this.mul(e.op1,r),this.coefficient=this.coefficient.neg();return}if(this._isCanonical){if(e.symbol==="Nothing")return;r??(r=[1,1]);let a=e.numericValue;if(a!==null){if(e.is(1))return;if(e.is(0)){this.coefficient=this.engine._numericValue(Zc(r)?NaN:0);return}if(e.is(-1)){Ml(r)?this.coefficient=this.coefficient.neg():this.coefficient=this.coefficient.mul(this.engine._numericValue(-1).pow(this.engine._numericValue(r)));return}if(e.isInfinity){Ml(r)?this.coefficient=this.engine._numericValue(e.isNegative?-1/0:1/0):this.terms.push({term:e,exponent:r});return}Ml(r)?this.coefficient=this.coefficient.mul(a):this.coefficient=this.coefficient.mul(this.engine._numericValue(a).pow(this.engine._numericValue(r)));return}let s=jO(e);if(s!==null){this.coefficient=this.coefficient.mul(this.engine._numericValue({radical:s[0]*s[1],rational:[1,Number(s[1])]}).pow(this.engine._numericValue(r)));return}if(!e.symbol){let o;[o,e]=e.toNumericValue(),r&&!Ml(r)&&(o=o.pow(this.engine._numericValue(r))),this.coefficient=this.coefficient.mul(o)}}if(e.is(1)&&(!r||Ml(r))||e.is(0)===!1&&r&&Zc(r))return;if(e.is(0)){r&&Zc(r)?this.coefficient=this.engine._numericValue(NaN):this.coefficient=this.engine._numericValue(0);return}let i=r??[1,1];if(e.operator==="Power"){let a=Hc(e.op2);if(a){this.mul(e.op1,pd(i,a));return}}if(e.operator==="Sqrt"){this.mul(e.op1,pd(i,[1,2]));return}if(e.operator==="Root"){let a=Hc(e.op2);if(a){this.mul(e.op1,pd(i,Sxe(a)));return}}if(e.operator==="Divide"){this.mul(e.op1,i),this.mul(e.op2,X3(i));return}let n=!1;for(let a of this.terms)if(a.term.isSame(e)){a.exponent=Of(a.exponent,i),n=!0;break}n||this.terms.push({term:e,exponent:i})}div(e){e instanceof us?this.coefficient=this.coefficient.div(e):this.mul(e,[-1,1])}groupedByDegrees(e){e??(e={}),"mode"in e||(e.mode="expression");let r=e.mode;if(r==="numeric"&&(this.coefficient.isNegativeInfinity||this.coefficient.isPositiveInfinity))return[];if(this.coefficient.isZero)return[];let i=this.engine;if(this.terms.length===0)if(r==="numeric"){let a=this.coefficient.N();return[{exponent:[1,1],terms:[i.number(a)]}]}else return[{exponent:[1,1],terms:[i.number(this.coefficient)]}];let n=[];if(!this.coefficient.isOne)if(r==="rational"&&this.coefficient.type==="finite_rational"){let a=this.coefficient.numerator;a.isOne||n.push({exponent:[1,1],terms:[i.number(a)]});let s=this.coefficient.denominator;s.isOne||n.push({exponent:[-1,1],terms:[i.number(s)]})}else if(r==="numeric"){let a=this.coefficient.N();n.push({exponent:[1,1],terms:[i.number(a)]})}else n.push({exponent:[1,1],terms:[i.number(this.coefficient)]});for(let a of this.terms){let s=F7(a.exponent);if(s[0]===0)continue;let o=!1;for(let l of n)if(s[0]===l.exponent[0]&&s[1]===l.exponent[1]){l.terms.push(a.term),o=!0;break}o||n.push({exponent:s,terms:[a.term]})}return n}asExpression(e={numericApproximation:!1}){let r=this.engine,i=this.coefficient;if(i.isNaN)return r.NaN;if(i.isPositiveInfinity)return r.PositiveInfinity;if(i.isNegativeInfinity)return r.NegativeInfinity;if(i.isZero)return r.Zero;let n=i.isNegativeOne;n&&(this.coefficient=r._numericValue(1));let a=this.groupedByDegrees({mode:e.numericApproximation?"numeric":"expression"});if(a===null)return r.NaN;if(n){let s=n5(r,a).neg();return this.coefficient=r._numericValue(-1),s}return n5(r,a)}asNumeratorDenominator(){let e=this.engine,r=this.coefficient;if(r.isZero)return[e.Zero,e.One];if(r.isPositiveInfinity||r.isNegativeInfinity)return this.terms.length===0?[r.isPositiveInfinity?e.PositiveInfinity:e.NegativeInfinity,e.One]:[e.NaN,e.NaN];let i=r.isNegativeOne;i&&(this.coefficient=e._numericValue(1));let n=this.groupedByDegrees({mode:"rational"});if(this.coefficient=r,n===null)return[e.NaN,e.NaN];let a=n.filter(l=>l.exponent[0]>=0),s=n.filter(l=>l.exponent[0]<0).map(l=>({exponent:X3(l.exponent),terms:l.terms})),o=n5(e,a);return[i?o.neg():o,n5(e,s)]}asRationalExpression(){let[e,r]=this.asNumeratorDenominator();return Wc(e,r)}};function Pxe(t,e){let r=t.engine,i=t.coefficient.gcd(e.coefficient);if(i.isOne)return[r._numericValue(1),r.One];let n=[];for(let a of t.terms){let s=e.terms.find(l=>a.term.isSame(l.term));if(!s)continue;let o=_O(a.exponent,s.exponent);if(Ml(o))n.push(a.term);else{let[l,u]=Dxe(o);u===1?n.push(a.term.pow(l)):l===1?n.push(a.term.root(u)):n.push(a.term.pow(l).root(u))}}return[i,n.length===0?r.One:Cl(...n)]}function n5(t,e){let r=e.map(({terms:i,exponent:n})=>{let a=ws(i,"Multiply"),s=a.length<=1?a[0]:t._fn("Multiply",[...a].sort(ks));return Ml(n)?s:s.pow(t.number(n))});return r=ws(r,"Multiply"),r.length===0?t.One:r.length===1?r[0]:t._fn("Multiply",r.sort(ks))}var Y7;function XO(t){if(!Y7){let e=`^[${["Zyyy","Zinh","Arab","Armn","Beng","Bopo","Cyrl","Deva","Ethi","Geor","Grek","Gujr","Guru","Hang","Hani","Hebr","Hira","Kana","Knda","Khmr","Laoo","Latn","Mlym","Mymr","Orya","Sinh","Taml","Telu","Thaa","Thai","Tibt"].map(r=>`\\p{Script=${r}}`).join("")}]*$`;Y7=new RegExp(e,"u")}return Y7.test(t)}function Zo(t){return/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t)||a5.test(t)?!0:XO(t)?new RegExp("^[\\p{XIDS}_]\\p{XIDC}*$","u").test(t):!1}var Rxe="\\u{FE0F}",jxe="\\u{20E3}",qxe="\\u{200D}",Uxe="\\p{RI}\\p{RI}",Vxe="(?:[\\u{E0020}-\\u{E007E}]+\\u{E007F})",QO=`(?:\\p{EMod}|${Rxe}${jxe}?|${Vxe})`,Gxe="(?:(?=\\P{XIDC})\\p{Emoji})",JO=`(?:${Gxe}${QO}*|\\p{Emoji}${QO}+|${Uxe})`,eF=`(?:${JO})(${qxe}${JO})*`,Zxe=new RegExp(`(?:${eF})+`,"u"),a5=new RegExp(`^(?:${eF})+$`,"u");function v1(t){return typeof t!="string"?"not-a-string":t===""?"empty-string":t.normalize()!==t?"expected-nfc":/[\u200E\u200F\u2066-\u2069\u202A-\u202E]/.test(t)?"unexpected-bidi-marker":a5.test(t)?"valid":new RegExp("\\p{XIDC}","u").test(t)&&Zxe.test(t)?"unexpected-mixed-emoji":XO(t)?Zo(t)?"valid":Zo(t[0])?"invalid-char":"invalid-first-char":"unexpected-script"}var Hxe=[{name:"To",latexTrigger:["\\to"],kind:"infix",precedence:270},{latexTrigger:["\\rightarrow"],kind:"infix",precedence:270,parse:"To"}];function Wxe(t,e){return"normal"}function Yxe(t,e){return"normal"}function Kxe(t,e){return e>2?"solidus":"radical"}function Xxe(t,e){if(e>3)return"inline-solidus";if(Nt(t)==="Divide"){let[r,i]=nr(t),[n,a]=[e5(r),e5(i)];if(a<=2&&n>5)return"factor";if(n<=2&&a>5)return"reciprocal"}return"quotient"}function Qxe(t,e){return"boolean"}function Jxe(t,e){return"solidus"}function e8e(t,e){return"compact"}function Vf(t,e,r){t.indexOf("#1")<0&&t.indexOf("#2")<0&&(t=`#1 ${t} #2`);let i=t.split(/(#\d+)/).filter(n=>n.trim()!=="").map(n=>n.trim());return Gt(i.map(n=>{switch(n){case"#1":return e;case"#2":return r;default:return n}}))}function t8e(t){if(Nt(t)!=="Multiply")return[[],[]];let e=[],r=[];for(let i of nr(t))if(Nt(i)==="Power"){let n=Re(i,1),a=Re(i,2);if(Nt(a)==="Negate"){let s=Re(a,1);n&&s&&r.push(["Power",n,s])}else{let s=ai(a)??NaN;s===-1?n&&r.push(n):s<0?n&&r.push(["Power",n,-s]):e.push(i)}}else if(Nt(i)==="Rational"&&Ea(i)===2||Nt(i)==="Divide"){let n=Re(i,1),a=Re(i,2);ai(n)!==1&&e.push(n),ai(a)!==1&&r.push(a)}else{let n=Rf(i);n!==null?(n[0]!==1&&e.push(n[0]),r.push(n[1])):e.push(i)}return[e,r]}function r8e(t){let e=t.parseOptionalGroup(),r=t.parseGroup()??t.parseToken();return ya(r)?e!==null?["Root",Ff,tn(e)]:["Sqrt",Ff]:e!==null?["Root",r,e]:["Sqrt",r]}function Gf(t,e,r,i){return r==null?"\\sqrt{}":(i=i??2,e==="solidus"?t.wrapShort(r)+"^{1/"+t.serialize(i)+"}":e==="quotient"?t.wrapShort(r)+"^{\\frac{1}{"+t.serialize(i)+"}}":ai(i)===2?"\\sqrt{"+t.serialize(r)+"}":"\\sqrt["+t.serialize(i)+"]{"+t.serialize(r)+"}")}function i8e(t,e){t.level-=1;let r=Nt(e),i="",n=Re(e,1);if(r==="Negate")i="-"+t.wrap(n,276);else if(r==="Subtract"){i=t.wrap(n,275);let a=Re(e,2);if(a!==null){let s=t.wrap(a,275);s[0]==="-"?i+="+"+s.slice(1):s[0]==="+"?i+="-"+s.slice(1):i=i+"-"+s}}else if(r==="Add"){if(t.options.prettify&&Ea(e)===2&&t.options.invisiblePlus!=="+"){let[o,l]=[Re(e,1),Re(e,2)],[u,c]=[o,l],h=ai(u),p=Rf(c);if((h===null||p===null)&&([u,c]=[l,o],h=ai(u),p=Rf(c)),h!==null&&p!==null&&isFinite(h)&&Number.isInteger(h)&&h>=0&&h<=1e3&&isFinite(p[0])&&isFinite(p[1])&&p[0]>0&&p[0]<=100&&p[1]<=100)return i=Vf(t.options.invisiblePlus,t.serialize(u),t.serialize(c)),t.level+=1,i}if(t.options.prettify&&Ea(e)===2){let[o,l]=Zf(n),[u,c]=Zf(Re(e,2));if(l<0&&c>0)return i=t.wrap(u,275)+"-"+t.wrap(o,275),t.level+=1,i}i=t.serialize(n);let a=Ea(e)+1,s=nr(e);for(let o=2;o<a;o++)if(n=s[o-1],t.options.prettify){let[l,u]=Zf(n),c=t.wrap(l,275);u>0?c.startsWith("+")||c.startsWith("-")?i+=c:i+="+"+c:c.startsWith("+")?i+="-"+c.slice(1):c.startsWith("-")?i+="+"+c.slice(1):i+="-"+c}else{let l=t.wrap(n,275);l[0]==="-"||l[0]==="+"?i+=l:i+="+"+l}}return t.level+=1,i}function tF(t,e){if(e===null)return"";t.level-=1;let r="";if(t.options.prettify===!0){let[l,u]=t8e(e);u.length>0&&(u.length===1&&u[0]===1?l.length===0?r="1":l.length===1?r=t.serialize(l[0]):r=tF(t,["Multiply",...l]):r=t.serialize(["Divide",l.length===1?l[0]:["Multiply",...l],u.length===1?u[0]:["Multiply",...u]]))}if(r)return t.level+=1,r;let i=!1,n=null,a=Ea(e)+1,s=nr(e);t.options.prettify===!0&&s.length===2&&dd(s[1])&&!dd(s[0])&&(s=[s[1],s[0]]);let o=!1;for(let l=1;l<a;l++){if(n=s[l-1],n===null)continue;let u;if(dd(n)){u=t.serialize(n),u==="-1"&&!r?(r="",i=!i):(u[0]==="-"&&(u=u.slice(1),i=!i),r?r=Vf(t.options.multiply,r,u):r=u),o=!0;continue}if(Nt(n)==="Power"){let c=Rf(Re(n,2));if(c!=null){let[h,p]=c;if(h===1&&p!==null){r+=Gf(t,t.rootStyle(n,t.level),Re(n,1),p),o=!1;continue}}}if(Nt(n)==="Power"&&!isNaN(ai(Re(n,1))??NaN)){u=t.serialize(n),r?r=Vf(t.options.multiply,r,u):r=u,o=!0;continue}if(Nt(n)==="Negate"&&(n=Re(n,1),i=!i),u=t.wrap(n,390),!r)r=u;else{let c=Nt(n);o&&(c==="Divide"||c==="Rational")?r=Vf(t.options.multiply,r,u):t.options.invisibleMultiply?r=Vf(t.options.invisibleMultiply,r,u):r=Gt([r,u])}o=!1}return t.level+=1,i?"-"+r:r}function n8e(t){let e=t.parseGroup(),r=null;if(e===null?(e=t.parseToken(),r=t.parseToken()):r=t.parseGroup(),e=tn(e),r=tn(r),Nt(e)==="PartialDerivative"&&(Nt(r)==="PartialDerivative"||Nt(r)==="Multiply"&&Nt(Re(r,1))==="PartialDerivative")){let i=Re(e,3)??null,n=Re(e,1);n==null&&(n=tn(t.parseExpression()));let a=[];if(Nt(r)==="Multiply"){for(let s of nr(r))if(Nt(s)==="PartialDerivative"){let o=Re(s,2);o&&a.push(o)}}else{let s=Re(r,2);s&&a.push(s)}return a.length>1&&(a=["List",...a]),["PartialDerivative",n,...a,i===null?1:i]}return["Divide",e,r]}function rF(t,e){if(e===null)return"";let r=tn(Re(e,1)),i=tn(Re(e,2)),n=t.options.prettify?t.fractionStyle(e,t.level):"quotient";if(n==="inline-solidus"||n==="nice-solidus"){let l=t.wrapShort(r),u=t.wrapShort(i);return n==="inline-solidus"?`${l}/${u}`:`{}^{${l}}\\!\\!/\\!{}_{${u}}`}else{if(n==="reciprocal")return ai(r)===1?t.wrap(i)+"^{-1}":t.wrap(r)+t.wrap(i)+"^{-1}";if(n==="factor")return ai(i)===1?t.wrap(r):"\\frac{1}{"+t.serialize(i)+"}"+t.wrapString(t.serialize(r),t.groupStyle(e,1))}let a="\\frac";n==="block-quotient"?a="\\dfrac":n==="inline-quotient"&&(a="\\tfrac");let s=t.serialize(r),o=t.serialize(i);return`${a}{${s}}{${o}}`}function K7(t,e){if(!e)return"";let r=Nt(e),i=tn(Re(e,1));if(r==="Sqrt")return Gf(t,t.rootStyle(e,t.level-1),i,2);let n=tn(Re(e,2));if(r==="Root")return Gf(t,t.rootStyle(e,t.level-1),i,n);if(t.options.prettify){let a=ai(n)??1;if(a===-1)return t.serialize(["Divide","1",i]);if(a<0)return t.serialize(["Divide","1",["Power",i,-a]]);if(Nt(n)==="Divide"||Nt(n)==="Rational"){if(ai(Re(n,1))===1){let s=t.rootStyle(e,t.level);return Gf(t,s,i,Re(n,2))}if(ai(Re(n,2))===2)return`${t.serialize(["Sqrt",i])}^{${t.serialize(Re(n,1))}}`}else if(Nt(n)==="Power"&&ai(Re(n,2))===-1){let s=t.rootStyle(e,t.level);return Gf(t,s,i,Re(n,1))}}if(Nt(i)==="Power"){let a=Re(i,1),s=Re(i,2);return`
      ${t.wrapShort(a)}^{${R3("^",t.wrapShort(s),t.serialize(n))}}`}return R3("^",t.wrapShort(i),t.serialize(n))}var a8e=[{name:"CatalanConstant",identifierTrigger:"G"},{name:"GoldenRatio",latexTrigger:"\\varphi"},{name:"EulerGamma",latexTrigger:"\\gamma"},{name:"Degrees",latexTrigger:["\\degree"],kind:"postfix",precedence:880,parse:(t,e)=>["Degrees",e],serialize:(t,e)=>Gt([t.serialize(Re(e,1)),"\\degree"])},{latexTrigger:["\\degree"],kind:"postfix",precedence:880,parse:(t,e)=>["Degrees",e]},{latexTrigger:["^","<{>","\\circ","<}>"],kind:"postfix",parse:(t,e)=>["Degrees",e]},{latexTrigger:["^","\\circ"],kind:"postfix",parse:(t,e)=>["Degrees",e]},{latexTrigger:["°"],kind:"postfix",precedence:880,parse:(t,e)=>["Degrees",e]},{latexTrigger:["\\ang"],parse:t=>{let e=t.parseGroup();return e===null?["Degrees"]:["Degrees",e]}},{latexTrigger:["\\infty"],parse:"PositiveInfinity"},{name:"PositiveInfinity",serialize:t=>t.options.positiveInfinity},{name:"NegativeInfinity",serialize:t=>t.options.negativeInfinity},{name:"ComplexInfinity",latexTrigger:["\\tilde","\\infty"],serialize:"\\tilde\\infty"},{latexTrigger:["\\tilde","<{>","\\infty","<}>"],parse:"ComplexInfinity"},{name:"Pi",kind:"symbol",latexTrigger:["\\pi"]},{latexTrigger:["π"],parse:"Pi"},{name:"ExponentialE",latexTrigger:["\\exponentialE"],parse:"ExponentialE",serialize:"\\exponentialE"},{latexTrigger:"\\operatorname{e}",parse:"ExponentialE"},{latexTrigger:"\\mathrm{e}",parse:"ExponentialE"},{kind:"function",identifierTrigger:"exp",parse:"Exp"},{latexTrigger:"\\exp",parse:"Exp"},{name:"ImaginaryUnit",latexTrigger:["\\imaginaryI"]},{latexTrigger:"\\operatorname{i}",parse:"ImaginaryUnit"},{latexTrigger:"\\mathrm{i}",parse:"ImaginaryUnit"},{name:"Abs",kind:"matchfix",openTrigger:"|",closeTrigger:"|",parse:(t,e)=>ya(e)?null:["Abs",e]},{kind:"matchfix",openTrigger:["\\vert"],closeTrigger:["\\vert"],parse:(t,e)=>ya(e)?null:["Abs",e]},{identifierTrigger:"abs",kind:"function",parse:"Abs"},{name:"Add",latexTrigger:["+"],kind:"infix",associativity:"any",precedence:275,parse:(t,e,r)=>{let i=t.parseExpression({...r,minPrec:275});return i===null?null:J3("Add",e,i)},serialize:i8e},{kind:"prefix",latexTrigger:["+"],precedence:275,parse:(t,e)=>t.parseExpression({...e,minPrec:400})},{name:"Ceil",kind:"matchfix",openTrigger:"\\lceil",closeTrigger:"\\rceil",parse:(t,e)=>ya(e)?null:["Ceil",e]},{kind:"matchfix",openTrigger:["⌈"],closeTrigger:["⌉"],parse:(t,e)=>ya(e)?null:["Ceil",e]},{identifierTrigger:"ceil",kind:"function",parse:"Ceil"},{name:"Chop",identifierTrigger:"chop",kind:"function",parse:"Chop"},{name:"Complex",precedence:274,serialize:(t,e)=>{let r=t.serialize(Re(e,1)),i=ai(Re(e,2));if(i===0)return r;let n=i===1?"\\imaginaryI":i===-1?"-\\imaginaryI":Gt([t.serialize(Re(e,2)),"\\imaginaryI"]);return ai(Re(e,1))===0?n:i!==null&&i<0?Gt([r,n]):Gt([r,"+",n])}},{name:"Divide",latexTrigger:"\\frac",precedence:600,parse:n8e,serialize:rF},{kind:"infix",latexTrigger:"\\over",associativity:"none",precedence:600,parse:"Divide"},{latexTrigger:["\\/"],kind:"infix",associativity:"left",precedence:600,parse:"Divide"},{latexTrigger:["/"],kind:"infix",associativity:"left",precedence:600,parse:"Divide"},{latexTrigger:["\\div"],kind:"infix",associativity:"left",precedence:600,parse:"Divide"},{name:"Exp",serialize:(t,e)=>{let r=Re(e,1);return hi(r)||ai(r)!==null?Gt(["\\exponentialE^{",t.serialize(r),"}"]):Gt(["\\exp",t.wrap(tn(r))])}},{name:"Factorial",latexTrigger:["!"],kind:"postfix",precedence:810},{name:"Factorial2",latexTrigger:["!","!"],kind:"postfix",precedence:810},{name:"Floor",kind:"matchfix",openTrigger:"\\lfloor",closeTrigger:"\\rfloor",parse:(t,e)=>ya(e)?null:["Floor",e]},{kind:"matchfix",openTrigger:["⌊"],closeTrigger:["⌋"],parse:(t,e)=>ya(e)?null:["Floor",e]},{identifierTrigger:"floor",kind:"function",parse:"Floor"},{latexTrigger:["\\Gamma"],parse:"Gamma"},{name:"GCD",latexTrigger:["\\gcd"]},{identifierTrigger:"gcd",kind:"function",parse:"GCD"},{identifierTrigger:"GCD",kind:"function",parse:"GCD"},{name:"Half",serialize:"\\frac12"},{name:"Lg",latexTrigger:["\\lg"],serialize:(t,e)=>"\\log_{10}"+t.wrapArguments(e),parse:t=>{let e=t.parseArguments("implicit");return e===null?"Lg":["Log",...e,10]}},{name:"Lb",latexTrigger:"\\lb",parse:t=>{let e=t.parseArguments("implicit");return e===null?"Log":["Log",e[0],2]}},{name:"Ln",latexTrigger:["\\ln"],parse:t=>aF("Ln",t),serialize:(t,e)=>"\\ln"+t.wrapArguments(e)},{name:"Log",latexTrigger:["\\log"],parse:t=>aF("Log",t),serialize:(t,e)=>{let[r,i]=nr(e);return i?Gt(["\\log_{",t.serialize(i),"}",t.wrap(r)]):"\\log"+t.wrapArguments(e)}},{name:"LCM",identifierTrigger:"lcm",kind:"function"},{identifierTrigger:"LCM",kind:"function",parse:"LCM"},{identifierTrigger:"max",kind:"function",parse:"Max"},{identifierTrigger:"min",kind:"function",parse:"Min"},{name:"Max",latexTrigger:"\\max",kind:"function"},{name:"Min",latexTrigger:"\\min",kind:"function"},{name:"Supremum",latexTrigger:"\\sup",kind:"function"},{name:"Infimum",latexTrigger:"\\inf",kind:"function"},{name:"Limit",latexTrigger:"\\lim",kind:"expression",parse:t=>{if(!t.match("_"))return null;let e=t.parseGroup();if(Nt(e)!=="To")return null;let r=t.parseArguments("implicit");return r?["Limit",["Function",r[0],Re(e,1)],Re(e,2)]:null},serialize:(t,e)=>{let r=Re(e,1),i=Re(r,2),n=Re(e,2);return Gt(["\\lim_{",t.serialize(i),"\\to",t.serialize(n),"}",t.serialize(Re(r,1))])}},{name:"MinusPlus",latexTrigger:["\\mp"],kind:"infix",associativity:"any",precedence:270},{name:"Multiply",latexTrigger:["\\times"],kind:"infix",associativity:"any",precedence:390,serialize:tF},{latexTrigger:["\\cdot"],kind:"infix",associativity:"any",precedence:390,parse:(t,e,r)=>{let i=t.parseExpression({...r,minPrec:392});return i===null?["Multiply",e,Ff]:J3("Multiply",e,i)}},{latexTrigger:["*"],kind:"infix",associativity:"any",precedence:390,parse:(t,e,r)=>{let i=t.parseExpression({...r,minPrec:392});return i===null?["Multiply",e,Ff]:J3("Multiply",e,i)}},{name:"Mod",latexTrigger:"\\bmod",kind:"infix",precedence:600,serialize:(t,e)=>{if(Ea(e)!==2)return"";let r=t.serialize(Re(e,1)),i=t.serialize(Re(e,2));return Gt([r,"\\bmod",i])}},{latexTrigger:"\\mod",kind:"infix",precedence:600,parse:"Mod"},{latexTrigger:"\\pmod",kind:"prefix",precedence:245,parse:t=>{let e=t.parseGroup()??t.parseToken();return["Mod",tn(e)]}},{name:"Congruent",serialize:(t,e)=>{let r=t.serialize(Re(e,1)),i=t.serialize(Re(e,2));if(Re(e,3)===null)return Gt([r,"\\equiv",i]);let n=t.serialize(Re(e,3));return Gt([r,"\\equiv",i,"\\pmod{",n,"}"])}},{name:"Negate",latexTrigger:["-"],kind:"prefix",precedence:701,parse:(t,e)=>{t.skipSpace();let r=t.parseExpression({...e,minPrec:703});return r===null?null:["Negate",r]}},{kind:"matchfix",openTrigger:"||",closeTrigger:"||",parse:(t,e)=>ya(e)?null:["Norm",e]},{name:"Norm",kind:"matchfix",openTrigger:["\\left","\\Vert"],closeTrigger:["\\right","\\Vert"],parse:(t,e)=>ya(e)?null:["Norm",e]},{name:"PlusMinus",latexTrigger:["\\pm"],kind:"infix",associativity:"any",precedence:270,serialize:(t,e)=>{let r=Re(e,1);if(r===null)return"\\pm";if(Ea(e)===1)return Gt(["\\pm",t.serialize(r)]);let i=Re(e,2);return Gt([t.serialize(r),"\\pm",t.serialize(i)])}},{latexTrigger:["\\pm"],kind:"prefix",precedence:270,parse:(t,e)=>{let r=t.parseExpression({...e,minPrec:400});return["PlusMinus",0,tn(r)]}},{latexTrigger:["\\plusmn"],kind:"infix",associativity:"any",precedence:270,parse:(t,e,r)=>{let i=t.parseExpression({...r,minPrec:400});return["PlusMinus",e,tn(i)]}},{latexTrigger:["\\plusmn"],kind:"prefix",precedence:270,parse:(t,e)=>{let r=t.parseExpression({...e,minPrec:400});return["PlusMinus",tn(r)]}},{name:"Power",latexTrigger:["^"],kind:"infix",serialize:K7},{latexTrigger:"\\prod",precedence:390,name:"Product",parse:iF("Product",390),serialize:nF("\\prod")},{name:"Rational",precedence:600,serialize:(t,e)=>e&&Ea(e)===1?"\\operatorname{Rational}"+t.wrapArguments(e):rF(t,e)},{name:"Root",serialize:K7},{name:"Round",identifierTrigger:"round",kind:"function"},{name:"Square",precedence:720,serialize:(t,e)=>t.wrapShort(Re(e,1))+"^2"},{latexTrigger:["\\sum"],precedence:275,name:"Sum",parse:iF("Sum",390),serialize:nF("\\sum")},{name:"Sign",identifierTrigger:"sgn",kind:"function"},{name:"Sqrt",latexTrigger:["\\sqrt"],parse:r8e,serialize:K7},{name:"Subtract",latexTrigger:["-"],kind:"infix",associativity:"left",precedence:277,parse:(t,e,r)=>{t.index-=1;let i=t.parseExpression({...r,minPrec:278});return i===null?null:["Add",e,i]},serialize:(t,e)=>{let r=t.wrap(Re(e,1),277),i=t.wrap(Re(e,2),278);return Gt([r,"-",i])}}];function s8e(t,e){if(t!==null){if(hi(t))return{index:hi(t)??"Nothing",upper:e};if(Nt(t)==="GreaterEqual"){let r=hi(Re(t,1))??"Nothing",i=Re(t,2)??1;return{index:r,lower:i,upper:e}}if(Nt(t)==="Equal"){let r=hi(Re(t,1))??"Nothing",i=Re(t,2);if(Nt(i)==="Range"){let n=Re(i,1)??1,a=Re(i,2)??void 0;return{index:r,lower:n,upper:a}}return{index:r,lower:i??1,upper:e}}}}function o8e(t,e){ya(t)&&(t=null),ya(e)&&(e=null);let r=t===null?[]:jf(t)??[t],i=e===null?[]:jf(e)??[e];return r.map((n,a)=>s8e(n,i[a])).filter(n=>n!==void 0)}function iF(t,e){return r=>{r.skipSpace();let i=null,n=null;for(;!(n&&i)&&(r.peek==="_"||r.peek==="^");)r.match("_")?n=r.parseGroup()??r.parseToken():r.match("^")&&(i=r.parseGroup()??r.parseToken()),r.skipSpace();let a=o8e(n,i);r.pushSymbolTable();for(let l of a)r.addSymbol(l.index,"symbol");let s=r.parseExpression({minPrec:e});if(r.popSymbolTable(),s===null)return[t];let o=[];for(let l of a){let u=l.lower,c=l.upper,h=l.index??"Nothing";c!=null?o.push(["Tuple",h,u??1,c]):u!=null?o.push(["Tuple",h,u]):o.push(["Tuple",h])}return[t,s,...o]}}function nF(t){return(e,r)=>{if(!Re(r,1))return t;let i=Re(r,2),n=Nt(i);n!=="Tuple"&&n!=="Triple"&&n!=="Pair"&&n!=="Single"&&(i=null);let a=Re(i,1);a!==null&&Nt(a)==="Hold"&&(a=Re(a,1));let s=Re(r,1);if(i!=null)return Re(r,2)!==null?Gt([t,e.serialize(s)]):Gt([t,"_{",e.serialize(Re(r,2)),"}",e.serialize(s)]);let o=Re(i,2),l=[];a&&hi(a)!=="Nothing"&&o?l=[e.serialize(a),"=",e.serialize(o)]:a&&hi(a)!=="Nothing"?l=[e.serialize(a)]:o!==null&&(l=[e.serialize(o)]),l.length>0&&(l=["_{",...l,"}"]);let u=[];return Re(i,3)!==null&&(u=["^{",e.serialize(Re(i,3)),"}"]),Gt([t,...u,...l,e.serialize(s)])}}function aF(t,e){let r=null;e.match("_")&&(r=e.parseGroup()??e.parseToken());let i=e.parseArguments("implicit");return i===null&&r===null?[t]:i===null?[t,r]:r===null?[t,...i]:r===10?["Log",i[0]]:r===2?["Lb",...i]:["Log",i[0],r]}function Zf(t){let e=1,r=t;do{t=r;let i=Nt(t);if(i==="Negate")e*=-1,r=Re(t,1);else if(i==="Multiply"){let[n,a]=Zf(Re(t,1));a<0&&(e*=-1,n===1?r=["Multiply",...nr(t).slice(1)]:r=["Multiply",n,...nr(t).slice(1)])}else if(i==="Divide"||i==="Rational"){let[n,a]=Zf(Re(t,1));a<0&&(e*=-1,r=[i,n,Re(t,2)])}else{let n=ai(t);n!==null&&n<0&&(e*=-1,r=-n)}}while(r!==t);return[t,e]}function X7(t,e,r,i,n){if(e&&e.minPrec>=i)return null;let a=r?[r]:["Nothing"],s=!1;for(;!s;){for(s=!0,t.skipSpace();t.match(n);)a.push("Nothing"),t.skipSpace();if(t.atTerminator(e))a.push("Nothing");else{let o=t.parseExpression({...e,minPrec:i});a.push(o??"Nothing"),s=o===null}s||(t.skipSpace(),s=!t.match(n))}return a}function T0(t=""){return(e,r)=>{if(!r)return"";let i=nr(r);if(i.length===0)return"";if(i.length===1)return e.serialize(i[0]);t={"&":"\\&",":":"\\colon","|":"\\mvert","-":"-","·":"\\cdot","‒":"-","–":"--","—":"---","―":"-","•":"\\bullet","…":"\\ldots"}[t]??t;let n=i.reduce((a,s)=>(a.push(e.serialize(s),t),a),[]);return n.pop(),Gt(n)}}var l8e=[{latexTrigger:["\\placeholder"],kind:"symbol",parse:t=>{for(;t.match("<space>"););if(t.match("["))for(;!t.match("]")&&!t.atBoundary;)t.nextToken();for(;t.match("<space>"););if(t.match("<{>"))for(;!t.match("<}>")&&!t.atBoundary;)t.nextToken();return"Nothing"}},{name:"Function",latexTrigger:["\\mapsto"],kind:"infix",precedence:270,parse:(t,e)=>{let r=[];if(Nt(e)==="Delimiter"&&(e=Re(e,1)??"Nothing"),Nt(e)==="Sequence")for(let n of nr(e)){if(!hi(n))return null;r.push(hi(n))}else{if(!hi(e))return null;r=[hi(e)]}let i=t.parseExpression({minPrec:270})??"Nothing";return Nt(i)==="Delimiter"&&(i=Re(i,1)??"Nothing"),Nt(i)==="Sequence"&&(i=["Block",...nr(i)]),["Function",i,...r]},serialize:(t,e)=>{var i;let r=nr(e);return r.length<1?"()\\mapsto()":r.length===1?Gt(["()","\\mapsto",t.serialize(Re(e,1))]):r.length===2?Gt([t.serialize(Re(e,2)),"\\mapsto",t.serialize(Re(e,1))]):Gt([t.wrapString((i=nr(e))==null?void 0:i.slice(1).map(n=>t.serialize(n)).join(", "),"normal"),"\\mapsto",t.serialize(Re(e,1))])}},{name:"Apply",kind:"function",identifierTrigger:"apply",serialize:(t,e)=>{let r=Re(e,1),i=Nt(r);if(i==="InverseFunction"||i==="Derivative"){let s=t.options.applyFunctionStyle(e,t.level),o=nr(e).slice(1);return t.serializeFunction(r,t.dictionary.ids.get(i))+t.wrapString(o.map(l=>t.serialize(l)).join(", "),s)}let n=Re(e,2);if(typeof r=="string"||!n){let s=nr(e).slice(1);return t.serialize(s)}if(Ea(e)===2)return Gt([t.wrap(r,20),"\\lhd",t.wrap(n,20)]);let a=t.options.applyFunctionStyle(e,t.level);return Gt(["\\operatorname{apply}",t.wrapString(t.serialize(i)+", "+t.serialize(["List",...nr(e)]),a)])}},{latexTrigger:"\\lhd",kind:"infix",precedence:20,parse:"Apply"},{latexTrigger:"\\rhd",kind:"infix",precedence:20,parse:(t,e)=>["Apply",t.parseExpression({minPrec:21})??"Nothing",e]},{name:"Assign",latexTrigger:"\\coloneq",kind:"infix",associativity:"right",precedence:260,serialize:(t,e)=>{let r=LO(Re(e,1));if(Nt(Re(e,2))==="Function"){let i=Re(e,2),n=LO(Re(i,1)),a=nr(i).slice(1);return Gt([t.serialize(r),t.wrapString(a.map(s=>t.serialize(s)).join(", "),t.options.applyFunctionStyle(e,t.level)),"\\coloneq",t.serialize(n)])}return Gt([t.serialize(r),"\\coloneq",t.serialize(Re(e,2))])},parse:o5},{latexTrigger:"\\coloneqq",kind:"infix",associativity:"right",precedence:260,parse:o5},{latexTrigger:"\\colonequals",kind:"infix",associativity:"right",precedence:260,parse:o5},{latexTrigger:[":","="],kind:"infix",associativity:"right",precedence:260,parse:o5},{name:"BaseForm",serialize:(t,e)=>{let r=ai(Re(e,2))??NaN;if(isFinite(r)&&r>=2&&r<=36){let i=ai(Re(e,1))??NaN;if(isFinite(i)&&Number.isInteger(i)){let n=Number(i).toString(r),a=0;if(r===2||r===10?a=4:r===16?a=2:r>16&&(a=4),a>0){let s=n;n="";for(let o=0;o<s.length;o++)o>0&&o%a===0&&(n="\\, "+n),n=s[s.length-o-1]+n}return`(\\text{${n}}_{${r}}`}}return"\\operatorname{BaseForm}("+t.serialize(Re(e,1))+", "+t.serialize(Re(e,2))+")"}},{name:"Sequence",serialize:T0(" ")},{name:"InvisibleOperator",serialize:T0("")},{name:"Delimiter",serialize:(t,e)=>{let r=t.options.groupStyle(e,t.level+1),i=Re(e,1),n={Set:"{,}",List:"[,]",Tuple:"(,)",Single:"(,)",Pair:"(,)",Triple:"(,)",Sequence:"(,)",String:'""'}[Nt(i)],a=n?i:["Sequence",i];if(n??(n="(,)"),Ea(e)>1){let c=mn(Re(e,2));typeof c=="string"&&c.length<=3&&(n=c)}let[s,o,l]=["","",""];n.length===3?[s,o,l]=n:n.length===2?[s,l]=n:n.length===1&&(o=n);let u=i?a?T0(o)(t,a):t.serialize(i):"";return t.wrapString(u,r,s+l)}},{name:"Tuple",serialize:(t,e)=>Gt(["(",T0(",")(t,e),")"])},{name:"Pair",serialize:(t,e)=>Gt(["(",T0(",")(t,e),")"])},{name:"Triple",serialize:(t,e)=>Gt(["(",T0(",")(t,e),")"])},{name:"Single",serialize:(t,e)=>Gt(["(",T0(",")(t,e),")"])},{name:"Domain",serialize:(t,e)=>Nt(e)==="Error"?t.serialize(e):`\\mathbf{${t.serialize(Re(e,1))}}`},{latexTrigger:["\\mathtip"],parse:t=>{let e=t.parseGroup();return t.parseGroup(),e}},{latexTrigger:["\\texttip"],parse:t=>{let e=t.parseGroup();return t.parseGroup(),e}},{latexTrigger:["\\error"],parse:t=>["Error",t.parseGroup()]},{name:"Error",serialize:(t,e)=>{let r=Re(e,1);if(mn(r)==="missing")return`\\error{${t.options.missingSymbol??"\\placeholder{}"}}`;let i=h8e(t,e)||"\\blacksquare",n=Nt(r)==="ErrorCode"?mn(Re(r,1)):mn(r);return n==="incompatible-type"?hi(Re(r,3))==="Undefined"?`\\mathtip{\\error{${i}}}{\\notin ${t.serialize(Re(r,2))}}`:`\\mathtip{\\error{${i}}}{\\in ${t.serialize(Re(r,3))}\\notin ${t.serialize(Re(r,2))}}`:typeof n=="string"?`\\error{${i}}`:`\\error{${i}}`}},{name:"ErrorCode",serialize:(t,e)=>{let r=mn(Re(e,1));return r==="missing"?t.options.missingSymbol??"\\placeholder{}":r==="unexpected-command"||r==="unexpected-operator"||r==="unexpected-token"||r==="invalid-identifier"||r==="unknown-environment"||r==="unexpected-base"||r==="incompatible-type"?"":`\\texttip{\\error{\\blacksquare}}{\\mathtt{${r}}}`}},{name:"FromLatex",serialize:(t,e)=>`\\texttt{${c8e(mn(Re(e,1)))}}`},{name:"Latex",serialize:(t,e)=>e===null?"":Gt(j7(e,r=>mn(r)??t.serialize(r)))},{name:"LatexString",serialize:(t,e)=>e===null?"":Gt(j7(e,r=>t.serialize(r)))},{name:"LatexTokens",serialize:u8e},{name:"At",kind:"postfix",precedence:810,latexTrigger:["["],parse:e9("]"),serialize:(t,e)=>Gt(["\\lbrack",T0(", ")(t,e),"\\rbrack"])},{kind:"postfix",precedence:810,latexTrigger:["\\lbrack"],parse:e9("\\rbrack")},{kind:"postfix",precedence:810,latexTrigger:["\\left","\\lbrack"],parse:e9("\\right","\\rbrack")},{kind:"postfix",latexTrigger:["_"],parse:(t,e,r)=>{let i=t.parseGroup()??t.parseToken();return["Subscript",e,i]}},{name:"List",kind:"matchfix",openTrigger:"[",closeTrigger:"]",parse:sF,serialize:d8e},{kind:"matchfix",openTrigger:"(",closeTrigger:")",parse:p8e},{latexTrigger:[","],kind:"infix",precedence:20,parse:(t,e,r)=>{let i=X7(t,r,e,20,",");return i===null?null:["Delimiter",["Sequence",...i],{str:","}]}},{latexTrigger:[","],kind:"prefix",precedence:20,parse:(t,e)=>{let r=X7(t,e,null,20,",");return r===null?null:["Delimiter",["Sequence",...r],{str:","}]}},{name:"Range",latexTrigger:[".","."],kind:"infix",precedence:800,parse:m8e,serialize:(t,e)=>{let r=nr(e);if(r.length===0)return"";if(r.length===1)return"1.."+t.serialize(Re(e,1));if(r.length===2)return t.wrap(Re(e,1),10)+".."+t.wrap(Re(e,2),10);if(r.length===3){let i=ai(Re(e,3)),n=ai(Re(e,1));return i!==null&&n!==null?t.wrap(Re(e,1),10)+".."+t.wrap(n+i,10)+".."+t.wrap(Re(e,2),10):t.wrap(Re(e,1),10)+"..("+(t.wrap(Re(e,1),275)+"+"+t.wrap(Re(e,3),275))+").."+t.wrap(Re(e,2),10)}return""}},{latexTrigger:[";"],kind:"infix",precedence:19,parse:(t,e,r)=>{let i=X7(t,r,e,19,";");return i===null?null:["Delimiter",["Sequence",...i],"';'"]}},{name:"String",latexTrigger:["\\text"],parse:t=>Q7(t),serialize:(t,e)=>{let r=nr(e);return r.length===0?"\\text{}":Gt(["\\text{",r.map(i=>t.serialize(i)).join(""),"}"])}},{name:"Subscript",latexTrigger:["_"],kind:"infix",serialize:(t,e)=>Ea(e)===2?t.serialize(Re(e,1))+"_{"+t.serialize(Re(e,2))+"}":"_{"+t.serialize(Re(e,1))+"}"},{name:"Superplus",latexTrigger:["^","+"],kind:"postfix"},{name:"Subplus",latexTrigger:["_","+"],kind:"postfix"},{name:"Superminus",latexTrigger:["^","-"],kind:"postfix"},{name:"Subminus",latexTrigger:["_","-"],kind:"postfix"},{latexTrigger:["^","*"],kind:"postfix",parse:(t,e)=>["Superstar",e]},{latexTrigger:["_","*"],kind:"postfix",parse:(t,e)=>["Substar",e]},{name:"Substar",latexTrigger:["_","\\star"],kind:"postfix"},{name:"Superdagger",latexTrigger:["^","\\dagger"],kind:"postfix"},{latexTrigger:["^","\\dag"],kind:"postfix",parse:(t,e)=>["Superdagger",e]},{name:"Prime",latexTrigger:["^","\\prime"],kind:"postfix",parse:(t,e)=>Iu(t,e,1),serialize:(t,e)=>{let r=ai(Re(e,2))??1,i=t.serialize(Re(e,1));return r===1?i+"^\\prime":r===2?i+"^\\doubleprime":r===3?i+"^\\tripleprime":i+"^{("+t.serialize(Re(e,2))+")}"}},{latexTrigger:"^{\\prime\\prime}",kind:"postfix",parse:(t,e)=>Iu(t,e,2)},{latexTrigger:"^{\\prime\\prime\\prime}",kind:"postfix",parse:(t,e)=>Iu(t,e,3)},{latexTrigger:["^","\\doubleprime"],kind:"postfix",parse:(t,e)=>Iu(t,e,2)},{latexTrigger:["^","\\tripleprime"],kind:"postfix",parse:(t,e)=>Iu(t,e,3)},{latexTrigger:"'",kind:"postfix",precedence:810,parse:(t,e)=>Iu(t,e,1)},{latexTrigger:"\\prime",kind:"postfix",precedence:810,parse:(t,e)=>Iu(t,e,1)},{latexTrigger:"\\doubleprime",kind:"postfix",precedence:810,parse:(t,e)=>Iu(t,e,2)},{latexTrigger:"\\tripleprime",kind:"postfix",precedence:810,parse:(t,e)=>Iu(t,e,3)},{latexTrigger:["^","<{>","("],kind:"postfix",parse:(t,e,r)=>{let i=hi(e);if(!i||t.getIdentifierType(i)!=="function")return null;t.addBoundary([")"]);let n=t.parseExpression(r);return!t.matchBoundary()||!t.match("<}>")?null:["Derivative",e,n]}},{name:"InverseFunction",latexTrigger:"^{-1",kind:"postfix",parse:(t,e)=>{let r=hi(e);if(!r||t.getIdentifierType(r)!=="function")return null;let i=0;for(;!t.atEnd&&!t.match("<}>");)if(t.match("'"))i++;else if(t.match("\\prime"))i++;else if(t.match("\\doubleprime"))i+=2;else if(t.match("\\tripleprime"))i+=3;else return null;return i===1?["Derivative",["InverseFunction",e]]:i>0?["Derivative",["InverseFunction",e],i]:["InverseFunction",e]},serialize:(t,e)=>t.serialize(Re(e,1))+"^{-1}"},{name:"Derivative",serialize:(t,e)=>{let r=ai(Re(e,2))??1,i=t.serialize(Re(e,1));return r===1?i+"^{\\prime}":r===2?i+"^{\\doubleprime}":r===3?i+"^{\\tripleprime}":i+"^{("+t.serialize(Re(e,2))+")}"}},{kind:"environment",name:"Which",identifierTrigger:"cases",parse:J7,serialize:(t,e)=>{let r=[],i=nr(e);if(i.length>0)for(let n=0;n<=i.length-2;n+=2){let a=[];a.push(t.serialize(i[n+1])),a.push(t.serialize(i[n])),r.push(a.join("&"))}return Gt(["\\begin{cases}",r.join("\\\\"),"\\end{cases}"])}},{kind:"environment",identifierTrigger:"dcases",parse:J7},{kind:"environment",identifierTrigger:"rcases",parse:J7}];function Q7(t,e){if(!t.match("<{>"))return"''";let r=[],i="",n=null;for(;!t.atEnd&&!t.match("<}>");)if(t.peek==="<{>")r.push(Q7(t));else if(t.match("\\textbf")&&t.match("<{>"))r.push(Q7(t,{"font-weight":"bold"}));else if(t.match("\\color")){let s=t.parseStringGroup();s!==null&&(n!==null&&i?r.push(["Style",i,P7(n)]):i&&r.push(["String",i]),i="",n={color:s})}else if(t.match("<space>"))i+=" ";else if(t.match("<$>")){let s=t.index,o=t.parseExpression()??"Nothing";t.skipSpace(),t.match("<$>")?r.push(o):(i+="$",t.index=s)}else if(t.match("<$$>")){let s=t.index,o=t.parseExpression()??"Nothing";t.skipSpace(),t.match("<$$>")?r.push(o):(i+="$$",t.index=s)}else{let s=t.matchChar()??t.nextToken();i+={"\\enskip":" ","\\enspace":" ","\\quad":" ","\\qquad":"  ","\\space":" ","\\ ":" ","\\;":" ","\\,":" ","\\:":" ","\\!":"","\\{":"{","\\}":"}","\\$":"$","\\&":"&","\\#":"#","\\%":"%","\\_":"_","\\textbackslash":"\\","\\textasciitilde":"~","\\textasciicircum":"^","\\textless":"<","\\textgreater":">","\\textbar":"|","\\textunderscore":"_","\\textbraceleft":"{","\\textbraceright":"}","\\textasciigrave":"`","\\textquotesingle":"'","\\textquotedblleft":"“","\\textquotedblright":"”","\\textquotedbl":'"',"\\textquoteleft":"‘","\\textquoteright":"’","\\textbullet":"•","\\textdagger":"†","\\textdaggerdbl":"‡","\\textsection":"§","\\textparagraph":"¶","\\textperiodcentered":"·","\\textellipsis":"…","\\textemdash":"—","\\textendash":"–","\\textregistered":"®","\\texttrademark":"™","\\textdegree":"°"}[s]??s}n!==null&&i?r.push(["Style",`'${i}'`,P7(n)]):i&&r.push(`'${i}'`);let a;return r.length===1?a=r[0]:r.every(s=>mn(s)!==null)?a="'"+r.map(s=>mn(s)).join()+"'":a=["String",...r],e?["Style",a,P7(e)]:a}function u8e(t,e){return e===null?"":Gt(j7(e,r=>{let i=mn(r);return i===null?t.serialize(r):i==="<{>"?"{":i==="<}>"?"}":i==="<$>"?"$":i==="<$$>"?"$$":i==="<space>"?" ":i}))}function c8e(t){return t===null?"":t.replace(/[{}\[\]\\:\-\$%]/g,e=>({"{":"\\lbrace ","}":"\\rbrace ","[":"\\lbrack ","]":"\\rbrack ",":":"\\colon ","\\":"\\backslash "})[e]??"\\"+e)}function h8e(t,e){let r=Re(e,2);return r?Nt(r)==="LatexString"?mn(Re(r,1))??"":Nt(r)==="Hold"?t.serialize(Re(r,1)):t.serialize(r):""}function Iu(t,e,r){let i=Nt(e);if(i==="Derivative"||i==="Prime"){let a=ai(Re(e,2))??1;return[i,tn(Re(e,1)),a+r]}let n=hi(e);return n&&t.getIdentifierType(n)==="function"||Nt(e)?r===1?["Derivative",e]:["Derivative",e,r]:r===1?["Prime",tn(e)]:["Prime",tn(e),r]}function p8e(t,e){if(ya(e))return["Delimiter"];let r=Nt(e);if(r==="Delimiter"&&Re(e,2)!==null){let i=mn(Re(e,2));if((i==null?void 0:i.length)===1)return["Delimiter",Re(e,1)??"Nothing",{str:`(${i})`}]}return r==="Matrix"&&(mn(Re(e,2))??"..")===".."?["Matrix",Re(e,1)]:["Delimiter",e]}function sF(t,e){if(ya(e))return["List"];let r=Nt(e);if(r==="Range"||r==="Linspace")return e;if(r==="Sequence")return["List",...nr(e)];if(r==="Delimiter"){let i=mn(Re(e,2))??"...";if(i===";"||i===".;.")return["List",...(nr(Re(e,1))??[]).map(n=>sF(t,n))];if(i===","||i===".,.")return e=Re(e,1),Nt(e)==="Sequence"?["List",...nr(e)]:["List",e??"Nothing"]}return["List",e]}function d8e(t,e){return Ea(e)>1&&nr(e).every(r=>{let i=Nt(r);return I7(i)||E7(i)})?Gt(["\\begin{cases}",T0("\\\\")(t,e),"\\end{cases}"]):Gt(["\\bigl\\lbrack",T0(", ")(t,e),"\\bigr\\rbrack"])}function m8e(t,e){if(e===null)return null;let r=t.parseExpression({minPrec:270});if(r===null)return null;if(t.matchAll([".","."])){let i=t.parseExpression({minPrec:270});if(i===null)return null;let n=ai(e),a=ai(r);return n!==null&&a!==null?a<=n?null:a-n===1?["Range",e,i]:["Range",e,i,a-n]:["Range",e,i,["Subtract",r,e]]}return["Range",e,r]}var s5={"(":"(",")":")","[":"\\lbrack","]":"\\rbrack","⟦":"\\llbrack","⟧":"\\rrbrack","{":"\\lbrace","}":"\\rbrace","<":"\\langle",">":"\\rangle","‖":"\\Vert","\\":"\\backslash","⌈":"\\lceil","⌉":"\\rceil","⌊":"\\lfloor","⌋":"\\rfloor","⌜":"\\ulcorner","⌝":"\\urcorner","⌞":"\\llcorner","⌟":"\\lrcorner","⎰":"\\lmoustache","⎱":"\\rmoustache"};function o5(t,e){if(Nt(e)==="InvisibleOperator"&&Ea(e)===2&&Nt(Re(e,2))==="Delimiter"){let n=hi(Re(e,1));if(!n)return null;let a=t.parseExpression({minPrec:0});if(a===null)return null;let s=Re(Re(e,2),1),o=[];return Nt(s)==="Sequence"?o=[...nr(s)]:s&&(o=[s]),["Assign",n,["Function",a,...o??[]]]}let r=Nt(e);if(r){let n=nr(e),a=t.parseExpression({minPrec:0});return a===null?null:["Assign",r,["Function",a,...n]]}if(!hi(e))return null;let i=t.parseExpression({minPrec:0});return i===null?null:["Assign",e,i]}function J7(t){let e=t.parseTabular();if(!e)return["List"];if(e.every(i=>{if(i.length!==1)return!1;let n=Nt(i[0]);return E7(n)||I7(n)}))return["List",...e.map(i=>i[0])];let r=[];for(let i of e)if(i.length===1)r.push("True"),r.push(i[0]);else if(i.length===2){let n=mn(i[1]);r.push(n?"True":TO(i[1])??"True"),r.push(i[0])}return["Which",...r]}function e9(...t){return(e,r)=>{if(!hi(r)&&Nt(r)!=="List")return null;let i=null;return t.length===0&&(i=e.parseGroup()),i??(i=e.parseExpression({minPrec:0})),i===null||t.length>0&&!e.matchAll(t)||mn(i)!==null?null:(Nt(i)==="Delimiter"&&(i=Re(i,1)??"Nothing"),Nt(i)==="Sequence"?["At",r,...nr(i)]:["At",r,i])}}var f8e=[{name:"Matrix",serialize:(t,e)=>{let r=nr(Re(e,1));return oF(t,r,mn(Re(e,2)),mn(Re(e,3)))}},{name:"Vector",serialize:(t,e)=>{let r=nr(e);return oF(t,r.map(i=>["List",i]),mn(Re(e,2)),mn(Re(e,3)))}},{kind:"environment",identifierTrigger:"pmatrix",parse:t=>{let e=Lu(t),[r,i]=Tu(t);return e?[r,i,{str:"()"},{str:e}]:[r,i]}},{kind:"environment",identifierTrigger:"bmatrix",parse:t=>{let e=Lu(t),[r,i]=Tu(t);return e?[r,i,{str:"[]"},{str:e}]:[r,i,{str:"[]"}]}},{kind:"environment",identifierTrigger:"Bmatrix",parse:t=>{let e=Lu(t),[r,i]=Tu(t);return e?[r,i,{str:"{}"},{str:e}]:[r,i,{str:"{}"}]}},{kind:"environment",identifierTrigger:"vmatrix",parse:t=>{let e=Lu(t),[r,i]=Tu(t);return e?[r,i,{str:"||"},{str:e}]:[r,i,{str:"||"}]}},{kind:"environment",identifierTrigger:"Vmatrix",parse:t=>{let e=Lu(t),[r,i]=Tu(t);return e?[r,i,{str:"‖‖"},{str:e}]:[r,i,{str:"‖‖"}]}},{kind:"environment",identifierTrigger:"smallmatrix",parse:t=>{let e=Lu(t),[r,i]=Tu(t);return e?[r,i,{str:"()"},{str:e}]:[r,i]}},{kind:"environment",identifierTrigger:"array",parse:t=>{let e=Lu(t,!1),[r,i]=Tu(t);return e?[r,i,{str:".."},{str:e}]:[r,i,{str:".."}]}},{kind:"environment",identifierTrigger:"matrix",parse:t=>{let e=Lu(t),[r,i]=Tu(t);return e?[r,i,{str:".."},{str:e}]:[r,i,{str:".."}]}},{kind:"environment",identifierTrigger:"matrix*",parse:t=>{let e=Lu(t),[r,i]=Tu(t);return e?[r,i,{str:".."},{str:e}]:[r,i,{str:".."}]}},{name:"ConjugateTranspose",kind:"postfix",latexTrigger:["^","\\star"]},{kind:"postfix",latexTrigger:["^","\\H"],parse:"ConjugateTranspose"},{kind:"postfix",latexTrigger:["^","\\dagger"],parse:(t,e)=>["ConjugateTranspose",e]},{kind:"postfix",latexTrigger:["^","\\ast"],parse:(t,e)=>["ConjugateTranspose",e]},{kind:"postfix",latexTrigger:["^","\\top"],parse:(t,e)=>["Transpose",e]},{kind:"postfix",latexTrigger:["^","\\intercal"],parse:(t,e)=>["Transpose",e]},{name:"Transpose",kind:"postfix",latexTrigger:["^","T"]},{name:"PseudoInverse",kind:"postfix",latexTrigger:["^","+"]},{name:"Trace",kind:"function",identifierTrigger:"tr"},{name:"Determinant",kind:"function",identifierTrigger:"det"}];function Tu(t){let e=t.parseTabular();return e?["Matrix",["List",...e.map(r=>["List",...r])]]:["",null]}function Lu(t,e=!0){var n;let r=(n=t.parseStringGroup(e))==null?void 0:n.trim();if(!r)return"";let i="";for(let a of r)a==="c"&&(i+="="),a==="l"&&(i+="<"),a==="r"&&(i+=">"),a==="|"&&(i+="|"),a===":"&&(i+=":");return i}function oF(t,e,r,i){r??(r="()");let[n,a]=["",""];typeof r=="string"&&r.length===2&&([n,a]=r);let s="";if(i)for(let c of i)c==="<"?s+="l":c===">"?s+="r":c==="="?s+="c":c==="|"?s+="|":c===":"&&(s+=":");let o=[];for(let c of e??[]){let h=[];for(let p of nr(c))h.push(t.serialize(p));o.push(h.join(" & "))}let l=o.join(`\\\\
`),u=s.length>0?`[${s}]`:"";return Gt(n==="("&&a===")"?["\\begin{pmatrix}",u,l,"\\end{pmatrix}"]:n==="["&&a==="]"?["\\begin{bmatrix}",u,l,"\\end{bmatrix}"]:n==="{"&&a==="}"?["\\begin{Bmatrix}",u,l,"\\end{Bmatrix}"]:n==="|"&&a==="|"?["\\begin{vmatrix}",u,l,"\\end{vmatrix}"]:n==="‖"&&a==="‖"?["\\begin{Vmatrix}",u,l,"\\end{Vmatrix}"]:n==="{"&&a==="."?["\\begin{dcases}",u,l,"\\end{dcases}"]:n==="."&&a==="}"?["\\begin{rcases}",u,l,"\\end{rcases}"]:s||n!=="."||a!=="."?["\\left",s5[n]??n,"\\begin{array}",`{${s}}`,l,"\\end{array}","\\right",s5[a]??a]:["\\begin{matrix}",l,"\\end{matrix}"])}var g8e=[{name:"True",kind:"symbol",latexTrigger:["\\top"]},{kind:"symbol",latexTrigger:"\\mathrm{True}",parse:"True"},{kind:"symbol",latexTrigger:"\\operatorname{True}",parse:"True"},{kind:"symbol",latexTrigger:"\\mathsf{T}",parse:"True"},{name:"False",kind:"symbol",latexTrigger:["\\bot"]},{kind:"symbol",latexTrigger:"\\operatorname{False}",parse:"False"},{kind:"symbol",latexTrigger:"\\mathsf{F}",parse:"False"},{name:"And",kind:"infix",latexTrigger:["\\land"],precedence:317},{kind:"infix",latexTrigger:["\\wedge"],parse:"And",precedence:317},{kind:"infix",latexTrigger:"\\&",parse:"And",precedence:317},{kind:"infix",latexTrigger:"\\operatorname{and}",parse:"And",precedence:317},{name:"Or",kind:"infix",latexTrigger:["\\lor"],precedence:310},{kind:"infix",latexTrigger:["\\vee"],parse:"Or",precedence:310},{kind:"infix",latexTrigger:"\\parallel",parse:"Or",precedence:310},{kind:"infix",latexTrigger:"\\operatorname{or}",parse:"Or",precedence:310},{name:"Xor",kind:"infix",latexTrigger:["\\veebar"],precedence:315},{name:"Not",kind:"prefix",latexTrigger:["\\lnot"],precedence:880},{kind:"prefix",latexTrigger:["\\neg"],parse:"Not",precedence:880},{name:"Nand",kind:"infix",latexTrigger:["\\barwedge"],precedence:315},{name:"Nor",kind:"infix",latexTrigger:["⊽"],precedence:315},{kind:"function",identifierTrigger:"and",parse:"And"},{kind:"function",identifierTrigger:"or",parse:"Or"},{kind:"function",identifierTrigger:"not",parse:"Not"},{name:"Implies",kind:"infix",precedence:220,associativity:"right",latexTrigger:["\\implies"],serialize:"\\implies"},{latexTrigger:["\\Rightarrow"],kind:"infix",precedence:220,associativity:"right",parse:"Implies"},{name:"Equivalent",latexTrigger:["\\iff"],kind:"infix",associativity:"right",precedence:219},{latexTrigger:["\\Leftrightarrow"],kind:"infix",associativity:"right",precedence:219,parse:"Equivalent"},{latexTrigger:["\\equiv"],kind:"infix",associativity:"right",precedence:219,parse:(t,e,r)=>{let i=t.parseExpression({...r,minPrec:219}),n=t.index,a=t.parseExpression({...r,minPrec:219});return a!==null&&Nt(a)==="Mod"?["Congruent",e,i,tn(Re(a,1))]:(t.index=n,["Equivalent",e,tn(i)])}},{name:"Proves",kind:"infix",latexTrigger:["\\vdash"],precedence:220,associativity:"right",serialize:"\\vdash"},{name:"Entails",kind:"infix",latexTrigger:["\\vDash"],precedence:220,associativity:"right",serialize:"\\vDash"},{name:"Satisfies",kind:"infix",latexTrigger:["\\models"],precedence:220,associativity:"right",serialize:"\\models"},{name:"ForAll",kind:"prefix",latexTrigger:["\\forall"],precedence:200,serialize:"\\forall",parse:Hf("ForAll")},{name:"Exists",kind:"prefix",latexTrigger:["\\exists"],precedence:200,serialize:"\\exists",parse:Hf("Exists")},{name:"ExistsUnique",kind:"prefix",latexTrigger:["\\exists","!"],precedence:200,serialize:"\\exists!",parse:Hf("ExistsUnique")},{name:"NotForAll",kind:"prefix",latexTrigger:["\\lnot","\\forall"],precedence:200,serialize:"\\lnot\\forall",parse:Hf("NotForAll")},{name:"NotExists",kind:"prefix",latexTrigger:["\\lnot","\\exists"],precedence:200,serialize:"\\lnot\\exists",parse:Hf("NotExists")},{name:"KroneckerDelta",kind:"prefix",latexTrigger:["\\delta","_"],precedence:200,serialize:(t,e)=>{let r=nr(e);return r.length===0?"\\delta":r.every(i=>hi(i))?`\\delta_{${r.map(i=>t.serialize(i)).join("")}}`:`\\delta_{${r.map(i=>t.serialize(i)).join(", ")}}`},parse:t=>{let e=t.parseGroup();if(e===null){let i=t.parseToken();return i?["KroneckerDelta",i]:null}let r=jf(e);return r&&r.length<=2?["KroneckerDelta",...r]:Nt(e)==="InvisibleOperator"?["KroneckerDelta",...nr(e)]:e!==null?["KroneckerDelta",e]:null}},{name:"Boole",kind:"matchfix",openTrigger:"[",closeTrigger:"]",parse:(t,e)=>{let r=Nt(e);return!r||!q3.some(i=>i.name===r)?null:["Boole",e]}},{kind:"matchfix",openTrigger:"\\llbracket",closeTrigger:"\\rrbracket",parse:(t,e)=>{let r=Nt(e);return!r||!q3.some(i=>i.name===r)?null:["Boole",e]}}];function Hf(t){return(e,r)=>{let i=e.index,n=e.parseSymbol(r);if(n){if(e.skipSpace(),e.match(",")||e.match("\\mid")||e.match(".")||e.match(":")||e.match("\\colon")){let o=e.parseExpression(r);return[t,n,tn(o)]}let s=e.parseEnclosure();if(s)return[t,n,tn(s)]}e.index=i;let a=e.parseExpression(r);if(a===null)return null;if(e.skipSpace(),e.matchAny([",","\\mid",":","\\colon"])){let s=e.parseExpression(r);return[t,a,tn(s)]}if(e.match("(")){let s=e.parseExpression(r);return e.match(")")?[t,a,tn(s)]:null}return null}}function Ao(t){return e=>{let r=e.parseGroup();return r===null?[t]:[t,r]}}var v8e=[{name:"Overscript",latexTrigger:["\\overset"],kind:"infix",precedence:700},{name:"Underscript",latexTrigger:["\\underset"],kind:"infix",precedence:700},{name:"Increment",latexTrigger:["+","+"],kind:"postfix",precedence:880,parse:(t,e)=>hi(e)===null?null:["Decrement",e]},{name:"Decrement",latexTrigger:["-","-"],kind:"postfix",precedence:880,parse:(t,e)=>hi(e)===null?null:["Decrement",e]},{name:"PreIncrement",latexTrigger:["+","+"],kind:"prefix",precedence:880,parse:(t,e)=>{let r=t.parseExpression(e);return hi(r)===null?null:["PreIncrement",r]}},{name:"PreDecrement",latexTrigger:["-","-"],kind:"prefix",precedence:880,parse:(t,e)=>{let r=t.parseExpression(e);return hi(r)===null?null:["PreDecrement",r]}},{name:"Ring",latexTrigger:["\\circ"],kind:"infix",precedence:265},{name:"StringJoin",latexTrigger:["\\lt","\\gt"],kind:"infix",precedence:780},{name:"Starstar",latexTrigger:["\\star","\\star"],kind:"infix",precedence:780},{name:"PartialDerivative",latexTrigger:["\\partial"],kind:"prefix",parse:t=>{let e=!1,r="Nothing",i="Nothing";for(;!e;)t.skipSpace(),t.match("_")?i=t.parseGroup()??t.parseToken():t.match("^")?r=t.parseGroup()??t.parseToken():e=!0;let n=jf(i);if(n&&(i=["List",...n]),i===null||r===null)return null;let a=t.parseGroup()??"Nothing";if(!ya(a)){let s=t.parseArguments()??["Nothing"];a=[a,...s]}return["PartialDerivative",a,i,r]},serialize:(t,e)=>{let r="\\partial",i=Re(e,1),n=Re(e,2),a=Re(e,3);return n!==null&&n!=="Nothing"&&(Nt(n)==="List"?r+="_{"+t.serialize(["Sequence",...nr(n)])+"}":r+="_{"+t.serialize(n)+"}"),a!==null&&a!=="Nothing"&&(r+="^{"+t.serialize(a)+"}"),i!==null&&i!=="Nothing"&&(r+=t.serialize(i)),r},precedence:740},{name:"OverBar",latexTrigger:["\\overline"],parse:Ao("OverBar")},{name:"UnderBar",latexTrigger:["\\underline"],parse:Ao("UnderBar")},{name:"OverVector",latexTrigger:["\\vec"],parse:Ao("OverVector")},{name:"OverTilde",latexTrigger:["\\tilde"],parse:Ao("OverTilde")},{name:"OverHat",latexTrigger:["\\hat"],parse:Ao("OverHat")},{name:"OverRightArrow",latexTrigger:["\\overrightarrow"],parse:Ao("OverRightArrow")},{name:"OverLeftArrow",latexTrigger:["\\overleftarrow"],parse:Ao("OverLeftArrow")},{name:"OverRightDoubleArrow",latexTrigger:["\\Overrightarrow"],parse:Ao("OverRightDoubleArrow")},{name:"OverLeftHarpoon",latexTrigger:["\\overleftharpoon"],parse:Ao("OverLeftHarpoon")},{name:"OverRightHarpoon",latexTrigger:["\\overrightharpoon"],parse:Ao("OverRightHarpoon")},{name:"OverLeftRightArrow",latexTrigger:["\\overleftrightarrow"],parse:Ao("OverLeftRightArrow")},{name:"OverBrace",latexTrigger:["\\overbrace"],parse:Ao("OverBrace")},{name:"OverLineSegment",latexTrigger:["\\overlinesegment"],parse:Ao("OverLineSegment")},{name:"OverGroup",latexTrigger:["\\overgroup"],parse:Ao("OverGroup")},{latexTrigger:["\\displaystyle"],parse:()=>"Nothing"},{latexTrigger:["\\textstyle"],parse:()=>"Nothing"},{latexTrigger:["\\scriptstyle"],parse:()=>"Nothing"},{latexTrigger:["\\scriptscriptstyle"],parse:()=>"Nothing"},{latexTrigger:["\\tiny"],parse:()=>"Nothing"},{latexTrigger:["\\scriptsize"],parse:()=>"Nothing"},{latexTrigger:["\\footnotesize"],parse:()=>"Nothing"},{latexTrigger:["\\small"],parse:()=>"Nothing"},{latexTrigger:["\\normalsize"],parse:()=>"Nothing"},{latexTrigger:["\\large"],parse:()=>"Nothing"},{latexTrigger:["\\Large"],parse:()=>"Nothing"},{latexTrigger:["\\LARGE"],parse:()=>"Nothing"},{latexTrigger:["\\huge"],parse:()=>"Nothing"},{latexTrigger:["\\Huge"],parse:()=>"Nothing"},{name:"Style",serialize:(t,e)=>{let r=t.serialize(Re(e,1)),i=BO(Re(e,2));if(i===null)return r;mn(i.display)==="block"?r=Gt(["{\\displaystyle",r,"}"]):mn(i.display)==="inline"?r=Gt(["{\\textstyle",r,"}"]):mn(i.display)==="script"?r=Gt(["{\\scriptstyle",r,"}"]):mn(i.display)==="scriptscript"&&(r=Gt(["{\\scriptscriptstyle",r,"}"]));let n=ai(i.size);return n!==null&&n>=1&&n<=10&&(r=Gt(["{",{1:"\\tiny",2:"\\scriptsize",3:"\\footnotesize",4:"\\small",5:"\\normalsize",6:"\\large",7:"\\Large",8:"\\LARGE",9:"\\huge",10:"\\Huge"}[n],r,"}"])),r}},{latexTrigger:["\\!"],parse:()=>["HorizontalSpacing",-3]},{latexTrigger:["\\ "],parse:()=>["HorizontalSpacing",6]},{latexTrigger:["\\:"],parse:()=>["HorizontalSpacing",4]},{latexTrigger:["\\enskip"],parse:()=>["HorizontalSpacing",9]},{latexTrigger:["\\quad"],parse:()=>["HorizontalSpacing",18]},{latexTrigger:["\\qquad"],parse:()=>["HorizontalSpacing",36]},{latexTrigger:["\\,"],parse:()=>["HorizontalSpacing",3]},{latexTrigger:["\\;"],parse:()=>["HorizontalSpacing",5]},{latexTrigger:["\\enspace"],parse:()=>["HorizontalSpacing",9]},{name:"HorizontalSpacing",serialize:(t,e)=>{if(Re(e,2)!==null)return t.serialize(Re(e,1));let r=ai(Re(e,1));return r===null?"":{"-3":"\\!",6:"\\ ",3:"\\,",4:"\\:",5:"\\;",9:"\\enspace",18:"\\quad",36:"\\qquad"}[r]??""}}];function dr(t){return(e,r)=>{let i={"\\arcsin":"Arcsin","\\arccos":"Arccos","\\arctan":"Arctan","\\arctg":"Arctan","\\arcctg":"Arccot","\\arcsec":"Arcsec","\\arccsc":"Arccsc","\\arsinh":"Arsinh","\\arcosh":"Arccosh","\\arccosh":"Arccosh","\\artanh":"Arctanh","\\arctanh":"Arctanh","\\arsech":"Arcsech","\\arcsech":"Arcsech","\\arcsch":"Arccsch","\\arccsch":"Arccsch","\\ch":"Cosh","\\cos":"Cos","\\cosh":"Csch","\\cosec":"Csc","\\cot":"Cot","\\cotg":"Cot","\\ctg":"Cot","\\csc":"Csc","\\csch":"Csch","\\coth":"Coth","\\cth":"Coth","\\sec":"Sec","\\sech":"Sech","\\sin":"Sin","\\sinh":"Sinh","\\sh":"Sinh","\\tan":"Tan","\\tg":"Tan","\\tanh":"Tanh","\\th":"Tanh"},n=i[t??""]??t??"";if(e.atTerminator(r))return n;let a=n;do{let u=e.parsePostfixOperator(a,r);if(u===null)break;a=u}while(!0);e.skipSpace();let s=null;e.match("^")&&(s=e.parseGroup()??e.parseToken()),e.skipSpace();let o=e.parseArguments("implicit",{minPrec:390,condition:u=>{var c;return i[u.peek]||(((c=r==null?void 0:r.condition)==null?void 0:c.call(r,u))??!1)}}),l=o===null?a:typeof a=="string"?[a,...o]:["Apply",a,...o];return s===null?l:["Power",l,s]}}var y8e=[{name:"Arcsin",latexTrigger:["\\arcsin"],parse:dr("Arcsin")},{name:"Arccos",latexTrigger:["\\arccos"],parse:dr("Arccos")},{name:"Arctan",latexTrigger:["\\arctan"],parse:dr("Arctan")},{latexTrigger:["\\arctg"],parse:dr("Arctan")},{identifierTrigger:"arctg",parse:dr("Arctan")},{name:"Arccot",identifierTrigger:"arcctg",parse:dr("Arccot")},{latexTrigger:["\\arcctg"],parse:dr("Arccot")},{name:"Arccoth",identifierTrigger:"arccoth",parse:dr("Arccoth")},{identifierTrigger:"arcoth",parse:dr("Arccoth")},{identifierTrigger:"arccoth",parse:dr("Arccoth")},{latexTrigger:["\\arccoth"],parse:dr("Arccoth")},{name:"Arcsec",identifierTrigger:"arcsec",parse:dr("Arcsec")},{latexTrigger:["\\arcsec"],parse:dr("Arcsec")},{name:"Arccsc",identifierTrigger:"arccsc",parse:dr("Arccsc")},{latexTrigger:["\\arccsc"],parse:dr("Arccsc")},{name:"Arcsinh",identifierTrigger:"arcsinh",parse:dr("Arcsinh")},{latexTrigger:["\\arsinh"],parse:dr("Arcsinh")},{latexTrigger:["\\arcsinh"],parse:dr("Arcsinh")},{name:"Arccosh",identifierTrigger:"arccosh",parse:dr("Arccosh")},{latexTrigger:"\\arccosh",parse:dr("Arccosh")},{latexTrigger:"\\arcosh",parse:dr("Arccosh")},{identifierTrigger:"arcosh",parse:dr("Arccosh")},{name:"Arctanh",identifierTrigger:"arctanh",parse:dr("Arctanh")},{identifierTrigger:"artanh",parse:dr("Arctanh")},{latexTrigger:"\\artanh",parse:dr("Arctanh")},{latexTrigger:["\\arctanh"],parse:dr("Arctanh")},{identifierTrigger:"artanh",parse:dr("Arctanh")},{name:"Arcsech",identifierTrigger:"arcsech",parse:dr("Arcsech")},{latexTrigger:["\\arcsech"],parse:dr("Arcsech")},{latexTrigger:["\\arsech"],parse:dr("Arcsech")},{name:"Arccsch",identifierTrigger:"arccsch",parse:dr("Arccsch")},{latexTrigger:["\\arccsch"],parse:dr("Arccsch")},{latexTrigger:["\\arcsch"],parse:dr("Arccsch")},{name:"Cosec",identifierTrigger:"cosec",parse:dr("Cosec")},{latexTrigger:["\\cosec"],parse:dr("Cosec")},{name:"Cosh",latexTrigger:["\\cosh"],parse:dr("Cosh")},{latexTrigger:["\\ch"],parse:dr("Cosh")},{name:"Cot",latexTrigger:["\\cot"],parse:dr("Cot")},{latexTrigger:["\\cotg"],parse:dr("Cot")},{latexTrigger:["\\ctg"],parse:dr("Cot")},{name:"Csc",latexTrigger:["\\csc"],parse:dr("Csc")},{name:"Csch",latexTrigger:["\\csch"],parse:dr("Csch")},{name:"Coth",latexTrigger:["\\coth"],parse:dr("Coth")},{latexTrigger:["\\cth"],parse:dr("Coth")},{identifierTrigger:"cth",parse:dr("Coth")},{latexTrigger:["\\coth"],parse:dr("Coth")},{name:"Sec",latexTrigger:["\\sec"],parse:dr("Sec")},{name:"Sech",identifierTrigger:"sech",parse:dr("Sech")},{latexTrigger:["\\sech"],parse:dr("Sech")},{name:"Sinh",latexTrigger:["\\sinh"],parse:dr("Sinh")},{latexTrigger:["\\sh"],parse:dr("Sinh")},{name:"Tan",latexTrigger:["\\tan"],parse:dr("Tan")},{latexTrigger:["\\tg"],parse:dr("Tan")},{name:"Tanh",latexTrigger:["\\tanh"],parse:dr("Tanh")},{latexTrigger:["\\th"],parse:dr("Tanh")},{name:"Cos",latexTrigger:["\\cos"],parse:dr("Cos")},{name:"Sin",latexTrigger:["\\sin"],parse:dr("Sin")}],b8e=[{name:"AlgebraicNumbers",latexTrigger:"\\overline\\Q"},{latexTrigger:"\\bar\\Q",parse:"AlgebraicNumbers"},{name:"ComplexNumbers",latexTrigger:["\\C"]},{latexTrigger:"\\mathbb{C}",parse:"ComplexNumbers"},{name:"ImaginaryNumbers",latexTrigger:["\\imaginaryI","\\R"]},{name:"EmptySet",latexTrigger:["\\emptyset"]},{latexTrigger:["\\varnothing"],parse:"EmptySet"},{name:"Integers",latexTrigger:["\\Z"]},{latexTrigger:"\\mathbb{Z}",parse:"Integers"},{name:"RationalNumbers",latexTrigger:["\\Q"]},{latexTrigger:"\\mathbb{Q}",parse:"RationalNumbers"},{name:"RealNumbers",latexTrigger:["\\R"]},{latexTrigger:"\\mathbb{R}",parse:"RealNumbers"},{name:"TranscendentalNumbers",latexTrigger:"\\R-\\bar\\Q"},{latexTrigger:"\\R\\backslash\\bar\\Q",parse:"TranscendentalNumbers"},{name:"NegativeNumbers",latexTrigger:"\\R_{<0}"},{latexTrigger:"\\R^-",parse:"NegativeNumbers"},{latexTrigger:"\\R^{-}",parse:"NegativeNumbers"},{latexTrigger:"\\R^-",parse:"NegativeNumbers"},{latexTrigger:"\\R_-",parse:"NegativeNumbers"},{latexTrigger:"\\R_{-}",parse:"NegativeNumbers"},{latexTrigger:"\\R^{\\lt}",parse:"NegativeNumbers"},{latexTrigger:"\\R^{<}",parse:"NegativeNumbers"},{latexTrigger:"\\R^{\\lt0}",parse:"NegativeNumbers"},{latexTrigger:"\\R^{<0}",parse:"NegativeNumbers"},{name:"NonPositiveNumbers",latexTrigger:"\\R_{\\le0}"},{latexTrigger:"\\R^{\\leq0}",parse:"NonPositiveNumbers"},{latexTrigger:"\\R^{-0}",parse:"NonPositiveNumbers"},{latexTrigger:"\\R^{\\leq}",parse:"NonPositiveNumbers"},{latexTrigger:"\\R^{0-}",parse:"NonPositiveNumbers"},{name:"PositiveNumbers",latexTrigger:"\\R_{>0}"},{latexTrigger:"\\R^+",parse:"PositiveNumbers"},{latexTrigger:"\\R^{+}",parse:"PositiveNumbers"},{latexTrigger:"\\R_+",parse:"PositiveNumbers"},{latexTrigger:"\\R_{+}",parse:"PositiveNumbers"},{latexTrigger:"\\R^{\\gt}",parse:"PositiveNumbers"},{latexTrigger:"\\R^{\\gt 0}",parse:"PositiveNumbers"},{latexTrigger:"\\R^{>}",parse:"PositiveNumbers"},{latexTrigger:"\\R^{>0}",parse:"PositiveNumbers"},{name:"NonNegativeNumbers",latexTrigger:"\\R_{\\geq0}"},{latexTrigger:"\\R^{0+}",parse:"NonNegativeNumbers"},{latexTrigger:"\\R^{\\geq}",parse:"NonNegativeNumbers"},{name:"ExtendedRealNumbers",latexTrigger:"\\overline\\R"},{latexTrigger:"\\bar\\R",parse:"ExtendedRealNumbers"},{name:"NegativeIntegers",latexTrigger:"\\Z_{<0}"},{latexTrigger:"\\Z_{\\lt0}",parse:"NegativeIntegers"},{latexTrigger:"\\Z^-",parse:"NegativeIntegers"},{latexTrigger:"\\Z^{-}",parse:"NegativeIntegers"},{latexTrigger:"\\Z_-",parse:"NegativeIntegers"},{latexTrigger:"\\Z_{-}",parse:"NegativeIntegers"},{latexTrigger:"\\Z^{\\lt}",parse:"NegativeIntegers"},{name:"NonPositiveIntegers",latexTrigger:"\\Z_{\\le0}"},{latexTrigger:"\\Z_{\\leq0}",parse:"NonPositiveIntegers"},{latexTrigger:"\\Z_{<0}",parse:"NonPositiveIntegers"},{name:"PositiveIntegers",latexTrigger:"\\N^*"},{latexTrigger:"\\Z_{>0}",parse:"PositiveIntegers"},{latexTrigger:"\\Z_{\\gt0}",parse:"PositiveIntegers"},{latexTrigger:"\\Z^{+}",parse:"PositiveIntegers"},{latexTrigger:"\\Z_+",parse:"PositiveIntegers"},{latexTrigger:"\\Z_{+}",parse:"PositiveIntegers"},{latexTrigger:"\\Z^{\\gt}",parse:"PositiveIntegers"},{latexTrigger:"\\Z^{\\gt0}",parse:"PositiveIntegers"},{latexTrigger:"\\N^+",parse:"PositiveIntegers"},{latexTrigger:"\\N^{+}",parse:"PositiveIntegers"},{latexTrigger:"\\N^*",parse:"PositiveIntegers"},{latexTrigger:"\\N^{*}",parse:"PositiveIntegers"},{latexTrigger:"\\N^\\star",parse:"PositiveIntegers"},{latexTrigger:"\\N^{\\star}",parse:"PositiveIntegers"},{latexTrigger:"\\N_1",parse:"PositiveIntegers"},{latexTrigger:"\\N_{1}",parse:"PositiveIntegers"},{name:"NonNegativeIntegers",latexTrigger:["\\N"]},{latexTrigger:"\\Z^{+0}",parse:"NonNegativeIntegers"},{latexTrigger:"\\Z^{\\geq}",parse:"NonNegativeIntegers"},{latexTrigger:"\\Z^{\\geq0}",parse:"NonNegativeIntegers"},{latexTrigger:"\\Z^{0+}",parse:"NonNegativeIntegers"},{latexTrigger:"\\mathbb{N}",parse:"NonNegativeIntegers"},{latexTrigger:"\\N_0",parse:"NonNegativeIntegers"},{latexTrigger:"\\N_{0}",parse:"NonNegativeIntegers"},{name:"ExtendedIntegers",latexTrigger:"\\overline\\Z"},{latexTrigger:"\\bar\\Z",parse:"ExtendedIntegers"},{name:"ExtendedRationalNumbers",latexTrigger:"\\overline\\Q"},{latexTrigger:"\\bar\\Q",parse:"ExtendedRationalNumbers"},{name:"ExtendedComplexNumbers",latexTrigger:"\\overline\\C"},{latexTrigger:"\\bar\\C",parse:"ExtendedComplexNumbers"},{latexTrigger:["^","\\complement"],kind:"postfix",parse:(t,e)=>["Complement",e]},{name:"Complement",latexTrigger:["^","<{>","\\complement","<}>"],kind:"postfix"},{name:"Intersection",latexTrigger:["\\cap"],kind:"infix",precedence:350},{name:"Interval",serialize:lF},{name:"Multiple",serialize:lF},{name:"Union",latexTrigger:["\\cup"],kind:"infix",precedence:350},{name:"Set",kind:"matchfix",openTrigger:"{",closeTrigger:"}",parse:(t,e)=>ya(e)?"EmptySet":(Nt(e)=="Delimiter"&&mn(Re(e,2))===","&&(e=Re(e,1)),Nt(e)!=="Sequence"?["Set",e]:["Set",...nr(e)]),serialize:(t,e)=>Gt(["\\lbrace",nr(e).map(r=>t.serialize(r)).join(", "),"\\rbrace"])},{name:"SetMinus",latexTrigger:["\\setminus"],kind:"infix",precedence:650},{name:"SymmetricDifference",latexTrigger:["\\triangle"],kind:"infix",precedence:245},{latexTrigger:["\\ni"],kind:"infix",associativity:"none",precedence:160,parse:(t,e,r)=>{let i=t.parseExpression(r);return i===null?null:["Element",i,e]}},{name:"Element",latexTrigger:["\\in"],kind:"infix",precedence:240},{name:"NotElement",latexTrigger:["\\notin"],kind:"infix",precedence:240},{name:"NotSubset",latexTrigger:["\\nsubset"],kind:"infix",associativity:"none",precedence:240},{name:"NotSuperset",latexTrigger:["\\nsupset"],kind:"infix",associativity:"none",precedence:240},{name:"NotSubsetNotEqual",latexTrigger:["\\nsubseteq"],kind:"infix",associativity:"none",precedence:240},{name:"NotSupersetNotEqual",latexTrigger:["\\nsupseteq"],kind:"infix",associativity:"none",precedence:240},{name:"SquareSubset",latexTrigger:["\\sqsubset"],kind:"infix",associativity:"none",precedence:265},{name:"SquareSubsetEqual",latexTrigger:["\\sqsubseteq"],kind:"infix",associativity:"none",precedence:265},{name:"SquareSuperset",latexTrigger:["\\sqsupset"],kind:"infix",associativity:"none",precedence:265},{name:"SquareSupersetEqual",latexTrigger:["\\sqsupseteq"],kind:"infix",associativity:"none",precedence:265},{name:"Subset",latexTrigger:["\\subset"],kind:"infix",associativity:"none",precedence:240},{latexTrigger:["\\subsetneq"],kind:"infix",associativity:"none",precedence:240,parse:"Subset"},{latexTrigger:["\\varsubsetneqq"],kind:"infix",associativity:"none",precedence:240,parse:"Subset"},{name:"SubsetEqual",latexTrigger:["\\subseteq"],kind:"infix",associativity:"none",precedence:240},{name:"Superset",latexTrigger:["\\supset"],kind:"infix",associativity:"none",precedence:240},{latexTrigger:["\\supsetneq"],kind:"infix",associativity:"none",precedence:240,parse:"Superset"},{latexTrigger:["\\varsupsetneq"],kind:"infix",associativity:"none",precedence:240,parse:"Superset"},{name:"SupersetEqual",latexTrigger:["\\supseteq"],kind:"infix",associativity:"none",precedence:240}];function lF(t,e){if(e===null)return"";let r=Nt(e);if(!r)return"";if(r==="Set")return Ea(e)===0?"\\emptyset":Ea(e)===2&&Nt(Re(e,2))==="Condition"?Gt(["\\left\\lbrace",t.serialize(Re(e,1)),"\\middle\\mid",t.serialize(Re(e,2)),"\\right\\rbrace"]):Gt(["\\left\\lbrace",...nr(e).map(i=>t.serialize(i)+" ,"),"\\right\\rbrace"]);if(r==="Range")return Gt(["\\mathopen\\lbrack",t.serialize(Re(e,1)),", ",t.serialize(Re(e,2)),"\\mathclose\\rbrack"]);if(r==="Interval"){let i=Re(e,1),n=Re(e,2),a=!1,s=!1;return Nt(i)==="Open"&&(i=Re(i,1),a=!0),Nt(n)==="Open"&&(n=Re(n,1),s=!0),Gt([`\\mathopen${a?"\\rbrack":"\\lbrack"}`,t.serialize(i),", ",t.serialize(n),`\\mathclose${s?"\\lbrack":"\\rbrack"}`])}return t.numericSetStyle(e,t.level),""}function fd(t,e=1){return r=>{r.skipSpace(),r.match("\\limits"),r.skipSpace();let i=null,n=null;for(;!(n!==null&&i!==null)&&(r.peek==="_"||r.peek==="^");)r.match("_")?n=r.parseGroup()??r.parseToken():r.match("^")&&(i=r.parseGroup()??r.parseToken()),r.skipSpace();ya(n)&&(n=null),ya(i)&&(i=null);let[a,s]=w8e(r,e);if(a&&!s){if(Nt(a)==="Add"||Nt(a)==="Subtract"){let o=[],l=[];for(let u of nr(a))if(s)l.push(u);else{let c;[c,s]=L0(u),o.push(c??u)}if(s!==null&&l.length>0)return["Add",uF(r,t,["Add",...o],[{index:s,sub:n,sup:i}]),...l]}else if(Nt(a)==="Divide"){let o;[o,s]=L0(Re(a,1)),o!==null&&s!==null&&(a=["Divide",o,Re(a,2)])}}return uF(r,t,a,[{index:s,sub:n,sup:i}])}}function uF(t,e,r,i){if(r&&i.length===0)return[e,r];r??(r="Nothing"),t.pushSymbolTable();for(let n of i)n.index&&t.addSymbol(n.index,"symbol");return t.popSymbolTable(),[e,r,...i.map(n=>x8e(n))]}function x8e(t){let e=t.index?["Hold",t.index]:"Nothing";return t.sup!==null?["Tuple",e,t.sub??"Nothing",t.sup]:t.sub!==null?["Tuple",e,t.sub]:e}function w8e(t,e=1){let r=t.index,i=!1,n=t.parseExpression({minPrec:266,condition:()=>{let s=t.index;for(;t.match("\\cdot")||t.match("\\,"););return(t.matchAll(["\\mathrm","<{>","d","<}>"])||t.matchAll(["\\operatorname","<{>","d","<}>"]))&&(i=!0),i||(t.index=s),i}});if(i||(t.index=r,n=t.parseExpression({minPrec:266,condition:()=>{for(;t.match("\\cdot")||t.match("\\,"););return(t.match("d")||t.match("\\differentialD"))&&(i=!0),i}})),n!==null&&!i)return L0(n);let a=M8e(t,e);return[n,a[0]??null]}function M8e(t,e=1){t.skipSpace();let r=[],i=hi(t.parseSymbol());return i===null?[]:(r.push(i),r)}function L0(t){let e=Nt(t),r=Re(t,1);if(!r)return[t,null];if(e==="Sequence"&&Ea(t)===1)return L0(r);if(e==="Multiply"||e==="InvisibleOperator"){let i=nr(t);if(i&&i.length>1){let n=hi(i[i.length-2]);if(n==="d"||n==="d_upright")return i.length===2?[null,hi(i[1])]:i.length===3?[i[0],hi(i[2])]:[["Multiply",...i.slice(0,-2)],hi(i[i.length-1])];let[a,s]=L0(i[i.length-1]);if(a)return[["Multiply",...i.slice(0,-1),a],s]}}else if(e==="Delimiter"){let[i,n]=L0(r);if(n)return i?[["Delimiter",["Sequence",i],...nr(t).slice(1)],n]:[null,n]}else if(e==="Add"){let i=nr(t);if(i.length>0){let[n,a]=L0(i[i.length-1]);if(a){if(n)return[["Add",...i.slice(0,-1),n],a];if(i.length>2)return[["Add",...i.slice(0,-1)],a];if(i.length>2)return[i[0],a]}}}else if(e==="Negate"){let[i,n]=L0(r);if(n)return[i?["Negate",i]:null,n]}else if(e==="Divide"){let[i,n]=L0(r);if(n)return[["Divide",i??1,Re(t,2)],n]}else{let i=nr(t);if(i.length===1){let[n,a]=L0(i[0]);if(a)return[[Nt(t),n],a]}}return[t,null]}function cF(t){return(e,r)=>{if(!Re(r,1))return t;let i=Re(r,2),n=Nt(i),a=null;n==="Tuple"||n==="Triple"||n==="Pair"||n==="Single"||n==="Hold"?a=Re(i,1):(a=Re(i,1)??"x",i=null),Nt(a)==="Hold"&&(a=Re(a,1));let s=a!==null?hi(a):null,o=Re(r,1);if(Nt(o)==="Lambda"&&Re(o,1)!==null&&(o=R7(Re(o,1),{_:s??"x",_1:s??"x"})),!i)return Gt(!s||s==="Nothing"?[t,"\\!",e.serialize(o)]:[t,"\\!",e.serialize(o),"\\,\\operatorname{d}",e.serialize(s)]);let l=Re(i,2)?hi(Re(i,2)):null,u=i&&l!=="Nothing"?e.serialize(Re(i,2)):"";u.length>0&&(u=`_{${u}}`);let c="",h=Re(i,3)?hi(Re(i,3)):null;return Re(i,3)!==null&&h!=="Nothing"&&(c=`^{${e.serialize(Re(i,3))}}`),Gt([t,c,u,"\\!",e.serialize(o),...s&&hi(s)!=="Nothing"?["\\,\\operatorname{d}",e.serialize(s)]:[]])}}var k8e=[{kind:"expression",name:"Integrate",latexTrigger:["\\int"],parse:fd("Integrate"),serialize:cF("\\int")},{kind:"expression",latexTrigger:["\\iint"],parse:fd("Integrate",2)},{kind:"expression",latexTrigger:["\\iiint"],parse:fd("Integrate",3)},{kind:"expression",name:"CircularIntegrate",latexTrigger:["\\oint"],parse:fd("CircularIntegrate"),serialize:cF("\\oint")},{kind:"expression",latexTrigger:["\\oiint"],parse:fd("CircularIntegrate",2)},{kind:"expression",latexTrigger:["\\oiiint"],parse:fd("CircularIntegrate",3)}],zu=[["alpha","\\alpha",945],["beta","\\beta",946],["gamma","\\gamma",947],["delta","\\delta",948],["epsilon","\\epsilon",949],["epsilonSymbol","\\varepsilon",1013],["zeta","\\zeta",950],["eta","\\eta",951],["theta","\\theta",952],["thetaSymbol","\\vartheta",977],["iota","\\iota",953],["kappa","\\kappa",954],["kappaSymbol","\\varkappa",1008],["lambda","\\lambda",955],["mu","\\mu",956],["nu","\\nu",957],["xi","\\xi",958],["omicron","\\omicron",959],["pi","\\pi",960],["piSymbol","\\varpi",982],["rho","\\rho",961],["rhoSymbol","\\varrho",1009],["sigma","\\sigma",963],["finalSigma","\\varsigma",962],["tau","\\tau",964],["phi","\\phi",981],["phiLetter","\\varphi",966],["upsilon","\\upsilon",965],["chi","\\chi",967],["psi","\\psi",968],["omega","\\omega",969],["Alpha","\\Alpha",913],["Beta","\\Beta",914],["Gamma","\\Gamma",915],["Delta","\\Delta",916],["Epsilon","\\Epsilon",917],["Zeta","\\Zeta",918],["Eta","\\Eta",919],["Theta","\\Theta",920],["Iota","\\Iota",921],["Kappa","\\Kappa",922],["Lambda","\\Lambda",923],["Mu","\\Mu",924],["Nu","\\Nu",925],["Xi","\\Xi",926],["Omicron","\\Omicron",927],["Rho","\\Rho",929],["Sigma","\\Sigma",931],["Tau","\\Tau",932],["Phi","\\Phi",934],["Upsilon","\\Upsilon",933],["Chi","\\Chi",935],["Psi","\\Psi",936],["Omega","\\Omega",937],["digamma","\\digamma",989],["aleph","\\aleph",8501],["bet","\\beth",8502],["gimel","\\gimel",8503],["dalet","\\daleth",8504],["ell","\\ell",8499],["turnedCapitalF","\\Finv",8498],["turnedCapitalG","\\Game",8513],["weierstrass","\\wp",8472],["eth","\\eth",240],["invertedOhm","\\mho",8487],["hBar","\\hbar",295],["hSlash","\\hslash",8463],["blackClubSuit","\\clubsuit",9827],["whiteHeartSuit","\\heartsuit",9825],["blackSpadeSuit","\\spadesuit",9824],["whiteDiamondSuit","\\diamondsuit",9826],["sharp","\\sharp",9839],["flat","\\flat",9837],["natural","\\natural",9838]],C8e=[...zu.map(([t,e,r])=>({kind:"symbol",name:t,latexTrigger:[e],parse:t})),...zu.map(([t,e,r])=>({kind:"symbol",latexTrigger:[String.fromCodePoint(r)],parse:t}))],N8e=[{name:"Real",kind:"function",latexTrigger:["\\Re"]},{name:"Imaginary",kind:"function",latexTrigger:["\\Im"]},{name:"Argument",kind:"function",latexTrigger:["\\arg"]},{name:"Conjugate",latexTrigger:["^","\\star"],kind:"postfix"}],S8e=[{name:"Mean",kind:"function",identifierTrigger:"mean"},{name:"Median",kind:"function",identifierTrigger:"median"},{name:"StandarDeviation",kind:"function",identifierTrigger:"stddev"},{latexTrigger:["\\bar"],kind:"expression",parse:(t,e)=>{let r=t.parseGroup()??t.parseToken();return!r||!hi(r)?null:["Mean",r]}}],hF={"(":"(",")":")","[":"\\lbrack","]":"\\rbrack","{":"\\lbrace","}":"\\rbrace","<":"\\langle",">":"\\rangle","|":"\\vert","||":"\\Vert","\\lceil":"\\lceil","\\lfloor":"\\lfloor","\\rceil":"\\rceil","\\rfloor":"\\rfloor"};function pF(t,e,r){let i=D8e(e,r);if(i===null)return;let n="kind"in e?e.kind:"expression",a=i.latexTrigger;typeof a=="string"&&(t.lookahead=Math.max(t.lookahead,dO(a)));let s=as(a??"");if(s.length===2&&/[_^]/.test(s[0])&&s[1]!=="<{>"&&n!=="function"&&n!=="environment"&&n!=="matchfix"){let o=e.parse;!o&&e.name&&(n==="postfix"||n==="prefix"?o=(l,u)=>[e.name,u]:o=e.name),pF(t,{...e,kind:n,name:void 0,serialize:void 0,parse:o,latexTrigger:[s[0],"<{>",s[1],"<}>"]},r)}t.defs.push(i),i.name!==void 0&&(t.ids.has(i.name)&&r({severity:"warning",message:["invalid-dictionary-entry",i.name,"Duplicate definition. The name (MathJSON identifier) must be unique, but triggers can be shared by multiple definitions."]}),t.ids.set(i.name,i))}function dF(t,e){let r={lookahead:1,ids:new Map,defs:[]};for(let i of t)pF(r,i,e);return r}function D8e(t,e){if(!_8e(t,e))return null;let r={kind:"kind"in t?t.kind:"expression"},i=null;"latexTrigger"in t&&(typeof t.latexTrigger=="string"?i=as(t.latexTrigger):i=t.latexTrigger);let n=null;"identifierTrigger"in t&&(n=t.identifierTrigger),i!==null&&(r.latexTrigger=$u(i)),n!==null&&(r.identifierTrigger=n),t.name&&(r.name=t.name,r.serialize=A8e(t,i,n)),r.kind==="matchfix"&&j3(t)&&(r.openTrigger=t.openTrigger,r.closeTrigger=t.closeTrigger),r.kind==="symbol"&&ixe(t)&&(r.precedence=t.precedence??1e4),r.kind==="expression"&&rxe(t)&&(r.precedence=t.precedence??1e4),(r.kind==="prefix"||r.kind==="postfix")&&(S7(t)||fO(t))&&(i&&(i[0]==="^"||i[0]==="_")?(r.precedence=720,t.precedence):r.precedence=t.precedence??1e4),r.kind==="infix"&&mO(t)&&(!i||i[0]!=="^"&&i[0]!=="_"||!t.associativity||t.associativity,r.associativity=t.associativity??"none",r.precedence=t.precedence??1e4);let a=$8e(t,i,n);return a&&(r.parse=a),r}function A8e(t,e,r){if(typeof t.serialize=="function")return t.serialize;let i=t.kind??"expression";if(i==="environment"){let s=t.identifierTrigger??t.name??"unknown";return(o,l)=>Gt([`\\begin{${s}}`,o.serialize(Re(l,1)),`\\end{${s}}`])}if(j3(t)){let s=typeof t.openTrigger=="string"?hF[t.openTrigger]:$u(t.openTrigger),o=typeof t.closeTrigger=="string"?hF[t.closeTrigger]:$u(t.closeTrigger);return(l,u)=>Gt([s,l.serialize(Re(u,1)),o])}let n=t.serialize;if(n===void 0&&e&&(n=$u(e)),n)return i==="postfix"?(s,o)=>Gt([s.serialize(Re(o,1)),n]):i==="prefix"?(s,o)=>Gt([n,s.serialize(Re(o,1))]):i==="infix"?(s,o)=>{let l=Ea(o);if(l===0)return"";let u=t.precedence??1e4;return Gt(nr(o).flatMap((c,h)=>{let p=s.wrap(c,u+1);return h<l-1?[p,n]:[p]}))}:(s,o)=>Nt(o)?Gt([n,s.wrapArguments(o)]):n;let a=r??t.name??"unknown";return i==="postfix"?(s,o)=>Gt([s.serialize(Re(o,1)),s.serializeSymbol(a)]):i==="prefix"?(s,o)=>Gt([s.serializeSymbol(a),s.serialize(Re(o,1))]):i==="infix"?(s,o)=>Gt([s.serialize(Re(o,1)),s.serializeSymbol(a),s.serialize(Re(o,2))]):(s,o)=>Nt(o)?Gt([s.serializeSymbol(a),s.wrapArguments(o)]):s.serializeSymbol(a)}function $8e(t,e,r){if("parse"in t&&typeof t.parse=="function")return t.parse;let i=("kind"in t?t.kind:"expression")??"expression";if(i==="environment"){let n=t.parse??t.name??r;if(n)return(a,s)=>{let o=a.parseTabular();return o===null?null:[n,["List",o.map(l=>["List",...l])]]}}if(i==="function"){let n=t.parse??t.name??r;if(n)return(a,s)=>{let o=a.parseArguments("enclosure",s);return o===null?n:[n,...o]}}if(i==="symbol"){let n=t.parse??t.name??r;if(n)return(a,s)=>n}if(i==="prefix"){let n=t.parse??t.name??r;if(n){let a=t.precedence??1e4;return(s,o)=>{let l=s.parseExpression({...o??[],minPrec:a});return l===null?null:[n,l]}}}if(i==="postfix"){let n=t.parse??t.name;if(n)return(a,s)=>s===null?null:[n,s]}if(i==="infix"){if(/[_^]/.test((e==null?void 0:e[0])??"")){let a=t.name??t.parse;return(s,o)=>[a,tn(Re(o,1)),tn(Re(o,2))]}let n=t.parse??t.name??r;if(n){let a=t.precedence??1e4,s=t.associativity??"none";return s==="none"?(o,l,u)=>{if(l===null)return null;let c=tn(o.parseExpression({...u,minPrec:a}));return[n,l,c]}:s==="left"?(o,l,u)=>{if(l===null)return null;let c=tn(o.parseExpression({...u,minPrec:a+1}));return typeof n!="string"?[n,l,c]:[n,l,c]}:s==="right"?(o,l,u)=>{if(l===null)return null;let c=tn(o.parseExpression({...u,minPrec:a}));return typeof n!="string"?[n,l,c]:[n,l,c]}:(o,l,u)=>{if(l===null)return null;let c=tn(o.parseExpression({...u,minPrec:a}));return typeof n!="string"?[n,l,c]:J3(n,l,c)}}}if(i==="matchfix"){let n=t.parse??t.name;if(n)return(a,s)=>ya(s)?null:[n,s]}if(i==="expression"){let n=t.parse??t.name??r;if(n)return()=>n}if("parse"in t){let n=t.parse;return()=>n}}function _8e(t,e){let r=t.name??t.latexTrigger??t.identifierTrigger??t.openTrigger;if(!r)try{r=JSON.stringify(t)}catch{r="???"}if(Array.isArray(r)&&(r=$u(r)),"trigger"in t&&e({severity:"warning",message:["invalid-dictionary-entry",r,"The 'trigger' property is deprecated. Use 'latexTrigger' or 'identifierTrigger' instead"]}),"kind"in t&&!["expression","symbol","function","infix","postfix","prefix","matchfix","environment"].includes(t.kind)&&e({severity:"warning",message:["invalid-dictionary-entry",r,"The 'kind' property must be one of 'expression', 'symbol', 'function', 'infix', 'postfix', 'prefix', 'matchfix', 'environment'"]}),t.serialize!==void 0&&!t.name)return e({severity:"warning",message:["invalid-dictionary-entry",r,"A 'name' property must be provided if a 'serialize' handler is provided"]}),!1;if("identifierTrigger"in t&&(!("kind"in t)||t.kind!=="environment")&&(typeof t.identifierTrigger!="string"||!Zo(t.identifierTrigger))&&e({severity:"warning",message:["invalid-dictionary-entry",r,"The 'identifierTrigger' property must be a valid identifier"]}),"name"in t&&(typeof t.name!="string"?t.name!==void 0&&e({severity:"warning",message:["invalid-dictionary-entry",r,"The 'name' property must be a string"]}):Zo(t.name)||e({severity:"warning",message:["invalid-dictionary-entry",t.name,"The 'name' property must be a valid identifier"]})),j3(t)){if("latexTrigger"in t||"identifierTrigger"in S7)return e({severity:"warning",message:["invalid-dictionary-entry",r,"'matchfix' operators use a 'openTrigger' and 'closeTrigger' instead of a 'latexTrigger' or 'identifierTrigger'. "]}),!1;if(!t.openTrigger||!t.closeTrigger)return e({severity:"warning",message:["invalid-dictionary-entry",r,"Expected `openTrigger` and a `closeTrigger` for matchfix operator"]}),!1;if(typeof t.openTrigger!=typeof t.closeTrigger)return e({severity:"warning",message:["invalid-dictionary-entry",r,"Expected `openTrigger` and `closeTrigger` to both be strings or array of LatexToken"]}),!1}if(mO(t)||fO(t)||S7(t)){if(Array.isArray(t.latexTrigger)&&(t.latexTrigger[0]==="_"||t.latexTrigger[0]==="^")||typeof t.latexTrigger=="string"&&(t.latexTrigger.startsWith("^")||t.latexTrigger.startsWith("_"))){if(t.precedence!==void 0||t.associativity!==void 0)return e({severity:"warning",message:["invalid-dictionary-entry",r,'Unexpected "precedence" or "associativity" for superscript/subscript operator']}),!1}else if(t.precedence===void 0)return e({severity:"warning",message:["invalid-dictionary-entry",r,`Expected a "precedence" for ${t.kind} operator`]}),!1}else if(t.associativity!==void 0)return e({severity:"warning",message:["invalid-dictionary-entry",r,'Unexpected "associativity" operator']}),!1;return!j3(t)&&!nxe(t)&&!t.latexTrigger&&!t.identifierTrigger&&!t.name?(e({severity:"warning",message:["invalid-dictionary-entry",r,"Expected a 'name', a 'latexTrigger' or a 'identifierTrigger'"]}),!1):t.parse===void 0&&t.name===void 0?(e({severity:"warning",message:["invalid-dictionary-entry",r,"Expected a 'parse' or 'name'"]}),!1):!0}var Wf={symbols:C8e,algebra:Hxe,arithmetic:a8e,calculus:k8e,complex:N8e,core:l8e,"linear-algebra":f8e,logic:g8e,relop:q3,other:v8e,physics:[{name:"mu0",kind:"symbol",latexTrigger:"\\mu_0"}],sets:b8e,statistics:S8e,trigonometry:y8e};function E8e(t="all"){if(t==="all"){let e=[];for(let r of Object.keys(Wf))Wf[r]&&e.push(...Wf[r]);return e}return Wf[t]?Object.freeze([...Wf[t]]):[]}function mF(t,e){switch(e){case"float64":case"float32":case"int32":case"uint8":return new I8e(t);case"complex128":case"complex64":return new L8e(t);case"bool":case"string":case"expression":return new T8e(t)}throw new Error(`Unknown dtype ${e}`)}var I8e=class{constructor(e){this.ce=e,this.one=1,this.zero=0,this.nan=NaN}cast(e,r){let i=this.ce;switch(r){case"float64":case"float32":case"int32":case"uint8":return e;case"complex128":case"complex64":return Array.isArray(e)?e.map(n=>i.complex(n)):this.ce.complex(e);case"bool":return Array.isArray(e)?e.map(n=>n!==0):e!==0;case"string":return Array.isArray(e)?e.map(n=>Number(n).toString()):Number(e).toString();case"expression":return Array.isArray(e)?e.map(n=>i.number(n)):i.number(e)}throw new Error(`Cannot cast ${e} to ${r}`)}expression(e){return this.ce.number(e)}isZero(e){return e===0}isOne(e){return e===1}equals(e,r){return e===r}add(e,r){return e+r}addn(...e){return e.reduce((r,i)=>r+i,0)}neg(e){return-e}sub(e,r){return e-r}mul(e,r){return e*r}muln(...e){return e.reduce((r,i)=>r*i,1)}div(e,r){return e/r}pow(e,r){return e**r}conjugate(e){return e}},T8e=class{constructor(e){this.one=e.One,this.zero=e.Zero,this.nan=e.NaN,this.ce=e}cast(e,r){if(Array.isArray(e))return e.map(n=>this.cast(n,r));let i=e.value;switch(r){case"float64":case"float32":return typeof i=="number"?i:void 0;case"int32":return typeof i=="number"?Math.round(i):void 0;case"uint8":if(typeof i!="number")return;let n=Math.round(i);return n>=0&&n<=255?n:void 0;case"complex128":case"complex64":return typeof i=="number"?this.ce.complex(i):isNaN(e.im)?void 0:this.ce.complex(e.re,e.im);case"bool":return typeof i=="boolean"?i:void 0;case"string":return typeof i=="string"?i:void 0;case"expression":return e}throw new Error(`Cannot cast ${e} to ${r}`)}expression(e){return e}isZero(e){return e.is(0)}isOne(e){return e.is(1)}equals(e,r){return e.isSame(r)===!0}add(e,r){return e.add(r)}addn(...e){return Cs(...e)}neg(e){return e.neg()}sub(e,r){return e.sub(r)}mul(e,r){return e.mul(r)}muln(...e){return Cl(...e)}div(e,r){return e.div(r)}pow(e,r){return e.pow(r)}conjugate(e){return this.ce.function("Conjugate",[e]).evaluate()}},L8e=class{constructor(e){this.ce=e,this.one=e.complex(1),this.zero=e.complex(0),this.nan=e.complex(NaN)}cast(e,r){if(Array.isArray(e))return e.map(i=>this.cast(i,r));switch(r){case"float64":return e.im===0?e.re:void 0;case"float32":return e.im===0?e.re:void 0;case"int32":return e.im===0?Math.round(e.re):void 0;case"uint8":if(e.im!==0)return;let i=Math.round(e.re);return i>=0&&i<=255?i:void 0;case"complex128":return e;case"complex64":return e;case"bool":return!(e.im===0&&e.re===0);case"string":return e.toString();case"expression":return this.ce.number(e)}throw new Error(`Cannot cast ${e} to ${r}`)}expression(e){return this.ce.number(e)}isZero(e){return e.isZero()}isOne(e){return e.re===1&&e.im===0}equals(e,r){return e.equals(r)}add(e,r){return e.add(r)}addn(...e){return e.reduce((r,i)=>r.add(i),this.zero)}neg(e){return e.neg()}sub(e,r){return e.sub(r)}mul(e,r){return e.mul(r)}muln(...e){return e.reduce((r,i)=>r.mul(i),this.one)}div(e,r){return e.div(r)}pow(e,r){return e.pow(r)}conjugate(e){return e.conjugate()}};function fF(t,e){return t===void 0?e:t===e?t:t==="expression"||e==="expression"||t==="string"||e==="string"?"expression":t==="complex128"||e==="complex128"?"complex128":t==="complex64"||e==="complex64"?"complex64":t==="float64"||e==="float64"?"float64":t==="float32"||e==="float32"?"float32":t==="int32"||e==="int32"?"int32":t==="uint8"||e==="uint8"?"uint8":t==="bool"||e==="bool"?"bool":"expression"}function z8e(t){if(Vc(t))return"bool";if(!t.isNumberLiteral)return"expression";switch(t.type.type){case"real":case"rational":case"finite_real":case"finite_rational":case"integer":return"float64";case"complex":case"finite_complex":case"imaginary":return"complex128";case"finite_integer":{let e=t.re;return e>=0&&e<=255?"uint8":"int32"}case"boolean":return"bool";case"string":return"string";default:return"expression"}}var Yf=class $h{constructor(e,r){this.ce=e,this.shape=r.shape,this.rank=this.shape.length,this._strides=B8e(this.shape),this.field=mF(e,r.dtype)}static align(e,r){if(e.dtype===r.dtype)return[e,r];let i=fF(e.dtype,r.dtype);return e.dtype===i?[e,r.upcast(i)]:[e.upcast(i),r]}static broadcast(e,r,i){if(!(i instanceof $h))return r.map1(e,i);let[n,a]=$h.align(r,i),s=n.data.map((o,l)=>e(o,a.data[l]));return Bu(n.ce,{dtype:n.dtype,shape:n.shape,rank:n.rank,data:s})}get expression(){let e=this.shape,r=this.rank,i=this.data,n=this._index.bind(this),a=this.field.expression.bind(this.field),s=o=>{if(o.length===r-1){let l=n(o),u=this.ce._fn("List",i.slice(l,l+e[r-1]).map(c=>a(c)));return u.isCanonical=u.ops.every(c=>c.isCanonical),u}else{let l=[];for(let c=0;c<=e[o.length]-1;c++)l.push(s([...o,c+1]));let u=this.ce._fn("List",l);return u.isCanonical=u.ops.every(c=>c.isCanonical),u}};return s([])}get array(){let e=this.shape,r=this.rank,i=this.data;if(r===1)return i;if(r===2){let[s,o]=e,l=new Array(s);for(let u=0;u<s;u++)l[u]=i.slice(u*o,(u+1)*o);return l}let n=this._index.bind(this),a=s=>{if(s.length===r-1){let o=n(s);return i.slice(o,o+e[r-1])}else{let o=[];for(let l=0;l<e[s.length];l++)o.push(a([...s,l+1]));return o}};return a([])}_index(e){let r=this._strides;return e.reduce((i,n,a)=>i+(n-1)*r[a],0)}get isSquare(){let e=this.shape;return e.length===2&&e[0]===e[1]}get isSymmetric(){if(!this.isSquare)return!1;let e=this.shape[0],r=this.data,i=this.field.equals.bind(this.field);for(let n=0;n<e;n++)for(let a=n+1;a<e;a++)if(!i(r[n*e+a],r[a*e+n]))return!1;return!0}get isSkewSymmetric(){if(!this.isSquare)return!1;let e=this.shape[0],r=this.data,i=this.field.equals.bind(this.field),n=this.field.neg.bind(this.field);for(let a=0;a<e;a++)for(let s=a+1;s<e;s++)if(!i(r[a*e+s],n(r[s*e+a])))return!1;return!0}get isUpperTriangular(){if(!this.isSquare)return!1;let e=this.shape[0],r=this.data,i=this.field.isZero.bind(this.field);for(let n=1;n<e;n++)for(let a=0;a<n;a++)if(i(r[n*e+a]))return!1;return!0}get isLowerTriangular(){if(!this.isSquare)return!1;let e=this.shape[0],r=this.data,i=this.field.isZero.bind(this.field);for(let n=0;n<e-1;n++)for(let a=n+1;a<e;a++)if(!i(r[n*e+a]))return!1;return!0}get isTriangular(){if(!this.isSquare)return!1;let e=this.shape[0],r=this.data,i=this.field.isZero.bind(this.field);for(let n=0;n<e;n++)for(let a=0;a<e;a++)if(n<a&&!i(r[n*e+a])||n>a&&!i(r[n*e+a]))return!1;return!0}get isDiagonal(){if(!this.isSquare)return!1;let e=this.shape[0],r=this.data,i=this.field.isZero.bind(this.field);for(let n=0;n<e;n++)for(let a=0;a<e;a++)if(n===a&&!i(r[n*e+a])||n!==a&&!i(r[n*e+a]))return!1;return!0}get isIdentity(){if(!this.isSquare)return!1;let[e,r]=this.shape,i=this.data,n=this.field.isOne.bind(this.field),a=this.field.isZero.bind(this.field);for(let s=0;s<r;s++)for(let o=0;o<r;o++)if(s===o&&!n(i[s*r+o])||s!==o&&!a(i[s*r+o]))return!1;return!0}get isZero(){let e=this.field.isZero.bind(this.field);return this.data.every(r=>e(r))}at(...e){let r=this.data.length;return this.data[this._index(e)%r]}diagonal(e,r){if(e??(e=1),r??(r=2),e===r||e<=0||e>this.shape.length||this.shape[e-1]!==this.shape[r-1])return;let i=new Array(this.shape[e-1]),n=this.data,a=this.shape[e-1];for(let s=0;s<a;s++)i[s]=n[s*a+s];return i}trace(e,r){if(this.rank!==2)return;let[i,n]=this.shape;if(i!==n)return;let a=this.data,s=new Array(i);for(let o=0;o<i;o++)s[o]=a[o*i+o];return this.field.addn(...s)}reshape(...e){return Bu(this.ce,{dtype:this.dtype,shape:e,rank:e.length,data:this.data})}flatten(){return this.data}upcast(e){let r=this.field.cast(this.data,e);if(r===void 0)throw Error(`Cannot cast tensor to ${e}`);return Bu(this.ce,{dtype:e,shape:this.shape,rank:this.rank,data:r})}transpose(e,r,i){if(this.rank!==2)return;if(e??(e=1),r??(r=2),e===r)return this;if(e<=0||e>2||r<=0||r>2)return;let[n,a]=this.shape,s=this.data;i&&(s=s.map(c=>i(c)));let o=0,l=new Array(n*a),u=a;for(let c=0;c<a;c++)for(let h=0;h<n;h++)l[o++]=s[h*u+c];return Bu(this.ce,{dtype:this.dtype,shape:[a,n],rank:2,data:l})}conjugateTranspose(e,r){let i=this.field.conjugate.bind(this.field);return this.transpose(e,r,i)}determinant(){if(this.rank!==2)return;let[e,r]=this.shape;if(e!==r)return;if(e===1)return this.data[0];let i=this.field.add.bind(this.field),n=this.field.mul.bind(this.field),a=this.field.neg.bind(this.field);if(e===2){let[f,v,y,x]=this.data;return i(n(f,x),a(n(v,y)))}let s=this.field.addn.bind(this.field),o=this.field.muln.bind(this.field);if(e===3){let[f,v,y,x,g,b,k,w,N]=this.data;return s([o(f,g,N),o(v,b,k),o(y,x,w),a(o(y,g,k)),a(o(v,x,N)),a(o(f,b,w))])}let l=this.shape[0],u=!1,c=this.field.div.bind(this.field),h=this.field.sub.bind(this.field),p=new Array(l).fill(0).map((f,v)=>v),d=[...this.data];for(let f=0;f<l;f++){let v=p[f-1];if(this.at(v,f)===0){let g;for(g=f+1;g<l;g++)if(this.at(p[g],f)!==0){v=p[g],p[g-1]=p[f-1],p[f-1]=v,u=!u;break}if(g===l)return this.at(v,f)}let y=this.at(v,f),x=f===0?1:this.at(p[f-2],f-2);for(let g=f+1;g<l;g++){let b=p[g-1];for(let k=f+1;k<l;k++)d[b][k]=c(h(n(d[b][k],y),n(d[b][f],d[v][k])),x)}}let m=d[p[l-1]][l-1];return u?this.field.neg(m):m}inverse(){if(this.rank!==2)return;let[e,r]=this.shape;if(e!==r)return;if(e===2){let[p,d,m,f]=this.data,v=this.determinant();if(v===void 0||this.field.isZero(v))return;let y=this.field.div.bind(this.field),x=this.field.neg.bind(this.field),g=[y(f,v),x(y(d,v)),x(y(m,v)),y(p,v)];return Bu(this.ce,{dtype:this.dtype,shape:[r,r],rank:2,data:g})}let i=this.shape[0],n=this.field.div.bind(this.field),a=this.field.sub.bind(this.field),s=this.field.mul.bind(this.field),o=this.array,l=new Array(i).fill(0).map((p,d)=>{let m=new Array(i).fill(0);return m[d]=1,m}),u=o.map((p,d)=>[...p,...l[d]]),c=new Array(i).fill(0).map((p,d)=>d);for(let p=0;p<i;p++){let d=c[p-1];if(this.at(d,p)===0){let v;for(v=p+1;v<i;v++)if(this.at(c[v],p)!==0){d=c[v],c[v-1]=c[p-1],c[p-1]=d;break}if(v===i)return}let m=this.at(d,p),f=p===0?1:this.at(c[p-2],p-2);for(let v=p+1;v<i;v++){let y=c[v-1];for(let x=p+1;x<i*2;x++)u[y][x]=a(u[y][x],s(n(s(u[y][p],u[d][x]),m),f))}}for(let p=i-1;p>=0;p--){let d=u[c[p],p];for(let m=0;m<p;m++){let f=c[m];for(let v=i;v<i*2;v++)u[f][v]=a(u[f][v],s(n(s(u[f][p],u[p][v]),d),d))}for(let m=i;m<i*2;m++)u[p][m]=n(u[p][m],d)}let h=u.map(p=>p.slice(i));return Bu(this.ce,{dtype:this.dtype,shape:[r,r],rank:2,data:h})}pseudoInverse(){}adjugateMatrix(){}minor(e,r){}map1(e,r){return Bu(this.ce,{dtype:this.dtype,shape:this.shape,rank:this.rank,data:this.data.map(i=>e(i,r))})}map2(e,r){let i=r.data;return Bu(this.ce,{dtype:this.dtype,shape:this.shape,rank:this.rank,data:this.data.map((n,a)=>e(n,i[a]))})}add(e){return $h.broadcast(this.field.add.bind(this.field),this,e)}subtract(e){return $h.broadcast(this.field.sub.bind(this.field),this,e)}multiply(e){return $h.broadcast(this.field.mul.bind(this.field),this,e)}divide(e){return $h.broadcast(this.field.div.bind(this.field),this,e)}power(e){return $h.broadcast(this.field.pow.bind(this.field),this,e)}equals(e){if(this.rank!==e.rank||!this.shape.every((a,s)=>a===e.shape[s]))return!1;let r=this.field.equals.bind(this.field),i=this.field.cast.bind(this.field),n=this.dtype;return this.dtype!==e.dtype?!!this.data.every((a,s)=>r(a,i(e.data[s],n))):this.data.every((a,s)=>r(a,e.data[s]))}};function B8e(t){let e=new Array(t.length);for(let r=t.length-1,i=1;r>=0;r--)e[r]=i,i*=t[r];return e}var O8e=class extends Yf{constructor(e,r){super(e,r),this.dtype="float64",this.data=r.data}get isZero(){return this.data.every(e=>e===0)}},F8e=class extends Yf{constructor(e,r){super(e,r),this.dtype="complex128",this.data=r.data}},P8e=class extends Yf{constructor(e,r){super(e,r),this.dtype="bool",this.data=r.data}},R8e=class extends Yf{constructor(e,r){super(e,r),this.dtype="expression",this.data=r.data}};function Bu(t,e){let r=e.dtype;return r==="float64"||r==="float32"||r==="uint8"||r==="int32"?new O8e(t,e):r==="bool"?new P8e(t,e):r==="complex64"||r==="complex128"?new F8e(t,e):new R8e(t,e)}function z0(t,e){if(t.operator==="Negate"&&e.operator==="Negate")return z0(t.op1,e.op1);let r=t.engine;if(t.operator==="Negate")return z0(t.op1,e).neg();if(e.operator==="Negate")return z0(t,e.op1).neg();if(t.operator==="Divide"&&e.operator==="Divide"){let i=t.op2.mul(e.op2);return z0(t.op1,e.op1).div(i)}return t.operator==="Divide"?z0(t.op1,e).div(t.op2):e.operator==="Divide"?z0(t,e.op1).div(e.op2):t.operator==="Add"?Cs(...t.ops.map(i=>z0(i,e))):e.operator==="Add"?Cs(...e.ops.map(i=>z0(t,i))):new Eu(r,[t,e]).asExpression()}function l5(t,e){if(e.length===0)return null;if(e.length===1)return e[0];if(e.length===2)return z0(e[0],e[1]);let r=l5(t,e.slice(1));return r===null?null:z0(e[0],r)}var Kf=[[1],[1,1],[1,2,1],[1,3,3,1],[1,4,6,4,1],[1,5,10,10,5,1],[1,6,15,20,15,6,1],[1,7,21,35,35,21,7,1],[1,8,28,56,70,56,28,8,1]];function gF(t,e){for(;t>=Kf.length;){let r=Kf.length,i=[1],n=Kf[r-1];for(let a=1;a<r;a++)i[a]=n[a-1]+n[a];i[r]=1,Kf.push(i)}return Kf[t][e]}function j8e(t){let e=t.reduce((i,n)=>i+n,0),r=1;for(let i=0;i<t.length;i+=1)r*=gF(e,t[i]),e-=t[i];return r}function*vF(t,e){if(t===1){yield[e];return}for(let r=0;r<=e;r+=1)for(let i of vF(t-1,e-r))yield[r,...i]}function t9(t,e){let r=t.engine;if(e<0){let s=t9(t,-e);return s?s.inv():null}if(e===0)return r.One;if(e===1)return B0(t);if(t.operator==="Negate"&&Number.isInteger(e)){let s=e%2===0?1:-1,o=t9(t.op1,e);return o===null?null:s>0?o:o.neg()}if(t.operator,t.operator!=="Add")return null;let i=t.ops,n=vF(i.length,e),a=[];for(let s of n){let o=[r.number(j8e(s))];for(let l=0;l<s.length;l+=1)s[l]!==0&&(s[l]===1?o.push(i[l]):o.push(i[l].pow(s[l])));a.push(Cl(...o))}return Cs(...a)}function yF(t,e,r){var n;let i=null;if(e==="Divide"){let a=B0(r[0]);return a===null?null:a.operator==="Add"?Cs(...a.ops.map(s=>s.div(r[1]))):t._fn("Divide",[a,r[1]])}if(e==="Multiply")return l5(t,r);if(e==="Negate")return((n=B0(r[0]))==null?void 0:n.neg())??null;if(e==="Add")return Cs(...r.map(a=>B0(a)??a));if(e==="Power"){let a=Bn(r[1]);i=a!==null?t9(r[0],a):null}return i}function B0(t){return t=t==null?void 0:t.canonical,!t||typeof t.operator!="string"?null:Vc(t.operator)?t.engine._fn(t.operator,t.ops.map(e=>B0(e)??e)):yF(t.engine,t.operator,t.ops??[])}function q8e(t){if(!t.operator||!t.ops)return null;let e=t.engine,r=t.ops.map(n=>n.ops?yF(e,n.operator,n.ops)??n:n),i=t.engine.function(t.operator,r);return B0(i)??i}function U8e(t){let e=-1;for(;t.operator==="Negate";)t=t.op1,e=-e;return e===1?t:t.isNumberLiteral?t.neg():t.engine._fn("Negate",[t])}function Xf(t){let e=-1;for(;t.operator==="Negate";)t=t.op1,e=-e;if(e===1)return t;if(t.numericValue!==null)return t.neg();let r=t.engine;return t.operator==="Subtract"?t.op2.sub(t.op1):t.operator==="Add"?Cs(...t.ops.map(i=>Xf(i))):t.operator==="Multiply"?bF(r,t.ops):t.operator==="Divide"?Xf(t.op1).div(t.op2):r._fn("Negate",[t])}function bF(t,e){if(e.length===0)return t.NegativeOne;if(e.length===1)return Xf(e[0]);let r=[],i=!1;for(let n of e)!i&&n.operator==="Negate"?(i=!0,n.op1.is(1)||r.push(n.op1)):r.push(n);if(!i){r=[];for(let n of e)i||n.numericValue===null&&!n.isInteger?r.push(n):(i=!0,n.is(-1)||r.push(n.neg()))}if(i)return t._fn("Multiply",r.sort(ks));if(!i){r=[];for(let n of e)i||n.numericValue===null||!n.isNumber?r.push(n):(i=!0,n.is(-1)||r.push(n.neg()))}return i?t._fn("Multiply",r.sort(ks)):t._fn("Negate",[t._fn("Multiply",[...e].sort(ks))])}function Wc(t,e){let r=t.engine;if(!t.isValid||!e.isValid)return r._fn("Divide",[t,e]);if(t.isNaN||e.isNaN)return r.NaN;if(e.is(0))return t.is(0)?r.NaN:r.ComplexInfinity;if(t.is(0))return r.Zero;if(e.is(0)===!1&&(t.symbol!==null&&t.symbol===e.symbol&&t.isConstant||t.isSame(e)))return r.One;if(t.operator==="Negate"&&e.operator==="Negate"&&(t=t.op1,e=e.op1),t.operator==="Divide"&&e.operator==="Divide")return Wc(oo(r,[t.op1,e.op2]),oo(r,[t.op2,e.op1]));if(t.operator==="Divide")return Wc(t.op1,oo(r,[t.op2,e]));if(e.operator==="Divide")return Wc(oo(r,[t,e.op2]),e.op1);if(e.is(1))return t;if(e.is(-1))return t.neg();if(t.is(1))return e.inv();if(e.isInfinity)return t.isInfinity?r.NaN:r.Zero;if(t.operator==="Sqrt"&&e.operator==="Sqrt"){let c=Bn(t.op1),h=Bn(e.op1);if(c!==null&&h!==null)return r.number(r._numericValue({radical:c*h,rational:[1,h]}))}else if(t.operator==="Sqrt"){let c=Bn(t.op1),h=Bn(e);if(c!==null&&h!==null)return r.number(r._numericValue({radical:c,rational:[1,h]}))}else if(e.operator==="Sqrt"){let c=Bn(t),h=Bn(e.op1);if(c!==null&&h!==null)return r.number(r._numericValue({radical:h,rational:[c,h]}))}let i=t.numericValue,n=e.numericValue;if(i!==null&&n!==null){if(typeof i!="number"&&i.im!==0||typeof n!="number"&&n.im!==0)return r._fn("Divide",[t,e]);if(typeof i=="number"&&Number.isInteger(i)&&typeof n=="number"&&Number.isInteger(n))return r.number([i,n]);if(typeof i=="number"&&Number.isInteger(i)){if(i===0)return r.Zero;if(typeof n!="number"&&ur(n.type,"integer")){let c=n.bignumRe;if(c!==void 0){if(c.isInteger())return r.number([Rs(i),Rs(c)])}else{let h=n.re;if(Number.isInteger(h))return r.number([i,h])}}}return r._fn("Divide",[t,e])}let[a,s]=t.toNumericValue();if(a.isZero)return r.Zero;let[o,l]=e.toNumericValue();if(o.isZero)return r.NaN;let u=a.div(o);return u.isOne?l.is(1)?s:r._fn("Divide",[s,l]):u.isNegativeOne?l.is(1)?s.neg():r._fn("Divide",[s.neg(),l]):u.isExact?s.is(1)&&l.is(1)?r.number(u):l.is(1)?oo(r,[r.number(u),s]):r._fn("Divide",[oo(r,[r.number(u.numerator),s]),oo(r,[r.number(u.denominator),l])]):r._fn("Divide",[t,e])}function r9(t,e){let r=t.engine;if(t=t.canonical,typeof e!="number"&&(e=e.canonical),t.isNaN)return r.NaN;if(typeof e=="number"){if(isNaN(e))return r.NaN;if(t.is(0))return e===0||!isFinite(e)?r.NaN:t;if(e===1)return t;if(e===-1)return t.neg();if(e===0)return r.NaN;if(t.isNumberLiteral){let n=t.numericValue;if(typeof n=="number"){if(Number.isInteger(n)&&Number.isInteger(e))return r.number(r._numericValue({rational:[n,e]}))}else if(n.isExact&&Number.isInteger(e))return r.number(n.asExact.div(e))}}else{if(e.isNaN)return r.NaN;if(t.is(0))return e.is(0)||e.isFinite===!1?r.NaN:r.Zero;if(e.is(1))return t;if(e.is(-1))return t.neg();if(e.is(0))return r.NaN;if(t.isNumberLiteral&&e.isNumberLiteral){let n=t.numericValue,a=e.numericValue;if(typeof n=="number"&&typeof a=="number"&&Number.isInteger(n)&&Number.isInteger(a))return r.number(r._numericValue({rational:[n,a]}));if(typeof n=="number"&&Number.isInteger(n)&&typeof a!="number"){if(a.isExact)return r.number(r._numericValue(n).div(a.asExact))}else if(typeof a=="number"&&Number.isInteger(a)&&typeof n!="number"){if(n.isExact)return r.number(n.asExact.div(a))}else if(typeof n!="number"&&typeof a!="number"&&n.isExact&&a.isExact)return r.number(n.asExact.div(a.asExact))}}let i=new Eu(r,[t]);return i.div(typeof e=="number"?r._numericValue(e):e),i.asRationalExpression()}function oo(t,e){let r=1,i=[];for(let a of e){let[s,o]=V8e(a);r*=o,i.push(s)}i=i.filter(a=>!a.is(1));let n=[];for(let a=0;a<i.length;a++){let s=i[a];if(a+1>=i.length){n.push(s);continue}let o=i[a+1];if(s.isNumberLiteral){if(o.operator==="Sqrt"&&o.op1.isNumberLiteral&&o.op1.type.matches("finite_integer")){let l=o.op1.numericValue;if(typeof l!="number"&&(l=l.re),l>=en){n.push(s);continue}if(s.type.matches("finite_rational")){let u=s.numericValue,[c,h]=typeof u=="number"?[u,1]:[u.numerator.re,u.denominator.re];n.push(t.number(t._numericValue({rational:[c,h],radical:l}))),a++;continue}}else if(o.isNumberLiteral&&o.numericValue instanceof us){let l=o.numericValue;if(l instanceof Ms&&Ml(l.rational)&&l.radical!==1){let u=Hc(s);if(u){n.push(t.number(t._numericValue({rational:u,radical:l.radical}))),a++;continue}}else if(l.im===1){let u=s.numericValue;if(typeof u=="number"){n.push(t.number(t.complex(0,u))),a++;continue}else if(u.im===0){if(Number.isInteger(u.re)){n.push(t.number(t.complex(0,u.re))),a++;continue}else if(!u.isExact){n.push(t.number(t.complex(0,u.re))),a++;continue}}}}}n.push(s)}return r<0?n.length===0?t.number(-1):n.length===1?n[0].neg():bF(t,n):n.length===0?t.number(1):n.length===1?n[0]:t._fn("Multiply",[...n].sort(ks))}function V8e(t){let e=1;for(;t.operator==="Negate";)e=-e,t=t.op1;return t.isNumberLiteral&&t.isNegative&&(e=-e,t=t.neg()),[t,e]}function Cl(...t){if(t.length>0,t.length===1)return t[0];let e=t[0].engine,r=l5(e,t);if(r){if(r.operator!=="Multiply")return r;t=r.ops}return new Eu(e,t).asRationalExpression()}function G8e(...t){t.length>0;let e=t[0].engine;t=t.map(i=>i.N());let r=l5(e,t);if(r){if(r.operator!=="Multiply")return r;t=r.ops}return new Eu(e,t).asExpression({numericApproximation:!0})}var i9=class UZ extends us{constructor(e,r){if(super(),this.bignum=r,typeof e=="number")this.decimal=r(e),this.im=0;else if(e instanceof Ui)this.decimal=e,this.im=0;else{let i=r(e.re??0);this.decimal=i,this.im=e.im??0}this.decimal.isNaN()&&(this.im=NaN),this.decimal.isNaN(),isNaN(this.im)}get type(){return this.isNaN?"number":this.isComplexInfinity?"complex":this.im!==0?this.decimal.isZero()?"imaginary":"finite_complex":this.decimal.isFinite()?this.decimal.isInteger()?"finite_integer":"finite_real":"non_finite_number"}get isExact(){return this.im===0&&this.decimal.isInteger()}get asExact(){if(this.isExact)return this._makeExact(Rs(this.decimal))}toJSON(){return this.isNaN?"NaN":this.isPositiveInfinity?"PositiveInfinity":this.isNegativeInfinity?"NegativeInfinity":this.isComplexInfinity?"ComplexInfinity":this.im===0?i5(this.decimal)?this.decimal.toNumber():{num:u5(this.decimal)}:i5(this.decimal)?["Complex",kl(this.decimal.toNumber()),kl(this.im)]:["Complex",{num:u5(this.decimal)},kl(this.im)]}toString(){if(this.isZero)return"0";if(this.isOne)return"1";if(this.isNegativeOne)return"-1";if(this.im===0)return u5(this.decimal);if(this.decimal.isZero())return this.im===1?"i":this.im===-1?"-i":`${Do(this.im)}i`;if(this.isComplexInfinity)return"~oo";let e="";return this.im===1?e="+ i":this.im===-1?e="- i":this.im>0?e=`+ ${this.im}i`:e=`- ${-this.im}i`,`(${u5(this.decimal)} ${e})`}clone(e){return new UZ(e,this.bignum)}_makeExact(e){return new Ms(e,r=>this.clone(r),this.bignum)}get re(){return this.decimal.toNumber()}get bignumRe(){return this.decimal}get numerator(){return this}get denominator(){return this._makeExact(1)}get isNaN(){return this.decimal.isNaN()}get isPositiveInfinity(){return this.im===0&&!this.decimal.isFinite()&&!this.decimal.isNaN()&&this.decimal.isPositive()}get isNegativeInfinity(){return this.im===0&&!this.decimal.isFinite()&&!this.decimal.isNaN()&&this.decimal.isNegative()}get isComplexInfinity(){return!Number.isFinite(this.im)&&!Number.isNaN(this.im)}get isZero(){return this.im===0&&this.decimal.isZero()}isZeroWithTolerance(e){if(this.im!==0)return!1;let r=typeof e=="number"?this.bignum(e):e;return this.decimal.abs().lte(r)}get isOne(){return this.im===0&&this.decimal.eq(1)}get isNegativeOne(){return this.im===0&&this.decimal.eq(-1)}sgn(){if(this.im===0){if(this.decimal.isZero())return 0;if(this.decimal.isPositive())return 1;if(this.decimal.isNegative())return-1}}N(){return this}neg(){return this.isZero?this:this.clone({re:this.decimal.neg(),im:-this.im})}inv(){if(this.isOne)return this;if(this.isNegativeOne)return this;if(this.im===0)return this.clone(this.decimal.pow(-1));let e=Math.hypot(this.re,this.im),r=this.decimal.mul(this.decimal).add(this.im*this.im).sqrt();return this.clone({re:this.decimal.div(r),im:-this.im/e})}add(e){return typeof e=="number"?e===0?this:this.clone({re:this.decimal.add(e),im:this.im}):e.isZero?this:this.isZero?this.clone(e):this.clone({re:this.decimal.add(e.bignumRe??e.re),im:this.im+e.im})}sub(e){return this.add(e.neg())}mul(e){if(this.isZero)return this;if(e===1)return this;if(e===-1)return this.neg();if(e===0)return this.clone(0);if(this.isOne)return typeof e=="number"||e instanceof Ui?this.clone(e):this.clone({re:e.bignumRe??e.re,im:e.im});if(typeof e=="number")return this.im===0?this.clone(this.decimal.mul(e)):this.clone({re:this.decimal.mul(e),im:this.im*e});if(e instanceof Ui)return this.im===0?this.clone(this.decimal.mul(e)):this.clone({re:this.decimal.mul(e),im:this.im*e.toNumber()});if(this.isNegativeOne){let r=e.neg();return this.clone({re:r.bignumRe??r.re,im:r.im})}return e.isOne?this:e.isNegativeOne?this.neg():e.isZero?this.clone(0):this.im===0&&e.im===0?this.clone(this.decimal.mul(e.bignumRe??e.re)):this.clone({re:this.decimal.mul(e.bignumRe??e.re).sub(this.im*e.im),im:this.re*e.im+this.im*e.re})}div(e){if(typeof e=="number")return e===1?this:e===-1?this.neg():e===0?this.clone(NaN):this.clone({re:this.decimal.div(e),im:this.im/e});if(e.isOne)return this;if(e.isNegativeOne)return this.neg();if(e.isZero)return this.clone(this.isZero?NaN:1/0);if(this.im===0&&e.im===0)return this.clone(this.decimal.div(e.bignumRe??e.re));let[r,i]=[this.re,this.im],[n,a]=[e.re,e.im],s=n*n+a*a,o=e.bignumRe??this.bignum(e.re),l=o.mul(o).add(a*a);return this.clone({re:this.decimal.mul(o).add(i*a).div(l),im:(i*n-r*a)/s})}pow(e){if(this.isNaN)return this;if(typeof e=="number"&&isNaN(e))return this.clone(NaN);if(e instanceof us){if(e.isNaN)return this.clone(NaN);if(e.isZero)return this.clone(1);if(e.isOne)return this;e.im?e={re:e.re,im:e.im}:e=e.re}if(typeof e=="object"&&("re"in e||"im"in e)){let[l,u]=[(e==null?void 0:e.re)??0,(e==null?void 0:e.im)??0];if(Number.isNaN(u)||Number.isNaN(l))return this.clone(NaN);if(u===0)e=l;else{if(this.im===1/0)return this.clone(NaN);if(this.isNegativeInfinity)return this.clone(0);if(this.isPositiveInfinity)return this.clone({im:1/0});let c=this.pow(l),h=this.decimal.ln().mul(u),p=this.clone({re:h.cos(),im:gd(h.sin().toNumber())});return c.mul(p)}}if(this.isPositiveInfinity){if(e===-1)return this.clone(0);if(e===1/0)return this.clone(1/0);if(e===-1/0)return this.clone(0)}else if(this.isNegativeInfinity&&e===1/0)return this.clone(NaN);if((e===1/0||e===-1/0)&&(this.isOne||this.isNegativeOne))return this.clone(NaN);if(e===1)return this;if(e===-1)return this.inv();if(e===0)return this.clone(1);if(this.isZero){if(e>0)return this;if(e<0)return this.clone({im:1/0})}if(e<0)return this.pow(-e).inv();if(this.im===0)return this.clone(this.decimal.pow(e));let r=this.decimal,i=this.im,n=r.mul(r).add(i*i).sqrt(),a=Ui.atan2(i,r),s=n.pow(e),o=a.mul(e);return this.clone({re:s.mul(o.cos()),im:gd(s.mul(o.sin()).toNumber())})}root(e){if(!Number.isInteger(e))return this._makeExact(NaN);if(e===0)return this._makeExact(NaN);if(e===1)return this;if(this.isZero)return this;if(this.isOne)return this;if(this.isNegativeOne)return this;if(this.im===0)return this.decimal.isNegative()?this._makeExact(NaN):e===2?this.clone(this.decimal.sqrt()):e===3?this.clone(this.decimal.cbrt()):this.clone(this.decimal.pow(1/e));let r=this.decimal,i=this.im,n=r.mul(r).add(i*i).sqrt(),a=Ui.atan2(i,r),s=n.pow(1/e),o=a.div(e);return this.clone({re:s.mul(o.cos()),im:gd(s.mul(o.sin()).toNumber())})}sqrt(){if(this.isZero||this.isOne)return this;if(this.im!==0){let e=this.decimal,r=this.im,i=e.mul(e).add(r*r).sqrt(),n=e.add(i).div(2).sqrt(),a=gd(Math.sign(r)*i.sub(e).div(2).sqrt().toNumber());return this.clone({re:n,im:a})}return this.decimal.isPositive()?this.clone(this.decimal.sqrt()):this.clone({im:Math.sqrt(-this.re)})}gcd(e){if(this.isZero)return e;if(e.isZero)return this;if(this.im!==0||e.im!==0)return this._makeExact(NaN);if(!this.decimal.isInteger())return this._makeExact(1);let r=this.bignum(e.bignumRe??e.re);if(!r.isInteger())return this._makeExact(1);let i=this.decimal;for(;!r.isZero();){let n=r;r=i.mod(r),i=n}return this.clone(i.abs())}abs(){return this.im===0?this.decimal.isPositive()?this:this.clone(this.decimal.neg()):this.clone(this.decimal.pow(2).add(this.im**2).sqrt())}ln(e){if(this.isZero)return this._makeExact(NaN);if(this.isNegativeInfinity)return this._makeExact(NaN);if(this.isPositiveInfinity)return this._makeExact(1/0);if(this.im===0)return this.decimal.isNegative()?this._makeExact(NaN):this.isOne?this._makeExact(0):this.isNegativeOne?this.clone({im:Math.PI}):e===void 0?this.clone(this.decimal.ln()):this.clone(this.decimal.log(e));let r=this.decimal,i=this.im,n=r.mul(r).add(i*i).sqrt(),a=Ui.atan2(i,r).toNumber();return e===void 0?this.clone({re:n.ln(),im:a}):this.clone({re:n.log(e),im:a})}exp(){if(this.isNaN)return this._makeExact(NaN);if(this.isZero)return this._makeExact(1);if(this.isNegativeInfinity)return this._makeExact(0);if(this.isPositiveInfinity)return this._makeExact(1/0);if(this.im!==0){let e=this.decimal.exp();return this.clone({re:e.mul(gd(Math.cos(this.im))),im:gd(e.mul(Math.sin(this.im)).toNumber())})}return this.clone(this.decimal.exp())}floor(){return this.isNaN||this.im!==0?this._makeExact(NaN):this.decimal.isInteger()?this:this._makeExact(Rs(this.decimal.floor()))}ceil(){return this.isNaN||this.im!==0?this._makeExact(NaN):this.decimal.isInteger()?this:this._makeExact(Rs(this.decimal.ceil()))}round(){return this.isNaN||this.im!==0?this._makeExact(NaN):this.decimal.isInteger()?this:this._makeExact(Rs(this.decimal.round()))}eq(e){return this.isNaN?!1:typeof e=="number"?this.im===0&&this.decimal.eq(e):e.isNaN?!1:Number.isFinite(this.im)?this.decimal.eq(e.bignumRe??e.re)&&this.im-e.im===0:!Number.isFinite(e.im)}lt(e){return this.im,typeof e=="number"?this.decimal.lt(e):this.decimal.lt(e.bignumRe??e.re)}lte(e){return this.im,typeof e=="number"?this.decimal.lte(e):this.decimal.lte(e.bignumRe??e.re)}gt(e){return this.im,typeof e=="number"?this.decimal.gt(e):this.decimal.gt(e.bignumRe??e.re)}gte(e){return this.im,typeof e=="number"?this.decimal.gte(e):this.decimal.gte(e.bignumRe??e.re)}};function u5(t){let e=t.toString();if(t.isInteger()&&e.includes("e")){let r=t.toFixed(),i=r.match(/0+$/);if((i?i[0].length:0)<=5)return r}return e}function gd(t){return Math.abs(t)<=1e-14?0:t}var n9=class VZ extends us{constructor(e,r){if(super(),this.bignum=r,typeof e=="number")this.decimal=e,this.im=0;else if(e instanceof Ui)this.decimal=e.toNumber(),this.im=0;else{let i=e.re===void 0?0:e.re instanceof Ui?e.re.toNumber():e.re;this.decimal=i,this.im=e.im??0,isFinite(this.im)||(this.decimal=this.im)}isNaN(this.im)}_makeExact(e){return new Ms(e,r=>this.clone(r),this.bignum)}get type(){return this.isNaN?"number":this.isComplexInfinity?"complex":this.im!==0?this.decimal===0?"imaginary":"finite_complex":Number.isFinite(this.decimal)?Number.isInteger(this.decimal)?"finite_integer":"finite_real":"non_finite_number"}get isExact(){return this.im===0&&Number.isInteger(this.decimal)}get asExact(){if(this.isExact)return this._makeExact(this.decimal)}toJSON(){return this.isNaN?"NaN":this.isPositiveInfinity?"PositiveInfinity":this.isNegativeInfinity?"NegativeInfinity":this.im===0?kl(this.decimal):["Complex",kl(this.decimal),kl(this.im)]}toString(){if(this.isZero)return"0";if(this.isOne)return"1";if(this.isNegativeOne)return"-1";if(this.im===0)return Do(this.decimal);if(this.decimal===0)return this.im===1?"i":this.im===-1?"-i":`${Do(this.im)}i`;if(this.isComplexInfinity)return"~oo";let e="";return this.im===1?e="+ i":this.im===-1?e="- i":this.im>0?e=`+ ${Do(this.im)}i`:e=`- ${Do(-this.im)}i`,`(${Do(this.decimal)} ${e})`}clone(e){return new VZ(e,this.bignum)}get re(){return this.decimal}get bignumRe(){}get numerator(){return this}get denominator(){return this._makeExact(1)}get isNaN(){return Number.isNaN(this.decimal)}get isPositiveInfinity(){return!Number.isFinite(this.decimal)&&this.decimal>0&&this.im===0}get isNegativeInfinity(){return!Number.isFinite(this.decimal)&&this.decimal<0&&this.im===0}get isComplexInfinity(){return!Number.isFinite(this.im)&&!Number.isNaN(this.im)}get isZero(){return this.im===0&&this.decimal===0}isZeroWithTolerance(e){if(this.im!==0)return!1;let r=e instanceof Ui?e.toNumber():e;return Math.abs(this.decimal)<r}get isOne(){return this.im===0&&this.decimal===1}get isNegativeOne(){return this.im===0&&this.decimal===-1}sgn(){if(!(this.im!==0||!Number.isFinite(this.decimal)))return Math.sign(this.decimal)}N(){return this}neg(){return this.isNaN?this._makeExact(NaN):this.isZero?this:this.clone({re:-this.decimal,im:-this.im})}inv(){if(this.isNaN)return this._makeExact(NaN);if(this.isOne)return this;if(this.isNegativeOne)return this;if(this.im===0)return this.clone(1/this.decimal);let e=Math.hypot(this.re,this.im);return this.clone({re:this.decimal/e,im:-this.im/e})}add(e){return this.isNaN?this._makeExact(NaN):typeof e=="number"?e===0?this:this.clone({re:this.decimal+e,im:this.im}):e.isZero?this:this.isZero?this.clone({re:e.bignumRe??e.re,im:e.im}):this.clone({re:this.decimal+e.re,im:this.im+e.im})}sub(e){return this.add(e.neg())}mul(e){if(this.isNaN)return this._makeExact(NaN);if(this.isZero)return this;if(e instanceof Ui&&(e=e.toNumber()),e===1)return this;if(e===-1)return this.neg();if(e===0)return this.clone(0);if(this.isOne)return typeof e=="number"||e instanceof Ui?this.clone(e):this.clone({re:e.bignumRe??e.re,im:e.im});if(typeof e=="number")return this.im===0?this.clone(this.decimal*e):this.clone({re:this.decimal*e,im:this.im*e});if(this.isNegativeOne){let r=e.neg();return this.clone({re:r.bignumRe??r.re,im:r.im})}return e.isOne?this:e.isNegativeOne?this.neg():e.isZero?this.clone(0):this.im===0&&e.im===0?this.clone(this.decimal*e.re):this.clone({re:this.decimal*e.re-this.im*e.im,im:this.re*e.im+this.im*e.re})}div(e){if(this.isNaN)return this._makeExact(NaN);if(typeof e=="number")return e===1?this:e===-1?this.neg():e===0?this.clone(NaN):this.clone({re:this.decimal/e,im:this.im/e});if(e.isOne)return this;if(e.isNegativeOne)return this.neg();if(e.isZero)return this.clone(this.isZero?NaN:1/0);if(this.im===0&&e.im===0)return this.clone(this.decimal/e.re);let[r,i]=[this.decimal,this.im],[n,a]=[e.re,e.im],s=n*n+a*a;return this.clone({re:(r*n+i*a)/s,im:(i*n-r*a)/s})}pow(e){if(this.isNaN)return this._makeExact(NaN);if(typeof e=="number"&&isNaN(e))return this.clone(NaN);if(e instanceof us){if(e.isNaN)return this.clone(NaN);if(e.isZero)return this.clone(1);if(e.isOne)return this;e.im?e={re:e.re,im:e.im}:e=e.re}if(typeof e=="object"&&("re"in e||"im"in e)){let[l,u]=[(e==null?void 0:e.re)??0,(e==null?void 0:e.im)??0];if(Number.isNaN(u)||Number.isNaN(l))return this.clone(NaN);if(u===0)e=l;else{if(this.im===1/0)return this.clone(NaN);if(this.isNegativeInfinity)return this.clone(0);if(this.isPositiveInfinity)return this.clone({im:1/0});let c=this.pow(l).re,h=Math.log(this.decimal)*u;return this.clone({re:xF(c*Math.cos(h)),im:xF(c*Math.sin(h))})}}if(this.isPositiveInfinity){if(e===-1)return this.clone(0);if(e===1/0)return this.clone(1/0);if(e===-1/0)return this.clone(0)}else if(this.isNegativeInfinity&&e===1/0)return this.clone(NaN);if((e===1/0||e===-1/0)&&(this.isOne||this.isNegativeOne))return this.clone(NaN);if(e===1)return this;if(e===-1)return this.inv();if(e===0)return this.clone(1);if(this.isZero){if(e>0)return this;if(e<0)return this.clone({im:1/0})}if(e<0)return this.clone(1/this.decimal**-e);if(this.im===0)return this.clone(this.decimal**e);let r=this.decimal,i=this.im,n=Math.sqrt(r*r+i*i),a=Math.atan2(i,r),s=n**e,o=a**e;return this.clone({re:s*Math.cos(o),im:s*Math.sin(o)})}root(e){if(this.isNaN)return this._makeExact(NaN);if(e===0)return this.clone(NaN);if(this.isNaN)return this;if(this.isZero)return this;if(this.isOne)return this;if(this.isNegativeOne)return this;if(e===1)return this;if(e===2)return this.sqrt();if(e===3)return this.clone(Math.cbrt(this.decimal));if(this.im===0)return this.decimal<0?e%2===0?this.clone(NaN):this.clone(-Math.pow(-this.decimal,1/e)):this.clone(Math.pow(this.decimal,1/e));let r=this.decimal,i=this.im,n=Math.hypot(r,i),a=Math.atan2(i,r),s=Math.pow(n,1/e),o=a/e;return this.clone({re:s*Math.cos(o),im:s*Math.sin(o)})}sqrt(){if(this.isNaN)return this._makeExact(NaN);if(this.isZero||this.isOne)return this;if(this.im!==0){let e=this.decimal,r=this.im,i=Math.sqrt(e*e+r*r),n=Math.sqrt((e+i)/2),a=Math.sign(r)*Math.sqrt((i-e)/2);return this.clone({re:n,im:a})}return this.decimal>0?this.clone(Math.sqrt(this.decimal)):this.clone({im:Math.sqrt(-this.decimal)})}gcd(e){if(this.isNaN)return this._makeExact(NaN);if(this.isZero)return e;if(e.isZero)return this;if(this.im!==0||e.im!==0)return this._makeExact(NaN);if(!Number.isInteger(this.decimal))return this._makeExact(1);let r=e.re;if(!Number.isInteger(r))return this._makeExact(1);let i=this.decimal;for(;r!==0;){let n=r;r=i%r,i=n}return this.clone(Math.abs(i))}abs(){return this.isNaN?this._makeExact(NaN):this.im===0?this.decimal>0?this:this.clone(-this.decimal):this.clone(Math.sqrt(this.decimal**2+this.im**2))}ln(e){if(this.isNaN)return this._makeExact(NaN);if(this.isZero)return this._makeExact(NaN);if(this.isNegativeInfinity)return this._makeExact(NaN);if(this.isPositiveInfinity)return this._makeExact(1/0);if(this.im===0)return this.decimal<0?this._makeExact(NaN):this.isOne?this._makeExact(0):this.isNegativeOne?this.clone({im:Math.PI}):e===void 0?this.clone(Math.log(this.decimal)):this.clone(Math.log(this.decimal)/Math.log(e));let r=this.decimal,i=this.im,n=Math.hypot(r,i),a=Math.atan2(i,r),s=e===void 0?Math.log(n):Math.log(n)/Math.log(e);return this.clone({re:s,im:a})}exp(){if(this.isNaN)return this._makeExact(NaN);if(this.isZero)return this._makeExact(1);if(this.isNegativeInfinity)return this._makeExact(0);if(this.isPositiveInfinity)return this._makeExact(1/0);if(this.im!==0){let e=Math.exp(this.decimal);return this.clone({re:e*Math.cos(this.im),im:e*Math.sin(this.im)})}return this.clone(Math.exp(this.decimal))}floor(){return this.isNaN||this.im!==0?this._makeExact(NaN):Number.isInteger(this.decimal)?this:this._makeExact(Math.floor(this.decimal))}ceil(){return this.isNaN||this.im!==0?this._makeExact(NaN):Number.isInteger(this.decimal)?this:this._makeExact(Math.ceil(this.decimal))}round(){return this.isNaN||this.im!==0?this._makeExact(NaN):Number.isInteger(this.decimal)?this:this._makeExact(Math.round(this.decimal))}eq(e){return this.isNaN?!1:typeof e=="number"?this.im===0&&this.decimal-e===0:e.isNaN?!1:Number.isFinite(this.im)?this.decimal-e.re===0&&this.im-e.im===0:!Number.isFinite(e.im)}lt(e){return this.im,typeof e=="number"?this.decimal<e:this.decimal<e.re}lte(e){return this.im,typeof e=="number"?this.decimal<=e:this.decimal<=e.re}gt(e){return this.im,typeof e=="number"?this.decimal>e:this.decimal>e.re}gte(e){return this.im,typeof e=="number"?this.decimal>=e:this.decimal>=e.re}};function xF(t){return Math.abs(t)<=1e-14?0:t}var wF=class{constructor(e,r){this.terms=[],this.engine=e;let i=0,n=0,a=[];for(let s of r){if(s.type.is("complex")&&s.isInfinity){this.terms=[{term:e.ComplexInfinity,coef:[]}];return}if(s.isNaN||s.symbol==="Undefined"){this.terms=[{term:e.NaN,coef:[]}];return}let[o,l]=s.toNumericValue();o.isPositiveInfinity?i+=1:o.isNegativeInfinity&&(n+=1),l.is(1)?o.isZero||a.push(o):this.add(o,l)}if(i>0&&n>0){this.terms=[{term:e.NaN,coef:[]}];return}if(i>0){this.terms=[{term:e.PositiveInfinity,coef:[]}];return}if(n>0){this.terms=[{term:e.NegativeInfinity,coef:[]}];return}a.length===1?this.add(a[0],e.One):a.length>0&&MF(e,a).forEach(s=>this.add(s,e.One))}add(e,r){if(r.is(0)||e.isZero)return;if(r.is(1)){let n=this.engine;this.terms.push({coef:[],term:n.number(e)});return}if(r.operator==="Add"){for(let n of r.ops){let[a,s]=n.toNumericValue();this.add(e.mul(a),s)}return}if(r.operator==="Negate"){this.add(e.neg(),r.op1);return}let i=this.find(r);if(i>=0){this.terms[i].coef.push(e);return}r.numericValue===null||r.is(1),this.terms.push({coef:[e],term:r})}find(e){return this.terms.findIndex(r=>r.term.isSame(e))}N(){let e=this.engine,r=this.terms;if(r.length===0)return e.Zero;let i=[],n=[];for(let{coef:s,term:o}of r)if(s.length===0)o.isNumberLiteral?typeof o.numericValue=="number"?n.push(e._numericValue(o.numericValue)):n.push(o.numericValue):i.push(o);else{let l=s.reduce((u,c)=>u.add(c)).N();if(l.isZero)continue;l.eq(1)?i.push(o.N()):l.eq(-1)?i.push(o.N().neg()):i.push(o.N().mul(e.box(l)))}let a=Z8e(e,n);if(!a.isZero){if(i.length===0)return e.box(a);i.push(e.box(a))}return Ou(e,i)}asExpression(){let e=this.engine,r=this.terms;return r.length===0?e.Zero:Ou(e,r.map(({coef:i,term:n})=>{if(i.length===0)return n;let a=MF(e,i);if(a.length===0)return n;if(a.length>1)return oo(e,[Ou(e,a.map(o=>e.box(o))),n]);let s=a[0];return s.isNaN?e.NaN:s.isZero?e.Zero:s.eq(1)?n:s.eq(-1)?n.neg():n.is(1)?e.box(s):n.mul(e.box(s))}))}};function MF(t,e){let r=a=>t.bignum(a),i=a=>new Ms(a,n,r),n=t.precision>d1?a=>new i9(a,r):a=>new n9(a,i);return Ms.sum(e,n,r)}function Z8e(t,e){let r=s=>t.bignum(s),i=s=>new Ms(s,n,r),n=t.precision>d1?s=>new i9(s,r):s=>new n9(s,i),a=Ms.sum(e,n,r);return a.length===0?i(0):a.length===1?a[0].N():a.reduce((s,o)=>s.add(o).N())}function Ou(t,e){var i;if(e=ws(e,"Add"),e=e.filter(n=>n.numericValue===null||!n.is(0)),e.length===0)return t.Zero;if(e.length===1&&!W3(e[0]))return e[0];let r=[];for(let n=0;n<e.length;n++){let a=e[n];if(a.isNumberLiteral){let s=a.numericValue;if(typeof s=="number"||ur(s.type,"real")&&!s.isExact||ur(s.type,"integer")){let o=e[n+1];if(o){let l=(i=G3(o))==null?void 0:i.numericValue;if(l!==void 0){let u=typeof l=="number"?l:l==null?void 0:l.re;if(u!==0){let c=typeof s=="number"?s:s.re;r.push(t.number(t._numericValue({re:c,im:u??0}))),n++;continue}}}}}r.push(a)}return r.length===1?r[0]:t._fn("Add",[...r].sort(G7))}function H8e(t){return t.length===0?"finite_integer":t.length===1?t[0].type:E0(...t.map(e=>e.type.type))}function Cs(...t){return t.length>0,t.every(e=>e.isValid)?new wF(t[0].engine,t).asExpression():t[0].engine._fn("Add",t)}function W8e(...t){return t.length>0,t.every(e=>e.isValid)?(t=t.map(e=>e.isNumberLiteral?e.evaluate():e.N()),new wF(t[0].engine,t).N()):t[0].engine._fn("Add",t)}function Qf(t,e){if(t===e)return!0;if(t.ops)return t.operator!==e.operator||t.nops!==e.nops?!1:t.ops.every((r,i)=>Qf(r,e.ops[i]));if(t.isNumberLiteral){if(!e.isNumberLiteral)return!1;let r=t.numericValue,i=e.numericValue;return r===i?!0:typeof r=="number"?typeof i=="number"?r===i:i.eq(r):r.eq(i)}if(t.string||e.string)return t.string===e.string;if(t.symbol||e.symbol)return t.symbol===e.symbol;if(t.rank!==0){if(t.rank!==e.rank)return!1;for(let r=0;r<t.rank;r++)if(t.shape[r]!==e.shape[r])return!1;return t.tensor.equals(e.tensor)}return!1}function kF(t,e){var n,a,s,o,l,u,c,h,p,d;if((n=t.functionDefinition)!=null&&n.eq){let m=t.functionDefinition.eq(t,t.engine.box(e));if(m!==void 0)return m}if(typeof e!="number"&&((a=e.functionDefinition)!=null&&a.eq)){let m=e.functionDefinition.eq(e,t);if(m!==void 0)return m}t=t.N();let r=typeof e!="number"?e.N():t.engine.box(e);if(t.ops||r.ops){let m=(o=(s=t.functionDefinition)==null?void 0:s.eq)==null?void 0:o.call(s,t,r);return m!==void 0||(m=(u=(l=r.functionDefinition)==null?void 0:l.eq)==null?void 0:u.call(l,r,t),m!==void 0)?m:t.isSame(r)?!0:t.unknowns.length===0&&r.unknowns.length===0?t.isFinite&&r.isFinite?CF(t.sub(r).simplify().N()):t.isNaN||r.isNaN?!1:!!(t.isInfinity&&r.isInfinity&&t.sgn===r.sgn):(t=t.expand().simplify(),r=r.expand().simplify(),Y8e(t,r)?Qf(t,r):void 0)}if(t.symbol){let m=(h=(c=t.symbolDefinition)==null?void 0:c.eq)==null?void 0:h.call(c,r);if(m!==void 0)return m}if(r.symbol){let m=(d=(p=r.symbolDefinition)==null?void 0:p.eq)==null?void 0:d.call(p,t);if(m!==void 0)return m}if(t.symbol&&r.symbol)return t.symbol===r.symbol;let i=t.engine;if(t.isNumberLiteral&&r.isNumberLiteral)return t.isFinite&&r.isFinite?CF(t.sub(r)):t.isNaN||r.isNaN?!1:!!(t.isInfinity&&r.isInfinity&&t.sgn===r.sgn);if(i.ask(i.box(["Equal",t,r])).length>0)return!0;if(i.ask(i.box(["NotEqual",t,r])).length>0)return!1;if(!(t.unknowns.length>0||r.unknowns.length>0))return Qf(t,r)}function c5(t,e){var r,i,n,a,s,o;if(t.isNumberLiteral){if(typeof e!="number"&&typeof e.numericValue=="number"&&(e=e.numericValue),typeof e=="number"){if(e===0){let c=t.sgn;return c===void 0?void 0:c==="zero"?"=":c==="positive"||c==="positive-infinity"?">":c==="negative"||c==="negative-infinity"?"<":c==="non-negative"?">=":c==="non-positive"?"<=":void 0}if(t.isNumberLiteral){let c=t.numericValue;return typeof c=="number"?Math.abs(c-e)<=t.engine.tolerance?"=":c<e?"<":">":c.eq(e)?"=":c.lt(e)?"<":">"}return}if(!e.isNumberLiteral)return;let l=t.numericValue,u=e.numericValue;return typeof l=="number"?u.eq(l)?"=":u.lt(l)?">":"<":l.eq(u)?"=":l.lt(u)?"<":">"}if(typeof e!="number"){if(t.ops||e.ops){if(((i=(r=t.functionDefinition)==null?void 0:r.eq)==null?void 0:i.call(r,t,e))!==void 0)return"=";let l=t.sub(e).N();if(!l.isNumberLiteral)return;if(typeof l.numericValue=="number")return l.numericValue===0?"=":l.numericValue<0?"<":">";let u=t.engine.tolerance;return l.numericValue.isZeroWithTolerance(u)?"=":l.numericValue.lt(0)?"<":">"}if(t.symbol)return t.symbol===e.symbol?"=":((a=(n=t.symbolDefinition)==null?void 0:n.cmp)==null?void 0:a.call(n,e))||(((o=(s=t.symbolDefinition)==null?void 0:s.eq)==null?void 0:o.call(s,e))===!0?"=":void 0);if(t.string)return e.string?t.string===e.string?"=":t.string<e.string?"<":">":void 0;if(t.tensor)return e.tensor&&t.tensor.equals(e.tensor)?"=":void 0}}function CF(t){if(!t.isNumberLiteral)return!1;let e=t.numericValue,r=t.engine;return typeof e=="number"?r.chop(e)===0:e.isZeroWithTolerance(r.tolerance)}function Y8e(t,e){let r=t.unknowns,i=e.unknowns;if(r.length!==i.length)return!1;for(let n of r)if(!i.includes(n))return!1;return!0}function a9(t,e=[]){let r=e.map((s,o)=>!s.symbol||s.symbol==="Nothing"?`_${o+1}`:s.symbol),i=t.unknowns;i.includes("_")&&(t=t.subs({_:"_1"}),i=t.unknowns);let n=r.length;for(let s of i)if(s.startsWith("_")){let o=Number(s.slice(1));o<=r.length&&(t=t.subs({[s]:r[o-1]})),o>n&&(n=o)}for(let s=r.length;s<n;s++)r.push(`_${s+1}`);let a=n;for(;a>0&&r[a-1]===`_${a}`;)i.includes(`_${a}`)||r.pop(),a--;return[t,...r]}function s9(t){let e=t.engine;if(t.symbol){let o=e.lookupFunction(t.symbol);if(o){let l=o.evaluate;return l?u=>l(u,{engine:e})??e._fn(t.symbol,u):u=>e._fn(t.symbol,u)}}let r;t.operator==="Function"?r=a9(t.op1,t.ops.slice(1)):r=a9(t);let[i,...n]=r;e.pushScope();for(let o of n)e.declare(o,{inferred:!0,type:"unknown"});let a=i.canonical;a.bind(),e.popScope();let s=a.scope;return s?n.length===0?()=>{let o=e.swapScope(s);e.resetContext();let l=a.N()??a.evaluate();return e.swapScope(o),l}:o=>{if(o.length>n.length||e.strict&&!o.every(h=>h.isValid))return;if(o.length<n.length){let h=n.slice(o.length).map((d,m)=>e.symbol(`_${m+1}`)),p=h5(e.function("Function",[i,...n]),[...o,...h]).evaluate();return e.function("Function",[p])}o=o.map(h=>h.evaluate());let l=e.swapScope(s);e.resetContext();let u=0;for(let h of n)e.assign(h,o[u++]);let c=a.evaluate();return e.swapScope(l),c.isValid?c:void 0}:()=>a.N()??a.evaluate()}function h5(t,e){var i;return((i=s9(t))==null?void 0:i(e))||t.engine.function("Apply",[t,...e])}function Yc(t){return s9(t)??(e=>t.engine.function("Apply",[t.N(),...e]).N())}function NF(t){let e=t.engine,r=s9(t);return r?i=>{var n;return((n=r([e.number(i)]))==null?void 0:n.value)??NaN}:i=>e.function("Apply",[t.evaluate(),e.number(i)]).value}function SF(t){let e=t.match(/(.+)\((.*)\)/);if(!e)return[t,void 0];let r=e[1],i=e[2].split(",").map(n=>n.trim());return[r,i]}function Jf(t){if(t.operator==="Interval"){let e=t.op1,r=t.op2,i=!1,n=!1;e.operator==="Open"?(i=!0,e=e.op1):e.operator==="Closed"&&(e=e.op1),r.operator==="Open"?(n=!0,r=r.op1):r.operator==="Closed"&&(r=r.op1);let a=e.N(),s=r.N();return!a.isNumberLiteral||!s.isNumberLiteral?void 0:{start:a.re,openStart:i,end:s.re,openEnd:n}}if(t.symbol==="EmptySet")return{start:0,openStart:!0,end:0,openEnd:!0};if(t.symbol==="RealNumbers")return{start:-1/0,openStart:!1,end:1/0,openEnd:!1};if(t.symbol==="NegativeNumbers")return{start:-1/0,openStart:!1,end:0,openEnd:!0};if(t.symbol==="NonPositiveNumbers")return{start:-1/0,openStart:!1,end:0,openEnd:!1};if(t.symbol==="PositiveNumbers")return{start:0,openStart:!0,end:1/0,openEnd:!1};if(t.symbol==="NonNegativeNumbers")return{start:0,openStart:!1,end:1/0,openEnd:!1}}var e2=50,K8e={List:{complexity:8200,signature:"(...any) -> list",type:t=>Mi(`list<${E0(...t.map(e=>e.type.type))}>`),canonical:Q8e,eq:LF,collection:o9()},Set:{complexity:8200,signature:"(...any) -> set",type:t=>Mi(`set<${E0(...t.map(e=>e.type.type))}>`),canonical:J8e,eq:(t,e)=>{if(t.operator!==e.operator||t.nops!==e.nops)return!1;let r=i=>e.ops.some(n=>i.isSame(n));return t.ops.every(r)},collection:{...o9(),at:void 0,indexOf:void 0}},Dictionary:{complexity:8200,signature:"(...(string | tuple<string|symbol, expression>)) -> map",type:t=>Mi(`tuple<${Object.entries(l9(t)).map(([e,r])=>e?`${e}: ${r.type}`:r.type).join(", ")}>`),canonical:(t,{engine:e})=>{let r={};for(let i of t){let n=BF(e,i);if(n.operator==="Dictionary")for(let a of n.ops){a.operator;let[s,o]=a.ops;r[s.string??s.symbol]=o}}return e._fn("Dictionary",Object.entries(r).map(([i,n])=>e._fn("Tuple",[e.string(i),n])))},eq:(t,e)=>{if(t.operator!==e.operator||t.nops!==e.nops)return!1;let r=l9(t.ops),i=l9(e.ops);return Object.entries(r).every(([n,a])=>{let s=i[n];return s&&a.isSame(s)})},collection:{...o9(),at:(t,e)=>{},indexOf:(t,e)=>{},elttype:t=>Mi("tuple<string, any>")}},Range:{complexity:8200,signature:"(number, number?, step: number?) -> collection<integer>",eq:(t,e)=>{if(t.operator!==e.operator)return!1;let[r,i,n]=r0(t),[a,s,o]=r0(e);return r===a&&i===s&&n===o},collection:{size:t=>{let[e,r,i]=r0(t);return i===0?0:!isFinite(e)||!isFinite(r)?1/0:1+Math.max(0,Math.floor((r-e)/i))},contains:(t,e)=>{if(!e.type.matches("integer"))return!1;let r=e.re,[i,n,a]=r0(t);return a===0?!1:a>0?r>=i&&r<=n:r<=i&&r>=n},iterator:(t,e,r)=>{let[i,n,a]=r0(t),s=e??1,o=a===0?0:Math.floor((n-i)/a)+1;return r=Math.min(r??o,o),r<=0?{next:()=>({value:void 0,done:!0})}:{next:()=>r>0?(r--,{value:t.engine.number(i+a*(s++-1)),done:!1}):{value:void 0,done:!0}}},at:(t,e)=>{if(typeof e!="number")return;let[r,i,n]=r0(t);if(!(e<1||e>1+(i-r)/n))return t.engine.number(r+n*(e-1))},indexOf:void 0,subsetOf:(t,e)=>{var n,a,s;if(e.operator==="Range"){let[o,l,u]=r0(t),[c,h,p]=r0(e);return o>=c&&l<=h&&u%p===0}if(!Tf(e))return!1;let r=e.baseDefinition;if(!((n=r==null?void 0:r.collection)!=null&&n.iterator)||!((a=r==null?void 0:r.collection)!=null&&a.at))return!1;let i=1;for(let o of ls(e)){if(!t.contains(o)||!((s=t.at(i))!=null&&s.isSame(o)))return!1;i++}return!0},eltsgn:t=>{let[e,r,i]=r0(t);return i===0?"zero":i>0?e<=r?"positive":"negative":e>=r?"positive":"negative"},elttype:t=>"finite_integer"}},Interval:{description:"A set of real numbers between two endpoints. The endpoints may or may not be included.",complexity:8200,lazy:!0,signature:"(expression, expression) -> set<real>",eq:(t,e)=>{let r=Jf(t),i=Jf(e);return!r||!i?!1:r.start===i.start&&r.end===i.end&&r.openStart===i.openStart&&r.openEnd===i.openEnd},collection:{size:t=>1/0,contains:(t,e)=>{let r=Jf(t);return!r||r.openStart&&e.isLessEqual(r.start)||r.openEnd&&e.isGreaterEqual(r.end)?!1:e.isGreaterEqual(r.start)&&e.isLessEqual(r.end)},eltsgn:t=>{let e=Jf(t);if(!e)return"unsgined";if(e.start===e.end)return"unsigned";if(e.start>=0&&!e.openStart)return"non-negative";if(e.end<=0&&!e.openEnd)return"non-positive";if(e.start>0&&e.end>0)return"positive";if(e.start<0&&e.end<0)return"negative"},elttype:t=>{let e=Jf(t);return e?isFinite(e.start)&&isFinite(e.end)?"finite_real":"real":"never"}}},Linspace:{complexity:8200,signature:"(start: number, end: number?, count: number?) -> collection",collection:{size:t=>{let e=t.op3.re;return isFinite(e)||(e=e2),Math.max(0,Math.floor(e))},at:(t,e)=>{if(typeof e!="number")return;let r=t.op1.re,i=t.op2.re,n=t.op3.re;if(isFinite(n)||(n=e2),!(!isFinite(r)||!isFinite(i))&&!(e<1||e>n))return t.engine.number(r+(i-r)*(e-1)/n)},iterator:(t,e,r)=>{let i=t.op1.re,n=t.op2.re,a;isFinite(n)?a=Math.max(0,isFinite(t.op3.re)?t.op3.re:e2):(n=i,i=1,a=e2);let s=e??1;return r=Math.min(r??a,a),r<=0?{next:()=>({value:void 0,done:!0})}:{next:()=>r>0?(r--,{value:t.engine.number(i+(n-i)*(s++-1)/a),done:!1}):{value:void 0,done:!0}}},contains:(t,e)=>{if(!e.type.matches("finite_real"))return!1;let r=e.re,i=t.op1.re,n=t.op2.re;if(r<i||r>n)return!1;let a=t.op3.re;if(isFinite(a)||(a=e2),a===0)return!1;let s=(n-i)/a;return(r-i)%s===0}}},Tuple:{description:"A fixed number of heterogeneous elements",complexity:8200,signature:"(...any) -> tuple",type:t=>Mi(`tuple<${t.map(e=>e.type).join(", ")}>`),canonical:(t,{engine:e})=>e.tuple(...t),eq:LF,collection:{size:t=>t.nops,contains:(t,e)=>t.ops.some(r=>r.isSame(e)),keys:t=>["first","second","last"],at:(t,e)=>{if(typeof e=="number")return t.ops[e-1]}}},KeyValuePair:{description:"A key/value pair",complexity:8200,signature:"(key: string, value: any) -> tuple<string, unknown>",type:([t,e])=>Mi(`tuple<string, ${e.type}>`),canonical:(t,{engine:e})=>{let[r,i]=DO(e,t,["string","any"]);return!r.isValid||!i.isValid?e._fn("KeyValuePair",[r,i]):e.tuple(r,i)}},Single:{description:"A tuple with a single element",complexity:8200,signature:"(value: any) -> tuple<any>",type:([t])=>Mi(`tuple<${t.type}>`),canonical:(t,{engine:e})=>e.tuple(..._u(e,t,1))},Pair:{description:"A tuple of two elements",complexity:8200,signature:"(first: any, second: any) -> tuple<any, any>",type:([t,e])=>Mi(`tuple<${t.type}, ${e.type}>`),canonical:(t,{engine:e})=>e.tuple(..._u(e,t,2))},Triple:{description:"A tuple of three elements",complexity:8200,signature:"(first: any, second: any, third: any) -> tuple<any, any, any>",type:([t,e,r])=>Mi(`tuple<${t.type}, ${e.type}, ${r.type}>`),canonical:(t,{engine:e})=>e.tuple(..._u(e,t,3))},String:{threadable:!0,signature:"(...any) -> string",evaluate:(t,{engine:e})=>t.length===0?e.string(""):e.string(t.map(r=>r.string??r.toString()).join(""))},Length:{complexity:8200,signature:"any -> integer",evaluate:([t],{engine:e})=>e.number(yd(t)),sgn:([t])=>yd(t)===0?"zero":"positive"},IsEmpty:{complexity:8200,signature:"any -> boolean",evaluate:([t],{engine:e})=>yd(t)===0?e.True:e.False},At:{description:["Access an element of a collection or a character of a string.","If the index is negative, it is counted from the end.","If the collection has a rank greater than 1, the index is a tuple of indexes.","If the index is a list, each element of the list is used as an index and the result if a list of the elements."],complexity:8200,signature:"(value: list|tuple|string, index: number | string) -> unknown",evaluate:(t,{engine:e})=>{var n,a;let r=t[0],i=1;for(;t[i];){let s=(a=(n=r.baseDefinition)==null?void 0:n.collection)==null?void 0:a.at;if(!s)return;let o=t[i].string;if(o!==null)r=s(r,o)??e.Nothing;else{let l=t[i].re;if(!Number.isInteger(l))return;r=s(r,l)??e.Nothing}i+=1}return r}},Take:{description:["Take a range of elements from a collection or a string.","If the index is negative, it is counted from the end."],complexity:8200,signature:"(value: collection|string, count: number) -> list|string",type:t=>t[0].type.matches("string")?"string":Mi(`list<${Sf(t[0].type.type)}>`),evaluate:(t,{engine:e})=>{if(t.length<2)return;let r=t[0].string;if(r!==null){let n=t.slice(1).map(a=>vd(a,r.length));return e.string(DF(r,n))}let i=yd(t[0]);return t2(t[0],t.slice(1).map(n=>vd(n,i)))}},Drop:{complexity:8200,signature:"(value: collection|string, indexes: ...(number | string)) -> list",evaluate:(t,{engine:e})=>{var l;if(t.length<2)return;let r=t[0].string;if(r!==null){let u=AF(t.slice(1).map(c=>vd(c,r.length)));return e.string(r.split("").filter((c,h)=>!u.includes(h+1)).join(""))}let i=t[0].baseDefinition,n=yd(t[0]);if(n===0)return e.Nothing;let a=(l=i==null?void 0:i.collection)==null?void 0:l.at;if(!a)return;let s=AF(t.slice(1).map(u=>vd(u,n))),o=[];for(let u=1;u<=n;u++)if(!s.includes(u)){let c=a(t[0],u);c&&o.push(c)}return e.function("List",o)}},First:{complexity:8200,signature:"(value: collection|string) -> any",evaluate:([t],{engine:e})=>u9(t,1)??e.Nothing},Second:{complexity:8200,signature:"(value: collection|string) -> any",evaluate:([t],{engine:e})=>u9(t,2)??e.Nothing},Last:{complexity:8200,signature:"(value: collection|string) -> any",evaluate:([t],{engine:e})=>u9(t,-1)??e.Nothing},Rest:{complexity:8200,signature:"(value: collection|string) -> list",evaluate:t=>t2(t[0],[[2,-1,1]])},Slice:{description:["Return a range of elements from a collection or a string.","If the index is negative, it is counted from the end."],complexity:8200,signature:"(value: collection|string, start: number, end: number) -> list|string",type:t=>t[0].type.matches("string")?"string":Mi(`list<${Sf(t[0].type.type)}>`),evaluate:(t,{engine:e})=>{if(t.length<3)return;let r=t[0].string;if(r!==null){let[s,o]=t.slice(1).map(l=>vd(l,r.length));return e.string(DF(r,[s,o]))}let i=yd(t[0]),[n,a]=t.slice(1).map(s=>vd(s,i));return t2(t[0],[n,a])}},Most:{complexity:8200,signature:"(value: collection|string) -> list",evaluate:t=>t2(t[0],[[1,-2,1]])},Reverse:{complexity:8200,signature:"(value: collection|string) -> collection",type:t=>t[0].type,evaluate:([t])=>t2(t,[[-1,2,1]])},Ordering:{complexity:8200,lazy:!0,signature:"(value: collection, f: function?) -> list<integer>",evaluate:t=>{}},Sort:{complexity:8200,lazy:!0,signature:"(value: collection, f: function?) -> collection",type:t=>t[0].type,evaluate:t=>{}},Shuffle:{complexity:8200,signature:"(value: collection) -> collection",type:t=>t[0].type,evaluate:t=>{}},Map:{complexity:8200,lazy:!0,signature:"(collection, function) -> collection",evaluate:(t,{engine:e})=>{let[r,i]=e7e(t);if(!i)return;let n=[];for(let o of r)n.push(i([o])??e.Nothing);let a=t[0].operator,s={List:"List",Set:"Set",Range:"List",Linspace:"List",Single:"List",Pair:"List",Triple:"List",Tuple:"List",String:"String"}[a]??"List";return e.function(s,n)}},Filter:{complexity:8200,lazy:!0,signature:"(collection, function) -> collection",type:t=>t[0].type,evaluate:(t,{engine:e})=>{var o;let r=Yc(t[1]);if(!r)return;let i=t[0];if(i.string)return e.string(i.string.split("").map(l=>{var u;return((u=r([e.string(l)]))==null?void 0:u.symbol)==="True"?l:""}).join(""));if(!os(t[0])||!t[1])return;let n=[];for(let l of ls(i))((o=r([l]))==null?void 0:o.symbol)==="True"&&n.push(l);let a=i.operator,s={List:"List",Set:"Set",Range:"List",Linspace:"List",Single:"List",Pair:"List",Triple:"List",Tuple:"List"}[a]??"List";return e.function(s,n)}},Reduce:{complexity:8200,lazy:!0,signature:"(collection, function, initial:value) -> collection",evaluate:t=>{}},Tabulate:{complexity:8200,lazy:!0,signature:"(function, integer, integer?) -> collection",evaluate:(t,{engine:e})=>{let r=Yc(t[0]);if(!r)return;if(t.length===1)return e._fn("List",[]);let i=t.slice(1).map(a=>Bn(a));if(i.some(a=>a===null||a<=0))return;if(i.length===1)return e._fn("List",Array.from({length:i[0]??0},(a,s)=>r([e.number(s+1)])??e.Nothing));let n=(a,s,o=0)=>{if(o===a.length){let u=s.map(c=>e.number(c));return r(u)}let l=["List"];for(let u=1;u<=a[o];u++)s[o]=u,l.push(n(a,s,o+1));return l};return e.box(n(i,Array(i.length).fill(0)))}},Tally:{complexity:8200,signature:"(collection) -> tuple<list, list<integer>>",type:t=>Mi(`tuple<list<${Sf(t[0].type.type)}>, list<integer>>`),evaluate:(t,{engine:e})=>{if(!Tf(t[0]))return;let[r,i]=$F(t[0]);return e.tuple(e.function("List",r),e.function("List",i))}},Unique:{complexity:8200,signature:"(collection) -> list",type:t=>Mi(`list<${Sf(t[0].type.type)}>`),evaluate:(t,{engine:e})=>{if(!Tf(t[0]))return;let[r]=$F(t[0]);return e.function("List",r)}},Zip:{complexity:8200,signature:"(collection, ...collection) -> list",evaluate:t=>{}},RotateLeft:{complexity:8200,signature:"(collection, integer?) -> collection",evaluate:t=>{}},RotateRight:{complexity:8200,signature:"(collection, integer?) -> collection",evaluate:t=>{}},Join:{description:["Join the elements of a sequence of collections or scalar values.","If all collections are `Set`, return a `Set`.","If all collections are `Map`, return a `Map`."],complexity:8200,signature:"(...any) -> collection",type:_F,evaluate:(t,{engine:e})=>{let r=_F(t);if(ur(r,"map")){let i={};for(let n of t)if(i=EF(i,n),!i)return;return e._fn("Dictionary",Object.entries(i).map(([n,a])=>e._fn("Tuple",[e.string(n),a])))}if(ur(r,"set")){let i=[];for(let n of t)if(i=IF(i,n),!i)return;return e.function("Set",i)}if(ur(r,"list")){let i=[];for(let n of t)if(i=TF(i,n),!i)return;return e.function("List",i)}}},Iterate:{complexity:8200,signature:"(function, initial: any?) -> list",evaluate:t=>{}},Repeat:{complexity:8200,signature:"(value: any) -> list",type:t=>Mi(`collection<${t[0].type}>`),evaluate:t=>{}},Cycle:{complexity:8200,signature:"(list) -> list",type:t=>Mi(`list<${t[0].type}>`),evaluate:t=>{}},Fill:{complexity:8200,signature:"(function, tuple) -> list",evaluate:t=>{}}};function r0(t){if(t.nops===0)return[1,0,0];let e=Math.round(t.op1.re);if(isFinite(e)||(e=1),t.nops===1)return[1,e,1];let r=Math.round(t.op2.re);if(isFinite(r)||(r=1),t.nops===2)return[e,r,r>e?1:-1];let i=Math.abs(Math.round(t.op3.re));return isFinite(i)||(i=1),[e,r,e<r?i:-i]}function X8e(t){let[e,r,i]=t;return Number.isFinite(r)?i>0?r-(r-e)%i:r+(e-r)%i:i>0?1/0:-1/0}function vd(t,e){if(!t)return[0,0,0];let r=t.re;if(isFinite(r)){if(r=Math.round(r),r<0){if(e===void 0)return[0,0,0];r=e+r+1}return[r,r,1]}let i=t.operator;if(!i||typeof i!="string"||!/^(Single|Pair|Triple|Tuple|)$/.test(i))return[0,0,0];let[n,a,s]=r0(t);return(n<0||a<0)&&e===void 0?[0,0,0]:(n<0&&(n=e+n+1),a<0&&(a=e+a+1),s=Math.abs(Math.round(s)),s===0?[0,0,0]:(n>a&&(s=-s),[n,a,s]))}function t2(t,e){var a,s;let r=t.engine,i=(s=(a=t.baseDefinition)==null?void 0:a.collection)==null?void 0:s.at;if(!i)return r.Nothing;let n=[];for(let o of e){let[l,u,c]=o;if(c!==0)if(c<0)for(let h=l;h>=u;h+=c){let p=i(t,h);p&&n.push(p)}else for(let h=l;h<=u;h+=c){let p=i(t,h);p&&n.push(p)}}return r.function("List",n)}function DF(t,e){let r="";for(let i of e){let[n,a,s]=i;if(s===1)r+=t.slice(n-1,a);else if(s<0)for(let o=n;o>=a;o+=s)r+=t[o-1];else for(let o=n;o<=a;o+=s)r+=t[o-1]}return r}function AF(t){let e=[];for(let r of t){let[i,n,a]=r;if(a!==0)if(a<0)for(let s=i;s>=n;s+=a)e.push(s);else for(let s=i;s<=n;s+=a)e.push(s)}return e}function Q8e(t,{engine:e}){let r=t[0];if(t.length===1&&r.operator==="Matrix"){let[i,n,a]=r.ops;if(!n||n.string==="..")return a?e._fn("Matrix",[i,e.string("[]"),a]):e._fn("Matrix",[i,n])}return t=t.map(i=>{var n;return i.operator==="Delimiter"?i.op1.operator==="Sequence"?e._fn("List",Gc(e,i.op1.ops)):e._fn("List",[((n=i.op1)==null?void 0:n.canonical)??e.Nothing]):i.canonical}),e._fn("List",t)}function J8e(t,{engine:e}){let r=[],i=n=>r.some(a=>a.isSame(n));for(let n of t)i(n)||r.push(n);return e._fn("Set",r)}function e7e(t){if(t.length!==2)return[[],void 0];let e=Yc(t[1]);return e?t[0].string?[[t[0]],r=>{let i=r[0].string;if(i===null)return;let n=r[0].engine;return n.string(i.split("").map(a=>{var s;return((s=e([n.string(a)]))==null?void 0:s.string)??""}).join(""))}]:!os(t[0])||!t[1]?[[],void 0]:[ls(t[0]),e]:[[],void 0]}function $F(t){let e=[],r=[],i=n=>{for(let a=0;a<e.length;a++)if(e[a].isSame(n))return a;return-1};for(let n of ls(t)){let a=i(n);a>=0?r[a]++:(e.push(n),r.push(1))}return[e,r]}function*t7e(t,e,r){let i=r,n=0;for(let a of ls(t)){let s=e(i,a);if(s===null)return;n+=1,n%1e3===0&&(yield i),i=s}return i}function _F(t){return t.some(e=>e.type.matches("map"))?"map":t.some(e=>e.type.matches("set"))?"set":"list"}function EF(t,e){if(e.operator==="KeyValuePair"){let r=e.op1.string;return r?(t[r]=e.op2,t):void 0}if(e.operator==="Tuple"){let[r,i]=e.ops;return r.string?(t[r.string]=i,t):void 0}if(e.operator==="List"||e.operator==="Set"||e.operator==="Dictionary"){for(let r of e.ops){let i=EF(t,r);if(!i)return;t=i}return t}}function IF(t,e){if(e.operator==="Set"||e.operator==="List"){for(let r of e.ops)if(t=IF(t,r),!t)return}return(r=>t.some(i=>i.isSame(r)))(e)||t.push(e),t}function TF(t,e){if(e.operator==="List"||e.operator==="Set"){for(let r of e.ops)if(t=TF(t,r),!t)return}return t.push(e),t}function r7e(t,e,r){var i;if(t.string&&e.string)return r&&t.string===e.string?!1:((i=t.string)==null?void 0:i.includes(e.string??""))??!1;if(!t.isCollection||!e.isCollection)return!1;for(let n of ls(t))if(!e.contains(n))return!1;if(r){let n=t.size,a=e.size;if(n===a||n===void 0||a===void 0)return!1}return!0}function o9(){return{size:t=>t.nops,contains:(t,e)=>t.ops.some(r=>r.isSame(e)),iterator:(t,e,r)=>{let i=(e??1)-1;return r=Math.min(r??t.nops,t.nops),{next:()=>r<=0?{value:void 0,done:!0}:(r--,{value:t.ops[i++],done:!1})}},at:(t,e)=>{if(typeof e=="number"&&!(e<1||e>t.nops))return t.ops[e-1]},keys:t=>[],indexOf:(t,e,r)=>{if(r??(r=1),r<0){if(r<-t.nops)return;r=t.nops+r+1;for(let i=r;i>=1;i--)if(t.ops[i-1].isSame(e))return i;return}for(let i=r;i<=t.nops;i++)if(t.ops[i-1].isSame(e))return i},subsetOf:r7e,eltsgn:t=>{},elttype:t=>t.nops===0?"unknown":t.nops===1?t.ops[0].type.type:E0(...t.ops.map(e=>e.type.type))}}function l9(t){let e={},r=1;for(let i of t){if(i.operator==="KeyValuePair"||i.operator==="Tuple"||i.operator==="Pair"){let[n,a]=i.ops;if(n.symbol==="Nothing")continue;e[(n==null?void 0:n.string)??(n==null?void 0:n.toString())??r.toString()]=a??i.engine.Nothing}else e[r.toString()]=i;r+=1}return e}function yd(t){var i;if(t.operator==="List"||t.operator==="Set")return t.nops;let e=t.baseDefinition;if((i=e==null?void 0:e.collection)!=null&&i.size)return e.collection.size(t);let r=t.string;return r!==null?r.length:0}function u9(t,e){var i;let r=t.baseDefinition;if((i=r==null?void 0:r.collection)!=null&&i.at)return r.collection.at(t,e)}function LF(t,e){return t.operator!==e.operator||t.nops!==e.nops?!1:t.ops.every((r,i)=>r.isSame(e.ops[i]))}function zF(t,e){return Array.from({length:e-t+1},(r,i)=>t+i)}function BF(t,e){if(e.string&&e.string[0]==="{"&&e.string[e.string.length-1]==="}"){let r;try{r=EO.parse(e.string)}catch{return t._fn("Dictionary",[])}return typeof r!="object"?t._fn("Dictionary",[]):t._fn("Dictionary",Object.entries(r).map(([i,n])=>t._fn("Tuple",[t.string(i),t.box(n)])))}if(e.operator==="Tuple"||e.operator==="Pair"||e.operator==="KeyValuePair"){let[r,i]=e.ops,n;if(r.string)n=r.string;else if(r.symbol)n=r.symbol;else return t._fn("Dictionary",[]);return t._fn("Dictionary",[t._fn("Tuple",[t.string(n),i.canonical])])}if(e.operator==="Dictionary"){let r={};for(let i of e.ops)if(i.operator==="KeyValuePair"||i.operator==="Pair"||i.operator==="Tuple"){let[n,a]=i.ops,s;if(n.string)s=n.string;else if(n.symbol)s=n.symbol;else return t._fn("Dictionary",[]);r[s]=a.canonical}return t._fn("Dictionary",Object.entries(r).map(([i,n])=>t._fn("Tuple",[t.string(i),n])))}return t._fn("Dictionary",[])}function p5(t){t==null||t.operator;let e=1,r=e+U3,i,n=!0;return i=t.op1.symbol,e=Math.floor(t.op2.re),isNaN(e)&&(e=1),Number.isFinite(e)||(n=!1),t.op3.symbol==="Nothing"||t.op3.isInfinity?n=!1:(isNaN(t.op3.re)||(r=Math.floor(t.op3.re??r)),Number.isFinite(r)||(n=!1)),!n&&Number.isFinite(e)&&(r=e+U3),{index:i,lower:e,upper:r,isFinite:n}}function i7e(t){return t.map(e=>p5(e))}function n7e(t){t.length>0;let{index:e,lower:r,upper:i,isFinite:n}=t[0];n||(i=r+U3);let a=zF(r,i).map(s=>[s]);if(t.length===1)return a;for(let s=1;s<t.length;s++){let{index:o,lower:l,upper:u,isFinite:c}=t[s];c||(u=l+U3),a=a7e(a.map(h=>h[0]),zF(l,u))}return a}function a7e(t,e){return t.flatMap(r=>e.map(i=>[r,i]))}function s7e(t){var a,s;let e=t.engine,r,i=null,n=null;if(t.operator==="Tuple"||t.operator==="Triple"||t.operator==="Pair"||t.operator==="Single"?(r=t.op1,n=((a=t.ops[1])==null?void 0:a.canonical)??null,i=((s=t.ops[2])==null?void 0:s.canonical)??null):r=t,r.operator==="Hold"&&(r=r.op1),!!r.symbol)return r.symbol&&r.symbol!=="Nothing"&&e.declare(r.symbol,"integer"),i&&n?e.tuple(r,n,i):i?e.tuple(r,e.One,i):n?e.tuple(r,n):e.tuple(r)}function OF(t,e,r){let i=e.engine;i.pushScope(),e??(e=i.error("missing"));let n=r.map(s=>s7e(s)).filter(s=>s!==void 0),a=i._fn(t,[e.canonical,...n]);return i.popScope(),a}function*d5(t,e,r,i){if(t.isCollection)return yield*t7e(t.evaluate(),r,i);if(e.length===0)return r(i,t)??void 0;let n=t.engine,a=n.swapScope(t.scope),s=i7e(e),o=n7e(s),l=i,u=0;for(let c of o)if(s.forEach((h,p)=>n.assign(h.index,c[p])),l=r(l,t)??void 0,u+=1,u%1e3===0&&(yield l),l===void 0)break;for(let c of s)n.assign(c.index,void 0);return n.swapScope(a),l??void 0}function c9(t){if(t!==void 0)return isNaN(t)?"unsigned":t>0?"positive":t<0?"negative":"zero"}function h9(t){return t==="positive"?"negative":t==="non-negative"?"non-positive":t==="negative"?"positive":t==="non-positive"?"non-negative":t}function bd(t){if(t.isGreater(1))return"positive";if(t.isGreaterEqual(1))return"non-negative";if(t.isLessEqual(1)&&t.isGreaterEqual(0))return"non-positive";if(t.isLess(1)&&t.isGreaterEqual(0))return"negative";if(t.is(1))return"zero";if(t.isNegative||t.isReal===!1)return"unsigned"}var o7e=[{Abs:{wikidata:"Q3317982",threadable:!0,idempotent:!0,complexity:1200,signature:"number -> number",type:([t])=>t.type,sgn:([t])=>t.is(0)?"zero":t.isNumberLiteral?"positive":"non-negative",evaluate:([t])=>l7e(t)},Add:{wikidata:"Q32043",associative:!0,commutative:!0,commutativeOrder:G7,threadable:!0,idempotent:!0,complexity:1300,lazy:!0,signature:"(number, ...number) -> number",type:H8e,sgn:t=>{if(t.some(e=>e.isNaN))return"nan";if(t.some(e=>e.isReal===!1))return"unsigned";if(t.every(e=>e.is(0)))return"zero";if(t.every(e=>e.isNonNegative))return t.some(e=>e.isPositive)?"positive":"non-negative";if(t.every(e=>e.isNonPositive))return t.some(e=>e.isNegative)?"negative":"non-positive";if(t.every(e=>e.isReal))return"real"},evaluate:(t,{numericApproximation:e})=>e?W8e(...t):Cs(...t.map(r=>r.evaluate()))},Ceil:{description:"Rounds a number up to the next largest integer",complexity:1250,threadable:!0,signature:"real -> integer",sgn:([t])=>{if(t.isLessEqual(-1))return"negative";if(t.isPositive)return"positive";if(t.isNonNegative)return"non-negative";if(t.isNonPositive&&t.isGreater(-1))return"zero";if(t.isNonPositive)return"non-positive";if(t.isReal==!1&&t.isNumberLiteral)return t.im>0||t.im<=-1?"unsigned":c9(t.re)},evaluate:([t])=>Hn(t,Math.ceil,e=>e.ceil(),e=>e.ceil(0))},Chop:{associative:!0,threadable:!0,idempotent:!0,complexity:1200,signature:"number -> number",type:([t])=>t.type,evaluate:t=>{let e=t[0],r=e.engine;return Hn(e,i=>r.chop(i),i=>r.chop(i),i=>r.complex(r.chop(i.re),r.chop(i.im)))}},Divide:{wikidata:"Q1226939",complexity:2500,threadable:!0,signature:"(number, ...number) -> number",type:([t,e])=>e.is(1)?t.type:e.isNaN||t.isNaN?"number":e.isFinite===!1||t.isFinite===!1?"non_finite_number":e.isInteger&&t.isInteger?"finite_rational":e.isReal&&t.isReal?"finite_real":"finite_number",sgn:t=>{let[e,r]=[t[0],t[1]];if(r.is(0))return"unsigned";if(r.is(0)===!1&&e.is(0))return"zero";if(r.isPositive)return e.sgn;if(r.isNegative)return h9(e.sgn);if(e.is(0)||e.isFinite&&r.isInfinity)return"zero";if(!e.is(0)&&!r.is(0))return"not-zero"},canonical:(t,{engine:e})=>{let r=e;t=wl(r,t);let i=t[0];if(i===void 0)return r.error("missing");if(t.length<2)return i;let n=t.slice(1);for(let a of n)i=Wc(i,a);return i},evaluate:([t,e])=>t.div(e)},Exp:{wikidata:"Q168698",threadable:!0,complexity:3500,signature:"number -> number",canonical:(t,{engine:e})=>(t=wl(e,t,1),e.function("Power",[e.E,...t]))},Factorial:{description:"Factorial function: the product of all positive integers less than or equal to n",wikidata:"Q120976",threadable:!0,complexity:9e3,signature:"integer -> integer",sgn:([t])=>t.isNonNegative?"positive":t.isNegative||t.isReal===!1?"unsigned":void 0,canonical:(t,{engine:e})=>{let r=t[0];return r.isNumberLiteral&&r.isNegative?e._fn("Factorial",[r.neg()]).neg():e._fn("Factorial",[r])},evaluate:([t])=>{let e=t.engine;if(t.im!==0&&t.im!==void 0)return e.number(e.complex(t.re,t.im).add(1));if(t.isFinite){if(t.isNegative)return e.number(Uf(1+t.re));try{return e.number(H3(B7(BigInt((t.bignumRe??t.re).toFixed())),e._timeRemaining))}catch{return}}},evaluateAsync:async([t],{signal:e})=>{let r=t.engine;if(t.im!==0&&t.im!==void 0)return r.number(r.complex(t.re,t.im).add(1));if(t.isFinite){if(t.isNegative)return r.number(Uf(1+t.re));try{return r.number(await Z3(B7(BigInt((t.bignumRe??t.re).toFixed())),(r._deadline??1/0)-Date.now(),e))}catch{return}}}},Factorial2:{description:"Double Factorial Function",complexity:9e3,threadable:!0,signature:"integer -> integer",sgn:([t])=>t.isNonNegative?"positive":t.isNegative||t.isReal===!1?"unsigned":void 0,evaluate:t=>{let e=t[0],r=Bn(e);if(r===null)return;let i=e.engine;return ss(i)?i.number(Oxe(i,i.bignum(r))):i.number(mxe(r))}},Floor:{wikidata:"Q56860783",complexity:1250,threadable:!0,signature:"number -> integer",sgn:([t])=>{if(t.isNegative)return"negative";if(t.isGreaterEqual(1))return"positive";if(t.isNonNegative&&t.isLess(1))return"zero";if(t.isNonNegative)return"non-negative";if(t.isReal==!1&&t.isNumberLiteral)return t.im<0||t.im>=1?"unsigned":c9(t.re)},evaluate:([t])=>Hn(t,Math.floor,e=>e.floor(),e=>e.floor(0))},Gamma:{wikidata:"Q190573",complexity:8e3,threadable:!0,signature:"number -> number",sgn:([t])=>t.isPositive?"positive":t.is(0)?"zero":void 0,evaluate:([t],{numericApproximation:e,engine:r})=>e?Hn(t,i=>Uf(i),i=>KO(r,i),i=>i):void 0},GammaLn:{complexity:8e3,threadable:!0,signature:"number -> number",evaluate:(t,{numericApproximation:e,engine:r})=>e?Hn(t[0],i=>W7(i),i=>YO(r,i),i=>i):void 0},Ln:{description:"Natural Logarithm",wikidata:"Q204037",complexity:4e3,threadable:!0,signature:"(number, base: number?) -> number",sgn:([t])=>bd(t),evaluate:([t],{numericApproximation:e,engine:r})=>e?Hn(t,i=>i===0?-1/0:i>=0?Math.log(i):r.complex(i).log(),i=>i.isZero()?-1/0:i.isNeg()?r.complex(i.toNumber()).log():i.ln(),i=>i.isZero()?NaN:i.log()):t.ln()},Log:{description:"Log(z, b = 10) = Logarithm of base b",wikidata:"Q11197",complexity:4100,threadable:!0,signature:"(number, base: number?) -> number",sgn:([t,e])=>{if(!e)return bd(t);if(e.is(1)||e.isReal==!1)return"unsigned";if(e.isGreater(1))return bd(t);if(e.isLess(1))return h9(bd(t))},evaluate:(t,{numericApproximation:e,engine:r})=>{var n;if(!e)return((n=t[0])==null?void 0:n.ln(t[1]??10))??void 0;let i=r;return t[1]===void 0?Hn(t[0],a=>a===0?-1/0:a>=0?Math.log10(a):i.complex(a).log().div(Math.LN10),a=>a.isZero()?-1/0:a.isNeg()?i.complex(a.toNumber()).log().div(Math.LN10):Ui.log10(a),a=>a.isZero()?NaN:a.log().div(Math.LN10)):g1(t[0],t[1],(a,s)=>Math.log(a)/Math.log(s),(a,s)=>a.log(s),(a,s)=>a.log().div(typeof s=="number"?Math.log(s):s.log()))}},Lb:{description:"Base-2 Logarithm",wikidata:"Q581168",complexity:4100,threadable:!0,signature:"(number, base: number?) -> number",sgn:([t])=>bd(t),canonical:([t],{engine:e})=>e._fn("Log",[t,e.number(2)])},Lg:{description:"Base-10 Logarithm",wikidata:"Q966582",complexity:4100,threadable:!0,signature:"number -> number",sgn:([t])=>bd(t),canonical:([t],{engine:e})=>e._fn("Log",[t])},Mod:{description:"Modulo",wikidata:"Q1799665",complexity:2500,threadable:!0,signature:"(number, number) -> number",sgn:t=>{var r;let e=t[1];if(!(e===void 0||e.isReal==!1)){if(e.is(0))return"unsigned";if(t[0].isNumberLiteral&&e.isNumberLiteral)return((r=g1(t[0],e,(i,n)=>(i%n+n)%n,(i,n)=>i.modulo(n)))==null?void 0:r.sgn)??void 0}},evaluate:([t,e])=>g1(t,e,(r,i)=>(r%i+i)%i,(r,i)=>r.modulo(i))},Multiply:{wikidata:"Q40276",associative:!0,commutative:!0,idempotent:!0,complexity:2100,threadable:!0,lazy:!0,signature:"(number, ...number) -> number",type:t=>t.length===0?"finite_integer":t.length===1?t[0].type:t.some(e=>e.isNaN)?"number":t.some(e=>e.isFinite===!1)?"non_finite_number":t.every(e=>e.isInteger)?"finite_integer":t.every(e=>e.isReal)?"finite_real":t.every(e=>e.isRational)?"finite_rational":"finite_number",sgn:t=>{if(!t.some(e=>e.sgn===void 0||e.isReal===!1)){if(t.some(e=>e.is(0)))return t.every(e=>e.isFinite)?"zero":t.some(e=>e.isFinite===!1)?"unsigned":void 0;if(!(t.some(e=>e.isFinite===!1||e.isFinite===void 0)&&t.some(e=>e.is(0)===void 0))){if(t.every(e=>e.isPositive||e.isNegative)){let e=0;return t.forEach(r=>{r.isNegative&&e++}),e%2===0?"positive":"negative"}if(t.every(e=>e.isNonPositive||e.isNonNegative)){let e=0;return t.forEach(r=>{r.isNonPositive&&e++}),e%2===0?"non-positive":"non-negative"}if(t.every(e=>!e.is(0)))return"not-zero";if(t.every(e=>e.isReal))return"real"}}},evaluate:(t,{numericApproximation:e})=>e?G8e(...t):Cl(...t.map(r=>r.evaluate()))},Negate:{description:"Additive Inverse",wikidata:"Q715358",complexity:2e3,threadable:!0,signature:"number -> number",type:([t])=>t.type,sgn:([t])=>h9(t.sgn),canonical:(t,{engine:e})=>(t=wl(e,t),t.length===0?e.error("missing"):t[0].neg()),evaluate:([t])=>t.neg()},PlusMinus:{description:"Plus or Minus",wikidata:"Q120812",complexity:1200,signature:"(value, value) -> tuple",canonical:(t,{engine:e})=>(t=wl(e,t,2),t.length===0?e.error("missing"):e._fn("PlusMinus",[t[0],t[1].abs()])),type:([t,e])=>Mi(`tuple<${t.type}, ${e.type}>`),evaluate:([t,e],{engine:r})=>r.tuple(t.add(e.neg()),t.add(e))},Power:{wikidata:"Q33456",threadable:!0,complexity:3500,signature:"(number, number) -> number",type:([t,e])=>t.isNaN||e.isNaN?"number":e.isFinite?t.isInteger&&e.isInteger?"finite_integer":t.isRational&&e.isInteger?"finite_rational":t.isReal&&e.isReal?"finite_real":"finite_number":"non_finite_number",canonical:(t,{engine:e})=>{if(t=wl(e,t,2),t.length!==2)return e._fn("Power",t);let[r,i]=t;return r5(r,i)},sgn:([t,e])=>{let r=t.sgn,i=e.sgn;if(!(t.isReal===!1||e.isReal===!1||t.isNaN||e.isNaN||r===void 0||i===void 0)){if(t.is(0))return e.isNonPositive?"unsigned":e.isPositive?"zero":void 0;if(t.is(0)&&e.is(0))return"unsigned";if(t.isNonNegative||e.numerator.isOdd&&e.denominator.isOdd)return t.sgn;if(e.numerator.isEven&&e.denominator.isOdd)return t.isReal?t.is(0)?"non-negative":"positive":t.type.is("imaginary")?"negative":t.is(0)?void 0:"not-zero";if(e.isRational===!1||e.numerator.isOdd&&e.denominator.isEven&&t.isNonPositive)return"unsigned"}},evaluate:([t,e],{numericApproximation:r})=>js(t,e,{numericApproximation:r??!1})},Rational:{complexity:2400,signature:"(number, integer?) -> rational",sgn:([t])=>t.sgn,canonical:(t,{engine:e})=>{let r=e;return t=ws(t),t.length===0?r._fn("Rational",[r.error("missing")]):t.length===1?r._fn("Rational",[cd(r,t[0],"real")]):(t=DO(r,t,["integer","integer"]),t.length!==2||!t[0].isValid||!t[1].isValid?r._fn("Rational",t):t[0].div(t[1]))},evaluate:(t,{numericApproximation:e,engine:r})=>{let i=r;if(t.length===1){let s=t[0].N();return s.numericValue===null||s.im!==0?void 0:i.number(Axe(s.re))}if(e)return g1(t[0],t[1],(s,o)=>s/o,(s,o)=>s.div(o),(s,o)=>s.div(o));let[n,a]=[Bn(t[0]),Bn(t[1])];if(n!==null&&a!==null)return i.number([n,a])}},Root:{complexity:3200,threadable:!0,signature:"(number, number) -> number",type:([t,e])=>t.isNaN||e.isNaN?"number":t.isFinite===!1||e.isFinite===!1?"non_finite_number":e.is(0)?"finite_integer":e.is(1)?t.type:t.isReal&&e.isReal&&t.isPositive===!0?"finite_real":"finite_number",sgn:([t,e])=>{if(t.isReal===!1||e.isReal===!1)return"unsigned";if(t.is(0))return e.is(0)?"unsigned":"zero";if(t.isPositive===!0)return"positive";if(e.isOdd===!0)return"negative";if(e.isEven===!0)return"unsigned"},canonical:(t,{engine:e})=>{t=wl(e,t,2);let[r,i]=t;return qf(r,i)},evaluate:([t,e],{numericApproximation:r})=>V7(t,e,{numericApproximation:r})},Round:{complexity:1250,threadable:!0,signature:"number -> integer",type:([t])=>t.isNaN?"number":t.isFinite===!1||t.isReal===!1?"non_finite_number":"finite_integer",sgn:([t])=>{if(t.isNaN)return"unsigned";if(t.isNumberLiteral)return t.im>=.5||t.im<=-.5?"unsigned":c9(Math.round(t.re));if(t.isGreaterEqual(.5))return"positive";if(t.isLessEqual(-.5))return"negative";if(t.isLess(.5)&&t.isGreater(-.5))return"zero";if(t.isNonNegative)return"non-negative";if(t.isNonPositive)return"non-positive";if(t.isReal)return"real"},evaluate:([t])=>Hn(t,Math.round,e=>e.round(),e=>e.round(0))},Sign:{complexity:1200,threadable:!0,signature:"number -> integer",sgn:([t])=>t.sgn,evaluate:([t],{engine:e})=>{if(t.is(0))return e.Zero;if(t.isPositive)return e.One;if(t.isNegative)return e.NegativeOne}},Sqrt:{description:"Square Root",wikidata:"Q134237",complexity:3e3,threadable:!0,signature:"number -> number",type:([t])=>t.isNaN?"number":t.isFinite===!1?"non_finite_number":t.isReal?"finite_real":"finite_number",sgn:([t])=>{if(t.isPositive)return"positive";if(t.isNegative)return"unsigned";if(t.isNonNegative)return"non-negative";if(!t.is(0))return"not-zero"},evaluate:([t],{numericApproximation:e,engine:r})=>{if(!e)return t.sqrt();let[i,n]=t.toNumericValue();return n.is(1)?r.number(i.sqrt().N()):r.number(i.sqrt().N()).mul(n)}},Square:{wikidata:"Q3075175",complexity:3100,threadable:!0,signature:"number -> number",sgn:([t])=>{if(t.is(0))return"zero";if(t.isReal)return t.is(0)?"non-negative":"positive";if(t.type.matches("complex"))return"negative";if(t.isReal===!1||t.isNaN)return"unsigned"},canonical:(t,{engine:e})=>{let r=e;return t=ws(t),t.length!==1?r._fn("Square",t):r._fn("Power",[t[0],r.number(2)]).canonical}},Subtract:{wikidata:"Q40754",complexity:1350,threadable:!0,signature:"(number, ...number) -> number",canonical:(t,{engine:e})=>{if(t=wl(e,t),t.length===0)return e.error("missing");let r=t[0],i=t.slice(1);return Ou(e,[r,...i.map(n=>n.neg())])}}},{ImaginaryUnit:{type:"imaginary",constant:!0,holdUntil:"never",wikidata:"Q193796",value:t=>t.I},i:{type:"imaginary",constant:!0,holdUntil:"never",value:t=>t.I},ExponentialE:{type:"finite_real",wikidata:"Q82435",constant:!0,holdUntil:"N",value:t=>t.number(ss(t)?t._BIGNUM_ONE.exp():Math.exp(1))},e:{type:"finite_real",constant:!0,holdUntil:"never",value:"ExponentialE"},ComplexInfinity:{type:"complex",constant:!0,holdUntil:"never",value:t=>t.ComplexInfinity},PositiveInfinity:{type:"non_finite_number",constant:!0,holdUntil:"never",value:1/0},NegativeInfinity:{type:"non_finite_number",constant:!0,holdUntil:"never",value:-1/0},NaN:{type:"number",constant:!0,holdUntil:"never",value:t=>t.NaN},MachineEpsilon:{type:"finite_real",holdUntil:"N",constant:!0,value:{num:Number.EPSILON.toString()}},Half:{type:"finite_rational",constant:!0,holdUntil:"never",value:["Rational",1,2]},GoldenRatio:{type:"finite_real",wikidata:"Q41690",constant:!0,holdUntil:"N",value:["Divide",["Add",1,["Sqrt",5]],2]},CatalanConstant:{type:"finite_real",wikidata:"Q855282",constant:!0,holdUntil:"N",value:{num:`0.91596559417721901505460351493238411077414937428167
                  21342664981196217630197762547694793565129261151062
                  48574422619196199579035898803325859059431594737481
                  15840699533202877331946051903872747816408786590902
                  47064841521630002287276409423882599577415088163974
                  70252482011560707644883807873370489900864775113225
                  99713434074854075532307685653357680958352602193823
                  23950800720680355761048235733942319149829836189977
                  06903640418086217941101917532743149978233976105512
                  24779530324875371878665828082360570225594194818097
                  53509711315712615804242723636439850017382875977976
                  53068370092980873887495610893659771940968726844441
                  66804621624339864838916280448281506273022742073884
                  31172218272190472255870531908685735423498539498309
                  91911596738846450861515249962423704374517773723517
                  75440708538464401321748392999947572446199754961975
                  87064007474870701490937678873045869979860644874974
                  64387206238513712392736304998503539223928787979063
                  36440323547845358519277777872709060830319943013323
                  16712476158709792455479119092126201854803963934243
                  `}},EulerGamma:{type:"finite_real",wikidata:"Q273023",holdUntil:"N",constant:!0,value:{num:`0.57721566490153286060651209008240243104215933593992359880576723488486772677766
          467093694706329174674951463144724980708248096050401448654283622417399764492353
          625350033374293733773767394279259525824709491600873520394816567085323315177661
          152862119950150798479374508570574002992135478614669402960432542151905877553526
          733139925401296742051375413954911168510280798423487758720503843109399736137255
          306088933126760017247953783675927135157722610273492913940798430103417771778088
          154957066107501016191663340152278935867965497252036212879226555953669628176388
          792726801324310104765059637039473949576389065729679296010090151251959509222435
          014093498712282479497471956469763185066761290638110518241974448678363808617494
          551698927923018773910729457815543160050021828440960537724342032854783670151773
          943987003023703395183286900015581939880427074115422278197165230110735658339673`}}},{PreIncrement:{signature:"number -> number"},PreDecrement:{signature:"number -> number"}},{IsPrime:{description:"`IsPrime(n)` returns `True` if `n` is a prime number",wikidata:"Q49008",complexity:1200,threadable:!0,signature:"(number) -> boolean",evaluate:([t],{engine:e})=>{let r=p9(t);if(r!==void 0)return e.symbol(r?"True":"False")}},IsComposite:{description:"`IsComposite(n)` returns `True` if `n` is not a prime number",complexity:1200,threadable:!0,signature:"(number) -> boolean",canonical:(t,{engine:e})=>e.box(["Not",["IsPrime",...t]])},IsOdd:{description:"`IsOdd(n)` returns `True` if `n` is an odd number",complexity:1200,threadable:!0,signature:"(number) -> boolean",evaluate:(t,{engine:e})=>{let r=!1,i=t.every(n=>{if(n.im!==0)return!1;let a=U7(n);if(a!==null)return a%BigInt(2)!==BigInt(0);let s=n.re;return Number.isInteger(s)?s%2!==0:(r=!0,!1)});if(!r)return e.symbol(i?"False":"True")}},isEven:{description:"Odd Number",complexity:1200,threadable:!0,signature:"(number) -> boolean",canonical:(t,{engine:e})=>e.box(["Not",["IsOdd",...t]])}},{GCD:{description:"Greatest Common Divisor",complexity:1200,threadable:!1,signature:"(...any) -> integer",sgn:()=>"positive",evaluate:t=>PF(t,"GCD")},LCM:{description:"Least Common Multiple",complexity:1200,threadable:!1,signature:"(...any) -> integer",sgn:()=>"positive",evaluate:t=>PF(t,"LCM")},Numerator:{description:"Numerator of an expression",complexity:1200,threadable:!0,lazy:!0,signature:"(number) -> number | nothing",canonical:(t,{engine:e})=>{if(t.length===0)return e.Nothing;let r=t[0];return r.operator==="Rational"||r.operator==="Divide"?r.op1:e._fn("Numerator",Gc(e,t))},sgn:([t])=>t.sgn,evaluate:(t,{engine:e})=>{let r=e;if(t.length===0)return r.Nothing;let i=t[0];return i.operator==="Rational"||i.operator==="Divide"?i.op1.evaluate():i.numerator}},Denominator:{description:"Denominator of an expression",complexity:1200,threadable:!0,lazy:!0,signature:"(number) -> number | nothing",canonical:(t,{engine:e})=>{if(t.length===0)return e.Nothing;let r=t[0];if(r.operator==="Rational"||r.operator==="Divide")return r.op2;let i=Hc(r);return i!==void 0?e.number(i[1]):e._fn("Denominator",Gc(e,t))},sgn:()=>"positive",evaluate:(t,{engine:e})=>{let r=e;if(t.length===0)return r.Nothing;let i=t[0];return i.operator==="Rational"||i.operator==="Divide"?i.op2.evaluate():i.denominator}},NumeratorDenominator:{description:"Sequence of Numerator and Denominator of an expression",complexity:1200,threadable:!0,lazy:!0,signature:"(number) -> tuple<number, number> | nothing",canonical:(t,{engine:e})=>{if(t.length===0)return e.Nothing;let r=t[0];if(r.operator==="Rational"||r.operator==="Divide")return e.tuple(...r.ops);let i=Hc(r.evaluate());return i!==void 0?e.tuple(e.number(i[0]),e.number(i[1])):e._fn("NumeratorDenominator",t.map(n=>n.evaluate()))},evaluate:(t,{engine:e})=>{let r=e;if(t.length===0)return r.Nothing;let i=t[0];return i.operator==="Rational"||i.operator==="Divide"?r.tuple(...i.ops):r.tuple(...i.numeratorDenominator)}}},{Max:{description:"Maximum of two or more numbers",complexity:1200,threadable:!1,signature:"(...value) -> number | list",sgn:t=>{if(t.some(e=>e.isReal==!1||e.isNaN))return"unsigned";if(!t.some(e=>e.isReal==!1||e.isNaN!==!1)){if(t.some(e=>e.isPositive))return"positive";if(t.every(e=>e.isNonPositive))return t.some(e=>e.is(0))?"zero":"non-positive";if(t.some(e=>e.isNonNegative))return"non-negative";if(t.every(e=>e.isNegative))return"negative";if(t.some(e=>!e.is(0)))return"not-zero"}},evaluate:(t,{engine:e})=>m5(e,t,"Max")},Min:{description:"Minimum of two or more numbers",complexity:1200,threadable:!1,signature:"(...value) -> number | list",sgn:t=>{if(t.some(e=>e.isReal==!1||e.isNaN))return"unsigned";if(!t.some(e=>e.isReal==!1||e.isNaN!==!1)){if(t.some(e=>e.isNegative))return"negative";if(t.every(e=>e.isNonNegative))return t.some(e=>e.is(0))?"zero":"non-negative";if(t.some(e=>e.isNonPositive))return"non-positive";if(t.every(e=>e.isPositive))return"positive"}},evaluate:(t,{engine:e})=>m5(e,t,"Min")},Supremum:{description:"Like Max, but defined for open sets",complexity:1200,threadable:!1,signature:"(...value) -> number | list",evaluate:(t,{engine:e})=>m5(e,t,"Supremum")},Infimum:{description:"Like Min, but defined for open sets",complexity:1200,threadable:!1,signature:"(...value) -> number | list",evaluate:(t,{engine:e})=>m5(e,t,"Infimum")},Product:{description:"`Product(f, a, b)` computes the product of `f` from `a` to `b`",wikidata:"Q901718",complexity:1e3,threadable:!1,lazy:!0,signature:"(collection|function, ...(tuple<symbol>|tuple<symbol, integer>|tuple<symbol, integer, integer>)) -> number",canonical:([t,...e])=>OF("Product",t,e),evaluate:(t,e)=>{let r=(n,a)=>(a=a.evaluate(e),a.isNumberLiteral?n.mul(a.numericValue):null),i=H3(d5(t[0],t.slice(1),r,e.engine._numericValue(1)),e.engine._timeRemaining);return e.engine.number(i??NaN)},evaluateAsync:async(t,e)=>{let r=(n,a)=>(a=a.evaluate(e),a.isNumberLiteral?n.mul(a.numericValue):null),i=await Z3(d5(t[0],t.slice(1),r,e.engine._numericValue(1)),e.engine._timeRemaining,e.signal);return e.engine.number(i??NaN)}},Sum:{description:"`Sum(f, a, b)` computes the sum of `f` from `a` to `b`",wikidata:"Q218005",complexity:1e3,threadable:!1,lazy:!0,signature:"(collection|function, ...(tuple<symbol>|tuple<symbol, integer>|tuple<symbol, integer, integer>)) -> number",canonical:([t,...e])=>OF("Sum",t,e),evaluate:(t,{engine:e})=>e.number(H3(d5(t[0],t.slice(1),(r,i)=>(i=i.evaluate(),i.isNumberLiteral?r.add(i.numericValue):null),e._numericValue(0)),e._timeRemaining)),evaluateAsync:async(t,{engine:e,signal:r})=>e.number(await Z3(d5(t[0],t.slice(1),(i,n)=>(n=n.evaluate(),n.isNumberLiteral?i.add(n.numericValue):null),e._numericValue(0)),e._timeRemaining,r))}},{BaseForm:{description:"`BaseForm(expr, base=10)`",complexity:9e3,signature:"(number, (string|integer)?) -> string | nothing",type:([t])=>t===void 0?"nothing":t.type,evaluate:([t])=>t},FromDigits:{description:"`FromDigits(s, base=10)`       return an integer representation of the string `s` in base `base`.",signature:"(string, (string|integer)?) -> integer",evaluate:(t,{engine:e})=>{var l,u;let r=(l=t[0])==null?void 0:l.string,i=e;if(!r)return i.typeError("string",(u=t[0])==null?void 0:u.type,t[0]);if(r=r.trim(),r.startsWith("0x"))return i.number(parseInt(r.slice(2),16));if(r.startsWith("0b"))return i.number(parseInt(r.slice(2),2));let n=t[1]??i.Nothing;if(n.symbol==="Nothing")return i.number(Number.parseInt(r,10));let a=n.re;if(!n.isInteger||!Number.isFinite(a)||a<2||a>36)return i.error(["unexpected-base",a.toString()],n.toString());let[s,o]=t5(r,n.string??n.symbol??10);return o?i.error(["unexpected-digit",o[0]],o):i.number(s)}},IntegerString:{description:"`IntegerString(n, base=10)`       return a string representation of the integer `n` in base `base`.",threadable:!0,signature:"(integer, integer?) -> string",evaluate:(t,{engine:e})=>{let r=e,i=t[0];if(!i.isInteger)return r.typeError("integer",i.type,i);let n=i.re;if(!Number.isFinite(n))return r.typeError("integer",i.type,i);let a=t[1]??r.Nothing;if(a.symbol==="Nothing")return i.bignumRe!==void 0?r.string(i.bignumRe.abs().toString()):r.string(Math.abs(n).toString());let s=Bn(a);return s===null?r.typeError("integer",a.type,a):s<2||s>36?r.error(["out-of-range","2","36",s.toString()],a.toString()):r.string(Math.abs(n).toString(s))}}}];function l7e(t){let e=t.engine,r=t.numericValue;if(r!==null)return typeof r=="number"?e.number(Math.abs(r)):e.number(r.abs());if(t.isNonNegative)return t;if(t.isNegative)return t.neg()}function FF(t,e){let r=t.engine,i=e==="Max"||e==="Supremum";if(t.operator==="Interval"){let n=i?t.op2:t.op1;return!n.isNumber||n.numericValue===null?[void 0,[t]]:[n,[]]}if(t.operator==="Range"){let n=r0(t),a=X8e(n);return[r.number(Math.max(n[0],a)),[]]}if(t.operator==="Linspace")return t.nops===1?t=i?t.op1:r.One:i?t=t.op2:t=t.op1,[t,[]];if(t.isCollection){let n,a=[];for(let s of ls(t)){let[o,l]=FF(s,e);o&&(n?(i&&o.isGreater(n)||!i&&o.isLess(n))&&(n=o):n=o),a.push(...l)}return[n,a]}return!t.isNumber||t.numericValue===null?[void 0,[t]]:[t,[]]}function m5(t,e,r){let i=r==="Max"||r==="Supremum";if(e.length===0)return i?t.NegativeInfinity:t.PositiveInfinity;let n,a=[];for(let s of e){let[o,l]=FF(s,r);o&&(n?(i&&o.isGreater(n)||!i&&o.isLess(n))&&(n=o):n=o),a.push(...l)}return a.length>0?t.box(n?[r,n,...a]:[r,...a]):n??(i?t.NegativeInfinity:t.PositiveInfinity)}function PF(t,e){let r=t[0].engine,i=e==="LCM"?Bxe:ZO,n=[];if(ss(r)){let a=null;for(let s of t)if(a===null)a=OO(s),(a===null||!a.isInteger())&&n.push(s);else{let o=OO(s);o&&o.isInteger()?a=i(a,o):n.push(s)}return n.length===0?a===null?r.One:r.number(a):a===null?r._fn(e,n):r._fn(e,[r.number(a),...n])}for(let a of t)a.isInteger&&n.push(a);return n.length===0?r.One:r._fn(e,n)}function p9(t){if(!t.isInteger||t.isNegative||t.numericValue===null)return;let e=Bn(t);if(e!==null)return yO(e);let r=U7(t);if(r!==null)return oxe(r)}var RF={boolean:t=>t.type.matches("boolean"),string:t=>t.string!==null,number:t=>t.isNumberLiteral,symbol:t=>t.symbol!==null,expression:t=>!0,numeric:t=>{let[e,r]=t.toNumericValue();return r.is(1)},integer:t=>t.isInteger,rational:t=>t.isRational,irrational:t=>t.isRational===!1,real:t=>t.isReal,notreal:t=>!t.isReal,complex:t=>t.type.matches("complex"),imaginary:t=>t.type.matches("imaginary"),positive:t=>t.isPositive,negative:t=>t.isNegative,nonnegative:t=>t.isNonNegative,nonpositive:t=>t.isNonPositive,even:t=>t.isEven,odd:t=>t.isOdd,prime:t=>p9(t)===!0,composite:t=>p9(t)===!1,notzero:t=>t.is(0)===!1,notone:t=>t.is(1)===!1,finite:t=>t.isFinite,infinite:t=>t.isFinite===!1,constant:t=>{var e;return((e=t.symbolDefinition)==null?void 0:e.isConstant)??!1},variable:t=>{var e;return!(((e=t.symbolDefinition)==null?void 0:e.isConstant)??!0)},function:t=>{var e;return((e=t.symbolDefinition)==null?void 0:e.isFunction)??!1},relation:t=>Vc(t.operator),equation:t=>t.operator==="Equal",inequality:t=>V3(t),collection:t=>t.isCollection,list:t=>t.operator==="List",set:t=>t.operator==="Set",tuple:t=>t.operator==="Tuple"||t.operator==="Single"||t.operator==="Pair"||t.operator==="Triple",single:t=>t.operator==="Single",pair:t=>t.operator==="Pair",triple:t=>t.operator==="Triple",scalar:t=>t.rank===0,tensor:t=>t.rank>0,vector:t=>t.rank===1,matrix:t=>t.rank===2,unit:t=>t.operator==="Unit",dimension:t=>t.operator==="Dimension",angle:t=>t.operator==="Angle",polynomial:t=>t.unknowns.length===1};function u7e(t,e){for(let r of e)if(RF[r](t)!==!0)return!1;return!0}function c7e(t){let e=/\\[a-zA-Z]+|[{}]|[\d]+|[+\-*/^_=()><,.;]|[a-zA-Z]/g,r=t.match(e);return r?r.filter(i=>!/^[ \f\n\r\t\v\xA0\u2028\u2029]+$/.test(i)):[]}function h7e(t){let e=t.peek,r=null;if(e==="\\mathrm")t.nextToken(),r=t.parseStringGroup();else if(/^[a-z]$/.test(e))for(r=t.nextToken();/^[a-z]$/.test(t.peek);)r+=t.nextToken();else{let i={">0":"positive","\\gt0":"positive","<0":"negative","\\lt0":"negative",">=0":"nonnegative","\\geq0":"nonnegative","<=0":"nonpositive","\\leq0":"nonpositive","!=0":"notzero","\\neq0":"notzero","\\neq1":"notone","!=1":"notone","\\in\\R":"real","\\in\\mathbb{R}":"real","\\in\\C":"complex","\\in\\mathbb{C}":"complex","\\in\\Q":"rational","\\in\\mathbb{Q}":"rational","\\in\\Z^+":"integer,positive","\\in\\Z^-":"intger,negative","\\in\\Z^*":"nonzero","\\in\\R^+":"positive","\\in\\R^-":"negative","\\in\\R^*":"real,nonzero","\\in\\Z":"integer","\\in\\mathbb{Z}":"integer","\\in\\N":"integer,nonnegative","\\in\\mathbb{N}":"integer,nonnegative","\\in\\N^*":"integer,positive","\\in\\N_0":"integer,nonnegative","\\in\\R\\backslash\\Q":"irrational"};for(let n in i)if(t.matchAll(c7e(n))){r=i[n];break}}if(!r)return null;if(!Object.keys(RF).includes(r))throw new Error(`Unexpected condition "${r}" in a rule`);return r}function jF(t){let e=[];do{let r=h7e(t);if(!r)break;e.push(r)}while(t.match(","));return e.join(",")}function d9(t){let e=null;if(t.match(":"))e=jF(t);else if(t.matchAll(["_","<{>"])&&(e=jF(t),!t.match("<}>")))return null;return e}function qF(t,e,r){if(!(e===void 0||typeof e=="function")){if(typeof e=="string"){let i=t.parse(e,{canonical:(r==null?void 0:r.canonical)??!1});return i=i.map(n=>n.symbol&&n.symbol.length===1?t.symbol("_"+n.symbol):n,{canonical:!1}),i}return t.box(e,{canonical:(r==null?void 0:r.canonical)??!1})}}function p7e(t,e,r){let i=p=>({kind:"symbol",latexTrigger:p,parse:(d,m)=>{a[p]||(a[p]=`_${p}`);let f=d9(d);return f!==null&&(s[p]?s[p]+=","+f:s[p]=f),a[p]}}),n=t.latexDictionary,a={},s={};t.latexDictionary=[...n,{kind:"prefix",precedence:100,latexTrigger:"...",parse:(p,d)=>{let m=p.nextToken();if(!"abcfghjklmnopqrstuvwxyz".includes(m))return null;let f="__";if(p.match("?")&&(f="___"),a[m]&&a[m]!==`${f}${m}`)throw new Error(`Duplicate wildcard "${m}"`);a[m]||(a[m]=`${f}${m}`);let v=d9(p);return v===null?null:(s[m]?s[m]+=","+v:s[m]=v,`${f}${m}`)}},..."abcfghjklmnopqrstuvwxyz".split("").map(i),{kind:"infix",precedence:100,latexTrigger:"->",parse:(p,d,m)=>{let f=p.parseExpression({...m,minPrec:20});if(f===null)return null;let v=null;if(p.match(";")){let g=!1,b=p.index;do{p.skipSpace();let k=p.nextToken();if(a[k]){let w=d9(p);if(w===null||!w){g=!0,p.index=b;break}s[k]?s[k]+=","+w:s[k]=w}}while(!g&&!p.atEnd);v=p.parseExpression(m)}let y=[];for(let g in s){let b=s[g].split(",");b.length!==0&&(b.length===1?y.push(["Condition",a[g],b[0]]):y.push(["Condition",a[g],["And",...b]]))}let x;return v&&y.length>0?x=["And",v,...y]:v?x=v:y.length===1?x=y[0]:y.length>1&&(x=["And",...y]),x?["Rule",d,f,x]:["Rule",d,f]}}];let o=t.parse(e,{canonical:(r==null?void 0:r.canonical)??!1});if(t.latexDictionary=n,!o.isValid||o.operator!=="Rule")throw new Error(`Invalid rule "${e}"
|   ${v5(o).toString()}
|   A rule should be of the form:
|   <match> -> <replace>; <condition>`);let[l,u,c]=o.ops;if(!VF(u,l))throw new Error(`Invalid rule "${e}"
|   The replace expression contains wildcards not present in the match expression`);if(l.isSame(u))throw new Error(`Invalid rule "${e}"
|   The match and replace expressions are the same.
|   This may be because the rule is not necessary due to canonical simplification`);let h;if(c!==void 0){if(!VF(c,l))throw new Error(`Invalid rule "${e}"
|   The condition expression contains wildcards not present in the match expression`);h=p=>{var d;return((d=c.subs(p).evaluate())==null?void 0:d.symbol)==="True"}}return UF(t,{match:l,replace:u,condition:h,id:e},r)}function UF(t,e,r){if(e==null)throw new Error("Expected a rule, not "+e);if(m7e(e))return e;if(typeof e=="string")return p7e(t,e,r);if(typeof e=="function")return{_tag:"boxed-rule",match:void 0,replace:e,condition:void 0,id:e.toString().replace(/\n/g," ")};let{match:i,replace:n,condition:a,id:s}=e;if(n===void 0)throw new Error(`Invalid rule "${s??JSON.stringify(e)}"
|   A rule must include at least a replace property`);let o;if(typeof a=="string"){let c=_f(a);if(c){let h=t.parse(c,{canonical:(r==null?void 0:r.canonical)??!1});o=(p,d)=>{var m;return((m=h.subs(p).evaluate())==null?void 0:m.symbol)==="True"}}}else{if(a!==void 0&&typeof a!="function")throw new Error(`Invalid rule ${s??JSON.stringify(e)}
|   condition is not a valid function`);o=a}if(typeof i=="function")throw new Error(`Invalid rule ${s??JSON.stringify(e)}
|   match is not a valid expression.
|   Use a replace function instead to validate and replace the expression`);let l=qF(t,i,r),u=qF(t,n,r);if(s||(typeof i=="string"?s=i:s=JSON.stringify(i),n&&(s+=" -> ",typeof n=="string"?s+=n:typeof n=="function"?s+=n==null?void 0:n.toString().replace(/\n/g," "):s=JSON.stringify(n)),typeof a=="string"?s+=`; ${a}`:typeof a=="function"&&(s+=`; ${a.toString().replace(/\n/g," ")}`)),l&&!l.isValid)throw new Error(`Invalid rule ${s}
|   the match expression is not valid: ${l.toString()}`);if(u&&!u.isValid)throw new Error(`Invalid rule ${s??JSON.stringify(e)}
|   The replace expression is not valid: ${u==null?void 0:u.toString()}`);if(!u&&typeof n!="function")throw new Error(`Invalid rule ${s??JSON.stringify(e)}
|   The replace expression could not be parsed`);return{_tag:"boxed-rule",match:l,replace:u??n,condition:o,useVariations:e.useVariations,id:s}}function f5(t,e,r){if(!e)return{rules:[]};if(typeof e=="object"&&"rules"in e)return e;Array.isArray(e)||(e=[e]);let i=[];for(let n of e)try{i.push(UF(t,n,r))}catch(a){throw new Error(`
${a.message}
|   Skipping rule ${JSON.stringify(n)}

`)}return{rules:i}}function m9(t,e,r,i){let n=(i==null?void 0:i.canonical)??(e.isCanonical||e.isStructural),a=!1;if(e.ops&&(i!=null&&i.recursive)){let m=e.ops.map(f=>{let v=m9(t,f,{},i);return v?(a=!0,v.value):f});a&&(e=e.engine.function(e.operator,m,{canonical:n}))}let{match:s,replace:o,condition:l,id:u}=t,c=u??"";if(n&&s){let m=i2(s),f=s;s=s.canonical;let v=i2(s);if(!m.every(y=>v.includes(y)))throw new Error(`
|   Invalid rule "${t.id}"
|   The canonical form of ${v5(f).toString()} is "${v5(s).toString()}" and it does not contain all the wildcards of the original match.
|   This could indicate that the match expression in canonical form is already simplified and this rule may not be necessary`)}let h=t.useVariations??(i==null?void 0:i.useVariations)??!1,p=s?e.match(s,{substitution:r,...i,useVariations:h}):{};if(p===null)return a?{value:e,because:c}:null;if(typeof l=="function"){let m={...Object.fromEntries(Object.entries(p).map(([f,v])=>[f.slice(1),v])),...p};try{if(!l(m,e.engine))return a?{value:e,because:c}:null}catch(f){return console.error(`
|   Rule "${t.id}"
|   Error while checking condition
|    ${f.message}`),null}}let d=typeof o=="function"?o(e,p):o.subs(p,{canonical:n});return d?d7e(d)?n?{...d,value:d.value.canonical}:d:{value:n?d.canonical:d,because:c}:null}function r2(t,e,r){if(!e)throw new Error("replace(): Expected one or more rules");let i=(r==null?void 0:r.iterationLimit)??1,n=0,a=(r==null?void 0:r.once)??!1,s;typeof e=="object"&&"rules"in e?s=e.rules:s=t.engine.rules(Array.isArray(e)?e:[e]).rules;let o=!1,l=[];for(;!o&&n<i;){o=!0;for(let u of s)try{let c=m9(u,t,{},r);if(c!==null&&c.value!==t&&!c.value.isSame(t)){if(a)return[c];if(l.some(h=>h.value.isSame(c.value)))return l;l.push(c),o=!1,t=c.value}}catch(c){return console.error(`
${t.toString()}
${u.id}
${c.message}`),l}n+=1}return l}function g5(t,e,r,i){let n=[];for(let a of e.rules){let s=m9(a,t,r,i);s!==null&&!n.some(o=>o.isSame(s.value))&&n.push(s.value)}return n}function v5(t){let e=t.symbol;if(e&&e.startsWith("_"))return t.engine.symbol(e.slice(1));if(t.ops){let r=t.ops.map(i=>v5(i));return t.engine.function(t.operator,r,{canonical:!1})}return t}function i2(t){let e=[];return t.symbol&&t.symbol.startsWith("_")&&e.push(t.symbol),t.ops&&t.ops.forEach(r=>e.push(...i2(r))),e}function VF(t,e){let r=i2(t),i=i2(e);return r.every(n=>i.includes(n))}function d7e(t){return t&&typeof t=="object"&&"because"in t&&"value"in t}function m7e(t){return t&&typeof t=="object"&&t._tag==="boxed-rule"}var f7e=[{match:["Multiply","_x","__a"],replace:0,id:"ax",condition:({__a:t})=>!t.has("_x")},{match:["Add",["Divide","_a","_x"],"__b"],replace:1/0,useVariations:!0,condition:({_a:t,__b:e})=>!t.has("_x")&&!e.has("_x")},{match:["Add",["Multiply","_x","__a"],"__b"],replace:["Divide",["Negate","__b"],"__a"],useVariations:!0,condition:({__a:t,__b:e})=>!t.has("_x")&&!e.has("_x")},{match:["Add",["Multiply","_a",["Power","_x","_n"]],"__b"],replace:["Power",["Divide",["Negate","__b"],"_a"],["Divide",1,"_n"]],useVariations:!0,condition:({_a:t,__b:e,_n:r})=>!t.has("_x")&&!e.has("_x")&&!r.is(0)},{match:["Add",["Multiply","_a",["Power","_x","_n"]],"__b"],replace:["Negate",["Power",["Divide",["Negate","__b"],"_a"],["Divide",1,"_n"]]],useVariations:!0,condition:({_a:t,__b:e,_n:r})=>!t.has("_x")&&!e.has("_x")&&!r.is(0)&&(r.isEven??!1)},{match:["Add",["Multiply","__a",["Power","_x",2]],["Multiply","__b","_x"],"__c"],replace:["Divide",["Add",["Negate","__b"],["Sqrt",["Subtract",["Square","__b"],["Multiply",4,"__a","__c"]]]],["Multiply",2,"__a"]],useVariations:!0,condition:({__a:t,__b:e,__c:r})=>!t.has("_x")&&!e.has("_x")&&!r.has("_x")},{match:["Add",["Multiply","__a",["Power","_x",2]],["Multiply","__b","_x"],"__c"],replace:["Divide",["Subtract",["Negate","__b"],["Sqrt",["Subtract",["Square","__b"],["Multiply",4,"__a","__c"]]]],["Multiply",2,"__a"]],useVariations:!0,condition:({__a:t,__b:e,__c:r})=>!t.has("_x")&&!e.has("_x")&&!r.has("_x")},{match:["Add",["Multiply","__a",["Exp",["Multiply","__b","_x"]]],"__c"],replace:["Divide",["Ln",["Negate",["Divide","__c","__a"]]],"__b"],useVariations:!0,condition:({__a:t,__c:e})=>((!t.is(0)&&e.div(t).isNegative)??!1)&&!t.has("_x")&&!e.has("_x")},{match:["Add",["Multiply","__a",["Exp","_x"]],"__c"],replace:["Ln",["Negate",["Divide","__c","__a"]]],useVariations:!0,condition:({__a:t,__c:e})=>((!t.is(0)&&e.div(t).isNegative)??!1)&&!t.has("_x")&&!e.has("_x")},{match:["Add",["Exp","_x"],"__c"],replace:["Ln",["Negate","__c"]],useVariations:!0,condition:({__c:t})=>t.isNegative??!1},{match:["Add",["Exp",["Multiply","__b","_x"]],"__c"],replace:["Divide",["Ln",["Negate","__c"]],"__b"],useVariations:!0,condition:({__c:t})=>t.isNegative??!1},{match:["Add",["Multiply","__a",["Log","_x","__b"]],"__c"],replace:["Power","__b",["Negate",["Divide","__c","__a"]]],useVariations:!0,condition:({__a:t,__b:e})=>(!t.is(0)&&e.isPositive)??!1},{match:["Multiply","__a",["Log","_x","__b"]],replace:["Power","__b",["Negate",["Divide","__c","__a"]]],useVariations:!0,condition:({__a:t,__b:e})=>(!t.is(0)&&e.isPositive)??!1},{match:["Add",["Abs",["Add",["Multiply","__a","_x"],"__b"]],"__c"],replace:["Divide",["Subtract","__b","__c"],"__a"]},{match:["Add",["Abs",["Add",["Multiply","__a","_x"],"__b"]],"__c"],replace:["Divide",["Negate",["Add","__b","__c"],"__a"]]},{match:"ax + \\mathrm{__b} \\sqrt{cx + \\mathrm{__d}} + \\mathrm{__g}",replace:"\\frac{-(2 a g - \\mathrm{__b}^2 c) + \\sqrt{(2 a \\mathrm{__g} - \\mathrm{__b}^2 c)^2 - 4 a^2(g^2 - b^2 \\mathrm{__d})}}{2 a^2}",useVariations:!0,condition:({a:t,__b:e,c:r,d:i,__g:n})=>!t.has("_x")&&!e.has("_x")&&!r.has("_x")&&!i.has("_x")&&!n.has("_x")},{match:"ax + \\mathrm{__b} \\sqrt{cx + \\mathrm{__d}} + \\mathrm{__g}",replace:"\\frac{-(2 a g - \\mathrm{__b}^2 c) - \\sqrt{(2 a \\mathrm{__g} - \\mathrm{__b}^2 c)^2 - 4 a^2(g^2 - b^2 \\mathrm{__d})}}{2 a^2}",useVariations:!0,condition:({a:t,__b:e,c:r,d:i,__g:n})=>!t.has("_x")&&!e.has("_x")&&!r.has("_x")&&!i.has("_x")&&!n.has("_x")}];function GF(t,e){let r=t.engine;t.operator==="Equal"?t=t.op1.expand().sub(t.op2.expand()).simplify():t=t.expand().simplify();let i=r.getRuleSet("solve-univariate"),n=[t.subs({[e]:"_x"},{canonical:!1})],a=n.flatMap(s=>g5(s,i,{_x:r.symbol("_x")},{useVariations:!0,canonical:!0}));return a.length===0&&(n=n.flatMap(s=>ZF(s)),a=n.flatMap(s=>g5(s,i,{_x:r.symbol(e)},{useVariations:!0,canonical:!0}))),a.length===0&&(n=n.flatMap(s=>B0(s.canonical)).filter(s=>s!==null),n=n.flatMap(s=>ZF(s)),a=n.flatMap(s=>g5(s,i,{_x:r.symbol(e)},{useVariations:!0,canonical:!0}))),v7e(t,e,a.map(s=>s.evaluate().simplify()))}var g7e=[{match:["Add",["Abs",["Add",["Multiply","__a","_x"],"__b"]],"__c"],replace:["Add",["Multiply","__a","_x"],"__b","__c"]},{match:["Add",["Abs",["Add",["Multiply","__a","_x"],"__b"]],"__c"],replace:["Add",["Negate",["Multiply","__a","_x"]],["Negate","__b"],"__c"]},{match:["Multiply","__a",["Power","_b","_n"]],replace:"_b",condition:({__a:t,_b:e,_n:r})=>!t.has("_x")&&e.has("_x")&&!r.is(0)&&!r.has("_x")},{match:["Multiply","__a",["Sqrt","_b"]],replace:["Multiply",["Square","_a"],"__b"],condition:({_b:t})=>t.has("_x")},{match:["Divide","_a","_b"],replace:"_a",condition:({_a:t,_b:e})=>t.has("_x")&&!e.is(0)},{match:["Multiply","__a","_b"],replace:"_b",condition:({__a:t,_b:e})=>!t.has("_x")&&e.has("_x")},{match:["Add",["Ln","_a"],["Ln","_b"],"__c"],replace:["Add",["Ln",["Multiply","_a","_b"]],"__c"]},{match:["Multiply",["Exp","__a"],["Exp","__b"],"__c"],replace:["Multiply",["Exp",["Add","_a","_b"]],"__c"]},{match:["Ln","_a"],replace:["Subtract","_a",1],condition:({_a:t})=>t.has("_x")},{match:["Sin","_a"],replace:"_a",condition:({_a:t})=>t.has("_x")},{match:["Cos","_a"],replace:["Subtract","_a",["Divide","Pi",2]],condition:({_a:t})=>t.has("_x")},{match:["Tan","_a"],replace:"_a",condition:({_a:t})=>t.has("_x")},{match:["Add",["Sin","_a"],["Cos","_a"]],replace:1,condition:({_a:t})=>t.has("_x")},{match:["Subtract",["Square",["Sin","_a"]],["Square",["Cos","_a"]]],replace:["PlusMinus",["Sin","_a"],["Divide",["Sqrt",2],2]],condition:({_a:t})=>t.has("_x")}];function ZF(t){let e=t.engine,r=e.getRuleSet("harmonization");return g5(t,r,{_x:e.symbol("_x")})}function v7e(t,e,r){return r.filter(i=>{let n=t.subs({[e]:i}).N();return n===null||!n.isValid||n.isNaN||n.has(e)?!1:n.isEqual(0)})}function y7e(t){if(t.operator==="Element")return w7e(t);if(t.operator==="Equal")return b7e(t);if(V3(t))return x7e(t);throw new Error("Unsupported assumption. Use `Element`, `Equal` or an inequality")}function b7e(t){t.operator;let e=t.unknowns;if(e.length===0){let n=t.evaluate();return n.symbol==="True"?"tautology":n.symbol==="False"?"contradiction":(t.canonical.evaluate(),"not-a-predicate")}let r=t.engine,i=t.op1.symbol;if(i&&!k7e(r,i)&&!t.op2.has(i)){let n=t.op2.evaluate();if(!n.isValid)return"not-a-predicate";let a=r.lookupSymbol(i);return a?a.type&&!n.type.matches(a.type)&&!a.inferredType?"contradiction":(a.value=n,a.inferredType&&(a.type=n.type),"ok"):(r.defineSymbol(i,{value:n}),"ok")}if(e.length===1){let n=e[0],a=GF(t,n);a.length===0&&r.assumptions.set(r.function("Equal",[t.op1.sub(t.op2),0]),!0);let s=a.length===1?a[0]:r.function("List",a),o=r.lookupSymbol(n);return o?o.type&&!a.every(l=>!l.type||s.type.matches(l.type))?"contradiction":(o.value=s,"ok"):(r.defineSymbol(n,{value:s}),"ok")}return r.assumptions.set(t,!0),"ok"}function x7e(t){let e=t.engine;if(t.op1.symbol&&!f9(e,t.op1.symbol))return t.op2.is(0)?t.operator==="Less"?e.defineSymbol(t.op1.symbol,{type:"real",flags:{sgn:"negative"}}):t.operator==="LessEqual"?e.defineSymbol(t.op1.symbol,{type:"real",flags:{sgn:"non-positive"}}):t.operator==="Greater"?e.defineSymbol(t.op1.symbol,{type:"real",flags:{sgn:"positive"}}):t.operator==="GreaterEqual"&&e.defineSymbol(t.op1.symbol,{type:"real",flags:{sgn:"non-negative"}}):(e.defineSymbol(t.op1.symbol,{type:"real"}),e.assumptions.set(t,!0)),"ok";let r="",i,n;if(t.operator==="Less"?(i=t.op1,n=t.op2,r="<"):t.operator==="LessEqual"?(i=t.op1,n=t.op2,r="<="):t.operator==="Greater"?(i=t.op2,n=t.op1,r="<"):t.operator==="GreaterEqual"&&(i=t.op2,n=t.op1,r="<="),!r)return"internal-error";let a=i.sub(n),s=e.box([r==="<"?"Less":"LessEqual",a,0]).evaluate();if(s.symbol==="True")return"tautology";if(s.symbol==="False")return"contradiction";let o=s.unknowns;return o.length===0?"not-a-predicate":(o.length===1&&(e.lookupSymbol(o[0])||e.defineSymbol(o[0],{type:"real"})),s.operator==="Less"||s.operator,e.assumptions.set(s,!0),"ok")}function w7e(t){var n,a;t.operator;let e=t.engine,r=M7e(t.op1);if(r.length===1){let s=t.op2.evaluate();if(!s.isValid)return"not-a-predicate";let o=z7(s);if(o==="unknown")throw new Error(`Invalid domain "${s.toString()}"`);return e.declare(r[0],o),"ok"}if(t.op1.symbol&&f9(e,t.op1.symbol)){let s=t.op2.evaluate();if(!s.isValid)return"not-a-predicate";let o=z7(s);(a=(n=e.context)==null?void 0:n.ids)!=null&&a.has(t.op1.symbol)||e.declare(t.op1.symbol,z7(s));let l=e.lookupSymbol(t.op1.symbol);if(l)return l.type&&!ur(o,l.type.type)?"contradiction":(l.type=new Ji(o),"ok");let u=e.lookupFunction(t.op1.symbol);return u?ur(o,F3(u.signature.type))?"ok":"contradiction":"not-a-predicate"}if(r.length>0)return e.assumptions.set(t,!0),"ok";let i=t.evaluate();return i.symbol==="True"?"tautology":i.symbol==="False"?"contradiction":"not-a-predicate"}function f9(t,e){return(t.lookupSymbol(e)??t.lookupFunction(e))!==void 0}function M7e(t){return t.symbols.filter(e=>!f9(t.engine,e))}function k7e(t,e){var r;return t.lookupFunction(e)?!1:((r=t.lookupSymbol(e))==null?void 0:r.value)!==void 0}function HF(t,e,r,i,n){if(e.numericValue!==null&&e.isNegative){let a=e.numericValue;if(typeof a=="number")return bi(t,"Subtract",[r,t.number(-a)],i,n);if(e.type.matches("rational"))return bi(t,"Subtract",[r,t.number(a.neg())],i,n)}return e.operator==="Negate"&&r.operator!=="Negate"?bi(t,"Subtract",[r,e.op1],i,n):null}function C7e(t,e,r,i,n){var s,o,l,u;let a=i.exclude;if(e==="Add"&&r.length===2&&!a.includes("Subtract")){let c=HF(t,r[0],r[1],i,n)??HF(t,r[1],r[0],i,n);if(c)return c}if(e==="Divide"&&r.length===2&&a.includes("Divide"))return bi(t,"Multiply",[r[0],t._fn("Power",[r[1],t.NegativeOne])],i,n);if(e==="Multiply"&&!a.includes("Negate")&&r[0].im===0&&r[0].re===-1)return r.length===2?bi(t,"Negate",[r[1]],i):bi(t,"Negate",[t._fn("Multiply",[...r.slice(1)].sort(ks))],i,n);if(e==="Multiply"&&!a.includes("Divide")){let c=new Eu(t,r,{canonical:!1}).asRationalExpression();if(c.operator==="Divide")return bi(t,c.operator,c.ops,i,n)}if(e==="Power"){if(!a.includes("Exp")&&((s=r[0])==null?void 0:s.symbol)==="ExponentialE")return bi(t,"Exp",[r[1]],i,n);if(((o=r[1])==null?void 0:o.numericValue)!==null){let c=Bn(r[1]);if(c===2&&!a.includes("Square"))return bi(t,"Square",[r[0]],i,n);if(c!==null&&c<0&&!a.includes("Divide"))return bi(t,"Divide",[t.One,c===-1?r[0]:r[0].pow(-c)],i,n);let h=r[1].re;if(!a.includes("Sqrt")&&h===.5)return bi(t,"Sqrt",[r[0]],i,n);if(!a.includes("Sqrt")&&h===-.5)return bi(t,"Divide",[t.One,t._fn("Sqrt",[r[0]])],i,n);if(hd(h)){let p=kxe(h),d=Cxe(h);if(p===1){if(!a.includes("Sqrt")&&d===2)return bi(t,"Sqrt",[r[0]],i,n);if(!a.includes("Root"))return bi(t,"Root",[r[0],t.number(h[1])],i,n)}if(p===-1){if(!a.includes("Sqrt")&&d===2)return bi(t,"Divide",[t.One,t._fn("Sqrt",[r[0]])],i,n);if(!a.includes("Root"))return bi(t,"Divide",[t.One,t._fn("Root",[r[0],t.number(h[1])])],i,n)}}}}if(e==="Add"&&r.length===2&&!a.includes("Subtract")){if(((l=r[1])==null?void 0:l.numericValue)!==null){let c=Bn(r[1]);if(c!==null&&c<0)return bi(t,"Subtract",[r[0],t.number(-c)],i,n)}if(((u=r[1])==null?void 0:u.operator)==="Negate")return bi(t,"Subtract",[r[0],r[1].op1],i,n)}if(e==="Tuple"){if(r.length===1&&!a.includes("Single"))return bi(t,"Single",r,i,n);if(r.length===2&&!a.includes("Pair"))return bi(t,"Pair",r,i,n);if(r.length===3&&!a.includes("Triple"))return bi(t,"Triple",r,i,n)}return bi(t,e,r,i,n)}function bi(t,e,r,i,n){var l,u;let a=i.exclude;if(e==="Negate"&&r.length===1){let c=(l=r[0])==null?void 0:l.numericValue;if(c!==null){if(typeof c=="number")return i0(t,-c,i);if(c instanceof Ui||c instanceof yn)return i0(t,c.neg(),i);if(hd(c))return i0(t,X3(c),i)}}if(typeof e=="string"&&a.includes(e)){if(e==="Rational"&&r.length===2)return bi(t,"Divide",r,i,n);if(e==="Complex"&&r.length===2)return bi(t,"Add",[r[0],t._fn("Multiply",[r[1]??t.symbol("Undefined"),t.I])],i,n);if(e==="Sqrt"&&r.length===1)return bi(t,"Power",[r[0],a.includes("Half")?t.number([1,2]):t.Half],i,n);if(e==="Root"&&r.length===2&&((u=r[1])==null?void 0:u.numericValue)!==null){let c=Bn(r[1]);if(c===2)return bi(t,"Sqrt",[r[0]],i);if(c!==null)return c<0?bi(t,"Divide",[t.One,t._fn("Power",[r[0]??t.symbol("Undefined"),t.number([1,-c])])],i,n):bi(t,"Power",[r[0],t.number([1,-c])],i,n)}if(e==="Square"&&r.length===1)return bi(t,"Power",[r[0],t.number(2)],i,n);if(e==="Exp"&&r.length===1)return bi(t,"Power",[t.E,r[0]],i,n);if(e==="Pair"||e=="Single"||e==="Triple")return bi(t,"Tuple",r,i,n);if(e==="Subtract"&&r.length===2)return bi(t,"Add",[r[0],t._fn("Negate",[r[1]??t.symbol("Undefined")])],i,n);if(e==="Subtract"&&r.length===1)return bi(t,"Negate",r,i,n)}let s=[e,...r.map(c=>c?YF(t,c,i):"Undefined")],o={...n??{}};return i.metadata.includes("latex")?o.latex=o.latex??t.box({fn:s}).latex:o.latex="",i.metadata.includes("wikidata")||(o.wikidata=""),!o.latex&&!o.wikidata&&i.shorthands.includes("function")?s:o.latex&&o.wikidata?{fn:s,latex:o.latex,wikidata:o.wikidata}:o.latex?{fn:s,latex:o.latex}:o.wikidata?{fn:s,wikidata:o.wikidata}:{fn:s}}function N7e(t,e){return t=t,e.shorthands.includes("string")?`'${t}'`:{str:t}}function Kc(t,e,r,i){var n;if(e==="Half"&&r.exclude.includes("Half"))return i0(t,[1,2],r,i);if(i={...i},r.metadata.includes("latex")?(i.latex=i.latex??t.box({sym:e}).latex,i.latex!==void 0&&(i.latex=i.latex)):i.latex=void 0,r.metadata.includes("wikidata")){if(i.wikidata===void 0){let a=(n=t.lookupSymbol(e))==null?void 0:n.wikidata;a!==void 0&&(i.wikidata=a)}}else i.wikidata=void 0;return e=e,i.latex===void 0&&i.wikidata===void 0&&r.shorthands.includes("symbol")?e:i.latex!==void 0&&i.wikidata!==void 0?{sym:e,latex:i.latex,wikidata:i.wikidata}:i.latex!==void 0?{sym:e,latex:i.latex}:i.wikidata!==void 0?{sym:e,wikidata:i.wikidata}:{sym:e}}function WF(t,e){if(!e.repeatingDecimal)return t;let[r,i,n,a]=t.match(/^(.*)\.([0-9]+)([e|E][-+]?[0-9]+)?$/)??[];if(!n)return t.toLowerCase();let s=n[n.length-1];n=n.slice(0,-1);let o=16,l="";for(let u=0;u<n.length-o;u++){l=n.substring(0,u);for(let c=0;c<=o;c++){let h=n.substring(u,u+c+1),p=Math.floor((n.length-l.length)/h.length);if(p<3)break;if((l+h.repeat(p+1)).startsWith(n))return h==="0"?s==="0"?i+"."+l+(a??""):t:i+"."+l+"("+h+")"+(a??"")}}for(n+=s;n.endsWith("0");)n=n.slice(0,-1);return typeof e.fractionalDigits=="number"&&(n=n.slice(0,e.fractionalDigits)),a?`${i}.${n}${a.toLowerCase()}`:`${i}.${n}`}function i0(t,e,r,i){i={...i},r.metadata.includes("latex")||(i.latex=void 0);let n=i.latex===void 0&&i.wikidata===void 0&&!r.metadata.includes("latex")&&r.shorthands.includes("number"),a=r.exclude;if(e instanceof us){if(e.isNaN)return Kc(t,"NaN",r,i);if(e.isPositiveInfinity)return Kc(t,"PositiveInfinity",r,i);if(e.isNegativeInfinity)return Kc(t,"NegativeInfinity",r,i);if(e.isComplexInfinity)return Kc(t,"ComplexInfinity",r,i);if(n){if(e.isZero)return 0;if(e.isOne)return 1;if(e.isNegativeOne)return-1}if(e instanceof Ms){e.im;let l=u=>Bf(u)?i0(t,e.rational[0],r):["Rational",i0(t,e.rational[0],r),i0(t,e.rational[1],r)];return e.radical===1?l(e.rational):Ml(e.rational)?["Sqrt",e.radical]:O7(e.rational)?["Negate",["Sqrt",e.radical]]:e.rational[0]==1?["Divide",["Sqrt",e.radical],i0(t,e.rational[1],r)]:e.rational[0]==-1?["Negate",["Divide",["Sqrt",e.radical],i0(t,e.rational[1],r)]]:["Multiply",l(e.rational),["Sqrt",e.radical]]}if(e.im===0){let l=e.bignumRe??e.re;return i0(t,l,r,i)}return Number.isFinite(e.im)?bi(t,"Complex",[t.number(e.bignumRe??e.re),t.number(e.im)],r,{...i,wikidata:"Q11567"}):Kc(t,"ComplexInfinity",r,i)}let s="";if(e instanceof Ui){let l;if(e.isNaN())l="NaN";else if(!e.isFinite())l=e.isPositive()?"PositiveInfinity":"NegativeInfinity";else{if(n&&i5(e))return e.toNumber();if(e.isInteger()&&e.e<e.precision()+4)s=e.toFixed(0);else{let u=r.fractionalDigits,c;if(u==="max"?c=e.toString():u==="auto"?c=e.toPrecision(t.precision):c=e.toDecimalPlaces(u).toString(),s=WF(c,r),n){let h=e.toNumber();if(h.toString()===s)return h}}}return r.metadata.includes("latex")&&(i.latex=i.latex??t.box(l??{num:s}).latex),l?i.latex!==void 0?{sym:l,latex:i.latex}:n?l:{sym:l}:i.latex!==void 0?{num:s,latex:i.latex}:n?s:{num:s}}if(e instanceof yn)return e.isInfinite()?Kc(t,"ComplexInfinity",r,i):e.isNaN()?(s="NaN",r.metadata.includes("latex")&&(i.latex=i.latex??t.box({num:s}).latex),i.latex!==void 0?{num:s,latex:i.latex}:{num:s}):bi(t,"Complex",[t.number(e.re),t.number(e.im)],r,{...i,wikidata:"Q11567"});if(hd(e)){let l=!a.includes("Rational");return n&&r.shorthands.includes("function")&&va(e)?e[0]===1&&e[1]===2&&!a.includes("Half")?Kc(t,"Half",r,i):[l?"Rational":"Divide",e[0],e[1]]:bi(t,l?"Rational":"Divide",[t.number(e[0]),t.number(e[1])],r,{...i})}if(typeof e=="bigint")if(e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER)e=Number(e);else return r.metadata.includes("latex")&&(i.latex=i.latex??t.box({num:e.toString()}).latex),i.latex!==void 0?{num:e.toString(),latex:i.latex}:n?kl(e,r.fractionalDigits):{num:Do(e,r.fractionalDigits)};let o;return Number.isNaN(e)?o="NaN":Number.isFinite(e)?s=WF(e.toString(),r):o=e>0?"PositiveInfinity":"NegativeInfinity",r.metadata.includes("latex")&&(i.latex=i.latex??t.box({num:s}).latex),o?i.latex!==void 0?{sym:o,latex:i.latex}:n?o:{sym:o}:i.latex!==void 0?{num:s,latex:i.latex}:n&&s===e.toString()?e:{num:s}}function YF(t,e,r){let i=e.scope?e.wikidata:void 0;return e.numericValue!==null?i0(t,e.numericValue,r,{latex:e.verbatimLatex}):e.rank>0?e.json:e.string!==null?N7e(e.string,r):e.symbol!==null?Kc(t,e.symbol,r,{latex:e.verbatimLatex,wikidata:i}):e.ops?e.isValid&&(e.isCanonical||e.isStructural)&&r.prettify?C7e(t,e.operator,e.structural.ops,r,{latex:e.verbatimLatex,wikidata:i}):bi(t,e.operator,e.structural.ops,r,{latex:e.verbatimLatex,wikidata:i}):e.json}function KF(t,e,r,i=1e5){let n=0;if(e===-1/0&&r===1/0)for(let a=0;a<i;a++){let s=Math.random(),o=Math.tan(Math.PI*(s-.5)),l=Math.PI*(1+o*o);n+=t(o)/l}else if(e===-1/0)for(let a=0;a<i;a++){let s=Math.random(),o=r-Math.log(1-s),l=1/(1-s);n+=t(o)/l}else if(r===1/0)for(let a=0;a<i;a++){let s=Math.random(),o=e+Math.log(s),l=1/s;n+=t(o)/l}else for(let a=0;a<i;a++)n+=t(e+Math.random()*(r-e));return n/i*(r-e)}function XF(t){let e=0,r=0;for(let i of t)e+=i,r++;return r===0?NaN:e/r}function S7e(t,e){let r=t(0),i=0;for(let n of e)r=r.add(n),i++;return i===0?t(NaN):r.div(i)}function y1(t){let e=[...t].sort((i,n)=>i-n),r=Math.floor(e.length/2);return e.length%2===0?(e[r-1]+e[r])/2:e[r]}function xd(t){let e=[...t].sort((i,n)=>i.cmp(n)),r=Math.floor(e.length/2);return e.length%2===0?e[r-1].add(e[r]).div(2):e[r]}function y5(t){let e=0,r=0,i=0;for(let n of t)e+=n,r+=n*n,i++;return i===0?NaN:(r-e*e/i)/(i-1)}function QF(t,e){let r=t(0),i=t(0),n=0;for(let a of e)r=r.add(a),i=i.add(a.mul(a)),n++;return n===0?t(NaN):i.sub(r.mul(r).div(n)).div(n-1)}function b5(t){let e=0,r=0,i=0;for(let n of t)e+=n,r+=n*n,i++;return i===0?NaN:(r-e*e/i)/i}function JF(t,e){let r=t(0),i=t(0),n=0;for(let a of e)r=r.add(a),i=i.add(a.mul(a)),n++;return n===0?t(NaN):i.sub(r.mul(r).div(n)).div(n)}function D7e(t){return Math.sqrt(y5(t))}function A7e(t){return Math.sqrt(b5(t))}function eP(t){let e=0,r=0,i=0,n=0;for(let s of t){let o=s;if(!Number.isFinite(o))return NaN;e+=o,r+=o*o,i+=o*o*o*o,n++}if(n===0)return NaN;let a=(r-e*e/n)/(n-1);return(i-4*e*r/n+6*e*e*e/n/n-3*e*e*e*e/n/n/n)/(a*a)}function $7e(t,e){let r=t(0),i=t(0),n=t(0),a=0;for(let o of e){let l=o;if(!l.isFinite())return t(NaN);r=r.add(l),i=i.add(l.mul(l)),n=n.add(l.mul(l).mul(l).mul(l)),a++}if(a===0)return t(NaN);let s=i.sub(r.mul(r).div(a)).div(a-1);return n.sub(r.mul(i).mul(4).div(a)).add(r.mul(r).mul(r).mul(6).div(a).div(a)).sub(r.mul(r).mul(r).mul(r).div(a).div(a).div(a)).div(s.mul(s))}function tP(t){let e=0,r=0,i=0,n=0;for(let s of t){let o=s;if(!Number.isFinite(o))return NaN;e+=o,r+=o*o,i+=o*o*o,n++}if(n===0)return NaN;let a=(r-e*e/n)/(n-1);return(i-r*e/n)/(n-1)/Math.pow(a,3/2)*Math.sqrt(n*1)}function _7e(t,e){let r=t(0),i=t(0),n=t(0),a=0;for(let o of e){let l=o;if(!l.isFinite())return t(NaN);r=r.add(l),i=i.add(l.mul(l)),n=n.add(l.mul(l).mul(l)),a++}if(a===0)return t(NaN);let s=i.sub(r.mul(r).div(a)).div(a-1);return n.sub(i.mul(r).div(a)).div(a-1).div(s.pow(3/2)).mul(a).sqrt()}function rP(t){let e={};for(let n of t)e[n]=(e[n]??0)+1;let r=0,i=NaN;for(let n in e){let a=e[n];a>r&&(r=a,i=+n)}return i}function E7e(t,e){let r={};for(let a of e)r[a.toString()]=(r[a.toString()]??0)+1;let i=0,n=t(NaN);for(let a in r){let s=r[a];s>i&&(i=s,n=t(a))}return n}function iP(t){let e=[...t].sort((s,o)=>s-o),r=Math.floor(e.length/2),i=y1(e.slice(0,r)),n=y1(e),a=y1(e.slice(r));return[i,n,a]}function I7e(t){let e=[...t].sort((s,o)=>s.cmp(o)),r=Math.floor(e.length/2),i=xd(e.slice(0,r)),n=xd(e),a=xd(e.slice(r));return[i,n,a]}function nP(t){let e=[...t].sort((a,s)=>a-s),r=Math.floor(e.length/2),i=e.slice(0,r),n=e.slice(r+1);return y1(n)-y1(i)}function T7e(t){let e=[...t].sort((a,s)=>a.cmp(s)),r=Math.floor(e.length/2),i=e.slice(0,r),n=e.slice(r+1);return xd(n).sub(xd(i))}var L7e={Add:["+",11],Negate:["-",14],Subtract:["-",11],Multiply:["*",12],Divide:["/",13],Equal:["===",8],NotEqual:["!==",8],LessEqual:["<=",9],GreaterEqual:[">=",9],Less:["<",9],Greater:[">",9],And:["&&",4],Or:["||",3],Not:["!",14]},z7e={Abs:"Math.abs",Add:(t,e)=>t.length===1?e(t[0]):`(${t.map(r=>e(r)).join(" + ")})`,Arccos:"Math.acos",Arccosh:"Math.acosh",Arccot:([t],e)=>{if(t===null)throw new Error("Arccot: no argument");return`Math.atan(1 / (${e(t)}))`},Arccoth:([t],e)=>{if(t===null)throw new Error("Arccoth: no argument");return`Math.atanh(1 / (${e(t)}))`},Arccsc:([t],e)=>{if(t===null)throw new Error("Arccsc: no argument");return`Math.asin(1 / (${e(t)}))`},Arccsch:([t],e)=>{if(t===null)throw new Error("Arccsch: no argument");return`Math.asinh(1 / (${e(t)}))`},Arcsec:([t],e)=>{if(t===null)throw new Error("Arcsec: no argument");return`Math.acos(1 / (${e(t)}))`},Arcsech:([t],e)=>{if(t===null)throw new Error("Arcsech: no argument");return`Math.acosh(1 / (${e(t)}))`},Arcsin:"Math.asin",Arcsinh:"Math.asinh",Arctan:"Math.atan",Arctanh:"Math.atanh",Ceiling:"Math.ceil",Chop:"_SYS.chop",Cos:"Math.cos",Cosh:"Math.cosh",Cot:([t],e)=>{if(t===null)throw new Error("Cot: no argument");return sP("Math.cos(${x}) / Math.sin(${x})",e(t))},Coth:([t],e)=>{if(t===null)throw new Error("Coth: no argument");return sP("(Math.cosh(${x}) / Math.sinh(${x}))",e(t))},Csc:([t],e)=>{if(t===null)throw new Error("Csc: no argument");return`1 / Math.sin(${e(t)})`},Csch:([t],e)=>{if(t===null)throw new Error("Csch: no argument");return`1 / Math.sinh(${e(t)})`},Exp:"Math.exp",Floor:"Math.floor",Gamma:"_SYS.gamma",GCD:"_SYS.gcd",Integrate:(t,e,r)=>R7e(t,e,r),LCM:"_SYS.lcm",Limit:(t,e)=>`_SYS.limit(${e(t[0])}, ${e(t[1])})`,Ln:"Math.log",List:(t,e)=>`[${t.map(r=>e(r)).join(", ")}]`,Log:(t,e)=>t.length===1?`Math.log10(${e(t[0])})`:`(Math.log(${e(t[0])}) / Math.log(${e(t[1])}))`,LogGamma:"_SYS.lngamma",Lb:"Math.log2",Max:"Math.max",Mean:(t,e)=>t.length===0?"NaN":t.length===1?`_SYS.mean(${e(t[0])})`:`_SYS.mean([${t.map(r=>e(r)).join(", ")}])`,Median:(t,e)=>t.length===0?"NaN":t.length===1?`_SYS.median(${e(t[0])})`:`_SYS.median([${t.map(r=>e(r)).join(", ")}])`,Variance:(t,e)=>t.length===0?"NaN":t.length===1?`_SYS.variance(${e(t[0])})`:`_SYS.variance([${t.map(r=>e(r)).join(", ")}])`,PopulationVariance:(t,e)=>t.length===0?"NaN":t.length===1?`_SYS.populationVariance(${e(t[0])})`:`_SYS.populationVariance([${t.map(r=>e(r)).join(", ")}])`,StandardDeviation:(t,e)=>t.length===0?"NaN":t.length===1?`_SYS.standardDeviation(${e(t[0])})`:`_SYS.standardDeviation([${t.map(r=>e(r)).join(", ")}])`,PopulationStandardDeviation:(t,e)=>t.length===0?"NaN":t.length===1?`_SYS.populationStandardDeviation(${e(t[0])})`:`_SYS.populationStandardDeviation([${t.map(r=>e(r)).join(", ")}])`,Kurtosis:(t,e)=>t.length===0?"NaN":t.length===1?`_SYS.kurtosis(${e(t[0])})`:`_SYS.kurtosis([${t.map(r=>e(r)).join(", ")}])`,Skewness:(t,e)=>t.length===0?"NaN":t.length===1?`_SYS.skewness(${e(t[0])})`:`_SYS.skewness([${t.map(r=>e(r)).join(", ")}])`,Mode:(t,e)=>t.length===0?"NaN":t.length===1?`_SYS.mode(${e(t[0])})`:`_SYS.mode([${t.map(r=>e(r)).join(", ")}])`,Quartiles:(t,e)=>t.length===0?"NaN":t.length===1?`_SYS.quartiles(${e(t[0])})`:`_SYS.quartiles([${t.map(r=>e(r)).join(", ")}])`,InterquartileRange:(t,e)=>t.length===0?"NaN":t.length===1?`_SYS.interquartileRange(${e(t[0])})`:`_SYS.interquartileRange([${t.map(r=>e(r)).join(", ")}])`,Min:"Math.min",Power:(t,e)=>{let r=t[0];if(r===null)throw new Error("Power: no argument");let i=t[1].re;return i===.5?`Math.sqrt(${e(r)})`:i===1/3?`Math.cbrt(${e(r)})`:i===1?e(r):i===-1?`(1 / (${e(r)}))`:i===-.5?`(1 / Math.sqrt(${e(r)}))`:`Math.pow(${e(r)}, ${e(t[1])})`},Range:(t,e)=>{if(t.length===0)return"[]";if(t.length===1)return`Array.from({length: ${e(t[0])}}, (_, i) => i)`;let r=e(t[0]),i=e(t[1]),n=t[2]?e(t[2]):"1";if(r===null)throw new Error("Range: no start");if(i===null&&(i=r,r="1"),n==="0")throw new Error("Range: step cannot be zero");if(parseFloat(n)===1){let a=parseFloat(i),s=parseFloat(r);return a!==null&&s!==null?a-s<50?`[${Array.from({length:a-s+1},(o,l)=>s+l).join(", ")}]`:`Array.from({length: ${a-s+1} 
        }, (_, i) => ${r} + i)`:`Array.from({length: ${i} - ${r} + 1
      }, (_, i) => ${r} + i)`}return`Array.from({length: Math.floor((${i} - ${r}) / ${n}) + 1}, (_, i) => ${r} + i * ${n})`},Root:([t,e],r)=>{if(t===null)throw new Error("Root: no argument");return e===null?`Math.sqrt(${r(t)})`:(e==null?void 0:e.re)===2?`Math.sqrt(${r(t)})`:(e==null?void 0:e.re)===3?`Math.cbrt(${r(t)})`:isNaN(e==null?void 0:e.re)?`Math.pow(${r(t)}, 1 / (${r(e)}))`:`Math.pow(${r(t)},  ${1/e.re})`},Random:"Math.random",Round:"Math.round",Square:(t,e)=>{let r=t[0];if(r===null)throw new Error("Square: no argument");return`Math.pow(${e(r)}, 2)`},Sec:(t,e)=>{let r=t[0];if(r===null)throw new Error("Sec: no argument");return`1 / Math.cos(${e(r)})`},Sech:(t,e)=>{let r=t[0];if(r===null)throw new Error("Sech: no argument");return`1 / Math.cosh(${e(r)})`},Sgn:"Math.sign",Sin:"Math.sin",Sinh:"Math.sinh",Sqrt:"Math.sqrt",Tan:"Math.tan",Tanh:"Math.tanh"},B7e=class extends Function{constructor(e,r=""){return super("_SYS","_",`${r};return ${e}`),this.sys={chop:fxe,factorial:dxe,gamma:Uf,gcd:od,integrate:(i,n,a)=>KF(i,n,a,1e7),lcm:wO,lngamma:W7,limit:$f,mean:XF,median:y1,variance:y5,populationVariance:b5,standardDeviation:D7e,populationStandardDeviation:A7e,kurtosis:eP,skewness:tP,mode:rP,quartiles:iP,interquartileRange:nP},new Proxy(this,{apply:(i,n,a)=>super.apply(n,[this.sys,...a]),get:(i,n)=>n==="toString"?()=>e:i[n]})}};function O7e(t,e){let r=Ga(t,e);return new B7e(r,e.preamble)}function F7e(t,e,r,i=[],n){let a=t.unknowns,s=i.map(l=>{if(typeof l=="function")return l.toString();throw new Error(`Unsupported import \`${l}\``)}).join(`
`),o=e?Object.fromEntries(Object.entries(e).filter((l,u)=>typeof u!="string")):{};if(e)for(let[l,u]of Object.entries(e))typeof u=="function"&&(j7e(u)?(s+=`${u.toString()};
`,o[l]=u.name):(s+=`const ${l} = ${u.toString()};
`,o[l]=l));return O7e(t,{operators:l=>L7e[l],functions:l=>o!=null&&o[l]?o[l]:z7e[l],var:l=>{if(r&&l in r)return JSON.stringify(r[l]);let u={Pi:"Math.PI",ExponentialE:"Math.E",NaN:"Number.NaN",ImaginaryUnit:"Number.NaN",Half:"0.5",MachineEpsilon:"Number.EPSILON",GoldenRatio:"((1 + Math.sqrt(5)) / 2)",CatalanConstant:"0.91596559417721901",EulerGamma:"0.57721566490153286"}[l];if(u!==void 0)return u;if(a.includes(l))return`_.${l}`},string:l=>JSON.stringify(l),number:l=>l.toString(),indent:0,ws:l=>l??"",preamble:(n??"")+s})}function aP(t,e,r,i,n){var s,o,l;if(e==="Error")throw new Error("Error");if(e==="Sequence")return r.length===0?"":`(${r.map(u=>Ga(u,n,i)).join(", ")})`;if(e==="Sum"||e==="Product")return P7e(e,r,n);if(r.every(u=>!u.isCollection)){let u=(s=n.operators)==null?void 0:s.call(n,e);if(Vc(e)&&r.length>2&&u){let c=[];for(let h=0;h<r.length-1;h++)c.push(aP(t,e,[r[h],r[h+1]],u[1],n));return`(${c.join(") && (")})`}if(u!==void 0){if(r===null)return"";let c;return r.length===1?c=`${u[0]}${Ga(r[0],n,u[1])}`:c=r.map(h=>Ga(h,n,u[1])).join(` ${u[0]} `),u[1]<i?`(${c})`:c}}if(e==="Function"){let u=r.slice(1).map(c=>c.symbol);return`((${u.join(", ")}) => ${Ga(r[0].canonical,{...n,var:c=>u.includes(c)?c:n.var(c)})})`}if(e==="Declare")return`let ${r[0].symbol}`;if(e==="Assign")return`${r[0].symbol} = ${Ga(r[1],n)}`;if(e==="Return")return`return ${Ga(r[0],n)}`;if(e==="If"){if(r.length!==3)throw new Error("If: wrong number of arguments");return`((${Ga(r[0],n)}) ? (${Ga(r[1],n)}) : (${Ga(r[2],n)}))`}if(e==="Block"){let u=[];for(let h of r)h.operator==="Declare"&&u.push(h.ops[0].symbol);if(r.length===1&&u.length===0)return Ga(r[0],n);let c=r.map(h=>Ga(h,{...n,var:p=>u.includes(p)?p:n.var(p)}));return c[c.length-1]=`return ${c[c.length-1]}`,`(() => {${n.ws(`
`)}${c.join(`;${n.ws(`
`)}`)}${n.ws(`
`)}})()`}let a=(o=n.functions)==null?void 0:o.call(n,e);if(!a)throw new Error(`Unknown function \`${e}\``);if(typeof a=="function"){if((l=t.lookupFunction(e))!=null&&l.threadable&&r.length===1&&os(r[0])){let u=n2();return`(${Ga(r[0],n)}).map((${u}) => ${a([r[0].engine.box(u)],c=>Ga(c,n),n)})`}return a(r,u=>Ga(u,n),n)}return r===null?`${a}()`:`${a}(${r.map(u=>Ga(u,n)).join(", ")})`}function Ga(t,e,r=0){var n;if(t===void 0)return"";if(!t.isValid)throw new Error(`Cannot compile invalid expression: "${t.toString()}"`);let i=t.symbol;if(i!==null)return((n=e.var)==null?void 0:n.call(e,i))??i;if(t.isNumberLiteral){if(t.im!==0)throw new Error("Complex numbers are not supported");return e.number(t.re)}return t.string!==null?e.string(i):aP(t.engine,t.operator,t.ops,r,e)}function P7e(t,e,r){if(e===null)throw new Error("Sum/Product: no arguments");if(!e[0])throw new Error("Sum/Product: no body");let{index:i,lower:n,upper:a,isFinite:s}=p5(e[1]),o=t==="Sum"?"+":"*";if(!i){let c=n2(),h=n2();return`${Ga(e[0],r)}.reduce((${h}, ${c}) => ${h} ${o} ${c}, ${o==="+"?"0":"1"})`}let l=Ga(e[0],{...r,var:c=>c===i?i:r.var(c)}),u=n2();return`(() => {
  let ${u} = ${o==="+"?"0":"1"};
  let ${i} = ${n};
  while (${i} <= ${a}) {
    ${u} ${o}= ${l};
    ${i}++;
  }
  return ${u};
})()`}function sP(t,e){if(/^[\p{L}_][\p{L}\p{N}_]*$/u.test(e)||/^[0-9]+$/.test(e))return new Function("x",`return \`${t}\`;`)(e);{let r=n2();return new Function("x",`return \`(() => { const ${r} = \${x}; return ${t.replace(/\\\${x}/g,r)}; })()\`;`)(e)}}function n2(){return`_${Math.random().toString(36).substring(4)}`}function R7e(t,e,r){let{index:i,lower:n,upper:a}=p5(t[1]),s=Ga(t[0],{...r,var:o=>o===i?o:r.var(o)});return`_SYS.integrate((${i}) => (${s}), ${n}, ${a})`}function j7e(t){let e=t.toString();return e.includes("=>")?!1:e.startsWith("function ")&&e.includes(t.name)}function oP(t,e,r){if(r.repeatingDecimal&&r.repeatingDecimal!=="none"){let a=t.slice(0,-1);for(let s=0;s<t.length-16;s++){let o=a.substring(0,s);for(let l=0;l<17;l++){let u=a.substring(s,s+l+1),c=Math.floor((a.length-o.length)/u.length);if(c<=3)break;if((o+u.repeat(c+1)).startsWith(a)){if(u==="0")return v9(o,r);let h={vinculum:"\\overline{#}",parentheses:"(#)",dots:"\\overset{\\cdots}{#1}#2\\overset{\\cdots}{#3}",arc:"\\wideparen{#}"}[r.repeatingDecimal]??"\\overline{#}";return h=h.replace(/#1/g,u[0]).replace(/#2/g,u.slice(1)).replace(/#3/g,u.slice(-1)).replace(/#/,u),v9(o,r)+h}}}}let i=typeof r.fractionalDigits=="number"?r.fractionalDigits:1/0;i<0&&(i=i-e),i<0&&(i=0);let n=t.length>i;return n&&(t=t.substring(0,i)),t=v9(t,r),n&&(t+=r.truncationMarker),t}function lP(t,e){return!t||t==="0"?"":e.beginExponentMarker?e.beginExponentMarker+t+(e.endExponentMarker??""):`10^{${t}}`}function q7e(t,e){if(t===null)return"";let r;if(typeof t=="number"||typeof t=="string")r=t;else if(typeof t=="object"&&"num"in t)r=t.num;else return"";if(typeof r=="number"){if(r===1/0)return e.positiveInfinity;if(r===-1/0)return e.negativeInfinity;if(Number.isNaN(r))return e.notANumber;let a;return e.notation==="engineering"?a=x5(r.toExponential(),e,3):e.notation==="scientific"&&(a=x5(r.toExponential(),e)),a??g9(r.toString(),e)}if(r=r.toLowerCase().replace(/[\u0009-\u000d\u0020\u00a0]/g,""),r==="infinity"||r==="+infinity")return e.positiveInfinity;if(r==="-infinity")return e.negativeInfinity;if(r==="nan")return e.notANumber;if(!/^[-+\.]?[0-9]/.test(r))return"";if(r=r.replace(/[nd]$/,""),/\([0-9]+\)/.test(r)){let[a,s,o,l]=r.match(/(.+)\(([0-9]+)\)(.*)$/)??[];r=s+o.repeat(6)+l}let i="";for(r[0]==="-"?(i="-",r=r.substring(1)):r[0]==="+"&&(r=r.substring(1));r[0]==="0";)r=r.substring(1);r.length===0?r="0":r[0]==="."&&(r="0"+r);let n;return e.notation==="engineering"?n=x5(r,e,3):e.notation==="scientific"&&(n=x5(r,e)),i+(n??g9(r,e))}function x5(t,e,r=1){let i=t.match(/^(.*)[e|E]([-+]?[0-9]+)$/);if(!i){let c="";if(t[0]==="-"?(c="-",t=t.substring(1)):t[0]==="+"&&(t=t.substring(1)),t.indexOf(".")<0)t.length===1?t=c+t+"e+0":t=c+t[0]+"."+t.slice(1)+"e+"+(t.length-1).toString();else{let[h,p,d]=t.match(/^(.*)\.(.*)$/);for(d||(d="");p.startsWith("0");)p=p.substring(1);p?t=c+p[0]+"."+p.slice(1)+d+"e+"+(p.length-1).toString():t=c+"0."+d+"e+0"}i=t.match(/^(.*)[e|E]([-+]?[0-9]+)$/)}if(!i)return g9(t,e);let n=parseInt(i[2]),a=i[1];if(Math.abs(n)%r!==0){let c=n>0?n%r:-((r+n)%r);n=n>=0?n-c:n+c;let[h,p,d]=a.match(/^(.*)\.(.*)$/)??["",a,""];a=p+(d+"00000000000000000").slice(0,Math.abs(c))+"."+d.slice(Math.abs(c))}let s=e.avoidExponentsInRange;if(s&&n>=s[0]&&n<=s[1])return;let o="",l=a;i=l.match(/^(.*)\.(.*)$/),i&&(l=i[1],o=i[2]);let u=lP(Number(n).toString(),e);if(o=oP(o,l.length,e),l=hP(l,e),o&&(o=e.decimalSeparator+o),!u)return l+o;if(!o){if(l==="1")return u;if(l==="-1")return"-"+u}return l+o+e.exponentProduct+u}function g9(t,e){let r=t.match(/^(.*)[e|E]([-+]?[0-9]+)$/i),i=0;r!=null&&r[1]&&r[2]&&(i=parseInt(r[2]),t=r[1]);let n=(r==null?void 0:r[1])??t,a="";r=t.match(/^(.*)\.(.*)$/),r!=null&&r[1]&&r[2]&&(n=r[1],a=r[2]),i!==0&&a&&(n+=a,i-=a.length,a="");let s=e.avoidExponentsInRange;i!==0&&s&&i>=s[0]&&i<=s[1]&&([n,a]=G7e(n,a,i),i=0);let o=lP(i.toString(),e);if(a&&(a=e.decimalSeparator+oP(a,n.length,e)),n=hP(n,e),!o)return n+a;if(!a){if(n==="1")return o;if(n==="-1")return"-"+o}return n+a+e.exponentProduct+o}function uP(t,e,r){let i=new RegExp(`(\\d{${e}})(?=\\d)`,"g");return t.replace(i,`$1${r}`)}function U7e(t,e,r){let i=new RegExp(`(\\d{${e}})(?=\\d)`,"g"),n=r.split("").reverse().join("");return t.split("").reverse().join("").replace(i,`$1${n}`).split("").reverse().join("")}function V7e(t,e){let r=t.split("").reverse().join(""),i=e.split("").reverse().join(""),n=r.replace(/(\d{3})(?=\d)/,`$1${i}`);return n=n.replace(/(\d{2})(?=(\d{2})+,)/g,`$1${i}`),n.split("").reverse().join("")}function cP(t,e,r){let i=e.digitGroup;typeof i!="string"&&Array.isArray(i)&&(i=i[r]);let n=typeof e.digitGroupSeparator=="string"?e.digitGroupSeparator:e.digitGroupSeparator[r];return n?i==="lakh"?r===0?V7e(t,n):uP(t,3,n):i===!1||i<=0?t:r===1?uP(t,i,n):U7e(t,i,n):t}function v9(t,e){return cP(t,e,1)}function hP(t,e){return cP(t,e,0)}function G7e(t,e,r){let i=t+e,n=t.length+r,a,s;return n>0?n>=i.length?(i=i+"0".repeat(n-i.length),a=i,s=""):(a=i.slice(0,n),s=i.slice(n)):(a="0",s="0".repeat(-n)+i),[a,s]}var y9={deg:t=>`${t}\\degree`,prime:t=>`${t}^{\\prime}`,dprime:t=>`${t}^{\\doubleprime}`,ring:t=>`\\mathring{${t}}`,hat:t=>`\\hat{${t}}`,tilde:t=>`\\tilde{${t}}`,vec:t=>`\\vec{${t}}`,bar:t=>`\\overline{${t}}`,underbar:t=>`\\underline{${t}}`,dot:t=>`\\dot{${t}}`,ddot:t=>`\\ddot{${t}}`,tdot:t=>`\\dddot{${t}}`,qdot:t=>`\\ddddot{${t}}`,acute:t=>`\\acute{${t}}`,grave:t=>`\\grave{${t}}`,breve:t=>`\\breve{${t}}`,check:t=>`\\check{${t}}`},b9={upright:t=>`\\mathrm{${t}}`,italic:t=>`\\mathit{${t}}`,bold:t=>`\\mathbf{${t}}`,script:t=>`\\mathscr{${t}}`,fraktur:t=>`\\mathfrak{${t}}`,doublestruck:t=>`\\mathbb{${t}}`,blackboard:t=>`\\mathbb{${t}}`,calligraphic:t=>`\\mathcal{${t}}`,gothic:t=>`\\mathfrak{${t}}`,sansserif:t=>`\\mathsf{${t}}`,monospace:t=>`\\mathtt{${t}}`},Z7e=class{constructor(e,r){this.level=-1,this.dictionary=e,this.options=r}wrap(e,r){if(e==null)return"";if(r===void 0)return this.wrapString(this.serialize(e),this.options.groupStyle(e,this.level+1));if(typeof e=="number"||Q3(e)){let n=ai(e);return n!==null&&n<0&&r>275?this.wrap(e):this.serialize(e)}let i=Nt(e);if(i&&i!=="Delimiter"&&i!=="Subscript"){let n=this.dictionary.ids.get(i);if(n&&(n.kind==="symbol"||n.kind==="expression"||n.kind==="prefix"||n.kind==="infix"||n.kind==="postfix")&&n.precedence<r)return this.wrapString(this.serialize(e),this.options.applyFunctionStyle(e,this.level))}return this.serialize(e)}wrapShort(e){if(e==null)return"";let r=this.serialize(e);if(hi(e)!==null||dd(e)&&!/^(-|\.)/.test(r))return r;let i=Nt(e);return i==="Delimiter"&&Ea(e)===1||i!=="Add"&&i!=="Negate"&&i!=="Subtract"&&i!=="PlusMinus"&&i!=="Multiply"?r:this.wrapString(r,this.options.groupStyle(e,this.level+1))}wrapString(e,r,i){if(r==="none")return e;i??(i="()");let n=(i==null?void 0:i[0])??".",a=(i==null?void 0:i[1])??".";return n==='"'?n="``":n==="|"?n="\\lvert":n=s5[n]??n,a==='"'?a="''":a==="|"?a="\\rvert":a=s5[a]??a,n==="."&&a==="."?e:((n==="."||a===".")&&r==="normal"&&(r="scaled"),r==="scaled"?`\\left${n}${e}\\right${a}}`:r==="big"?`${`\\Bigl${n}`}${e}${`\\Bigr${a}`})`:n+e+a)}wrapArguments(e){return this.wrapString(nr(e).map(r=>this.serialize(r)).join(", "),this.options.applyFunctionStyle(e,this.level))}serializeSymbol(e,r){var i;return(r==null?void 0:r.kind)==="function"?x9(hi(e)??"")??"":((i=r==null?void 0:r.serialize)==null?void 0:i.call(r,this,e))??x9(hi(e))??""}serializeFunction(e,r){if(r!=null&&r.serialize)return r.serialize(this,e);let i=Nt(e);return x9(i,"auto")+this.wrapArguments(e)}serialize(e){if(e==null)return"";this.level+=1;try{let r=(()=>{let i=q7e(e,this.options);if(i)return i;let n=mn(e);if(n!==null)return`\\text{${n}}`;let a=hi(e);if(a!==null)return this.serializeSymbol(e,this.dictionary.ids.get(a));let s=Nt(e);if(s){let o=this.dictionary.ids.get(s);return this.serializeFunction(e,o)}throw Error(`Syntax error ${e?JSON.stringify(e):""}`)})();return this.level-=1,r??""}catch{}return this.level-=1,""}applyFunctionStyle(e,r){return this.options.applyFunctionStyle(e,r)}groupStyle(e,r){return this.options.groupStyle(e,r)}rootStyle(e,r){return this.options.rootStyle(e,r)}fractionStyle(e,r){return this.options.fractionStyle(e,r)}logicStyle(e,r){return this.options.logicStyle(e,r)}powerStyle(e,r){return this.options.powerStyle(e,r)}numericSetStyle(e,r){return this.options.numericSetStyle(e,r)}};function H7e(t){var s;let e=((s=t.match(/^([^_]+)/))==null?void 0:s[1])??"",r=zu.findIndex(o=>e===o[0]);if(r>=0)return[zu[r][1],t.substring(zu[r][0].length)];let i={zero:"0",one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",ten:"10"};if(r=Object.keys(i).findIndex(o=>t.startsWith(o)),r>=0){let o=Object.keys(i)[r];return[i[o],t.substring(o.length)]}let n=t.codePointAt(0);if(r=zu.findIndex(o=>o[2]===n),r>=0)return[zu[r][1],t.substring(1)];let a={plus:"+",minus:"-",pm:"\\pm",ast:"\\ast",dag:"\\dag",ddag:"\\ddag",hash:"\\#",bottom:"\\bot",top:"\\top",bullet:"\\bullet",circle:"\\circ",diamond:"\\diamond",times:"\\times",square:"\\square",star:"\\star"};if(r=Object.keys(a).findIndex(o=>e===o),r>=0){let o=Object.keys(a)[r];return[a[o],t.substring(o.length)]}return[e,t.substring(e.length)]}function W7e(t){let[e,r]=H7e(t),i=[];for(;r.length>0;){let a=r.match(/^_([a-zA-Z]+)(.*)/);if(!a||!y9[a[1]])break;i.push(a[1]),r=a[2]}let n=[];for(;r.length>0;){let a=r.match(/^_([a-zA-Z]+)(.*)/);if(!a||!b9[a[1]])break;n.push(a[1]),r=a[2]}return[e,i,n,r]}function w5(t,e=!0,r="auto"){let[i,n,a,s]=W7e(t);for(let o of n)y9[o]&&(i=y9[o](i));if(e){let o=[],l=[],u=i.match(/^([^\d].*?)(\d+)$/);for(u&&(l.push(u[2]),i=u[1]);s.length>0;)if(s.startsWith("__")){let[c,h]=w5(s.substring(2),!1,"none");o.push(c),s=h}else if(s.startsWith("_")){let[c,h]=w5(s.substring(1),!1,"none");l.push(c),s=h}else break;o.length>0&&(i=R3("^",i,o.join(","))),l.length>0&&(i=R3("_",i,l.join(",")))}for(let o of a)b9[o]&&(i=b9[o](i));if(a.length===0&&r!=="none")switch(r){case"auto":dO(i)>1&&(i=`\\mathrm{${i}}`);break;case"operator":i=`\\operatorname{${i}}`;break;case"italic":i=`\\mathit{${i}}`;break;case"upright":i=`\\mathrm{${i}}`;break}return[i,s]}function x9(t,e="auto"){if(t===null)return null;if(a5.test(t))return t;let r=t.match(/^(_+)(.*)/);if(r){let[a,s]=w5(r[2],!0,"none");return`\\operatorname{${"\\_".repeat(r[1].length)+a+s}}`}let[i,n]=w5(t,!0,e);return n.length>0?`\\operatorname{${t}}`:i}function Y7e(t,e,r){return new Z7e(e,r).serialize(t)}var pP={PositiveInfinity:"+oo",NegativeInfinity:"-oo",ComplexInfinity:"~oo",NaN:"NaN",Pi:"pi",ExponentialE:"e",ImaginaryUnit:"i",alpha:"alpha",beta:"beta",gamma:"gamma",delta:"delta",epsilon:"epsilon",epsilonSymbol:"varepsilon",zeta:"zeta",eta:"eta",theta:"theta",thetaSymbol:"vartheta",iota:"iota",kappa:"kappa",lambda:"lambda",mu:"mu",nu:"nu",xi:"xi",omicron:"omicron",pi:"pi",rho:"rho",sigma:"sigma",tau:"tau",upsilon:"upsilon",phi:"phi",phiSymbol:"varphi",chi:"chi",psi:"psi",omega:"omega",Gamma:"Gamma",Delta:"Delta",Theta:"Theta",Lambda:"Lambda",Xi:"Xi",Sigma:"Sigma",Upsilon:"Upsilon",Phi:"Phi",Psi:"Psi",Omega:"Omega"},dP={Add:[(t,e)=>{var r;return((r=t.ops)==null?void 0:r.reduce((i,n)=>{if(n.operator==="Negate"){let a=e(n.op1,10);return i===""?`-${a}`:a.startsWith("+")?`${i} - ${a.substring(1)}`:a.startsWith("-")?`${i} + ${a.substring(1)}`:`${i} - ${a}`}return mP(i,e(n,10))},""))??""},11],Negate:[(t,e)=>{let r=e(t.op1,14);return r==="Power"?`-(${r})`:`-${r}`},14],Subtract:[(t,e)=>{var r;return((r=t.ops)==null?void 0:r.reduce((i,n)=>{let a=e(n,10);return i===""?a:a.startsWith("-")?`${i} - (${a})`:`${i} - ${a}`},""))??""},11],Multiply:[(t,e)=>{if(!t.ops)return"";if(t.nops===2){let r=t.op1.numericValue;if(r!==null){typeof r!="number"&&r.im!==0&&C9(e(t.op2,12),mP(r.re.toString(),`${r.im}i`));let i=t.op2;if((i.symbol||i.operator==="Power"||i.operator==="Square"||typeof w9[i.operator]=="string")&&hd(r)&&r[0]===1){let n=r[1];return`${e(i,12)}/${n}`}return C9(e(t.op1,12),e(t.op2,12))}}return t.ops.reduce((r,i)=>C9(r,e(i,12)),"")},12],Divide:["/",13],Power:[(t,e)=>{let r=e(t.op2,14);if(r==="1")return e(t.op1);if(r==="(1/2)"||r==="1/2"||r==="0.5")return`sqrt(${e(t.op1)})`;if(r==="-0.5")return`(1/sqrt(${e(t.op1)}))`;let i=e(t.op1,14);return i.startsWith("-")&&(i=`(${i})`),r.length===1?`${i}^${r}`:`${i}^${b1(r)}`},15],Equal:["===",8],NotEqual:["!==",8],LessEqual:["<=",9],GreaterEqual:[">=",9],Less:["<",9],Greater:[">",9],And:["&&",4],Or:["||",3],Not:["!",14]},w9={Abs:(t,e)=>`|${e(t.op1)}|`,Sin:"sin",Cos:"cos",Tan:"tan",Sec:"sec",Csc:"csc",Arcsin:"arcsin",Arccos:"arccos",Arctan:"arctan",Sinh:"sinh",Cosh:"cosh",Tanh:"tanh",Sech:"sech",Csch:"csch",Coth:"coth",Ceil:"ceil",Exp:"exp",Factorial:(t,e)=>`${e(t.op1,12)}!`,Floor:"floor",Log:"log",Ln:"ln",Log10:"log10",Sqrt:"sqrt",Root:(t,e)=>{let r=t.op1,i=t.op2;return i.is(2)?`sqrt${b1(e(r))}`:`root${b1(e(i))}${b1(e(r))}`},Square:(t,e)=>`${e(t.op1,12)}^2`,Det:"det",Dim:"dim",Mod:"mod",GCD:"gcd",LCM:"lcm",Lub:"lub",Glb:"glb",Max:"max",Min:"min",Sum:(t,e)=>M9(t,"sum",e),Product:(t,e)=>M9(t,"prod",e),Integrate:(t,e)=>M9(t,"int",e),Delimiter:(t,e)=>{var r;return K7e(t.ops[0],(r=t.ops[1])==null?void 0:r.string,e)},Sequence:(t,e)=>t.nops===0?"":t.ops.map(r=>e(r)).join(" "),List:(t,e)=>{var r;return`[${((r=t.ops)==null?void 0:r.map(i=>e(i)))??""}]`},Single:(t,e)=>`(${t.ops.map(r=>e(r)).join(", ")})`,Pair:(t,e)=>`(${t.ops.map(r=>e(r)).join(", ")})`,Triple:(t,e)=>`(${t.ops.map(r=>e(r)).join(", ")})`,Tuple:(t,e)=>`(${t.ops.map(r=>e(r)).join(", ")})`,Function:(t,e)=>`(${t.ops.slice(1).map(r=>e(r)).join(", ")}) |-> {${e(t.op1)}}`,Domain:t=>JSON.stringify(t.json),Error:(t,e)=>t.nops===1?`Error(${e(t.op1)})`:t.nops===2?t.op1.string?`Error("${t.op1.string}", ${e(t.op2)})`:`Error(${e(t.op1)}, ${e(t.op2)})`:`Error(${t.ops.map(r=>e(r)).join(", ")})`,LatexString:t=>`"${t.op1.string??""}"`};function M9(t,e,r){let i=t.op2,n=i==null?void 0:i.op1,a=i==null?void 0:i.op2,s=i==null?void 0:i.op3;n.symbol==="Nothing"&&(n=null),a.symbol==="Nothing"&&(a=null),s.symbol==="Nothing"&&(s=null);let o=e;return n&&a&&(o+=`_(${r(n)}=${r(a)})`),s&&(o+=`^${b1(r(s))}`),o+b1(r(t.op1))}function K7e(t,e,r){e||(e="(,)");let i="",n="",a="";if(e.length===1&&(i=e),e.length===2&&(n=e[0],a=e[1]),e.length===3&&(n=e[0],i=e[1],a=e[2]),!t)return`${n}${a}`;let s=[t];return t.operator==="Sequence"&&(s=t.ops),`${n}${s.map(o=>r(o)).join(i)}${a}`}function b1(t,e=0,r=-1){return e>r&&!/^\(.+\)$/.test(t)?`(${t})`:t}function M5(t,e={}){var r;return(r=e.symbols)!=null&&r[t]?e.symbols[t]:pP[t]?pP[t]:t.length===1?t:`"${t}"`}function k9(t,e={},r=0){var a,s,o;if(t.symbol)return M5(t.symbol,e);let i=(l,u=0)=>k9(l,e,u);if(t.string)return t.string;let n=t.numericValue;if(n!==null)return t.isNaN?M5("NaN",e):t.isFinite===!1?t.isNegative!==!0&&t.isPositive!==!0?M5("ComplexInfinity",e):M5(t.isNegative?"NegativeInfinity":"PositiveInfinity",e):n.toString();if(t.operator){let l=e.operators?{...dP,...e.operators}:dP,[u,c]=l[t.operator]??[];if(u){let p="";if(typeof u=="function")p=u(t,i);else{if(t.nops===1)return`${u}${i(t.op1,c+1)}`;p=((a=t.ops)==null?void 0:a.map(d=>i(d,c+1)).join(` ${u} `))??""}return b1(p,r,c)}let h=(e.functions?{...w9,...e.functions}:w9)[t.operator];return typeof h=="function"?h(t,i):typeof h=="string"?`${h}(${((s=t.ops)==null?void 0:s.map(p=>i(p)).join(", "))??""})`:`${t.operator}(${((o=t.ops)==null?void 0:o.map(p=>i(p)).join(", "))??""})`}return JSON.stringify(t.json)}function C9(t,e){return t?e?(e.startsWith("-")&&(e=`(${e})`),t==="-1"?`-${e}`:e==="-1"?`-${t}`:t.match(/^[-+]?\d+$/)&&e.match(/^[a-zA-Z\(]/)?t+e:`${t} * ${e}`):t:e}function mP(t,e){return t?e?t==="0"?e:e==="0"?t:e.startsWith("-")?`${t} - ${e.substring(1)}`:`${t} + ${e}`:t:e}var qs=class{get head(){return this.operator}constructor(e,r){this.engine=e,(r==null?void 0:r.latex)!==void 0&&(this.verbatimLatex=r.latex)}isSame(e){return Qf(this,e)}isEqual(e){return kF(this,e)}isLess(e){let r=c5(this,e);if(r!==void 0)return r==="<"}isLessEqual(e){let r=c5(this,e);if(r!==void 0)return r==="<="||r==="<"||r==="="}isGreater(e){let r=c5(this,e);if(r!==void 0)return r===">"}isGreaterEqual(e){let r=c5(this,e);if(r!==void 0)return r===">="||r===">"||r==="="}valueOf(){return this.symbol==="True"?!0:this.symbol==="False"?!1:this.symbol==="NaN"?NaN:this.symbol==="PositiveInfinity"?1/0:this.symbol==="NegativeInfinity"?-1/0:this.isInfinity?this.isPositive?1/0:this.isNegative?-1/0:NaN:typeof this.string=="string"?this.string:typeof this.symbol=="string"?this.symbol:this.im===0?this.re:this.toString()}toAsciiMath(e={}){return k9(this,e)}toString(){return k9(this)}print(){let e=console.info;e==null||e(this.toString())}[Symbol.toPrimitive](e){if(e==="number"){let r=this.valueOf();return typeof r=="number"?r:null}return this.toString()}toJSON(){return this.json}toMathJson(e){var n,a;let r={exclude:[],shorthands:["function","symbol","string","number"],metadata:[],fractionalDigits:"max",repeatingDecimal:!0,prettify:!0};e&&((typeof e.shorthands=="string"&&e.shorthands==="all"||(n=e.shorthands)!=null&&n.includes("all"))&&(r.shorthands=["function","symbol","string","number"]),Array.isArray(e.shorthands)&&(r.shorthands=e.shorthands),(typeof e.metadata=="string"&&e.metadata==="all"||(a=e.metadata)!=null&&a.includes("all"))&&(r.metadata=["latex","wikidata"]),e.fractionalDigits==="auto"&&(r.fractionalDigits=-this.engine.precision),typeof e.fractionalDigits=="number"&&(r.fractionalDigits=e.fractionalDigits));let i={...r,...e,fractionalDigits:r.fractionalDigits,shorthands:r.shorthands,metadata:r.metadata};return YF(this.engine,this,i)}toLatex(e){let r=this.toMathJson(),i={imaginaryUnit:"\\imaginaryI",positiveInfinity:"\\infty",negativeInfinity:"-\\infty",notANumber:"\\operatorname{NaN}",decimalSeparator:this.engine.decimalSeparator,digitGroupSeparator:"\\,",exponentProduct:"\\cdot",beginExponentMarker:"10^{",endExponentMarker:"}",digitGroup:3,truncationMarker:"\\ldots",repeatingDecimal:"vinculum",fractionalDigits:"max",notation:"auto",avoidExponentsInRange:[-7,20],prettify:!0,invisibleMultiply:"",invisiblePlus:"",multiply:"\\times",missingSymbol:"\\blacksquare",applyFunctionStyle:Wxe,groupStyle:Yxe,rootStyle:Kxe,fractionStyle:Xxe,logicStyle:Qxe,powerStyle:Jxe,numericSetStyle:e8e};return(e==null?void 0:e.fractionalDigits)==="auto"?i.fractionalDigits=-this.engine.precision:i.fractionalDigits=(e==null?void 0:e.fractionalDigits)??"max",typeof i.fractionalDigits=="number"&&i.fractionalDigits>this.engine.precision&&(i.fractionalDigits=this.engine.precision),i={...i,...e??{},fractionalDigits:i.fractionalDigits},!i.prettify&&this.verbatimLatex?this.verbatimLatex:Y7e(r,this.engine.indexedLatexDictionary,i)}toNumericValue(){return[this.engine._numericValue(1),this]}get scope(){return null}is(e){return typeof e=="number"||typeof e=="bigint"?!1:typeof e=="boolean"?this.symbol==="True"&&e===!0||this.symbol==="False"&&e===!1:e==null?!1:Qf(this,this.engine.box(e))}get canonical(){return this}get structural(){return this}get isStructural(){return!0}get latex(){return this.toLatex()}set latex(e){this.verbatimLatex=e}get symbol(){return null}get tensor(){return null}get string(){return null}getSubexpressions(e){return yP(this,e)}get subexpressions(){return this.getSubexpressions("")}get symbols(){let e=new Set;return gP(this,e),Array.from(e).sort()}get unknowns(){let e=new Set;return vP(this,e),Array.from(e).sort()}get freeVariables(){let e=new Set;return fP(this,e),Array.from(e).sort()}get errors(){return this.getSubexpressions("Error")}get ops(){return null}get nops(){return 0}get op1(){return this.engine.Nothing}get op2(){return this.engine.Nothing}get op3(){return this.engine.Nothing}get isValid(){return!0}get isPure(){return!1}get isConstant(){return!0}get isNaN(){}get isInfinity(){}get isFinite(){}get isEven(){}get isOdd(){}get numericValue(){return null}get isNumberLiteral(){return!1}get isFunctionExpression(){return!1}get re(){return NaN}get im(){return NaN}get bignumRe(){}get bignumIm(){}get numerator(){return this}get denominator(){return this.engine.One}get numeratorDenominator(){return[this,this.engine.One]}neg(){return this.engine.NaN}inv(){return this.engine.NaN}abs(){return this.engine.NaN}add(e){return this.engine.NaN}sub(e){return this.add(e.neg())}mul(e){return this.engine.NaN}div(e){return this.engine.NaN}pow(e){return this.engine.NaN}root(e){return this.engine.NaN}sqrt(){return this.engine.NaN}ln(e){return this.engine.NaN}get sgn(){}get shape(){return[]}get rank(){return 0}subs(e,r){return(r==null?void 0:r.canonical)===!0?this.canonical:this}map(e,r){if(!this.ops)return e(this);let i=(r==null?void 0:r.canonical)??this.isCanonical,n=(r==null?void 0:r.recursive)??!0,a=this.ops.map(s=>n?s.map(e,r):e(s));return e(this.engine.function(this.operator,a,{canonical:i}))}solve(e){return null}replace(e){return null}has(e){return!1}get isPositive(){}get isNonNegative(){}get isNegative(){}get isNonPositive(){}get description(){if(this.baseDefinition&&this.baseDefinition.description)return typeof this.baseDefinition.description=="string"?[this.baseDefinition.description]:this.baseDefinition.description}get url(){var e;return((e=this.baseDefinition)==null?void 0:e.url)??void 0}get wikidata(){var e;return((e=this.baseDefinition)==null?void 0:e.wikidata)??void 0}get complexity(){}get baseDefinition(){}get symbolDefinition(){}get functionDefinition(){}infer(e){return!1}bind(){}reset(){}get value(){return this.N().valueOf()}set value(e){throw new Error(`Can't change the value of \\(${this.latex}\\)`)}get type(){return Ji.unknown}set type(e){throw new Error(`Can't change the type of \\(${this.latex}\\)`)}get isNumber(){}get isInteger(){}get isRational(){}get isReal(){}simplify(e){return this}expand(){return B0(this)??this}evaluate(e){return this.simplify()}evaluateAsync(e){return Promise.resolve(this.evaluate())}N(){return this.evaluate({numericApproximation:!0})}compile(e){if(e!=null&&e.to&&e.to!=="javascript")throw new Error("Unknown target");return e??(e={}),F7e(this,e==null?void 0:e.functions,e==null?void 0:e.vars,e==null?void 0:e.imports,e==null?void 0:e.preamble)}get isCollection(){return!1}contains(e){return!1}subsetOf(e,r){return!1}get size(){return 0}each(e,r){return{next(){return{done:!0,value:void 0}}}}at(e){}get(e){}indexOf(e){return-1}};function fP(t,e){if(t.operator,t.symbol){let r=t.engine.lookupSymbol(t.symbol);if(r&&r.value!==void 0)return;let i=t.engine.lookupFunction(t.symbol);if(i&&i.evaluate)return;e.add(t.symbol);return}if(t.ops)for(let r of t.ops)fP(r,e)}function gP(t,e){if(t.symbol){e.add(t.symbol);return}if(t.ops)for(let r of t.ops)gP(r,e)}function vP(t,e){if(t.symbol){let r=t.symbol;if(r==="Unknown"||r==="Undefined"||r==="Nothing")return;let i=t.engine.lookupSymbol(r);if(i&&i.value!==void 0)return;let n=t.engine.lookupFunction(r);if(n&&n.evaluate)return;e.add(r);return}if(t.ops)for(let r of t.ops)vP(r,e)}function yP(t,e){let r=!e||t.operator===e?[t]:[];if(t.ops)for(let i of t.ops)r.push(...yP(i,e));return r}function X7e(t){let e=[],r=(i,n=[])=>{if(i.length===0)e.push(n);else for(let a=0;a<i.length;a++){let s=i.slice(),o=s.splice(a,1);r(s.slice(),n.concat(o))}};return r(t),e}function Q7e(t){for(let e in t)e.startsWith("_")&&t.hasOwnProperty(e)&&Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:t[e]})}function bP(t,e){if(!t.ops)return[];let r=t.ops,i=t.functionDefinition;if(!i||r.length===0)return r;let n=i!=null&&i.associative?i.name:"";if(r=ud(r,n),i.lazy)return r;let a=[];for(let s of r){let o=s.operator;if(o==="Hold")a.push(s);else{let l=o==="ReleaseHold"?s.op1:s;if(l){let u=e(l);u!==null&&a.push(u)}}}return ud(a,n)}async function J7e(t,e){if(!t.ops)return[];let r=t.ops,i=t.functionDefinition;if(!i||r.length===0)return r;let n=i!=null&&i.associative?i.name:"";if(r=ud(r,n),i.lazy)return r;let a=[];for(let s of r){let o=s.operator;if(o==="Hold")a.push(s);else{let l=o==="ReleaseHold"?s.op1:s;if(l){let u=await e(l);u!==null&&a.push(u)}}}return ud(a,n)}function a2(t,e,r){if((a=>r&&r.some(s=>s.value.isSame(a)))(t)||(r||(r=[{value:t,because:"initial"}]),!t.isValid))return r;if(!(t.isCanonical||t.isStructural)){let a=t.canonical;return a.isCanonical||a.isStructural?a2(a,e,r):r}let i=t.engine,n=e!=null&&e.rules?i.rules(e.rules,{canonical:!0}):i.getRuleSet("standard-simplification");e={...e,rules:n};do{let a=t9e(t,n,e,r);if(a.length<=r.length)break;t=a.at(-1).value,r=a}while(!r.slice(0,-1).some(a=>a.value.isSame(t)));return r}function e9e(t,e,r){if(e==null||t===e||t.isSame(e))return!1;let i=t.engine;return r??(r=n=>i.costFunction(n)),r(e)<=1.2*r(t)}function xP(t,e){return t.ops?t.engine.function(t.operator,bP(t,r=>a2(r,e).at(-1).value)):t}function t9e(t,e,r,i){if(t.isNumberLiteral||t.string)return i;if(t.symbol){let s=r2(t,e,{recursive:!1,canonical:!0,useVariations:!1});return s.length>0?[...i,...s]:i}let n=xP(t,r);n.isSame(t)||(i=[...i,{value:n,because:"simplified operands"}],t=n);let a=r9e(t,e,r,i);return a.length>i.length?a:i}function r9e(t,e,r,i){let n=r2(t,e,{recursive:!1,canonical:!0,useVariations:r.useVariations??!1});if(n.length===0)return i;let a=n.at(-1).value;return a.isSame(t)||(a=xP(a),!e9e(t,a,r==null?void 0:r.costFunction))?i:(n.at(-1).value=a,[...i,...n])}function k5(t){var e;return((e=t.symbol)==null?void 0:e.startsWith("_"))??(t.operator==="Wildcard"||t.operator==="WildcardSequence"||t.operator==="WildcardOptionalSequence")}function C5(t){var e;if((e=t.symbol)!=null&&e.startsWith("_"))return t.symbol;if(t.nops===1){let r=t.op1;if(t.operator==="Wildcard")return`_${r}`;if(t.operator==="WildcardSequence")return`__${r}`;if(t.operator==="WildcardOptionalSequence")return`___${r}`}return t.operator==="Wildcard"?"_":t.operator==="WildcardSequence"?"__":t.operator==="WildcardOptionalSequence"?"___":null}function N9(t){return typeof t=="string"?t.startsWith("_"):k5(t)?!0:t.ops?N9(t.operator)||t.ops.some(N9):!1}function N5(t,e,r){return t.startsWith("_"),t==="_"||t==="__"||t==="___"?r:t in r?e.isSame(r[t])?r:null:N9(e)?null:{...r,[t]:e}}function x1(t,e,r,i){var o;if(k5(e))return N5(C5(e),t,r);let n=i.acceptVariants??!0;if(i={...i,acceptVariants:!0},e.numericValue!==null)return t.numericValue===null?null:e.isEqual(t)?r:n?S9(t,e,r,i):null;let a=e.string;if(a!==null)return t.string===a?r:null;let s=e.symbol;if(s!==null)return s===t.symbol?r:n?S9(t,e,r,i):null;if(e.ops){let l=i.useVariations??!1,u=t.engine,c=null,h=e.operator;if(h.startsWith("_")?(c=N5(h,u.box(t.operator),r),c!==null&&(c=D9(t,e.ops,c,i))):h===t.operator&&(c=(o=u.lookupFunction(h))!=null&&o.commutative?n9e(t,e,r,i):D9(t,e.ops,r,i)),c===null&&l){if(!n)return null;c=S9(t,e,r,i)}return c!==null&&(r=c),i.recursive&&t.ops&&(c=i9e(t,e,r,{...i,acceptVariants:n})??c),c}return null}function i9e(t,e,r,i){t.ops;let n=null;for(let a of t.ops){let s=x1(a,e,r,i);s!==null&&(n=s,r=s)}return n}function S9(t,e,r,i){if(!i.useVariations)return null;let n=t.engine,a={...i,acceptVariants:!1},s=(l,u)=>x1(n.function(l,u,{canonical:!1}),e,r,a),o=e.operator;if(o==="Negate"&&t.is(0))return x1(n.Zero,e.op1,r,a);if(o==="Add"){let l=s("Add",[0,t]);if(l!==null||(t.operator==="Subtract"&&(l=s("Add",[t.op1,["Negate",t.op2]])),l!==null))return l}if(o==="Subtract"){let l=s("Subtract",[t,0]);if(l!==null||(t.operator==="Negate"&&(l=s("Subtract",[0,t.op1])),l!==null))return l}if(o==="Multiply"){let l=s("Multiply",[1,t]);if(l!==null||t.operator==="Negate"&&(l=s("Multiply",[-1,t.op1]),l!==null)||t.operator==="Divide"&&(l=s("Multiply",[t.op1,["Divide",1,t.op2]]),l!==null))return l}if(o==="Divide"){let l=s("Divide",[t,1]);if(l!==null)return l}if(o==="Square"){let l=s("Power",[t,2]);if(l!==null)return l}if(o==="Exp"){let l=s("Power",[n.E,t]);if(l!==null)return l}if(o==="Power"){if(e.op2.re===2&&e.op2.im===0){let l=s("Square",[t]);if(l!==null)return l}if(e.op1.symbol==="ExponentialE"){let l=s("Exp",[t]);if(l!==null)return l}{let l=s("Power",[t,1]);if(l!==null)return l}}return null}function n9e(t,e,r,i){t.operator,e.operator;let n=X7e(e.ops);for(let a of n){let s=D9(t,a,r,i);if(s!==null)return s}return null}function D9(t,e,r,i){if(e.length===0)return t.ops&&t.ops.length===0?r:null;let n=e[0].engine,a={...r},s=[...t.ops],o=0;for(;o<e.length;){let l=e[o],u=C5(l);if(u!==null)if(u.startsWith("__")){let c=0;if(e[o+1]===void 0)c=s.length+1;else{let p=!1;for(;!p&&c<s.length;)p=x1(s[c],e[o+1],a,i)!==null,c+=1;if(!p&&u.startsWith("___"))return null}if(!u.startsWith("___")&&c<=1)return null;let h;if(c<=1)t.operator==="Add"?h=n.Zero:t.operator==="Multiply"?h=n.One:h=n.Nothing;else if(c===2){if(s.length===0)return null;h=s.shift()}else{let p=n.lookupFunction(t.operator),d=s.splice(0,c-1);p!=null&&p.associative?h=n.function(t.operator,d,{canonical:!1}):h=n.function("Sequence",d,{canonical:!1})}a=N5(u,h,a)}else if(u.startsWith("_")){if(s.length===0)return null;a=N5(u,s.shift(),a)}else a=x1(s.shift(),l,a,i);else{let c=s.shift();if(!c)return null;a=x1(c,l,a,i)}if(a===null)return null;o+=1}return s.length>0?null:a}function A9(t,e,r){e=e.structural;let i=(r==null?void 0:r.useVariations)??!1,n={recursive:(r==null?void 0:r.recursive)??!1,useVariations:i,acceptVariants:i},a=(r==null?void 0:r.substitution)??{};return x1(t.structural,e.structural,a,n)}function S5(t){let e=t.engine,r=t.operator;if(Vc(r))return e.function(r,t.ops.map(S5));if(r==="Divide")return t.ops[0].div(t.ops[1]);if(r==="Negate")return S5(t.ops[0]).neg();if(r==="Add"){let[i,n]=t.ops.reduce((a,s)=>(s.operator==="Divide"?(a[0].push(s.ops[0]),a[1].push(s.ops[1])):a[0].push(s),a),[[],[]]);return Cs(...i).div(Cs(...n))}return t}function s2(t){let e=t.operator;if(Vc(e)){let r=Eu.from(t.op1),i=Eu.from(t.op2),[n,a]=Pxe(r,i),s=n.sgn()===-1;return n.isOne||(r.div(n),i.div(n)),a.is(1)||(a.isPositive?(r.div(a),i.div(a)):a.isNegative&&(r.div(a.neg()),i.div(a.neg()),s=!s)),s&&([r,i]=[i,r]),t.engine.function(e,[r.asExpression(),i.asExpression()])}if(e==="Negate")return s2(t.ops[0]).neg();if(e==="Add"){let r=t.engine,i,n=[];for(let s of t.ops){let[o,l]=s.toNumericValue();i=i?i.gcd(o):o,o.isZero||n.push({coeff:o,term:l})}if(!i||i.isOne)return t;let a=n.map(({coeff:s,term:o})=>Cl(o,r.box(s.div(i))));return Cl(r.number(i),Cs(...a))}return Eu.from(S5(t)).asExpression()}function a9e(t){var i;let e=t.engine;if(t.operator==="Hold")return;let r;if(t.ops){let n=t.functionDefinition;if(n!=null&&n.sgn){let a=e.swapScope(t.scope);r=n.sgn(t.ops,{engine:e}),e.swapScope(a)}return r}return t.symbol?(i=t.symbolDefinition)==null?void 0:i.sgn:t.isNumberLiteral?t.sgn:"unsigned"}function $9(t){if(t!==void 0){if(t==="positive")return!0;if(["non-positive","zero","unsigned","negative","negative-infinity"].includes(t))return!1}}function _9(t){if(t!==void 0){if(t==="positive"||t==="positive-infinity"||t==="non-negative")return!0;if(["negative","negative-infinity","zero","unsigned"].includes(t))return!1}}function E9(t){if(t!==void 0){if(t==="negative"||t==="negative-infinity")return!0;if(["non-negative","zero","unsigned","positive","positive-infinity"].includes(t))return!1}}function I9(t){if(t!==void 0){if(t==="negative"||t==="negative-infinity"||t==="non-positive")return!0;if(["positive","zero","unsigned"].includes(t))return!1}}function T9(t,e,r){return t.generation===void 0||t.generation===e?(t.value===null&&(t.value=r()),t.value):(t.generation=e,t.value=r(),t.value)}async function s9e(t,e,r){return t.generation===void 0||t.generation===e?(t.value===null&&(t.value=await r()),t.value):(t.generation=e,t.value=await r(),t.value)}var Fu=class extends qs{constructor(e,r,i,n){super(e,n==null?void 0:n.metadata),this._value={value:null,generation:-1},this._valueN={value:null,generation:-1},this._sgn={value:null,generation:-1},this._type={value:null,generation:-1},this._name=r,this._ops=i,this._isStructural=(n==null?void 0:n.structural)??!1,n!=null&&n.canonical&&(this._canonical=this),(n!=null&&n.canonical||this._isStructural)&&this.bind(),e._register(this)}get hash(){if(this._hash!==void 0)return this._hash;let e=0;for(let r of this._ops)e=e<<1^r.hash|0;return e=e^Ef(this._name)|0,this._hash=e,e}infer(e){let r=this.functionDefinition;return!r||!r.inferredSignature?!1:(r.signature.is("function")?r.signature=new Ji({kind:"signature",result:e}):O3(r.signature.type)&&(r.signature=new Ji({kind:"signature",result:V6e(r.signature.type.result,e)})),this.engine.generation+=1,!0)}bind(){this._def=void 0,this._scope=this.engine.context,this._def=this.engine.lookupFunction(this._name);for(let e of this._ops)e.bind()}reset(){}get isCanonical(){return this._canonical===this}set isCanonical(e){this._canonical=e?this:void 0}get isPure(){var r;if(this._isPure!==void 0)return this._isPure;if(!this.isCanonical)return this._isPure=!1,!1;let e=((r=this.functionDefinition)==null?void 0:r.pure)??!1;return e&&(e=this._ops.every(i=>i.isPure)),this._isPure=e,e}get isConstant(){return this.isPure?this._ops.every(e=>e.isConstant):!1}get json(){return[this._name,...this.structural.ops.map(e=>e.json)]}get scope(){return this._scope}get operator(){return this._name}get ops(){return this._ops}get nops(){return this._ops.length}get op1(){return this._ops[0]??this.engine.Nothing}get op2(){return this._ops[1]??this.engine.Nothing}get op3(){return this._ops[2]??this.engine.Nothing}get isValid(){return this._name==="Error"?!1:this._ops.every(e=>e==null?void 0:e.isValid)}get canonical(){return this._canonical??(this._canonical=this.isValid?this.engine.function(this._name,this._ops):this),this._canonical}get structural(){if(this.isStructural)return this;let e=this.functionDefinition;if(e!=null&&e.associative||e!=null&&e.commutative){let r=this.ops.map(n=>n.structural),i=[];if(!e.associative)i=r;else for(let n of r)n.operator===this.operator?i.push(...n.ops):i.push(n);return this.engine.function(this._name,this.isValid?Z7(this._name,i):i,{canonical:!1,structural:!0})}return this.engine.function(this._name,this.ops.map(r=>r.structural),{canonical:!1,structural:!0})}get isStructural(){return this._isStructural}toNumericValue(){this.isCanonical||this.isStructural;let e=this.engine;if(this.operator==="Complex")return[e._numericValue({re:this.op1.re,im:this.op2.re}),e.One];let r=this;if(r.operator==="Add"&&(r=s2(this),r.numericValue!==null)){if(typeof r.numericValue=="number"){if(Number.isInteger(r.numericValue))return[e._numericValue(r.numericValue),e.One]}else if(r.numericValue.isExact)return[r.numericValue,e.One]}if(r.operator==="Negate"){let[i,n]=r.op1.toNumericValue();return[i.neg(),n]}if(r.operator==="Multiply"){let i=[],n=e._numericValue(1);for(let a of r.ops){let[s,o]=a.toNumericValue();n=n.mul(s),o.is(1)||i.push(o)}return i.length===0?[n,e.One]:i.length===1?[n,i[0]]:[n,oo(this.engine,i)]}if(r.operator==="Divide"){let[i,n]=r.op1.toNumericValue(),[a,s]=r.op2.toNumericValue(),o=i.div(a);return s.is(1)?[o,n]:[o,e.function("Divide",[n,s])]}if(r.operator==="Power"){if(r.op2.numericValue===null)return[e._numericValue(1),this];let[i,n]=r.op1.toNumericValue();if(i.isOne)return[i,this];let a=Bn(r.op2);return a!==null?[i.pow(a),e.function("Power",[n,r.op2])]:r.op2.is(.5)?[i.sqrt(),e.function("Sqrt",[n])]:[e._numericValue(1),this]}if(r.operator==="Sqrt"){let[i,n]=r.op1.toNumericValue();return n.is(1)||n.is(0)?i.isOne||i.isZero?[i,n]:[i.sqrt(),n]:[i.sqrt(),e.function("Sqrt",[n])]}if(r.operator==="Root"){let i=r.op2.re;if(isNaN(i)||r.op2.im!==0)return[e._numericValue(1),this];let[n,a]=r.op1.toNumericValue();return i===2?[n.sqrt(),e.function("Sqrt",[a])]:[n.root(i),e.function("Root",[a,r.op2])]}if(r.operator==="Abs"){let[i,n]=r.op1.toNumericValue();return[i.abs(),e.function("Abs",[n])]}if(r.operator,r.operator,r.operator==="Log"||r.operator==="Ln"){let i=r.op2.re;isNaN(i)&&r.operator==="Log"&&(i=10);let[n,a]=r.op1.toNumericValue();return n.isOne?[n,this]:e.box(n.ln(i)).add(e.function(r.operator,[a,r.op2])).toNumericValue()}return[e._numericValue(1),r]}subs(e,r){let i=this._ops.map(n=>n.subs(e,r));return i.every(n=>n.isValid)?this.engine.function(this._name,i,r):this.engine.function(this._name,i,{canonical:!1})}replace(e,r){var i;return((i=r2(this,e,r).at(-1))==null?void 0:i.value)??null}match(e,r){return A9(this,e,r)}has(e){if(typeof e=="string"){if(this._name===e)return!0}else if(e.includes(this._name))return!0;return this._ops.some(r=>r.has(e))}get sgn(){let e=this.isPure&&this._ops.every(r=>r.isConstant)?void 0:this.engine.generation;return T9(this._sgn,e,()=>{if(!(!this.isValid||this.isNumber!==!0))return a9e(this)})}get isNaN(){return this.sgn==="nan"}get isInfinity(){let e=this.sgn;return e==="positive-infinity"||e==="negative-infinity"||e==="complex-infinity"}get isFinite(){if(this.isNumber!==!0||this.isNaN||this.isInfinity)return!1;if(!(this.isNaN===void 0||this.isInfinity===void 0))return!0}get isOne(){if(this.isNonPositive===!0||this.isReal===!1)return!1}get isNegativeOne(){if(this.isNonNegative===!0||this.isReal===!1)return!1}get isPositive(){return $9(this.sgn)}get isNonNegative(){return _9(this.sgn)}get isNegative(){return E9(this.sgn)}get isNonPositive(){return I9(this.sgn)}get numerator(){return this.numeratorDenominator[0]}get denominator(){return this.numeratorDenominator[1]}get numeratorDenominator(){if(!this.isCanonical)return this.canonical.numeratorDenominator;if(this.isNumber!==!0)return[this.engine.Nothing,this.engine.Nothing];let e=this.operator;if(e==="Divide")return[this.op1,this.op2];if(e==="Negate"){let[r,i]=this.op1.numeratorDenominator;return[r.neg(),i]}if(e==="Power"){let[r,i]=this.op1.numeratorDenominator;return[r.pow(this.op2),i.pow(this.op2)]}if(e==="Root"){let[r,i]=this.op1.numeratorDenominator;return[r.root(this.op2),i.root(this.op2)]}if(e==="Sqrt"){let[r,i]=this.op1.numeratorDenominator;return[r.sqrt(),i.sqrt()]}if(e==="Abs"){let[r,i]=this.op1.numeratorDenominator;return[r.abs(),i.abs()]}return e==="Multiply"?new Eu(this.engine,this.ops).asNumeratorDenominator():[this,this.engine.One]}neg(){return Xf(this.canonical)}inv(){if(!this.isCanonical)return this.canonical.inv();if(this.isOne)return this;if(this.isNegativeOne)return this;if(this.operator==="Sqrt")return this.op1.inv().sqrt();if(this.operator==="Divide")return this.op2.div(this.op1);if(this.operator==="Power"){let e=this.op2.neg();return e.operator!=="Negate"?this.op1.pow(e):this.engine.function("Power",[this.op1,e])}if(this.operator==="Root"){let e=this.op2.neg();return e.operator!=="Negate"?this.op1.root(e):this.engine.function("Root",[this.op1,e])}return this.operator==="Exp"?this.engine.E.pow(this.op1.neg()):this.operator==="Rational"?this.op2.div(this.op1):this.operator==="Negate"?this.op1.inv().neg():this.engine._fn("Divide",[this.engine.One,this.canonical])}abs(){return this.isCanonical?this.operator==="Abs"||this.operator==="Negate"?this:this.isNonNegative?this:this.isNonPositive?this.neg():this.engine._fn("Abs",[this]):this.canonical.abs()}add(e){return e===0?this:Cs(this.canonical,this.engine.box(e))}mul(e){if(e===0)return this.engine.Zero;if(e===1)return this;if(e===-1)return this.neg();if(e instanceof us){if(e.isZero)return this.engine.Zero;if(e.isOne)return this.canonical;if(e.isNegativeOne)return this.neg()}return Cl(this.canonical,this.engine.box(e))}div(e){return r9(this,e)}pow(e){return js(this,e,{numericApproximation:!1})}root(e){if(!this.isCanonical)return this.canonical.root(e);typeof e!="number"&&(e=e.canonical);let r=typeof e=="number"?e:e.im===0?e.re:void 0;if(r===0)return this.engine.NaN;if(r===1)return this;if(r===-1)return this.inv();if(r===2)return this.engine.function("Sqrt",[this]);if(this.operator==="Power"&&r!==void 0){let[i,n]=this.ops;return i.pow(n.div(r))}if(this.operator==="Divide"){let[i,n]=this.ops;return i.root(e).div(n.root(e))}if(this.operator==="Negate"&&r!==void 0)return r%2===0?this.op1.root(e):this.op1.root(e).neg();if(this.operator==="Sqrt"){if(r!==void 0)return this.op1.root(r+2);if(typeof e!="number")return this.op1.root(e.add(2))}if(this.operator==="Multiply"){let i=this.ops.map(n=>n.root(e));return Cl(...i)}if(this.operator==="Root"){let[i,n]=this.ops;return i.root(n.mul(e))}if(this.isNumberLiteral){let i=this.numericValue;if(typeof i=="number"){if(i<0)return this.engine.NaN;if(i===0)return this.engine.Zero;if(i===1)return this.engine.One;if(r!==void 0){let n=this.engine.number(Math.pow(i,1/r));if(!n.isFinite||n.isInteger)return n}}else{if(i.isOne)return this.engine.One;if(i.isZero)return this.engine.Zero;if(r!==void 0){let n=i.root(r);if(n.isExact)return this.engine.number(n)}}}return this.engine._fn("Root",[this,this.engine.box(e)])}sqrt(){return this.root(2)}ln(e){let r=e?this.engine.box(e):void 0;if(!this.isCanonical)return this.canonical.ln(r);if(this.is(0))return this.engine.NegativeInfinity;if(this.operator==="Exp")return this.op1;if(r&&this.isSame(r))return this.engine.One;if(!r&&this.isSame(this.engine.E))return this.engine.One;if(this.operator==="Power"){let[i,n]=this.ops;return i.isSame(this.engine.E)?n:n.mul(i.ln(r))}if(this.operator==="Root"){let[i,n]=this.ops;return n.div(i.ln(r))}return this.operator==="Sqrt"?this.op1.ln(r).div(2):this.operator==="Divide"?this.op1.ln(r).sub(this.op2.ln(r)):r&&r.type.matches("finite_integer")?r.re===10?this.engine._fn("Log",[this]):this.engine._fn("Log",[this,r]):this.engine._fn("Ln",[this])}get complexity(){var e;if(this.isCanonical)return((e=this.functionDefinition)==null?void 0:e.complexity)??md}get baseDefinition(){return this._def}get functionDefinition(){return this._def}get isNumber(){let e=this.type.type;if(e!=="unknown")return ur(e,"number")}get isInteger(){let e=this.type.type;if(e!=="unknown")return ur(e,"integer")}get isRational(){let e=this.type.type;if(e!=="unknown")return ur(e,"rational")}get isReal(){let e=this.type.type;if(e!=="unknown")return ur(e,"real")}get isFunctionExpression(){return!0}get type(){let e=this.isPure&&this._ops.every(r=>r.isConstant)?void 0:this.engine.generation;return T9(this._type,e,()=>{let r=o9e(this);return r?new Ji(r):void 0})??Ji.unknown}simplify(e){var r;return((r=a2(this,e).at(-1))==null?void 0:r.value)??this}evaluate(e){return T9(e!=null&&e.numericApproximation?this._valueN:this._value,this.engine.generation,l9e(this.engine,this._computeValue(e)))}evaluateAsync(e){return s9e(e!=null&&e.numericApproximation?this._valueN:this._value,this.engine.generation,u9e(this.engine,this._computeValueAsync(e)))}N(){return this.evaluate({numericApproximation:!0})}solve(e){let r=_7(e??this.unknowns);return r.length!==1?null:GF(this,r[0])}get isCollection(){var r,i;let e=this.functionDefinition;return e?((r=e.collection)==null?void 0:r.contains)!==void 0||((i=e.collection)==null?void 0:i.size)!==void 0:!1}contains(e){var r,i,n;return((n=(i=(r=this.functionDefinition)==null?void 0:r.collection)==null?void 0:i.contains)==null?void 0:n.call(i,this,e))??!1}get size(){var e,r,i;return((i=(r=(e=this.functionDefinition)==null?void 0:e.collection)==null?void 0:r.size)==null?void 0:i.call(r,this))??0}each(e,r){var n,a,s;return((s=(a=(n=this.functionDefinition)==null?void 0:n.collection)==null?void 0:a.iterator)==null?void 0:s.call(a,this,e,r))||{next(){return{done:!0,value:void 0}}}}at(e){var r,i,n;return(n=(i=(r=this.functionDefinition)==null?void 0:r.collection)==null?void 0:i.at)==null?void 0:n.call(i,this,e)}get(e){var r,i,n,a,s,o;if(typeof e=="string")return(n=(i=(r=this.functionDefinition)==null?void 0:r.collection)==null?void 0:i.at)==null?void 0:n.call(i,this,e);if(e.string)return(o=(s=(a=this.functionDefinition)==null?void 0:a.collection)==null?void 0:s.at)==null?void 0:o.call(s,this,e.string)}indexOf(e){var r,i,n;return((n=(i=(r=this.functionDefinition)==null?void 0:r.collection)==null?void 0:i.indexOf)==null?void 0:n.call(i,this,e))??-1}subsetOf(e,r){var i,n,a;return((a=(n=(i=this.functionDefinition)==null?void 0:i.collection)==null?void 0:n.subsetOf)==null?void 0:a.call(n,this,e,r))??!1}_computeValue(e){return()=>{var a;if(!this.isValid)return this;let r=(e==null?void 0:e.numericApproximation)??!1;if(r){let s=this.operator;if(s==="Integrate"||s==="Limit")return this.engine.box(["N",this],{canonical:!0}).evaluate(e)}if(!this.isCanonical){this.engine.pushScope();let s=this.canonical;return this.engine.popScope(),!s.isCanonical||!s.isValid?this:s.evaluate(e)}let i=this.functionDefinition;if(i!=null&&i.threadable&&this.ops.some(s=>os(s))){let s=NO(this._ops);if(!s)return this.engine.Nothing;let o=[];for(;;){let{done:l,value:u}=s.next();if(l)break;o.push(this.engine._fn(this.operator,u).evaluate(e))}return o.length===0?this.engine.Nothing:o.length===1?o[0]:this.engine._fn("List",o)}let n=bP(this,s=>s.evaluate(e));if(i){let s=this.engine,o=s.swapScope(this.scope),l=(a=i.evaluate)==null?void 0:a.call(i,n,{numericApproximation:r,engine:s});return s.swapScope(o),l??this.engine.function(this._name,n)}return this.engine.function(this._name,n)}}_computeValueAsync(e){return async()=>{var a,s;if(!this.isValid)return this;let r=(e==null?void 0:e.numericApproximation)??!1;if(r){let o=this.operator;(o==="Integrate"||o==="Limit")&&this.engine.box(["N",this],{canonical:!0}).evaluateAsync(e)}if(!this.isCanonical){this.engine.pushScope();let o=this.canonical;return this.engine.popScope(),!o.isCanonical||!o.isValid?this:o.evaluateAsync(e)}let i=this.functionDefinition;if(i!=null&&i.threadable&&this.ops.some(o=>os(o))){let o=NO(this._ops);if(!o)return this.engine.Nothing;let l=[];for(;;){let{done:u,value:c}=o.next();if(u)break;l.push(this.engine._fn(this.operator,c).evaluateAsync(e))}return l.length===0?this.engine.Nothing:l.length===1?l[0]:Promise.all(l).then(u=>this.engine._fn("List",u))}let n=await J7e(this,async o=>await o.evaluateAsync(e));if(i){let o=this.engine,l=o.swapScope(this.scope),u={numericApproximation:r,engine:o,signal:e==null?void 0:e.signal},c=((a=i.evaluateAsync)==null?void 0:a.call(i,n,u))??((s=i.evaluate)==null?void 0:s.call(i,n,u));return o.swapScope(l),Promise.resolve(c).then(h=>h??this.engine.function(this._name,n))}return Promise.resolve(this.engine.function(this._name,n))}}};function o9e(t){if(!t.isValid)return"error";if(t.operator==="Function"){let r=t.ops[0].type,i=t.ops.slice(1);return Mi(`(${i.map(n=>"any").join(", ")}) -> ${r}`)}let e=t.functionDefinition;if(e){let r=e.signature instanceof Ji?e.signature.type:typeof e.signature=="string"?Mi(e.signature):e.signature,i=F3(r)??"unknown";if(typeof e.type=="function"){let n=e.type(t.ops,{engine:t.engine});n&&(n instanceof Ji?i=n.type:i=Mi(n)??i)}return i}return"function"}function l9e(t,e){return()=>{if(t._deadline===void 0){t._deadline=Date.now()+t.timeLimit;let r=e();return t._deadline=void 0,r}return e()}}function u9e(t,e){return async()=>{if(t._deadline===void 0){t._deadline=Date.now()+t.timeLimit;let r=await e();return t._deadline=void 0,r}return e()}}var wd=class GZ extends qs{constructor(e,r,i){super(e,i),this._string=r.normalize(),e._register(this)}get json(){return`'${this._string}'`}get hash(){return Ef("String"+this._string)}get operator(){return"String"}get isPure(){return!0}get isCanonical(){return!0}set isCanonical(e){}get type(){return new Ji("string")}get complexity(){return 19}get string(){return this._string}match(e,r){return m1(e)||(e=this.engine.box(e,{canonical:!1})),k5(e)?{[C5(e)]:this}:e instanceof GZ&&this._string===e._string?{}:null}get isCollection(){return!0}contains(e){return e.string?this._string.includes(e.string):!1}get size(){return this._string.length}each(e,r){let i=this.string,n=e??1;return r=Math.min(r??i.length,i.length),r<=0?{next:()=>({value:void 0,done:!0})}:{next:()=>r>0?(r--,{value:this.engine.string(i[n++-1]),done:!1}):{value:void 0,done:!0}}}at(e){return this.engine.string(this._string[e-1])}get(e){}indexOf(e){return e.string?this._string.indexOf(e.string):-1}},wP=class qk extends qs{constructor(e,r,i){if(super(e,i==null?void 0:i.metadata),this.options=i,r instanceof Yf)this._tensor=r;else{let n=(i==null?void 0:i.canonical)??!0;this._operator=r.op??"List",this._ops=n?Gc(e,r.ops):r.ops,this._expression=e._fn(this._operator,this._ops,{canonical:n})}e._register(this)}get structural(){return this._expression??(this._expression=this._tensor.expression),this._expression}get tensor(){if(this._tensor===void 0){this._operator,this._ops;let e=kP(this._operator,this._ops);if(e===void 0)throw kP(this._operator,this._ops),new Error("Invalid tensor");this._tensor=Bu(this.engine,e)}return this._tensor}get baseDefinition(){return this.structural.baseDefinition}get functionDefinition(){return this.structural.functionDefinition}bind(){this.structural.bind()}reset(){}get hash(){return Ef("BoxedTensor")}get canonical(){return this.isCanonical?this:new qk(this.engine,{op:this._operator,ops:this._ops},{canonical:!0})}get isCanonical(){return this._tensor?!0:this._expression.isCanonical}set isCanonical(e){this._tensor||(this.structural.isCanonical=e)}get isPure(){return this._tensor?!0:this.structural.isPure}get isValid(){return this._tensor?!0:this.structural.isValid}get complexity(){return 97}get operator(){return this._tensor?"List":this._operator}get nops(){return this._tensor?this._tensor.shape[0]:this.structural.nops}get ops(){return this.structural.ops}get op1(){if(this._tensor){let e=this._tensor.data;return e.length===0?this.engine.Nothing:this.engine.box(e[0])}return this.structural.op1}get op2(){if(this._tensor){let e=this._tensor.data;return e.length<2?this.engine.Nothing:this.engine.box(e[1])}return this.structural.op2}get op3(){if(this._tensor){let e=this._tensor.data;return e.length<3?this.engine.Nothing:this.engine.box(e[2])}return this.structural.op3}neg(){return this.structural.neg()}inv(){return this.engine.One.div(this.structural)}abs(){return this.structural.abs()}add(e){return this.structural.add(e)}sub(e){return this.structural.sub(e)}mul(e){return this.structural.mul(e)}div(e){return this.structural.div(e)}pow(e){return this.structural.pow(e)}root(e){return this.structural.root(e)}sqrt(){return this.structural.sqrt()}get shape(){return this.tensor.shape}get rank(){return this.tensor.rank}get type(){return new Ji(this.isValid?Mi("list<number>"):"error")}get json(){return this.structural.json}isEqual(e){return this===e?!0:e instanceof qk?this.tensor.equals(e.tensor):this.structural.isEqual(e)}get isCollection(){return!0}contains(e){let r=this.tensor.data,i=this.tensor.field.cast(e,this.tensor.dtype);if(typeof i=="number")return r.includes(i);let n=r.map(a=>this.tensor.field.cast(a,"expression")??e.engine.Nothing);for(let a of n)if(e.isSame(a))return!0;return!1}get size(){return this.tensor.shape.reduce((e,r)=>e*r,1)}each(e,r){let i=this.tensor.data,n=e??1;return r=Math.min(r??i.length,i.length),r<=0?{next:()=>({value:void 0,done:!0})}:{next:()=>r>0?(r--,{value:this.engine.box(i[n++-1]),done:!1}):{value:void 0,done:!0}}}at(e){}indexOf(e){return-1}match(e,r){return m1(e)||(e=this.engine.box(e,{canonical:!1})),k5(e)?{[C5(e)]:this}:this.structural.match(e,r)}evaluate(e){return this._tensor?this:this.structural.evaluate(e)}simplify(e){return this._tensor?this:this.structural.simplify(e)}N(){return this._tensor?this:this.structural.N()}};function Ho(t){return t instanceof wP}function MP(t,e){let r,i=[],n=!0,a=(s,o=0)=>{if(s.length!==0){s.length>1&&i[o]!==void 0?n=n&&i[o]===s.length:i[o]=Math.max(i[o]??0,s.length);for(let l of s)if(l.operator===t?a(l.ops,o+1):r=fF(r,z8e(l)),!n)return}};return a(e),n?{shape:i,dtype:r}:void 0}function kP(t,e){let{shape:r,dtype:i}=MP(t,e)??{shape:[],dtype:void 0};if(i===void 0)return;let n=!0,a=[],s=mF(e[0].engine,"expression"),o=s.cast.bind(s),l=u=>{for(let c of u)if(c.operator===t)l(c.ops);else{let h=o(c,i);if(h===void 0){n=!1;return}a.push(h)}};if(l(e),!!n)return{shape:r,rank:r.length,data:a,dtype:i}}function CP(t,{engine:e}){if(t.length===0)return null;let r=t[0];if(t.length===1)return r.canonical;if(t.length===2){let i=SP(r);if(!Number.isNaN(i)){let a=t[1];if(a.operator==="Divide"||a.operator==="Rational"){let[s,o]=[a.op1.canonical.re,a.op2.canonical.re];if(s>0&&s<=1e3&&o>1&&o<=1e3&&Number.isInteger(s)&&Number.isInteger(o)){let l=a.canonical;return i<0&&(l=l.neg()),e._fn("Add",[r.canonical,l])}}}let n=t[1];if(!Number.isNaN(i)){let a=n.canonical;if(a.re===0&&a.im===1)return e.number(e.complex(0,i))}if(r.symbol&&n.operator==="Delimiter"){if(n.nops===0)return e.lookupFunction(r.symbol)||e.declare(r.symbol,"function"),e.box([r.symbol]);let a=n.op1.operator==="Sequence"?n.op1.ops:[n.op1];if(a=ws(a),!e.lookupSymbol(r.symbol))return e.lookupFunction(r.symbol)||e.declare(r.symbol,"function"),e.function(r.symbol,a)}if(r.symbol&&n.operator==="Delimiter"&&(n.op2.string==="[,]"||n.op2.string==="[;]")){let a=n.op1.operator==="Sequence"?n.op1.ops:[n.op1];return e.function("At",[r,...a])}}return t=NP(t),t=ws(t),t.every(i=>i.isValid&&(i.type.isUnknown||i.type.matches("number")||W3(i)&&!i.string))?e._fn("Multiply",t):e._fn("Tuple",t)}function NP(t){let e=[];for(let r of t)r.operator==="InvisibleOperator"?e.push(...NP(r.ops)):e.push(r);return e}function SP(t){if(t.isNumberLiteral){let e=t.re;if(Number.isInteger(e))return e}if(t.operator==="Negate"){let e=SP(t.op1);if(!Number.isNaN(e))return-e}return Number.NaN}function o2(t,e){if(e===!1)return t;if(e===!0)return t.canonical;typeof e=="string"&&(e=[e]);for(let r of e)switch(r){case"InvisibleOperator":t=z9(t);break;case"Number":t=DP(t);break;case"Multiply":t=AP(t);break;case"Add":t=$P(t);break;case"Power":t=Md(t);break;case"Divide":t=_P(t);break;case"Flatten":t=L9(t);break;case"Order":t=VO(t,{recursive:!0});break;default:throw Error("Invalid canonical form")}return t}function L9(t){var i;if(!t.operator||!t.ops||t.nops===0)return t;if(t.operator==="Delimiter")return L9(t.op1);let e=t.engine,r=t.operator==="Add"||t.operator==="Multiply";return r||(i=e.lookupFunction(t.operator))!=null&&i.associative&&(r=!0),r?e.function(t.operator,ud(t.ops.map(L9),t.operator)):t}function z9(t){return t.ops?t.operator==="InvisibleOperator"?CP(t.ops.map(z9),{engine:t.engine})??t:t.engine._fn(t.operator,t.ops.map(z9)):t}function DP(t){return t.isNumberLiteral?t.canonical:t.ops?t.engine._fn(t.operator,t.ops.map(DP)):t}function AP(t){if(!t.ops)return t;let e=t.ops.map(AP);return t.operator==="Multiply"?oo(t.engine,e.map(r=>r.canonical)):t.operator==="Negate"?oo(t.engine,[e[0],t.engine.NegativeOne]):t}function $P(t){if(!t.ops)return t;let e=t.ops.map($P);return t.operator==="Add"?Ou(t.engine,e):t.operator==="Subtract"?Ou(t.engine,[e[0],e[1].neg()]):t.engine._fn(t.operator,e)}function Md(t){return t.ops?t.operator==="Power"?Md(t.op1).pow(Md(t.op2)):t.ops?t.engine._fn(t.operator,t.ops.map(Md)):t:t}function _P(t){return t.operator==="Divide"?Wc(Md(t.op1),Md(t.op2)):t.ops?t.engine._fn(t.operator,t.ops.map(_P)):t}function B9(t,e,r){if(e instanceof qs)return e;if(e=tn(e),typeof e=="string")return O0(t,e,r);if(Array.isArray(e)){let[i,...n]=e;return new Fu(t,i,n.map(a=>B9(t,a,r)))}if(typeof e=="object"){if("fn"in e)return B9(t,e.fn,r);if("str"in e)return new wd(t,e.str);if("sym"in e)return O0(t,e.sym,r);if("num"in e)return O0(t,e.num,r)}return O0(t,e,r)}function O9(t,e,r,i){if(i=i?{...i}:{},"canonical"in i||(i.canonical=!0),!Zo(e))throw new Error(`Unexpected function name: "${e}" (not a valid identifier: ${v1(e)})`);let n=i.structural??!1;if(e==="Hold")return new Fu(t,"Hold",[B9(t,r[0],i)],{...i,canonical:!0,structural:n});if(e==="Error"||e==="ErrorCode")return t._fn(e,r.map(a=>t.box(a,{canonical:!1})),i.metadata);if(e==="String")return r.length===0?new wd(t,"",i.metadata):new wd(t,r.map(a=>EP(a)??"").join(""),i.metadata);if(e==="Symbol"&&r.length>0)return t.symbol(r.map(a=>EP(a)??"").join(""),i);if(e==="Number"&&r.length===1)return O0(t,r[0],i);if(n===!1&&(i.canonical===!0||i.canonical==="Number"||Array.isArray(i.canonical)&&i.canonical.includes("Number"))){if((e==="Divide"||e==="Rational")&&r.length===2){let a=IP(r[0]);if(a!==null){let s=IP(r[1]);if(s!==null)return t.number([a,s],i)}e="Divide"}if(e==="Complex"){if(r.length===1){let a=r[0];if(a instanceof qs&&a.isNumberLiteral)return t.number(t.complex(0,a.re),i);let s=ai(r[0]);return s!==null&&s!==0?t.number(t.complex(0,s),i):t.box(a).mul(t.I)}if(r.length===2){let a=r[0]instanceof qs?r[0].re:ai(r[0]),s=r[1]instanceof qs?r[1].re:ai(r[1]);return s!==null&&a!==null&&!isNaN(s)&&!isNaN(a)?s===0&&a===0?t.Zero:s!==0?t.number(t._numericValue({re:a,im:s}),i):O0(t,r[0],i):O0(t,r[0],i).add(O0(t,r[1],i).mul(t.I))}throw new Error("Expected one or two arguments with Complex expression")}if(e==="Negate"&&r.length===1){let a=r[0];if(typeof a=="number")return t.number(-a,i);if(a instanceof Ui)return t.number(a.neg(),i);let s=t.box(a,i),o=s.numericValue;if(o!==null)return t.number(typeof o=="number"?-o:o.neg(),i);r=[s]}}return i.canonical===!0?c9e(t,e,r,i.metadata):o2(new Fu(t,e,r.map(a=>O0(t,a,{canonical:i.canonical,structural:n})),{metadata:i.metadata,canonical:!1,structural:n}),i.canonical??!1)}function O0(t,e,r){if(e==null)return t.error("missing");if(e instanceof us)return p9e(t,e);if(e instanceof qs)return o2(e,(r==null?void 0:r.canonical)??!0);r=r?{...r}:{},"canonical"in r||(r.canonical=!0);let i=r.canonical===!0,n=r.structural??!1;if(Array.isArray(e)){if(typeof e[0]!="string")throw new Error(`The first element of an array should be a string (the function name): ${JSON.stringify(e)}`);return o2(O9(t,e[0],e.slice(1),{canonical:i,structural:n}),r.canonical)}if(typeof e=="number"||e instanceof Ui||e instanceof yn)return t.number(e);if(typeof e=="string"){if(e.startsWith("'")&&e.endsWith("'"))return new wd(t,e.slice(1,-1));let a=e;if(a=a.replace(/[\u0009-\u000d\u0020\u00a0]/g,""),/^[+-]?[0-9]/.test(a)){let s=t.number(e);if(!s.isNaN)return s}return Zo(e)?t.symbol(e,{canonical:i}):t.error("invalid-identifier",e)}if(typeof e=="object"){if("fn"in e){let[a,...s]=e.fn;return o2(O9(t,a,s,{canonical:i,structural:n}),r.canonical)}if("str"in e)return new wd(t,e.str);if("sym"in e)return t.symbol(e.sym,{canonical:i});if("num"in e)return t.number(e,{canonical:i});throw new Error(`Unexpected MathJSON object: ${JSON.stringify(e)}`)}return t.symbol("Undefined")}function EP(t){if(typeof t=="string")return t;if(t instanceof qs)return t.string??t.symbol??t.toString();if(typeof t=="object"){if("str"in t)return t.str;if("fn"in t&&t.fn[0]==="String"&&typeof t.fn[1]=="string")return t.fn[1]}return Array.isArray(t)&&t[0]==="String"&&typeof t[1]=="string"?t[1]:null}function c9e(t,e,r,i){let n=h9e(t,e,r,i);if(n)return n;if(e==="List"){let u=r.map(p=>t.box(p)),{shape:c,dtype:h}=MP("List",u)??{};return h&&c?new wP(t,{op:"List",ops:u}):t._fn("List",u)}let a=t.lookupFunction(e);if(!a)return new Fu(t,e,ws(Gc(t,r)),{metadata:i,canonical:!0});if(a.lazy){let u=r.map(c=>t.box(c,{canonical:!1}));if(a.canonical){try{let c=a.canonical(u,{engine:t});if(c)return c}catch(c){console.error(c.message)}return new Fu(t,e,u,{metadata:i,canonical:!1})}return t._fn(e,Y3(t,u,a.signature.type,a.lazy,a.threadable)??u,i)}let s=r.map(u=>t.box(u));if(a.canonical){try{let u=a.canonical(s,{engine:t});if(u)return u}catch(u){console.error(u.message)}return new Fu(t,e,s,{metadata:i,canonical:!1})}let o=ws(s,a.associative?e:void 0),l=Y3(t,o,a.signature.type,a.lazy,a.threadable);if(l)return t._fn(e,l,i);if(o.length===1&&o[0].operator===e){if(a.involution)return o[0].op1;if(a.idempotent)return t._fn(e,s[0].ops,i)}return t._fn(e,Z7(e,o),i)}function h9e(t,e,r,i){let n=[];if(e==="Add"||e==="Multiply")n=wl(t,If(t,r),{flatten:e});else if(e==="Negate"||e==="Square"||e==="Sqrt"||e==="Exp")n=wl(t,If(t,r),1);else if(e==="Ln"||e==="Log")n=wl(t,If(t,r)),n.length===0&&(n=[t.error("missing")]);else if(e==="Power"||e==="Root")n=wl(t,If(t,r),2);else if(e==="Divide")n=wl(t,If(t,r)),n.length===0&&(n=[t.error("missing"),t.error("missing")]),n.length===1&&(n=[n[0],t.error("missing")]);else return null;if(!n.every(a=>a.isValid))return t._fn(e,n,i);if(e==="Add")return Ou(t,n);if(e==="Negate")return U8e(n[0]);if(e==="Multiply")return oo(t,n);if(e==="Divide")return n.length===2?Wc(...n):n.slice(1).reduce((a,s)=>Wc(a,s),n[0]);if(e==="Exp")return r5(t.E,n[0]);if(e==="Square")return r5(n[0],t.number(2));if(e==="Power")return r5(n[0],n[1]);if(e==="Root")return qf(n[0],n[1]);if(e==="Sqrt")return qf(n[0],2);if(e==="Ln"||e==="Log"){if(n.length>0){if(n[0].is(1))return t.Zero;if(n.length===1)return t._fn(e,n,i)}return t._fn("Log",n,i)}return null}function p9e(t,e){if(e.isZero)return t.Zero;if(e.isOne)return t.One;if(e.isNegativeOne)return t.NegativeOne;if(e.isNaN)return t.NaN;if(e.isNegativeInfinity)return t.NegativeInfinity;if(e.isPositiveInfinity)return t.PositiveInfinity;if(e=e.asExact??e,!e.isExact){let a=e.im;return a===0?t.number(e.bignumRe??e.re):e.re===0?t.number(t.complex(0,a)):e.bignumRe!==void 0&&!i5(e.bignumRe)?Ou(t,[t.number(e.bignumRe),t.number(t.complex(0,a))]):t.number(t.complex(e.re,e.im))}let r=[],i=e;if(i.sign!==0)if(i.radical===1)r.push(t.number(i.rational));else{let a=i.rational,s=t.function("Sqrt",[t.number(i.radical)]);if(Ml(a))r.push(s);else{let[o,l]=a;l===1?o===1?r.push(s):r.push(t.function("Multiply",[t.number(o),s])):o===1?r.push(t.function("Divide",[s,t.number(l)])):r.push(t.function("Divide",[t.function("Multiply",[t.number(o),s]),t.number(l)]))}}let n;return e.im===0?r.length===0?t.Zero:(n=r.length===1?r[0]:oo(t,r),n):r.length===0?t.number(t.complex(0,e.im)):(n=r.length===1?r[0]:oo(t,r),Ou(t,[n,t.number(t.complex(0,e.im))]))}function IP(t){return typeof t=="bigint"?t:typeof t=="number"&&Number.isInteger(t)?BigInt(t):t instanceof qs?U7(t):t instanceof Ui||typeof t=="string"?Rs(t):t instanceof yn?t.im===0?Rs(t.re):null:Txe(t)}var d9e={Sin:["Cos","_"],Cos:["Negate",["Sin","_"]],Tan:["Power",["Sec","_"],2],Sec:["Multiply",["Tan","_"],["Sec","_"]],Csc:["Multiply",["Negate",["Cot","_"]],["Csc","_"]],Cot:["Negate",["Power",["Csc","_"],2]],Arcsin:["Power",["Subtract",1,["Power","_",2]],["Negate","Half"]],Arccos:["Negate",["Power",["Subtract",1,["Power","_",2]],["Negate","Half"]]],Arctan:["Power",["Add",1,["Power","_",2]],-1],Arcsec:["Multiply",["Power",["Subtract",1,["Power","_",2]],["Negate","Half"]],["Negate",["Power","_",2]]],Arccsc:["Multiply",["Power",["Subtract",1,["Power","_",2]],["Negate","Half"]],["Negate",["Power","_",2]]],Arccot:["Negate",["Power",["Add",1,["Power","_",2]],-1]],Sinh:["Cosh","_"],Cosh:["Sinh","_"],Tanh:["Power",["Sech","_"],2],Sech:["Multiply",["Tanh","_"],"Sech"],Csch:["Multiply",["Coth","_"],"Csch"],Coth:["Negate",["Power",["Csch","_"],2]],Arcsinh:["Power",["Add",["Power","_",2],1],["Negate","Half"]],Arccosh:["Power",["Subtract",["Power","_",2],1],["Negate","Half"]],Arctanh:["Power",["Subtract",1,["Power","_",2]],-1],Arcsech:["Negate",["Power",["Multiply","2","Subtract",["Power","_",2]],["Negate","Half"]]],Arccsch:["Negate",["Power",["Multiply","2","Add",["Power","_",2]],["Negate","Half"]]],Arccoth:["Negate",["Power",["Subtract",1,["Power","_",2]],-1]],Ln:["Divide",1,"_"],Log:["Power",["Multiply","_",["Ln","10"]],-1],Sqrt:["Multiply",["Power","_",["Negate","Half"]],"Half"],Abs:["Which",["Equal","_",0],NaN,["Less","_",0],-1,["Greater","_",0],1,"True",["D",["Abs","_"],"_"]],Erf:["Multiply",["Divide","2",["Sqrt","Pi"]],["Exp",["Negate",["Square","_"]]]],Gamma:["Multiply",["Gamma","_"],["Digamma","_"]],Digamma:["Add",["Multiply",["Digamma","_"],["Gamma","_"]],["Multiply",["Power","_",-1],["Gamma","_"]]],Zeta:["Multiply",["Multiply",-1,["Zeta","_"]],["Digamma","_"]],PolyGamma:["Add",["Multiply",["PolyGamma","_"],["Gamma","_"]],["Multiply",["Power","_",-1],["Gamma","_"]]],Beta:["Multiply",["Add",["Multiply",["Beta","_"],["Digamma","_"]],["Multiply",["Power","_",-1],["Beta","_"]]],["Beta","_"]],Erfc:["Multiply",["Negate",["Erfc","_"]],["Exp",["Negate",["Power","_",2]]],["Power","_",-1]],LambertW:["Multiply",["Power","_",-1],["Multiply",["Add","_",["LambertW","_"]],["Add",["LambertW","_"],1]]],AiryAi:["Multiply",["AiryAi","_"],["AiryBi","_"]],AiryBi:["Multiply",["AiryAi","_"],["AiryBi","_"]],BesselJ:["Multiply",["BesselJ","_"],["BesselY","_"]],BesselY:["Multiply",["BesselJ","_"],["BesselY","_"]],BesselI:["Multiply",["BesselI","_"],["BesselK","_"]],BesselK:["Multiply",["BesselI","_"],["BesselK","_"]],FresnelS:["Multiply",["FresnelS","_"],["FresnelC","_"]],FresnelC:["Multiply",["FresnelS","_"],["FresnelC","_"]],Erfi:["Multiply",["Erfi","_"],["Erf","_"]]};function m9e(t,e){if(e===0)return t;let r=t.engine,i="_";t.symbol&&t.functionDefinition&&(t=h5(r.symbol(t.symbol),[r.symbol("_")])),t.operator==="Function"&&(i=t.ops[1].symbol??"_",t=t.ops[0]);let n=t;for(;e-- >0&&n;)n=n0(n,i);return n}function n0(t,e){let r=t.engine;if(t.string)return;if(t.isNumberLiteral)return t.engine.Zero;if(t.symbol===e)return t.engine.One;if(t.symbol)return t.engine.Zero;if(!t.operator)return;if(t.operator==="Negate"){let s=n0(t.op1,e);return s?s.neg():r._fn("D",[t.op1,r.symbol(e)]).neg()}if(t.operator==="Add"){let s=t.ops.map(o=>n0(o,e));return s.some(o=>o===void 0)?void 0:Cs(...s).evaluate()}if(t.operator==="Multiply"){let s=t.ops.map((o,l)=>{let u=t.ops.slice();u.splice(l,1);let c=Cl(...u);return(n0(o,e)??r._fn("D",[o,r.symbol(e)])).mul(c)});return s.some(o=>o===void 0)?void 0:Cs(...s).evaluate()}if(t.operator==="Power"){let[s,o]=t.ops;if(s.symbol===e)return o.mul(s.pow(o.add(r.NegativeOne))).evaluate();let l=s,u=o,c=n0(l,e)??r._fn("D",[l,r.symbol(e)]),h=(n0(u,e)??r._fn("D",[u,r.symbol(e)])).mul(l.ln()),p=u.mul(c).div(l);return t.mul(h.add(p)).evaluate()}if(t.operator==="Divide"){let[s,o]=t.ops,l=n0(s,e)??r._fn("D",[s,r.symbol(e)]),u=n0(o,e)??r._fn("D",[o,r.symbol(e)]);return l.mul(o).sub(u.mul(s)).div(o.pow(2)).evaluate()}let i=d9e[t.operator];if(!i){if(t.nops>1)return;let s=r._fn("Derivative",[r.symbol(t.operator),r.One]);if(!s.isValid)return;let o=t.ops[0],l=n0(o,e)??r._fn("D",[o,r.symbol(e)]);return l.isValid?r._fn("Apply",[s,o]).mul(l):void 0}if(t.nops>1)return r._fn("D",[t,r.symbol(e)]);let n=t.ops[0],a=n0(n,e)??r._fn("D",[n,r.symbol(e)]);return h5(r.box(i),[n]).mul(a)}var f9e=[{Derivative:{threadable:!1,lazy:!0,signature:"(any, order:number?) -> function",canonical:(t,{engine:e})=>e._fn("Derivative",[t[0].canonical,...t.slice(1)]),evaluate:t=>{var i;let e=t[0].evaluate(),r=Math.floor((i=t[1])==null?void 0:i.N().re);return m9e(e,isNaN(r)?1:r)}},D:{threadable:!1,lazy:!0,signature:"(expression, variable:symbol, variables:...symbol) -> expression",canonical:(t,{engine:e})=>{let r=e,i=t[0];if(!i)return null;r.pushScope();let n=t.slice(1);i.bind(),i=i.canonical;let a=r._fn("D",[i,...n]);return r.popScope(),a},evaluate:(t,{engine:e})=>{let r=e,i=t[0].canonical,n=r.swapScope(i.scope);i=i.evaluate();let a=t.slice(1);a.length===0&&(i=void 0);for(let s of a){if(!s.symbol){i=void 0;break}if(i=n0(i,s.symbol),i===void 0)break}return r.swapScope(n),i=i==null?void 0:i.canonical,(i==null?void 0:i.operator)==="D"?i:i==null?void 0:i.evaluate()}},ND:{threadable:!1,lazy:!0,signature:"(function, at:number) -> number",evaluate:([t,e],{engine:r})=>{let i=e==null?void 0:e.canonical.N().re;if(isNaN(i))return;let n=NF(r.box(t));return r.number(gxe(n,i))}},Integrate:{wikidata:"Q80091",threadable:!1,lazy:!0,signature:"(expression, range:(tuple|symbol|nothing)) -> number",canonical:(t,{engine:e})=>{var l,u,c,h,p;let r=e,i=t[1],n=null,a=null,s=null;i&&i.operator!=="Tuple"&&i.operator!=="Triple"&&i.operator!=="Pair"&&i.operator!=="Single"?n=i:i&&(n=((l=i.ops)==null?void 0:l[0])??null,a=((c=(u=i.ops)==null?void 0:u[1])==null?void 0:c.canonical)??null,s=((p=(h=i.ops)==null?void 0:h[2])==null?void 0:p.canonical)??null),n&&n.operator==="Hold"&&(n=n.op1),n&&n.operator==="ReleaseHold"&&(n=n.op1.evaluate()),n??(n=r.Nothing),n.symbol||(n=r.typeError("symbol",n.type,n)),a&&a.symbol!=="Nothing"&&(a.type.isUnknown||(a=cd(r,a,"number"))),s&&s.symbol!=="Nothing"&&(s.type.isUnknown||(s=cd(r,s,"number"))),a&&s?i=r.tuple(n,a,s):s?i=r.tuple(n,r.NegativeInfinity,s):a?i=r.tuple(n,a):i=n;let o=t[0]??r.error("missing");return o=o.canonical,o.operator==="Delimiter"&&o.op1.operator==="Sequence"&&(o=o.op1.op1),r._fn("Integrate",[o,i])}},NIntegrate:{threadable:!1,lazy:!0,signature:"(expression, lower:number, upper:number) -> number",evaluate:(t,{engine:e})=>{let r=e.precision;e.precision="machine";let i=e.strict;e.strict=!1;let[n,a]=t.slice(1).map(o=>o.value),s;if(typeof n=="number"&&typeof a=="number"){let o=NF(t[0]);s=e.number(KF(o,n,a))}return e.precision=r,e.strict=i,s}}},{Limit:{description:"Limit of a function",complexity:5e3,threadable:!1,lazy:!0,signature:"(expression, point:number, direction:number?) -> number",evaluate:(t,{engine:e})=>{let[r,i,n]=t,a=i.N().re;if(!isFinite(a))return;let s=Yc(r);return e.number($f(o=>{var u;let l=(u=s([e.number(o)]))==null?void 0:u.value;return typeof l=="number"?l:Number.NaN},a,n?n.re:1))}},NLimit:{description:"Numerical approximation of the limit of a function",complexity:5e3,threadable:!1,lazy:!0,signature:"(expression, point:number, direction:number?) -> number",evaluate:([t,e,r],{engine:i})=>{let n=e.N().re;if(Number.isNaN(n))return;let a=Yc(t);return i.number($f(s=>{var l;let o=(l=a([i.number(s)]))==null?void 0:l.value;return typeof o=="number"?o:Number.NaN},n,r?r.re:1))}}}],g9e=[{Block:{lazy:!0,signature:"(any) -> any",canonical:b9e,evaluate:y9e},Condition:{lazy:!0,signature:"(value, symbol) -> boolean",evaluate:([t,e],{engine:r})=>{let i=[];return e.symbol?i=[e.symbol]:e.operator==="And"&&(i=e.ops.map(n=>n.symbol??"")),u7e(t,i)?r.True:r.False}},If:{lazy:!0,signature:"(expression, expression, expression) -> any",type:([t,e,r])=>E0(e.type.type,r.type.type),evaluate:([t,e,r],{engine:i})=>(t=t.evaluate(),t&&t.symbol==="True"?(e==null?void 0:e.evaluate())??i.Nothing:(r==null?void 0:r.evaluate())??i.Nothing)},Loop:{lazy:!0,signature:"(body:expression, collection:expression) -> any",type:([t])=>t.type,evaluate:([t,e],{engine:r})=>H3(LP(t,e,r),r._timeRemaining),evaluateAsync:async([t,e],{engine:r,signal:i})=>Z3(LP(t,e,r),r._timeRemaining,i)},Which:{lazy:!0,signature:"(...expression) -> unknown",type:t=>t.length%2!==0?"nothing":E0(...t.filter((e,r)=>r%2===1).map(e=>e.type.type)),canonical:(t,e)=>t.length%2!==0?e.engine.Nothing:e.engine._fn("Which",t.map(r=>r.canonical)),evaluate:(t,e)=>v9e(t,e)},FixedPoint:{lazy:!0,signature:"any -> any"}}];function v9e(t,e){let r=0;for(;r<t.length-1;){if(t[r].evaluate().symbol==="True")return t[r+1]?t[r+1].evaluate(e):e.engine.symbol("Undefined");r+=2}return e.engine.symbol("Undefined")}function y9e(t,{engine:e}){if(t.length===0)return e.Nothing;e.resetContext();let r;for(let i of t){let n=i.operator;if(n==="Return"){r=i.op1.evaluate();break}if(n==="Break"||n==="Continue"){r=e.box([n,i.op1.evaluate()]);break}r=i.evaluate()}return r??e.Nothing}function b9e(t,e){let{engine:r}=e;if(t.length===0)return null;r.pushScope();let i=[],n=[];for(let s of t)s.operator==="Declare"?i.push(s):n.push(TP(s));let a=r._fn("Block",[...i,...n]);return r.popScope(),a}function TP(t){return t.operator==="Declare"&&t.engine.error("unexpected-declare"),t.ops?t.engine._fn(t.operator,t.ops.map(TP)):t}function*LP(t,e,r){if(t??(t=r.Nothing),t.symbol==="Nothing")return t;if(e!=null&&e.isCollection){let n,a=Yc(t),s=0;for(let o of ls(e)){if(n=a([o])??r.Nothing,n.operator==="Break")return n.op1;if(n.operator==="Return")return n;if(s+=1,s%1e3===0&&(yield n),s>r.iterationLimit)throw new ld({cause:"iteration-limit-exceeded"})}return n}let i=0;for(;;){let n=t.evaluate();if(n.operator==="Break")return n.op1;if(n.operator==="Return")return n;if(i+=1,i%1e3===0&&(yield n),i>r.iterationLimit)throw new ld({cause:"iteration-limit-exceeded"})}}var x9e=[{Real:{threadable:!0,complexity:1200,signature:"number -> real",sgn:([t])=>{let e=t.re;if(!isNaN(e))return e===0?"zero":e>0?"positive":"negative"},evaluate:(t,{engine:e})=>{let r=t[0].numericValue;if(r!==null)return typeof r=="number"?t[0]:e.number(r.bignumRe??r.re)}},Imaginary:{threadable:!0,complexity:1200,signature:"number -> real",sgn:([t])=>{let e=t.im;if(!isNaN(e))return e===0?"zero":e>0?"positive":"negative"},evaluate:(t,{engine:e})=>{let r=t[0].numericValue;if(r!==null)return typeof r=="number"?e.Zero:e.number(r.im)}},Argument:{threadable:!0,complexity:1200,signature:"number -> real",evaluate:(t,{engine:e})=>{let r=t[0].numericValue;if(r!==null)return typeof r=="number"?r>=0?e.Zero:e.Pi:r.im===0?r.re>=0?e.Zero:e.Pi:e.function("ArcTan2",[r.im,r.re]).evaluate()}},AbsArg:{threadable:!0,complexity:1200,signature:"number -> tuple<real, real>",evaluate:(t,{engine:e})=>{if(t[0].numericValue!==null)return e.tuple(e.function("Abs",t).evaluate(),e.function("Argument",t).evaluate())}},Conjugate:{threadable:!0,complexity:1200,signature:"number -> number",type:([t])=>t.type,sgn:([t])=>t.sgn,evaluate:(t,{engine:e})=>{let r=t[0].numericValue;if(r!==null)return typeof r=="number"||r.im===0?t[0]:e.number(e.complex(r.re,-r.im))}},ComplexRoots:{threadable:!0,complexity:1200,signature:"(number, number) -> list<number>",evaluate:(t,{engine:e})=>{let r=t[0].re;if(isNaN(r))return;let i=t[1].re;if(!Number.isInteger(i)||i<=0)return;let n=[],a=t[0].im??0,s=Math.atan2(a,r),o=Math.sqrt(r*r+a*a);for(let l=0;l<i;l++){let u=(s+2*Math.PI*l)/i,c=Math.pow(o,1/i);n.push([c*Math.cos(u),c*Math.sin(u)])}return e.function("List",n.map(l=>e.number(l[1]!==0?e.complex(l[0],l[1]):l[0])))}}}];function l2(t){return t[Math.floor(Math.random()*t.length)]}function zP(t,e){if(t==="Add"||t==="Multiply"){let r=[],i=1+Math.floor(Math.random()*12);for(;i>0;)r.push(Pu(e+1)),i-=1;return[t,...r]}return t==="Divide"||t==="Power"?[t,Pu(e+1),Pu(e+1)]:t==="Root"?[t,Pu(e+1),Pu(10)]:t==="trig"?w9e():[t,Pu(e+1)]}function w9e(){return[l2(["Cos","Sin","Tan","Sinh","Arccos","Arcsinh"]),l2(["Pi","-1","0","1",["Divide","Pi",-5],["Multiply",-2,["Divide","Pi",11]],["Multiply","Half","Pi"],["Multiply",5,"Pi"],["Multiply",12,"Pi"],["Divide","Pi",5],["Divide","Pi",9],["Multiply",5,["Divide","Pi",9]],["Multiply",2,["Divide","Pi",11]],["Multiply",2,["Divide","Pi",3]]])]}function Pu(t){if(t??(t=1),t===1){let e=l2([["Sqrt",["Multiply",6,["Sum",["Divide",1,["Power","n",2]],["Triple",["Hold","n"],1,"PositiveInfinity"]]]],"Add","Add","Add","Add","Add","Multiply","Multiply","Multiply","Multiply","Divide","Divide","Divide","Root","Sqrt","Subtract","Negate","trig"]);return typeof e=="string"?zP(e,1):e}if(t===2){let e=Math.random();if(e>.75)return Pu(1);if(e>.5)return Pu(3);let r=l2(["Multiply","Multiply","Add","Power","trig","Ln","Exp"]);return zP(r,2)}return l2([-12345e-9,-2,-2,-2,-3,-5,-6,-12,-1654e-60,0,0,12345e-8,1654e-60,1,2,2,2,2,3,3,5,5,6,6,1234.5678,5678.1234,10,15,18,30,60,1234e54,"123456789.12345678912345e200","987654321.12345678912345",["Rational",-6,10],["Rational",-12,15],["Rational",-15,12],["Rational",3,5],["Rational",12,15],["Rational",15,12],"ExponentialE",["Sqrt",3],["Sqrt",5],["Sqrt",15],["Sqrt",25],["Complex",-1.1,1.1],["Complex",4,5],"x","x","x","x",["Add","x",1],["Divide","x",3],["Square","x"],["Power","x",3],["Power","x",4],["Subtract","x",1],["Add","x",1],"Pi"])}var M9e=[{Nothing:{type:"nothing"}},{InvisibleOperator:{complexity:9e3,lazy:!0,signature:"...any -> any",canonical:(t,{engine:e})=>{let r=CP(t,{engine:e});return r?r.operator==="Multiply"?oo(e,r.ops):r:e.Nothing}},Sequence:{lazy:!0,signature:"...any -> any",type:t=>t.length===0?"nothing":t.length===1?t[0].type:"any",canonical:(t,{engine:e})=>{let r=ws(t);return r.length===0?e.Nothing:r.length===1?r[0]:e._fn("Sequence",r)}},Delimiter:{complexity:9e3,lazy:!0,signature:"(any, string?) -> any",type:t=>t.length===0?"nothing":t[0].type,canonical:(t,{engine:e})=>{var n;if(t.length===0)return e._fn("Tuple",[]);if(t.length>2)return e._fn("Delimiter",_u(e,t,2));let r=t[0];if(r.operator==="Sequence")return e._fn("Tuple",Gc(e,r.ops));r=r.canonical;let i=(n=t[1])==null?void 0:n.string;return!i||i.startsWith("(")&&i.endsWith(")")?r:((i==null?void 0:i.length)??0)>3?e._fn("Delimiter",[r,e.error("invalid-delimiter",t[1].toString())]):e._fn("Delimiter",[t[0],cd(e,t[1],"string")])},evaluate:(t,e)=>{let r=e.engine;if(t.length===0)return r.Nothing;let i=t[0];return(i.operator==="Sequence"||i.operator==="Delimiter")&&(t=SO(t[0].ops)),t.length===1?t[0].evaluate(e):r._fn("Tuple",t.map(n=>n.evaluate(e)))}},Error:{lazy:!0,complexity:500,signature:"((string|expression), expression?) -> nothing",canonical:(t,{engine:e})=>e._fn("Error",t)},ErrorCode:{complexity:500,lazy:!0,signature:"(string, ...any) -> error",canonical:(t,{engine:e})=>{let r=cd(e,t[0],"string").string;return r==="incompatible-type"?e._fn("ErrorCode",[e.string(r),t[1],t[2]]):e._fn("ErrorCode",t)}},Unevaluated:{description:"Prevent an expression from being evaluated",lazy:!1,signature:"any -> any",type:([t])=>t.type,evaluate:([t])=>t},Hold:{description:"Hold an expression, preventing it from being canonicalized or evaluated until `ReleaseHold` is applied to it",lazy:!0,signature:"any -> unknown",type:([t])=>t.symbol?"symbol":t.string?"string":t.isNumberLiteral?t.type:t.ops?F3(t.type.type)??"unknown":"unknown",eq:(t,e)=>(e.operator==="Hold"&&(e=e.ops[0]),t.ops[0].isSame(e)),canonical:(t,{engine:e})=>t.length!==1?null:e.hold(t[0]),evaluate:([t],{engine:e})=>e.hold(t)},ReleaseHold:{description:"Release an expression held by `Hold`",lazy:!0,signature:"any -> any",type:([t])=>t.type,evaluate:([t],e)=>t.operator==="Hold"?t.ops[0].evaluate(e):t.evaluate(e)},HorizontalSpacing:{signature:"number -> nothing",canonical:(t,{engine:e})=>t.length===2?t[0].canonical:e.Nothing},Style:{complexity:9e3,signature:"(expression, map) -> expression",lazy:!0,type:([t])=>t.type,canonical:([t,e],{engine:r})=>(t=t.canonical,e=BF(r,e),e.nops===0?t:r._fn("Style",[t,e])),evaluate:([t,e],r)=>t.evaluate(r)}},{About:{description:"Return information about an expression",lazy:!0,signature:"any -> string",evaluate:([t],{engine:e})=>{let r=[t.toString()];if(r.push(""),t.string)r.push("string");else if(t.symbol)if(t.symbolDefinition){let i=t.symbolDefinition;i.isConstant&&r.push("constant"),i.isFunction&&r.push("function"),typeof i.description=="string"?r.push(i.description):Array.isArray(i.description)&&r.push(i.description.join(`
`)),i.wikidata&&r.push(`WikiData: ${i.wikidata}`),i.url&&r.push(`Read More: ${i.url}`)}else r.push("symbol"),r.push(`value: ${t.evaluate().toString()}`);else t.isNumberLiteral?r.push(t.type.toString()):t.ops?(r.push(t.type.toString()),r.push(t.isCanonical?"canonical":"non-canonical")):r.push("Unknown expression's type");return e.string(r.join(`
`))}},Head:{description:"Return the head of an expression, the name of the operator",lazy:!0,signature:"any -> symbol",canonical:(t,{engine:e})=>{if(t.length!==1)return null;let r=t[0];return r.operator?e.box(r.operator):e._fn("Head",Gc(e,t))},evaluate:(t,{engine:e})=>{var r;return e.symbol(((r=t[0])==null?void 0:r.operator)??"Undefined")}},Tail:{description:"Return the tail of an expression, the operands of the expression",lazy:!0,signature:"any -> collection",canonical:(t,{engine:e})=>{if(t.length!==1)return null;let r=t[0];return r.ops?e._fn("Sequence",r.ops):e._fn("Tail",Gc(e,t))},evaluate:([t],{engine:e})=>t!=null&&t.ops?e._fn("Sequence",t.ops):e.Nothing},Identity:{description:"Return the argument unchanged",signature:"any -> any",type:([t])=>t.type,evaluate:([t])=>t}},{Apply:{description:"Apply a function to a list of arguments",signature:"(name:symbol, arguments:...expression) -> any",type:([t])=>F3(t.type.type)??"any",canonical:(t,{engine:e})=>t[0].symbol?e.function(t[0].symbol,t.slice(1)):e._fn("Apply",t),evaluate:t=>h5(t[0],t.slice(1))},Assign:{description:"Assign a value to a symbol",lazy:!0,pure:!1,signature:"(symbol, any) -> any",type:([t,e])=>e.type,canonical:(t,{engine:e})=>{if(t.length!==2)return null;let r=t[0];if(!r.symbol)return null;let i=t[1];return e._fn("Assign",[r.canonical,i.canonical])},evaluate:([t,e],{engine:r})=>{let i=e.evaluate();return r.assign(t.symbol,i),i}},Assume:{description:"Assume a type for a symbol",lazy:!0,pure:!1,signature:"any -> symbol",evaluate:(t,{engine:e})=>e.symbol(e.assume(t[0]))},Declare:{lazy:!0,pure:!1,signature:"symbol -> any",type:([t,e])=>e.type,canonical:(t,{engine:e})=>{if(t.length!==2)return null;let r=t[0],i=t[1];return r.symbol?i.symbol?e._fn("Declare",t):e._fn("Declare",[r,e._fn("Hold",[i])]):null},evaluate:(t,{engine:e})=>{let r=t[0],i=t[1];if(!r.symbol)return e.Nothing;let n=i.evaluate();if(!n.string)return;let a=Mi(n.string);if(Df(a))return e.declare(r.symbol,a),n}},Type:{lazy:!0,signature:"any -> string",evaluate:([t],{engine:e})=>e.string(t.type.toString()??"unknown")},Evaluate:{lazy:!0,signature:"any -> any",type:([t])=>t.type,canonical:(t,{engine:e})=>e._fn("Evaluate",_u(e,t,1)),evaluate:([t],e)=>t.evaluate(e)},Function:{complexity:9876,lazy:!0,signature:"function",type:([t,...e])=>`(${e.map(r=>r.type)}) -> ${t.type.type}`,canonical:(t,{engine:e})=>{if(t.length===0)return e.Nothing;let r=a9(t[0],t.slice(1));if(!r)return null;let i=r[0].canonical,n=r.slice(1).map(a=>e.symbol(a));return n.length===0?i:e._fn("Function",[i,...n])},evaluate:t=>{}},Simplify:{lazy:!0,signature:"any -> expression",canonical:(t,{engine:e})=>e._fn("Simplify",_u(e,t,1)),evaluate:([t])=>t.simplify()??void 0},CanonicalForm:{description:["Return the canonical form of an expression","Can be used to sort arguments of an expression.",'Sorting arguments of commutative functions is a weak form of canonicalization that can be useful in some cases, for example to accept "x+1" and "1+x" while rejecting "x+1" and "2x-x+1"'],complexity:8200,lazy:!0,signature:"(any, ...symbol) -> any",canonical:t=>{if(t.length===1)return t[0].canonical;let e=t.slice(1).map(r=>r.symbol??r.string).filter(r=>r!=null);return o2(t[0],e)}},N:{description:"Numerically evaluate an expression",lazy:!0,signature:"any -> any",type:([t])=>t.type,canonical:(t,{engine:e})=>{if(t.length!==1)return e._fn("N",_u(e,t,1));let r=t[0].operator;if(r==="N")return t[0].canonical;if(r==="Integrate"){let{index:i,lower:n,upper:a}=p5(t[0].op2);if(!i||n===void 0||a===void 0)return null;let s=t[0].op1;return e._fn("NIntegrate",[e.function("Function",[s,i]),e.number(n),e.number(a)])}return r==="Limit"?e._fn("NLimit",t[0].ops):e._fn("N",t)},evaluate:([t])=>t.N()},Random:{description:["Random(): Return a random number between 0 and 1","Random(n): Return a random integer between 0 and n-1","Random(m, n): Return a random integer between m and n-1"],pure:!1,signature:"(lower:integer?, upper:integer?) -> finite_number",type:([t,e])=>t===void 0&&e===void 0?"finite_number":"finite_integer",sgn:()=>"non-negative",evaluate:(t,{engine:e})=>{if(t.length===0)return e.number(Math.random());let[r,i]=t,n,a;return i===void 0?(n=0,a=Math.floor(r.re-1),isNaN(a)&&(a=0)):(n=Math.floor(r.re),a=Math.floor(i.re),isNaN(n)&&(n=0),isNaN(a)&&(a=0)),e.number(n+Math.floor(Math.random()*(a-n)))}},Signature:{lazy:!0,signature:"symbol -> string | nothing",evaluate:([t],{engine:e})=>t.functionDefinition?e.string(t.functionDefinition.signature.toString()):e.Nothing},Subscript:{lazy:!0,signature:"(collection|string, any) -> any",type:([t,e])=>t.string&&Bn(e)!==null?"integer":t.isCollection&&W3(t)?Sf(t.type.type)??"any":t.symbol?"symbol":"expression",canonical:([t,e],{engine:r})=>{var i;if(t=t.canonical,t.string){let n=Bn(e.canonical);if(n!==null&&n>1&&n<=36){let[a,s]=t5(t.string,n);return s?r.error(["unexpected-digit",s[0]],t.toString()):r.number(a)}return r._fn("Baseform",[t,r.error(["invalid-base",e.toString()])])}if(t.isCollection&&W3(t))return r._fn("At",[t,e.canonical]);if(t.symbol){let n=e.string??e.symbol??((i=Bn(e))==null?void 0:i.toString());if(n)return r.symbol(t.symbol+"_"+n)}return e.operator==="Sequence"&&r._fn("Subscript",[t,r._fn("List",e.ops)]),r._fn("Subscript",[t,e])}},Symbol:{complexity:500,description:"Construct a new symbol with a name formed by concatenating the arguments",threadable:!0,lazy:!0,signature:"...any -> any",type:t=>t.length===0?"nothing":"symbol",canonical:(t,{engine:e})=>{if(t.length===0)return e.Nothing;let r=t.map(i=>{var n;return i.symbol??i.string??((n=Bn(i))==null?void 0:n.toString())??""}).join("");return r.length>0?e.symbol(r):e.Nothing}},Timing:{description:"`Timing(expr)` evaluates `expr` and return a `Pair` of the number of second elapsed for the evaluation, and the value of the evaluation",signature:"(value, repeat: integer?) -> tuple<result:value, time:number>",evaluate:(t,{engine:e})=>{if(t[1].symbol==="Nothing"){let l=globalThis.performance.now(),u=t[0].evaluate(),c=1e3*(globalThis.performance.now()-l);return e.tuple(e.number(c),u)}let r=Math.max(3,Math.round(Bn(t[1])??3)),i=[],n;for(;r>0;){let l=globalThis.performance.now();n=t[0].evaluate(),i.push(1e3*(globalThis.performance.now()-l)),r-=1}let a=Math.max(...i),s=Math.min(...i);i=i.filter(l=>l>s&&l<a);let o=i.reduce((l,u)=>l+u,0);return o===0?e.tuple(e.number(a),n):e.tuple(e.number(o/i.length),n)}}},{Wildcard:{signature:"symbol -> symbol",canonical:(t,{engine:e})=>t.length!==1?e.symbol("_"):e.symbol("_"+t[0].symbol)},WildcardSequence:{signature:"symbol -> symbol",canonical:(t,{engine:e})=>t.length!==1?e.symbol("__"):e.symbol("__"+t[0].symbol)},WildcardOptionalSequence:{signature:"symbol -> symbol",canonical:(t,{engine:e})=>t.length!==1?e.symbol("___"):e.symbol("___"+t[0].symbol)}},{LatexString:{description:"Value preserving type conversion/tag indicating the string is a LaTeX string",signature:"string -> string",evaluate:([t])=>t},Latex:{description:"Serialize an expression to LaTeX",signature:"...any -> string",evaluate:(t,{engine:e})=>e.box(["LatexString",e.string(Gt(t.map(r=>r.latex)))])},Parse:{description:"Parse a LaTeX string and evaluate to a corresponding expression",signature:"string -> any",evaluate:([t],{engine:e})=>e.parse(t.string)??e.Nothing}},{RandomExpression:{signature:"() -> expression",evaluate:(t,{engine:e})=>e.box(Pu())}}],k9e=[{Matrix:{complexity:9e3,lazy:!0,signature:"(matrix, string?, string?) -> matrix",type:([t])=>t.type,canonical:C9e,evaluate:(t,e)=>t[0].evaluate(e)},Vector:{complexity:9e3,lazy:!0,signature:"...number -> vector",type:t=>Mi(`vector<${t.length}>`),canonical:(t,{engine:e})=>e._fn("Matrix",[e.function("List",t.map(r=>e.function("List",[r])))])}},{Shape:{complexity:8200,signature:"(value) -> tuple",evaluate:(t,{engine:e})=>{let r=t[0];return Ho(r)?e.tuple(...r.tensor.shape):e.tuple()}},Rank:{description:"The length of the shape of the expression. Note this is not the matrix rank (the number of linearly independent rows or columns in the matrix)",complexity:8200,signature:"(value) -> number",sgn:()=>"positive",evaluate:(t,{engine:e})=>{let r=t[0];return Ho(r)?e.number(r.tensor.rank):e.Zero}},Reshape:{complexity:8200,signature:"(list<number>, tuple) -> value",type:([t,e])=>{if(!t.type.matches("list"))return"nothing";let r=t.type.type;return ur(r.elements,"number")?Mi(`list<number^${e.ops.map(i=>i.toString()).join("x")}>`):"nothing"},evaluate:(t,{engine:e})=>{var n;let r=t[0],i=((n=t[1].ops)==null?void 0:n.map(a=>a.value))??[];if(!Ho(r)&&os(r)&&(r=e.function("List",[...ls(r)])),Ho(r))return i.join("x")===r.tensor.shape.join("x")?r:r.tensor.reshape(...i).expression}},Flatten:{complexity:8200,signature:"(value) -> list",evaluate:(t,{engine:e})=>{let r=t[0];if(Ho(r))return e.box(["List",...r.tensor.flatten().map(i=>e.box(i))]);if(os(r))return e.function("List",[...ls(r)])}},Transpose:{complexity:8200,signature:"(matrix|vector, axis1: integer?, axis2: integer?) -> matrix",evaluate:(t,{engine:e})=>{var a,s;let r=t[0],i=1,n=2;if(t.length===3&&(i=t[1].value,n=t[2].value,i>0&&n>0),i!==n&&(!Ho(r)&&os(r)&&(r=e.function("List",[...ls(r)])),Ho(r)))return i===1&&n===2?(a=r.tensor.transpose())==null?void 0:a.expression:(s=r.tensor.transpose(i,n))==null?void 0:s.expression}},ConjugateTranspose:{complexity:8200,signature:"(tensor, axis1: integer?, axis2: integer?) -> matrix",evaluate:t=>{var n;let e=t[0],r=1,i=2;if(t.length===3&&(r=t[1].value,i=t[2].value,r>0&&i>0),r!==i&&Ho(e))return(n=e.tensor.conjugateTranspose(r,i))==null?void 0:n.expression}},Determinant:{complexity:8200,signature:"(matrix) -> number",evaluate:t=>{let e=t[0];if(Ho(e))return e.tensor.determinant()}},Inverse:{complexity:8200,signature:"(matrix) -> matrix",type:([t])=>t.type,evaluate:([t])=>{var e;if(Ho(t))return(e=t.tensor.inverse())==null?void 0:e.expression}},PseudoInverse:{complexity:8200,signature:"(matrix) -> matrix",evaluate:([t])=>{var e;if(Ho(t))return(e=t.tensor.pseudoInverse())==null?void 0:e.expression}},AdjugateMatrix:{complexity:8200,signature:"(matrix) -> matrix",evaluate:t=>{var r;let e=t[0];if(Ho(e))return(r=e.tensor.adjugateMatrix())==null?void 0:r.expression}},Trace:{complexity:8200,signature:"(matrix) -> number",evaluate:t=>{let e=t[0];if(Ho(e))return e.tensor.trace()}}}];function C9e(t,{engine:e}){var s,o;let r="Matrix";if(t.length===0)return e._fn(r,[]);let i=t[0].operator==="Vector"?t[0].canonical.ops[0]:t[0].canonical,n=(s=t[1])==null?void 0:s.canonical,a=(o=t[2])==null?void 0:o.canonical;return t.length>3?e._fn(r,_u(e,t,3)):a?e._fn(r,[i,n,a]):n?e._fn(r,[i,n]):e._fn(r,[i])}var N9e={True:{wikidata:"Q16751793",type:"boolean",constant:!0},False:{wikidata:"Q5432619",type:"boolean",constant:!0},And:{wikidata:"Q191081",threadable:!0,associative:!0,commutative:!0,idempotent:!0,complexity:1e4,signature:"(boolean, ...boolean) -> boolean",evaluate:BP},Or:{wikidata:"Q1651704",threadable:!0,associative:!0,commutative:!0,idempotent:!0,complexity:1e4,signature:"(boolean, ...boolean) -> boolean",evaluate:OP},Not:{wikidata:"Q190558",threadable:!0,involution:!0,complexity:10100,signature:"boolean -> boolean",evaluate:FP},Equivalent:{wikidata:"Q220433",threadable:!0,complexity:10200,signature:"(boolean, boolean) -> boolean",canonical:(t,{engine:e})=>{let r=t[0].symbol,i=t[1].symbol;return r==="True"&&i==="True"||r==="False"&&i==="False"?e.True:r==="True"&&i==="False"||r==="False"&&i==="True"?e.False:e._fn("Equivalent",t)},evaluate:PP},Implies:{wikidata:"Q7881229",threadable:!0,complexity:10200,signature:"(boolean, boolean) -> boolean",evaluate:RP},Exists:{signature:"function",lazy:!0},NotExists:{signature:"function",lazy:!0},ExistsUnique:{signature:"function",lazy:!0},ForAll:{signature:"function",lazy:!0},NotForAll:{signature:"function",lazy:!0},KroneckerDelta:{description:"Return 1 if the arguments are equal, 0 otherwise",signature:"(value, ...value) -> integer",evaluate:(t,{engine:e})=>{if(t.length===1)return t[0].symbol==="True"?e.One:e.Zero;if(t.length===2)return t[0].isEqual(t[1])?e.One:e.Zero;for(let r=1;r<t.length;r++)if(!t[r].isEqual(t[0]))return e.Zero;return e.One}},Boole:{description:"Return 1 if the argument is true, 0 otherwise. Also known as the Iverson bracket",signature:"boolean -> integer",evaluate:(t,{engine:e})=>t[0].symbol==="True"?e.One:e.Zero}};function BP(t,{engine:e}){if(t.length===0)return e.True;let r=[];for(let i of t){if(i.symbol==="False")return e.False;if(i.symbol!=="True"){let n=!1;for(let a of r)if(a.isSame(i))n=!0;else if(i.operator==="Not"&&i.op1.isSame(a)||a.operator==="Not"&&a.op1.isSame(i))return e.False;n||r.push(i)}}return r.length===0?e.True:r.length===1?r[0]:e._fn("And",r)}function OP(t,{engine:e}){if(t.length===0)return e.True;let r=[];for(let i of t){if(i.symbol==="True")return e.True;if(i.symbol!=="False"){let n=!1;for(let a of r)if(a.isSame(i))n=!0;else if(i.operator==="Not"&&i.op1.isSame(a)||a.operator==="Not"&&a.op1.isSame(i))return e.True;n||r.push(i)}}return r.length===0?e.False:r.length===1?r[0]:e._fn("Or",r)}function FP(t,{engine:e}){var i;let r=(i=t[0])==null?void 0:i.symbol;if(r==="True")return e.False;if(r==="False")return e.True}function PP(t,{engine:e}){let r=t[0].symbol,i=t[1].symbol;if(r==="True"&&i==="True"||r==="False"&&i==="False")return e.True;if(r==="True"&&i==="False"||r==="False"&&i==="True")return e.False}function RP(t,{engine:e}){let r=t[0].symbol,i=t[1].symbol;if(r==="True"&&i==="True"||r==="False"&&i==="False"||r==="False"&&i==="True")return e.True;if(r==="True"&&i==="False")return e.False}function S9e(t){var r,i;let e=(i=(r={And:BP,Or:OP,Not:FP,Equivalent:PP,Implies:RP})[t.operator])==null?void 0:i.call(r,t.engine,t.ops);if(e)return{value:e,because:"logic"}}function F9(t,e,r,i){let n=t.engine;return t.operator===r?n.box([i,...t.ops.map(a=>F9(a,e,r,i))]):e.operator===r?n.box([i,...e.ops.map(a=>F9(t,a,r,i))]):n.box([i,t,e])}function D9e(t,e="Add",r="Multiply"){if(t.operator!==r)return t;let i=t.ops;return!i||i.length<2?t:t.engine.box([e,i.slice(1).reduce((n,a)=>F9(n,a,e,r),i[0])])}var A9e=[{Expand:{description:"Expand out products and positive integer powers",lazy:!0,signature:"(value)-> value",evaluate:([t])=>B0(t.canonical)??t},ExpandAll:{description:"Recursively expand out products and positive integer powers",lazy:!0,signature:"(value)-> value",evaluate:([t])=>q8e(t)??t},Factor:{description:"Factors an algebraic expression into a product of irreducible factors",lazy:!0,signature:"(value)-> value",evaluate:([t])=>s2(t.canonical)},Together:{description:"Combine rational expressions into a single fraction",lazy:!0,signature:"(value)-> value",evaluate:([t])=>S5(t)},Distribute:{description:"Distribute multiplication over addition",lazy:!0,signature:"(value)-> value",evaluate:([t])=>t&&D9e(t)}}],$9e={Congruent:{description:"Indicate that two expressions are congruent modulo a number",complexity:11e3,signature:"(number, number, modulo: integer) -> boolean",evaluate:(t,{engine:e})=>{if(t.length<3)return;let[r,i,n]=t,a=r.value,s=i.value,o=n.value;if(typeof a=="number"&&typeof s=="number"&&typeof o=="number")return a%o===s%o?e.True:e.False}},IsSame:{description:"Compare two expressions for structural equality",lazy:!0,signature:"(any, any) -> boolean",evaluate:(t,{engine:e})=>{if(t.length!==2)return;let[r,i]=t;return r.isSame(i)?e.True:e.False}},Equal:{complexity:11e3,signature:"(any, any) -> boolean",lazy:!0,canonical:(t,{engine:e})=>Wn(e,"Equal",t),eq:(t,e)=>t.operator!==e.operator?!1:t.op1.sub(t.op2).N().isEqual(e.op1.sub(e.op2).N()),evaluate:(t,{engine:e})=>{if(t.length<2)return e.True;let r;for(let i of t)if(!r)r=i;else if(kF(r,i)!==!0)return e.False;return e.True}},NotEqual:{wikidata:"Q28113351",complexity:11e3,signature:"(any, any) -> boolean",canonical:(t,{engine:e})=>Wn(e,"NotEqual",t),eq:(t,e)=>t.operator!==e.operator?!1:!!(t.op1.isEqual(e.op1)&&t.op2.isEqual(e.op2)||t.op1.isEqual(e.op2)&&t.op2.isEqual(e.op1)),evaluate:(t,{engine:e})=>{if(t.length<2)return e.False;let r;for(let i of t)if(!r)r=i;else if(r.isEqual(i)===!0)return e.False;return e.True}},Less:{complexity:11e3,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>Wn(e,"Less",t),eq:(t,e)=>jP(t,e,"Greater"),evaluate:(t,{engine:e})=>{if(t.length===2){let[i,n]=t,a=i.isLess(n);return a===void 0?void 0:a?e.True:e.False}if(t.length<2)return e.True;let r;for(let i of t)if(!r)r=i;else{let n=i.isLess(r);if(n===void 0)return;if(n===!1)return e.False;r=i}return e.True}},NotLess:{complexity:11e3,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>e._fn("Not",[Wn(e,"Less",t)])},Greater:{complexity:11e3,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>Wn(e,"Less",[...t].reverse())},NotGreater:{complexity:11e3,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>e._fn("Not",[e._fn("Greater",t)])},LessEqual:{complexity:11e3,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>Wn(e,"LessEqual",t),eq:(t,e)=>jP(t,e,"LessGreater"),evaluate:(t,{engine:e})=>{if(t.length===2){let[i,n]=t,a=i.isLessEqual(n);return a===void 0?void 0:a?e.True:e.False}if(t.length<2)return e.True;let r;for(let i of t)if(!r)r=i;else{let n=i.isLessEqual(r);if(n===void 0)return;if(n===!1)return e.False;r=i}return e.True}},NotLessNotEqual:{complexity:11e3,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>e._fn("Not",[Wn(e,"LessEqual",t)])},GreaterEqual:{complexity:11e3,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>Wn(e,"LessEqual",[...t].reverse())},NotGreaterNotEqual:{complexity:11e3,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>e._fn("Not",[Wn(e,"GreaterEqual",t)])},TildeFullEqual:{description:"Indicate isomorphism, congruence and homotopic equivalence",signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>Wn(e,"TildeFullEqual",t)},NotTildeFullEqual:{complexity:11100,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>e._fn("Not",[Wn(e,"TildeFullEqual",t)])},TildeEqual:{description:"Approximately or asymptotically equal",complexity:11e3,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>Wn(e,"TildeEqual",t)},NotTildeEqual:{complexity:11100,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>e._fn("Not",[Wn(e,"TildeEqual",t)])},Approx:{complexity:11100,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>Wn(e,"Approx",t)},NotApprox:{complexity:11100,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>e._fn("Not",[Wn(e,"Approx",t)])},ApproxEqual:{complexity:11100,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>Wn(e,"ApproxEqual",t)},NotApproxEqual:{complexity:11100,canonical:(t,{engine:e})=>e._fn("Not",[Wn(e,"ApproxEqual",t)])},ApproxNotEqual:{complexity:11100,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>Wn(e,"ApproxNotEqual",t)},NotApproxNotEqual:{complexity:11100,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>e._fn("Not",[Wn(e,"ApproxNotEqual",t)])},Precedes:{complexity:11100,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>Wn(e,"Precedes",t)},NotPrecedes:{complexity:11100,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>e._fn("Not",[Wn(e,"Precedes",t)])},Succeeds:{signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>Wn(e,"Succeeds",t)},NotSucceeds:{complexity:11100,signature:"(any, any, ...any) -> boolean",canonical:(t,{engine:e})=>e._fn("Not",[Wn(e,"Succeeds",t)])}};function Wn(t,e,r){r=ws(r,e);let i=[],n=[];for(let a of r)Vc(a)?(i.push(a),n.push(a.ops[a.ops.length-1])):n.push(a);return i.length===0?t._fn(e,n):t._fn("And",[t._fn(e,n),...i])}function jP(t,e,r){return t.operator===e.operator?t.nops!==e.nops?!1:t.ops.every((i,n)=>i.isEqual(e.ops[n])):e.operator===r?t.nops!==e.nops?!1:t.ops.every((i,n)=>i.isEqual(e.ops[e.nops-1-n])):!1}var _9e={EmptySet:{type:"set",constant:!0,wikidata:"Q226183",eq:t=>t.type.matches("set")&&t.size===0,collection:{size:()=>0,contains:()=>!1,subsetOf:()=>!0,eltsgn:()=>{},elttype:()=>"never"}},Numbers:{type:"set<number>",constant:!0,collection:{size:()=>1/0,contains:(t,e)=>e.type.matches("number"),subsetOf:(t,e,r)=>e.operator==="Range"||e.operator==="Linspace"?!0:e.type.matches("set<number>")&&(!r||e.symbol!=="Numbers"),eltsgn:()=>"unsigned",elttype:()=>"number"}},ComplexNumbers:{type:"set<finite_complex>",constant:!0,collection:{size:()=>1/0,contains:(t,e)=>e.type.matches("finite_complex"),subsetOf:(t,e,r)=>e.operator==="Range"||e.operator==="Linspace"?!0:e.type.matches("set<complex>")&&(!r||e.symbol!=="ComplexNumbers"),eltsgn:()=>"unsigned",elttype:()=>"finite_complex"}},ExtendedComplexNumbers:{type:"set<complex>",constant:!0,collection:{size:()=>1/0,contains:(t,e)=>e.type.matches("complex"),subsetOf:(t,e,r)=>e.operator==="Range"||e.operator==="Linspace"?!0:e.type.matches("set<complex>")&&(!r||e.symbol!=="ComplexNumbers"),eltsgn:()=>"unsigned",elttype:()=>"complex"}},ImaginaryNumbers:{type:"set<imaginary>",constant:!0,collection:{size:()=>1/0,contains:(t,e)=>e.type.matches("imaginary"),subsetOf:(t,e,r)=>e.type.matches("set<imaginary>")&&(!r||e.symbol!=="ImaginaryNumbers"),eltsgn:()=>"unsigned",elttype:()=>"imaginary"}},RealNumbers:{type:"set<finite_real>",constant:!0,collection:{contains:(t,e)=>e.type.matches("finite_real"),size:()=>1/0,subsetOf:(t,e,r)=>e.type.matches("set<real>")&&(!r||e.symbol!=="RealNumbers"),eltsgn:()=>{},elttype:()=>"finite_real"}},ExtendedRealNumbers:{type:"set<real>",constant:!0,collection:{contains:(t,e)=>e.type.matches("real"),size:()=>1/0,subsetOf:(t,e,r)=>e.type.matches("set<real>")&&(!r||e.symbol!=="ExtendedRealNumbers"),eltsgn:()=>{},elttype:()=>"real"}},Integers:{type:"set<finite_integer>",constant:!0,collection:{contains:(t,e)=>e.type.matches("finite_integer"),size:()=>1/0,subsetOf:(t,e,r)=>e.operator==="Range"?!0:e.type.matches("set<finite_integer>")&&(!r||e.symbol!=="Integers"),eltsgn:()=>{},elttype:()=>"finite_integer"}},ExtendedIntegers:{type:"set<integer>",constant:!0,collection:{contains:(t,e)=>e.type.matches("integer"),size:()=>1/0,subsetOf:(t,e,r)=>e.operator==="Range"?!0:e.type.matches("set<integer>")&&(!r||e.symbol!=="ExtendedIntegers"),eltsgn:()=>{},elttype:()=>"integer"}},RationalNumbers:{type:"set<finite_rational>",constant:!0,collection:{size:()=>1/0,contains:(t,e)=>e.type.matches("finite_rational"),subsetOf:(t,e,r)=>e.type.matches("set<rational>")&&(!r||e.symbol!=="RationalNumbers"),eltsgn:()=>{},elttype:()=>"finite_rational"}},ExtendedRationalNumbers:{type:"set<rational>",constant:!0,collection:{contains:(t,e)=>e.type.matches("rational"),size:()=>1/0,subsetOf:(t,e,r)=>e.type.matches("set<rational>")&&(!r||e.symbol!=="ExtendedRationalNumbers"),eltsgn:()=>{},elttype:()=>"rational"}},NegativeNumbers:{type:"set<real>",constant:!0,collection:{size:()=>1/0,contains:(t,e)=>e.type.matches("real")&&e.isNegative===!0,subsetOf:(t,e,r)=>{var i,n,a;if(e.operator==="Range"||e.operator==="Linspace"){let s=e.ops[0].re,o=e.ops[1].re;return s<0&&o<0}return e.type.matches("set<real>")&&((a=(n=(i=e.symbolDefinition)==null?void 0:i.collection)==null?void 0:n.eltsgn)==null?void 0:a.call(n,e))==="negative"&&(!r||e.symbol!=="NegativeNumbers")},eltsgn:()=>"negative",elttype:()=>"real"}},NonPositiveNumbers:{type:"set<real>",constant:!0,collection:{contains:(t,e)=>e.type.matches("real")&&e.isNonPositive===!0,size:()=>1/0,subsetOf:(t,e,r)=>{var i,n,a;if(e.operator==="Range"||e.operator==="Linspace"){let s=e.ops[0].re,o=e.ops[1].re;return s>=0&&o>=0}return e.type.matches("set<real>")&&((a=(n=(i=e.symbolDefinition)==null?void 0:i.collection)==null?void 0:n.eltsgn)==null?void 0:a.call(n,e))==="non-positive"&&(!r||e.symbol!=="NonPositiveNumbers")},eltsgn:()=>"non-positive",elttype:()=>"real"}},NonNegativeNumbers:{type:"set<real>",constant:!0,collection:{contains:(t,e)=>e.type.matches("real")&&e.isNonNegative===!0,size:()=>1/0,subsetOf:(t,e,r)=>{var i,n,a;if(e.operator==="Range"||e.operator==="Linspace"){let s=e.ops[0].re,o=e.ops[1].re;return s<=0&&o<=0}return e.type.matches("set<real>")&&((a=(n=(i=e.symbolDefinition)==null?void 0:i.collection)==null?void 0:n.eltsgn)==null?void 0:a.call(n,e))==="non-negative"&&(!r||e.symbol!=="NonNegativeNumbers")},eltsgn:()=>"non-negative",elttype:()=>"real"}},PositiveNumbers:{type:"set<real>",constant:!0,collection:{contains:(t,e)=>e.type.matches("real")&&e.isPositive===!0,size:()=>1/0,subsetOf:(t,e,r)=>{var i,n,a;if(e.operator==="Range"||e.operator==="Linspace"){let s=e.ops[0].re,o=e.ops[1].re;return s>0&&o>0}return e.type.matches("set<real>")&&((a=(n=(i=e.symbolDefinition)==null?void 0:i.collection)==null?void 0:n.eltsgn)==null?void 0:a.call(n,e))==="positive"&&(!r||e.symbol!=="PositiveNumbers")},eltsgn:()=>"positive",elttype:()=>"real"}},NegativeIntegers:{type:"set<integer>",constant:!0,collection:{contains:(t,e)=>e.type.matches("integer")&&e.isNegative===!0,size:()=>1/0,subsetOf:(t,e,r)=>{var i,n,a;if(e.operator==="Range"){let s=e.ops[0].re,o=e.ops[1].re;return s<0&&o<0}return e.type.matches("set<integer>")&&((a=(n=(i=e.symbolDefinition)==null?void 0:i.collection)==null?void 0:n.eltsgn)==null?void 0:a.call(n,e))==="negative"&&(!r||e.symbol!=="NegativeIntegers")},eltsgn:()=>"negative",elttype:()=>"integer"}},NonPositiveIntegers:{type:"set<integer>",constant:!0,collection:{contains:(t,e)=>e.type.matches("integer")&&e.isNonPositive===!0,size:()=>1/0,subsetOf:(t,e,r)=>{var i,n,a;if(e.operator==="Range"){let s=e.ops[0].re,o=e.ops[1].re;return s<=0&&o<=0}return e.type.matches("set<integer>")&&((a=(n=(i=e.symbolDefinition)==null?void 0:i.collection)==null?void 0:n.eltsgn)==null?void 0:a.call(n,e))==="non-positive"&&(!r||e.symbol!=="NonPositiveIntegers")},eltsgn:()=>"non-positive",elttype:()=>"integer"}},NonNegativeIntegers:{type:"set<integer>",constant:!0,collection:{contains:(t,e)=>e.type.matches("integer")&&e.isNonNegative===!0,size:()=>1/0,subsetOf:(t,e,r)=>{var i,n,a;if(e.operator==="Range"){let s=e.ops[0].re,o=e.ops[1].re;return s>0&&o>0}return e.type.matches("set<integer>")&&((a=(n=(i=e.symbolDefinition)==null?void 0:i.collection)==null?void 0:n.eltsgn)==null?void 0:a.call(n,e))==="non-negative"&&(!r||e.symbol!=="NonNegativeIntegers")},eltsgn:()=>"non-negative",elttype:()=>"integer"}},PositiveIntegers:{type:"set<integer>",constant:!0,collection:{contains:(t,e)=>e.type.matches("integer")&&e.isPositive===!0,size:()=>1/0,subsetOf:(t,e,r)=>{var i,n,a;if(e.operator==="Range"){let s=e.ops[0].re,o=e.ops[1].re;return s>0&&o>0}return e.type.matches("set<integer>")&&((a=(n=(i=e.symbolDefinition)==null?void 0:i.collection)==null?void 0:n.eltsgn)==null?void 0:a.call(n,e))==="positive"&&(!r||e.symbol!=="PositiveIntegers")},eltsgn:()=>"positive",elttype:()=>"integer"}},Element:{complexity:11200,signature:"(value, collection|string) -> boolean",evaluate:([t,e],{engine:r})=>{let i=e.contains(t);if(i===!0)return r.True;if(i===!1)return r.False}},NotElement:{complexity:11200,signature:"(value, collection|string) -> boolean",evaluate:([t,e],{engine:r})=>{let i=e.contains(t);if(i===!0)return r.False;if(i===!1)return r.True}},Subset:{complexity:11200,signature:"(lhs:collection, rhs: collection) -> boolean",evaluate:([t,e],{engine:r})=>{let i=w1(t,e);if(i===!0)return r.True;if(i===!1)return r.False}},SubsetEqual:{complexity:11200,signature:"(lhs:collection, rhs: collection) -> boolean",evaluate:([t,e],{engine:r})=>{let i=w1(t,e,!1);if(i===!0)return r.True;if(i===!1)return r.False}},NotSubset:{complexity:11200,signature:"(lhs:collection, rhs: collection) -> boolean",evaluate:([t,e],{engine:r})=>{let i=w1(t,e);if(i===!0)return r.False;if(i===!1)return r.True}},Superset:{complexity:11200,signature:"(lhs:collection, rhs: collection) -> boolean",evaluate:([t,e],{engine:r})=>{let i=w1(e,t);if(i===!0)return r.True;if(i===!1)return r.False}},SupersetEqual:{complexity:11200,signature:"(lhs:collection, rhs: collection) -> boolean",evaluate:([t,e],{engine:r})=>{let i=w1(e,t,!0);if(i===!0)return r.True;if(i===!1)return r.False}},NotSuperset:{complexity:11200,signature:"(lhs:collection, rhs: collection) -> boolean",evaluate:([t,e],{engine:r})=>{let i=w1(e,t);if(i===!0)return r.False;if(i===!1)return r.True}},NotSupersetEqual:{complexity:11200,signature:"(lhs:collection, rhs: collection) -> boolean",evaluate:([t,e],{engine:r})=>{let i=w1(e,t,!0);if(i===!0)return r.False;if(i===!1)return r.True}},CartesianProduct:{wikidata:"Q173740",signature:"(set, ...set) -> set"},Complement:{wikidata:"Q242767",signature:"(set, ...set) -> set"},Intersection:{wikidata:"Q185837",signature:"(set, ...set) -> set",canonical:(t,{engine:e})=>t.length===0||t.length===1?e.symbol("EmptySet"):(t=Y3(e,ws(t,"Intersection"),Mi("(set, ...set) -> set"))??t,e._fn("Intersection",t)),evaluate:I9e},Union:{wikidata:"Q185359",signature:"(collection, ...collection) -> set",canonical:(t,{engine:e})=>t.length===0?e.symbol("EmptySet"):(t=Y3(e,ws(t,"Union"),Mi("(collection, ...collection) -> set"))??t,e._fn("Union",t)),evaluate:E9e,collection:{contains:(t,e)=>t.ops.some(r=>r.contains(e)),size:t=>{if(t.ops.some(i=>i.size===1/0))return 1/0;let e=[],r=0;for(let i of t.ops){for(let n of ls(i))e.every(a=>!a.contains(n))&&(r+=1);e.push(i)}return r},iterator:t=>{let e=[],r=0,i=Lf(t.ops[r]);return i?{next:()=>{let n=!1,a;do{if(a=i.next(),a.done){if(e.push(t.ops[r]),r+=1,r===t.ops.length)return{value:void 0,done:!0};if(i=Lf(t.ops[r]),!i)return{value:void 0,done:!0}}n=e.every(s=>!s.contains(a.value))}while(!n);return{value:a.value,done:!1}}}:{next:()=>({value:void 0,done:!0})}}}},SetMinus:{wikidata:"Q18192442",signature:"(set, ...value) -> set",evaluate:T9e,collection:{contains:(t,e)=>{let[r,...i]=t.ops;return(r.contains(e)??!1)&&!i.some(n=>n.isSame(e))},iterator:t=>{let[e,...r]=t.ops,i=Lf(e);return i?{next(){let n=i.next();for(;!n.done&&r.some(a=>a.isSame(n.value));)n=i.next();return n}}:{next:()=>({value:void 0,done:!0})}}}},SymmetricDifference:{wikidata:"Q1147242",signature:"(set, set) -> set"}};function w1(t,e,r=!0){var i,n,a;return!t.isCollection||!e.isCollection?!1:!!((a=(n=(i=t.symbolDefinition)==null?void 0:i.collection)==null?void 0:n.subsetOf)!=null&&a.call(n,t,e,r))}function E9e(t,{engine:e}){let r=t.map(n=>n.isCollection?n:e.function("Set",[n]));if(r.reduce((n,a)=>n+(a.size??0),0)>yxe)return e._fn("Union",r);let i=[];for(let n of r)for(let a of ls(n))i.every(s=>!s.isSame(a))&&i.push(a);return i.length===0?e.symbol("EmptySet"):e._fn("Set",i)}function I9e(t,{engine:e}){let r=[...t[0].ops??[]];for(let i of t.slice(1))os(i)?r=r.filter(n=>[...ls(i)].some(a=>n.isSame(a))):r=r.filter(n=>n.isSame(i));return r.length===0?e.symbol("EmptySet"):e._fn("Set",r)}function T9e(t,{engine:e}){return e.symbol("EmptySet")}var L9e=[{Choose:{complexity:1200,signature:"(n:number, m:number) -> number",evaluate:(t,{engine:e})=>{let r=t[0].re,i=t[1].re;if(!(!Number.isFinite(r)||!Number.isFinite(i)))return r<0||i<0||i>r?e.NaN:e.number(gF(r,i))}}},{Mean:{complexity:1200,threadable:!1,signature:"((collection|number)...) -> number",evaluate:(t,{engine:e})=>e.number(ss(e)?S7e(e.bignum.bind(e),s0(t)):XF(a0(t)))},Median:{complexity:1200,threadable:!1,signature:"((collection|number)...) -> number",evaluate:(t,{engine:e})=>e.number(ss(e)?xd(s0(t)):y1(a0(t)))},Variance:{complexity:1200,threadable:!1,signature:"((collection|number)...) -> number",evaluate:(t,{engine:e})=>e.number(ss(e)?QF(e.bignum.bind(e),s0(t)):y5(a0(t)))},PopulationVariance:{complexity:1200,threadable:!1,signature:"((collection|number)...) -> number",evaluate:(t,{engine:e})=>e.number(ss(e)?JF(e.bignum.bind(e),s0(t)):b5(a0(t)))},StandardDeviation:{complexity:1200,threadable:!1,description:"Sample Standard Deviation of a collection of numbers.",signature:"((collection|number)...) -> number",evaluate:(t,{engine:e})=>e.number(ss(e)?QF(e.bignum.bind(e),s0(t)).sqrt():Math.sqrt(y5(a0(t))))},PopulationStandardDeviation:{complexity:1200,threadable:!1,description:"Population Standard Deviation of a collection of numbers.",signature:"((collection|number)...) -> number",evaluate:(t,{engine:e})=>e.number(ss(e)?JF(e.bignum.bind(e),s0(t)).sqrt():Math.sqrt(b5(a0(t))))},Kurtosis:{complexity:1200,threadable:!1,signature:"((collection|number)...) -> number",evaluate:(t,{engine:e})=>e.number(ss(e)?$7e(e.bignum.bind(e),s0(t)):eP(a0(t)))},Skewness:{complexity:1200,threadable:!1,signature:"((collection|number)...) -> number",evaluate:(t,{engine:e})=>e.number(ss(e)?_7e(e.bignum.bind(e),s0(t)):tP(a0(t)))},Mode:{complexity:1200,threadable:!1,signature:"((collection|number)...) -> number",evaluate:(t,{engine:e})=>e.number(ss(e)?E7e(e.bignum.bind(e),s0(t)):rP(a0(t)))},Quartiles:{complexity:1200,threadable:!1,signature:"((collection|number)...) -> tuple<mid:number, lower:number, upper:number>",evaluate:(t,{engine:e})=>{let[r,i,n]=(ss(e)?I7e(s0(t)):iP(a0(t))).map(a=>e.number(a));return e.tuple(r,i,n)}},InterquartileRange:{complexity:1200,threadable:!1,signature:"((collection|number)...) -> number",evaluate:(t,{engine:e})=>e.number(ss(e)?T7e(s0(t)):nP(a0(t)))},Erf:{complexity:7500,signature:"number -> number",evaluate:(t,{engine:e})=>{let r=t[0].re;if(Number.isFinite(r))return e.number(WO(r))}},Erfc:{complexity:7500,signature:"number -> number",evaluate:(t,{engine:e})=>{let r=t[0].re;if(Number.isFinite(r))return e.number(1-WO(r))}},ErfInv:{complexity:7500,signature:"number -> number",evaluate:(t,{engine:e})=>{let r=t[0].re;if(Number.isFinite(r))return e.number(Fxe(r))}}}];function*qP(t){if(t.length===1&&Tf(t[0]))yield*ls(t[0]);else for(let e of t)Tf(e)?yield*ls(e):yield e}function*a0(t){for(let e of qP(t))yield e.re}function*s0(t){for(let e of qP(t))yield e.bignumRe??e.engine.bignum(e.re)}var z9e={Sin:[[1,"Sin"],[1,"Cos"],[-1,"Sin"],[-1,"Cos"]],Cos:[[1,"Cos"],[-1,"Sin"],[-1,"Cos"],[1,"Sin"]],Sec:[[1,"Sec"],[-1,"Csc"],[-1,"Sec"],[1,"Csc"]],Csc:[[1,"Csc"],[1,"Sec"],[-1,"Csc"],[-1,"Sec"]],Tan:[[1,"Tan"],[-1,"Cot"],[1,"Tan"],[-1,"Cot"]],Cot:[[1,"Cot"],[-1,"Tan"],[1,"Cot"],[-1,"Tan"]]},Xc=["Sqrt",2],kd=["Sqrt",3],Cd=["Sqrt",5],D5=["Sqrt",6],B9e=[[[0,1],{Sin:0,Cos:1,Tan:0,Cot:"ComplexInfinity",Sec:1,Csc:"ComplexInfinity"}],[[1,12],{Sin:["Divide",["Subtract",D5,Xc],4],Cos:["Divide",["Add",D5,Xc],4],Tan:["Subtract",2,kd],Cot:["Add",2,kd],Sec:["Subtract",D5,Xc],Csc:["Add",D5,Xc]}],[[1,10],{Sin:["Divide",["Subtract",Cd,1],4],Cos:["Divide",["Sqrt",["Add",10,["Multiply",2,Cd]]],4],Tan:["Divide",["Sqrt",["Subtract",25,["Multiply",10,Cd]]],5],Cot:["Sqrt",["Add",5,["Multiply",2,Cd]]],Sec:["Divide",["Sqrt",["Subtract",50,["Multiply",10,Cd]]],5],Csc:["Add",1,Cd]}],[[1,8],{Sin:"$\\frac{\\sqrt{2-\\sqrt2}}{2}$",Cos:"$\\frac{\\sqrt {2+{\\sqrt {2}}}}{2}$",Tan:"$\\sqrt{2} - 1$",Cot:"$\\sqrt{2} + 1$",Sec:"$\\sqrt{ 4 - 2\\sqrt{2}}$",Csc:"$\\sqrt{ 4 + 2\\sqrt{2}}$"}],[[1,6],{Sin:"$\\frac{1}{2}$",Cos:"$\\frac{\\sqrt{3}}{2}$",Tan:"$\\frac{\\sqrt{3}}{3}$",Cot:"$\\sqrt{3}$",Sec:"$\\frac{2\\sqrt{3}}{3}$",Csc:2}],[[1,5],{Sin:"$\\frac{\\sqrt{10- 2\\sqrt{5}}} {4}$",Cos:"$\\frac{1+ \\sqrt{5}} {4}$",Tan:"$\\sqrt{5-2\\sqrt5}$",Cot:"$\\frac{\\sqrt{25+10\\sqrt5}} {5}$",Sec:"$\\sqrt{5} - 1$",Csc:"$\\frac{\\sqrt{50+10\\sqrt{5}}} {5}$"}],[[1,4],{Sin:["Divide",Xc,2],Cos:["Divide",Xc,2],Tan:1,Cot:1,Sec:Xc,Csc:Xc}],[[3,10],{Sin:"$\\frac{1+ \\sqrt5} {4}$",Cos:"$\\frac{\\sqrt{10- 2\\sqrt5}} {4}$",Tan:"$\\frac{\\sqrt{25+10\\sqrt5}} {5}$",Cot:"$\\sqrt{5-2\\sqrt5}$",Sec:"$\\frac{\\sqrt{50+10\\sqrt5}} {5}$",Csc:"$\\sqrt5-1$"}],[[1,3],{Sin:["Divide",kd,2],Cos:"Half",Tan:kd,Cot:["Divide",kd,3],Sec:2,Csc:["Divide",["Multiply",2,kd],3]}],[[3,8],{Sin:"$\\frac{ \\sqrt{2 + \\sqrt{2}} } {2}$",Cos:"$\\frac{ \\sqrt{2 - \\sqrt{2}} } {2}$",Tan:"$\\sqrt{2} + 1$",Cot:"$\\sqrt{2} - 1$",Sec:"$\\sqrt{ 4 + 2 \\sqrt{2} }$",Csc:"$\\sqrt{ 4 - 2 \\sqrt{2} }$"}],[[2,5],{Sin:"$\\frac{\\sqrt{10+ 2\\sqrt{5}}} {4}$",Cos:"$\\frac{\\sqrt{5}-1} {4}$",Tan:"$\\sqrt{5+2\\sqrt{5}}$",Cot:"$\\frac{\\sqrt{25-10\\sqrt{5}}} {5}$",Sec:"$1 + \\sqrt{5}$",Csc:"$\\frac{\\sqrt{50-10\\sqrt{5}}} {5}$"}],[[5,12],{Sin:"$\\frac{\\sqrt{6} + \\sqrt{2}} {4}$",Cos:"$\\frac{ \\sqrt{6} - \\sqrt{2}} {4}$",Tan:"$2+\\sqrt{3}$",Cot:"$2-\\sqrt{3}$",Sec:"$\\sqrt{6}+\\sqrt{2}$",Csc:"$\\sqrt{6} - \\sqrt{2}$"}],[[1,2],{Sin:1,Cos:0,Tan:"ComplexInfinity",Cot:0,Sec:"ComplexInfinity",Csc:1}]];function Nl(t,e,r,i){var a;let n=(a=CO(t))==null?void 0:a.N();if(n!==void 0)return Hn(n,e,r,i)}function Sl(t){if(!t)return t;let e=t.engine,r=e.angularUnit;if(r==="rad")return t;let i=t.N().re;return Number.isNaN(i)?t:r==="deg"?e.number(i*(180/Math.PI)):r==="grad"?e.number(i*(200/Math.PI)):r==="turn"?e.number(i/(2*Math.PI)):t}function A5(t,e){if(!e)return;let r=e.engine;switch(t){case"Arccos":return Sl(Hn(e,Math.acos,i=>i.acos(),i=>i.acos()));case"Arccot":return Sl(Hn(e,i=>Math.atan2(1,i),i=>Ui.atan2(r._BIGNUM_ONE,i),i=>i.inverse().atan()));case"Arccsc":return Sl(Hn(e,i=>Math.asin(1/i),i=>r._BIGNUM_ONE.div(i).asin(),i=>i.inverse().asin()));case"Arccosh":return Sl(Hn(e,Math.acosh,i=>i.acosh(),i=>i.acosh()));case"Arccoth":return Sl(Hn(e,i=>Math.log((1+i)/(i-1))/2,i=>r._BIGNUM_ONE.add(i).div(i.sub(r._BIGNUM_ONE)).log().div(2),i=>r.complex(1).add(i).div(i.sub(1)).log().div(2)));case"Arccsch":return Sl(Hn(e,i=>Math.log(1/i+Math.sqrt(1/(i*i)+1)),i=>r._BIGNUM_ONE.div(i.mul(i)).add(r._BIGNUM_ONE).sqrt().add(r._BIGNUM_ONE.div(i)).log(),i=>i.mul(i).inverse().add(1).sqrt().add(i.inverse()).log()));case"Arcsec":return Sl(Hn(e,i=>Math.acos(1/i),i=>r._BIGNUM_ONE.div(i).acos(),i=>i.inverse().acos()));case"Arcsin":return Sl(Hn(e,Math.asin,i=>i.asin(),i=>i.asin()));case"Arcsech":return Sl(Hn(e,i=>Math.log((1+Math.sqrt(1-i*i))/i),i=>r._BIGNUM_ONE.sub(i.mul(i).add(r._BIGNUM_ONE).div(i)).log(),i=>r.complex(1).sub(i.mul(i)).add(1).div(i).log()));case"Arcsinh":return Sl(Hn(e,Math.asinh,i=>i.asinh(),i=>i.asinh()));case"Arctan":return Sl(Hn(e,Math.atan,i=>i.atan(),i=>i.atan()));case"Arctanh":return Sl(Hn(e,Math.atanh,i=>i.atanh(),i=>i.atanh()));case"Cos":return Nl(e,Math.cos,i=>r.chop(i.cos()),i=>i.cos());case"Cosh":return Nl(e,Math.cosh,i=>i.cosh(),i=>i.cosh());case"Cot":return Nl(e,i=>1/Math.tan(i),i=>r._BIGNUM_ONE.div(i.tan()),i=>i.tan().inverse());case"Coth":return Nl(e,i=>1/Math.tanh(i),i=>r._BIGNUM_ONE.div(i.tanh()),i=>i.tanh().inverse());case"Csc":return Nl(e,i=>1/Math.sin(i),i=>r._BIGNUM_ONE.div(i.sin()),i=>i.sin().inverse());case"Csch":return Nl(e,i=>1/Math.sinh(i),i=>r._BIGNUM_ONE.div(i.sinh()),i=>i.sinh().inverse());case"Sec":return Nl(e,i=>1/Math.cos(i),i=>r._BIGNUM_ONE.div(i.cos()),i=>i.cos().inverse());case"Sech":return Nl(e,i=>1/Math.cosh(i),i=>r._BIGNUM_ONE.div(i.cosh()),i=>i.cosh().inverse());case"Sin":return Nl(e,Math.sin,i=>r.chop(i.sin()),i=>i.sin());case"Sinh":return Nl(e,Math.sinh,i=>i.sinh(),i=>i.sinh());case"Tan":return Nl(e,i=>{let n=Math.tan(i);return n>1e6||n<-1e6?r.ComplexInfinity:n},i=>{let n=i.tan();return n.greaterThan(1e6)||n.lessThan(-1e6)?r.ComplexInfinity:n},i=>i.tan());case"Tanh":return Nl(e,Math.tanh,i=>i.tanh(),i=>i.tanh())}}function O9e(t){return!!(t.startsWith("Ar")&&P9(t))}function P9(t){return{Sin:"Arcsin",Cos:"Arccos",Tan:"Arctan",Sec:"Arcsec",Csc:" Arccsc",Sinh:"Arcsinh",Cosh:"Arccosh",Tanh:"Arctanh",Sech:"Arcsech",Csch:"Arccsch",Arccosh:"Cosh",Arccos:"Cos",Arccsc:"Csc",Arccsch:"Csch",Arcsec:"Sec",Arcsin:"Sin",Arcsinh:"Sinh",Arctan:"Tan",Arctanh:"Tanh"}[t]}function R9(t,e){if(e.length!==1||!e[0].isValid)return;let r=e[0],i=r.symbol;if(typeof i!="string")return;if(i==="InverseFunction")return r.op1;let n=P9(i);return n?t.symbol(n):void 0}function UP(t){return t!=="Cos"&&t!=="Sec"?-1:1}function F9e(t,e,r,i){if(!r)return;let n=r.N().re;if(Number.isNaN(n))return;let a=P9(e),s=t.cache("constructible-inverse-trigonometric-values-"+e,()=>{let l=[];for(let[[u,c],h]of i){let p=h[a];if(p===void 0)continue;let d=p.N().re;Number.isNaN(d)||l.push([[p,d],[u,c]])}return l},l=>{for(let[[u,c],[h,p]]of l)u.reset();return l}),o=0;n<0&&(o=UP(a)==-1?-1:1,n=-n,r=r.neg());for(let[[l,u],[c,h]]of s)if(t.chop(n-u)===0){let p=t.Pi.mul(c).div(h);return o==-1?p=p.neg():o==1&&(p=t.Pi.sub(p)),p.evaluate()}}function VP(t,e){var n;let[r,i]=P9e(e);if(r!==void 0)return i!==void 0&&((t==="Sin"||t==="Tan")&&(i===0||i===2)||(t==="Cos"||t==="Cot")&&(i===1||i===3))?"zero":(n={Sin:["positive","positive","negative","negative"],Cos:["positive","negative","negative","positive"],Sec:["positive","negative","negative","positive"],Csc:["positive","positive","negative","negative"],Tan:["positive","negative","positive","negative"],Cot:["positive","negative","positive","negative"]}[t])==null?void 0:n[r]}function GP(t){return["Sin","Cos","Tan","Csc","Sec","Cot"].includes(typeof t=="string"?t:t.operator)}function j9(t,e){var u;if(!e||!GP(t))return;let r=e.engine;if(e=e.N(),e.im!==0)return;let i=e.re;if(Number.isNaN(i))return;let n=r.cache("constructible-trigonometric-values",()=>B9e.map(([c,h])=>[c,Object.fromEntries(Object.entries(h).map(([p,d])=>[p,(r.parse(_f(d))??r.box(d)).simplify()]))]),c=>{for(let[h,p]of c)for(let d of Object.values(p))d.reset();return c});if(O9e(t))return F9e(r,t,e,n);let a=r.angularUnit;a!=="rad"&&(a==="deg"&&(i*=Math.PI/180),a==="grad"&&(i*=Math.PI/200),a==="turn"&&(i*=2*Math.PI));let s=UP(t)==-1?Math.sign(i):1;i=Math.abs(i%(2*Math.PI));let o=Math.floor(i*2/Math.PI);i=i%(Math.PI/2);let l;[l,t]=((u=z9e[t])==null?void 0:u[o])??[1,t];for(let[[c,h],p]of n){let d=p[t];if(d&&Math.abs(i-Math.PI*c/h)<=1e-12)return d.symbol==="ComplexInfinity"?d:s*l<0?d.neg():d}}function P9e(t){if(!t.isValid||!t.isNumberLiteral)return[void 0,void 0];if(t.im!==0)return[void 0,void 0];let e=t.re;if(isNaN(e))return[void 0,void 0];let r=(e%(2*Math.PI)+2*Math.PI)%(2*Math.PI);return Math.abs(r)<1e-12?[1,0]:Math.abs(r-Math.PI/2)<1e-12?[2,1]:Math.abs(r-Math.PI)<1e-12?[3,2]:Math.abs(r-3*Math.PI/2)<1e-12?[4,3]:[Math.floor(r/(Math.PI/2))+1,void 0]}var R9e=[{Pi:{type:"finite_real",constant:!0,holdUntil:"N",wikidata:"Q167",value:t=>t.number(ss(t)?t._BIGNUM_PI:Math.PI)}},{Degrees:{signature:"real -> real",canonical:(t,{engine:e})=>{let r=e;if(r.angularUnit==="deg")return t[0];if(t.length!==1)return r._fn("Degrees",t);let i=t[0];if(i.numericValue===null||!i.isValid)return r._fn("Degrees",t);let n=i.re;if(Number.isNaN(n))return i.mul(r.Pi).div(180);if(n=n%360,n<0&&(n+=360),Number.isInteger(n)){let a=F7([n,180]);return a[0]===0?r.Zero:a[0]===1&&a[1]===1?r.Pi:a[0]===1?r.Pi.div(a[1]):r.number(a).mul(r.Pi)}return r.number(n).div(180).mul(r.Pi)},evaluate:(t,e)=>e.engine.angularUnit==="deg"?t[0]:t[0].mul(e.engine.Pi.div(180)).evaluate(e)},Hypot:{threadable:!0,signature:"(real, real) -> real",sgn:()=>"non-negative",evaluate:([t,e],{engine:r})=>r.box(["Sqrt",["Add",["Square",t],["Square",e]]])},Sin:Yn("Sin",5e3)},{Arctan:{wikidata:"Q2257242",complexity:5200,threadable:!0,signature:"number -> finite_real",sgn:([t])=>VP("Arctan",t),evaluate:([t],{numericApproximation:e})=>e?A5("Arctan",t):j9("Arctan",t)??A5("Arctan",t)},Arctan2:{wikidata:"Q776598",complexity:5200,threadable:!0,signature:"(y:number, x: number) -> real",evaluate:([t,e],{engine:r,numericApproximation:i})=>i?g1(t,e,Math.atan2,(n,a)=>Ui.atan2(n,a)):t.isFinite===!1&&e.isFinite===!1?r.NaN:t.is(0)&&e.is(0)?r.Zero:e.isFinite===!1?e.isPositive?r.Zero:r.Pi:t.isFinite===!1?t.isPositive?r.Pi.div(2):r.Pi.div(-2):t.is(0)?e.isPositive?r.Zero:r.Pi:r.function("Arctan",[t.div(e)]).evaluate()},Cos:Yn("Cos",5050),Tan:Yn("Tan",5100)},{Arccosh:Yn("Arccosh",6200),Arcsin:Yn("Arcsin",5500),Arcsinh:Yn("Arcsinh",6100),Arctanh:Yn("Arctanh",6300),Cosh:Yn("Cosh",6050),Cot:Yn("Cot",5600),Csc:Yn("Csc",5600,"Cosecant"),Sec:Yn("Sec",5600,"Secant, inverse of cosine"),Sinh:Yn("Sinh",6e3),Haversine:{wikidata:"Q2528380",threadable:!0,signature:"real -> number",evaluate:([t],{engine:e})=>e.box(["Divide",["Subtract",1,["Cos",t]],2])},InverseHaversine:{threadable:!0,signature:"real -> real",evaluate:([t],{engine:e})=>e.box(["Multiply",2,["Arcsin",["Sqrt",t]]])}},{Csch:Yn("Csch",6200,"Hyperbolic cosecant"),Sech:Yn("Sech",6200,"Hyperbolic secant"),Tanh:Yn("Tanh",6200,"Hyperbolic tangent")},{Arccos:Yn("Arccos",5550),Arccot:Yn("Arccot",5650),Arccoth:Yn("Arccoth",6350),Arccsch:Yn("Arccsch",6250),Arcsec:Yn("Arcsec",5650),Arcsech:Yn("Arcsech",6250),Arccsc:Yn("Arccsc",5650),Coth:Yn("Coth",6300),InverseFunction:{lazy:!0,signature:"function -> function",canonical:(t,{engine:e})=>(t=_u(e,t,1),R9(e,t)??e._fn("InverseFunction",t)),evaluate:(t,{engine:e})=>R9(e,t)}}];function Yn(t,e,r){return{complexity:e,description:r,threadable:!0,signature:"number -> number",sgn:([i])=>VP(t,i),evaluate:([i],{numericApproximation:n})=>n?A5(t,i):j9(t,i)??A5(t,i)}}var Ns=class{constructor(e,r,i){if(this.constant=!1,this.holdUntil="evaluate",!e.context)throw Error("No context available");this.name=r,this._engine=e,this.scope=e.context,this.update(i)}get isFunction(){return this.type.matches("function")}get isConstant(){return this.constant}update(e){if(e.wikidata&&(this.wikidata=e.wikidata),e.description&&(this.description=e.description),e.url&&(this.url=e.url),e.flags&&(this._flags=kO(e.flags)),e.holdUntil&&(this.holdUntil=e.holdUntil),this.constant&&e.constant===!1)throw new Error(`The constant "${this.name}" cannot be changed to a variable`);if(e.constant&&(this.constant=e.constant,this._defValue=e.value),this._value=ZP(this._engine,e.value),e.type){let r=Mi(e==null?void 0:e.type);if(!Df(r))throw new Error(`Invalid type: "${e.type}"`);this._type=new Ji(r),this.inferredType=e.inferred??!1}if(this._value){if(!this._type||this._type.isUnknown)this._type=this._value.type,this.inferredType=!0;else if(!this._value.type.matches(this._type))throw new Error([`Symbol "${this.name}"`,`The value "${this._value.toString()}" of type "${this._value.type}" is not compatible with the type "${this._type}"`].join(`
|   `))}e.eq&&(this.eq=e.eq),e.neq&&(this.neq=e.neq),e.cmp&&(this.cmp=e.cmp),e.collection&&(this.collection=wxe(e.collection))}reset(){this.constant&&(this._value=null)}get value(){return this._value===null&&(this._value=ZP(this._engine,this._defValue)),this._value}set value(e){if(this.constant)throw new Error(`The value of the constant "${this.name}" cannot be changed`);if(this._defValue,e!==void 0){let r=this._engine.box(e);this.inferredType?(this._value=r,this._type=this._type?new Ji(E0(this._type.type,r.type.type)):r.type):!this._type||this.type.isUnknown||!r.type||r.type.matches(this._type)?this._value=r:this._value=void 0}else this._value=void 0}get type(){var e;return this._type??((e=this._value)==null?void 0:e.type)??Ji.unknown}set type(e){var r,i;if(this.constant)throw new Error(`The type of the constant "${this.name}" cannot be changed`);if(!this.inferredType&&!this.type.isUnknown)throw Error(`The type of "${this.name}" cannot be changed because it has already been declared`);if(e instanceof Ji&&(e=e.type),e==="unknown"){this._defValue=void 0,this._value=void 0,this._flags=void 0,this._type=Ji.unknown;return}if((r=this._type)!=null&&r.isUnknown){this._type=new Ji(e);return}if((i=this._value)!=null&&i.type&&!this._value.type.matches(e))throw Error(`The type of "${this.name}" cannot be changed to "${e}" because its value has a type of "${this._value.type}"`);this._type=new Ji(e)}get sgn(){var e,r;return((e=this.value)==null?void 0:e.sgn)??((r=this._flags)==null?void 0:r.sgn)}set sgn(e){this.updateFlags({sgn:e})}get even(){var e,r;return((e=this.value)==null?void 0:e.isEven)??((r=this._flags)==null?void 0:r.even)}set even(e){this.updateFlags({even:e})}get odd(){var e,r;return((e=this.value)==null?void 0:e.isOdd)??((r=this._flags)==null?void 0:r.odd)}set odd(e){this.updateFlags({odd:e})}updateFlags(e){if(this.constant)throw Error(`The flags of "${this.name}" cannot be changed because it is a constant`);this._flags=kO({...this._flags??{},...e})}};function ZP(t,e){if(e!==void 0)return $7(e)?t.parse(e)??t.symbol("Undefined"):typeof e=="function"?t.box(e(t)??"Undefined"):e instanceof qs?e:t.box(e)}var j9e=new Set(["description","wikidata","url","lazy","threadable","associative","commutative","commutativeOrder","idempotent","involution","pure","signature","type","sgn","even","complexity","canonical","evaluate","evaluateAsync","evalDimension","compile","eq","neq","cmp","collection"]),F0=class{constructor(e,r,i){if(this.threadable=!1,this.associative=!1,this.commutative=!1,this.idempotent=!1,this.involution=!1,this.pure=!0,this.complexity=md,this.lazy=!1,this.inferredSignature=!0,!e.context)throw Error("No context available");this.name=r,this.engine=e,this.scope=e.context,i.signature?(this.inferredSignature=!1,this.signature=new Ji(i.signature)):this.signature=new Ji("...any -> any"),this.update(i)}infer(e){let r=new Ji(e);if(!r.matches(this.signature))throw new Error(`Function Definition "${this.name}": inferred signature "${r}" does not match current signature "${this.signature}"`);this.inferredSignature&&(this.signature=r)}update(e){if(this.engine.strict){for(let a in e)if(!j9e.has(a))throw new Error(`Function Definition "${this.name}": unexpected key "${a}"`)}this.lazy=e.lazy??this.lazy;let r=e.idempotent??this.idempotent,i=e.involution??this.involution;if(r&&i)throw new Error(`Function Definition "${this.name}": the 'idempotent' and 'involution' flags are mutually exclusive`);if(this.idempotent=r,this.involution=i,this.description=e.description??this.description,this.wikidata=e.wikidata??this.wikidata,this.threadable=e.threadable??this.threadable,this.associative=e.associative??this.associative,this.commutative=e.commutative??this.commutative,this.commutativeOrder=e.commutativeOrder??this.commutativeOrder,this.commutativeOrder&&!this.commutative)throw new Error(`Function Definition "${this.name}": the 'commutativeOrder' handler requires the 'commutative' flag`);if(e.canonical&&(e.associative||e.commutative||e.idempotent||e.involution))throw new Error(`Function Definition "${this.name}": the 'canonical' handler is incompatible with the 'associative', 'commutative', 'idempotent', and 'involution' flags`);if(this.pure=e.pure??this.pure,this.complexity=e.complexity??this.complexity,e.signature){let a=e.signature,s=new Ji(Mi(e.signature));if(a&&!s.matches(a))throw new Error(`Function Definition "${this.name}": signature "${s}" does not match "${a}"`);this.inferredSignature=!1,this.signature=s}let n;if(e.evaluate&&typeof e.evaluate!="function"){let a=this.engine.box(e.evaluate,{canonical:!1});if(!a.isValid)throw Error(`Invalid function ${a.toString()}`);let s=Yc(a);n=o=>s(o),Object.defineProperty(n,"toString",{value:()=>a.toString()})}else n=e.evaluate??this.evaluate;this.type=e.type??this.type,this.evaluate=n,this.evaluateAsync=e.evaluateAsync??this.evaluateAsync,this.canonical=e.canonical??this.canonical,this.evalDimension=e.evalDimension??this.evalDimension,this.sgn=e.sgn??this.sgn,this.even=e.even??this.even,this.compile=e.compile??this.compile,this.eq=e.eq??this.eq,this.neq=e.neq??this.neq,this.collection=e.collection??this.collection}reset(){}};function HP(t,e,r){return r instanceof F0?r:new F0(t,e,r)}function WP(t){if(t==="all")return WP(["core","control-structures","logic","collections","relop","numeric","arithmetic","trigonometry","algebra","calculus","polynomials","combinatorics","linear-algebra","statistics","dimensions","units","physics","other"]);typeof t=="string"&&(t=[t]);let e=[];for(let r of t){let i=q9e[r];if(!i)throw Error(`Unknown library category ${r}`);Array.isArray(i)?e.push(...i):e.push(i)}return Object.freeze(e)}var q9e={algebra:[],arithmetic:[...o7e,...x9e],calculus:f9e,collections:[_9e,K8e],combinatorics:[],"control-structures":g9e,core:M9e,dimensions:[],domains:[],"linear-algebra":k9e,logic:N9e,numeric:[],other:[],relop:$9e,polynomials:A9e,physics:{Mu0:{description:"Vaccum permeability",constant:!0,wikidata:"Q1515261",type:"real",value:125663706212e-17}},statistics:L9e,trigonometry:R9e,units:[]};function U9e(t){if(t=t.normalize(),Zo(t))return t;throw new Error(`Invalid definition name "${t}": ${v1(t)}`)}function YP(t,e){var r;if(!t.context)throw Error("No context available");(r=t.context).ids??(r.ids=new Map);let i=t.context.ids;t.strict;for(let[n,a]of Object.entries(e))try{if(n=U9e(n),L7(a))try{let s=HP(t,n,a);if(i.has(n))throw new Error(`Duplicate function definition:
${JSON.stringify(i.get(n))}
${JSON.stringify(a)}`);i.set(n,s)}catch(s){console.error([`
Error in function definition`,"",JSON.stringify(a),"",s.message].join(`
|   `)+`
`)}else if(T7(a))try{let s=new Ns(t,n,a);if(t.strict&&a.wikidata){for(let[o,l]of i)if(l.wikidata===a.wikidata)throw new Error(`Duplicate entries with wikidata "${a.wikidata}": "${n}" and "${l.name}"`)}if(i.has(n))throw new Error("The symbol is already defined");i.set(n,s)}catch(s){console.error([`
Error in symbol definition of "${n}"`,"",JSON.stringify(a),"",s.message].join(`
|   `))}else{let s=new Ns(t,n,{value:t.box(a)});i.set(n,s)}}catch(s){console.error([`
Error in definition of "${n}"`,"",JSON.stringify(a),"",s.message].join(`
|   `)+`
`)}}function $5(t){return typeof t=="number"?t===0?1:Number.isInteger(t)?Math.floor(Math.log2(Math.abs(t))/Math.log2(10))+(t>0?1:2):2:t.isZero?1:t.im!==0?$5(t.re)+$5(t.im)+1:$5(t.re)}function q9(t){var i;if(t.symbol)return 1;if(t.isNumberLiteral)return $5(t.numericValue);let e=t.operator,r=2;if(["Add"].includes(e))r=3;else if(["Subtract","Negate"].includes(e))r=4;else if(["Square","Sqrt"].includes(e))r=5;else{if(["Power","Root"].includes(e))return q9(t.ops[1]);["Multiply"].includes(e)?r=7:["Divide"].includes(e)?r=8:["Ln","Exp","Log","Lb"].includes(e)?r=9:["Cos","Sin","Tan"].includes(e)?r=10:r=11}return r+(((i=t.ops)==null?void 0:i.reduce((n,a)=>n+q9(a),0))??0)}var KP=q9,U9=class ZZ{constructor(e){e?e instanceof ZZ?this._items=new Map(e._items):this._items=new Map(e):this._items=new Map}has(e){for(let r of this._items.keys())if(r.isSame(e))return!0;return!1}get(e){for(let[r,i]of this._items)if(r.isSame(e))return i}clear(){this._items.clear()}set(e,r){for(let i of this._items.keys())if(i.isSame(e)){this._items.set(i,r);return}this._items.set(e,r)}delete(e){this._items.delete(e)}[Symbol.iterator](){return this._items.entries()}entries(){return this._items.entries()}},Dl=class extends qs{constructor(e,r,i){super(e,i==null?void 0:i.metadata),r instanceof us||typeof r=="number"?this._value=r:this._value=e._numericValue(r)}get hash(){return this._hash??(this._hash=Ef(this._value.toString())),console.info("hash BoxedNumber ",this._hash),this._hash}get json(){let e=this._value;return typeof e=="number"?Number.isNaN(e)?"NaN":Number.isFinite(e)?e:e>0?"PositiveInfinity":"NegativeInfinity":e.toJSON()}get operator(){return"Number"}get isPure(){return!0}get isCanonical(){return!0}set isCanonical(e){}get complexity(){return 1}get numericValue(){return this._value}get isNumberLiteral(){return!0}get re(){return typeof this._value=="number"?this._value:this._value.re}get im(){return typeof this._value=="number"?0:this._value.im}get bignumRe(){if(typeof this._value!="number")return this._value.bignumRe}get bignumIm(){}neg(){let e=this._value;return e===0?this:typeof e=="number"?this.engine.number(-e):this.engine.number(e.neg())}inv(){return this.value===1||this.value===-1?this:typeof this._value=="number"?Number.isInteger(this._value)?this.engine.number(this.engine._numericValue({rational:[1,this._value]})):this.engine.number(1/this._value):this.engine.number(this._value.inv())}abs(){return this.isPositive?this:typeof this._value=="number"?this.engine.number(-this._value):this.engine.number(this._value.abs())}add(e){let r=this.engine;return this.is(0)?r.box(e):typeof e=="number"?e===0?this:typeof this._value=="number"?r.number(this._value+e):r.number(this._value.add(e)):e.numericValue!==null?typeof this._value=="number"?typeof e.numericValue=="number"?r.number(this._value+e.numericValue):r.number(e.numericValue.add(this._value)):r.number(this._value.add(e.numericValue)):Cs(this.canonical,e.canonical)}mul(e){if(this.is(1))return this.engine.box(e);if(this.is(-1))return this.engine.box(e).neg();let r=this.engine;return typeof e=="number"?e===1?this:e===0||this.is(0)?this.engine.Zero:e===-1?this.neg():r.number(typeof this._value=="number"?this._value*e:this._value.mul(e)):typeof this._value=="number"&&typeof e=="number"?r.number(this._value*e):e instanceof us?this.is(1)?r.number(e):this.is(-1)?r.number(e.neg()):r.number(e.mul(this._value)):e.numericValue!==null?r.number(r._numericValue(this._value).mul(e.numericValue)):Cl(this,e)}div(e){return r9(this,e)}pow(e){return js(this,e,{numericApproximation:!1})}root(e){if(!this.isCanonical)return this.canonical.root(e);if(typeof e=="number"){if(e===0)return this.engine.NaN;if(e===1)return this;if(e===-1)return this.inv();if(e===2)return this.sqrt();if(this.isNegative){if(e%2===1)return this.neg().root(e).neg();if(e%2===0)return this.neg().root(e)}}else{if(e=e.canonical,e.is(0))return this.engine.NaN;if(e.is(1))return this;if(e.is(-1))return this.inv();if(e.is(2))return this.sqrt();if(this.isNegative){if(e.isOdd)return this.neg().root(e).neg();if(e.isEven)return this.neg().root(e)}}let r=typeof e=="number"?e:e.re;if(Number.isInteger(r))if(typeof this._value=="number"){let i=this._value**(1/r);if(Number.isInteger(i))return this.engine.number(i)}else{let i=this._value.root(r);if(ur(i.type,"integer"))return this.engine.number(i)}return this.engine._fn("Root",[this,this.engine.box(e)])}sqrt(){return typeof this._value=="number"?this._value===0||this._value===1?this:this._value===-1?this.engine.I:this._value>0&&Number.isInteger(this._value)&&this._value<en?this.engine.number(this.engine._numericValue({radical:this._value})):this.engine.number(this.engine._numericValue(this._value).sqrt()):this.is(0)||this.is(1)?this:this.engine.number(this._value.sqrt())}ln(e){let r=e?this.engine.box(e):void 0;if(!this.isCanonical)return this.canonical.ln(r);if(this.is(0))return this.engine.NegativeInfinity;if(r&&this.isSame(r))return this.engine.One;if((!r||r.symbol==="ExponentialE")&&this.symbol==="ExponentialE")return this.engine.One;let i=this.re;if(Number.isInteger(i)&&i>0){let n=this.engine,[a,s]=A7(i,3);if(a!==1)return n.number(a).ln(r).mul(3).add(n.number(s).ln(r));if([a,s]=A7(i,2),a!==1)return n.number(a).ln(r).mul(2).add(n.number(s).ln(r))}return r&&r.isInteger?typeof this._value=="number"?this.engine.number(Math.log(this._value)/Math.log(r.re)):this.engine.number(this._value.ln(r.re)):r===void 0?typeof this._value=="number"?this.engine.number(Math.log(this._value)):this.engine.number(this._value.ln()):this.engine._fn("Ln",[this])}get type(){return typeof this._value=="number"?Number.isNaN(this._value)?new Ji("number"):Number.isFinite(this._value)?new Ji(Number.isInteger(this._value)?"finite_integer":"finite_real"):new Ji("non_finite_number"):new Ji(this._value.type)}get sgn(){if(this._value===0)return"zero";let e;if(typeof this._value=="number"){if(Number.isNaN(this._value))return"unsigned";e=Math.sign(this._value)}else e=this._value.sgn();return e===void 0||Number.isNaN(e)?"unsigned":e===0?"zero":e>0?"positive":"negative"}get numerator(){return typeof this._value=="number"?this:this.engine.number(this._value.numerator)}get denominator(){return typeof this._value=="number"?this.engine.One:this.engine.number(this._value.denominator)}get numeratorDenominator(){if(typeof this._value=="number")return[this,this.engine.One];let e=this.engine;return[e.number(this._value.numerator),e.number(this._value.denominator)]}subs(e,r){return this.isStructural?this:this.structural.subs(e,r)}replace(e,r){var i;return((i=r2(this.structural,e,r).at(-1))==null?void 0:i.value)??null}match(e,r){return A9(this.structural,e,r)}get isPositive(){return typeof this._value=="number"?!Number.isNaN(this._value)&&this._value>0:$9(this.sgn)}get isNonNegative(){return typeof this._value=="number"?!Number.isNaN(this._value)&&this._value>=0:_9(this.sgn)}get isNegative(){return typeof this._value=="number"?!Number.isNaN(this._value)&&this._value<0:E9(this.sgn)}get isNonPositive(){return typeof this._value=="number"?!Number.isNaN(this._value)&&this._value<=0:I9(this.sgn)}get isOdd(){if(this.is(1)||this.is(-1))return!0;if(this.is(0))return!1;if(!this.isFinite||!this.isInteger)return;if(typeof this._value=="number")return this._value%2!==0;let[e,r]=[this._value.numerator,this._value.denominator];return r.isOne?e.re%2!==0:e.re%2!==0&&r.re%2===0}get isEven(){let e=this.isOdd;return e!==void 0?!e:void 0}get isInfinity(){return typeof this._value=="number"?!Number.isFinite(this._value)&&!Number.isNaN(this._value):Number.isFinite(this._value.im)?this._value.isPositiveInfinity||this._value.isNegativeInfinity:!0}get isNaN(){return typeof this._value=="number"?Number.isNaN(this._value):this._value.isNaN}get isFinite(){return this.isInfinity===!1&&this.isNaN===!1}get isNumber(){return!0}get isInteger(){return typeof this._value=="number"?Number.isInteger(this._value):ur(this._value.type,"integer")}get isRational(){return typeof this._value=="number"?Number.isInteger(this._value):ur(this._value.type,"rational")}get isReal(){return typeof this._value=="number"?!0:ur(this._value.type,"real")}is(e){return typeof e=="number"?typeof this._value=="number"?this._value===e:this._value.eq(e):!1}get canonical(){return this}get isStructural(){return typeof this._value=="number"||this.type.matches("rational")?!0:!(this._value instanceof Ms)}get structural(){return this.isStructural?this:this.engine.box(this.json,{canonical:!1,structural:!0})}toNumericValue(){let e=this._value;return typeof e=="number"?[this.engine._numericValue(e),this.engine.One]:[e,this.engine.One]}simplify(e){return a2(this.canonical.structural,e).at(-1).value??this}evaluate(e){return e!=null&&e.numericApproximation?this.N():this}N(){let e=this._value;if(typeof e=="number")return this;let r=e.N();return e===r?this:this.engine.number(r)}};function V9(t,e){if(e==null)return NaN;if(e instanceof us)return e;if(typeof e=="number")return Number.isInteger(e)&&e>=-en&&e<=en||!Number.isFinite(e)?e:t._numericValue(e);if(e instanceof Ui){let r=e.toNumber();return e.isInteger()&&Math.abs(r)<=en?r:e.isNaN()?NaN:e.isFinite()?t._numericValue(e):r>0?1/0:-1/0}if(typeof e=="bigint")return e>=-en&&e<=en?Number(e):t._numericValue(e);if(e instanceof yn)return e.im===0?V9(t,e.re):e.isNaN()?NaN:!e.isFinite()&&e.im===0?e.re>0?1/0:-1/0:t._numericValue({re:e.re,im:e.im});if(typeof e=="object"&&"num"in e){if(typeof e.num=="number")return V9(t,e.num);if(typeof e.num!="string")throw new Error("MathJSON `num` property should be a string of digits");return XP(t,e.num)}if(typeof e=="string")return XP(t,e);if(e[1]==0)return NaN;if(typeof e[1]=="number"&&!Number.isFinite(e[1]))return Number.isFinite(e[0])?0:NaN;if(typeof e[0]=="number"&&!Number.isFinite(e[0])){let r=e[0]>0?1:-1;return e[0]>0?r>0?1/0:-1/0:e[0]<0?r>0?-1/0:1/0:NaN}return t._numericValue(e)}function XP(t,e){if(e=e.toLowerCase(),/[0-9][nd]$/.test(e)&&(e=e.slice(0,-1)),e=e.replace(/[\u0009-\u000d\u0020\u00a0]/g,""),e==="nan")return NaN;if(e==="infinity"||e==="+infinity")return Number.POSITIVE_INFINITY;if(e==="-infinity")return Number.NEGATIVE_INFINITY;if(e==="0")return 0;if(e==="1")return 1;if(e==="-1")return-1;if(/\([0-9]+\)/.test(e)){let[i,n,a,s]=e.match(/(.+)\(([0-9]+)\)(.+)?$/)??[];e=n+a.repeat(Math.ceil(t.precision/a.length))+(s??"")}let r=Rs(e);return r!==null?r>=-en&&r<=en?Number(r):t._numericValue(r):t._numericValue(t.bignum(e))}var Nd=class HZ extends qs{constructor(e,r,i){super(e,i==null?void 0:i.metadata),this._isStructural=!1,Zo(r),`${r}${v1(r)}`,this._id=r,this._def=(i==null?void 0:i.def)??void 0,i!=null&&i.structural&&(this._isStructural=!0),((i==null?void 0:i.canonical)??!0)!==!0?this._scope=null:this._def?this._scope=e.context:this.bind()}get json(){return this._id}get hash(){return this._hash===void 0&&(this._hash=Ef(this._id)),this._hash}get isPure(){return!0}get isStructural(){return this._isStructural}get structural(){return this.isStructural?this:new HZ(this.engine,this._id,{structural:!0,def:this._def??void 0})}get scope(){return this._scope}get isConstant(){let e=this._def??this.engine.lookupSymbol(this._id,this.wikidata);return!(e instanceof Ns)||e.constant}_lookupDef(){let e=this.engine;return e.lookupSymbol(this._id)??e.lookupFunction(this._id)}_getDef(){let e=this.symbolDefinition;if(!e)return;let r="value"in e?e.value:void 0;return r&&r!==this&&(e=r.baseDefinition??e),e}bind(){var r;this._scope=this.engine.context;let e=this._lookupDef();if(e){this._def=e;return}this._def=this.engine.defineSymbol(this._id,{type:"unknown",inferred:!0}),this._id=((r=this._def)==null?void 0:r.name)??this._id}reset(){var e;(e=this._def)==null||e.reset()}get isCanonical(){return this._scope!==null}set isCanonical(e){this._scope=e?this.engine.context:null,this._def=void 0}is(e){var r,i;return typeof e=="number"?((i=(r=this.symbolDefinition)==null?void 0:r.value)==null?void 0:i.is(e))??!1:!1}get canonical(){return this._scope?this:this.engine.box(this._id)}toNumericValue(){this.isCanonical;let e=this.engine;return this.symbol==="ImaginaryUnit"?[e._numericValue({re:0,im:1}),e.One]:this.symbol==="PositiveInfinity"||this.isInfinity&&this.isPositive?[e._numericValue(1/0),e.One]:this.symbol==="NegativeInfinity"||this.isInfinity&&this.isNegative?[e._numericValue(-1/0),e.One]:this.symbol==="NaN"?[e._numericValue(NaN),e.One]:[e._numericValue(1),this]}neg(){return Xf(this)}inv(){return this.engine._fn("Divide",[this.engine.One,this])}abs(){return this.isNonNegative?this:this.isNonPositive?this.neg():this.engine._fn("Abs",[this])}add(e){return e===0?this:Cs(this.canonical,this.engine.box(e))}mul(e){if(e===1)return this;if(e===-1)return this.neg();if(e===0)return this.engine.Zero;if(e instanceof us){if(e.isOne)return this;if(e.isNegativeOne)return this.neg();if(e.isZero)return this.engine.Zero}return Cl(this.canonical,this.engine.box(e))}div(e){return r9(this,e)}pow(e){return js(this,e,{numericApproximation:!1})}root(e){if(!this.isCanonical)return this.canonical.root(e);typeof e!="number"&&(e=e.canonical);let r=typeof e=="number"?e:e.im===0?e.re:void 0,i=this.engine;return this.symbol==="ComplexInfinity"||r===0?i.NaN:r===1?this:r===2?this.sqrt():r===-1?this.inv():i._fn("Root",[this,i.box(e)])}sqrt(){let e=this.engine;return this.symbol==="ComplexInfinity"?e.NaN:this.is(0)?this:this.is(1)?this.engine.One:this.is(-1)?e.I:e._fn("Sqrt",[this])}ln(e){let r=e?this.engine.box(e):void 0;return this.isCanonical?this.is(0)?this.engine.NegativeInfinity:(!r||r.symbol==="ExponentialE")&&this.symbol==="ExponentialE"?this.engine.One:r?r.re===10?this.engine._fn("Log",[this]):this.engine._fn("Log",[this,r]):this.engine._fn("Ln",[this]):this.canonical.ln(r)}solve(e){let r=_7(e);return r.length!==1?null:r.includes(this.symbol)?[this.engine.Zero]:null}get complexity(){return 7}get operator(){return"Symbol"}get symbol(){return this._id}get baseDefinition(){return this._def===void 0&&this.bind(),this._def??void 0}get symbolDefinition(){return this._def===void 0&&this.bind(),this._def instanceof Ns?this._def:void 0}get functionDefinition(){return this._def===void 0&&this.bind(),this._def instanceof F0?this._def:void 0}infer(e){let r=this._lookupDef();if(!r){let i=this.engine.swapScope(this._scope??this.engine.context);return this._def=this.engine.defineSymbol(this._id,{type:e,inferred:!0}),this.engine.swapScope(i),!0}return r instanceof Ns&&(r.inferredType||r.type.isUnknown)?(r.type=E0(r.type.type,e),!0):!1}get value(){var e,r;return(r=(e=this.symbolDefinition)==null?void 0:e.value)==null?void 0:r.value}set value(e){let r=this.engine;r.forget(this._id);let i;if(typeof e=="boolean"&&(e=e?r.True:r.False),typeof e=="string"&&(e=r.string(e)),typeof e=="object")if("re"in e&&"im"in e)e=r.complex(e.re??0,e.im);else if("num"in e&&"denom"in e)e=r.number([e.num,e.denom]);else if(Array.isArray(e))e=r._fn("List",e.map(a=>r.box(a)));else throw new Error(`Invalid value for symbol ${this._id}: ${e}`);if(e!==void 0&&(i=r.box(e).evaluate()),i==null?void 0:i.type.matches("function")){this.engine.lookupSymbol(this._id),this._def=r.defineFunction(this._id,{signature:i.type.toString(),evaluate:i});return}let n=this.engine.lookupSymbol(this._id);n&&n instanceof Ns?n.value=i:this._def=r.defineSymbol(this._id,{value:i,type:i==null?void 0:i.type.toString()})}get type(){let e=this._def;return e?e instanceof Ns?e.type:e instanceof F0?e.signature:Ji.unknown:Ji.unknown}set type(e){if(this._def){if(e instanceof Ji&&(e=e.type),this._id[0]==="_")throw new Error(`The type of the wildcard "${this._id}" cannot be changed`);e==="function"||O3(e)?(this.engine.forget(this._id),this._def=this.engine.defineFunction(this._id,{signature:e.toString()})):this._def instanceof Ns?this._def.type=typeof e=="string"?Mi(e):e:(this.engine.forget(this._id),this._def=this.engine.defineSymbol(this._id,{type:e.toString()}))}}get sgn(){let e=this._def;if(!(!e||!(e instanceof Ns)))return e.sgn}has(e){return typeof e=="string"?this._id===e:e.includes(this._id)}match(e,r){return A9(this,e,r)}get isFunction(){return!!this.functionDefinition}get isOdd(){var e;return(e=this.symbolDefinition)==null?void 0:e.odd}get isEven(){var e;return(e=this.symbolDefinition)==null?void 0:e.even}get isInfinity(){let e=this.sgn;return e==="negative-infinity"||e==="positive-infinity"}get isNaN(){return this.sgn==="nan"}get isPositive(){return $9(this.sgn)}get isNonPositive(){return I9(this.sgn)}get isNegative(){return E9(this.sgn)}get isNonNegative(){return _9(this.sgn)}get isNumber(){let e=this.type;if(!e.isUnknown)return e.matches("number")}get isInteger(){var r;if((r=this.symbolDefinition)!=null&&r.inferredType)return;let e=this.type;if(!e.isUnknown)return e.matches("integer")}get isRational(){var r;if((r=this.symbolDefinition)!=null&&r.inferredType)return;let e=this.type;if(!e.isUnknown)return e.matches("rational")}get isReal(){var r;if((r=this.symbolDefinition)!=null&&r.inferredType)return;let e=this.type;if(!e.isUnknown)return e.matches("real")}get re(){var e,r;return((r=(e=this.symbolDefinition)==null?void 0:e.value)==null?void 0:r.re)??NaN}get im(){var e,r;return((r=(e=this.symbolDefinition)==null?void 0:e.value)==null?void 0:r.im)??NaN}get bignumRe(){var e,r;return(r=(e=this.symbolDefinition)==null?void 0:e.value)==null?void 0:r.bignumRe}get bignumIm(){var e,r;return(r=(e=this.symbolDefinition)==null?void 0:e.value)==null?void 0:r.bignumIm}simplify(e){var r;return((r=a2(this,e).at(-1))==null?void 0:r.value)??this}evaluate(e){var n,a;let r=this.symbolDefinition;if(!r)return this;let i=r.holdUntil;if(e!=null&&e.numericApproximation){if(i==="never"||i==="evaluate"||i==="N")return((n=r.value)==null?void 0:n.N())??this}else if(i==="never"||i==="evaluate")return((a=r.value)==null?void 0:a.evaluate(e))??this;return this}N(){var r;let e=this.symbolDefinition;return e&&e.holdUntil==="never"?this:((r=e==null?void 0:e.value)==null?void 0:r.N())??this}replace(e,r){var i;return((i=r2(this,e,r).at(-1))==null?void 0:i.value)??null}subs(e,r){let i=(r==null?void 0:r.canonical)??this.isCanonical;return e[this._id]===void 0?i?this.canonical:this:this.engine.box(e[this._id],{canonical:i})}get isCollection(){var e,r;return((r=(e=this._getDef())==null?void 0:e.collection)==null?void 0:r.contains)!==void 0}contains(e){var r,i,n;return((n=(i=(r=this._getDef())==null?void 0:r.collection)==null?void 0:i.contains)==null?void 0:n.call(i,this,e))??!1}get size(){var e,r,i;return((i=(r=(e=this._getDef())==null?void 0:e.collection)==null?void 0:r.size)==null?void 0:i.call(r,this))??0}each(e,r){var n,a,s;return((s=(a=(n=this._getDef())==null?void 0:n.collection)==null?void 0:a.iterator)==null?void 0:s.call(a,this,e,r))||{next(){return{done:!0,value:void 0}}}}at(e){var r,i,n;return(n=(i=(r=this._getDef())==null?void 0:r.collection)==null?void 0:i.at)==null?void 0:n.call(i,this,e)}get(e){var r,i,n,a,s,o;if(typeof e=="string")return(n=(i=(r=this.baseDefinition)==null?void 0:r.collection)==null?void 0:i.at)==null?void 0:n.call(i,this,e);if(e.string)return(o=(s=(a=this.symbolDefinition)==null?void 0:a.collection)==null?void 0:s.at)==null?void 0:o.call(s,this,e.string)}indexOf(e){var r,i,n;return((n=(i=(r=this._getDef())==null?void 0:r.collection)==null?void 0:i.indexOf)==null?void 0:n.call(i,this,e))??-1}subsetOf(e,r){var i,n,a;return((a=(n=(i=this._getDef())==null?void 0:i.collection)==null?void 0:n.subsetOf)==null?void 0:a.call(n,this,e,r))??!1}};function V9e(t,e){let r=t.lookupSymbol(e);if((r==null?void 0:r.holdUntil)==="never"&&r.value)return r.value;if(r)return new Nd(t,e,{canonical:!0,def:r});let i=t.lookupFunction(e);return i?new Nd(t,e,{canonical:!0,def:i}):new Nd(t,e,{canonical:!0})}var _5="\x1B[0m",G9e="\x1B[33m",Z9e="\x1B[36;1m",QP="\x1B[101;97m",H9e={"\\mathord":"","\\mathop":"","\\mathbin":"","\\mathrel":"","\\mathopen":"","\\mathclose":"","\\mathpunct":"","\\mathinner":"","\\operatorname":"","\\mathrm":"_upright","\\mathit":"_italic","\\mathbf":"_bold","\\mathscr":"_script","\\mathcal":"_calligraphic","\\mathfrak":"_fraktur","\\mathsf":"_sansserif","\\mathtt":"_monospace","\\mathbb":"_doublestruck"},W9e={"\\mathring":"_ring","\\hat":"_hat","\\tilde":"_tilde","\\vec":"_vec","\\overline":"_bar","\\underline":"_underbar","\\dot":"_dot","\\ddot":"_ddot","\\dddot":"_dddot","\\ddddot":"_ddddot","\\acute":"_acute","\\grave":"_grave","\\breve":"_breve","\\check":"_check"};function JP(t,e){if(t.atEnd)return null;let r=t.peek,i={"\\_":"_","\\#":"hash"}[r];if(!i&&!e.toplevel&&(i={"+":"plus","-":"minus","\\plusmn":"pm","\\pm":"pm","\\ast":"ast","\\dag":"dag","\\ddag":"ddag","\\bot":"bottom","\\top":"top","\\bullet":"bullet","\\cir":"circle","\\diamond":"diamond","\\times":"times","\\square":"square","\\star":"star"}[r]),i)return t.nextToken(),i;let n=zu.findIndex(a=>a[1]===r);return n>=0?(t.nextToken(),zu[n][0]):t.matchChar()??t.nextToken()}function E5(t){let e=G9(t),r=W9e[t.peek]??null;if(r){if(t.nextToken(),!t.match("<{>"))return null;let a=E5(t);if(a===null||!t.match("<}>"))return null;e=`${a}${r}`}if(e===null){for(e="";!t.atEnd;){let a=t.peek;if(a==="<}>"||a==="_"||a==="^")break;let s=JP(t,{toplevel:!1});if(s===null)return null;e+=s}for(;!t.atEnd&&/\d/.test(t.peek);)e+=t.nextToken()}for(;!t.atEnd;)if(t.match("\\degree"))e+="_deg";else if(t.matchAll(["^","\\circ"]))e+="_deg";else if(t.matchAll(["^","\\prime"]))e+="_prime";else if(t.matchAll(["^","<{>","\\prime","<}>"]))e+="_prime";else if(t.matchAll(["^","<{>","\\doubleprime","<}>"]))e+="_dprime";else if(t.matchAll(["^","<{>","\\prime","\\prime","<}>"]))e+="_dprime";else break;let i=[],n=[];for(;!t.atEnd;)if(t.match("_")){let a=t.match("<{>"),s=E5(t);if(a&&!t.match("<}>")||s===null)return null;n.push(s)}else if(t.match("^")){let a=t.match("<{>"),s=E5(t);if(a&&!t.match("<}>")||s===null)return null;i.push(s)}else break;return i.length>0&&(e+="__"+i.join("")),n.length>0&&(e+="_"+n.join("")),e}function G9(t){let e=H9e[t.peek]??null;if(e===null)return null;if(t.nextToken(),t.match("<{>")){let r="",i={0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine"}[t.peek]??"";return i&&(r=i,t.nextToken()),r+=E5(t),r===null||!t.match("<}>")?null:e==="_upright"&&r.length>1?r:r+e}return null}function eR(t){let e=t.index,r=G9(t);return r===null||Zo(r)?null:t.error(["invalid-identifier",{str:v1(r)}],e)}function I5(t){if(/^[a-zA-Z]$/.test(t.peek)||new RegExp("^\\p{XIDS}$","u").test(t.peek))return t.nextToken();let e=G9(t);if(!e){for(e="";!t.atEnd&&a5.test(e+t.peek);)e+=t.nextToken();e||(e=null)}let r=t.index;return e??(e=JP(t,{toplevel:!0})),e&&(e=e.normalize(),Zo(e))?e:(t.index=r,null)}var Y9e={"(":["\\lparen","("],")":["\\rparen",")"],"[":["\\lbrack","\\[","["],"]":["\\rbrack","\\]","]"],"<":["<","\\langle"],">":[">","\\rangle"],"{":["\\{","\\lbrace"],"}":["\\}","\\rbrace"],":":[":","\\colon"],"|":["|","\\|","\\lvert","\\rvert"],"||":["||","\\Vert","\\lVert","\\rVert"]},Z9={"\\left":"\\right","\\bigl":"\\bigr","\\Bigl":"\\Bigr","\\biggl":"\\biggr","\\Biggl":"\\Biggr","\\big":"\\big","\\Big":"\\Big","\\bigg":"\\bigg","\\Bigg":"\\Bigg"},H9={"(":")","[":"]","|":"|","\\{":"\\}","\\[":"\\]","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache","\\llbracket":"\\rrbracket"},K9e=class{constructor(e,r,i){this._index=0,this.symbolTable={parent:null,ids:{}},this._boundaries=[],this._lastPeek="",this._peekCounter=0,this._tokens=e,this.options=i,this._dictionary=r,this._positiveInfinityTokens=as(this.options.positiveInfinity),this._negativeInfinityTokens=as(this.options.negativeInfinity),this._notANumberTokens=as(this.options.notANumber),this._decimalSeparatorTokens=as(this.options.decimalSeparator),this._wholeDigitGroupSeparatorTokens=[],this._fractionalDigitGroupSeparatorTokens=[],this.options.digitGroupSeparator&&(typeof this.options.digitGroupSeparator=="string"?(this._wholeDigitGroupSeparatorTokens=as(this.options.digitGroupSeparator),this._fractionalDigitGroupSeparatorTokens=this._wholeDigitGroupSeparatorTokens):Array.isArray(this.options.digitGroupSeparator)&&(this._wholeDigitGroupSeparatorTokens=as(this.options.digitGroupSeparator[0]),this._fractionalDigitGroupSeparatorTokens=as(this.options.digitGroupSeparator[1]))),this._exponentProductTokens=as(this.options.exponentProduct),this._beginExponentMarkerTokens=as(this.options.beginExponentMarker),this._endExponentMarkerTokens=as(this.options.endExponentMarker),this._truncationMarkerTokens=as(this.options.truncationMarker),this._imaginaryUnitTokens=as(this.options.imaginaryUnit)}pushSymbolTable(){this.symbolTable={parent:this.symbolTable,ids:{}}}popSymbolTable(){this.symbolTable=this.symbolTable.parent??this.symbolTable}addSymbol(e,r){if(e in this.symbolTable.ids&&this.symbolTable.ids[e]!==r)throw new Error(`Symbol ${e} already declared as a different type`);this.symbolTable.ids[e]=r}get index(){return this._index}set index(e){this._index=e,this._lastPeek="",this._peekCounter=0}getIdentifierType(e){let r=this.symbolTable;for(;r;){if(e in r.ids)return r.ids[e];r=r.parent}return this.options.getIdentifierType?this.options.getIdentifierType(e):"unknown"}get peek(){let e=this._tokens[this.index];if(e===this._lastPeek?this._peekCounter+=1:this._peekCounter=0,this._peekCounter>=1024){let r=`Infinite loop detected while parsing "${this.latex(0)}" at "${this._lastPeek}" (index ${this.index})`;throw console.error(r),new Error(r)}return this._lastPeek=e,e}nextToken(){return this._tokens[this.index++]}get atEnd(){return this.index>=this._tokens.length}atTerminator(e){return this.atBoundary||(((e==null?void 0:e.condition)&&e.condition(this))??!1)}get atBoundary(){if(this.atEnd)return!0;let e=this.index;for(let r of this._boundaries)if(this.matchAll(r.tokens))return this.index=e,!0;return!1}addBoundary(e){this._boundaries.push({index:this.index,tokens:e})}removeBoundary(){this._boundaries.pop()}matchBoundary(){let e=this._boundaries[this._boundaries.length-1],r=e&&this.matchAll(e.tokens);return r&&this._boundaries.pop(),r}boundaryError(e){let r=this._boundaries[this._boundaries.length-1];return this._boundaries.pop(),this.error(e,r.index)}latex(e,r){return $u(this._tokens.slice(e,r))}latexAhead(e){return this.latex(this.index,this.index+e)}lookAhead(){let e=Math.min(this._dictionary.lookahead,this._tokens.length-this.index);if(e<=0)return[];let r=[];for(;e>0;)r.push([e,this.latexAhead(e--)]);return r}peekDefinitions(e){if(this.atEnd)return[];let r=[],i=[...this.getDefs(e)];for(let n of i)n.latexTrigger===""&&r.push([n,0]);for(let[n,a]of this.lookAhead())for(let s of i)s.latexTrigger===a&&r.push([s,n]);for(let n of i)if(n.identifierTrigger){let a=X9e(this,n.identifierTrigger);a>0&&r.push([n,a])}return r}skipSpaceTokens(){for(;this.match("<space>"););}skipSpace(){if(!this.atEnd&&this.peek==="<{>"){let r=this.index;for(this.nextToken();this.match("<space>"););if(this.nextToken()==="<}>")return this.skipSpace(),!0;this.index=r}if(!this.options.skipSpace)return!1;let e=!1;for(;this.match("<space>");)e=!0;return e&&this.skipSpace(),e}skipVisualSpace(){this.options.skipSpace&&(this.skipSpace(),["\\!","\\,","\\:","\\;","\\enskip","\\enspace","\\space","\\quad","\\qquad"].includes(this.peek)&&(this.nextToken(),this.skipVisualSpace()),this.skipSpace())}match(e){return this._tokens[this.index]!==e?!1:(this.index++,!0)}matchAll(e){if(e.length===0)return!1;let r,i=0;do r=this._tokens[this.index+i]===e[i++];while(r&&i<e.length);return r&&(this.index+=i),r}matchAny(e){return e.includes(this._tokens[this.index])?this._tokens[this.index++]:""}matchLatexNumber(e=!0){let r=!1,i=this.peek;for(;i==="<space>"||i==="+"||i==="-";)i==="-"&&(r=!r),this.nextToken(),i=this.peek;let n=10,a=["0","1","2","3","4","5","6","7","8","9"];if(this.match("'"))n=8,a=["0","1","2","3","4","5","6","7"],e=!0;else if(this.match('"')||this.match("x"))n=16,a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],e=!0;else if(this.match("`"))return i=this.nextToken(),i?i.startsWith("\\")&&i.length===2?(r?-1:1)*(i.codePointAt(1)??0):(r?-1:1)*(i.codePointAt(0)??0):null;let s="";for(;a.includes(this.peek);)s+=this.nextToken();if(!e&&this.match("."))for(s+=".";a.includes(this.peek);)s+=this.nextToken();let o=e?Number.parseInt(s,n):Number.parseFloat(s);return Number.isNaN(o)?null:r?-o:o}matchChar(){let e=this.index,r=0;for(;this.match("^");)r+=1;if(r<2&&(this.index=e),r>=2){let i="",n=0;for(;n!=r;){let a=this.matchAny(["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"]);if(!a)break;i+=a,n+=1}if(i.length===r)return String.fromCodePoint(Number.parseInt(i,16))}else if(this.match("\\char")){let i=Math.floor(this.matchLatexNumber()??Number.NaN);return(!Number.isFinite(i)||i<0||i>1114111)&&(i=10067),String.fromCodePoint(i)}else if(this.match("\\unicode"))if(this.skipSpaceTokens(),this.match("<{>")){let i=this.matchLatexNumber();if(this.match("<}>")&&i!==null&&i>=0&&i<=1114111)return String.fromCodePoint(i)}else{let i=this.matchLatexNumber();if(i!==null&&i>=0&&i<=1114111)return String.fromCodePoint(i)}return this.index=e,null}matchDelimiter(e,r){if(Array.isArray(e))return this.matchAll(e)?(this.addBoundary(r),!0):!1;let i=this.index,n=Z9[this.peek];return n&&this.nextToken(),e==="||"&&this.matchAll(["|","|"])?(this.addBoundary(["|","|"]),!0):(Y9e[e]??[e]).includes(this.peek)?(e=this.nextToken(),r=H9[e]??r,this.addBoundary(n?[n,r]:[r]),!0):(this.index=i,!1)}parseGroup(){let e=this.index;if(this.skipSpaceTokens(),this.match("<{>")){this.addBoundary(["<}>"]);let r=this.parseExpression();if(this.skipSpace(),this.matchBoundary())return r??"Nothing";for(;!this.matchBoundary()&&!this.atEnd;)this.nextToken();if(Nt(r)==="Error")return r;let i=this.error("expected-closing-delimiter",e);return r!==null?["InvisibleOperator",r,i]:i}return this.index=e,null}parseOptionalGroup(){let e=this.index;if(this.skipSpaceTokens(),this.match("[")){this.addBoundary(["]"]);let r=this.parseExpression();return this.skipSpace(),this.matchBoundary()?r:this.boundaryError("expected-closing-delimiter")}return this.index=e,null}parseToken(){return this.skipSpace(),[...'!"#$%&(),/;:?@[]\\`|~'.split(""),"\\left","\\bigl"].includes(this.peek)?null:/^[0-9]$/.test(this.peek)?parseInt(this.nextToken(),10):this.parseGenericExpression()??this.parseSymbol()}parseTabular(){let e=[],r=[],i=null;for(;!this.atBoundary;)if(this.skipSpace(),this.match("&"))r.push(i??"Nothing"),i=null;else if(this.match("\\\\")||this.match("\\cr"))this.skipSpace(),this.parseOptionalGroup(),i!==null&&r.push(i),e.push(r),r=[],i=null;else{let n=[],a=this.peek;for(;a!=="&"&&a!=="\\\\"&&a!=="\\cr"&&!this.atBoundary;)i=this.parseExpression({minPrec:0,condition:s=>{let o=s.peek;return o==="&"||o==="\\\\"||o==="\\cr"}}),i!==null?n.push(i):(n.push(["Error","'unexpected-token'",{str:$u(a)}]),this.nextToken()),this.skipSpace(),a=this.peek;n.length>1?i=["Sequence",...n]:i=n[0]??"Nothing"}return i!==null&&r.push(i),r.length>0&&e.push(r),e}parseStringGroupContent(){let e=this.index,r="",i=0;for(;!this.atBoundary||i>0;){let n=this.nextToken();if(n==="<$>"||n==="<$$>")return this.index=e,"";n==="<{>"?(i+=1,r+="\\{"):n==="<}>"?(i-=1,r+="\\}"):n==="<space>"?r+=" ":(n[0],r+=n)}return r}parseStringGroup(e){e===void 0&&(e=!1);let r=this.index;for(;this.match("<space>"););if(this.match(e?"[":"<{>")){this.addBoundary([e?"]":"<}>"]);let i=this.parseStringGroupContent();if(this.matchBoundary())return i;this.removeBoundary()}return this.index=r,null}parseEnvironment(e){var n;let r=this.index;if(!this.match("\\begin"))return null;let i=(n=this.parseStringGroup())==null?void 0:n.trim();if(!i)return this.error("expected-environment-name",r);this.addBoundary(["\\end","<{>",...i.split(""),"<}>"]);for(let a of this.getDefs("environment"))if(a.identifierTrigger===i){let s=a.parse(this,e);return this.skipSpace(),this.matchBoundary()?s!==null?this.decorate(s,r):(this.index=r,null):this.boundaryError("unbalanced-environment")}return this.parseTabular(),this.skipSpace(),this.matchBoundary()?this.error(["unknown-environment",{str:i}],r):this.boundaryError("unbalanced-environment")}parseOptionalSign(){let e=!!this.matchAny(["-","−"]);for(;this.matchAny(["+","﹢"])||this.skipSpace();)this.matchAny(["-","−"])&&(e=!e);return e?"-":"+"}parseDecimalDigits(e="whole"){let r=[],i=!1;for(;!i;){for(;/^[0-9]$/.test(this.peek);)r.push(this.nextToken()),this.skipVisualSpace();i=!0;let n=e==="whole"?this._wholeDigitGroupSeparatorTokens:this._fractionalDigitGroupSeparatorTokens;if(e!=="none"&&n.length>0){let a=this.index;this.skipVisualSpace(),this.matchAll(n)&&(this.skipVisualSpace(),/^[0-9]$/.test(this.peek)?i=!1:this.index=a)}}return r.join("")}parseSignedInteger(e){let r=this.index,i=this.parseOptionalSign(),n=this.parseDecimalDigits(e);return n?i==="-"?"-"+n:n:(this.index=r,"")}parseExponent(){let e=this.index;if(this.skipVisualSpace(),this.matchAny(["e","E"])){let r=this.parseSignedInteger("none");if(r)return r}if(this.index=e,this.match("\\times")&&(this.skipVisualSpace(),this.matchAll(["1","0"])&&(this.skipVisualSpace(),this.match("^")))){if(this.skipVisualSpace(),/^[0-9]$/.test(this.peek))return this.nextToken();if(this.match("<{>")){this.skipVisualSpace();let r=this.parseSignedInteger("whole");if(this.skipVisualSpace(),r&&this.match("<}>"))return r}}if(this.index=e,this.skipVisualSpace(),this.match("\\%"))return"-2";if(this.index=e,this.matchAll(this._exponentProductTokens)&&(this.skipVisualSpace(),this.matchAll(this._beginExponentMarkerTokens))){this.skipVisualSpace();let r=this.parseSignedInteger("none");if(this.skipVisualSpace(),r&&this.matchAll(this._endExponentMarkerTokens))return r}return this.index=e,""}parseRepeatingDecimal(){let e=this.index,r=this.options.repeatingDecimal,i="";if((r==="auto"||r==="parentheses")&&this.match("("))return i=this.parseDecimalDigits("fraction"),i&&this.match(")")?`(${i})`:(this.index=e,"");if(this.index=e,(r==="auto"||r==="parentheses")&&this.matchAll(["\\left","("]))return i=this.parseDecimalDigits("fraction"),i&&this.matchAll(["\\right",")"])?`(${i})`:(this.index=e,"");if(this.index=e,(r==="auto"||r==="vinculum")&&this.matchAll(["\\overline","<{>"]))return i=this.parseDecimalDigits("fraction"),i&&this.match("<}>")?`(${i})`:(this.index=e,"");if(this.index=e,(r==="auto"||r==="arc")&&(this.matchAll(["\\wideparen","<{>"])||this.matchAll(["\\overarc","<{>"])))return i=this.parseDecimalDigits("fraction"),i&&this.match("<}>")?`(${i})`:(this.index=e,"");if(this.index=e,r==="auto"||r==="dots"){let n=tR(this);if(n!==null){if(i=this.parseDecimalDigits("fraction"),!i)return`(${n})`;let a=tR(this);if(a!==null)return`(${n}${i}${a})`}}return this.index=e,""}parseNumber(){if(this.options.parseNumbers===!1||this.options.parseNumbers==="never")return null;let e=this.index;this.skipVisualSpace();let r=1;for(;this.peek==="-"||this.peek==="+";)this.match("-")?r=-r:this.match("+"),this.skipVisualSpace();let i="",n="",a=!1;if(this.match(".")||this.matchAll(this._decimalSeparatorTokens)){let c=this.peek;(/^[\d]$/.test(c)||J9e(this))&&(a=!0,i="0")}else i=this.parseDecimalDigits("whole");if(!i)return this.index=e,null;let s=this.index,o=!1;(a||this.match(".")||this.matchAll(this._decimalSeparatorTokens))&&(n=this.parseDecimalDigits("fraction"),o=!0);let l=!1;if(o){let c=this.parseRepeatingDecimal();c&&(n+=c,l=!0),this.match("\\ldots")||this.matchAll(this._truncationMarkerTokens)}if(o&&!n)return this.index=s,i.length<10?W9(r*parseInt(i,10)):{num:r<0?"-"+i:i};let u=this.parseExponent();if(!o&&!u&&i.length<10)return W9(r*parseInt(i,10));if(!l&&this.options.parseNumbers==="rational"){let c=parseInt(i,10);if(!n)return u?["Multiply",r*c,["Power",10,u]]:W9(r*c);let h=parseInt(n,10),p=n.length,d=c*10**p+h,m=10**p;return u?["Multiply",["Rational",r*d,m],["Power",10,u]]:["Rational",r*d,m]}return{num:(r<0?"-":"")+i+(o?"."+n:"")+(u?"e"+u:"")}}parsePrefixOperator(e){e||(e={minPrec:0}),e.minPrec||(e={...e,minPrec:0});let r=this.index;for(let[i,n]of this.peekDefinitions("prefix")){this.index=r+n;let a=i.parse(this,{...e,minPrec:i.precedence+1});if(a!==null)return a}return this.index=r,null}parseInfixOperator(e,r){r??(r={minPrec:0}),r.minPrec,r.minPrec===void 0&&(r={...r,minPrec:0});let i=this.index;for(let[n,a]of this.peekDefinitions("infix"))if(n.precedence>=r.minPrec){this.index=i+a;let s=n.parse(this,e,r);if(s!==null)return s}return this.index=i,null}parseArguments(e="enclosure",r){if(this.atTerminator(r))return null;let i=this.index,n=this.parseEnclosure();if(e==="enclosure")return n===null?null:jf(n)??[];if(e==="implicit"){if(Nt(n)==="Delimiter"){let s=Re(n,1);return Nt(s)==="Sequence"?nr(s):s===null?[]:[s]}if(n!==null)return[n];let a=this.parseExpression({...r,minPrec:390});return a===null?null:[a]}return this.index=i,null}parseEnclosure(){let e=this.getDefs("matchfix"),r=this.index;for(let i of e){if(this.index=r,!this.matchDelimiter(i.openTrigger,i.closeTrigger))continue;let n=this.index;this.skipSpace();let a=this.parseExpression();if(this.skipSpace(),!this.matchBoundary()){let o=this._boundaries[this._boundaries.length-1].tokens;if(this.removeBoundary(),this.index=n,this.skipSpace(),a=this.parseExpression(),this.skipSpace(),!this.matchAll(o)){if(this.index=r,!this.atEnd)continue;return null}}let s=i.parse(this,a??"Nothing");if(s!==null)return s}return this.index=r,null}parseGenericExpression(e){if(this.atTerminator(e))return null;let r=this.index,i=null,n=this.peekDefinitions("expression")??[];for(let[a,s]of n)if(this.index=r+s,typeof a.parse=="function"){if(i=a.parse(this,e),i!==null)return i}else return a.name;return this.index=r,null}parseFunction(e){if(this.atTerminator(e))return null;let r=this.index,i=null;for(let[a,s]of this.peekDefinitions("function"))if(this.index=r+s,typeof a.parse=="function"){if(i=a.parse(this,e),i!==null)return i}else{i=a.name;break}if(i===null&&(this.index=r,i=I5(this),!this.isFunctionOperator(i)))return this.index=r,null;do{let a=this.parsePostfixOperator(i,e);if(a===null)break;i=a}while(!0);let n=this.parseArguments("enclosure",e);return n===null?i:typeof i=="string"?[i,...n]:["Apply",i,...n]}parseSymbol(e){if(this.atTerminator(e))return null;let r=this.index;for(let[n,a]of this.peekDefinitions("symbol"))if(this.index=r+a,typeof n.parse=="function"){let s=n.parse(this,e);if(s!==null)return s}else return n.name;this.index=r;let i=I5(this);return i!==null&&this.getIdentifierType(i)==="symbol"?i:(this.index=r,null)}parseSupsub(e){if(this.atEnd)return e;let r=this.index;this.skipSpace();let i=[],n=[],a=r;for(;this.peek==="_"||this.peek==="^";){if(this.match("_"))if(a=this.index,this.match("_")||this.match("^"))n.push(this.error("syntax-error",a));else{let o=this.parseGroup()??this.parseToken()??this.parseStringGroup();if(o===null)return this.error("missing",r);n.push(o)}else if(this.match("^"))if(a=this.index,this.match("_")||this.match("^"))i.push(this.error("syntax-error",a));else{let o=this.parseGroup()??this.parseToken();if(o===null)return this.error("missing",r);i.push(o)}a=this.index,this.skipSpace()}if(i.length===0&&n.length===0)return this.index=r,e;let s=e;if(n.length>0){let o=[...this.getDefs("infix")].filter(l=>l.latexTrigger==="_");if(o){let l=["Subscript",s,n.length===1?n[0]:["List",...n]];for(let u of o)if(typeof u.parse=="function"?s=u.parse(this,l,{minPrec:0}):s=l,s!==null)break}}if(i.length>0){let o=[...this.getDefs("infix")].filter(l=>l.latexTrigger==="^");if(o){let l=i.filter(u=>!ya(u));if(l.length!==0){let u=l.length===1?l[0]:["List",...l],c=["Superscript",s,u];for(let h of o)if(typeof h.parse=="function"?s=h.parse(this,c,{minPrec:0}):s=c,s!==null)break}}}return s===null&&(this.index=r),s}parsePostfixOperator(e,r){if(e===null||this.atEnd)return null;let i=this.index;for(let[n,a]of this.peekDefinitions("postfix")){this.index=i+a;let s=n.parse(this,e,r);if(s!==null)return s}return this.index=i,null}parseSyntaxError(){let e=this.index;if(this.peek==="^")return this.index+=1,["Superscript",this.error("missing",e),tn(this.parseGroup())];let r=this.peekDefinitions("operator");if(r.length>0){if(r=this.peekDefinitions("postfix"),r.length>0){let[o,l]=r[0];if(this.index+=l,typeof o.parse=="function"){let u=o.parse(this,this.error("missing",e));if(u!==null)return u}return o.name?[o.name,this.error("missing",e)]:this.error("unexpected-operator",e)}if(r=this.peekDefinitions("prefix"),r.length>0){let[o,l]=r[0];if(this.index+=l,typeof o.parse=="function"){let u=o.parse(this,{minPrec:0});if(u!==null)return u}return o.name?[o.name,this.parseExpression()??this.error("missing",e)]:this.error("unexpected-operator",e)}if(r=this.peekDefinitions("infix"),r.length>0){let[o,l]=r[0];this.index+=l;let u=o.parse(this,this.error("missing",e),{minPrec:0});return u!==null?u:this.error("unexpected-operator",e)}}let i=this.index,n=eR(this);if(n!==null)return n;if(n=I5(this),n!==null)return this.error(["unexpected-identifier",{str:n}],i);let a=this.peek;if(!a)return this.error("syntax-error",e);if(Q9e(this))return this.error("unexpected-delimiter",e);if(a[0]!=="\\")return this.error(["unexpected-token",{str:$u(a)}],e);let s=this.nextToken();if(this.skipSpaceTokens(),s==="\\end"){let o=this.parseStringGroup();return o===null?this.error("expected-environment-name",e):this.error(["unbalanced-environment",{str:o}],e)}for(;this.match("[");){let o=0;for(;!this.atEnd&&o===0&&this.peek!=="]";)this.peek==="["&&(o+=1),this.peek==="]"&&(o-=1),this.nextToken();this.match("]")}for(;this.match("<{>");){let o=0;for(;!this.atEnd&&o===0&&this.peek!=="<}>";)this.peek==="<{>"&&(o+=1),this.peek==="<}>"&&(o-=1),this.nextToken();this.match("<}>")}return this.error(["unexpected-command",{str:$u(s)}],e)}parsePrimary(e){var n,a;if(this.atBoundary||this.atTerminator(e))return null;let r=null,i=this.index;if(this.match("<}>"))return this.error("unexpected-closing-delimiter",i);if(r??(r=this.parseGroup()),r??(r=this.parseNumber()),r??(r=this.parseEnclosure()),r??(r=this.parseEnvironment(e)),r===null&&this.matchAll(this._positiveInfinityTokens)&&(r="PositiveInfinity"),r===null&&this.matchAll(this._negativeInfinityTokens)&&(r="NegativeInfinity"),r===null&&this.matchAll(this._notANumberTokens)&&(r="NaN"),r===null&&this.matchAll(this._imaginaryUnitTokens)&&(r="ImaginaryUnit"),r??(r=this.parseGenericExpression(e)??this.parseFunction(e)??this.parseSymbol(e)??eR(this)),r!==null){r=this.decorate(r,i);let s=null,o=this.index;do{if(s=this.parsePostfixOperator(r,e),r=s??r,this.index===o&&s!==null){this.index;break}o=this.index}while(s!==null)}return r!==null&&(r=this.parseSupsub(r)),r===null&&(r=((a=(n=this.options).parseUnexpectedToken)==null?void 0:a.call(n,null,this))??null,r===null&&this.peek.startsWith("\\")&&(this.nextToken(),r=this.error("unexpected-command",i))),this.decorate(r,i)}parseExpression(e){var n,a;this.skipSpace();let r=this.index;if(this.atBoundary)return this.index=r,null;e??(e={minPrec:0}),e.minPrec,e.minPrec===void 0&&(e={...e,minPrec:0});let i=this.parsePrefixOperator({...e,minPrec:0});if(i===null&&(i=this.parsePrimary(e),ya(i)&&(i=null)),i!==null){let s=!1;for(;!s&&!this.atTerminator(e);){this.skipSpace();let o=this.parseInfixOperator(i,e);if(o===null&&e.minPrec<=650&&this.peekDefinitions("operator").length===0){let l=this.parseExpression({...e,minPrec:651});l!==null?Nt(i)==="InvisibleOperator"?Nt(l)==="InvisibleOperator"?o=["InvisibleOperator",...nr(i),...nr(l)]:o=["InvisibleOperator",...nr(i),l]:Nt(l)==="InvisibleOperator"?o=["InvisibleOperator",i,...nr(l)]:o=["InvisibleOperator",i,l]:o===null&&(o=((a=(n=this.options).parseUnexpectedToken)==null?void 0:a.call(n,i,this))??null)}o!==null?i=o:s=!0}}return this.decorate(i,r)}decorate(e,r){if(e===null)return null;if(!this.options.preserveLatex)return e;let i=this.latex(r,this.index);return Array.isArray(e)?e={latex:i,fn:e}:typeof e=="number"?e={latex:i,num:Number(e).toString()}:typeof e=="string"?e={latex:i,sym:e}:typeof e=="object"&&e!==null&&(e.latex=i),e}error(e,r){let i;typeof e=="string"?(e.startsWith("'"),i={str:e}):(e[0].startsWith("'"),i=["ErrorCode",{str:e[0]},...e.slice(1)]);let n=this.latex(r,this.index);return n?["Error",i,["LatexString",{str:n}]]:["Error",i]}isFunctionOperator(e){return e===null?!1:this.getIdentifierType(e)==="function"}*getDefs(e){if(e==="operator")for(let r=this._dictionary.defs.length-1;r>=0;r--){let i=this._dictionary.defs[r];/^prefix|infix|postfix/.test(i.kind)&&(yield i)}else for(let r=this._dictionary.defs.length-1;r>=0;r--){let i=this._dictionary.defs[r];i.kind===e&&(yield i)}}};function X9e(t,e){var a;let r=t.index,i=(a=I5(t))==null?void 0:a.trim();if(i===null)return 0;let n=i!==e?0:t.index-r;return t.index=r,n}function Q9e(t){let e=t.peek;return Object.values(H9).includes(e)||H9[e]?(t.nextToken(),!0):Z9[e]||Object.values(Z9).includes(e)?(t.nextToken(),t.nextToken(),!0):!1}function tR(t){let e=t.index;if(t.matchAll(["\\overset","<{>"])&&(t.match(".")||t.match("\\cdots"))&&t.matchAll(["<}>","<{>"])){let r=t.nextToken();if(r&&/^\d$/.test(r)&&t.match("<}>"))return r}return t.index=e,null}function J9e(t){let e=t.peek;return e==="\\overline"||e==="\\overset"||e==="\\wideparent"||e==="\\overarc"||e==="("||e==="\\left"}function ewe(t,e,r){let i=new K9e(as(t),e,r),n=i.parseExpression();if(!i.atEnd){let a=i.parseSyntaxError();n=n!==null?["Sequence",n,a]:a}return n??(n="Nothing"),r.preserveLatex&&(Array.isArray(n)?n={latex:t,fn:n}:typeof n=="number"?n={latex:t,num:Number(n).toString()}:typeof n=="string"&&n.startsWith("'")&&n.endsWith("'")?n={latex:t,str:n.slice(1,-1)}:typeof n=="string"?n={latex:t,sym:n}:typeof n=="object"&&n!==null&&(n.latex=t)),n}function W9(t){return t===0?{num:"0"}:Number.isInteger(t)&&Math.abs(t)<en?t:{num:t.toString()}}var twe=["\\varphi -> \\frac{1+\\sqrt{5}}{2}",rwe,iwe,t=>{let e=B0(t);return e?{value:e,because:"expand"}:void 0},t=>{if(t.operator==="Add")return{value:Cs(...t.ops.map(e=>e.canonical.simplify())),because:"addition"}},t=>{if(t.operator==="Negate")return{value:t.op1.neg(),because:"negation"}},t=>{if(t.operator==="Multiply")return{value:Cl(...t.ops.map(e=>e.canonical.simplify())),because:"multiplication"}},t=>{if(t.operator==="Divide")return{value:t.op1.div(t.op2),because:"division"};if(t.operator==="Rational"&&t.nops===2)return{value:t.op1.div(t.op2),because:"rational"}},t=>{if(!t.op1.isNumberLiteral)return;if(t.operator==="Sqrt"){if(t.op1.isNegative)return{value:t.engine.box(["Multiply",["Sqrt",t.op1.neg()],"ImaginaryUnit"]).simplify(),because:"sqrt"};let i=t.op1.sqrt();return rR(i.numericValue)?{value:i,because:"sqrt"}:void 0}let e=t.op1,r=t.op2;if(r.isNumberLiteral&&e.isInteger&&r.isInteger&&e.re<en&&r.re<en){if(t.operator==="Power")return{value:t.op1.pow(t.op2),because:"power"};if(t.operator==="Root"){let i=t.op1.root(t.op2);if(rR(i.numericValue))return{value:t.op1.root(t.op2),because:"root"}}}},t=>{if(t.operator!=="Abs")return;let e=t.op1;if(e.isNonNegative)return{value:e,because:"|x| -> x"};if(e.isNegative)return{value:e.neg(),because:"|x| -> -x"}},t=>{if(t.operator!=="Sign")return;let e=t.sgn,r=t.engine;if(e!==void 0){if(e==="positive")return{value:r.One,because:"sign positive"};if(e==="negative")return{value:r.One,because:"sign negative"};if(e==="zero")return{value:r.Zero,because:"sign zero"};if(e==="unsigned")return{value:r.NaN,because:"sign unsinged"}}},t=>{if(t.operator==="Ln")return{value:t.op1.ln(t.ops[1]),because:"ln"};if(t.operator==="Log")return{value:t.op1.ln(t.ops[1]??10),because:"log"}},t=>{if(t.operator==="Max"){if(t.nops===0)return{value:t.engine.NegativeInfinity,because:"max"};if(t.nops===1)return{value:t.op1,because:"max"}}else if(t.operator==="Min"){if(t.nops===0)return{value:t.engine.PositiveInfinity,because:"min"};if(t.nops===1)return{value:t.op1,because:"min"}}else if(t.operator==="Supremum"){if(t.nops===0)return{value:t.engine.NegativeInfinity,because:"sup"};if(t.nops===1)return{value:t.op1,because:"sup"}}else if(t.operator==="Infimum"){if(t.nops===0)return{value:t.engine.PositiveInfinity,because:"inf"};if(t.nops===1)return{value:t.op1,because:"inf"}}},t=>{if(t.operator!=="Derivative")return;let e=t.engine,[r,i]=t.ops;if(t.nops===2)return{value:e.function("Derivative",[r.simplify(),i]),because:"derivative"};if(t.nops===1)return{value:e.function("Derivative",[r.simplify()]),because:"derivative"}},t=>t.operator!=="Hypot"?void 0:{value:t.engine.box(["Sqrt",["Add",["Square",t.op1],["Square",t.op2]]]).simplify(),because:"hypot(x,y) -> sqrt(x^2+y^2)"},t=>{if(t.operator!=="Congruent"||t.nops<3)return;let e=t.engine;return{value:e._fn("Equal",[e.function("Mod",[t.ops[0],t.ops[2]]).simplify(),e.function("Mod",[t.ops[1],t.ops[2]]).simplify()]).simplify(),because:"congruent"}},t=>{t.operator},t=>{if(!GP(t))return;let e=j9(t.operator,t.op1);if(e)return{value:e,because:"constructible value"}},t=>{if(t.operator!=="InverseFunction")return;let e=R9(t.engine,t.ops);if(e)return{value:e,because:"inverse function"}},t=>{if(t.operator!=="Arctan2")return;let[e,r]=t.ops,i=t.engine;return e.isFinite===!1&&r.isFinite===!1?{value:i.NaN,because:"arctan2"}:e.is(0)&&r.is(0)?{value:i.Zero,because:"arctan2"}:r.isFinite===!1?{value:r.isPositive?i.Zero:i.Pi,because:"arctan2"}:e.isFinite===!1?{value:e.isPositive?i.Pi.div(2):i.Pi.div(-2),because:"arctan2"}:e.is(0)?{value:r.isPositive?i.Zero:i.Pi,because:"arctan2"}:{value:i.function("Arctan",[e.div(r)]).simplify(),because:"arctan2"}},"\\arcsinh(x) -> \\ln(x+\\sqrt{x^2+1})","\\arccosh(x) -> \\ln(x+\\sqrt{x^2-1})","\\arctanh(x) -> \\frac{1}{2}\\ln(\\frac{1+x}{1-x})","\\arccoth(x) -> \\frac{1}{2}\\ln(\\frac{x+1}{x-1})","\\arcsech(x) -> \\ln(\\frac{1+\\sqrt{1-x^2}}{x})","\\arccsch(x) -> \\ln(\\frac{1}{x} + \\sqrt{\\frac{1}{x^2}+1})",S9e];function rwe(t){if(!V3(t)&&!MO(t))return;let e=t,r=t.engine,i=t.op1.simplify(),n=t.op2.simplify();if(t=r.function(t.operator,[i,n]),t=s2(t)??t,Vc(t.operator),t.nops===2&&!t.op2.is(0)){let a=s2(r.function(t.operator,[t.op1.sub(t.op2),r.Zero]));r.costFunction(a)<r.costFunction(t)&&(t=a)}if(!t.isSame(e))return{value:t,because:"simplify-relational-operator"}}function iwe(t){return t.operator!=="List"||!t.ops.every(e=>MO(e)||V3(e))?void 0:{value:t.engine.function("List",t.ops.map(e=>e.simplify())),because:"simplify-system-of-equations"}}function rR(t){return t===null?!1:typeof t=="number"?Number.isInteger(t):t.isExact}var iR=class hb{constructor(e){if(this.decimalSeparator=".",this._cache={},this._commonSymbols={True:null,False:null,All:null,Nothing:null,None:null,Undefined:null,Pi:null,ImaginaryUnit:null,ExponentialE:null},this._commonNumbers={"-5":null,"-4":null,"-3":null,"-2":null,2:null,3:null,4:null,5:null,6:null,7:null,8:null,9:null,10:null,11:null,12:null,36:null},this.generation=0,this._timeLimit=2e3,this._deadline=void 0,this._iterationLimit=1024,this._recursionLimit=1024,e!==void 0&&typeof e!="object")throw Error("Unexpected argument");this.strict=!0,this._stats={highwaterMark:0,symbols:new Set,expressions:new Set};let r=(e==null?void 0:e.precision)??bO;r==="machine"&&(r=Math.floor(d1)),this._bignum=Ui.clone({precision:r}),this._precision=r,this.tolerance=(e==null?void 0:e.tolerance)??"auto",this._angularUnit="rad",this.Zero=new Dl(this,0),this.One=new Dl(this,1),this.Half=new Dl(this,{rational:[1,2]}),this.NegativeOne=new Dl(this,-1),this.Two=new Dl(this,2),this.NaN=new Dl(this,Number.NaN),this.PositiveInfinity=new Dl(this,Number.POSITIVE_INFINITY),this.NegativeInfinity=new Dl(this,Number.NEGATIVE_INFINITY),this.I=new Dl(this,{im:1}),this.ComplexInfinity=new Dl(this,{re:1/0,im:1/0}),this.reset(),this.context={assumptions:new U9};for(let n of hb.getStandardLibrary("domains"))YP(this,n);let i=(e==null?void 0:e.ids)??hb.getStandardLibrary();for(let n of i)YP(this,n);for(let n of Object.keys(this._commonSymbols)){let a=new Nd(this,n,{canonical:!0});a.bind(),this._commonSymbols[n]=a}this.True=this._commonSymbols.True,this.False=this._commonSymbols.False,this.Pi=this._commonSymbols.Pi,this.E=this._commonSymbols.ExponentialE,this.Nothing=this._commonSymbols.Nothing,this.pushScope(),Q7e(this)}static getStandardLibrary(e="all"){return WP(e)}static getLatexDictionary(e="all"){return E8e(e)}toString(){return"[ComputeEngine]"}get latexDictionary(){return this._latexDictionaryInput??hb.getLatexDictionary()}set latexDictionary(e){this._latexDictionaryInput=e,this._indexedLatexDictionary=dF(e,r=>{throw Error(typeof r.message=="string"?r.message:r.message.join(","))})}get indexedLatexDictionary(){return this._indexedLatexDictionary??(this._indexedLatexDictionary=dF(this.latexDictionary,e=>console.error(e))),this._indexedLatexDictionary}reset(){this._bignum,this.generation+=1,this._BIGNUM_NEGATIVE_ONE=this.bignum(-1),this._BIGNUM_NAN=this.bignum(NaN),this._BIGNUM_ZERO=this.bignum(0),this._BIGNUM_ONE=this.bignum(1),this._BIGNUM_TWO=this.bignum(2),this._BIGNUM_HALF=this._BIGNUM_ONE.div(this._BIGNUM_TWO),this._BIGNUM_PI=this._BIGNUM_NEGATIVE_ONE.acos();let e=this._stats.symbols.values(),r=this._stats.expressions.values();this._stats.symbols=new Set,this._stats.expressions=new Set;for(let n of e)n.reset();for(let n of r)n.reset();for(let n of Object.values(this._commonSymbols))n==null||n.reset();let i=this.context;for(;i;){if(i.ids)for(let[n,a]of i.ids)a.reset();i=i.parentScope??null}for(let n of Object.keys(this._cache))this._cache[n].value&&(this._cache[n].purge?this._cache[n].value=this._cache[n].purge(this._cache[n].value):delete this._cache[n])}_register(e){this._stats.highwaterMark+=1}_unregister(e){}get stats(){let e=this._stats.expressions;return this._stats.expressions=null,this._stats.expressions=e,{...this._stats}}get precision(){return this._precision}set precision(e){e==="machine"&&(e=d1),e==="auto"&&(e=bO);let r=this._precision;if(e!==r){if(typeof e!="number"||e<=0)throw Error('Expected "machine" or a positive number');this._precision=Math.max(e,d1),this._bignum=this._bignum.config({precision:this._precision}),this.tolerance="auto",this.reset()}}get angularUnit(){return this._angularUnit}set angularUnit(e){if(e!==this._angularUnit){if(typeof e!="string")throw Error("Expected a string");this._angularUnit=e,this.reset()}}get timeLimit(){return this._timeLimit}set timeLimit(e){e<=0&&(e=Number.POSITIVE_INFINITY),this._timeLimit=e}get _timeRemaining(){return this.deadline===void 0?Number.POSITIVE_INFINITY:this.deadline-Date.now()}get iterationLimit(){return this._iterationLimit}set iterationLimit(e){e<=0&&(e=Number.POSITIVE_INFINITY),this._iterationLimit=e}get recursionLimit(){return this._recursionLimit}set recursionLimit(e){e<=0&&(e=Number.POSITIVE_INFINITY),this._recursionLimit=e}get tolerance(){return this._tolerance}set tolerance(e){e==="auto"&&(e=xO),(!Number.isFinite(e)||e<0)&&(e=Math.pow(10,-this._precision+2)),this._tolerance=e,this._bignumTolerance=this.bignum(e),this._negBignumTolerance=this.bignum(-e)}chop(e){return typeof e=="number"?Math.abs(e)<=this._tolerance?0:e:e instanceof Ui?e.isPositive()&&e.lte(this._bignumTolerance)||e.isNegative()&&e.gte(this._negBignumTolerance)||e.isZero()?0:e:e instanceof yn&&Math.abs(e.re)<=this._tolerance&&Math.abs(e.im)<=this._tolerance?0:e}bignum(e){if(typeof e=="bigint")return new this._bignum(e.toString());try{return new this._bignum(e)}catch(r){console.error(r.message)}return this._BIGNUM_NAN}complex(e,r){return e instanceof Ui&&(e=e.toNumber()),r instanceof Ui&&(r=r.toNumber()),new yn(e,r)}_numericValue(e){if(e instanceof us)return e.asExact??e;let r=n=>this.bignum(n),i=this._precision>d1?n=>new i9(n,r):n=>new n9(n,r);if(typeof e=="number")return Number.isInteger(e)?new Ms(e,i,r):i(e);if(typeof e=="bigint")return new Ms(e,i,r);if(hd(e))return new Ms({rational:e},i,r);if(e instanceof Ui)return e.isInteger()&&e.e<=pxe?new Ms(Rs(e.toString()),i,r):i(e);if(e instanceof yn)return e.im===0?this._numericValue(e.re):i({re:e.re,im:e.im});if("im"in e||"re"in e)return e.im!==void 0&&e.im!==0?i(e):e.re instanceof Ui&&e.re.isInteger()?new Ms({rational:[Rs(e.re.toString()),BigInt(1)]},i,r):typeof e.re=="number"&&Number.isInteger(e.re)?new Ms({rational:[e.re,1]},i,r):i(e);if("radical"in e||"rational"in e){if(e.radical!==void 0&&(!Number.isInteger(e.radical)||e.radical>=en))throw Error("Unexpected value for radical part:"+e.radical);return e.rational&&va(e.rational)&&(!Number.isInteger(e.rational[0])||!Number.isInteger(e.rational[1]))?i(e):new Ms(e,i,r)}throw Error("Unexpected value")}get costFunction(){return this._cost??KP}set costFunction(e){typeof e!="function"&&(this._cost=KP),this._cost=e}lookupSymbol(e,r,i){var a,s;if(!this.strict){for(i??(i=this.context??void 0);i;){let o=(a=i.ids)==null?void 0:a.get(e);if(o&&o instanceof Ns)return o;i=i.parentScope}return}if(typeof e!="string")throw Error("Expected a string");if(e.length===0||!this.context)return;let n=i??this.context;if(r)for(i=n;i;){if(i.ids){for(let[o,l]of i.ids)if(l instanceof Ns&&l.wikidata===r)return l}i=i.parentScope}for(i=n;i;){let o=(s=i.ids)==null?void 0:s.get(e);if(o instanceof Ns)return o;i=i.parentScope}}lookupFunction(e,r){var i;if(typeof e=="string"&&this.context)for(r??(r=this.context);r;){let n=(i=r.ids)==null?void 0:i.get(e);if(n instanceof F0)return n;r=r.parentScope}}defineSymbol(e,r){if(!this.context)throw Error("Symbol cannot be defined: no scope available");if(e.length===0||!Zo(e))throw Error(`Invalid identifier "${e}": ${v1(e)}}`);return this._defineSymbol(e,r)}_defineSymbol(e,r){var i;(i=this.context).ids??(i.ids=new Map);let n=new Ns(this,e,r);return n.name&&this.context.ids.set(n.name,n),this.generation+=1,n}defineFunction(e,r){if(!this.context)throw Error("Function cannot be defined: no scope available");if(e.length===0||!Zo(e))throw Error(`Invalid identifier "${e}": ${v1(e)}}`);return this._defineFunction(e,r)}_defineFunction(e,r){var i;(i=this.context).ids??(i.ids=new Map);let n=HP(this,e,r);return n.name&&this.context.ids.set(n.name,n),this.generation+=1,n}pushScope(e){if(this.context===null)throw Error("No parent scope available");return this.context={...e??{},parentScope:this.context,assumptions:new U9(this.context.assumptions)},this}popScope(){if(!this.context)throw Error("No scope available");return this.context=this.context.parentScope??null,this.context,this}swapScope(e){let r=this.context;return e&&(this.context=e),r}_printScope(e,r,i=0){var a,s;if(e??(e={details:!1,maxDepth:1}),r??(r=this.context),!r||e.maxDepth&&i>e.maxDepth)return null;let n=`${G9e}[undefined]${_5}`;if(i===0?console.group("current scope - level 0"):console.groupCollapsed(r.parentScope?`scope - level ${i}`:`root scope - level ${i}`),r.ids){let o=0;for(let[l,u]of r.ids){let c=`${Z9e}${l}${_5}`;try{if(u instanceof Ns){let h=(a=u.value)!=null&&a.isValid?u.value.toString():u.value?`${QP}${u.value.toString()}${_5}`:n;console.info(`${c}: ${((s=u.type)==null?void 0:s.toString())??n} = ${h}`)}else u instanceof F0&&(typeof u.evaluate=="function"?console.info(`${c}(): ${e.details?u.evaluate.toString():"[native-code]"}`):u.evaluate===void 0?console.info(`${c}(): ${n}`):console.info(`${c}(): ${u.toString()}`));o===11&&console.groupCollapsed(`... and ${r.ids.size-o} more`),o+=1}catch(h){console.info(`${c}: ${QP}${h.message}${_5}`)}}o>=11&&console.groupEnd()}if(r.assumptions){let o=[...r.assumptions.entries()].map(([l,u])=>`${l}: ${u}`);if(o.length>0){console.groupCollapsed(`${o.length} assumptions)`);for(let l of o)console.info(l);console.groupEnd()}}return r.parentScope&&this._printScope(e,r.parentScope,i+1),console.groupEnd(),this.context}resetContext(){if(this.context)for(let[e,r]of this.context.ids??[])r instanceof Ns?r.constant||(r.value=void 0):r instanceof F0&&(r.evaluate=void 0,r.canonical=void 0)}declare(e,r){var s,o;if(typeof e!="string"||r===void 0){for(let[l,u]of Object.entries(e))this.declare(l,u);return this}let[i,n]=SF(e);if(n!==void 0)throw Error(`Unexpected arguments "${e}". It should be a plain identifier. Use 'ce.assign()' instead to assign a value, or a use a function definition with 'ce.declare()'.`);if(i==="Nothing")return this;if(!r)throw Error(`Expected a definition or type for "${i}"`);if((o=(s=this.context)==null?void 0:s.ids)!=null&&o.get(i)){let l=this.context.ids.get(i);this.generation+=1;let u=!1,c=!1;try{u=L7(r),c=T7(r)}catch(h){console.error([`
Invalid definition for "${i}"`,h.message].join(`
|   `)+`
`)}if(l instanceof Ns&&l.inferredType){if(u)throw new Error(`Cannot redeclare the symbol "${i}" as a function`);return c?l.update(r):(l.type=Mi(r),l.inferredType=!1),this}if(l instanceof F0&&l.inferredSignature){if(u)l.update(r);else{if(c)throw new Error(`Cannot redeclare the function "${i}" as a symbol`);l.update({signature:Mi(r)})}return this}throw l instanceof F0?Error([`The symbol "${i}" has already been declared in the current scope as a function with signature ${l.signature}.`,`You may use 'ce.assign("${i}", ...)' to assign a new value to this function.`].join(`
|   `)):Error([`The symbol "${i}" has already been declared in the current scope.`,`You may use 'ce.assign("${i}", ...)' to assign a new value to this symbol.`].join(`
|   `))}let a=r;if(typeof a=="object"&&"type"in a&&(typeof a.type=="string"&&ur(a.type,"function")||a.type&&!Df(a.type)))throw new Error(`Invalid definition for "${i}": use a FunctionDefinition to define a function or use 'ce.declare("${i}", "function")'`);if(T7(a))return this.defineSymbol(i,a),this;if(L7(a))return this.defineFunction(i,a),this;{let l=Mi(a);if(!Df(l))throw typeof a=="object"&&"N"in a?Error([`Invalid argument for "${i}"`,"Use `evaluate` handler instead of `N`"].join(`
|   `)):Error([`Invalid argument for "${i}"`,JSON.stringify(a),"Use a type, a `FunctionDefinition` or a `SymbolDefinition`"].join(`
|   `));l==="function"?this.defineFunction(i,{signature:"...unknown -> unknown"}):O3(l)?this.defineFunction(i,{signature:l}):this.defineSymbol(i,{type:l})}return this}assign(e,r){var l,u,c;if(typeof e=="object"){for(let[h,p]of Object.entries(e))this.assign(h,p);return this}let[i,n]=SF(e);if(i==="Nothing")return this;let a=r;typeof a=="boolean"&&(a=a?this.True:this.False);let s=this.lookupSymbol(i);if(s){if(s.constant)throw Error(`Cannot change the value of the constant "${i}"`);if(!s.type.isUnknown&&!s.inferredType&&Y9(a))throw Error(`Cannot assign a function to symbol "${i}"`);let h=s.scope;if((l=h==null?void 0:h.ids)==null||l.delete(s.name),!n&&!Y9(a))return a==null?s.value=void 0:s.value=this.box(a),(u=h==null?void 0:h.ids)==null||u.set(s.name,s),this.generation+=1,this}let o=this.lookupFunction(i);if(o){let h=o.scope;if((c=h==null?void 0:h.ids)==null||c.delete(o.name),a==null)return this;if(typeof a=="function"){let f=this.swapScope(h);return this.defineFunction(i,{evaluate:a}),this.swapScope(f),this}if(n&&Y9(a))throw Error(`Unexpected arguments for "${i}"`);let p=n?this.box(["Function",a,...n]):this.box(a);if(!p.isValid)throw Error(`Invalid function ${p.toString()}`);let d=this.swapScope(h),m=Yc(p);return this.defineFunction(i,{evaluate:f=>m(f)}),this.swapScope(d),this.generation+=1,this}if(a==null)return this.declare(i,{inferred:!0,type:"unknown"}),this;if(typeof a=="function")return this.defineFunction(i,{evaluate:a}),this;if(a instanceof qs&&(a.type.type==="function"||O3(a.type.type)))return this.defineFunction(i,{evaluate:a,signature:a.type.type}),this;if(Array.isArray(a)||a instanceof qs||n){let h=this.box(a,{canonical:!1});if(h.operator==="Hold")return this.defineSymbol(i,{value:h,type:"unknown"}),this;if(h.operator==="Function")return h=this.box(["Function",...h.ops,...(n??[]).map(d=>this.symbol(d))]),this.defineFunction(i,{evaluate:h,signature:h.type.type}),this;let p=[...h.unknowns].sort();if(p.length===0){let d=h.evaluate();return this.defineSymbol(i,{value:d}),this}if(p.some(d=>/\_[\d]+/.test(d)))return h=this.box(["Function",h]),this.defineFunction(i,{evaluate:h,signature:h.type.type}),this;if(n&&n.length>0)return this.pushScope(),h=this.box(["Function",h,...n]),this.popScope(),this.defineFunction(i,{evaluate:h,signature:h.type.type}),this;this.pushScope(),a=h.evaluate(),this.popScope()}return this.defineSymbol(i,{value:a}),this}_assign(e,r){let i=this.lookupSymbol(e);if(i){i.value=r.evaluate(),this.generation+=1;return}let n=this.lookupFunction(e);if(n){n.canonical=void 0,n.evaluate=r,this.generation+=1;return}}shouldContinueExecution(){return this.deadline===void 0||this.deadline>=Date.now()}checkContinueExecution(){if(!this.shouldContinueExecution())throw new Error("timeout")}cache(e,r,i){var n;if(this._cache[e]===void 0)try{this._cache[e]={build:r,purge:i,value:r()}}catch(a){console.error(`Fatal error building cache "${e}":
	 ${a.toString()}`)}return(n=this._cache[e])==null?void 0:n.value}box(e,r){return O0(this,e,r)}function(e,r,i){return O9(this,e,r,i)}error(e,r){let i;typeof e=="string"?i=this.string(e):i=this._fn("ErrorCode",e.map(s=>this.string(s)));let n;r&&$7(r)?n=this._fn("LatexString",[this.string(_f(r))]):typeof r=="string"&&r.length>0&&(n=this.string(r));let a=[this.box(i)];return n&&a.push(n),new Fu(this,"Error",a,{canonical:!1})}typeError(e,r,i){return r?this.error(["incompatible-type",fa(e),r.toString()],i):this.error(["incompatible-type",fa(e)],i)}hold(e){return this._fn("Hold",[this.box(e,{canonical:!1})])}tuple(...e){return new Fu(this,"Tuple",e.map(r=>typeof r=="number"?this.number(r):r.canonical),{canonical:!0})}type(e){return e instanceof Ji?e:new Ji(e)}string(e,r){return new wd(this,e,r)}symbol(e,r){var n,a,s;if(r=r?{...r}:{},"canonical"in r||(r.canonical=!0),e=e.normalize(),e==="NaN")return this.NaN;if(e==="Infinity"||e==="+Infinity"||e==="PositiveInfinity")return this.PositiveInfinity;if(e==="-Infinity"||e==="NegativeInfinity")return this.NegativeInfinity;if(e==="Half")return this.Half;if(this.strict&&!Zo(e)){let o=(n=r==null?void 0:r.metadata)==null?void 0:n.latex;return this.error(["invalid-identifier",v1(e)],o?`$$${o}$$`:e)}if(((a=r==null?void 0:r.metadata)==null?void 0:a.latex)!==void 0&&r.canonical!==!0)return new Nd(this,e,r);let i=this._commonSymbols[e];return i&&(!((s=r==null?void 0:r.metadata)!=null&&s.wikidata)||!i.wikidata||i.wikidata===r.metadata.wikidata)?i:r.canonical===!0?V9e(this,e):new Nd(this,e,r)}number(e,r){var i;let n=r==null?void 0:r.metadata,a=!1;if((!r||r.canonical===void 0||r.canonical==="Number"||r.canonical===!0||Array.isArray(r.canonical)&&r.canonical.includes("Number"))&&(a=!0),!a&&hd(e))return this._fn("Rational",[this.number(e[0]),this.number(e[1])],{...n,canonical:!1});if(e=V9(this,e),n===void 0){if(typeof e=="number"){let s=e;if(s===1)return this.One;if(s===0)return this.Zero;if(s===-1)return this.NegativeOne;if(s===2)return this.Two;if(Number.isInteger(s)&&this._commonNumbers[s]!==void 0)return(i=this._commonNumbers)[s]??(i[s]=new Dl(this,e)),this._commonNumbers[s];if(Number.isNaN(s))return this.NaN;if(!Number.isFinite(s))return s<0?this.NegativeInfinity:this.PositiveInfinity}else if(e instanceof us){if(e.isZero)return this.Zero;if(e.isOne)return this.One;if(e.isNegativeOne)return this.NegativeOne;if(e.isNaN)return this.NaN;if(e.isNegativeInfinity)return this.NegativeInfinity;if(e.isPositiveInfinity)return this.PositiveInfinity}}return new Dl(this,e,{metadata:n})}rules(e,r){return f5(this,e,r)}getRuleSet(e){if(e??(e="standard-simplification"),e==="standard-simplification")return this.cache("standard-simplification-rules",()=>f5(this,twe,{canonical:!0}));if(e==="solve-univariate")return this.cache("univariate-roots-rules",()=>f5(this,f7e));if(e==="harmonization")return this.cache("harmonization-rules",()=>f5(this,g7e))}_fn(e,r,i){let n=(i==null?void 0:i.canonical)??!0;return new Fu(this,e,r,{...i,canonical:n})}parse(e,r){if(e==null)return null;if(typeof e!="string")throw Error("ce.parse(): expected a LaTeX string");let i={imaginaryUnit:"\\imaginaryI",positiveInfinity:"\\infty",negativeInfinity:"-\\infty",notANumber:"\\operatorname{NaN}",decimalSeparator:this.decimalSeparator,digitGroup:3,digitGroupSeparator:"\\,",exponentProduct:"\\cdot",beginExponentMarker:"10^{",endExponentMarker:"}",truncationMarker:"\\ldots",repeatingDecimal:"auto",skipSpace:!0,parseNumbers:"auto",getIdentifierType:a=>this.lookupFunction(a)?"function":"symbol",parseUnexpectedToken:(a,s)=>null,preserveLatex:!1},n=ewe(_f(e)??e,this.indexedLatexDictionary,{...i,...r});if(n===null)throw Error("Failed to parse LaTeX string");return this.box(n,{canonical:(r==null?void 0:r.canonical)??!0})}get assumptions(){if(!this.context)throw Error("No scope available");return this.context.assumptions?this.context.assumptions:(this.context.assumptions=new U9,this.context.assumptions)}ask(e){let r=this.box(e,{canonical:!1}),i=[];for(let[n,a]of this.assumptions){let s=r.match(n);s!==null&&a===!0&&i.push(s)}return i}verify(e){return!1}assume(e){try{let r=$7(e)?this.parse(e,{canonical:!1}):this.box(e,{canonical:!1});return this.generation+=1,y7e(r)}catch(r){throw console.error(r.message.toString()),r}}forget(e){if(!this.context)throw Error("No scope available");if(e===void 0){if(this.context.ids)for(let r of this.context.ids.keys())this.forget(r);this.generation+=1,this.assumptions.clear();return}if(Array.isArray(e)){for(let r of e)this.forget(r);return}if(typeof e=="string"){if(this.context.ids){let r=this.context.ids.get(e);r instanceof Ns?r.value=void 0:r instanceof F0&&(r.evaluate=void 0,r.canonical=void 0)}for(let[r,i]of this.assumptions)r.symbols.includes(e)&&this.assumptions.delete(r)}this.generation+=1}};function Y9(t){return!!(typeof t=="function"||t instanceof qs&&ur(t.type.type,"function"))}globalThis[Symbol.for("io.cortexjs.compute-engine")]={ComputeEngine:iR.prototype.constructor,version:"0.29.1"};/*! Bundled license information:

  complex-esm/dist/src/complex.js:
    (**
     * @license Complex.js v2.1.1 12/05/2020
     *
     * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
     * Dual licensed under the MIT or GPL Version 2 licenses.
     **)

  decimal.js/decimal.mjs:
    (*!
     *  decimal.js v10.5.0
     *  An arbitrary-precision Decimal type for JavaScript.
     *  https://github.com/MikeMcl/decimal.js
     *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
     *  MIT Licence
     *)
  */const ir=new iR;function nwe(t){return t.replaceAll(/dfrac/g,"frac")}function awe(t){let e;return e=t.replaceAll(/dfrac/g,"frac"),e=e.replace(/^-\\frac(?:(\d)(\d)|{(-?\d+)}{(-?\d+)})$/i,(r,i,n,a,s)=>`\\frac{${(i||a)*(n||s)>0?"-":""}${Math.abs(i||a)}}{${Math.abs(n||s)}}`),e=e.replace(/^\\frac(?:(\d)(\d)|{(-?\d+)}{(-?\d+)})$/i,(r,i,n,a,s)=>`\\frac{${(i||a)*(n||s)<0?"-":""}${Math.abs(i||a)}}{${Math.abs(n||s)}}`),e}function swe(t){return t.replaceAll(/\\div/g,"/")}function owe(t){return t.replace(/,/g,(e,r,i)=>r>0&&i[r-1]==="\\"?e:".")}function lwe(t){return t.replaceAll(/\\,/g,"")}function uwe(t){return lwe(owe(t.replaceAll(/\{,}/g,".")))}function cwe(t){const e=[/\s/g,/~/g,/\\,/g,/\\:/g,/\\;/g,/\\!/g,/\\quad/g,/\\qquad/g];for(const r of e)t=t.replace(r,"");return t}function hwe(t){let e=t;for(;e.includes("  ");)e=e.replace("  "," ");return e[0]===" "&&(e=e.substring(1,e.length)),e[e.length-1]===" "&&(e=e.substring(0,e.length-1)),e}function pwe(t){return t.replaceAll(/\\,/g," ")}function dwe(t){return t.replaceAll(/\\lparen(\+?-?\d+,?\.?\d*)\\rparen/g,"($1)").replaceAll(/\\left\((\+?-?\d+)\\right\)/g,"($1)").replaceAll(/\\lparen(\+?-?\d+)\\rparen/g,"($1)").replaceAll(/\\left\\{(.*?)\\right\\}/g,"\\{$1\\}").replaceAll("\\lparen","(").replaceAll("\\rparen",")").replaceAll("\\left\\lbrack","[").replaceAll("\\right\\rbrack","]").replaceAll("\\right\\lbrack","[").replaceAll("\\left\\rbrack","]").replaceAll("\\left[","[").replaceAll("\\right]","]").replaceAll("\\right[","[").replaceAll("\\left]","]").replace(/\{\}/g,(e,r,i)=>r>0&&i[r-1]==="^"||i==="{}"?e:"")}function mwe(t){return t.replace(/\\mathrm\{(\w+)}/g,"$1")}function fwe(t){return t.replaceAll("}}","").replaceAll("{\\text{","").replaceAll("{\\:\\text{","").replaceAll("}\\:}","")}function gwe(t){return t.replaceAll("²","^2").replaceAll("³","^3").replaceAll("^{}","").replaceAll("^{^","^{")}function vwe(t){const e=t.match(/(\\text\{)(.*)}/);return e&&(e==null?void 0:e.length)>2?e[2]:t}function ywe(t){return t.match(/\D*1([a-z])/)?t.replace(/(\D*)1([a-z])/g,"$1$2"):t}function Us(t){const e=t.map(r=>{switch(r){case"fractions":return nwe;case"fractionsMemesNegatives":return awe;case"virgules":return uwe;case"espaces":return cwe;case"parentheses":return dwe;case"puissances":return gwe;case"mathrm":return mwe;case"divisions":return swe;case"latex":return vwe;case"foisUn":return ywe;case"unites":return fwe;case"doubleEspaces":return hwe;case"espaceNormal":return pwe;default:throw new Error(`Unsupported cleaning operation: ${r}`)}});return r=>{let i=String(r);return i=i.replaceAll("_{}","").replaceAll("^{}",""),e.reduce((n,a)=>a(n),i)}}function bwe(t){if(t.indexOf("°C")>0){const i=t.split("°C");return new $a(Number.parseFloat(i[0].replace(",",".")),"°C")}if(t.indexOf("°")>0){const i=t.split("°");return new $a(Number.parseFloat(i[0].replace(",",".")),"°")}if(t.split("operatorname").length!==2)return!1;const e=t.split("\\operatorname{"),r=Number.parseFloat(e[0].replace(",","."));if(e[1]){const i=e[1].split("}"),n=i[0]+i[1];return new $a(r,n)}return!1}function T5(t){if(t.operator==="Multiply")return t.ops==null?(window.notify("flatten a rencontré un problème avec une multiplication sans opérandes",{expr:t}),ir.parse(t.latex)):ir.box(["Multiply",...t.ops.map(r=>T5(r))]);const e=["Power","Square"].includes(t.op1.operator)?T5(t.op1):t.op1;if(t.operator==="Square")return ir.box(["Multiply",e,e],{canonical:!0});if(t.operator==="Power"&&t.op2.operator==="Number"){const r=Number(t.op2.value),i=[];for(let n=0;n<r;n++)i.push(e);return ir.box(["Multiply",...i],{canonical:!0})}return t}function L5(t,e,r,i=!1){let n=r,a=0,s=0,o=!0;for(const l of e){let u=!1;for(const c of t){if(i&&c.isSame(l)||!i&&c.isEqual(l)){u=!0,a++;break}else if(i&&!c.isSame(l)&&c.isEqual(l)){s++;break}const h=ir.box(["Subtract","0",c.json],{canonical:!0});if(i&&l.isSame(h)||!i&&l.isEqual(h)){n=!n,u=!0,a++;break}else if(i&&!l.isSame(h)&&l.isEqual(h)){s++;break}}o&&(o=u)}return o?{isOk:n,feedback:n?"":"L'expression saisie est l'opposé de l'expression attendue."}:a>0?{isOk:!1,feedback:a>1?`Seulement $${a}$ facteurs sont corrects.`:`Seulement $${a}$ facteur est correct.`}:s>0?{isOk:!1,feedback:s>1?`$${a}$ facteurs ne sont pas sous la forme attendue.`:`$${a}$ facteur n'est pas  sous la forme attendue..`}:{isOk:!1,feedback:"Aucun facteur n'est correct."}}function xwe(t,e,{exclusifFactorisation:r=!1,nbFacteursIdentiquesFactorisation:i=!1,unSeulFacteurLitteral:n=!1}={}){const a=Us(["puissances","virgules","fractions","parentheses"]);let s=!0;const o=a(t);if(t.includes("\\times1\\")||t.endsWith("\\times1")||t.startsWith("1\\times"))return{isOk:!1,feedback:"Une factorisation par 1 a peu d'intérêt."};const l=a(e),u=ir.parse(o,{canonical:!0}),c=ir.parse(l,{canonical:!0});if(u==null||c==null)return window.notify("factorisationCompare a rencontré un problème en analysant la réponse ou la saisie ",{saisie:t,reponse:e}),{isOk:!1};let h=u.operator,p=c.operator,d=u,m=c;h==="Negate"&&(d=u.op1,h=d.operator,s=!s),p==="Negate"&&(m=c.op1,p=m.operator,s=!s);const f=ir.box(["ExpandAll",d]).evaluate().simplify().canonical,v=ir.box(["ExpandAll",m]).evaluate().simplify().canonical,y=f.isEqual(v);if(!["Multiply","Power","Square"].includes(h)){let b="L'expression saisie n'est pas factorisée";return b+=y?" bien qu'elle soit égale à l'expression attendue.":".",{isOk:!1,feedback:b}}const x=T5(m).ops,g=T5(d).ops;if(x==null)return window.notify("factorisationCompare a rencontré un problème en analysant la réponse. ",{reponse:e}),{isOk:!1,feedback:"Un problème a eu lieu lors de la comparaison."};if(g==null)return{isOk:!1,feedback:"L'expression saisie n'a pas le format attendu."};if(i){if(g.length>x.length)return y?{isOk:!1,feedback:"L'expression saisie est trop factorisée."}:{isOk:!1,feedback:"L'expression saisie a trop de facteurs."};if(g.length<x.length)return y?{isOk:!1,feedback:"L'expression saisie peut être davantage factorisée."}:{isOk:!1,feedback:"Il manque des facteurs à l'expression saisie."};const b=L5(g,x,s,r);if(!b.isOk)return{isOk:!1,feedback:`${b.feedback}`};const k=L5(x,g,s,r);return{isOk:k.isOk,feedback:`${k.feedback??""}`}}if(!y||r){const b=L5(g,x,s,r);if(!b.isOk)return{isOk:!1,feedback:`${b.feedback}`};const k=L5(x,g,s,r);return{isOk:k.isOk,feedback:`${k.feedback??""}`}}if(y&&n){let b=0;for(const k of g)isNaN(Number(k.json))||b++;if(b===g.length-1)return{isOk:!1,feedback:"L'expression saisie peut être davantage factorisée."}}return{isOk:!0}}function wwe(t,e){const i=Us(["unites"])(t),n=Nu.fromString(i);return{isOk:Nu.fromString(e).isTheSame(n)}}ir.latexDictionary=[...ir.latexDictionary.filter(t=>t.name!=="Subtract"),{...ir.latexDictionary.find(t=>t.name==="Subtract"),parse:(t,e,r)=>{t.index-=1;const i=t.parseExpression({...r,minPrec:278});return["Add",e,i]}}],ir.latexDictionary=[...ir.latexDictionary,{identifierTrigger:"G",name:"G"}];function cs(t,e,{expressionsForcementReduites:r,avecSigneMultiplier:i,avecFractions:n,sansTrigo:a,fractionIrreductible:s,fractionSimplifiee:o,fractionReduite:l,fractionDecimale:u,fractionEgale:c,fractionIdentique:h,nombreDecimalSeulement:p,expressionNumerique:d,additionSeulementEtNonResultat:m,soustractionSeulementEtNonResultat:f,multiplicationSeulementEtNonResultat:v,divisionSeulementEtNonResultat:y,ensembleDeNombres:x,fonction:g,kUplet:b,suiteDeNombres:k,suiteRangeeDeNombres:w,puissance:N,seulementCertainesPuissances:A,sansExposantUn:$,factorisation:D,exclusifFactorisation:_,nbFacteursIdentiquesFactorisation:T,unSeulFacteurLitteral:z,HMS:P,developpementEgal:q,intervalle:L,estDansIntervalle:Z,ecritureScientifique:W,unite:Y,precisionUnite:ie,texteAvecCasse:re,texteSansCasse:R,nombreAvecEspace:X,egaliteExpression:E,calculFormel:oe,nonReponseAcceptee:le,variable:ne,entier:H,domaine:ue}={expressionsForcementReduites:!0,avecSigneMultiplier:!0,avecFractions:!0,sansTrigo:!1,fractionIrreductible:!1,fractionSimplifiee:!1,fractionReduite:!1,fractionDecimale:!1,fractionEgale:!1,fractionIdentique:!1,nombreDecimalSeulement:!1,expressionNumerique:!1,additionSeulementEtNonResultat:!1,soustractionSeulementEtNonResultat:!1,multiplicationSeulementEtNonResultat:!1,divisionSeulementEtNonResultat:!1,ensembleDeNombres:!1,fonction:!1,kUplet:!1,seulementCertainesPuissances:!1,sansExposantUn:!1,suiteDeNombres:!1,suiteRangeeDeNombres:!1,factorisation:!1,exclusifFactorisation:!1,nbFacteursIdentiquesFactorisation:!1,unSeulFacteurLitteral:!1,HMS:!1,developpementEgal:!1,intervalle:!1,estDansIntervalle:!1,ecritureScientifique:!1,unite:!1,precisionUnite:0,puissance:!1,texteAvecCasse:!1,texteSansCasse:!1,nombreAvecEspace:!1,egaliteExpression:!1,calculFormel:!1,nonReponseAcceptee:!1,variable:"x",entier:!1,domaine:[-100,100]}){return le?t===""&&e===""?{isOk:!0}:{isOk:!1,feedback:"Une réponse doit être saisie"}:t===""?{isOk:!1,feedback:"Une réponse doit être saisie"}:P?wwe(t,e):g?Iwe(t,e,{variable:ne??"x",domaine:ue??[-100,100],entier:H??!1}):L?$we(t,e):Z?Ewe(t,e):W?Nwe(t,e):Y?_we(t,e,{precision:ie}):D||_||T||z?xwe(t,e,{exclusifFactorisation:_,nbFacteursIdentiquesFactorisation:T,unSeulFacteurLitteral:z}):N||A||$?Awe(t,e,{seulementCertainesPuissances:A,sansExposantUn:$}):re?sR(t,e):R?Swe(t,e):E?Twe(t,e):X?zwe(t,e):d?Dwe(t,e):x||b?oR(t,e,{kUplet:b}):k||w?oR(t,e,{kUplet:w,avecAccolades:!1}):o||l||s||u||c||h?Mwe(t,e,{fractionReduite:l,fractionIrreductible:s,fractionDecimale:u,fractionEgale:c,fractionIdentique:h,nombreDecimalSeulement:p}):q?kwe(t,e):nR(t,e,{expressionsForcementReduites:r,avecSigneMultiplier:i,avecFractions:n,sansTrigo:a,fractionIrreductible:s,additionSeulementEtNonResultat:m,soustractionSeulementEtNonResultat:f,multiplicationSeulementEtNonResultat:v,divisionSeulementEtNonResultat:y,nombreDecimalSeulement:p,calculFormel:oe})}function P0(t,{expressionsForcementReduites:e=!0,fractionIrreductible:r=!1,nombreDecimalSeulement:i=!1}={}){let n=t;if(i)return n;if(typeof n.value=="number"){if(r){if((n.operator==="Divide"||n.operator==="Rational")&&(n.engine.box(["GCD",n.op1,n.op2]).value!==1||n.op2.value===1))return n;if(n.operator==="Number")return ir.parse(`\\frac{${n.value}}{1}`,{canonical:!1})}return n.engine.number(n.value)}return(n.operator==="Divide"||n.operator==="Rational")&&n.op2.value===1&&(n=n.op1),n.operator!=="Subscript"&&n.ops?n.engine.box([n.operator,...n.ops.map(a=>P0(a,{expressionsForcementReduites:e,fractionIrreductible:r,nombreDecimalSeulement:i}))],{canonical:["InvisibleOperator","Order","Flatten"]}):n.canonical}function Mwe(t,e,{fractionReduite:r=!1,fractionIrreductible:i=!1,fractionDecimale:n=!1,fractionEgale:a=!1,fractionIdentique:s=!1,nombreDecimalSeulement:o=!1}={}){const l=Us(["virgules","fractionsMemesNegatives"]),u=l(t),c=l(e),h=ir.parse(u,{canonical:!1}),p=ir.parse(c,{canonical:!1});if(o&&nR(u,p.N().toString(),{nombreDecimalSeulement:!0}).isOk)return{isOk:!0,feedback:""};const d=p.engine.number(Number(p.value));if(h.isEqual(p)){if(s)return h.isSame(p)?{isOk:!0,feedback:""}:{isOk:!1,feedback:"Le résultat ne correspond pas à la fraction attendue."};if(h.operator==="Number"&&d.isInteger)return{isOk:!0};if(a){if(h.operator==="Divide"||h.operator==="Rational"||h.operator==="Negate"&&(h.op1.operator==="Divide"||h.op1.operator==="Rational")){let m,f;return h.operator!=="Negate"?(m=h.op1.evaluate().numericValue,f=h.op2.evaluate().numericValue):(m=h.op1.op1.evaluate().numericValue,f=h.op1.op2.evaluate().numericValue),Number.isInteger(m)&&Number.isInteger(f)?{isOk:!0}:{isOk:!1,feedback:"Résultat incorrect car dénominateur et numérateur doivent être entiers."}}return{isOk:!1,feedback:"Résultat incorrect car une fraction est attendue."}}return n?(h.operator==="Divide"||h.operator==="Rational")&&Number.isInteger(Math.log10(Number(h.op2.value)))&&Math.log10(Number(h.op2.value))>=0?h.op1.isInteger?{isOk:!0}:{isOk:!1,feedback:"Résultat incorrect car le numérateur n'est pas entier."}:{isOk:!1,feedback:"Résultat incorrect car une fraction décimale est attendue."}:i?(h.operator==="Divide"||h.operator==="Rational")&&h.engine.box(["GCD",h.op1,h.op2]).value===1||h.canonical.isInteger?{isOk:!0}:{isOk:!1,feedback:"Résultat incorrect car une fraction irréductible est attendue."}:(h.operator==="Divide"||h.operator==="Rational")&&Math.abs(Number(h.op1.value))<Math.abs(Number(p.op1.value))&&h.op1.isInteger&&h.op2.isInteger&&(r||Number(p.op1.value)%Number(h.op1.value)===0)?{isOk:!0}:!h.op1.value&&!d.isInteger?{isOk:!1,feedback:"Résultat incorrect car une fraction est attendue."}:h.operator==="Divide"||h.operator==="Rational"?Math.abs(Number(h.op1.value))>=Math.abs(Number(p.op1.value))?{isOk:!1,feedback:"Résultat incorrect car une fraction simplifiée est attendue."}:!h.op1.isInteger||!h.op2.isInteger?{isOk:!1,feedback:"Résultat incorrect car dénominateur et numérateur doivent être entiers."}:{isOk:!1,feedback:"Résultat incorrect car une fraction réduite est attendue."}:{isOk:!1,feedback:"Résultat incorrect car une fraction est attendue."}}return{isOk:!1,feedback:"Résultat incorrect."}}function nR(t,e,{expressionsForcementReduites:r=!0,avecSigneMultiplier:i=!0,avecFractions:n=!0,sansTrigo:a=!1,fractionIrreductible:s=!1,nombreDecimalSeulement:o=!1,additionSeulementEtNonResultat:l=!1,soustractionSeulementEtNonResultat:u=!1,multiplicationSeulementEtNonResultat:c=!1,divisionSeulementEtNonResultat:h=!1,calculFormel:p=!1}={}){let d="";if(!i&&t.includes("times"))return{isOk:!1,feedback:"Aucun signe $\\times$ n'est autorisé."};if(!n&&t.includes("frac"))return{isOk:!1,feedback:"Aucune fraction n'est autorisée."};if(a&&(t.includes("cos")||t.includes("sin")||t.includes("tan")))return{isOk:!1,feedback:"Aucune fonction trigonométrique n'est autorisée."};const m=Us(["puissances","virgules","fractionsMemesNegatives","parentheses","foisUn"]);let f=m(t);const v=m(e);if(p)return ir.parse(f,{canonical:!1}).isEqual(ir.parse(v,{canonical:!1}))?{isOk:!0,feedback:""}:{isOk:!1,feedback:"L'expresssion fournie est incorrecte."};if(o){f=f.replace("(","").replace(")","").replace("\\lparen","").replace("\\rparen","");const b=ir.parse(f,{canonical:!1});if(!(b.operator==="Number"||b.operator==="Negate"&&b.ops!==null&&b.ops.length===1))return{isOk:!1,feedback:"Résultat incorrect car une valeur décimale (ou entière) est attendue."}}const y=P0(ir.parse(f,{canonical:!1}),{}),x=P0(ir.parse(v,{canonical:!1}),{}),g={a:2,b:2,c:2,x:2,y:2,z:2};if(l||u||c||h){const b=ir.parse(f,{canonical:!1});if(b.operator==="Add"&&(b.op1.is(0)||b.op2.is(0)))return d="Résultat incorrect car la somme par 0 est inutile.",{isOk:!1,feedback:d};if(t.includes("-0"))return d="Résultat incorrect car la différence par 0 est inutile.",{isOk:!1,feedback:d};if(b.operator==="Multiply"&&(b.op1.is(1)||b.op2.is(1)))return d="Résultat incorrect car le produit par 1 est inutile.",{isOk:!1,feedback:d};if((b.operator==="Divide"||b.operator==="Rational")&&b.op2.is(0))return d="Résultat incorrect car la division par 1 est inutile.",{isOk:!1,feedback:d}}if(y.isEqual(x)&&!y.isSame(x)&&(l||u||c||h)){const b=P0(ir.parse(f,{canonical:!1}),{expressionsForcementReduites:r,fractionIrreductible:s,nombreDecimalSeulement:o}),k=P0(ir.parse(f,{canonical:!1}),{expressionsForcementReduites:r,fractionIrreductible:s});if(b.isSame(k)){let w=function(A){const $=A.indexOf("Negate"),D=A.indexOf("Delimiter");return $!==-1&&(D===-1||$<D)};if(l&&y.operator==="Add")return{isOk:!0,feedback:""};if(c&&(y.operator==="Multiply"||y.operator==="Power"))return{isOk:!0,feedback:""};if(h&&(y.operator==="Divide"||y.operator==="Power"))return{isOk:!0,feedback:""};const N=JSON.stringify(ir.parse(f,{canonical:!1}).json);if(u&&w(N))return{isOk:!0,feedback:""}}}if(!y.isSame(x))if(o)P0(ir.parse(f,{canonical:!1}),{expressionsForcementReduites:r,fractionIrreductible:s,nombreDecimalSeulement:!1}).isSame(x)?d="Résultat incorrect car une valeur numérique est attendue.":d="Résultat incorrect.";else if(l||u||c||h){const b=P0(ir.parse(f,{canonical:!1}),{expressionsForcementReduites:r,fractionIrreductible:s,nombreDecimalSeulement:o}),k=P0(ir.parse(f,{canonical:!1}),{expressionsForcementReduites:r,fractionIrreductible:s});b.isSame(k)?y.operator==="Number"?d="Résultat incorrect car un calcul est attendu.":(d="Résultat incorrect car ",d+=l?"c'est une somme qui est attendue.":u?"c'est une différence qui est attendue.":c?"c'est un produit qui est attendu.":h?"c'est un quotient qui est attendu.":"ce n'est pas ce calcul qui est attendu."):d="Résultat incorrect."}else if(s){const b=P0(ir.parse(f,{canonical:!1}),{expressionsForcementReduites:r,fractionIrreductible:!1}),k=P0(ir.parse(f,{canonical:!1}),{expressionsForcementReduites:r,fractionIrreductible:!1});b.isSame(k)?ir.parse(f,{canonical:!1}).operator==="Number"?d="Résultat incorrect car une fraction est attendue.":d="Résultat incorrect car une fraction irréductible est attendue.":d="Résultat incorrect."}else!y.isSame(x)&&aR(v,g)===aR(f,g)&&(d="Incorrect");return{isOk:y.isSame(x),feedback:d}}function kwe(t,e){const r=Us(["puissances","virgules","parentheses","foisUn"]),i=r(t),n=r(e),a=ir.parse(i,{canonical:!0}),s=ir.parse(n,{canonical:!0});if(!a.ops||!s.ops)return{isOk:!1,feedback:"Cette expression n'est pas développée."};if(a.operator!==s.operator)return{isOk:!1,feedback:"Cette expression n'est pas développée."};let o=ir.parse("0");for(const u of a.ops)o=o.add(u);let l=ir.parse("0");for(const u of s.ops)l=l.add(u);return{isOk:o.isSame(l),feedback:o.isSame(l)?"":o.isEqual(l)?"Cette expression n'est pas assez développée.":"Incorrect"}}function aR(t,e){let i=ir.parse(t);for(const[a,s]of Object.entries(e))i=i.subs({[a]:s});const n=i.evaluate().value;return typeof n=="number"?n:"NAN"}function Cwe(t){const e=/^(-?\d+(?:\.\d+)?)\\times10\^{?(-?\d+)}?$/,r=/^10\^{?(-?\d+)}?\\times(-?\d+(?:\.\d+)?)$/;let i=null,n=null;if(e.test(t)){const a=t.match(e);i=Number(a[1]),n=Number(a[2])}else if(r.test(t)){const a=t.match(r);n=Number(a[1]),i=Number(a[2])}else return{isOk:!1,feedback:"Format incorrect : utilisez a\\times10^b ou 10^b\\timesa."};return isNaN(i)||isNaN(n)?{isOk:!1,feedback:"La mantisse ou l'exposant n'est pas un nombre valide."}:Math.abs(i)<1?{isOk:!1,feedback:"La mantisse doit être ≥ 1."}:Math.abs(i)>=10?{isOk:!1,feedback:"La mantisse doit être < 10."}:{isOk:!0,feedback:"La notation est correcte."}}function Nwe(t,e){const r=Us(["virgules","espaces","parentheses","puissances"]),i=r(t),n=r(e);let a=i.replace(/\s+/g,"").replace(/\\times/g,"\\cdot").replace(/\^(\d+)/g,"^{$1}").replace(/\{\+(\d+)\}/g,"{$1}");const s=a.match(/\^{(-?\d+)}$/);(s?x0(s[s.length-1]):null)===0&&(a=ir.parse(i).toLatex({notation:"scientific",avoidExponentsInRange:[0,0]}));const l=/(?:\{(-?\d+(?:\.\d+)?)\}|(-?\d+(?:\.\d+)?))\\cdot(.+)/,u=a.match(l);let c=null;u&&(c=u[1]||u[2]||null,c==="1"&&u[3]&&(a=u[3].trim()));const h=ir.parse(n).toLatex({notation:"scientific",avoidExponentsInRange:[0,0]});return a=a.replace(/(\d+\.?\d*?)0*(?=\\cdot)/,"$1"),a===h?{isOk:!0}:ir.parse(i).isEqual(ir.parse(n))?{isOk:!1,feedback:"La réponse fournie est bien égale à celle attendue mais la réponse fournie n'est pas en notation scientifique."}:Cwe(i).isOk?{isOk:!1,feedback:"La réponse fournie est bien en notation scientifique mais la réponse fournie n'est pas égale à celle attendue."}:{isOk:!1,feedback:"La réponse fournie n'est pas égale à celle attendue."}}function sR(t,e){const r=Us(["parentheses","mathrm","fractions","virgules"]);t=t.replace(/\\lparen\s*([^{}]+)\s*\{,\}\s*([^{}]+)\s*\\rparen/g,"($1,$2)"),t=t.replace(/\\lparen\s*/g,"(").replace(/\\rparen/g,")"),e=e.replace(/\\lparen\s*/g,"(").replace(/\\rparen/g,")");let i=r(t);const n=r(e);return i=Us(["espaceNormal","doubleEspaces"])(i),{isOk:n===i}}function Swe(t,e){const r=t.toLowerCase(),i=e.toLowerCase();return sR(r,i)}function Dwe(t,e){const i=Us(["fractions"])(e),n=ir.parse(i,{canonical:!0}),a=ir.parse(t,{canonical:!0});return n.isSame(a)?{isOk:!0}:n.isEqual(a)?a.isNumber?{isOk:!1,feedback:"Ce résultat pourrait être correct mais un calcul est attendu"}:{isOk:!1,feedback:"Ce résultat pourrait être correct mais ce n'est pas ce calcul qui est attendu"}:{isOk:!1,feedback:"Ce résultat pourrait être correct mais ce n'est pas ce calcul qui est attendu"}}function Awe(t,e,{seulementCertainesPuissances:r=!1,sansExposantUn:i=!1}={}){const n=Us(["virgules","puissances"]),a=n(t).split("^"),s=n(e).split("^");if(a.length===1){const h=isNaN(Number(s[1]))?1:s[1];return(Number(h)===1||Number(h)===0)&&ir.parse(n(t)).isEqual(ir.parse(n(e)))?{isOk:!0}:{isOk:!1,feedback:"Une puissance est attendue."}}if(r&&a.length>2)return{isOk:!1,feedback:"Un seul exposant est attendu."};let o=a[0];if(o=o.replace(/\\lparen|\\rparen|\(|\)/g,""),o=o.replace(/--/g,""),Number.isNaN(o))return{isOk:!1,feedback:"Avant l'exposant, on attend un nombre unique."};let l=a[1];l=l.replace(/\\lparen|\\rparen|\(|\)/g,""),l=l.replace(/--/g,""),l=l.replace(/[{}]/g,"");const u=Number(l);if(Number.isNaN(u))return{isOk:!1,feedback:"On attend un nombre unique comme exposant."};if(s.length===1){if(i&&u===1)return{isOk:!1,feedback:"On attend un exposant différent de 1."};const h=ir.parse(n(t)).isEqual(ir.parse(n(e)));return{isOk:!!h,feedback:h?"":"La puissance n'est pas égale au résultat attendu."}}if(i){let h=s[1];h=h.replace(/\\lparen|\\rparen|\(|\)/g,""),h=h.replace(/--/g,"");const p=Number(h);if(u===1&&p!==1)return{isOk:!1,feedback:"On attend un exposant différent de 1."}}return(r?ir.parse(n(t)).isSame(ir.parse(n(e))):ir.parse(n(t)).isEqual(ir.parse(n(e))))?{isOk:!0}:ir.parse(n(t)).isEqual(ir.parse(n(e)))?{isOk:!1,feedback:"La puissance est égale au résultat attendu mais ne correspond pas à l'énoncé."}:{isOk:!1,feedback:"La puissance n'est pas égale au résultat attendu."}}function oR(t,e,{kUplet:r=!1,avecAccolades:i=!0}={}){const n=Us(["virgules","fractions","parentheses"]),a=n(t);if(e=n(e),e==="\\emptyset"&&a===e)return{isOk:!0};if(e==="\\emptyset"&&a.includes("\\emptyset"))return{isOk:!1,feedback:"Résultat incorrect car $\\emptyset doit être écrit seul."};let s,o;if(i){if(a[1]!=="{")return{isOk:!1,feedback:"Résultat incorrect car cet ensemble doit commencer par une accolade ou bien être l'ensemble vide."};if(a[a.length-1]!=="}")return{isOk:!1,feedback:"Résultat incorrect car cet ensemble doit se terminer par une accolade ou bien être l'ensemble vide."};s=a.replaceAll("\\{","").replaceAll("\\}","").split(";"),o=n(e).replaceAll("\\{","").replaceAll("\\}","").split(";")}else s=a.split(";"),o=n(e).split(";");if(new Set(s).size!==s.length)return{isOk:!1,feedback:"Résultat incorrect car cet ensemble contient des valeurs redondantes."};if(s.length>o.length)return{isOk:!1,feedback:"Résultat incorrect car cet ensemble contient trop de nombres."};if(s.length<o.length)return{isOk:!1,feedback:"Résultat incorrect car cet ensemble ne contient pas assez de nombres."};const l=s,u=o;return l.every(h=>{for(let p=0;p<u.length;p++)if(ir.parse(h).isEqual(ir.parse(u[p])))return!0;return!1})?r&&!s.every((h,p)=>ir.parse(h).isSame(ir.parse(u[p])))?{isOk:!1,feedback:"Résultat incorrect car les nombres ne sont pas rangés dans le bon ordre."}:{isOk:!0}:o.length===1?{isOk:!1,feedback:"Résultat incorrect car cet ensemble n'a pas la valeur attendue."}:{isOk:!1,feedback:"Résultat incorrect car cet ensemble n'a pas toutes les valeurs attendues."}}function $we(t,e){const r=Us(["virgules","parentheses","espaces"]),i=r(t),n=r(e);if(n==="\\emptyset")return i==="\\emptyset"||i==="\\{\\}"?{isOk:!0,feedback:""}:{isOk:!1,feedback:"la bonne réponse était l'ensemble vide : $\\emptyset$"};let a=!0,s=!0,o="";const l=/[^[\];]+/g,u=/[[\]]/g,c=i.match(l),h=n.match(l),p=i.match(u),d=n.match(u);if(c!=null&&h!=null&&p!=null&&d!=null){if(c.length!==h.length)return{isOk:!1};let m;for(a=!0,m=0;m<c.length;m++)a&&(a=cs(c[m],h[m]).isOk),a||(o+=["\\cup","\\cap"].includes(c[m])?`Il y a une erreur avec l'opérateur : $${c[m]}$.<br>`:`Il y a une erreur avec la valeur : $${c[m]}$.<br>`);if(s=p.length===d.length,s||(o+="Il y a une erreur avec les crochets."),s)for(m=0;m<p.length;m++)s=p[m]===d[m]&&s,p[m]!==d[m]&&(o+=`Le crochet placé en position ${m+1} est mal orienté.<br>`);return{isOk:a&&s,feedback:o}}return{isOk:!1,feedback:"Il faut donner un intervalle ou une réunion d'intervalles"}}function _we(t,e,{precision:r=1}={}){const i=t.replace("^\\circ","°").replace("\\degree","°"),n=Us(["virgules","espaces","fractions","parentheses","mathrm"]),a=bwe(n(i)),s=$a.fromString(n(e).replace("^\\circ","°").replace("\\degree","°"));if(a){if(a.uniteDeReference!==s.uniteDeReference)return{isOk:!1,feedback:`Il faut donner la réponse en $${s.latexUnit}$.`};if(r!==void 0){const u=a.estUneApproximation(s,r),c=s.estUneApproximation(a,r/10);return u&&c?{isOk:!0}:u?{isOk:!1,feedback:`La réponse n'est pas arrondie à $${de(10**-r,r)}$ près.`}:{isOk:!1}}return a.estEgal(s)?{isOk:!0}:{isOk:!1}}const o=Number(ir.parse(n(t)));return new $a(o,s.unite).estEgal(s)?{isOk:!1,feedback:"La réponse est correcte mais l'unité n'a pas été précisée."}:o!==0?{isOk:!1,feedback:"La réponse est fausse et il faut saisir l'unité."}:{isOk:!1}}function Ewe(t,e){let r=!0,i=!0;e.startsWith("[")&&(r=!1),e.endsWith("]")&&(i=!1);const n=e.match(/[[\]](.+);(.+)[[\]]/);if(n==null)return window.notify("Il faut revoir la définition de l'intervalle ",{goodAnswer:e}),{isOk:!1,feedback:"Un problème avec goodAnswer !"};const a=Us(["virgules","fractions","espaces"]),s=Number(ir.parse(a(n[1])).N()),o=Number(ir.parse(a(n[2])).N()),l=Number(ir.parse(a(t)).N());if(Number.isNaN(l))return{isOk:!1};const u=r?l>s:l>=s,c=i?l<o:l<=o;return{isOk:u&&c}}function Iwe(t,e,{variable:r="x",domaine:i=[-100,100],entier:n=!1}={}){const a=Us(["virgules","parentheses","fractions","divisions"]),s=a(t),l=ir.parse(s).compile(),u=a(e),c=ir.parse(u).compile(),h=i[0],d=i[1]-h,m=()=>h+d*Math.random();if(l==null||c==null)throw Error(`functionCompare : La saisie ou la bonne réponse ne sont pas des fonctions (saisie : ${t} et réponse attendue : ${e}`);let f,v,y,x,g,b,k=0;do[f,v,y]=n?[m(),m(),m()].map(Math.round):[m(),m(),m()],x=Object.fromEntries([[r??"x",f]]),g=Object.fromEntries([[r??"x",v]]),b=Object.fromEntries([[r??"x",y]]),k++;while(k<1e3&&(Number.isNaN(c(x))||Number.isNaN(c(g))||Number.isNaN(c(b))));if(k===1e3)return window.notify("functionCompare n'a pas réussi à trouver 3 valeurs dans le domaine qui donnent une image par la fonction goodAnswer !",{fonction:e,domaine:i}),{isOk:!1,feedback:"erreur dans le programme"};let w=!0;for(const N of[f,v,y]){const A=Object.fromEntries([[r??"x",N]]),$=Number(l(A)),D=Number(c(A));w=w&&Math.abs($-D)<1e-10}return{isOk:w}}function Twe(t,e){const[r,i]=t.split("="),[n,a]=e.split("=");if(r==null||i==null)return{isOk:!1,feedback:"Une égalité est attendue"};const{isOk:s}=cs(i,n),{isOk:o}=cs(r,n),{isOk:l}=cs(i,a),{isOk:u}=cs(r,a);return{isOk:s&&u||l&&o}}function Lwe(t){return t.replace(/\b\d+(?:[.,]\d+)?\b/g,e=>{const r=e.includes(",")?",":".",[i,n]=e.split(r),a=i.replace(/(\d)(?=(\d{3})+$)/g,"$1 ");if(n){const s=n.replace(/(\d{3})(?=\d)/g,"$1 ");return`${a}${r}${s.trim()}`}return a})}function zwe(t,e){let r=t.replaceAll(/(\s{2,})(?=\d{3})/g," ").trim();r=r.replaceAll(/\\,/g," ");const i=Us(["espaces"]),n=i(t),a=i(e);let s=a.replace(/\s+/g,"");s=s.replace("{,}",","),s=Lwe(s),s=s.replace(",","{,}");let o="";return r!==s&&n===a&&(o="Le nombre est mal écrit, il faut faire attention aux espaces. "),{isOk:r===s,feedback:o}}var Bwe=Object.defineProperty,Owe=Object.defineProperties,Fwe=Object.getOwnPropertyDescriptors,z5=Object.getOwnPropertySymbols,lR=Object.prototype.hasOwnProperty,uR=Object.prototype.propertyIsEnumerable,cR=(t,e,r)=>e in t?Bwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,we=(t,e)=>{for(var r in e||(e={}))lR.call(e,r)&&cR(t,r,e[r]);if(z5)for(var r of z5(e))uR.call(e,r)&&cR(t,r,e[r]);return t},je=(t,e)=>Owe(t,Fwe(e)),hR=t=>typeof t=="symbol"?t:t+"",B5=(t,e)=>{var r={};for(var i in t)lR.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&z5)for(var i of z5(t))e.indexOf(i)<0&&uR.call(t,i)&&(r[i]=t[i]);return r};function hs(t){return Array.isArray(t)}var Pwe={en:{"keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.cut to clipboard":"Cut to Clipboard","tooltip.paste from clipboard":"Paste from Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.menu":"Menu","tooltip.undo":"Undo","menu.borders":"Borders","menu.insert matrix":"Insert Matrix","menu.array.add row above":"Add Row Before","menu.array.add row below":"Add Row After","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","menu.insert":"Insert","menu.insert.abs":"Absolute Value","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"n<sup>th</sup> Root","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarithm base a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Calculus","menu.insert.derivative":"Derivative","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"n<sup>th</sup> derivative","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Integral","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Sum","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Product","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Complex Numbers","menu.insert.modulus":"Modulus","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Real Part","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Imaginary Part","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Conjugate","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Blackboard","tooltip.bold":"Bold","tooltip.italic":"Italic","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligraphic","tooltip.typewriter":"Typewriter","tooltip.roman-upright":"Roman Upright","tooltip.row-by-col":"%@ × %@","menu.font-style":"Font Style","menu.accent":"Accent","menu.decoration":"Decoration","menu.color":"Color","menu.background-color":"Background","menu.evaluate":"Evaluate","menu.simplify":"Simplify","menu.solve":"Solve","menu.solve-for":"Solve for %@","menu.cut":"Cut","menu.copy":"Copy","menu.copy-as-latex":"Copy as LaTeX","menu.copy-as-ascii-math":"Copy as ASCII Math","menu.copy-as-mathml":"Copy as MathML","menu.paste":"Paste","menu.select-all":"Select All","color.red":"Red","color.orange":"Orange","color.yellow":"Yellow","color.lime":"Lime","color.green":"Green","color.teal":"Teal","color.cyan":"Cyan","color.blue":"Blue","color.indigo":"Indigo","color.purple":"Purple","color.magenta":"Magenta","color.black":"Black","color.dark-grey":"Dark Grey","color.grey":"Grey","color.light-grey":"Light Grey","color.white":"White"},ar:{"keyboard.tooltip.symbols":"حرف او رمز","keyboard.tooltip.greek":"حروف يونانية","keyboard.tooltip.numeric":"الرقمية","keyboard.tooltip.alphabetic":"رموز الاحرف الرومانية","tooltip.copy to clipboard":"نسخ إلى الحافظة","tooltip.cut to clipboard":"قص إلى الحافظة","tooltip.paste from clipboard":"لصق من الحافظة","tooltip.redo":"الإعادة","tooltip.toggle virtual keyboard":"تبديل لوحة المفاتيح الإفتراضية","tooltip.undo":"إلغاء","menu.insert matrix":"أدخل المصفوفة","menu.borders":"محددات المصفوفة","menu.array.add row above":"أضف صفًا بعد ذلك","menu.array.add row below":"أضف الصف قبل","menu.array.add column after":"أضف العمود بعد ذلك","menu.array.add column before":"أضف العمود قبل","menu.array.delete row":"احذف صف","menu.array.delete rows":"حذف الصفوف المحددة","menu.array.delete column":"حذف العمود","menu.array.delete columns":"حذف الأعمدة المحددة","menu.mode":"وضع","menu.mode-math":"رياضيات","menu.mode-text":"نص","menu.mode-latex":"لاتكس","tooltip.blackboard":"سبورة","tooltip.bold":"عريض","tooltip.italic":"مائل","tooltip.fraktur":"فراكتور","tooltip.script":"سكريبت","tooltip.caligraphic":"كاليجرافيك","tooltip.typewriter":"آلة كاتبة","tooltip.roman-upright":"روماني مستقيم","tooltip.row-by-col":"%@ × %@","menu.font-style":"نمط الخط","menu.accent":"تشكيل","menu.decoration":"زخرفة","menu.color":"لون","menu.background-color":"الخلفية","menu.evaluate":"تقييم","menu.simplify":"تبسيط","menu.solve":"حل","menu.solve-for":"حل لـ %@","menu.cut":"قص","menu.copy":"نسخ","menu.copy-as-latex":"نسخ كـ LaTeX","menu.copy-as-ascii-math":"نسخ كـ ASCII Math","menu.copy-as-mathml":"نسخ كـ MathML","menu.paste":"لصق","menu.select-all":"تحديد الكل","color.red":"أحمر","color.orange":"برتقالي","color.yellow":"أصفر","color.lime":"ليموني","color.green":"أخضر","color.teal":"سماوي","color.cyan":"سماوي فاتح","color.blue":"أزرق","color.indigo":"نيلي","color.purple":"بنفسجي","color.magenta":"أرجواني","color.black":"أسود","color.dark-grey":"رمادي غامق","color.grey":"رمادي","color.light-grey":"رمادي فاتح","color.white":"أبيض"},de:{"keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.alphabetic":"Römische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfügen","menu.borders":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufügen nach","menu.array.add row below":"Zeile hinzufügen vor","menu.array.add column after":"Spalte hinzufügen nach","menu.array.add column before":"Spalte hinzufügen vor","menu.array.delete row":"Zeile löschen","menu.array.delete rows":"Ausgewählte Zeilen löschen","menu.array.delete column":"Spalte löschen","menu.array.delete columns":"Ausgewählte Spalten löschen","menu.mode":"Modus","menu.mode-math":"Mathematik","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tafel","tooltip.bold":"Fett","tooltip.italic":"Kursiv","tooltip.fraktur":"Fraktur","tooltip.script":"Skript","tooltip.caligraphic":"Kalligraphie","tooltip.typewriter":"Schreibmaschine","tooltip.roman-upright":"Römisch aufrecht","tooltip.row-by-col":"%@ × %@","menu.font-style":"Schriftstil","menu.accent":"Akzent","menu.decoration":"Dekoration","menu.color":"Farbe","menu.background-color":"Hintergrund","menu.evaluate":"Auswerten","menu.simplify":"Vereinfachen","menu.solve":"Lösen","menu.solve-for":"Lösen für %@","menu.cut":"Ausschneiden","menu.copy":"Kopieren","menu.copy-as-latex":"Als LaTeX kopieren","menu.copy-as-ascii-math":"Als ASCII Math kopieren","menu.copy-as-mathml":"Als MathML kopieren","menu.paste":"Einfügen","menu.select-all":"Alles auswählen","color.red":"Rot","color.orange":"Orange","color.yellow":"Gelb","color.lime":"Limette","color.green":"Grün","color.teal":"Blaugrün","color.cyan":"Cyan","color.blue":"Blau","color.indigo":"Indigo","color.purple":"Lila","color.magenta":"Magenta","color.black":"Schwarz","color.dark-grey":"Dunkelgrau","color.grey":"Grau","color.light-grey":"Hellgrau","color.white":"Weiß"},el:{"keyboard.tooltip.symbols":"σύμβολα","keyboard.tooltip.greek":"ελληνικά γράμματα","keyboard.tooltip.numeric":"Αριθμητικός","keyboard.tooltip.alphabetic":"Ρωμαϊκά γράμματα","tooltip.copy to clipboard":"Αντιγραφή στο πρόχειρο","tooltip.redo":"Ξανακάνω","tooltip.toggle virtual keyboard":"Εναλλαγή εικονικού πληκτρολογίου","tooltip.undo":"Ξεκάνω","menu.insert matrix":"Εισαγωγή μήτρα","menu.borders":"Οριοθέτες μήτρα","menu.array.add row above":"Προσθήκη σειράς μετά","menu.array.add row below":"Προσθήκη σειράς πριν","menu.array.add column after":"Προσθήκη στήλης μετά","menu.array.add column before":"Προσθήκη στήλης πριν","menu.array.delete row":"Διαγραφή σειράς","menu.array.delete rows":"Διαγραφή επιλεγμένων σειρών","menu.array.delete column":"Διαγραφή στήλης","menu.array.delete columns":"Διαγραφή επιλεγμένων στηλών","menu.mode":"Λειτουργία","menu.mode-math":"Μαθηματικά","menu.mode-text":"Κείμενο","menu.mode-latex":"LaTeX","tooltip.blackboard":"Πίνακας","tooltip.bold":"Έντονη","tooltip.italic":"Πλάγια","tooltip.fraktur":"Φράκτουρ","tooltip.script":"Σενάριο","tooltip.caligraphic":"Καλλιγραφική","tooltip.typewriter":"Μηχανή γραφής","tooltip.roman-upright":"Ρωμαϊκό Κατακόρυφο","tooltip.row-by-col":"%@ × %@","menu.font-style":"Στυλ γραμματοσειράς","menu.accent":"Τόνος","menu.decoration":"Διακόσμηση","menu.color":"Χρώμα","menu.background-color":"Χρώμα φόντου","menu.evaluate":"Αξιολόγηση","menu.simplify":"Απλοποίηση","menu.solve":"Λύση","menu.solve-for":"Λύση για %@","menu.cut":"Αποκοπή","menu.copy":"Αντιγραφή","menu.copy-as-latex":"Αντιγραφή ως LaTeX","menu.copy-as-ascii-math":"Αντιγραφή ως ASCII Math","menu.copy-as-mathml":"Αντιγραφή ως MathML","menu.paste":"Επικόλληση","menu.select-all":"Επιλογή όλων","color.red":"Κόκκινο","color.orange":"Πορτοκαλί","color.yellow":"Κίτρινο","color.lime":"Λαχανί","color.green":"Πράσινο","color.teal":"Κυανό","color.cyan":"Γαλάζιο","color.blue":"Μπλε","color.indigo":"Ινδικό","color.purple":"Μωβ","color.magenta":"Ματζέντα","color.black":"Μαύρο","color.dark-grey":"Σκούρο Γκρι","color.grey":"Γκρι","color.light-grey":"Ανοιχτό Γκρι","color.white":"Λευκό"},es:{"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Añadir Matriz","menu.borders":"Delimitadores de Matriz","menu.array.add row above":"Añadir Línea Antes","menu.array.add row below":"Añadir Línea Despues","menu.array.add column after":"Añadir Columna Despues","menu.array.add column before":"Añadir Columna Antes","menu.array.delete row":"Borrar Línea","menu.array.delete rows":"Borrar Líneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","menu.mode":"Modo","menu.mode-math":"Matemáticas","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Pizarra","tooltip.bold":"Negrita","tooltip.italic":"Cursiva","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligráfico","tooltip.typewriter":"Máquina de escribir","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@ × %@","menu.font-style":"Estilo de fuente","menu.accent":"Acento","menu.decoration":"Decoración","menu.color":"Color","menu.background-color":"Fondo","menu.evaluate":"Evaluar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Cortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Pegar","menu.select-all":"Seleccionar todo","color.red":"Rojo","color.orange":"Naranja","color.yellow":"Amarillo","color.lime":"Lima","color.green":"Verde","color.teal":"Verde azulado","color.cyan":"Cian","color.blue":"Azul","color.indigo":"Índigo","color.purple":"Morado","color.magenta":"Magenta","color.black":"Negro","color.dark-grey":"Gris oscuro","color.grey":"Gris","color.light-grey":"Gris claro","color.white":"Blanco"},fr:{"keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.numeric":"Numérique","keyboard.tooltip.alphabetic":"Lettres romaines","tooltip.menu":"Menu","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rétablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Insérer une Matrice","menu.borders":"Bords","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Après","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Après","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Sélectionées","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes Sélectionées","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tableau noir","tooltip.bold":"Gras","tooltip.italic":"Italique","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Calligraphique","tooltip.typewriter":"Machine à écrire","tooltip.roman-upright":"Romain droit","tooltip.row-by-col":"%@ × %@","menu.font-style":"Style de police","menu.accent":"Accent","menu.decoration":"Décoration","menu.color":"Couleur","menu.background-color":"Arrière-plan","menu.evaluate":"Évaluer","menu.simplify":"Simplifier","menu.solve":"Résoudre","menu.solve-for":"Résoudre pour %@","menu.cut":"Couper","menu.copy":"Copier","menu.copy-as-latex":"Copier en LaTeX","menu.copy-as-ascii-math":"Copier en ASCII Math","menu.copy-as-mathml":"Copier en MathML","menu.paste":"Coller","menu.select-all":"Sélectionner tout","color.red":"Rouge","color.orange":"Orange","color.yellow":"Jaune","color.lime":"Citron vert","color.green":"Vert","color.teal":"Turquoise","color.cyan":"Cyan","color.blue":"Bleu","color.indigo":"Indigo","color.purple":"Violet","color.magenta":"Magenta","color.black":"Noir","color.dark-grey":"Gris foncé","color.grey":"Gris","color.light-grey":"Gris clair","color.white":"Blanc"},he:{"keyboard.tooltip.symbols":"סמלים","keyboard.tooltip.greek":"אותיות יווניות","keyboard.tooltip.numeric":"מספרי","keyboard.tooltip.alphabetic":"מכתבים רומיים","tooltip.copy to clipboard":"העתק ללוח","tooltip.redo":"לַעֲשׂוֹת שׁוּב","tooltip.toggle virtual keyboard":"החלף את המקלדת הווירטואלית","tooltip.undo":"לבטל","menu.insert matrix":"הכנס מטריקס","menu.borders":"מפרידי מטריקס","menu.array.add row above":"הוסף שורה אחרי","menu.array.add row below":"הוסף שורה לפני","menu.array.add column after":"הוסף עמודה אחרי","menu.array.add column before":"הוסף עמודה לפני","menu.array.delete row":"מחק שורה","menu.array.delete rows":"מחק שורות שנבחרו","menu.array.delete column":"מחק עמודה","menu.array.delete columns":"מחק עמודות שנבחרו","menu.mode":"מצב","menu.mode-math":"מתמטיקה","menu.mode-text":"טקסט","menu.mode-latex":"LaTeX","tooltip.blackboard":"לוח שחור","tooltip.bold":"מודגש","tooltip.italic":"נטוי","tooltip.fraktur":"פרקטור","tooltip.script":"כתב","tooltip.caligraphic":"קליגרפי","tooltip.typewriter":"מכונת כתיבה","tooltip.roman-upright":"רומי ישר","tooltip.row-by-col":"%@ × %@","menu.font-style":"סגנון גופן","menu.accent":"צליל","menu.decoration":"קישוט","menu.color":"צבע","menu.background-color":"רקע","menu.evaluate":"חשב","menu.simplify":"פשט","menu.solve":"פתור","menu.solve-for":"פתור עבור %@","menu.cut":"גזור","menu.copy":"העתק","menu.copy-as-latex":"העתק כ־LaTeX","menu.copy-as-ascii-math":"העתק כ־ASCII Math","menu.copy-as-mathml":"העתק כ־MathML","menu.paste":"הדבק","menu.select-all":"בחר הכל","color.red":"אדום","color.orange":"כתום","color.yellow":"צהוב","color.lime":"ירוק ליים","color.green":"ירוק","color.teal":"טיל","color.cyan":"ציאן","color.blue":"כחול","color.indigo":"אינדיגו","color.purple":"סגול","color.magenta":"מגנטה","color.black":"שחור","color.dark-grey":"אפור כהה","color.grey":"אפור","color.light-grey":"אפור בהיר","color.white":"לבן"},it:{"keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.alphabetic":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.borders":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","menu.mode":"Modalità","menu.mode-math":"Matematica","menu.mode-text":"Testo","menu.mode-latex":"LaTeX","tooltip.blackboard":"Lavagna","tooltip.bold":"Grassetto","tooltip.italic":"Corsivo","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrafico","tooltip.typewriter":"Macchina da scrivere","tooltip.roman-upright":"Romano dritto","tooltip.row-by-col":"%@ × %@","menu.font-style":"Stile del carattere","menu.accent":"Accento","menu.decoration":"Decorazione","menu.color":"Colore","menu.background-color":"Sfondo","menu.evaluate":"Valuta","menu.simplify":"Semplifica","menu.solve":"Risolvi","menu.solve-for":"Risolvi per %@","menu.cut":"Taglia","menu.copy":"Copia","menu.copy-as-latex":"Copia come LaTeX","menu.copy-as-ascii-math":"Copia come ASCII Math","menu.copy-as-mathml":"Copia come MathML","menu.paste":"Incolla","menu.select-all":"Seleziona tutto","color.red":"Rosso","color.orange":"Arancione","color.yellow":"Giallo","color.lime":"Lime","color.green":"Verde","color.teal":"Verde acqua","color.cyan":"Ciano","color.blue":"Blu","color.indigo":"Indaco","color.purple":"Viola","color.magenta":"Magenta","color.black":"Nero","color.dark-grey":"Grigio scuro","color.grey":"Grigio","color.light-grey":"Grigio chiaro","color.white":"Bianco"},ja:{"keyboard.tooltip.symbols":"シンボル","keyboard.tooltip.greek":"ギリシャ文字","keyboard.tooltip.numeric":"数値","keyboard.tooltip.alphabetic":"ローマ字","tooltip.menu":"メニュー","tooltip.copy to clipboard":"クリップボードにコピー","tooltip.redo":"やり直し","tooltip.toggle virtual keyboard":"仮想キーボードの切り替え","tooltip.undo":"元に戻す","menu.insert matrix":"マトリックスを挿入","menu.borders":"行列区切り文字","menu.array.add row above":"後に行を追加","menu.array.add row below":"前に行を追加","menu.array.add column after":"後に列を追加","menu.array.add column before":"前に列を追加","menu.array.delete row":"行を削除","menu.array.delete rows":"選択した行を削除する","menu.array.delete column":"列を削除","menu.array.delete columns":"選択した列を削除する","menu.mode":"モード","menu.mode-math":"数式","menu.mode-text":"テキスト","menu.mode-latex":"LaTeX","tooltip.blackboard":"黒板","tooltip.bold":"太字","tooltip.italic":"イタリック","tooltip.fraktur":"フラクトゥール","tooltip.script":"スクリプト","tooltip.caligraphic":"カリグラフィック","tooltip.typewriter":"タイプライター","tooltip.roman-upright":"ローマ直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"フォントスタイル","menu.accent":"アクセント","menu.decoration":"装飾","menu.color":"色","menu.background-color":"背景","menu.evaluate":"評価","menu.simplify":"簡略化","menu.solve":"解く","menu.solve-for":"%@ を解く","menu.cut":"切り取り","menu.copy":"コピー","menu.copy-as-latex":"LaTeXとしてコピー","menu.copy-as-ascii-math":"ASCII Mathとしてコピー","menu.copy-as-mathml":"MathMLとしてコピー","menu.paste":"貼り付け","menu.select-all":"すべて選択","color.red":"赤","color.orange":"オレンジ","color.yellow":"黄色","color.lime":"ライム","color.green":"緑","color.teal":"ティール","color.cyan":"シアン","color.blue":"青","color.indigo":"インディゴ","color.purple":"紫","color.magenta":"マゼンタ","color.black":"黒","color.dark-grey":"濃いグレー","color.grey":"グレー","color.light-grey":"薄いグレー","color.white":"白"},ko:{"keyboard.tooltip.symbols":"기호","keyboard.tooltip.greek":"그리스 문자","keyboard.tooltip.numeric":"숫자","keyboard.tooltip.alphabetic":"로마 문자","tooltip.copy to clipboard":"클립 보드에 복사","tooltip.redo":"다시 하다","tooltip.toggle virtual keyboard":"가상 키보드 전환","tooltip.undo":"실행 취소","menu.insert matrix":"매트릭스 삽입","menu.borders":"행렬 구분 기호","menu.array.add row above":"뒤에 행 추가","menu.array.add row below":"앞에 행 추가","menu.array.add column after":"뒤에 열 추가","menu.array.add column before":"앞에 열 추가","menu.array.delete row":"행 삭제","menu.array.delete rows":"선택한 행 삭제","menu.array.delete column":"열 삭제","menu.array.delete columns":"선택한 열 삭제","menu.mode":"モード","menu.mode-math":"数式","menu.mode-text":"テキスト","menu.mode-latex":"LaTeX","tooltip.blackboard":"칠판","tooltip.bold":"굵게","tooltip.italic":"이탤릭","tooltip.fraktur":"프랙투어","tooltip.script":"스크립트","tooltip.caligraphic":"캘리그래픽","tooltip.typewriter":"타자기","tooltip.roman-upright":"로마 직립","tooltip.row-by-col":"%@ × %@","menu.font-style":"글꼴 스타일","menu.accent":"악센트","menu.decoration":"장식","menu.color":"색상","menu.background-color":"배경","menu.evaluate":"평가","menu.simplify":"간소화","menu.solve":"해결","menu.solve-for":"%@에 대해 해결","menu.cut":"잘라내기","menu.copy":"복사","menu.copy-as-latex":"LaTeX로 복사","menu.copy-as-ascii-math":"ASCII Math로 복사","menu.copy-as-mathml":"MathML로 복사","menu.paste":"붙여넣기","menu.select-all":"모두 선택","color.red":"빨강","color.orange":"주황","color.yellow":"노랑","color.lime":"라임","color.green":"초록","color.teal":"청록","color.cyan":"청색","color.blue":"파랑","color.indigo":"남색","color.purple":"보라","color.magenta":"자홍","color.black":"검정","color.dark-grey":"진한 회색","color.grey":"회색","color.light-grey":"연한 회색","color.white":"흰색"},pl:{"keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.alphabetic":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.cut to clipboard":"Wytnij ze Schowka","tooltip.paste from clipboard":"Wklej ze Schowka","tooltip.redo":"Przywróć","tooltip.toggle virtual keyboard":"Przełącz klawiaturę wirtualną","tooltip.menu":"Menu","tooltip.undo":"Cofnij","menu.borders":"Ograniczniki macierzy","menu.insert matrix":"Wstaw macierz","menu.array.add row above":"Dodaj wiersz przed","menu.array.add row below":"Dodaj wiersz po","menu.array.add column after":"Dodaj kolumnę po","menu.array.add column before":"Dodaj kolumnę przed","menu.array.delete row":"Usuń wiersz","menu.array.delete rows":"Usuń wybrane wiersze","menu.array.delete column":"Usuń kolumnę","menu.array.delete columns":"Usuń wybrane kolumny","menu.mode":"Tryb","menu.mode-math":"Formuła","menu.mode-text":"Tekst","menu.mode-latex":"LaTeX","menu.insert":"Wstaw","menu.insert.abs":"Wartość bezwzględna","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"Pierwiastek n-tego stopnia","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarytm o podstawie a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Rachunek różniczkowy i całkowy","menu.insert.derivative":"Pochodna","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"Pochodna n-tego rzędu","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Całka","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Suma","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Iloczyn","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Liczby zespolone","menu.insert.modulus":"Moduł","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Część rzeczywista","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Część urojona","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Sprzężenie","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Tablica","tooltip.bold":"Pogrubienie","tooltip.italic":"Kursywa","tooltip.fraktur":"Fraktura","tooltip.script":"Skrypt","tooltip.caligraphic":"Kaligraficzny","tooltip.typewriter":"Maszynowy","tooltip.roman-upright":"Rzymski prosto","tooltip.row-by-col":"%@ × %@","menu.font-style":"Styl czcionki","menu.accent":"Akcent","menu.decoration":"Dekoracja","menu.color":"Kolor","menu.background-color":"Tło","menu.evaluate":"Oblicz","menu.simplify":"Uprość","menu.solve":"Rozwiąż","menu.solve-for":"Rozwiąż dla %@","menu.cut":"Wytnij","menu.copy":"Kopiuj","menu.copy-as-latex":"Kopiuj jako LaTeX","menu.copy-as-ascii-math":"Kopiuj jako ASCII Math","menu.copy-as-mathml":"Kopiuj jako MathML","menu.paste":"Wklej","menu.select-all":"Zaznacz wszystko","color.red":"Czerwony","color.orange":"Pomarańczowy","color.yellow":"Żółty","color.lime":"Limetkowy","color.green":"Zielony","color.teal":"Turkusowy","color.cyan":"Cyjan","color.blue":"Niebieski","color.indigo":"Indygo","color.purple":"Fioletowy","color.magenta":"Magenta","color.black":"Czarny","color.dark-grey":"Ciemnoszary","color.grey":"Szary","color.light-grey":"Jasnoszary","color.white":"Biały"},pt:{"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar para área de transferência","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.borders":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","menu.mode":"Modo","menu.mode-math":"Fórmula","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Quadro Negro","tooltip.bold":"Negrito","tooltip.italic":"Itálico","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligráfico","tooltip.typewriter":"Máquina de Escrever","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@ × %@","menu.font-style":"Estilo da Fonte","menu.accent":"Acento","menu.decoration":"Decoração","menu.color":"Cor","menu.background-color":"Cor de Fundo","menu.evaluate":"Avaliar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Recortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Colar","menu.select-all":"Selecionar Tudo","color.red":"Vermelho","color.orange":"Laranja","color.yellow":"Amarelo","color.lime":"Verde Lima","color.green":"Verde","color.teal":"Verde-azulado","color.cyan":"Ciano","color.blue":"Azul","color.indigo":"Índigo","color.purple":"Roxo","color.magenta":"Magenta","color.black":"Preto","color.dark-grey":"Cinza Escuro","color.grey":"Cinza","color.light-grey":"Cinza Claro","color.white":"Branco"},uk:{"keyboard.tooltip.symbols":"Символи","keyboard.tooltip.greek":"Грецькі літери","keyboard.tooltip.numeric":"Числовий","keyboard.tooltip.alphabetic":"Римські літери","tooltip.copy to clipboard":"Копіювати в буфер обміну","tooltip.cut to clipboard":"Вирізати в буфер обміну","tooltip.paste from clipboard":"Вставити з буфера обміну","tooltip.redo":"Повторити","tooltip.toggle virtual keyboard":"Переключити віртуальну клавіатуру","tooltip.menu":"Меню","tooltip.undo":"Скасувати","menu.borders":"Межі","menu.insert matrix":"Вставити матрицю","menu.array.add row above":"Додати рядок перед","menu.array.add row below":"Додати рядок після","menu.array.add column after":"Додати стовпець після","menu.array.add column before":"Додати стовпець перед","menu.array.delete row":"Видалити рядок","menu.array.delete rows":"Видалити вибрані рядки","menu.array.delete column":"Видалити стовпець","menu.array.delete columns":"Видалити вибрані стовпці","menu.mode":"Режим","menu.mode-math":"Математика","menu.mode-text":"Текст","menu.mode-latex":"LaTeX","menu.insert":"Вставити","menu.insert.abs":"Абсолютне значення","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"Корінь n-го степеня","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Логарифм за основою a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Обчислення","menu.insert.derivative":"Похідна","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"Похідна n-го порядку","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Інтеграл","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Сума","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Добуток","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Комплексні числа","menu.insert.modulus":"Модуль","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Аргумент","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Дійсна частина","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Уявна частина","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Спряжене число","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Дошка","tooltip.bold":"Жирний","tooltip.italic":"Курсив","tooltip.fraktur":"Фрактурний","tooltip.script":"Рукописний","tooltip.caligraphic":"Каліграфічний","tooltip.typewriter":"Друкарський","tooltip.roman-upright":"Прямий римський","tooltip.row-by-col":"%@ × %@","menu.font-style":"Стиль шрифту","menu.accent":"Акцент","menu.decoration":"Оформлення","menu.color":"Колір","menu.background-color":"Фон","menu.evaluate":"Обчислити","menu.simplify":"Спростити","menu.solve":"Розв’язати","menu.solve-for":"Розв’язати для %@","menu.cut":"Вирізати","menu.copy":"Копіювати","menu.copy-as-latex":"Копіювати як LaTeX","menu.copy-as-ascii-math":"Копіювати як ASCII Math","menu.copy-as-mathml":"Копіювати як MathML","menu.paste":"Вставити","menu.select-all":"Вибрати все","color.red":"Червоний","color.orange":"Помаранчевий","color.yellow":"Жовтий","color.lime":"Лаймовий","color.green":"Зелений","color.teal":"Бірюзовий","color.cyan":"Синьо-зелений","color.blue":"Синій","color.indigo":"Індиго","color.purple":"Фіолетовий","color.magenta":"Пурпурний","color.black":"Чорний","color.dark-grey":"Темно-сірий","color.grey":"Сірий","color.light-grey":"Світло-сірий","color.white":"Білий"},"zh-cn":{"keyboard.tooltip.symbols":"符号","keyboard.tooltip.greek":"希腊字母","keyboard.tooltip.numeric":"数字","keyboard.tooltip.alphabetic":"罗马字母","tooltip.copy to clipboard":"复制到剪贴板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切换虚拟键盘","tooltip.undo":"撤消","menu.insert matrix":"插入矩阵","menu.borders":"矩阵分隔符","menu.array.add row above":"在后面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在后面添加列r","menu.array.add column before":"在前面添加列","menu.array.delete row":"删除行","menu.array.delete rows":"删除选定行","menu.array.delete column":"删除列","menu.array.delete columns":"删除选定的列","menu.mode":"模式","menu.mode-math":"数学","menu.mode-text":"文本","menu.mode-latex":"LaTeX","tooltip.blackboard":"黑板","tooltip.bold":"粗体","tooltip.italic":"斜体","tooltip.fraktur":"Fraktur","tooltip.script":"脚本","tooltip.caligraphic":"草书","tooltip.typewriter":"打字机","tooltip.roman-upright":"罗马直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"字体样式","menu.accent":"重音","menu.decoration":"装饰","menu.color":"颜色","menu.background-color":"背景","menu.evaluate":"计算","menu.simplify":"简化","menu.solve":"求解","menu.solve-for":"求解 %@","menu.cut":"剪切","menu.copy":"复制","menu.copy-as-latex":"复制为 LaTeX","menu.copy-as-ascii-math":"复制为 ASCII Math","menu.copy-as-mathml":"复制为 MathML","menu.paste":"粘贴","menu.select-all":"全选","color.red":"红色","color.orange":"橙色","color.yellow":"黄色","color.lime":"绿黄色","color.green":"绿色","color.teal":"青色","color.cyan":"蓝绿色","color.blue":"蓝色","color.indigo":"靛蓝色","color.purple":"紫色","color.magenta":"洋红色","color.black":"黑色","color.dark-grey":"深灰色","color.grey":"灰色","color.light-grey":"浅灰色","color.white":"白色"},"zh-tw":{"keyboard.tooltip.symbols":"符號","keyboard.tooltip.greek":"希臘字母","keyboard.tooltip.numeric":"數字","keyboard.tooltip.alphabetic":"羅馬字母","tooltip.copy to clipboard":"複製到剪貼板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切換虛擬鍵盤","tooltip.undo":"撤消","menu.insert matrix":"插入矩陣","menu.borders":"矩陣分隔符","menu.array.add row above":"在後面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在後面添加列","menu.array.add column before":"在前面添加列","menu.array.delete row":"刪除行","menu.array.delete rows":"刪除選定行","menu.array.delete column":"刪除列","menu.array.delete columns":"刪除選定的列","menu.mode":"模式","menu.mode-math":"數學","menu.mode-text":"文本","menu.mode-latex":"LaTeX","tooltip.blackboard":"黑板","tooltip.bold":"粗體","tooltip.italic":"斜體","tooltip.fraktur":"Fraktur","tooltip.script":"腳本","tooltip.caligraphic":"草書","tooltip.typewriter":"打字機","tooltip.roman-upright":"羅馬直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"字體樣式","menu.accent":"重音","menu.decoration":"裝飾","menu.color":"顏色","menu.background-color":"背景","menu.evaluate":"計算","menu.simplify":"簡化","menu.solve":"求解","menu.solve-for":"求解 %@","menu.cut":"剪下","menu.copy":"複製","menu.copy-as-latex":"複製為 LaTeX","menu.copy-as-ascii-math":"複製為 ASCII Math","menu.copy-as-mathml":"複製為 MathML","menu.paste":"貼上","menu.select-all":"全選","color.red":"紅色","color.orange":"橙色","color.yellow":"黃色","color.lime":"綠黃色","color.green":"綠色","color.teal":"青色","color.cyan":"藍綠色","color.blue":"藍色","color.indigo":"靛藍色","color.purple":"紫色","color.magenta":"洋紅色","color.black":"黑色","color.dark-grey":"深灰色","color.grey":"灰色","color.light-grey":"淺灰色","color.white":"白色"}};function Al(){return"window"in globalThis&&"document"in globalThis}function pR(){return"matchMedia"in window?window.matchMedia("(pointer: coarse)").matches:"ontouchstart"in window||navigator.maxTouchPoints>0}function Rwe(){try{return window.self!==window.top}catch{return!0}}function dR(){return typeof navigator.vibrate=="function"}function Sd(){var t,e;if(!Al())return"other";let r=(e=(t=navigator.userAgentData)==null?void 0:t.platform)!=null?e:navigator.platform;return/^mac/i.test(r)?navigator.maxTouchPoints===5?"ios":"macos":/^win/i.test(r)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function jwe(){if(!Al())return!0;if(/firefox/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/firefox\/(\d+)/i);return t?parseInt(t[1])>=78:!1}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/edg\/(\d+)/i);return t?parseInt(t[1])>=79:!1}return!0}function mR(){return HTMLElement.prototype.hasOwnProperty("popover")}var Zr={strings:Pwe,_locale:"",_dirty:!1,_subscribers:[],_numberFormatter:void 0,get locale(){return Zr._locale||(Zr._locale=Al()?navigator.language.slice(0,5):"en-US"),Zr._locale},set locale(t){Zr._locale=t,Zr._numberFormatter=void 0,Zr.dirty=!0},get numberFormatter(){if(!Zr._numberFormatter)try{Zr._numberFormatter=new Intl.NumberFormat(Zr.locale)}catch{try{Zr._numberFormatter=new Intl.NumberFormat(Zr.locale.slice(0,2))}catch{Zr._numberFormatter=new Intl.NumberFormat("en-US")}}return Zr._numberFormatter},merge(t,e){if(typeof t=="string"&&e)Zr.strings[t]=we(we({},Zr.strings[t]),e),Zr.dirty=!0;else for(let r of Object.keys(t))Zr.merge(r,t[r])},get dirty(){return Zr._dirty},set dirty(t){Zr._dirty||Zr._dirty===t||(Zr._dirty=!0,setTimeout(()=>{Zr._dirty=!1,this._subscribers.forEach(e=>e==null?void 0:e())},0))},subscribe(t){return Zr._subscribers.push(t),Zr._subscribers.length-1},unsubscribe(t){t<0||t>=Zr._subscribers.length||(Zr._subscribers[t]=void 0)},update(t){let e=t.querySelectorAll("[data-l10n-tooltip]");for(let r of e){let i=r.getAttribute("data-l10n-tooltip");if(i){let n=Ir(i);n&&r.setAttribute("data-tooltip",n)}}e=t.querySelectorAll("[data-l10n-arial-label]");for(let r of e){let i=r.getAttribute("data-l10n-arial-label");if(i){let n=Ir(i);n&&r.setAttribute("aria-label",n)}}}};function Ir(t,...e){if(t===void 0)return;let r="",i=Zr.locale;Zr.strings[i]&&(r=Zr.strings[i][t]);let n=i.slice(0,2);if(!r&&Zr.strings[n]&&(r=Zr.strings[n][t]),r||(r=Zr.strings.en[t]),!r)return;let a=/(%@|%([0-9]+)\$@)/g,s=a.exec(r),o=0;for(;s;){if(e[o++]){let l=s[2]?parseInt(s[2],10)-1:o-1,u=e[l];typeof u=="number"&&(u=Zr.numberFormatter.format(u)),r=r.replace(s[1],u)}s=a.exec(r)}return r=r.replace(/%%/g,"%"),r}var qwe={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},Uwe={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},M1={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",cyan:"#b8e5c9",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},k1={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",cyan:"#13a7ec",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},fR={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},Vwe={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function O5(t){var e,r,i,n,a,s;let o=t.split("!"),l,u,c,h=255,p=255,d=255,m=-1,f=o.length>0&&o[0].startsWith("-");f&&(o[0]=o[0].slice(1));for(let v=0;v<o.length;v++){l=h,u=p,c=d;let y=(e=o[v].trim().match(/^([A-Za-z\d-]+)/))==null?void 0:e[1],x=y==null?void 0:y.toLowerCase(),g=y&&(s=(a=(n=(i=(r=k1[x])!=null?r:k1[fR[y]])!=null?i:Uwe[y])!=null?n:Vwe[y])!=null?a:qwe[y])!=null?s:o[v].trim(),b=g.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(b!=null&&b[1]&&b[2]&&b[3])h=Math.max(0,Math.min(255,Number.parseInt(b[1],16))),p=Math.max(0,Math.min(255,Number.parseInt(b[2],16))),d=Math.max(0,Math.min(255,Number.parseInt(b[3],16)));else if(b=g.match(/^#([\da-f]{3})$/i),b!=null&&b[1]){let k=Number.parseInt(b[1][0],16),w=Number.parseInt(b[1][1],16),N=Number.parseInt(b[1][2],16);h=Math.max(0,Math.min(255,k*16+k)),p=Math.max(0,Math.min(255,w*16+w)),d=Math.max(0,Math.min(255,N*16+N))}else if(b=g.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),b!=null&&b[1]&&b[2]&&b[3])h=Math.max(0,Math.min(255,Number.parseInt(b[1]))),p=Math.max(0,Math.min(255,Number.parseInt(b[2]))),d=Math.max(0,Math.min(255,Number.parseInt(b[3])));else return;m>=0&&(h=(1-m)*h+m*l,p=(1-m)*p+m*u,d=(1-m)*d+m*c,m=-1),v+1<o.length&&(m=Math.max(0,Math.min(100,Number.parseInt(o[++v])))/100)}return m>=0&&(h=m*h+(1-m)*l,p=m*p+(1-m)*u,d=m*d+(1-m)*c),f&&(h=255-h,p=255-p,d=255-d),"#"+("00"+Math.round(h).toString(16)).slice(-2)+("00"+Math.round(p).toString(16)).slice(-2)+("00"+Math.round(d).toString(16)).slice(-2)}function K9(t){var e,r;return t=t.trim(),(r=(e=M1[t.toLowerCase()])!=null?e:M1[fR[t]])!=null?r:O5(t)}function Gwe(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&e.a===void 0&&(e.a=1),e}function X9(t,e,r){return r<0&&(r+=6),r>=6&&(r-=6),r<1?(e-t)*r+t:r<3?e:r<4?(e-t)*(4-r)+t:t}function Zwe(t){let[e,r,i]=[t.h,t.s,t.l];e=(e+360)%360/60,i=Math.max(0,Math.min(i,1)),r=Math.max(0,Math.min(r,1));let n=i<=.5?i*(r+1):i+r-i*r,a=i*2-n;return{r:Math.round(255*X9(a,n,e+2)),g:Math.round(255*X9(a,n,e)),b:Math.round(255*X9(a,n,e-2))}}function Q9(t){return t<0?0:t>255?255:Math.round(t)}function Hwe(t){let{r:e,g:r,b:i}=t,n=((1<<24)+(Q9(e)<<16)+(Q9(r)<<8)+Q9(i)).toString(16).slice(1);return n[0]===n[1]&&n[2]===n[3]&&n[4]===n[5]&&n[6]===n[7]&&(n=n[0]+n[2]+n[4]),"#"+n}function Wwe(t){let{r:e,g:r,b:i}=t;e=e/255,r=r/255,i=i/255;let n=Math.min(e,r,i),a=Math.max(e,r,i),s=a-n,o,l;a===n?o=0:e===a?o=(r-i)/s:r===a?o=2+(i-e)/s:i===a&&(o=4+(e-r)/s),o=Math.min(o*60,360),o<0&&(o+=360);let u=(n+a)/2;return a===n?l=0:u<=.5?l=s/(a+n):l=s/(2-a-n),{h:o,s:l,l:u}}function Ywe(t){let e=Gwe(t);if(!e)return t;let{h:r,s:i,l:n}=Wwe(e);return i+=.1,n-=.1,Hwe(Zwe({h:r,s:i,l:n}))}var gR={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10178:"\\perp",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},J9={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},vR=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120822,len:10,offset:48,variant:"monospace"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"}];function ew(t,e,r){if(!/[A-Za-z\d]/.test(t)||(r==="up"&&(r=void 0),!e&&!r))return;let i=t.codePointAt(0);if(i===void 0)return t;for(let n of vR)if((!e||n.variant===e)&&(!r||n.style===r)&&i>=n.offset&&i<n.offset+n.len){let a=n.start+i-n.offset;return String.fromCodePoint(J9[a]||a)}}function Kwe(t){var e;if((t<119808||t>120831)&&(t<8448||t>8527))return{char:String.fromCodePoint(t)};for(let r in J9)if(J9[r]===t){t=(e=r.codePointAt(0))!=null?e:0;break}for(let r of vR)if(t>=r.start&&t<r.start+r.len)return{char:String.fromCodePoint(t-r.start+r.offset),variant:r.variant,style:r.style};return{char:String.fromCodePoint(t)}}function Xwe(t){var e;if("{}<>[]$&*#^_%:'˜".includes(t)||t.length>1)return;let r=(e=t.codePointAt(0))!=null?e:0,i=gR[r];if(i)return i;let{char:n,variant:a,style:s}=Kwe(r);if(!(!a&&!s)){switch(i=n,a){case"double-struck":i=`\\mathbb{${i}}`;break;case"fraktur":i=`\\mathfrak{${i}}`;break;case"script":i=`\\mathscr{${i}}`;break;case"sans-serif":i=`\\mathsf{${i}}`;break;case"monospace":i=`\\mathtt{${i}}`;break;case"calligraphic":i=`\\mathcal{${i}}`;break}switch(s){case"bold":i=`\\mathbf{${i}}`;break;case"italic":i=`\\mathit{${i}}`;break;case"bolditalic":i=`\\mathbfit{${i}}`;break}return i}}function Ft(t){return t?Array.isArray(t)?t:typeof t=="object"&&"group"in t?t.group:[]:[]}var u2={},F5=we({},gR),Dd={},tw={},Qwe={darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",C:"\\mathbb{C}",H:"\\mathbb{H}",N:"\\mathbb{N}",Q:"\\mathbb{Q}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",doublecap:"\\Cap",doublecup:"\\Cup",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",hAar:"\\Leftrightarrow",harr:"\\leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",Larr:"\\Leftarrow",lArr:"\\Leftarrow",lrarr:"\\leftrightarrow",Lrarr:"\\Leftrightarrow",lrArr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",part:"\\partial",plusmn:"\\pm",rarr:"\\rightarrow",Rarr:"\\Rightarrow",rArr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",restriction:"\\upharpoonright",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",varcoppa:"\\coppa",weierp:"\\wp",Zeta:"\\mathrm{Z}"},Jwe={varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1,captureSelection:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},eMe={bra:{def:"\\mathinner{\\langle{#1}|}",args:1,captureSelection:!1},ket:{def:"\\mathinner{|{#1}\\rangle}",args:1,captureSelection:!1},braket:{def:"\\mathinner{\\langle{#1}\\rangle}",args:1,captureSelection:!1},set:{def:"\\mathinner{\\lbrace #1 \\rbrace}",args:1,captureSelection:!1},Bra:{def:"\\left\\langle #1\\right|",args:1,captureSelection:!1},Ket:{def:"\\left|#1\\right\\rangle",args:1,captureSelection:!1},Braket:{def:"\\left\\langle{#1}\\right\\rangle",args:1,captureSelection:!1},Set:{def:"\\left\\lbrace #1 \\right\\rbrace",args:1,captureSelection:!1}},tMe={iff:{primitive:!0,captureSelection:!0,def:"\\;\\Longleftrightarrow\\;}"},nicefrac:"^{#1}\\!\\!/\\!_{#2}",phase:{def:"\\enclose{phasorangle}{#1}",args:1,captureSelection:!1},rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}",mathstrut:{def:"\\vphantom{(}",primitive:!0},angl:"\\enclose{actuarial}{#1}",angln:"\\enclose{actuarial}{n}",anglr:"\\enclose{actuarial}{r}",anglk:"\\enclose{actuarial}{k}",mathtools:{primitive:!0,package:{ordinarycolon:":",vcentcolon:"\\mathrel{\\mathop\\ordinarycolon}",dblcolon:'{\\mathop{\\char"2237}}',coloneqq:'{\\mathop{\\char"2254}}',Coloneqq:'{\\mathop{\\char"2a74}}',coloneq:'{\\mathop{\\char"2254}}',Coloneq:'{\\mathop{\\char"2A74}}',eqqcolon:'{\\mathop{\\char"2255}}',Eqqcolon:'{\\mathop{\\char"3D\\char"2237}}',eqcolon:'{\\mathop{\\char"2255}}',Eqcolon:'{\\mathop{\\char"3D\\char"2237}}',colonapprox:'{\\mathop{\\char"003A\\char"2248}}',Colonapprox:'{\\mathop{\\char"2237\\char"2248}}',colonsim:'{\\mathop{\\char"3A\\char"223C}}',Colonsim:'{\\mathop{\\char"2237\\char"223C}}',colondash:"\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",Colondash:"\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"}},ratio:"\\vcentcolon",coloncolon:"\\dblcolon",colonequals:"\\coloneq",coloncolonequals:"\\Coloneq",equalscolon:"\\eqcolon",equalscoloncolon:"\\Eqcolon",colonminus:"\\colondash",coloncolonminus:"\\Colondash",minuscolon:"\\dashcolon",minuscoloncolon:"\\Dashcolon",coloncolonapprox:"\\Colonapprox",coloncolonsim:"\\Colonsim",simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",simcoloncolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcoloncolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",notni:"\\mathrel{\\char`∌}",limsup:"\\operatorname*{lim\\,sup}",liminf:"\\operatorname*{lim\\,inf}",injlim:"\\operatorname*{inj\\,lim}",projlim:"\\operatorname*{proj\\,lim}",varlimsup:"\\operatorname*{\\overline{lim}}",varliminf:"\\operatorname*{\\underline{lim}}",varinjlim:"\\operatorname*{\\underrightarrow{lim}}",varprojlim:"\\operatorname*{\\underleftarrow{lim}}",argmin:"\\operatorname*{arg\\,min}",argmax:"\\operatorname*{arg\\,max}",plim:"\\mathop{\\operatorname{plim}}\\limits",tripledash:{def:"\\vphantom{-}\\raise{4mu}{\\mkern1.5mu\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2mu}}",expand:!0},"braket.sty":{package:eMe},"amsmath.sty":{package:Jwe,primitive:!0},"texvc.sty":{package:Qwe,primitive:!1}},Ad={" ":32,"\\!":33,"\\#":35,"\\$":36,"\\%":37,"\\&":38,"\\_":95,"-":45,"\\textunderscore":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\textbraceleft":123,"\\textbraceright":125,"\\lbrace":123,"\\rbrace":125,"\\lbrack":91,"\\rbrack":93,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"–":8211,"—":8212,"‘":8216,"’":8217,"“":8220,"”":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},rMe=/[\w!@*()-=+{}\[\]\\';:?/.,~<>`|$%#&^" ]/,rw,c2;jwe()?(rw=new RegExp("\\p{Letter}","u"),c2=new RegExp("[0-9\\p{Letter}]","u")):(rw=/[a-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/,c2=/[\da-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/);function iw(t,e,r="mord",i){e!==void 0&&(u2[t]={definitionType:"symbol",type:r,variant:i,codepoint:e},F5[e]||(F5[e]=t))}function Za(t,e,r){if(typeof t=="string"){for(let i=0;i<t.length;i++){let n=t.charAt(i);iw(n,n.codePointAt(0))}return}for(let[i,n,a,s]of t)iw(i,n,a??e,s??r)}function yR(t,e){for(let r=t;r<=e;r++)iw(String.fromCodePoint(r),r)}function iMe(t){var e;return(e=tw[t])!=null?e:null}function nMe(t,e){var r,i;if(e.length===0||e==="\\"||!e.startsWith("\\"))return[];let n=[];for(let s in Dd)s.startsWith(e)&&!Dd[s].infix&&n.push({match:s,frequency:(r=Dd[s].frequency)!=null?r:0});for(let s in u2)s.startsWith(e)&&n.push({match:s,frequency:(i=u2[s].frequency)!=null?i:0});let a=e.substring(1);for(let s of Object.keys(t.options.macros))s.startsWith(a)&&n.push({match:"\\"+s,frequency:0});return n.sort((s,o)=>{var l,u;return s.frequency===o.frequency?s.match.length===o.match.length?s.match<o.match?-1:1:s.match.length-o.match.length:((l=o.frequency)!=null?l:0)-((u=s.frequency)!=null?u:0)}),n.map(s=>s.match)}function bR(t){let e="auto",r=t.match(/:([^=]+)/);return r&&(e=r[1].trim()),e}function P5(t){if(!t)return[];let e=[],r=t.split("]");if(r[0].startsWith("[")){e.push({isOptional:!0,type:bR(r[0].slice(1))});for(let i=1;i<=r.length;i++)e.push(...P5(r[i]))}else if(r=t.split("}"),r[0].startsWith("{")){e.push({isOptional:!1,type:bR(r[0].slice(1))});for(let i=1;i<=r.length;i++)e.push(...P5(r[i]))}return e}function xR(t){if(!t)return"";let e="",r=!0;for(let i of t)typeof i.value=="string"?e+=i.value:r=!1;return r?e:""}function Ru(t,e,r){typeof t=="string"&&(t=[t]);let i={tabular:!0,rootOnly:!1,params:P5(e),createAtom:r};for(let n of t)tw[n]=i}function nw(t,e,r){var i;typeof t=="string"&&(t=[t]);let n={tabular:(i=r==null?void 0:r.tabular)!=null?i:!1,rootOnly:!0,params:[],createAtom:e};for(let a of t)tw[a]=n}function ht(t,e,r){var i,n;r||(r={});let a={definitionType:"function",params:P5(e),ifMode:r.ifMode,isFunction:(i=r.isFunction)!=null?i:!1,applyMode:r.applyMode,infix:(n=r.infix)!=null?n:!1,parse:r.parse,createAtom:r.createAtom,applyStyle:r.applyStyle,serialize:r.serialize,render:r.render};if(typeof t=="string")Dd["\\"+t]=a;else for(let s of t)Dd["\\"+s]=a}var R5;function aw(t){return R5||(R5=j5(tMe)),t?j5(we(we({},R5),t)):R5}function wR(t,e){var r,i,n,a;if(typeof t=="string"){let s=0,o=t;return/(^|[^\\])#1/.test(o)&&(s=1),/(^|[^\\])#2/.test(o)&&(s=2),/(^|[^\\])#3/.test(o)&&(s=3),/(^|[^\\])#4/.test(o)&&(s=4),/(^|[^\\])#5/.test(o)&&(s=5),/(^|[^\\])#6/.test(o)&&(s=6),/(^|[^\\])#7/.test(o)&&(s=7),/(^|[^\\])#8/.test(o)&&(s=8),/(^|[^\\])#9/.test(o)&&(s=9),{expand:(r=e==null?void 0:e.expand)!=null?r:!0,captureSelection:(i=e==null?void 0:e.captureSelection)!=null?i:!0,args:s,def:o}}return we({expand:(n=e==null?void 0:e.expand)!=null?n:!0,captureSelection:(a=e==null?void 0:e.captureSelection)!=null?a:!0,args:0},t)}function j5(t){if(!t)return{};let e={};for(let r of Object.keys(t)){let i=t[r];if(i==null)delete e[r];else if(typeof i=="object"&&"package"in i)for(let n of Object.keys(i.package))e[n]=wR(i.package[n],{expand:!i.primitive,captureSelection:i.captureSelection});else e[r]=wR(i)}return e}function Ss(t,e="math"){if(!t||t.length===0)return null;let r=null;if(t.startsWith("\\")){if(r=Dd[t],r)return!r.ifMode||r.ifMode===e?r:null;e==="math"?r=u2[t]:Ad[t]&&(r={definitionType:"symbol",type:"mord",codepoint:Ad[t]})}else if(e==="math"){if(r=u2[t],!r&&t.length===1){let i=MR("math",t.codePointAt(0));return i.startsWith("\\")?je(we({},Ss(i,"math")),{command:i}):null}}else Ad[t]?r={definitionType:"symbol",type:"mord",codepoint:Ad[t]}:e==="text"&&(r={definitionType:"symbol",type:"mord",codepoint:t.codePointAt(0)});return r??null}function sw(t,e){if(!t.startsWith("\\"))return null;let r=t.slice(1);return e[r]}function MR(t,e){return e===void 0?"":t==="math"&&F5[e]?F5[e]:t==="text"&&Object.keys(Ad).find(i=>Ad[i]===e)||String.fromCodePoint(e)}var $l=[0,.68889,0,0,.72222],C1=[0,.68889,0,0,.66667],ow=[0,.68889,0,0,.77778],q5=[0,.68889,0,0,.61111],kR=[.16667,.68889,0,0,.77778],h2=[0,.68889,0,0,.55556],Ei=[0,0,0,0,.25],CR=[0,.825,0,0,2.33334],NR=[0,.9,0,0,2.33334],U5=[0,.68889,0,0,.54028],lw=[-.03598,.46402,0,0,.5],Vs=[-.13313,.36687,0,0,1],V5=[.01354,.52239,0,0,1],SR=[.01354,.52239,0,0,1.11111],DR=[0,.54986,0,0,1],G5=[0,.69224,0,0,.5],uw=[0,.43056,0,0,1],Qc=[.08198,.58198,0,0,.77778],Z5=[.19444,.69224,0,0,.41667],H5=[.1808,.675,0,0,1],AR=[.19444,.69224,0,0,.83334],$R=[.13667,.63667,0,0,1],_R=[-.064,.437,0,0,1.334],Jc=[.08167,.58167,0,0,.77778],p2=[0,.69224,0,0,.72222],cw=[0,.69224,0,0,.66667],W5=[-.13313,.36687,0,0,.77778],ER=[.06062,.54986,0,0,.77778],Y5=[0,.69224,0,0,.77778],$d=[.25583,.75583,0,0,.77778],R0=[.25142,.75726,0,0,.77778],_d=[.20576,.70576,0,0,.77778],o0=[.30274,.79383,0,0,.77778],d2=[.22958,.72958,0,0,.77778],IR=[.1808,.675,0,0,.77778],j0=[.13667,.63667,0,0,.77778],$o=[.13597,.63597,0,0,.77778],eh=[.03517,.54986,0,0,.77778],Ed=[0,.675,0,0,.77778],TR=[.19444,.69224,0,0,.61111],LR=[0,.54986,0,0,.76042],zR=[0,.54986,0,0,.66667],th=[.0391,.5391,0,0,.77778],BR=[.03517,.54986,0,0,1.33334],OR=[.38569,.88569,0,0,.77778],K5=[.23222,.74111,0,0,.77778],FR=[.19444,.69224,0,0,.77778],PR=[0,.37788,0,0,.5],X5=[0,.54986,0,0,.72222],RR=[0,.69224,0,0,.83334],jR=[.11111,.69224,0,0,.66667],Id=[.26167,.75726,0,0,.77778],qR=[.48256,.98256,0,0,.77778],UR=[.28481,.79383,0,0,.77778],VR=[.08167,.58167,0,0,.22222],GR=[.08167,.58167,0,0,.38889],ZR=[0,.43056,.04028,0,.66667],HR=[.41951,.91951,0,0,.77778],WR=[.24982,.74947,0,0,.38865],YR=[.08319,.58283,0,0,.75623],KR=[0,.10803,0,0,.27764],hw=[0,.47534,0,0,.50181],m2=[.18906,.47534,0,0,.50181],XR=[0,.69141,0,0,.50181],QR=[.24982,.74947,0,0,.27764],pw=[0,.69141,0,0,.21471],Q5=[.25,.75,0,0,.44722],_l=[0,.64444,0,0,.575],Td=[.08556,.58556,0,0,.89444],J5=[0,.69444,0,0,.89444],ev=[0,.68611,0,0,.9],dw=[0,.68611,0,0,.86944],rh=[.25,.75,0,0,.575],tv=[.25,.75,0,0,.31944],N1=[0,.69444,0,0,.63889],Ld=[0,.69444,0,0,.31944],JR=[0,.44444,0,0,.63889],ej=[0,.44444,0,0,.51111],ih=[0,.69444,0,0,.575],l0=[.13333,.63333,0,0,.89444],tj=[0,.44444,0,0,.31944],rj=[0,.69444,0,0,.86944],ij=[0,.68611,0,0,.69166],rv=[0,.68611,0,0,.83055],mw=[0,.68611,0,0,.89444],fw=[0,.69444,0,0,.60278],nj=[.19444,.69444,0,0,.51111],aj=[0,.69444,0,0,.83055],q0=[-.10889,.39111,0,0,1.14999],sj=[.19444,.69444,0,0,.575],f2=[.19444,.69444,0,0,1.14999],oj=[.19444,.69444,0,0,.70277],lj=[.05556,.75,0,0,.575],gw=[0,.68611,0,0,.95833],uj=[.08556,.58556,0,0,.76666],vw=[-.02639,.47361,0,0,.575],cj=[0,.44444,0,0,.89444],S1=[0,.55556,0,0,.76666],hj=[-.10889,.39111,0,0,.89444],yw=[.00222,.50222,0,0,.89444],nh=[.19667,.69667,0,0,.89444],pj=[.08556,.58556,0,0,1.14999],bw=[0,.69444,0,0,.70277],iv=[-.02778,.47222,0,0,.575],nv=[.25,.75,0,0,.51111],dj=[-.13889,.36111,0,0,1.14999],mj=[.19444,.69444,0,0,1.02222],av=[.12963,.69444,0,0,.89444],fj=[.19444,.69444,0,0,.44722],ah=[0,.64444,.13167,0,.59111],gj=[.19444,.64444,.13167,0,.59111],xw=[0,.68611,.17208,0,.8961],vj=[.19444,.44444,.105,0,.53222],yj=[0,.44444,.085,0,.82666],bj=[0,.69444,.06709,0,.59111],sv=[0,.69444,.12945,0,.35555],xj=[0,.69444,0,0,.94888],ww=[0,.69444,.11472,0,.59111],wj=[0,.68611,.10778,0,.88555],Mj=[0,.69444,.07939,0,.62055],ov=[0,.69444,.12417,0,.30667],sh=[0,.64444,.13556,0,.51111],kj=[.19444,.64444,.13556,0,.51111],lv=[0,.68333,.16389,0,.74333],Cj=[.19444,.43056,.08847,0,.46],Nj=[0,.43056,.07514,0,.71555],Sj=[0,.69444,.06646,0,.51111],Dj=[0,.69444,0,0,.83129],Aj=[0,.69444,.1225,0,.51111],$j=[0,.68333,.09403,0,.76666],_j=[0,.68333,.11111,0,.76666],Ej=[0,.69444,.06961,0,.51444],ju=[0,.69444,0,0,.27778],zd=[.25,.75,0,0,.38889],El=[0,.64444,0,0,.5],D1=[0,.69444,0,0,.77778],A1=[0,.68333,0,0,.75],g2=[0,.68333,0,0,.77778],Ij=[0,.68333,0,0,.68056],v2=[0,.68333,0,0,.72222],qu=[.25,.75,0,0,.5],uv=[.25,.75,0,0,.27778],Ia=[0,.69444,0,0,.5],Bd=[0,.69444,0,0,.55556],Mw=[0,.43056,0,0,.44445],y2=[0,.43056,0,0,.5],Tj=[.19444,.43056,0,0,.55556],Lj=[0,.43056,0,0,.55556],Il=[.08333,.58333,0,0,.77778],zj=[0,.43056,0,0,.27778],Bj=[0,.66786,0,0,.27778],Oj=[0,.69444,0,0,.75],Fj=[0,.66786,0,0,.5],Pj=[0,.68333,0,0,.625],kw=[.19444,.69444,0,0,.44445],b2=[0,.69444,0,0,.72222],Rj=[.19444,.69444,0,0,.5],x2=[.19444,.69444,0,0,1],jj=[.011,.511,0,0,1.126],Cw=[.19444,.69444,0,0,.61111],Nw=[.05556,.75,0,0,.5],qj=[0,.68333,0,0,.83334],Uj=[.0391,.5391,0,0,.66667],Sw=[-.05555,.44445,0,0,.5],Vj=[0,.43056,0,0,.77778],$1=[0,.55556,0,0,.66667],cv=[-.03625,.46375,0,0,.77778],Gj=[-.01688,.48312,0,0,.77778],Zj=[.0391,.5391,0,0,1],oh=[0,.69444,0,0,.61111],hv=[-.03472,.46528,0,0,.5],pv=[.25,.75,0,0,.44445],Hj=[-.14236,.35764,0,0,1],dv=[.244,.744,0,0,.412],Wj=[.19444,.69444,0,0,.88889],mv=[.12963,.69444,0,0,.77778],Yj=[.19444,.69444,0,0,.38889],Kj=[.011,.511,0,0,1.638],Xj=[.19444,.69444,0,0,0],fv=[0,.44444,0,0,.575],w2=[.19444,.44444,0,0,.575],Qj=[0,.68611,0,0,.75555],Jj=[0,.69444,0,0,.66759],eq=[0,.68611,0,0,.80555],tq=[0,.68611,.08229,0,.98229],rq=[0,.68611,0,0,.76666],iq=[0,.44444,0,0,.58472],nq=[.19444,.44444,0,0,.6118],M2=[.19444,.43056,0,0,.5],aq=[0,.68333,.02778,.08334,.76278],sq=[0,.68333,.08125,.05556,.83125],oq=[0,.43056,0,.05556,.48472],lq=[.19444,.43056,0,.08334,.51702],uq=[.25,.75,0,0,.42778],Ds=[0,.69444,0,0,.55],Uu=[0,.69444,0,0,.73334],lh=[0,.69444,0,0,.79445],cq=[0,.69444,0,0,.51945],Dw=[0,.69444,0,0,.70278],hq=[0,.69444,0,0,.76389],pq=[.25,.75,0,0,.34306],Aw=[0,.69444,0,0,.56111],dq=[0,.69444,0,0,.25556],mq=[.19444,.45833,0,0,.56111],fq=[0,.45833,0,0,.56111],gv=[0,.69444,0,0,.30556],gq=[0,.69444,0,0,.58056],vq=[0,.69444,0,0,.67223],$w=[0,.69444,0,0,.85556],_w=[0,.69444,0,0,.55834],U0=[0,.65556,.11156,0,.5],Ew=[0,.69444,.08094,0,.70834],Iw=[.17014,0,0,0,.44445],yq=[0,.69444,.0799,0,.5],bq=[0,.69444,0,0,.73752],xq=[0,.69444,.09205,0,.5],wq=[0,.69444,.09031,0,.77778],Tw=[0,.69444,.07816,0,.27778],Mq=[0,.69444,.00316,0,.5],kq=[.19444,.69444,0,0,.83334],Cq=[.05556,.75,0,0,.83334],Nq=[0,.75,0,0,.5],Sq=[.125,.08333,0,0,.27778],Dq=[0,.08333,0,0,.27778],V0=[0,.65556,0,0,.5],Lw=[0,.69444,0,0,.47222],Vu=[0,.69444,0,0,.66667],Aq=[0,.69444,0,0,.59722],zw=[0,.69444,0,0,.54167],Bw=[0,.69444,0,0,.70834],$q=[.25,.75,0,0,.28889],Ow=[0,.69444,0,0,.51667],_q=[0,.44444,0,0,.44445],Eq=[.19444,.44444,0,0,.51667],Iq=[0,.44444,0,0,.38333],Tq=[0,.44444,0,0,.51667],Lq=[0,.69444,0,0,.83334],zq=[.35001,.85,0,0,.45834],Bq=[.35001,.85,0,0,.57778],Oq=[.35001,.85,0,0,.41667],Fq=[.35001,.85,0,0,.58334],vv=[0,.72222,0,0,.55556],Pq=[1e-5,.6,0,0,.66667],Rq=[1e-5,.6,0,0,.77778],jq=[.25001,.75,0,0,.94445],qq=[.306,.805,.19445,0,.47222],Uq=[.30612,.805,.19445,0,.47222],Od=[.25001,.75,0,0,.83334],Fd=[.35001,.85,0,0,.47222],Fw=[.25001,.75,0,0,1.11111],Vq=[.65002,1.15,0,0,.59722],Gq=[.65002,1.15,0,0,.81111],Zq=[.65002,1.15,0,0,.47222],Hq=[.65002,1.15,0,0,.66667],yv=[0,.75,0,0,1],Wq=[.55001,1.05,0,0,1.27778],Yq=[.862,1.36,.44445,0,.55556],Kq=[.86225,1.36,.44445,0,.55556],Pd=[.55001,1.05,0,0,1.11111],bv=[.65002,1.15,0,0,.52778],Xq=[.65002,1.15,0,0,.61111],Pw=[.55001,1.05,0,0,1.51112],Qq=[.95003,1.45,0,0,.73611],Jq=[.95003,1.45,0,0,1.04445],eU=[.95003,1.45,0,0,.52778],xv=[.95003,1.45,0,0,.75],wv=[0,.75,0,0,1.44445],Mv=[.95003,1.45,0,0,.58334],tU=[1.25003,1.75,0,0,.79167],rU=[1.25003,1.75,0,0,1.27778],iU=[1.25003,1.75,0,0,.58334],kv=[1.25003,1.75,0,0,.80556],Cv=[0,.825,0,0,1.8889],Nv=[1.25003,1.75,0,0,.63889],Sv=[.64502,1.155,0,0,.875],nU=[1e-5,.6,0,0,.875],Rw=[-99e-5,.601,0,0,.66667],Dv=[.64502,1.155,0,0,.66667],aU=[1e-5,.9,0,0,.88889],sU=[.65002,1.15,0,0,.88889],oU=[.90001,0,0,0,.88889],lU=[-.00499,.605,0,0,1.05556],Av=[0,.12,0,0,.45],Ut=[0,.61111,0,0,.525],u0=[.08333,.69444,0,0,.525],uU=[-.08056,.53055,0,0,.525],cU=[-.05556,.55556,0,0,.525],lo=[0,.43056,0,0,.525],k2=[.22222,.43056,0,0,.525],hU=[0,0,0,0,.525],aMe={"AMS-Regular":{32:Ei,65:$l,66:C1,67:$l,68:$l,69:C1,70:q5,71:ow,72:ow,73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:ow,76:C1,77:[0,.68889,0,0,.94445],78:$l,79:kR,80:q5,81:kR,82:$l,83:h2,84:C1,85:$l,86:$l,87:[0,.68889,0,0,1],88:$l,89:$l,90:C1,107:h2,160:Ei,165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:h2,295:U5,710:CR,732:NR,770:CR,771:NR,989:Jc,1008:ZR,8245:[0,.54986,0,0,.275],8463:U5,8487:$l,8498:h2,8502:C1,8503:[0,.68889,0,0,.44445],8504:C1,8513:[0,.68889,0,0,.63889],8592:lw,8594:lw,8602:Vs,8603:Vs,8606:V5,8608:V5,8610:SR,8611:SR,8619:DR,8620:DR,8621:[-.13313,.37788,0,0,1.38889],8622:Vs,8624:G5,8625:G5,8630:uw,8631:uw,8634:Qc,8635:Qc,8638:Z5,8639:Z5,8642:Z5,8643:Z5,8644:H5,8646:H5,8647:H5,8648:AR,8649:H5,8650:AR,8651:V5,8652:V5,8653:Vs,8654:Vs,8655:Vs,8666:$R,8667:$R,8669:[-.13313,.37788,0,0,1],8672:_R,8674:_R,8705:[0,.825,0,0,.5],8708:h2,8709:Jc,8717:[0,.43056,0,0,.42917],8722:lw,8724:[.08198,.69224,0,0,.77778],8726:Jc,8733:Y5,8736:p2,8737:p2,8738:[.03517,.52239,0,0,.72222],8739:VR,8740:[.25142,.74111,0,0,.27778],8741:GR,8742:[.25142,.74111,0,0,.5],8756:cw,8757:cw,8764:W5,8765:[-.13313,.37788,0,0,.77778],8769:W5,8770:cv,8774:o0,8776:Gj,8778:Jc,8782:ER,8783:ER,8785:Qc,8786:Qc,8787:Qc,8790:Y5,8791:d2,8796:[.08198,.91667,0,0,.77778],8806:$d,8807:$d,8808:R0,8809:R0,8812:[.25583,.75583,0,0,.5],8814:_d,8815:_d,8816:o0,8817:o0,8818:d2,8819:d2,8822:IR,8823:IR,8828:j0,8829:j0,8830:d2,8831:d2,8832:_d,8833:_d,8840:o0,8841:o0,8842:$o,8843:$o,8847:eh,8848:eh,8858:Qc,8859:Qc,8861:Qc,8862:Ed,8863:Ed,8864:Ed,8865:Ed,8872:[0,.69224,0,0,.61111],8873:p2,8874:[0,.69224,0,0,.88889],8876:q5,8877:q5,8878:$l,8879:$l,8882:eh,8883:eh,8884:j0,8885:j0,8888:[0,.54986,0,0,1.11111],8890:Tj,8891:TR,8892:TR,8901:[0,.54986,0,0,.27778],8903:Jc,8905:Jc,8906:Jc,8907:Y5,8908:Y5,8909:[-.03598,.46402,0,0,.77778],8910:LR,8911:LR,8912:eh,8913:eh,8914:zR,8915:zR,8916:cw,8918:th,8919:th,8920:BR,8921:BR,8922:OR,8923:OR,8926:j0,8927:j0,8928:o0,8929:o0,8934:K5,8935:K5,8936:K5,8937:K5,8938:_d,8939:_d,8940:o0,8941:o0,8994:FR,8995:FR,9416:[.15559,.69224,0,0,.90222],9484:G5,9488:G5,9492:PR,9496:PR,9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:Ed,9633:Ed,9650:X5,9651:X5,9654:eh,9660:X5,9661:X5,9664:eh,9674:jR,9733:[.19444,.69224,0,0,.94445],10003:RR,10016:RR,10731:jR,10846:[.19444,.75583,0,0,.61111],10877:j0,10878:j0,10885:$d,10886:$d,10887:$o,10888:$o,10889:Id,10890:Id,10891:qR,10892:qR,10901:j0,10902:j0,10933:R0,10934:R0,10935:Id,10936:Id,10937:Id,10938:Id,10949:$d,10950:$d,10955:UR,10956:UR,57350:VR,57351:GR,57352:Jc,57353:ZR,57356:R0,57357:R0,57358:HR,57359:o0,57360:o0,57361:HR,57366:R0,57367:R0,57368:R0,57369:R0,57370:$o,57371:$o},"Caligraphic-Regular":{32:Ei,65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:Ei},"Fraktur-Regular":{32:Ei,33:[0,.69141,0,0,.29574],34:pw,38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:WR,41:WR,42:[0,.62119,0,0,.27764],43:YR,44:KR,45:YR,46:KR,47:[.24982,.74947,0,0,.50181],48:hw,49:hw,50:hw,51:m2,52:m2,53:m2,54:XR,55:m2,56:XR,57:m2,58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:QR,93:QR,94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:Ei,8216:pw,8217:pw,58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:Ei,33:[0,.69444,0,0,.35],34:fw,35:[.19444,.69444,0,0,.95833],36:lj,37:[.05556,.75,0,0,.95833],38:J5,39:Ld,40:Q5,41:Q5,42:[0,.75,0,0,.575],43:l0,44:[.19444,.15556,0,0,.31944],45:Iq,46:[0,.15556,0,0,.31944],47:rh,48:_l,49:_l,50:_l,51:_l,52:_l,53:_l,54:_l,55:_l,56:_l,57:_l,58:tj,59:[.19444,.44444,0,0,.31944],60:Td,61:hj,62:Td,63:[0,.69444,0,0,.54305],64:J5,65:dw,66:[0,.68611,0,0,.81805],67:rv,68:[0,.68611,0,0,.88194],69:Qj,70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:ev,73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:ij,77:[0,.68611,0,0,1.09166],78:ev,79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:dw,89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:tv,92:rh,93:tv,94:ih,95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:N1,99:ej,100:N1,101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:N1,105:Ld,106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:Ld,109:[0,.44444,0,0,.95833],110:JR,111:fv,112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:JR,118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:ej,123:rh,124:tv,125:rh,126:[.35,.34444,0,0,.575],160:Ei,163:[0,.69444,0,0,.86853],168:ih,172:[0,.44444,0,0,.76666],176:rj,177:l0,184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:l0,216:[.04861,.73472,0,0,.89444],223:Aq,230:[0,.44444,0,0,.83055],247:l0,248:[.09722,.54167,0,0,.575],305:tj,338:[0,.68611,0,0,1.16944],339:cj,567:[.19444,.44444,0,0,.35139],710:ih,711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:ih,715:ih,728:ih,729:Ld,730:rj,732:ih,733:ih,915:ij,916:gw,920:mw,923:eq,926:rq,928:ev,931:rv,933:mw,934:rv,936:mw,937:rv,8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:Ld,8217:Ld,8220:fw,8221:fw,8224:nj,8225:nj,8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:Jj,8465:aj,8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:aj,8501:bw,8592:q0,8593:sj,8594:q0,8595:sj,8596:q0,8597:rh,8598:f2,8599:f2,8600:f2,8601:f2,8636:q0,8637:q0,8640:q0,8641:q0,8656:q0,8657:oj,8658:q0,8659:oj,8660:q0,8661:[.25,.75,0,0,.70277],8704:N1,8706:[0,.69444,.06389,0,.62847],8707:N1,8709:lj,8711:gw,8712:uj,8715:uj,8722:l0,8723:l0,8725:rh,8726:rh,8727:iv,8728:vw,8729:vw,8730:[.18,.82,0,0,.95833],8733:cj,8734:[0,.44444,0,0,1.14999],8736:p2,8739:tv,8741:rh,8743:S1,8744:S1,8745:S1,8746:S1,8747:[.19444,.69444,.12778,0,.56875],8764:hj,8768:[.19444,.69444,0,0,.31944],8771:yw,8776:[.02444,.52444,0,0,.89444],8781:yw,8801:yw,8804:nh,8805:nh,8810:pj,8811:pj,8826:Td,8827:Td,8834:Td,8835:Td,8838:nh,8839:nh,8846:S1,8849:nh,8850:nh,8851:S1,8852:S1,8853:l0,8854:l0,8855:l0,8856:l0,8857:l0,8866:bw,8867:bw,8868:J5,8869:J5,8900:vw,8901:[-.02639,.47361,0,0,.31944],8902:iv,8968:nv,8969:nv,8970:nv,8971:nv,8994:dj,8995:dj,9651:mj,9657:iv,9661:mj,9667:iv,9711:f2,9824:av,9825:av,9826:av,9827:av,9837:[0,.75,0,0,.44722],9838:fj,9839:fj,10216:Q5,10217:Q5,10815:ev,10927:nh,10928:nh,57376:Xj},"Main-BoldItalic":{32:Ei,33:[0,.69444,.11417,0,.38611],34:Mj,35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:sv,40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:ah,49:ah,50:ah,51:ah,52:gj,53:ah,54:ah,55:gj,56:ah,57:ah,58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:ww,64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:xw,73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:xw,79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:bj,95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:vj,104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:vj,114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:Ei,168:[0,.69444,.11473,0,.59111],176:xj,184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:yj,248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:yj,567:[.19444,.44444,.04611,0,.385],710:bj,711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:sv,730:xj,732:ww,733:ww,915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:xw,931:[0,.68611,.11431,0,.82666],933:wj,934:[0,.68611,.05632,0,.82666],936:wj,937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:sv,8217:sv,8220:[0,.69444,.16772,0,.62055],8221:Mj},"Main-Italic":{32:Ei,33:ov,34:Ej,35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:ov,40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:sh,49:sh,50:sh,51:sh,52:kj,53:sh,54:sh,55:kj,56:sh,57:sh,58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:Aj,64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:lv,73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:lv,79:$j,80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:lv,86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:Sj,95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:Cj,104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:Cj,114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:Ei,168:[0,.66786,.10474,0,.51111],176:Dj,184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:Nj,248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:Nj,710:Sj,711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:Dj,732:[0,.66786,.11585,0,.51111],733:Aj,915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:$j,923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:lv,931:[0,.68333,.12028,0,.71555],933:_j,934:[0,.68333,.05986,0,.71555],936:_j,937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:ov,8217:ov,8220:[0,.69444,.1685,0,.51444],8221:Ej,8463:U5},"Main-Regular":{32:Ei,33:ju,34:Ia,35:kq,36:Nw,37:Cq,38:D1,39:ju,40:zd,41:zd,42:Nq,43:Il,44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:qu,48:El,49:El,50:El,51:El,52:El,53:El,54:El,55:El,56:El,57:El,58:zj,59:[.19444,.43056,0,0,.27778],60:th,61:W5,62:th,63:Lw,64:D1,65:A1,66:[0,.68333,0,0,.70834],67:v2,68:[0,.68333,0,0,.76389],69:Ij,70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:A1,73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:g2,76:Pj,77:[0,.68333,0,0,.91667],78:A1,79:g2,80:Ij,81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:v2,85:A1,86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:A1,89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:uv,92:qu,93:uv,94:Ia,95:[.31,.12056,.02778,0,.5],97:y2,98:Bd,99:Mw,100:Bd,101:Mw,102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:Bd,105:Bj,106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:ju,109:[0,.43056,0,0,.83334],110:Lj,111:y2,112:Tj,113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:Lj,118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:Mw,123:qu,124:uv,125:qu,126:[.35,.31786,0,0,.5],160:Ei,163:[0,.69444,0,0,.76909],167:kw,168:Fj,172:[0,.43056,0,0,.66667],176:Oj,177:Il,182:Cw,184:Iw,198:[0,.68333,0,0,.90278],215:Il,216:[.04861,.73194,0,0,.77778],223:Ia,230:[0,.43056,0,0,.72222],247:Il,248:[.09722,.52778,0,0,.5],305:zj,338:[0,.68333,0,0,1.01389],339:Vj,567:[.19444,.43056,0,0,.30556],710:Ia,711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:Ia,715:Ia,728:Ia,729:Bj,730:Oj,732:Fj,733:Ia,915:Pj,916:qj,920:g2,923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:A1,931:v2,933:g2,934:v2,936:g2,937:v2,8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:ju,8217:ju,8220:Ia,8221:Ia,8224:kw,8225:kw,8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:U5,8465:b2,8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:b2,8501:oh,8592:Vs,8593:Rj,8594:Vs,8595:Rj,8596:Vs,8597:qu,8598:x2,8599:x2,8600:x2,8601:x2,8614:[.011,.511,0,0,1],8617:jj,8618:jj,8636:Vs,8637:Vs,8640:Vs,8641:Vs,8652:[.011,.671,0,0,1],8656:Vs,8657:Cw,8658:Vs,8659:Cw,8660:Vs,8661:[.25,.75,0,0,.61111],8704:Bd,8706:[0,.69444,.05556,.08334,.5309],8707:Bd,8709:Nw,8711:qj,8712:Uj,8715:Uj,8722:Il,8723:Il,8725:qu,8726:qu,8727:hv,8728:Sw,8729:Sw,8730:[.2,.8,0,0,.83334],8733:Vj,8734:uw,8736:p2,8739:uv,8741:qu,8743:$1,8744:$1,8745:$1,8746:$1,8747:[.19444,.69444,.11111,0,.41667],8764:W5,8768:[.19444,.69444,0,0,.27778],8771:cv,8773:[-.022,.589,0,0,1],8776:Gj,8781:cv,8784:[-.133,.67,0,0,.778],8801:cv,8804:$o,8805:$o,8810:Zj,8811:Zj,8826:th,8827:th,8834:th,8835:th,8838:$o,8839:$o,8846:$1,8849:$o,8850:$o,8851:$1,8852:$1,8853:Il,8854:Il,8855:Il,8856:Il,8857:Il,8866:oh,8867:oh,8868:D1,8869:D1,8872:[.249,.75,0,0,.867],8900:Sw,8901:[-.05555,.44445,0,0,.27778],8902:hv,8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:pv,8969:pv,8970:pv,8971:pv,8994:Hj,8995:Hj,9136:dv,9137:dv,9651:Wj,9657:hv,9661:Wj,9667:hv,9711:x2,9824:mv,9825:mv,9826:mv,9827:mv,9837:[0,.75,0,0,.38889],9838:Yj,9839:Yj,10216:zd,10217:zd,10222:dv,10223:dv,10229:[.011,.511,0,0,1.609],10230:Kj,10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:Kj,10815:A1,10927:$o,10928:$o,57376:Xj},"Math-BoldItalic":{32:Ei,48:fv,49:fv,50:fv,51:w2,52:w2,53:w2,54:_l,55:w2,56:_l,57:w2,65:dw,66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:tq,73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:Qj,77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:Jj,105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:iq,112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:Ei,915:[0,.68611,.15972,0,.65694],916:gw,920:[0,.68611,.03194,0,.86722],923:eq,926:[0,.68611,.07458,0,.84125],928:tq,931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:rq,936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:iq,960:[0,.44444,.03704,0,.68241],961:nq,962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:nq,1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:Ei,48:y2,49:y2,50:y2,51:M2,52:M2,53:M2,54:El,55:M2,56:El,57:M2,65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:sq,73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:aq,80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:oq,112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:Ei,915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:aq,923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:sq,931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:oq,960:[0,.43056,.03588,0,.57003],961:lq,962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:lq,1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:Ei,33:[0,.69444,0,0,.36667],34:_w,35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:gv,40:uq,41:uq,42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:Ds,49:Ds,50:Ds,51:Ds,52:Ds,53:Ds,54:Ds,55:Ds,56:Ds,57:Ds,58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:cq,64:Uu,65:Uu,66:Uu,67:Dw,68:lh,69:[0,.69444,0,0,.64167],70:oh,71:Uu,72:lh,73:[0,.69444,0,0,.33056],74:cq,75:hq,76:gq,77:[0,.69444,0,0,.97778],78:lh,79:lh,80:Dw,81:[.10556,.69444,0,0,.79445],82:Dw,83:oh,84:Uu,85:hq,86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:Uu,89:[0,.69444,.0275,0,.73334],90:vq,91:pq,93:pq,94:Ds,95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:Aw,99:[0,.45833,0,0,.48889],100:Aw,101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:Aw,105:dq,106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:dq,109:[0,.45833,0,0,.86667],110:fq,111:[0,.45833,0,0,.55],112:mq,113:mq,114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:fq,118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:Ei,168:Ds,176:Uu,180:Ds,184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:Ds,711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:Ds,729:gv,730:Uu,732:Ds,733:Ds,915:gq,916:[0,.69444,0,0,.91667],920:$w,923:vq,926:Uu,928:lh,931:lh,933:$w,934:lh,936:$w,937:lh,8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:gv,8217:gv,8220:_w,8221:_w},"SansSerif-Italic":{32:Ei,33:[0,.69444,.05733,0,.31945],34:Mq,35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:Tw,40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:Sq,45:[0,.44444,.01946,0,.33333],46:Dq,47:[.25,.75,.13164,0,.5],48:U0,49:U0,50:U0,51:U0,52:U0,53:U0,54:U0,55:U0,56:U0,57:U0,58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:Vu,66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:Ew,73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:zw,77:[0,.69444,.08094,0,.875],78:Ew,79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:yq,95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:Ei,168:[0,.67937,.06385,0,.5],176:bq,184:Iw,305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:yq,711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:xq,715:Ia,728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:bq,732:[0,.67659,.08826,0,.5],733:xq,915:[0,.69444,.13372,0,.54167],916:Lq,920:[0,.69444,.07555,0,.77778],923:oh,926:[0,.69444,.12816,0,.66667],928:Ew,931:[0,.69444,.11983,0,.72222],933:wq,934:[0,.69444,.04603,0,.72222],936:wq,937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:Tw,8217:Tw,8220:[0,.69444,.14205,0,.5],8221:Mq},"SansSerif-Regular":{32:Ei,33:[0,.69444,0,0,.31945],34:Ia,35:kq,36:Nw,37:Cq,38:[0,.69444,0,0,.75834],39:ju,40:zd,41:zd,42:Nq,43:Il,44:Sq,45:[0,.44444,0,0,.33333],46:Dq,47:qu,48:V0,49:V0,50:V0,51:V0,52:V0,53:V0,54:V0,55:V0,56:V0,57:V0,58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:Lw,64:Vu,65:Vu,66:Vu,67:N1,68:[0,.69444,0,0,.72223],69:Aq,70:[0,.69444,0,0,.56945],71:Vu,72:Bw,73:ju,74:Lw,75:[0,.69444,0,0,.69445],76:zw,77:[0,.69444,0,0,.875],78:Bw,79:[0,.69444,0,0,.73611],80:N1,81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:Bd,84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:Vu,89:[0,.69444,.025,0,.66667],90:oh,91:$q,93:$q,94:Ia,95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:Ow,99:_q,100:Ow,101:_q,102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:Ow,105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:Tq,111:[0,.44444,0,0,.5],112:Eq,113:Eq,114:[0,.44444,.01389,0,.34167],115:Iq,116:[0,.57143,0,0,.36111],117:Tq,118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:Ei,168:[0,.67937,0,0,.5],176:Vu,184:Iw,305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:Ia,711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:Ia,715:Ia,728:Ia,729:[0,.67937,0,0,.27778],730:Vu,732:[0,.67659,0,0,.5],733:Ia,915:zw,916:Lq,920:D1,923:oh,926:Vu,928:Bw,931:b2,933:D1,934:b2,936:D1,937:b2,8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:ju,8217:ju,8220:Ia,8221:Ia},"Script-Regular":{32:Ei,65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:Ei},"Size1-Regular":{32:Ei,40:zq,41:zq,47:Bq,91:Oq,92:Bq,93:Oq,123:Fq,125:Fq,160:Ei,710:vv,732:vv,770:vv,771:vv,8214:[-99e-5,.601,0,0,.77778],8593:Pq,8595:Pq,8657:Rq,8659:Rq,8719:jq,8720:jq,8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:Uq,8748:qq,8749:qq,8750:Uq,8896:Od,8897:Od,8898:Od,8899:Od,8968:Fd,8969:Fd,8970:Fd,8971:Fd,9168:Rw,10216:Fd,10217:Fd,10752:Fw,10753:Fw,10754:Fw,10756:Od,10758:Od},"Size2-Regular":{32:Ei,40:Vq,41:Vq,47:Gq,91:Zq,92:Gq,93:Zq,123:Hq,125:Hq,160:Ei,710:yv,732:yv,770:yv,771:yv,8719:Wq,8720:Wq,8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:Kq,8748:Yq,8749:Yq,8750:Kq,8896:Pd,8897:Pd,8898:Pd,8899:Pd,8968:bv,8969:bv,8970:bv,8971:bv,10216:Xq,10217:Xq,10752:Pw,10753:Pw,10754:Pw,10756:Pd,10758:Pd},"Size3-Regular":{32:Ei,40:Qq,41:Qq,47:Jq,91:eU,92:Jq,93:eU,123:xv,125:xv,160:Ei,710:wv,732:wv,770:wv,771:wv,8730:[.95003,1.45,0,0,1],8968:Mv,8969:Mv,8970:Mv,8971:Mv,10216:xv,10217:xv},"Size4-Regular":{32:Ei,40:tU,41:tU,47:rU,91:iU,92:rU,93:iU,123:kv,125:kv,160:Ei,710:Cv,732:Cv,770:Cv,771:Cv,8730:[1.25003,1.75,0,0,1],8968:Nv,8969:Nv,8970:Nv,8971:Nv,9115:Sv,9116:nU,9117:Sv,9118:Sv,9119:nU,9120:Sv,9121:Dv,9122:Rw,9123:Dv,9124:Dv,9125:Rw,9126:Dv,9127:aU,9128:sU,9129:oU,9130:[0,.3,0,0,.88889],9131:aU,9132:sU,9133:oU,9143:[.88502,.915,0,0,1.05556],10216:kv,10217:kv,57344:lU,57345:lU,57680:Av,57681:Av,57682:Av,57683:Av},"Typewriter-Regular":{32:hU,33:Ut,34:Ut,35:Ut,36:u0,37:u0,38:Ut,39:Ut,40:u0,41:u0,42:[0,.52083,0,0,.525],43:uU,44:[.13889,.125,0,0,.525],45:uU,46:[0,.125,0,0,.525],47:u0,48:Ut,49:Ut,50:Ut,51:Ut,52:Ut,53:Ut,54:Ut,55:Ut,56:Ut,57:Ut,58:lo,59:[.13889,.43056,0,0,.525],60:cU,61:[-.19549,.41562,0,0,.525],62:cU,63:Ut,64:Ut,65:Ut,66:Ut,67:Ut,68:Ut,69:Ut,70:Ut,71:Ut,72:Ut,73:Ut,74:Ut,75:Ut,76:Ut,77:Ut,78:Ut,79:Ut,80:Ut,81:[.13889,.61111,0,0,.525],82:Ut,83:Ut,84:Ut,85:Ut,86:Ut,87:Ut,88:Ut,89:Ut,90:Ut,91:u0,92:u0,93:u0,94:Ut,95:[.09514,0,0,0,.525],96:Ut,97:lo,98:Ut,99:lo,100:Ut,101:lo,102:Ut,103:k2,104:Ut,105:Ut,106:[.22222,.61111,0,0,.525],107:Ut,108:Ut,109:lo,110:lo,111:lo,112:k2,113:k2,114:lo,115:lo,116:[0,.55358,0,0,.525],117:lo,118:lo,119:lo,120:lo,121:k2,122:lo,123:u0,124:u0,125:u0,126:Ut,127:Ut,160:hU,176:Ut,184:[.19445,0,0,0,.525],305:lo,567:k2,711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:Ut,715:Ut,728:Ut,730:Ut,770:Ut,771:Ut,776:Ut,915:Ut,916:Ut,920:Ut,923:Ut,926:Ut,928:Ut,931:Ut,933:Ut,934:Ut,936:Ut,937:Ut,8216:Ut,8217:Ut,8242:Ut,9251:[.11111,.21944,0,0,.525]}},sMe=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,Rd=10,c0=.25,oMe=1.2,uh=.431,pU={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[uh,uh,uh],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.5,.732,.925],num2:[.394,.384,.5],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[c0,c0,c0],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},jw=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],qw=5,dU={" ":" ","​":" ",Å:"A",Ç:"C",Ð:"D",Þ:"o",å:"a",ç:"c",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function jd(t,e){t===void 0&&(t=77);let r=aMe[e][t];if(r)return{defaultMetrics:!1,depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]};if(t===11034)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0,width:.8};let i=String.fromCodePoint(t);if(i in dU)t=dU[i].codePointAt(0);else if(sMe.test(i))return t=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0,width:1};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0,width:.8}}var Uw={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],longrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],longleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],longleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],longrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],longleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],longleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],longRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716],longLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Vw={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},mU={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:`m 529 160
  c -179 0 -524 -115 -524 -115
  c -5 -1 -9 -5 -9 -10
  c 0 -1 1 -2 1 -3
  l 4 -22
  c 1 -5 5 -9 11 -9
  h 2
  s 338 93 512 92
  c 174 0 513 -92 513 -92
  h 2
  c 5 0 9 4 11 9
  l 5 22
  c 1 6 -2 12 -8 13
  c 0 0 -342 115 -520 115
  z
  `,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,widetilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,widetilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,widetilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,widetilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};function lMe(t){if(Vw[t]){let[u,c,h]=Vw[t],p=`<span class="ML__stretchy" style="height:${h}em"><svg width="100%" height="${h}em" viewBox="0 0 ${u} ${c}" preserveAspectRatio="none" ><path fill="currentcolor" d="${mU[t]}"></path></svg></span>`;return`<span style="display:inline-block;height:${Math.floor(100*h/2)/100}em;min-width:0">${p}</span>`}let[e,r,i,n]=Uw[t],a,s,o=i/1e3;e.length===3?(a=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],s=["xMinYMin","xMidYMin","xMaxYMin"]):e.length===2?(a=["slice-1-of-2","slice-2-of-2"],s=["xMinYMin","xMaxYMin"]):(a=["slice-1-of-1"],s=[n]);let l=e.map((u,c)=>`<span class="${a[c]}" style=height:${o}em><svg width=400em height=${o}em viewBox="0 0 400000 ${i}" preserveAspectRatio="${s[c]} slice"><path fill="currentcolor" d="${mU[u]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${o}em;min-width:${r}em;">${l}</span>`}function uMe(t){return Uw[t]?Uw[t][2]/1e3:Vw[t][2]}function cMe(t){let e=[];for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i===13&&t.charCodeAt(r+1)===10&&(i=10,r++),(i===13||i===12)&&(i=10),i===0&&(i=65533),i>=55296&&i<=56319){let n=t.charCodeAt(r+1);if(n>=56320&&n<=57343){let a=i-55296,s=n-56320;i=2**16+a*2**10+s,r++}}e.push(i)}return e}var $v=8205,hMe=[[$v,1],[65038,2],[127995,5],[129456,4],[917536,96]],_v,fU=[127462,127487];function gU(t){var e;if(_v===void 0){_v={};for(let r of hMe)for(let i=r[0];i<=r[0]+r[1]-1;i++)_v[i]=!0}return(e=_v[t])!=null?e:!1}function pMe(t){return t>=fU[0]&&t<=fU[1]}function vU(t){if(/^[\u0020-\u00FF]*$/.test(t))return t;let e=[],r=cMe(t),i=0;for(;i<r.length;){let n=r[i++],a=r[i];if(a===$v){let s=i-1;for(i+=2;r[i]===$v;)i+=2;e.push(String.fromCodePoint(...r.slice(s,i-s+1)))}else if(gU(a)){let s=i-1;for(;gU(r[i]);)i+=r[i]===$v?2:1;e.push(String.fromCodePoint(...r.slice(s,2*i-s-1)))}else pMe(n)?(i+=1,e.push(String.fromCodePoint(...r.slice(i-2,2)))):e.push(String.fromCodePoint(n))}return e}var dMe=class{constructor(t){this.obeyspaces=!1,this.pos=0,this.s=vU(t)}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(t){let e=typeof this.s=="string"?t.exec(this.s.slice(this.pos)):t.exec(this.s.slice(this.pos).join(""));return e!=null&&e[0]?(this.pos+=e[0].length,e[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";let t=this.get();if(t==="\\"){if(!this.end()){let e=this.match(/^[a-zA-Z\*]+/);return e?this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/):e=this.get(),"\\"+e}}else{if(t==="{")return"<{>";if(t==="}")return"<}>";if(t==="^"){if(this.peek()==="^"){this.get();let e=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(e)return String.fromCodePoint(Number.parseInt(e.slice(e.lastIndexOf("^")+1),16))}return t}else if(t==="#"){if(!this.end()){let e=!1;if(/[\d?@]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){let r=this.s[this.pos+1];e=/[^\dA-Za-z]/.test(r)}return e?"#"+this.get():"#"}}else if(t==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return t}};function mMe(t,e){var r,i,n,a;let s=[],o=t.next();if(o&&o!=="\\relax"){if(o==="\\noexpand")o=t.next(),o&&s.push(o);else if(o==="\\obeyspaces")t.obeyspaces=!0;else if(o==="\\bgroup")s.push("<{>");else if(o==="\\egroup")s.push("<}>");else if(o==="\\string"){if(o=t.next(),o)if(o.startsWith("\\"))for(let l of o)s.push(l==="\\"?"\\backslash":l);else o==="<{>"?s.push("\\{"):o==="<space>"?s.push("~"):o==="<}>"&&s.push("\\}")}else if(o==="\\csname"){for(;t.peek()==="<space>";)t.next();let l="",u=!1,c=[];do{if(c.length===0)if(/^#[\d?@]$/.test(t.peek())){let h=t.get().slice(1);c=C2((i=(r=e==null?void 0:e(h))!=null?r:e==null?void 0:e("?"))!=null?i:"\\placeholder{}",e),o=c[0]}else o=t.next(),c=o?[o]:[];u=c.length===0,!u&&o==="\\endcsname"&&(u=!0,c.shift()),u||(u=o==="<$>"||o==="<$$>"||o==="<{>"||o==="<}>"||typeof o=="string"&&o.length>1&&o.startsWith("\\")),u||(l+=c.shift())}while(!u);l&&s.push("\\"+l),s.push(...c)}else if(o!=="\\endcsname")if(o.length>1&&o.startsWith("#")){let l=o.slice(1);s.push(...C2((a=(n=e==null?void 0:e(l))!=null?n:e==null?void 0:e("?"))!=null?a:"\\placeholder{}",e))}else s.push(o)}return s}function C2(t,e=null){if(!t)return[];let r=[],i="";for(let s of t.toString().split(/\r?\n/)){i&&r.push(i),i=" ";let o=s.match(/((?:\\%)|[^%])*/);o!==null&&r.push(o[0])}let n=new dMe(r.join("")),a=[];do a.push(...mMe(n,e));while(!n.end());return a}function Hr(t){let e="",r=[];for(let i of t)i&&(e&&/^[a-zA-Z\*]/.test(i)&&r.push(e),r.push(i),/^\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(i)&&r.push(" "),e=/\\[a-zA-Z]+\*?$/.test(i)?" ":"");return r.join("")}function rn(t,...e){return t.startsWith("\\"),e.length===0?t:Hr([t,...e.map(r=>`{${r}}`)])}function _1(t){return Hr(t.map(e=>{var r;return(r={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])!=null?r:e}))}var yU=class ag{constructor(e){ag._registry[e]=this}static createAtom(e,r,i){return ag._registry[e].createAtom(r,Ss(r,e),i)}static serialize(e,r){var i;if(!e||e.length===0)return"";if((i=r.skipStyles)!=null&&i){let n=[];for(let a of bU(e)){let s=ag._registry[a[0].mode];n.push(...s.serialize(a,r))}return Hr(n)}return Hr(gMe(e,r))}static getFont(e,r,i){return ag._registry[e].getFont(r,i)}};yU._registry={};var Wo=yU;function bU(t){let e=[],r=[],i="NONE";for(let n of t)n.type!=="first"&&(n.mode!==i?(r.length>0&&e.push(r),r=[n],i=n.mode):r.push(n));return r.length>0&&e.push(r),e}function Gw(t){if(!t||t.mode!=="math")return"";let{style:e}=t;return!e||!e.variantStyle?"":e.variantStyle==="bold"||e.variantStyle==="bolditalic"?"bold":""}function Zw(t){if(!t)return"";let{style:e}=t;if(!e)return"";let r=e.variant;return r===void 0?"normal":(!["calligraphic","fraktur","double-struck","script","monospace","sans-serif"].includes(r)&&e.variantStyle&&e.variantStyle!=="up"&&(r+="-"+e.variantStyle),r)}function Gu(t,e){let r=[],i=[],n;for(let a of t){if(a.type==="first")continue;let s;e==="variant"?s=Zw(a):e==="bold"?s=Gw(a):s=a.style[e],s===n?i.push(a):(i.length>0&&r.push(i),i=[a],n=s)}return i.length>0&&r.push(i),r}function xU(t,e){var r;let{parent:i}=t[0],n=i==null?void 0:i.style.color,a=[];for(let s of bU(t)){let o=e.defaultMode;for(let l of Gu(s,"color")){let u=l[0].style,c=Wo._registry[l[0].mode].serialize(l,je(we({},e),{defaultMode:o==="text"?"text":"math"}));!e.skipStyles&&u.color&&u.color!=="none"&&(!i||n!==u.color)?a.push(rn("\\textcolor",(r=u.verbatimColor)!=null?r:u.color,Hr(c))):a.push(Hr(c))}}return a}function fMe(t,e){let{parent:r}=t[0],i=r==null?void 0:r.style.backgroundColor;return Gu(t,"backgroundColor").map(n=>{var a;if(n.length>0||n[0].type!=="box"){let s=n[0].style;if(s.backgroundColor&&s.backgroundColor!=="none"&&(!r||i!==s.backgroundColor))return rn("\\colorbox",(a=s.verbatimBackgroundColor)!=null?a:s.backgroundColor,Hr(xU(n,je(we({},e),{defaultMode:"text"}))))}return Hr(xU(n,e))})}function gMe(t,e){if(t.length===0)return[];let{parent:r}=t[0],i=r==null?void 0:r.style.fontSize,n=[];for(let a of Gu(t,"fontSize")){let s=a[0].style.fontSize,o=fMe(a,e);o&&(s&&s!=="auto"&&(!r||i!==s)?n.push(["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][s],...o):n.push(...o))}return n}function Hw(t){return t?{mord:"ord",mbin:"bin",mop:"op",mrel:"rel",mopen:"open",mclose:"close",mpunct:"punct",minner:"inner",spacing:"ignore",latex:"latex",composition:"inner",error:"inner",placeholder:"ord",supsub:"ignore"}[t]:void 0}function N2(t){if(t.length===0)return"ord";let e=Hw(t[0].type),r=Hw(t[t.length-1].type);return e&&e===r?e:"ord"}function S2(t,e){if(typeof t=="string")return t;if(typeof t=="number"){let r=Math.ceil(100*t)/100;return r===0?"0":r.toString()+(e??"")}return""}var kt=class WZ{constructor(e,r){var i,n,a,s,o;if(typeof e=="number"?this.value=String.fromCodePoint(e):typeof e=="string"?this.value=e:hs(e)?this.children=e.filter(u=>u!==null):e&&e instanceof WZ&&(this.children=[e]),this.children)for(let u of this.children)u.parent=this;this.type=(i=r==null?void 0:r.type)!=null?i:"ignore",this.isSelected=(r==null?void 0:r.isSelected)===!0,r!=null&&r.caret&&(this.caret=r.caret),this.classes=(n=r==null?void 0:r.classes)!=null?n:"",this.isTight=(a=r==null?void 0:r.isTight)!=null?a:!1,r!=null&&r.attributes&&(this.attributes=r.attributes);let l=r==null?void 0:r.fontFamily;r!=null&&r.style&&this.value&&(l=(o=Wo.getFont((s=r.mode)!=null?s:"math",this,je(we({variant:"normal"},r.style),{letterShapeStyle:r.letterShapeStyle})))!=null?o:void 0),l||(l="Main-Regular"),this._height=0,this._depth=0,this._width=0,this.hasExplicitWidth=!1,this.skew=0,this.italic=0,this.maxFontSize=0,this.scale=1,(r==null?void 0:r.maxFontSize)!==void 0&&(this.maxFontSize=r.maxFontSize),vMe(this,l)}set atomID(e){e===void 0||e.length===0||(this.id=e)}selected(e){if(this.isSelected!==e&&(this.isSelected=e,this.children))for(let r of this.children)r.selected(e)}setStyle(e,r,i){if(r===void 0)return;let n=S2(r,i);n.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[e]=n)}setTop(e){Number.isFinite(e)&&Math.abs(e)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=S2(e,"em"),this.height-=e,this.depth+=e)}get left(){var e;return(e=this.cssProperties)!=null&&e["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=S2(e,"em")))}set right(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=S2(e,"em")))}set bottom(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-bottom"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-bottom"]=S2(e,"em")))}get width(){return this._width*this.scale}set width(e){this._width=e,this.hasExplicitWidth=!0}set softWidth(e){}get height(){return this._height*this.scale}set height(e){this._height=e}get depth(){return this._depth*this.scale}set depth(e){this._depth=e}wrap(e){let r=e.parent;if(!r)return this;e.isPhantom&&this.setStyle("opacity",0);let i=e.color;i&&i!==r.color&&this.setStyle("color",i);let n=e.backgroundColor;this.isSelected&&(n=Ywe(n)),n&&n!==r.backgroundColor&&(this.setStyle("background-color",n),this.setStyle("display","inline-block"));let a=e.scalingFactor;return this.scale=a,this.skew*=a,this.italic*=a,this}toMarkup(){var e,r,i,n;let a=(e=this.value)!=null?e:"";if(this.children)for(let d of this.children)a+=d.toMarkup();let s="";if(this.svgBody)s=lMe(this.svgBody);else if(this.svgOverlay){s='<span style="',s+="display: inline-block;",s+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`,s+=`vertical-align:${Math.floor(100*this.depth)/100}em;`,s+='">',s+=a,s+="</span>",s+='<svg style="position:absolute;overflow:visible;',s+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`;let d=(r=this.cssProperties)==null?void 0:r.padding;d?(s+=`top:${d};`,s+=`left:${d};`,s+=`width:calc(100% - 2 * ${d} );`):s+="top:0;left:0;width:100%;",s+="z-index:2;",s+='"',this.svgStyle&&(s+=this.svgStyle),s+=` viewBox="0 0 ${Math.floor(100*this.width)/100} ${Math.floor(100*(this.height+this.depth))/100}"`,s+=`>${this.svgOverlay}</svg>`}let o=[],l=this.classes.split(" ");l.push((i={latex:"ML__raw-latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])!=null?i:""),this.caret==="latex"&&l.push("ML__latex-caret"),this.isSelected&&l.push("ML__selected");let u=l.length===1?l[0]:l.filter((d,m,f)=>d.length>0&&f.indexOf(d)===m).join(" ");if(u.length>0&&o.push(`class=${qd(`"${u}"`)}`),this.id&&o.push(` data-atom-id=${qd(this.id)}`),this.cssId&&o.push(` id=${qd(`"${this.cssId.replace(/ /g,"-")}"`)}`),this.attributes&&o.concat(Object.keys(this.attributes).map(d=>`${Yw(d)}=${qd(this.attributes[d])}`)),this.htmlData){let d=this.htmlData.split(",");for(let m of d){let f=m.match(/([^=]+)=(.+$)/);if(f){let v=Yw(f[1]);if(v)if(v==="href"){let y=new URL(f[2]);if(y.protocol!=="http:"&&y.protocol!=="https:")throw new Error(`Invalid URL: ${f[2]}`);o.push(`href="${f[2].replace(/"/g,"&quot;")}"`)}else o.push(`data-${v}=${qd(f[2])}`)}else{let v=Yw(m);v&&o.push(`data-${v} `)}}}let c=(n=this.cssProperties)!=null?n:{};this.hasExplicitWidth&&c.width===void 0&&(c.width=`${Math.ceil(this._width*100)/100}em`);let h=Object.keys(c).map(d=>`${d}:${c[d]}`);if(this.scale!==void 0&&this.scale!==1&&(a.length>0||s.length>0)&&h.push(`font-size: ${Math.ceil(this.scale*1e4)/100}%`),this.htmlStyle)for(let d of this.htmlStyle.split(";")){let m=d.match(/([^:]+):(.+$)/);if(m){let f=m[1].trim().replace(/ /g,"-");f&&h.push(`${f}:${m[2]}`)}}h.length>0&&o.push(`style=${qd(h.join(";"))}`);let p="";return o.length>0||s.length>0?p=`<span ${o.join(" ")}>${a}${s}</span>`:p=a,this.caret==="text"?p+='<span class="ML__text-caret"></span>':this.caret==="math"&&(p+='<span class="ML__caret"></span>'),p}tryCoalesceWith(e){if(this.svgBody||!this.value||e.svgBody||!e.value)return!1;let r=this.children&&this.children.length>0,i=e.children&&e.children.length>0;if(r||i)return!1;if(e.cssProperties||this.cssProperties){for(let l of["border","border-left","border-right","border-right-width","left","margin","margin-left","margin-right","padding","position","width"])if(e.cssProperties&&l in e.cssProperties||this.cssProperties&&l in this.cssProperties)return!1}let n=this.cssProperties?Object.keys(this.cssProperties).length:0,a=e.cssProperties?Object.keys(e.cssProperties).length:0;if(n!==a)return!1;if(n>0){for(let l of Object.keys(this.cssProperties))if(this.cssProperties[l]!==e.cssProperties[l])return!1}let s=this.classes.trim().replace(/\s+/g," ").split(" "),o=e.classes.trim().replace(/\s+/g," ").split(" ");if(s.length!==o.length)return!1;s.sort(),o.sort();for(let[l,u]of s.entries())if(u==="ML__vertical-separator"||u!==o[l])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this._width=this._width+e._width,this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}};function Ww(t){if(!t||t.length===0)return[];t[0].children=Ww(t[0].children);let e=[t[0]];for(let r=1;r<t.length;r++)e[e.length-1].tryCoalesceWith(t[r])||(t[r].children=Ww(t[r].children),e.push(t[r]));return e}function Ev(t){return t.children&&(t.children=Ww(t.children)),t}function Iv(t,e){if(!t)return new kt(null,e);let r=new kt(null,{classes:"ML__strut",type:"ignore"});r.setStyle("height",Math.max(0,t.height),"em");let i=[r];if(t.depth!==0){let n=new kt(null,{classes:"ML__strut--bottom",type:"ignore"});n.setStyle("height",t.height+t.depth,"em"),n.setStyle("vertical-align",-t.depth,"em"),i.push(n)}return i.push(t),new kt(i,je(we({},e),{type:"lift"}))}function Tv(t){let e=uMe(t)/2,r=new kt(null,{maxFontSize:0});return r.height=e+.166,r.depth=e-.166,r.svgBody=t,r}function vMe(t,e){var r;if(t.type==="latex"){t.height=.9,t.depth=.2,t._width=1;return}if(t.value){t.height=-1/0,t.depth=-1/0,t._width=0,t.skew=-1/0,t.italic=-1/0;for(let i=0;i<t.value.length;i++){let n=jd(t.value.codePointAt(i),e);t.height=Math.max(t.height,n.height),t.depth=Math.max(t.depth,n.depth),t._width+=n.width,t.skew=n.skew,t.italic=n.italic}return}if(t.children&&t.children.length>0){let i=-1/0,n=-1/0,a=0;for(let s of t.children)s.height>i&&(i=s.height),s.depth>n&&(n=s.depth),a=Math.max(a,(r=s.maxFontSize)!=null?r:0);t.height=i,t.depth=n,t._width=t.children.reduce((s,o)=>s+o.width,0),t.maxFontSize=a}}function Yw(t){if(t=t.trim().replace(/ /g,"-"),t.length===0)throw new Error("Invalid empty attribute name");if(/[\x20\x09\x0a\x0c\x0d"'>/=\x00-\x1f]/.test(t))throw new Error(`Invalid attribute name "${t}"`);return t}function qd(t){if(t=t.trim(),t.startsWith('"')&&t.endsWith('"')){if(/"/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.startsWith("'")&&t.endsWith("'")){if(/'/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.length===0)throw new Error("Invalid empty attribute value");return`"${t.replace(/"/g,"&quot;")}"`}function yMe(t){if("individualShift"in t){let e=t.individualShift,r=e[0];if(r==null)return[null,0];let i=[r],n=-r.shift-r.box.depth,a=n;for(let s=1;s<e.length;s++){let o=e[s],l=-o.shift-a-o.box.depth,u=l-(r.box.height+r.box.depth);a=a+l,i.push(u),i.push(o),r=o}return[i,n]}if("top"in t){let e=t.top;for(let r of t.children)e-=typeof r=="number"?r:r.box.height+r.box.depth;return[t.children,e]}else{if("bottom"in t)return[t.children,-t.bottom];if("firstBaseline"in t){let e=t.firstBaseline[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.firstBaseline,-e.box.depth]}else if("shift"in t){let e=t.children[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.children,-e.box.depth-t.shift]}}return[null,0]}function bMe(t){var e;let[r,i]=yMe(t);if(!r)return[[],0,0];let n=new kt(null,{classes:"ML__pstrut"}),a=0;for(let m of r)if(typeof m!="number"){let f=m.box;a=Math.max(a,f.maxFontSize,f.height)}a+=2,n.height=a,n.setStyle("height",a,"em");let s=[],o=i,l=i,u=i,c=0;for(let m of r){if(typeof m=="number")u+=m;else{let f=m.box,v=(e=m.classes)!=null?e:[],y=new kt([n,f],{classes:v.join(" "),style:m.style});f.setStyle("height",f.height+f.depth,"em"),f.setStyle("display","inline-block"),y.setStyle("top",-a-u-f.depth,"em"),m.marginLeft&&y.setStyle("margin-left",m.marginLeft,"em"),m.marginRight&&y.setStyle("margin-right",m.marginRight,"em"),s.push(y),u+=f.height+f.depth,c=Math.max(c,y.width)}o=Math.min(o,u),l=Math.max(l,u)}s.forEach(m=>{m.softWidth=c});let h=new kt(s,{classes:"ML__vlist"});if(h.softWidth=c,h.height=l,h.setStyle("height",l,"em"),o>=0)return[[new kt(h,{classes:"ML__vlist-r"})],l,-o];let p=new kt(new kt(null),{classes:"ML__vlist"});p.height=-o,p.setStyle("height",-o,"em");let d=new kt(8203,{classes:"ML__vlist-s",maxFontSize:0});return d.softWidth=0,d.height=0,d.depth=0,[[new kt([h,d],{classes:"ML__vlist-r"}),new kt(p,{classes:"ML__vlist-r"})],l,-o]}var ba=class extends kt{constructor(t,e){var r;let[i,n,a]=bMe(t);super(i.length===1?i[0]:i,{type:e==null?void 0:e.type,classes:((r=e==null?void 0:e.classes)!=null?r:"")+" ML__vlist-t"+(i.length===2?" ML__vlist-t2":"")}),this.height=n,this.depth=a,this.softWidth=i.reduce((s,o)=>Math.max(s,o.width),0)}};function xMe(t,e){var r,i,n,a,s;let o=t.metrics,l=new kt(e.base),u=(r=e.baseShift)!=null?r:0,c=(i=e.slant)!=null?i:0,h=0,p=0;e.above&&(h=(n=e.aboveShift)!=null?n:Math.max(o.bigOpSpacing1,o.bigOpSpacing3-e.above.depth)),e.below&&(p=(a=e.belowShift)!=null?a:Math.max(o.bigOpSpacing2,o.bigOpSpacing4-e.below.height));let d=null;if(e.below&&e.above){let m=o.bigOpSpacing5+e.below.height+e.below.depth+p+l.depth+u;d=new ba({bottom:m,children:[o.bigOpSpacing5,{box:e.below,marginLeft:-c,classes:["ML__center"]},p,{box:l,classes:["ML__center"]},h,{box:e.above,marginLeft:c,classes:["ML__center"]},o.bigOpSpacing5]}).wrap(t)}else if(e.below&&!e.above)d=new ba({top:l.height-u,children:[o.bigOpSpacing5,{box:e.below,marginLeft:-c,classes:["ML__center"]},p,{box:l,classes:["ML__center"]}]}).wrap(t);else if(!e.below&&e.above){let m=l.depth+u;d=new ba({bottom:m,children:[{box:l,classes:["ML__center"]},h,{box:e.above,marginLeft:c,classes:["ML__center"]},o.bigOpSpacing5]}).wrap(t)}else{let m=l.depth+u;d=new ba({bottom:m,children:[{box:l},o.bigOpSpacing5]}).wrap(t)}return new kt(d,{type:(s=e.type)!=null?s:"op"})}var Kw=7,Lv=6,zv=5,E1=4,Ud=3,Yo=2,I1=1,Gs=0,ch=class{constructor(t,e,r){this.id=t,this.sizeDelta=e,this.cramped=r;let i={"-4":2,"-3":1,0:0}[e];this.metrics=Object.keys(pU).reduce((n,a)=>je(we({},n),{[a]:pU[a][i]}),{})}getFontSize(t){return Math.max(1,t+this.sizeDelta)}get sup(){return G0[[Gs,I1,Gs,I1,Yo,Ud,Yo,Ud][this.id]]}get sub(){return G0[[Gs,Gs,Gs,Gs,Yo,Yo,Yo,Yo][this.id]]}get fracNum(){return G0[[Gs,I1,Gs,I1,Yo,Ud,E1,zv][this.id]]}get fracDen(){return G0[[Gs,Gs,Gs,Gs,Yo,Yo,E1,E1][this.id]]}get cramp(){return G0[[Gs,Gs,Yo,Yo,E1,E1,Lv,Lv][this.id]]}get isTight(){return this.sizeDelta<0}},D2={7:new ch(Kw,0,!1),6:new ch(Lv,0,!0),5:new ch(zv,0,!1),4:new ch(E1,0,!0),3:new ch(Ud,-3,!1),2:new ch(Yo,-3,!0),1:new ch(I1,-4,!1),0:new ch(Gs,-4,!0)},G0=je(we({},D2),{displaystyle:D2[Kw],textstyle:D2[zv],scriptstyle:D2[Ud],scriptscriptstyle:D2[I1]});function wU(t,e){var r;if(!t)return 0;let i={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:Rd,bp:803/800,dd:1238/1157,pc:12,in:72.27,mu:10/18}[(r=t.unit)!=null?r:"pt"];if(Number.isFinite(e)){let n=10**e;return Math.round(t.dimension/Rd*i*n)/n}return t.dimension*i}function MU(t,e){if(t===null)return 0;let r=wU(t)/Rd;if(Number.isFinite(e)){let i=10**e;return Math.round(r*i)/i}return r}function Xw(t){var e;return`${t.dimension}${(e=t.unit)!=null?e:"pt"}`}function wMe(t){let e=Xw(t.glue);return t.grow&&t.grow.dimension!==0&&(e+=` plus ${Xw(t.grow)}`),t.shrink&&t.shrink.dimension!==0&&(e+=` minus ${Xw(t.shrink)}`),e}function ps(t){var e,r;if(t==null)return null;let i="";if("dimension"in t&&(i=`${t.dimension}${(e=t.unit)!=null?e:"pt"}`),"glue"in t&&(i=wMe(t)),"number"in t)if(!("base"in t)||t.base==="decimal")i=Number(t.number).toString();else if(t.base==="alpha")i=`\`${String.fromCodePoint(t.number)}`;else{let n=Math.round(t.number)>>>0;t.base==="hexadecimal"?(i=Number(n).toString(16).toUpperCase(),n<=255?i=i.padStart(2,"0"):n<=65535?i=i.padStart(4,"0"):n<=16777215?i=i.padStart(6,"0"):i=i.padStart(8,"0"),i=`"${i}`):t.base==="octal"&&(i=Number(n).toString(8),n<=63?i=i.padStart(2,"0"):n<=30583?i=i.padStart(4,"0"):i=i.padStart(8,"0"),i=`'${i}`)}return"register"in t&&("factor"in t&&(t.factor===-1?i="-":t.factor!==1&&(i=Number(t.factor).toString())),"global"in t&&t.global&&(i+="\\global"),i+=`\\${t.register}`),"string"in t&&(i=t.string),(r=t.relax)!=null&&r&&(i+="\\relax"),i}function Z0(t,e){return t==null?null:"number"in t?je(we({},t),{number:t.number*e}):"register"in t?"factor"in t&&t.factor?je(we({},t),{factor:t.factor*e}):je(we({},t),{factor:e}):"dimension"in t?je(we({},t),{dimension:t.dimension*e}):"glue"in t?t.shrink&&t.grow?{glue:Z0(t.glue,e),shrink:Z0(t.shrink,e),grow:Z0(t.grow,e)}:t.shrink?{glue:Z0(t.glue,e),shrink:Z0(t.shrink,e)}:t.grow?{glue:Z0(t.glue,e),grow:Z0(t.grow,e)}:{glue:Z0(t.glue,e)}:null}var MMe={"p@":{dimension:1},"z@":{dimension:0},maxdimen:{dimension:16383.99999},hfuzz:{dimension:.1},vfuzz:{dimension:.1},overfullrule:{dimension:5},hsize:{dimension:6.5,unit:"in"},vsize:{dimension:8.9,unit:"in"},parindent:{dimension:20},maxdepth:{dimension:4},splitmaxdepth:{register:"maxdimen"},boxmaxdepth:{register:"maxdimen"},delimitershortfall:{dimension:5},nulldelimiterspace:{dimension:1.2,unit:"pt"},scriptspace:{dimension:.5},topskip:{dimension:10},splittopskip:{dimension:10},normalbaselineskip:{dimension:12},normallineskip:{dimension:1},normallineskiplimit:{dimension:0},jot:{dimension:3},doublerulesep:{dimension:2},arrayrulewidth:{dimension:.4},arraycolsep:{dimension:5},fboxsep:{dimension:3},fboxrule:{dimension:.4},"z@skip":{glue:{dimension:0},shrink:{dimension:0},grow:{dimension:0}},hideskip:{glue:{dimension:-1e3},grow:{dimension:1,unit:"fill"}},"@flushglue":{glue:{dimension:0},grow:{dimension:1,unit:"fill"}},parskip:{glue:{dimension:0},grow:{dimension:1}},abovedisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},abovedisplayshortskip:{glue:{dimension:0},grow:{dimension:3}},belowdisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},belowdisplayshortskip:{glue:{dimension:7},grow:{dimension:3},shrink:{dimension:4}},parfillskip:{glue:{dimension:0},grow:{dimension:1,unit:"fil"}},thinmuskip:{glue:{dimension:3,unit:"mu"}},medmuskip:{glue:{dimension:4,unit:"mu"},grow:{dimension:2,unit:"mu"},shrink:{dimension:4,unit:"mu"}},thickmuskip:{glue:{dimension:5,unit:"mu"},grow:{dimension:5,unit:"mu"}},smallskipamount:{glue:{dimension:3},grow:{dimension:1},shrink:{dimension:1}},medskipamount:{glue:{dimension:6},grow:{dimension:2},shrink:{dimension:3}},bigskipamount:{glue:{dimension:12},grow:{dimension:2},shrink:{dimension:4}},pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:1,month:new Date().getMonth()+1,day:new Date().getDate(),year:new Date().getFullYear()};function kU(){return we({},MMe)}function CU(){return{registers:kU(),smartFence:!1,renderPlaceholder:void 0,placeholderSymbol:"▢",letterShapeStyle:Zr.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,colorMap:O5,backgroundColorMap:K9,getMacro:t=>sw(t,aw())}}var pi=class YZ{constructor(e,r){var i,n,a,s,o,l,u,c,h,p,d,m,f,v,y;let x;e!=null&&e.parent?(this.parent=e.parent,x=e.parent,this.registers={}):(x=we(we({},CU()),(i=e==null?void 0:e.from)!=null?i:{}),this.registers=x.registers),x.atomIdsSettings&&(this.atomIdsSettings=we({},x.atomIdsSettings)),this.renderPlaceholder=x.renderPlaceholder,this.isPhantom=(s=(a=e==null?void 0:e.isPhantom)!=null?a:(n=this.parent)==null?void 0:n.isPhantom)!=null?s:!1,this.letterShapeStyle=x.letterShapeStyle,this.minFontScale=x.minFontScale,this.maxMatrixCols=x.maxMatrixCols,r!=null&&r.color&&r.color!=="none"?this.color=r.color:this.color=(l=(o=this.parent)==null?void 0:o.color)!=null?l:"",r!=null&&r.backgroundColor&&r.backgroundColor!=="none"?this.backgroundColor=r.backgroundColor:this.backgroundColor=(c=(u=this.parent)==null?void 0:u.backgroundColor)!=null?c:"",r!=null&&r.fontSize&&r.fontSize!=="auto"&&r.fontSize!==((h=this.parent)==null?void 0:h.size)?this.size=r.fontSize:this.size=(d=(p=this.parent)==null?void 0:p.size)!=null?d:qw;let g=(f=(m=this.parent)==null?void 0:m.mathstyle)!=null?f:G0.displaystyle;if(typeof(e==null?void 0:e.mathstyle)=="string"){if(x instanceof YZ)switch(e.mathstyle){case"cramp":g=g.cramp;break;case"superscript":g=g.sup;break;case"subscript":g=g.sub;break;case"numerator":g=g.fracNum;break;case"denominator":g=g.fracDen;break}switch(e.mathstyle){case"textstyle":g=G0.textstyle;break;case"displaystyle":g=G0.displaystyle;break;case"scriptstyle":g=G0.scriptstyle;break;case"scriptscriptstyle":g=G0.scriptscriptstyle;break}}this.mathstyle=g,this.smartFence=x.smartFence,this.placeholderSymbol=x.placeholderSymbol,this.colorMap=(v=x.colorMap)!=null?v:b=>b,this.backgroundColorMap=(y=x.backgroundColorMap)!=null?y:b=>b,this.getMacro=x.getMacro,this.parent!==void 0||this.registers}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if(typeof this.atomIdsSettings.seed!="number")return`${Date.now().toString(36).slice(-2)}${Math.floor(Math.random()*1e5).toString(36)}`;let e=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,e}scale(e){return e*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return this.mathstyle.id===Kw||this.mathstyle.id===Lv}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get metrics(){return this.mathstyle.metrics}get effectiveFontSize(){return Math.max(jw[Math.max(1,this.size+this.mathstyle.sizeDelta)],this.minFontScale)}getRegister(e){var r;if((r=this.registers)!=null&&r[e])return this.registers[e];if(this.parent)return this.parent.getRegister(e)}getRegisterAsNumber(e){let r=this.getRegister(e);if(typeof r=="number")return r;if(typeof r=="string")return Number(r)}getRegisterAsGlue(e){var r;if((r=this.registers)!=null&&r[e]){let i=this.registers[e];return typeof i=="object"&&"glue"in i?i:typeof i=="object"&&"dimension"in i?{glue:{dimension:i.dimension}}:typeof i=="number"?{glue:{dimension:i}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(e)}getRegisterAsEm(e,r){return MU(this.getRegisterAsDimension(e),r)}getRegisterAsDimension(e){var r;if((r=this.registers)!=null&&r[e]){let i=this.registers[e];return typeof i=="object"&&"glue"in i?i.glue:typeof i=="object"&&"dimension"in i?i:typeof i=="number"?{dimension:i}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(e)}setRegister(e,r){if(r===void 0){delete this.registers[e];return}this.registers[e]=r}evaluate(e){if(!e||!("register"in e))return e;let r=this;if("global"in e&&e.global)for(;r.parent;)r=r.parent;let i=1;"factor"in e&&e.factor!==1&&e.factor!==void 0&&(i=e.factor);let n=r.getRegister(e.register);if(n===void 0)return;if(typeof n=="string")return{string:Number(n).toString()+n};if(typeof n=="number")return{number:i*n};let a=r.evaluate(n);if(a!==void 0)return"string"in a?{string:Number(n).toString()+a.string}:"number"in a?{number:i*a.number}:"dimension"in a?je(we({},a),{dimension:i*a.dimension}):"glue"in a?je(we({},a),{glue:je(we({},a.glue),{dimension:i*a.glue.dimension}),shrink:a.shrink?je(we({},a.shrink),{dimension:i*a.shrink.dimension}):void 0,grow:a.grow?je(we({},a.grow),{dimension:i*a.grow.dimension}):void 0}):e}toDimension(e){let r=this.evaluate(e);return r===void 0?null:"dimension"in r?r:"glue"in r?r.glue:"number"in r?{dimension:r.number}:null}toEm(e,r){if(e===null)return 0;let i=this.toDimension(e);return i===null?0:wU(i,r)/Rd}toNumber(e){if(e===null)return null;let r=this.evaluate(e);return r===void 0?null:"number"in r?r.number:"dimension"in r?r.dimension:"glue"in r?r.glue.dimension:"string"in r?Number(r.string):null}toColor(e){var r,i;if(e===null)return null;let n=this.evaluate(e);return n===void 0?null:"string"in n?(i=(r=this.colorMap)==null?void 0:r.call(this,n.string))!=null?i:n.string:null}toBackgroundColor(e){var r,i;if(e===null)return null;let n=this.evaluate(e);return n===void 0?null:"string"in n?(i=(r=this.backgroundColorMap)==null?void 0:r.call(this,n.string))!=null?i:n.string:null}},Vd=["body","above","below","superscript","subscript"];function T1(t){return typeof t=="string"&&Vd.includes(t)}function Zu(t){return t!==void 0&&Array.isArray(t)&&t.length===2}var it=class ic{constructor(e){this.isRoot=!1;var r,i,n,a,s,o,l;this.type=e.type,typeof e.value=="string"&&(this.value=e.value),this.command=(i=(r=e.command)!=null?r:this.value)!=null?i:"",this.mode=(n=e.mode)!=null?n:"math",e.isFunction&&(this.isFunction=!0),(e.isRoot||this.type==="root")&&(this.isRoot=!0),e.limits&&(this.subsupPlacement=e.limits),this.style=we({},(a=e.style)!=null?a:{}),this.displayContainsHighlight=(s=e.displayContainsHighlight)!=null?s:!1,this.captureSelection=(o=e.captureSelection)!=null?o:!1,this.skipBoundary=(l=e.skipBoundary)!=null?l:!1,e.verbatimLatex!==void 0&&e.verbatimLatex!==null&&(this.verbatimLatex=e.verbatimLatex),e.args&&(this.args=e.args),e.body&&(this.body=e.body),this._changeCounter=0}static createBox(e,r,i){var n;if(!r)return null;let a=kMe(r),s=[];for(let l of a){let u=l[0].style,c=CMe(e,l,{style:{color:u.color,backgroundColor:u.backgroundColor,fontSize:u.fontSize}});c&&s.push(c)}if(s.length===0)return null;let o=((n=i==null?void 0:i.classes)!=null?n:"").trim();return s.length===1&&!o&&!(i!=null&&i.type)?s[0].wrap(e):new kt(s,{classes:o,type:i==null?void 0:i.type}).wrap(e)}static serialize(e,r){return Wo.serialize(e,r)}static commonAncestor(e,r){if(e===r||e.parent===r.parent)return e.parent;let i=new WeakSet,{parent:n}=e;for(;n;)i.add(n),n=n.parent;for(n=r.parent;n;){if(i.has(n))return n;n=n.parent}}static fromJson(e){return typeof e=="string"?new ic({type:"mord",value:e,mode:"math"}):new ic(e)}toJson(){if(this._json)return this._json;let e={};if(this.type&&(e.type=this.type),this.mode!=="math"&&(e.mode=this.mode),this.command&&this.command!==this.value&&(e.command=this.command),this.value!==void 0&&(e.value=this.value),this.style&&Object.keys(this.style).length>0&&(e.style=we({},this.style)),this.verbatimLatex!==void 0&&(e.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(e.explicitSubsupPlacement=!0),this.isFunction&&(e.isFunction=!0),this.displayContainsHighlight&&(e.displayContainsHighlight=!0),this.skipBoundary&&(e.skipBoundary=!0),this.captureSelection&&(e.captureSelection=!0),this.args&&(e.args=NMe(this.args)),this._branches)for(let r of Object.keys(this._branches))this._branches[r]&&(e[r]=this._branches[r].filter(i=>i.type!=="first").map(i=>i.toJson()));return e.type==="mord"&&Object.keys(e).length===2&&"value"in e?e.value:(this._json=e,e)}get changeCounter(){return this.parent?this.parent.changeCounter:this._changeCounter}set isDirty(e){e&&(this._json=void 0,this.parent||this._changeCounter++,"verbatimLatex"in this&&(this.verbatimLatex=void 0),this._children=void 0,this.parent&&(this.parent.isDirty=!0))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ss(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):this.body&&this.command?Hr([rn(this.command,this.bodyToLatex(e)),this.supsubToLatex(e)]):this.body?Hr([this.bodyToLatex(e),this.supsubToLatex(e)]):!this.value||this.value==="​"?"":this.command}bodyToLatex(e){var r;let i=(r=e.defaultMode)!=null?r:this.mode==="math"?"math":"text";return Wo.serialize(this.body,je(we({},e),{defaultMode:i}))}aboveToLatex(e){return Wo.serialize(this.above,e)}belowToLatex(e){return Wo.serialize(this.below,e)}supsubToLatex(e){let r="";if(e=je(we({},e),{defaultMode:"math"}),this.branch("subscript")!==void 0){let i=Wo.serialize(this.subscript,e);i.length===0?r+="_{}":i.length===1?/^[0-9]$/.test(i)?r+=`_${i}`:r+=`_{${i}}`:r+=`_{${i}}`}if(this.branch("superscript")!==void 0){let i=Wo.serialize(this.superscript,e);i.length===0?r+="^{}":i.length===1?i==="′"?r+="^\\prime ":i==="″"?r+="^\\doubleprime ":/^[0-9]$/.test(i)?r+=`^${i}`:r+=`^{${i}}`:r+=`^{${i}}`}return r}get treeDepth(){let e=1,r=this.parent;for(;r;)r=r.parent,e+=1;return e}get inCaptureSelection(){let e=this;for(;e;){if(e.captureSelection)return!0;e=e.parent}return!1}get parentPrompt(){let e=this.parent;for(;e;){if(e.type==="prompt"&&!e.captureSelection)return e;e=e.parent}return null}branch(e){if(T1(e)&&this._branches)return this._branches[e]}get branches(){if(!this._branches)return[];let e=[];for(let r of Vd)this._branches[r]&&e.push(r);return e}createBranch(e){return T1(e),T1(e)?(this._branches?this._branches[e]||(this._branches[e]=[this.makeFirstAtom(e)]):this._branches={[e]:[this.makeFirstAtom(e)]},this.isDirty=!0,this._branches[e]):[]}get row(){return Zu(this.parentBranch)?this.parentBranch[0]:-1}get col(){return Zu(this.parentBranch)?this.parentBranch[1]:-1}get body(){var e;return(e=this._branches)==null?void 0:e.body}set body(e){this.setChildren(e,"body")}get superscript(){var e;return(e=this._branches)==null?void 0:e.superscript}set superscript(e){this.setChildren(e,"superscript")}get subscript(){var e;return(e=this._branches)==null?void 0:e.subscript}set subscript(e){this.setChildren(e,"subscript")}get above(){var e;return(e=this._branches)==null?void 0:e.above}set above(e){this.setChildren(e,"above")}get below(){var e;return(e=this._branches)==null?void 0:e.below}set below(e){this.setChildren(e,"below")}applyStyle(e,r){this.isDirty=!0,r!=null&&r.unstyledOnly?(e.color&&!this.style.color&&(this.style.color=e.color),e.backgroundColor&&!this.style.backgroundColor&&(this.style.backgroundColor=e.backgroundColor),e.fontFamily&&!this.style.fontFamily&&(this.style.fontFamily=e.fontFamily),e.fontShape&&!this.style.fontShape&&(this.style.fontShape=e.fontShape),e.fontSeries&&!this.style.fontSeries&&(this.style.fontSeries=e.fontSeries),e.fontSize&&!this.style.fontSize&&(this.style.fontSize=e.fontSize),e.variant&&!this.style.variant&&(this.style.variant=e.variant),e.variantStyle&&!this.style.variantStyle&&(this.style.variantStyle=e.variantStyle)):this.style=we(we({},this.style),e),this.style.fontFamily==="none"&&delete this.style.fontFamily,this.style.fontShape==="auto"&&delete this.style.fontShape,this.style.fontSeries==="auto"&&delete this.style.fontSeries,this.style.color==="none"&&(delete this.style.color,delete this.style.verbatimColor),this.style.backgroundColor==="none"&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),this.style.fontSize==="auto"&&delete this.style.fontSize;for(let i of this.children)i.applyStyle(e,r)}getInitialBaseElement(){var e,r,i;return this.hasEmptyBranch("body")?this:((e=this.body)==null||e[0].type,(i=(r=this.body[1])==null?void 0:r.getInitialBaseElement())!=null?i:this)}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){return this.type==="leftright"||this.type==="genfrac"||this.type==="subsup"||this.type==="delim"||this.type==="array"||this.type==="surd"?!1:this.getFinalBaseElement().type==="mord"}hasEmptyBranch(e){let r=this.branch(e);return r?(r.length>0,r[0].type,r.length===1):!0}setChildren(e,r){var i;if(!e||(T1(r),!T1(r)))return;let n=((i=e[0])==null?void 0:i.type)==="first"?[...e]:[this.makeFirstAtom(r),...e];this._branches?this._branches[r]=n:this._branches={[r]:n};for(let a of e)a.parent=this,a.parentBranch=r;this.isDirty=!0}makeFirstAtom(e){let r=new ic({type:"first",mode:this.mode});return r.parent=this,r.parentBranch=e,r}addChild(e,r){e.type,this.createBranch(r).push(e),this.isDirty=!0,e.parent=this,e.parentBranch=r}addChildBefore(e,r){r.parentBranch;let i=this.createBranch(r.parentBranch);i.splice(i.indexOf(r),0,e),this.isDirty=!0,e.parent=this,e.parentBranch=r.parentBranch}addChildAfter(e,r){r.parentBranch;let i=this.createBranch(r.parentBranch);i.splice(i.indexOf(r)+1,0,e),this.isDirty=!0,e.parent=this,e.parentBranch=r.parentBranch}addChildren(e,r){let i=this.createBranch(r);for(let n of e)n.parent=this,n.parentBranch=r,i.push(n);this.isDirty=!0}addChildrenAfter(e,r){e.length===0||e[0].type,r.parentBranch;let i=this.createBranch(r.parentBranch);i.splice(i.indexOf(r)+1,0,...e),this.isDirty=!0;for(let n of e)n.parent=this,n.parentBranch=r.parentBranch;return e[e.length-1]}removeBranch(e){let r=this.branch(e);if(T1(e)&&(this._branches[e]=void 0),!r)return[];for(let a of r)a.parent=void 0,a.parentBranch=void 0;r[0].type;let[i,...n]=r;return this.isDirty=!0,n}removeChild(e){if(e.parent,e.type==="first")return;let r=this.branch(e.parentBranch),i=r.indexOf(e);r.splice(i,1),this.isDirty=!0,e.parent=void 0,e.parentBranch=void 0}get siblings(){return this.parent?this.parent.branch(this.parentBranch):[]}get firstSibling(){return this.siblings[0]}get lastSibling(){let{siblings:e}=this;return e[e.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return this.siblings.length===1}get leftSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)-1]}get rightSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&this.children.length>0)}get firstChild(){return this.hasChildren,this.children[0]}get lastChild(){this.hasChildren;let{children:e}=this;return e[e.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];let e=[];for(let r of Vd)if(this._branches[r])for(let i of this._branches[r])e.push(...i.children),e.push(i);return this._children=e,e}render(e){if(this.type==="first"&&!e.atomIdsSettings)return null;let r=Ss(this.command,this.mode);if(r!=null&&r.render)return r.render(this,e);let i=new pi({parent:e},this.style),n=this.createBox(i,{classes:this.parent?"":"ML__base"});return n?(!this.subsupPlacement&&(this.superscript||this.subscript)&&(n=this.attachSupsub(i,{base:n})),n.wrap(i)):null}attachSupsub(e,r){var i;let n=r.base,a=this.superscript,s=this.subscript;if(!a&&!s)return n;let o=null,l=null,u=(i=r.isCharacterBox)!=null?i:this.isCharacterBox(),c=0;if(a){let f=new pi({parent:e,mathstyle:"superscript"});o=ic.createBox(f,a),u||(c=n.height-e.metrics.supDrop*f.scalingFactor)}let h=0;if(s){let f=new pi({parent:e,mathstyle:"subscript"});l=ic.createBox(f,s),u||(h=n.depth+e.metrics.subDrop*f.scalingFactor)}let p;e.isDisplayStyle?p=e.metrics.sup1:e.isCramped?p=e.metrics.sup3:p=e.metrics.sup2;let d=.5/Rd/e.scalingFactor,m=null;if(l&&o){c=Math.max(c,p,o.depth+.25*e.metrics.xHeight),h=Math.max(h,e.metrics.sub2);let f=e.metrics.defaultRuleThickness;if(c-o.depth-(l.height-h)<4*f){h=4*f-(c-o.depth)+l.height;let y=.8*e.metrics.xHeight-(c-o.depth);y>0&&(c+=y,h-=y)}let v=this.type==="extensible-symbol"&&n.italic?-n.italic:0;m=new ba({individualShift:[{box:l,shift:h,marginLeft:v},{box:o,shift:-c}]}).wrap(e)}else l&&!o?(h=Math.max(h,e.metrics.sub1,l.height-.8*uh),m=new ba({shift:h,children:[{box:l,marginRight:d,marginLeft:this.isCharacterBox()?-n.italic:0}]})):!l&&o&&(c=Math.max(c,p,o.depth+.25*uh),m=new ba({shift:-c,children:[{box:o,marginRight:d}]}));return new kt([n,new kt(m,{caret:this.caret,isSelected:this.isSelected,classes:"ML__msubsup"})],{type:r.type})}attachLimits(e,r){let i=this.superscript?ic.createBox(new pi({parent:e,mathstyle:"superscript"},this.style),this.superscript):null,n=this.subscript?ic.createBox(new pi({parent:e,mathstyle:"subscript"},this.style),this.subscript):null;return!i&&!n?r.base.wrap(e):xMe(e,je(we({},r),{above:i,below:n}))}bind(e,r){if(!r||e.isPhantom||this.value==="​")return r;let i=this.parent;for(;i&&!i.captureSelection;)i=i.parent;return i!=null&&i.captureSelection||(this.id||(this.id=e.makeID()),r.atomID=this.id),r}createBox(e,r){var i,n,a,s;let o=(i=this.value)!=null?i:this.body,l=(n=r==null?void 0:r.boxType)!=null?n:Hw(this.type),u=(a=r==null?void 0:r.classes)!=null?a:"";this.mode==="text"&&(u+=" ML__text");let c=typeof o=="string"||o===void 0?new kt(o??null,{type:l,isSelected:this.isSelected,mode:this.mode,maxFontSize:e.scalingFactor,style:je(we({variant:"normal"},this.style),{fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)}),letterShapeStyle:e.letterShapeStyle,classes:u}):(s=ic.createBox(e,o,{type:l,classes:u}))!=null?s:new kt(null);return e.isTight&&(c.isTight=!0),(this.mode!=="math"||this.style.variant==="main")&&(c.italic=0),c.right=c.italic,this.bind(e,c),this.caret&&!this.superscript&&!this.subscript&&(c.caret=this.caret),c}isDigit(){var e;return this.type==="mord"&&this.value?/^[\d,\.]$/.test(this.value):this.type==="group"&&((e=this.body)==null?void 0:e.length)===2?this.body[0].type==="first"&&this.body[1].value===",":!1}asDigit(){var e;return this.type==="mord"&&this.value&&/^[\d,\.]$/.test(this.value)?this.value:this.type==="group"&&((e=this.body)==null?void 0:e.length)===2&&this.body[0].type==="first"&&this.body[1].value===","?".":""}};function kMe(t){let e,r=[],i=[];for(let n of t)if(n.type==="first"&&i.push(n),!e&&!n.style)i.push(n);else{let a=n.style;e&&a.color===e.color&&a.backgroundColor===e.backgroundColor&&a.fontSize===e.fontSize?i.push(n):(i.length>0&&r.push(i),i=[n],e=a)}return i.length>0&&r.push(i),r}function CMe(t,e,r){var i,n,a,s,o;if(!e||e.length===0)return null;let l=new pi({parent:t},r.style),u=!((i=l.atomIdsSettings)!=null&&i.groupNumbers),c=[];if(e.length===1){let p=e[0],d=p.render(l);d&&(u&&p.isSelected&&d.selected(!0),c=[d])}else{let p="",d=!0;for(let m of e){(n=l.atomIdsSettings)!=null&&n.groupNumbers&&p&&(d&&m.isDigit()||!d&&Qw(m))&&(l.atomIdsSettings.overrideID=p);let f=m.render(l);l.atomIdsSettings&&(l.atomIdsSettings.overrideID=void 0),f&&((a=l.atomIdsSettings)!=null&&a.groupNumbers&&((m.isDigit()||Qw(m))&&(!p||d!==m.isDigit())&&(d=m.isDigit(),p=(s=m.id)!=null?s:""),p&&(!(m.isDigit()||Qw(m))||!m.hasEmptyBranch("superscript")||!m.hasEmptyBranch("subscript"))&&(p="")),u&&m.isSelected&&f.selected(!0),c.push(f))}}if(c.length===0)return null;let h=new kt(c,je(we({isTight:l.isTight},r),{type:(o=r.type)!=null?o:"lift"}));return h.isSelected=c.every(p=>p.isSelected),h.wrap(l)}function Qw(t){return t.mode==="text"}function NMe(t){return t.map(e=>e===null?"<null>":Array.isArray(e)&&e[0]instanceof it?{atoms:e.map(r=>r.toJson())}:typeof e=="object"&&"group"in e?{group:e.group.map(r=>r.toJson())}:e)}var Gd=class KZ extends it{constructor(e,r,i){super({type:"text",command:e,mode:"text",displayContainsHighlight:!0}),this.value=r,this.verbatimLatex=r,this.applyStyle(i)}static fromJson(e){return new KZ(e.command,e.value,e.style)}render(e){let r=this.createBox(e);return this.caret&&(r.caret=this.caret),r}_serialize(e){var r;return(r=this.verbatimLatex)!=null?r:MR("text",this.value.codePointAt(0))}};function SMe(t,e){if(t.direction===e.direction){let r=t.ranges.length;if(e.ranges.length===r){let i=0;for(;i<r&&DMe(t.ranges[i],e.ranges[i])==="equal";)i++;return i===r?"equal":"different"}}return"different"}function DMe(t,e){return t[0]===e[0]&&t[1]===e[1]?"equal":"different"}function As(t){let e=1/0,r=-1/0;for(let i of t.ranges)e=Math.min(e,i[0],i[1]),r=Math.max(r,i[0],i[1]);return[e,r]}function hh(t){return typeof t=="number"&&!Number.isNaN(t)}function Bv(t){return Array.isArray(t)&&t.length===2}function Ov(t){return t!=null&&typeof t=="object"&&"ranges"in t&&Array.isArray(t.ranges)}function AMe(t,e){let r=t.at(e),i;if(r){i=r.mode;let n=r.parent;for(;!i&&n;)n&&(i=n.mode),n=n.parent}return i}function $Me(t,e){if(!e)return"";if(typeof e=="string")return e;if(!t||e.after===void 0)return e.value;let r=!1,i=!1,n=!1,a=!1,s=!1,o=!1,l=!1,u=!1,c=!1,h=!1,p=!1,d=!1,m=!1,f=!1,v=!1,y=t[0],x=0;for(;y!=null&&y.type&&/^(subsup|placeholder)$/.test(y.type);)x+=1,y=t[x];return r=!y||y.type==="first",y&&(f=y.mode==="text",i=!f&&y.type==="mord"&&rw.test(y.value),n=!f&&y.type==="mord"&&/\d+$/.test(y.value),a=!f&&y.isFunction,s=y.type==="genfrac",o=y.type==="surd",l=y.type==="mbin",u=y.type==="mrel",c=y.type==="mop"||y.type==="operator"||y.type==="extensible-symbol",h=y.type==="mpunct"||y.type==="minner",p=y.type==="array",d=y.type==="mopen",m=y.type==="mclose"||y.type==="leftright",v=y.type==="space"),e.after.includes("nothing")&&r||e.after.includes("letter")&&i||e.after.includes("digit")&&n||e.after.includes("function")&&a||e.after.includes("frac")&&s||e.after.includes("surd")&&o||e.after.includes("binop")&&l||e.after.includes("relop")&&u||e.after.includes("operator")&&c||e.after.includes("punct")&&h||e.after.includes("array")&&p||e.after.includes("openfence")&&d||e.after.includes("closefence")&&m||e.after.includes("text")&&f||e.after.includes("space")&&v?e.value:""}function Jw(t,e,r){return r?$Me(t,r[e]):""}var NU={"&":"\\&","%":"\\%",$:"\\$","''":"^{\\doubleprime}","'''":"^{\\prime\\prime\\prime}","''''":"^{\\prime\\prime\\prime\\prime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","∞":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"∑":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","∆":"\\differentialD","∂":"\\differentialD",sin:"\\sin",cos:"\\cos",tan:"\\tan",arccos:"\\arccos",arcsin:"\\arcsin",arctan:"\\arctan",arctg:"\\operatorname{arctg}",arcsec:"\\operatorname{arcsec}",arccsc:"\\operatorname{arccsc}",arsinh:"\\operatorname{arsinh}",arccosh:"\\operatorname{arccosh}",arcosh:"\\operatorname{arcosh}",artanh:"\\operatorname{artanh}",arctanh:"\\operatorname{arctanh}",arcsech:"\\operatorname{arcsech}",arccsch:"\\operatorname{arccsch}",ch:"\\operatorname{ch}",cosec:"\\operatorname{cosec}",cosh:"\\cosh",cot:"\\cot",cotg:"\\operatorname{cotg}",coth:"\\coth",csc:"\\csc",ctg:"\\operatorname{ctg}",cth:"\\operatorname{cth}",sec:"\\sec",sech:"\\operatorname{sech}",sinh:"\\sinh",sh:"\\operatorname{sh}",tanh:"\\tanh",tg:"\\operatorname{tg}",th:"\\operatorname{th}",arg:"\\arg",lg:"\\lg",lb:"\\operatorname{lb}",log:"\\log_{#?}",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?\\to#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},sint:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\sin t"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\mathbb{Z}",QQ:"\\mathbb{Q}",RR:"\\mathbb{R}",CC:"\\mathbb{C}",xx:"\\times","+-":"\\pm","≠":"\\ne","!=":"\\ne","≥":"\\ge",">=":"\\ge","≤":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","≈":"\\approx","?=":"\\questeq","÷":"\\div","¬":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},µ:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",Ω:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\bmod{#?}","(mod":"\\pmod{#?}",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\gcd",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},ft:{after:"nothing+digit+operator",value:"\\operatorname{ft}"},inch:{after:"nothing+digit+operator",value:"\\operatorname{inch}"},mi:{after:"nothing+digit+operator",value:"\\operatorname{mi}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","-->...":"\\longrightarrow\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\iff","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","*":"\\cdot","**":"\\star","***":"\\ast","//":"\\slash","\\\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceil","~|":"\\rceil",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail",times:"\\times",of:"\\circ",infinity:"\\infty",defint:"\\int_{#?}^{#?}",approaches:"\\to",ceil:"\\left\\lceil#?\\right\\rceil",floor:"\\left\\lfloor#?\\right\\rfloor",union:"\\cup",asterisk:"\\ast",frac:"\\frac{#?}{#?}",cbrt:"\\sqrt[3]{#?}",nthroot:"\\sqrt[#?]{#?}"};function Fv(t,e){var r;let i=(r=e==null?void 0:e.format)!=null?r:"auto";return i==="auto"&&([i,t]=_Me(t)),i==="ascii-math"?(t=t.replace(/\u2061/gu,""),t=t.replace(/\u3016/gu,"{"),t=t.replace(/\u3017/gu,"}"),t=t.replace(/([^\\])sinx/g,"$1\\sin x"),t=t.replace(/([^\\])cosx/g,"$1\\cos x "),t=t.replace(/\u2013/g,"-"),["ascii-math",_o(t,{inlineShortcuts:e==null?void 0:e.inlineShortcuts})]):["latex",t]}function _o(t,e){var r;if(t=t.trim(),!t)return"";let i=(r=e.inlineShortcuts)!=null?r:NU;if(t.startsWith("^")||t.startsWith("_")){let{match:o,rest:l}=L1(t.slice(1),{inlineShortcuts:i,noWrap:!0});return`${t[0]}{${o}}${_o(l,e)}`}let n=t.match(/^(sqrt|\u221A)(.*)/);if(n){let{match:o,rest:l}=L1(n[2],{inlineShortcuts:i,noWrap:!0});return`\\sqrt{${o??"\\placeholder{}"}}${_o(l,e)}`}if(n=t.match(/^(\\cbrt|\u221B)(.*)/),n){let{match:o,rest:l}=L1(n[2],{inlineShortcuts:i,noWrap:!0});return`\\sqrt[3]{${o??"\\placeholder{}"}}${_o(l,e)}`}if(n=t.match(/^abs(.*)/),n){let{match:o,rest:l}=L1(n[1],{inlineShortcuts:i,noWrap:!0});return`\\left|${o??"\\placeholder{}"}\\right|${_o(l,e)}`}if(n=t.match(/^["”“](.*?)["”“](.*)/),n)return`\\text{${n[1]}}${_o(n[2],e)}`;if(n=t.match(/^([^a-zA-Z0-9\(\{\[\_\^\\\s"]+)(.*)/),n)return`${DU(n[1],i)}${_o(n[2],e)}`;if(/^([fgh])[^a-zA-Z]/.test(t)){let{rest:o,match:l}=L1(t.slice(1),{inlineShortcuts:i,noWrap:!0}),u="";return t[1]==="("?u=`${t[0]}\\left(${l}\\right)`:u=t[0]+l,u+_o(o,e)}if(n=t.match(/^([a-zA-Z]+)(.*)/),n)return DU(n[1],i)+_o(n[2],e);let{match:a,rest:s}=L1(t,{inlineShortcuts:i,noWrap:!0});if(a&&s[0]==="/"){let o=L1(s.slice(1),{inlineShortcuts:i,noWrap:!0});if(o.match)return`\\frac{${a}}{${o.match}}${_o(o.rest,e)}`}else return t.startsWith("(")?"\\left("+a+"\\right)"+_o(s,e):a+_o(s,e);return n=t.match(/^(\s+)(.*)$/),n?" "+_o(n[2],e):t}var SU={"[":"\\lbrack","]":"\\rbrack","{":"\\lbrace","}":"\\rbrace"};function L1(t,e){var r,i;let n="";t=t.trim();let a=t,s=t.charAt(0),o={"(":")","{":"}","[":"]"}[s];if(o){let l=1,u=1;for(;u<t.length&&l>0;)t[u]===s&&l++,t[u]===o&&l--,u++;if(l===0){let c=_o(t.substring(1,u-1),e);e.noWrap&&s==="("?n=c:n=`\\left${(r=SU[s])!=null?r:s}${c}\\right${(i=SU[o])!=null?i:o}`,a=t.slice(Math.max(0,u))}else n=t.substring(1,u),a=""}else{let l=t.match(/^([a-zA-Z]+)/);if(l){let u=Jw(null,t,e.inlineShortcuts);if(u)return u=u.replace("_{#?}",""),u=u.replace("^{#?}",""),{match:u,rest:t.slice(u.length)}}if(l=t.match(/^([a-zA-Z])/),l)return{match:l[1],rest:t.slice(1)};if(l=t.match(/^(-)?\d+(\.\d*)?/),l)return{match:l[0],rest:t.slice(l[0].length)};/^\\(left|right)/.test(t)||(l=t.match(/^(\\[a-zA-Z]+)/),l&&(a=t.slice(l[1].length),n=l[1]))}return{match:n,rest:a}}function DU(t,e){let r=Jw(null,t,e);return r?(r=r.replace("_{#?}",""),r=r.replace("^{#?}",""),r+=" "):r=t,r}var AU=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function eM(t){let e=t.trim();for(let r of AU)if(e.startsWith(r[0])&&e.endsWith(r[1]))return[!0,e.substring(r[0].length,e.length-r[1].length)];return[!1,t]}function _Me(t){if(t=t.trim(),t.length<=1)return["latex",t];let e;return[e,t]=eM(t),e?["latex",t]:t.startsWith("`")&&t.endsWith("`")?(t=t.substring(1,t.length-1),["ascii-math",t]):t.includes("\\")?["latex",t]:/\$.+\$/.test(t)?["latex",`\\text{${t}}`]:[void 0,t]}var EMe="$$",IMe="$$",TMe=(t,e,r)=>(AU.some(i=>e.startsWith(i[0])&&e.endsWith(i[1]))||(e=`${EMe} ${e} ${IMe}`),e),$U=class pb{constructor(e){pb._modes[e]=this}static onPaste(e,r,i){var n;if(!r.contentEditable&&r.userSelect==="none")return r.model.announce("plonk"),!1;if(typeof i=="string"){let s=new DataTransfer;s.setData("text/plain",i),i=s}let a=new ClipboardEvent("paste",{clipboardData:i,cancelable:!0});return(n=r.host)!=null&&n.dispatchEvent(a)?pb._modes[e].onPaste(r,i):!1}static copyToClipboard(e,r){if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let i=e.model,n=i.selectionIsCollapsed?[0,i.lastOffset]:As(i.selection),a=i.getValue(n,r);navigator.clipboard.writeText(a).then(()=>{},()=>e.model.announce("plonk"))}static onCopy(e,r){var i;if(!r.clipboardData)return;if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let n=e.model,a=n.selectionIsCollapsed?[0,n.lastOffset]:As(n.selection),s=n.getAtoms(a);if(s.every(o=>o.mode==="text"||!o.mode))r.clipboardData.setData("text/plain",s.filter(o=>o instanceof Gd).map(o=>o.value).join(""));else if(s.every(o=>o.mode==="latex"))r.clipboardData.setData("text/plain",n.getAtoms(a,{includeChildren:!0}).map(o=>{var l;return(l=o.value)!=null?l:""}).join(""));else{let o;s.length===1&&s[0].verbatimLatex!==void 0?o=s[0].verbatimLatex:o=n.getValue(a,"latex-expanded"),r.clipboardData.setData("application/x-latex",o);try{r.clipboardData.setData("text/plain",e.options.onExport(e,o,a))}catch{}if(s.length===1){let l=s[0];(l.type==="root"||l.type==="group")&&(s=l.body.filter(u=>u.type!=="first"))}try{r.clipboardData.setData("application/json+mathlive",JSON.stringify(s.map(l=>l.toJson())))}catch{}if((i=window[Symbol.for("io.cortexjs.compute-engine")])!=null&&i.ComputeEngine){let l=globalThis.MathfieldElement.computeEngine;if(l)try{let u=l.jsonSerializationOptions;l.jsonSerializationOptions={metadata:["latex"]};let c=l.parse(n.getValue(a,"latex-unstyled"));l.jsonSerializationOptions=u;let h=JSON.stringify(c.json);h&&r.clipboardData.setData("application/json",h)}catch{}}}r.preventDefault()}static insert(e,r,i={}){var n;let a=i.mode==="auto"?e.mode:(n=i.mode)!=null?n:e.mode;return pb._modes[a].insert(e,r,i)}onPaste(e,r){return!1}insert(e,r,i){return!1}};$U._modes={};var nn=$U,LMe=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",command:"moveToNextGroup"},{key:"shift+[Tab]",command:"moveToPreviousGroup"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"[Undo]",command:"undo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"cmd+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"ctrl+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"cmd+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"ctrl+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"cmd+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleContextMenu"},{key:"alt+shift+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"shift+alt+[KeyT]",ifMode:"math",command:["switchMode","text"]},{key:"shift+alt+[KeyT]",ifMode:"text",command:["switchMode","math"]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+shift+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"alt+[Tab]",ifMode:"math",command:"addColumnAfter"},{key:"shift+alt+[Tab]",ifMode:"math",command:"addColumnBefore"},{key:"alt+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Enter]",ifMode:"math",command:"addRowBefore"},{key:"alt+[Return]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Return]",ifMode:"math",command:"addRowBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]},{key:"[Backquote]",ifLayout:["windows.german","linux.german"],ifMode:"math",command:["insert","^"]},{key:"[IntlBackslash]",ifLayout:["apple.german"],ifMode:"math",command:["insert","^"]}],zMe={"\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\infty":"alt+[Digit5]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function ph(t){var e;return((e=t.element)==null?void 0:e.mathfield)===t}function BMe(t){var e,r;return(r=(e=t.querySelector(".ML__caret"))!=null?e:t.querySelector(".ML__text-caret"))!=null?r:t.querySelector(".ML__latex-caret")}function Pv(t){let e=BMe(t);if(!e)return null;let r=e.getBoundingClientRect();return{x:r.right,y:r.bottom,height:r.height}}function OMe(t){var e;if(!t.parent)return"root";let r=(e=t.parent.id)!=null?e:"";return r+=typeof t.parentBranch=="string"?"-"+t.parentBranch:`-${t.parentBranch[0]}/${t.parentBranch[0]}`,r}function _U(t,e,r){if(!e)return null;let i=t.field.getBoundingClientRect(),n=e.right-e.left,a=e.bottom-e.top,s=Math.ceil(e.left-i.left+t.field.scrollLeft*r),o=Math.ceil(e.top-i.top);return{left:s,right:s+n,top:o,bottom:o+a}}function EU(t){let e=t.getBoundingClientRect(),r=parseInt(getComputedStyle(t).marginRight),i={top:e.top-1,bottom:e.bottom,left:e.left,right:e.right-1+r};if(t.children.length===0||t.tagName.toUpperCase()==="SVG")return i;for(let n of t.children)if(n.nodeType===1&&"atomId"in n.dataset&&!n.classList.contains("ML__pstrut")){let a=EU(n);i.left=Math.min(i.left,a.left),i.right=Math.max(i.right,a.right),i.top=Math.min(i.top,a.top),i.bottom=Math.max(i.bottom,a.bottom)}return i}function Zd(t,e){var r,i;if(!e.id)return null;let n=(i=(r=t.atomBoundsCache)==null?void 0:r.get(e.id))!=null?i:null;if(n!==null)return n;let a=t.field.querySelector(`[data-atom-id="${e.id}"]`);return n=a?EU(a):null,t.atomBoundsCache&&(n?t.atomBoundsCache.set(e.id,n):t.atomBoundsCache.delete(e.id)),n??null}function FMe(t,e){let[r,i]=e,n=null;for(let a=r;a<=i;a++){let s=Zd(t,t.model.at(a));s&&(n?(n.top=Math.min(n.top,s.top),n.bottom=Math.max(n.bottom,s.bottom),n.left=Math.min(n.left,s.left),n.right=Math.max(n.right,s.right)):n=s)}return n??{top:0,bottom:0,left:0,right:0}}function PMe(t,e,r){let i=new Map,n=t.field,a=n.offsetWidth,s=Math.floor(n.getBoundingClientRect().width)/a;s=isNaN(s)?1:s;for(let o of t.model.getAtoms(e,{includeChildren:!0})){if(r!=null&&r.excludeAtomsWithBackground&&o.style.backgroundColor)continue;let l=_U(t,Zd(t,o),s);if(l){let u=OMe(o);if(i.has(u)){let c=i.get(u);i.set(u,{left:Math.min(c.left,l.left),right:Math.max(c.right,l.right),top:Math.min(c.top,l.top),bottom:Math.max(c.bottom,l.bottom)})}else i.set(u,l)}}return[...i.values()]}function IU(t,e){return t.model.selection.ranges.reduce((r,i)=>r.concat(...PMe(t,i,e)),[])}function tM(t,e){return t==="*"||e==="none"?!0:e==="same-origin"?!window.origin||t===window.origin:typeof e=="function"?e(t):!1}function TU(t){let e=0,r=0,i=t.offsetWidth,n=t.offsetHeight;for(;t instanceof HTMLElement;)e+=t.offsetTop,r+=t.offsetLeft,t=t.offsetParent;return new DOMRect(r,e,i,n)}function LU(t,e){if(!t)return;let r=t.model.at(e);if(!r)return;let i={},n=Zd(t,r);n&&(i.bounds=new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)),i.depth=r.treeDepth-2,i.style=r.style;let a=r;for(;a;){if(a.command==="\\htmlData"&&a.args&&typeof a.args[0]=="string"){let s=a.args[0].split(",");for(let o of s){let l=o.match(/([^=]+)=(.+$)/);if(l){let u=l[1].trim().replace(/ /g,"-");u&&(i.data||(i.data={}),i.data[u]=l[2])}else{let u=o.trim().replace(/ /g,"-");u&&(i.data||(i.data={}),i.data[u]=void 0)}}}(a.command==="\\htmlId"||a.command==="\\cssId")&&!i.id&&a.args&&typeof a.args[0]=="string"&&(i.id=a.args[0]),a=a.parent}return(r.mode==="math"||r.mode==="text")&&(i.latex=it.serialize([r],{defaultMode:"math"})),i}function RMe(t,e){let r=t.model.at(e);for(;r;){if(r.command==="\\href"){let i=r.args[0];if(typeof i=="string")return i}r=r.parent}return""}var jMe=`@keyframes ML__caret-blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}
.ML__container {
  display: inline-flex;
  flex-flow: row;
  justify-content: space-between;
  align-items: flex-end;
  min-height: 39px;
  /* Need some room for the virtual keyboard toggle */
  width: 100%;
  padding: 4px;
  box-sizing: border-box;
  /* This attribute is necessary to work around a Firefox issue where 
  where clicking multiple times on the border leads to a focused mathfield that cannot be edited until focus is lost and regained (also fixes the multiple cursor issue on firefox that can occur with the same sequence of events).
  */
  pointer-events: auto;
  /* Prevent the browser from trying to interpret touch gestures in the field */
  /* "Disabling double-tap to zoom removes the need for browsers to
        delay the generation of click events when the user taps the screen." */
  touch-action: none;
  --_caret-color: var(--caret-color, hsl(var(--_hue), 40%, 49%));
  --_selection-color: var(--selection-color, #000);
  --_selection-background-color: var(--selection-background-color, hsl(var(--_hue), 70%, 85%));
  --_text-highlight-background-color: var(--highlight-text, hsla(var(--_hue), 40%, 50%, 0.1));
  --_contains-highlight-background-color: var(--contains-highlight-background-color, hsl(var(--_hue), 40%, 95%));
  --_smart-fence-color: var(--smart-fence-color, currentColor);
  --_smart-fence-opacity: var(--smart-fence-opacity, 0.5);
  --_latex-color: var(--latex-color, hsl(var(--_hue), 80%, 40%));
  --_correct-color: var(--correct-color, #10a000);
  --_incorrect-color: var(--incorrect-color, #a01b00);
  --_composition-background-color: var(--composition-background-color, #fff1c2);
  --_composition-text-color: var(--composition-text-color, black);
  --_composition-underline-color: var(--composition-underline-color, transparent);
  --_tooltip-border: var(--tooltip-border, 1px solid transparent);
  --_tooltip-border-radius: var(--tooltip-border-radius, 8px);
  --_tooltip-background-color: var(--tooltip-background-color, #616161);
  --_tooltip-color: var(--tooltip-color, #fff);
  --_tooltip-box-shadow: var(--tooltip-box-shadow, 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2));
}
@media (hover: none) and (pointer: coarse) {
  :host(:not(:focus)) .ML__container {
    pointer-events: none;
  }
}
/* This is the actual field content (formula) */
.ML__content {
  display: flex;
  align-items: center;
  align-self: center;
  position: relative;
  overflow: hidden;
  padding: 2px 3px 2px 1px;
  width: 100%;
  /* Encourage the browser to use the GPU to render the field.
     Weirdly, this is required for prompts to be rendered correctly. 
   */
  isolation: isolate;
}
.ML__virtual-keyboard-toggle,
.ML__menu-toggle {
  box-sizing: border-box;
  display: flex;
  align-self: center;
  align-items: center;
  flex-shrink: 0;
  flex-direction: column;
  justify-content: center;
  width: 34px;
  height: 34px;
  padding: 0;
  margin-right: 4px;
  cursor: pointer;
  /* Avoid some weird blinking with :hover */
  border-radius: 8px;
  border: 1px solid transparent;
  transition: background 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  color: hsl(var(--_hue), 40%, 50%);
  fill: currentColor;
  background: transparent;
}
.ML__virtual-keyboard-toggle:hover,
.ML__menu-toggle:hover {
  background: hsla(0, 0%, 70%, 0.3);
  color: #333;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle > span,
.ML__menu-toggle > span {
  display: flex;
  align-self: center;
  align-items: center;
}
@media (pointer: coarse) {
  .ML__virtual-keyboard-toggle,
  .ML__menu-toggle {
    min-width: 60px;
    min-height: 60px;
  }
}
/* The invisible element used to capture keyboard events. We're just trying
 really hard to make sure it doesn't show. */
.ML__keyboard-sink {
  display: inline-block;
  resize: none;
  outline: none;
  border: none;
  /* Need these for Microsoft Edge */
  position: fixed;
  clip: rect(0 0 0 0);
  /* Need this to prevent iOS Safari from auto-zooming */
  font-size: 1em;
  font-family: KaTeX_Main;
  line-height: 0.5;
  /* On Chromium, if this is 0, no keyboard events are received */
  /* Preferred over clip */
  clip-path: inset(50%);
}
[part='placeholder'] {
  color: var(--neutral-400);
}
.ML__composition {
  background: var(--_composition-background-color);
  color: var(--_composition-text-color);
  text-decoration: underline var(--_composition-underline-color);
}
.ML__caret {
  display: inline-block;
}
.ML__caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__text-caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__latex-caret::after {
  content: '';
  visibility: hidden;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_latex-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.019em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__focused .ML__latex-caret::after,
.ML__focused .ML__text-caret::after,
.ML__focused .ML__caret::after {
  visibility: visible;
}
.ML__focused .ML__text {
  background: var(--_text-highlight-background-color);
}
/* When using smartFence, the anticipated closing fence is displayed
with this style */
.ML__smart-fence__close {
  opacity: var(--_smart-fence-opacity);
  color: var(--_smart-fence-color);
}
.ML__selected,
.ML__focused .ML__selected .ML__contains-caret,
.ML__focused .ML__selected .ML__smart-fence__close,
.ML__focused .ML__selected .ML__placeholder {
  color: var(--_selection-color);
  opacity: 1;
}
.ML__selection {
  box-sizing: border-box;
  background: transparent;
}
:host(:focus) .ML__selection {
  background: var(--_selection-background-color) !important;
}
.ML__contains-caret.ML__close,
.ML__contains-caret.ML__open,
.ML__contains-caret > .ML__close,
.ML__contains-caret > .ML__open,
.ML__contains-caret .ML__sqrt-sign,
.ML__contains-caret .ML__sqrt-line {
  color: var(--_caret-color);
}
.ML__contains-highlight {
  box-sizing: border-box;
  background: transparent;
}
.ML__focused .ML__contains-highlight {
  background: var(--_contains-highlight-background-color);
}
.ML__raw-latex {
  font-family: 'Berkeley Mono', 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  font-weight: 400;
  font-size: 0.8em;
  letter-spacing: -0.05em;
  color: var(--_latex-color);
}
.ML__suggestion {
  color: var(--neutral-500);
}
.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle.is-pressed,
.ML__virtual-keyboard-toggle.is-active:hover,
.ML__virtual-keyboard-toggle.is-active {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
/* Add an attribute 'data-tooltip' to automatically show a
   tooltip over a element on hover.
*/
[data-tooltip] {
  position: relative;
}
[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  display: block;
  z-index: 2;
  pointer-events: none;
  right: auto;
  top: calc(-100% - 4px);
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  border-radius: 4px;
  background: #616161;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  text-align: center;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-style: normal;
  font-weight: 400;
  font-size: 13px;
  /* Phone */
  opacity: 0;
  transform: scale(0.5);
}
@media only screen and (max-width: 767px) {
  [data-tooltip]::after {
    padding: 8px 16px;
    font-size: 16px;
  }
}
menu [data-tooltip]::after {
  left: 100%;
  top: 0%;
}
menu .ML__base {
  cursor: default;
}
/** Don't display if we're tracking, i.e. have the pointer down */
.tracking [data-tooltip]:hover::after {
  /* Use visibility, not display. Display will remove the after from the DOM, and the override below will not work */
  visibility: hidden;
}
/** But do display if tracking and inside a menu */
.tracking menu li[data-tooltip]:hover::after,
[data-tooltip]:hover::after {
  visibility: visible;
  opacity: 1;
  transform: scale(1);
  transition-property: opacity, scale;
  transition-duration: 0.15s;
  transition-delay: 1s;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__prompt {
  border-radius: 2px;
}
.ML__editablePromptBox {
  outline: 1px solid #acacac;
  border-radius: 2px;
  z-index: -1;
}
.ML__focused .ML__focusedPromptBox {
  outline: highlight auto 1px;
}
.ML__lockedPromptBox {
  background-color: rgba(142, 142, 141, 0.4);
  z-index: -1;
}
.ML__correctPromptBox {
  outline: 1px solid var(--_correct-color);
  box-shadow: 0 0 5px var(--_correct-color);
}
.ML__incorrectPromptBox {
  outline: 1px solid var(--_incorrect-color);
  box-shadow: 0 0 5px var(--_incorrect-color);
}
.variant-submenu {
  display: flex;
  flex-direction: column;
  padding: 8px;
}
.variant-submenu [part='menu-item'].ML__xl {
  font-size: 2rem;
  text-align: center;
  margin: 0;
}
.ML__center-menu .label {
  text-align: center;
}
.insert-matrix-submenu {
  /* Grid doesn't work on Safari */
  --_menu-item-size: 25px;
  width: calc(5 * var(--_menu-item-size));
  display: flex;
  flex-wrap: wrap;
  padding: 8px;
  align-content: center;
  justify-content: center;
}
.insert-matrix-submenu [part='menu-item'] {
  width: var(--_menu-item-size);
  height: var(--_menu-item-size);
  font-size: 21px;
  border: none;
  border-radius: 0;
  line-height: 21px;
  text-align: center;
  padding: 0;
  margin: 0;
}
.border-submenu [part='menu-item'] {
  font-size: 2rem;
  line-height: 1.2;
  text-align: center;
}
.swatches-submenu {
  --_swatch-size: 2rem;
  --_columns: 4;
  display: flex;
  flex-flow: wrap;
  padding: 8px;
  max-width: calc(var(--_columns) * (var(--_swatch-size) + 18px) + 16px);
  box-sizing: border-box;
}
.menu-swatch {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: fit-content;
  height: fit-content;
  margin: 2px;
  padding: 0;
  background: var(--neutral-200);
}
.menu-swatch > .label {
  padding: 0;
  margin: 0;
  line-height: 0;
}
.menu-swatch > .label > span {
  display: inline-block;
  margin: 6px;
  min-width: var(--_swatch-size);
  min-height: var(--_swatch-size);
  border-radius: 50%;
}
.menu-swatch.active {
  background: var(--neutral-100);
  scale: 1.4;
}
.menu-swatch.active > .label > span {
  border-radius: 2px;
}
.menu-swatch .ui-checkmark,
.menu-swatch .ui-mixedmark {
  position: absolute;
  margin: 0;
  padding: 0;
  color: white;
}
.menu-swatch.dark-contrast .ui-checkmark,
.menu-swatch.dark-contrast .ui-mixedmark {
  color: #000;
}
.ML__insert-template {
  font-size: 1em;
}
.ML__insert-label {
  opacity: 0.5;
  margin-left: 2ex;
}
`,qMe=`.ML__container {
  min-height: auto !important;
  --_hue: var(--hue, 212);
  --_placeholder-color: var(--placeholder-color, hsl(var(--_hue), 40%, 49%));
  --_placeholder-opacity: var(--placeholder-opacity, 0.4);
  --_text-font-family: var(--text-font-family, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);
}
.ML__sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}
.ML__is-inline {
  display: inline-block;
}
.ML__base {
  visibility: inherit;
  display: inline-block;
  position: relative;
  cursor: text;
  padding: 0;
  margin: 0;
  box-sizing: content-box;
  border: 0;
  outline: 0;
  vertical-align: baseline;
  font-weight: inherit;
  font-family: inherit;
  font-style: inherit;
  text-decoration: none;
  width: min-content;
}
.ML__strut,
.ML__strut--bottom {
  display: inline-block;
  min-height: 0.5em;
}
.ML__small-delim {
  font-family: KaTeX_Main;
}
/* Text mode */
.ML__text {
  font-family: var(--_text-font-family);
  white-space: pre;
}
/* Use cmr for 'math upright' */
.ML__cmr {
  font-family: KaTeX_Main;
  font-style: normal;
}
.ML__mathit {
  font-family: KaTeX_Math;
  /* The KaTeX_Math font is italic by default, so the font-style below is only 
     useful when a fallback font is used
  */
  font-style: italic;
}
.ML__mathbf {
  font-family: KaTeX_Main;
  font-weight: bold;
}
/* Lowercase greek symbols should stick to math font when \\mathbf is applied 
   to match TeX idiosyncratic behavior */
.lcGreek.ML__mathbf {
  font-family: KaTeX_Math;
}
.ML__mathbfit {
  font-family: KaTeX_Math;
  font-weight: bold;
  font-style: italic;
}
.ML__ams {
  font-family: KaTeX_AMS;
}
/* Blackboard */
.ML__bb {
  font-family: KaTeX_AMS;
}
.ML__cal {
  font-family: KaTeX_Caligraphic;
}
.ML__frak {
  font-family: KaTeX_Fraktur;
}
.ML__tt {
  font-family: KaTeX_Typewriter;
}
.ML__script {
  font-family: KaTeX_Script;
}
.ML__sans {
  font-family: KaTeX_SansSerif;
}
.ML__series_ul {
  font-weight: 100;
}
.ML__series_el {
  font-weight: 100;
}
.ML__series_l {
  font-weight: 200;
}
.ML__series_sl {
  font-weight: 300;
}
.ML__series_sb {
  font-weight: 500;
}
.ML__bold {
  font-weight: 700;
}
.ML__series_eb {
  font-weight: 800;
}
.ML__series_ub {
  font-weight: 900;
}
.ML__series_uc {
  font-stretch: ultra-condensed;
}
.ML__series_ec {
  font-stretch: extra-condensed;
}
.ML__series_c {
  font-stretch: condensed;
}
.ML__series_sc {
  font-stretch: semi-condensed;
}
.ML__series_sx {
  font-stretch: semi-expanded;
}
.ML__series_x {
  font-stretch: expanded;
}
.ML__series_ex {
  font-stretch: extra-expanded;
}
.ML__series_ux {
  font-stretch: ultra-expanded;
}
.ML__it {
  font-style: italic;
}
.ML__shape_ol {
  -webkit-text-stroke: 1px black;
  text-stroke: 1px black;
  color: transparent;
}
.ML__shape_sc {
  font-variant: small-caps;
}
.ML__shape_sl {
  font-style: oblique;
}
/* First level emphasis */
.ML__emph {
  color: #bc2612;
}
/* Second level emphasis */
.ML__emph .ML__emph {
  color: #0c7f99;
}
.ML__highlight {
  color: #007cb2;
  background: #edd1b0;
}
.ML__center {
  text-align: center;
}
.ML__left {
  text-align: left;
}
.ML__right {
  text-align: right;
}
.ML__label_padding {
  padding: 0 0.5em;
}
.ML__frac-line {
  width: 100%;
  min-height: 1px;
}
.ML__frac-line:after {
  content: '';
  display: block;
  margin-top: max(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  /* There's a bug since Chrome 62 where 
      sub-pixel border lines don't draw at some zoom 
      levels (110%, 90%). 
      Setting the min-height used to work around it, but that workaround
      broke in Chrome 84 or so.
      Setting the background (and the min-height) seems to work for now.
      */
  background: currentColor;
  box-sizing: content-box;
  /* Vuetify sets the box-sizing to inherit 
            causes the fraction line to not draw at all sizes (see #26) */
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt {
  display: inline-block;
}
.ML__sqrt-sign {
  display: inline-block;
  position: relative;
}
.ML__sqrt-line {
  display: inline-block;
  height: max(1px, 0.04em);
  width: 100%;
}
.ML__sqrt-line:before {
  content: '';
  display: block;
  margin-top: min(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  background: currentColor;
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt-line:after {
  border-bottom-width: 1px;
  content: ' ';
  display: block;
  margin-top: -0.1em;
}
.ML__sqrt-index {
  margin-left: 0.27777778em;
  margin-right: -0.55555556em;
}
.ML__delim-size1 {
  font-family: KaTeX_Size1;
}
.ML__delim-size2 {
  font-family: KaTeX_Size2;
}
.ML__delim-size3 {
  font-family: KaTeX_Size3;
}
.ML__delim-size4 {
  font-family: KaTeX_Size4;
}
.ML__delim-mult .delim-size1 > span {
  font-family: KaTeX_Size1;
}
.ML__delim-mult .delim-size4 > span {
  font-family: KaTeX_Size4;
}
.ML__accent-body > span {
  font-family: KaTeX_Main;
  width: 0;
}
.ML__accent-combining-char {
  position: relative;
  left: 0.24em;
}
/** The markup for a LaTeX formula, either in an editable mathfield or 
    in a static display.
*/
.ML__latex {
  display: inline-block;
  direction: ltr;
  text-align: left;
  text-indent: 0;
  text-rendering: auto;
  font-family: inherit;
  font-style: normal;
  font-size-adjust: none;
  font-stretch: normal;
  font-variant-caps: normal;
  letter-spacing: normal;
  line-height: 1.2;
  word-wrap: normal;
  word-spacing: normal;
  white-space: nowrap;
  text-shadow: none;
  -webkit-user-select: none;
  user-select: none;
  width: min-content;
}
.ML__latex .style-wrap {
  position: relative;
}
.ML__latex .ML__mfrac {
  display: inline-block;
}
.ML__latex .ML__left-right {
  display: inline-block;
}
.ML__latex .ML__vlist-t {
  display: inline-table;
  table-layout: fixed;
  border-collapse: collapse;
}
.ML__latex .ML__vlist-r {
  display: table-row;
}
.ML__latex .ML__vlist {
  display: table-cell;
  vertical-align: bottom;
  position: relative;
}
.ML__latex .ML__vlist > span {
  display: block;
  height: 0;
  position: relative;
}
.ML__latex .ML__vlist > span > span {
  display: inline-block;
}
.ML__latex .ML__vlist > span > .ML__pstrut {
  overflow: hidden;
  width: 0;
}
.ML__latex .ML__vlist-t2 {
  margin-right: -2px;
}
.ML__latex .ML__vlist-s {
  display: table-cell;
  vertical-align: bottom;
  font-size: 1px;
  width: 2px;
  min-width: 2px;
}
.ML__latex .ML__msubsup {
  text-align: left;
}
.ML__latex .ML__negativethinspace {
  display: inline-block;
  margin-left: -0.16667em;
  height: 0.71em;
}
.ML__latex .ML__thinspace {
  display: inline-block;
  width: 0.16667em;
  height: 0.71em;
}
.ML__latex .ML__mediumspace {
  display: inline-block;
  width: 0.22222em;
  height: 0.71em;
}
.ML__latex .ML__thickspace {
  display: inline-block;
  width: 0.27778em;
  height: 0.71em;
}
.ML__latex .ML__enspace {
  display: inline-block;
  width: 0.5em;
  height: 0.71em;
}
.ML__latex .ML__quad {
  display: inline-block;
  width: 1em;
  height: 0.71em;
}
.ML__latex .ML__qquad {
  display: inline-block;
  width: 2em;
  height: 0.71em;
}
.ML__latex .ML__llap,
.ML__latex .ML__rlap {
  width: 0;
  position: relative;
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner,
.ML__latex .ML__rlap > .ML__inner {
  position: absolute;
}
.ML__latex .ML__llap > .ML__fix,
.ML__latex .ML__rlap > .ML__fix {
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner {
  right: 0;
}
.ML__latex .ML__rlap > .ML__inner {
  left: 0;
}
.ML__latex .ML__rule {
  display: inline-block;
  border: solid 0;
  position: relative;
  box-sizing: border-box;
}
.ML__latex .overline .overline-line,
.ML__latex .underline .underline-line {
  width: 100%;
}
.ML__latex .overline .overline-line:before,
.ML__latex .underline .underline-line:before {
  content: '';
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  display: block;
}
.ML__latex .overline .overline-line:after,
.ML__latex .underline .underline-line:after {
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  content: '';
  display: block;
  margin-top: -1px;
}
.ML__latex .ML__stretchy {
  display: block;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__stretchy:before,
.ML__latex .ML__stretchy:after {
  content: '';
}
.ML__latex .ML__stretchy svg {
  display: block;
  position: absolute;
  width: 100%;
  height: inherit;
  fill: currentColor;
  stroke: currentColor;
  fill-rule: nonzero;
  fill-opacity: 1;
  stroke-width: 1;
  stroke-linecap: butt;
  stroke-linejoin: miter;
  stroke-miterlimit: 4;
  stroke-dasharray: none;
  stroke-dashoffset: 0;
  stroke-opacity: 1;
}
.ML__latex .slice-1-of-2 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-2-of-2 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-1-of-3 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-2-of-3 {
  display: inline-flex;
  position: absolute;
  left: 25%;
  width: 50%;
  overflow: hidden;
}
.ML__latex .slice-3-of-3 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-1-of-1 {
  display: inline-flex;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__nulldelimiter {
  display: inline-block;
}
.ML__latex .ML__op-group {
  display: inline-block;
}
.ML__latex .ML__op-symbol {
  position: relative;
}
.ML__latex .ML__op-symbol.ML__small-op {
  font-family: KaTeX_Size1;
}
.ML__latex .ML__op-symbol.ML__large-op {
  font-family: KaTeX_Size2;
}
.ML__latex:has(.ML__center_environment),
.ML__latex:has(.ML__multiline_environment),
.ML__latex:has(.ML__align_environment),
.ML__latex:has(.ML__eqnarray_environment),
.ML__latex:has(.ML__gather_environment) {
  width: 100%;
}
.ML__latex .ML__multiline_environment {
  display: inline-flex;
  width: 100%;
}
.ML__latex .ML__center_environment {
  display: inline-flex;
  width: 100%;
  justify-content: center;
}
.ML__latex .ML__align_environment,
.ML__latex .ML__eqnarray_environment,
.ML__latex .ML__gather_environment {
  display: inline-block;
}
.ML__latex .ML__mtable .ML__vertical-separator {
  display: inline-block;
  min-width: 1px;
  box-sizing: border-box;
}
.ML__latex .ML__mtable .ML__arraycolsep {
  display: inline-block;
}
.ML__latex .ML__mtable .col-align-m > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-c > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-l > .ML__vlist-t {
  text-align: left;
}
.ML__latex .ML__mtable .col-align-r > .ML__vlist-t {
  text-align: right;
}
[data-href] {
  cursor: pointer;
}
.ML__error {
  display: inline-block;
  background-image: radial-gradient(ellipse at center, hsl(341, 100%, 40%), rgba(0, 0, 0, 0) 70%);
  background-color: hsla(341, 100%, 40%, 0.1);
  background-repeat: repeat-x;
  background-size: 3px 3px;
  padding-bottom: 3px;
  background-position: 0 100%;
}
.ML__error > .ML__error {
  background: transparent;
  padding: 0;
}
.ML__placeholder {
  color: var(--_placeholder-color);
  opacity: var(--_placeholder-opacity);
  padding-left: 0.4ex;
  padding-right: 0.4ex;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}
.ML__notation {
  position: absolute;
  box-sizing: border-box;
  line-height: 0;
}
/* This class is used to implement the \`\\mathtip\` and \`\\texttip\` commands
   For UI elements, see \`[data-ML__tooltip]\`
*/
.ML__tooltip-container {
  position: relative;
  transform: scale(0);
}
.ML__tooltip-container .ML__tooltip-content {
  position: fixed;
  display: inline-table;
  visibility: hidden;
  z-index: 2;
  width: max-content;
  max-width: 400px;
  padding: 12px 12px;
  border: var(--tooltip-border);
  border-radius: var(--tooltip-border-radius);
  background: var(--tooltip-background-color);
  --_selection-color: var(--tooltip-color);
  color: var(--tooltip-color);
  box-shadow: var(--tooltip-box-shadow);
  opacity: 0;
  transition: opacity 0.15s cubic-bezier(0.4, 0, 1, 1);
}
.ML__tooltip-container .ML__tooltip-content .ML__text {
  white-space: normal;
}
.ML__tooltip-container .ML__tooltip-content .ML__base {
  display: contents;
}
.ML__tooltip-container:hover .ML__tooltip-content {
  visibility: visible;
  opacity: 1;
  font-size: 0.75em;
  transform: scale(1) translate(0, 3em);
}
`,UMe=`#mathlive-environment-popover.is-visible {
  visibility: visible;
}
#mathlive-environment-popover {
  --_environment-panel-height: var(--environment-panel-height, 70px);
  --_accent-color: var(--accent-color, #aaa);
  --_background: var(--environment-panel-background, #fff);
  --_button-background: var(--environment-panel-button-background, white);
  --_button-background-hover: var(--environment-panel-button-background-hover, #f5f5f7);
  --_button-background-active: var(--environment-panel-button-background-active, #f5f5f7);
  --_button-text: var(--environment-panel-button-text, #e3e4e8);
  position: absolute;
  width: calc(var(--_environment-panel-height) * 2);
  height: var(--_environment-panel-height);
  border-radius: 4px;
  border: 1.5px solid var(--_accent-color);
  background-color: var(--_background);
  box-shadow: 0 0 30px 0 var(--environment-shadow, rgba(0, 0, 0, 0.4));
  pointer-events: all;
  visibility: hidden;
}
#mathlive-environment-popover .MLEP__array-buttons {
  height: calc(var(--_environment-panel-height) * 5/4);
  width: calc(var(--_environment-panel-height) * 5/4);
  margin-left: calc(0px - var(--_environment-panel-height) * 0.16);
  margin-top: calc(0px - var(--_environment-panel-height) * 0.19);
}
#mathlive-environment-popover .MLEP__array-buttons .font {
  fill: white;
}
#mathlive-environment-popover .MLEP__array-buttons circle {
  fill: #7f7f7f;
  transition: fill 300ms;
}
#mathlive-environment-popover .MLEP__array-buttons .MLEP__array-insert-background {
  fill-opacity: 1;
  fill: var(--_background);
  stroke: var(--_accent-color);
  stroke-width: 3px;
}
#mathlive-environment-popover .MLEP__array-buttons line {
  stroke: var(--_accent-color);
  stroke-opacity: 0;
  stroke-width: 40;
  pointer-events: none;
  transition: stroke-opacity 300ms;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover circle {
  fill: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover line {
  stroke-opacity: 1;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls {
  height: 100%;
  width: 50%;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options {
  width: var(--_environment-panel-height);
  height: var(--_environment-panel-height);
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  justify-content: space-around;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg {
  pointer-events: all;
  margin-top: 2px;
  width: calc(var(--_environment-panel-height) / 3 * 28 / 24);
  height: calc(var(--_environment-panel-height) / 3 - 2px);
  border-radius: calc(var(--_environment-panel-height) / 25);
  background-color: var(--_button-background);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg:hover {
  background-color: var(--_button-background-hover);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg line {
  stroke: var(--_button-text);
  stroke-width: 2;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg rect,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path {
  fill-opacity: 0;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active {
  pointer-events: none;
  background-color: var(--_button-background-active);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active line {
  stroke: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active circle {
  fill: var(--_accent-color);
}
`,VMe=`/* The element that display info while in latex mode */
#mathlive-suggestion-popover {
  background-color: rgba(97, 97, 97);
  color: #fff;
  text-align: center;
  border-radius: 8px;
  position: fixed;
  z-index: 1;
  display: none;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
}
#mathlive-suggestion-popover.top-tip::after {
  content: '';
  position: absolute;
  top: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.bottom-tip::after {
  content: '';
  position: absolute;
  bottom: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-top: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.is-animated {
  transition: all 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  animation: ML__fade-in cubic-bezier(0, 0, 0.2, 1) 0.15s;
}
#mathlive-suggestion-popover.is-visible {
  display: flex;
}
@keyframes ML__fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/* The wrapper class for the entire content of the popover panel */
#mathlive-suggestion-popover ul {
  display: flex;
  flex-flow: column;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: flex-start;
  max-height: 400px;
  overflow-y: auto;
}
#mathlive-suggestion-popover li {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin: 8px;
  padding: 8px;
  width: calc(100% - 16px - 16px);
  column-gap: 1em;
  border-radius: 8px;
  cursor: pointer;
  /* Since the content can be clicked on, provide feedback on hover */
}
#mathlive-suggestion-popover li a {
  color: #5ea6fd;
  padding-top: 0.3em;
  margin-top: 0.4em;
  display: block;
}
#mathlive-suggestion-popover li a:hover {
  color: #5ea6fd;
  text-decoration: underline;
}
#mathlive-suggestion-popover li:hover,
#mathlive-suggestion-popover li.is-pressed,
#mathlive-suggestion-popover li.is-active {
  background: rgba(255, 255, 255, 0.1);
}
/* The command inside a popover (inside a #mathlive-suggestion-popover) */
.ML__popover__command {
  font-size: 1.6rem;
  font-family: KaTeX_Main;
}
.ML__popover__current {
  background: #5ea6fd;
  color: #fff;
}
.ML__popover__latex {
  font-family: 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  align-self: center;
}
/* The keyboard shortcuts for a symbol as displayed in the popover */
.ML__popover__keybinding {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 0.8em;
  opacity: 0.7;
}
/* Style for the character that joins the modifiers of a keyboard shortcut 
(usually a "+" sign)*/
.ML__shortcut-join {
  opacity: 0.5;
}
`,GMe=`/* The element that displays the keys as the user type them */
#mathlive-keystroke-caption-panel {
  visibility: hidden;
  /*min-width: 160px;*/
  /*background-color: rgba(97, 97, 200, .95);*/
  background: var(--secondary, hsl(var(--_hue), 19%, 26%));
  border-color: var(--secondary-border, hsl(0, 0%, 91%));
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  text-align: center;
  border-radius: 6px;
  padding: 16px;
  position: absolute;
  z-index: 1;
  display: flex;
  flex-direction: row-reverse;
  justify-content: center;
  --keystroke: white;
  --on-keystroke: #555;
  --keystroke-border: #f7f7f7;
}
@media (prefers-color-scheme: dark) {
  body:not([theme='light']) #mathlive-keystroke-caption-panel {
    --keystroke: hsl(var(--_hue), 50%, 30%);
    --on-keystroke: hsl(0, 0%, 98%);
    --keystroke-border: hsl(var(--_hue), 50%, 25%);
  }
}
body[theme='dark'] #mathlive-keystroke-caption-panel {
  --keystroke: hsl(var(--_hue), 50%, 30%);
  --on-keystroke: hsl(0, 0%, 98%);
  --keystroke-border: hsl(var(--_hue), 50%, 25%);
}
#mathlive-keystroke-caption-panel > span {
  min-width: 14px;
  /*height: 8px;*/
  margin: 0 8px 0 0;
  padding: 4px;
  background-color: var(--keystroke);
  color: var(--on-keystroke);
  fill: currentColor;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 1em;
  border-radius: 6px;
  border: 2px solid var(--keystroke-border);
  /*box-shadow: 0 7px 14px rgba(0,0,0,0.25), 0 5px 5px rgba(0,0,0,0.22);*/
}
`,ZMe=`.ML__keyboard {
  --_keyboard-height: 0;
  --_keyboard-zindex: var(--keyboard-zindex, 105);
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_padding-horizontal: var(--keyboard-padding-horizontal, 0px);
  --_padding-top: var(--keyboard-padding-top, 5px);
  --_padding-bottom: var(--keyboard-padding-bottom, 0px);
  --_row-padding-left: var(--keyboard-row-padding-left, 0px);
  --_row-padding-right: var(--keyboard-row-padding-right, 0px);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-text-active: var(--keyboard-toolbar-text-active, var(--_accent-color));
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_toolbar-font-size: var(--keyboard-toolbar-font-size, '135%');
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, #f0f0f0);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-primary-background: var(--keycap-primary-background, var(--_accent-color));
  --_keycap-primary-text: var(--keycap-primary-text, #ddd);
  --_keycap-primary-background-hover: var(--keycap-primary-background-hover, #0d80f2);
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_keycap-height: var(--keycap-height, 60px);
  /* Keycap width (incl. margin) */
  --_keycap-max-width: var(--keycap-max-width, 100px);
  --_keycap-gap: var(--keycap-gap, 8px);
  --_keycap-font-size: var(--keycap-font-size, clamp(16px, 4cqw, 24px));
  --_keycap-small-font-size: var(--keycap-small-font-size, calc(var(--keycap-font-size) * 0.8));
  --_keycap-extra-small-font-size: var(--keycap-extra-small-font-size, calc(var(--keycap-font-size) / 1.42));
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-text, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
  --_variant-keycap-length: var(--variant-keycap-length, 70px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 30px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 12px);
  --_keycap-shift-font-size: var(--keycap-shift-font-size, 16px);
  --_keycap-shift-color: var(--keycap-shift-color, var(--_accent-color));
  --_box-placeholder-color: var(--box-placeholder-color, var(--_accent-color));
  --_box-placeholder-pressed-color: var(--box-placeholder-pressed-color, var(--keycap-text-pressed));
  --_keycap-glyph-size: var(--keycap-glyph-size, 20px);
  --_keycap-glyph-size-lg: var(--keycap-glyph-size-lg, 24px);
  --_keycap-glyph-size-xl: var(--keycap-glyph-size-xl, 50px);
}
.is-math-mode .MLK__rows .if-text-mode,
.is-text-mode .MLK__rows .if-math-mode {
  display: none;
}
.if-can-undo,
.if-can-redo,
.if-can-copy,
.if-can-cut,
.if-can-paste {
  opacity: 0.4;
  pointer-events: none;
}
.can-undo .if-can-undo,
.can-redo .if-can-redo,
.can-copy .if-can-copy,
.can-cut .if-can-cut,
.can-paste .if-can-paste {
  opacity: 1;
  pointer-events: all;
}
body > .ML__keyboard {
  position: fixed;
  --_padding-bottom: calc(var(--keyboard-padding-bottom, 0px) + env(safe-area-inset-bottom, 0));
}
body > .ML__keyboard.is-visible > .MLK__backdrop {
  box-shadow: 0 -5px 6px rgba(0, 0, 0, 0.08);
  border-top: 1px solid var(--_border);
}
body > .ML__keyboard.backdrop-is-transparent.is-visible > .MLK__backdrop {
  box-shadow: none;
  border: none;
}
body > .ML__keyboard.is-visible.animate > .MLK__backdrop {
  transition: 0.28s cubic-bezier(0, 0, 0.2, 1);
  transition-property: transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__keyboard {
  position: relative;
  overflow: hidden;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  z-index: var(--_keyboard-zindex);
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  opacity: 1;
  transform: none;
  pointer-events: none;
}
.ML__keyboard :where(div) {
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  transform: none;
}
.MLK__backdrop {
  position: absolute;
  bottom: calc(-1 * var(--_keyboard-height));
  width: 100%;
  height: var(--_keyboard-height);
  box-sizing: border-box;
  padding-top: var(--_padding-top);
  padding-bottom: var(--_padding-bottom);
  padding-left: var(--_padding-horizontal);
  padding-right: var(--_padding-horizontal);
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0);
  background: var(--_background);
}
.backdrop-is-transparent .MLK__backdrop {
  background: transparent;
}
/* If a custom layout has a custom container/backdrop
  (backdrop-is-transparent), make sure to let pointer event go through. */
.backdrop-is-transparent .MLK__plate {
  background: transparent;
  pointer-events: none;
}
/* If a custom layout has a custom container/backdrop, make sure to 
   allow pointer events on it. */
.backdrop-is-transparent .MLK__layer > div > div {
  pointer-events: all;
}
.ML__keyboard.is-visible > .MLK__backdrop {
  transform: translate(0, calc(-1 * var(--_keyboard-height)));
  opacity: 1;
  visibility: visible;
}
.caps-lock-indicator {
  display: none;
  width: 8px;
  height: 8px;
  background: #0cbc0c;
  box-shadow: inset 0 0 4px 0 #13ca13, 0 0 4px 0 #a9ef48;
  border-radius: 8px;
  right: 8px;
  top: 8px;
  position: absolute;
}
.ML__keyboard.is-caps-lock .caps-lock-indicator {
  display: block;
}
.ML__keyboard.is-caps-lock .shift {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
}
.MLK__plate {
  position: absolute;
  top: var(--_padding-top);
  left: var(--_padding-horizontal);
  width: calc(100% - 2 * var(--_padding-horizontal));
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  container-type: inline-size;
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
  pointer-events: all;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 16px;
  /* Size of toolbar labels */
  font-weight: 400;
  text-shadow: none;
}
.ML__box-placeholder {
  color: var(--_box-placeholder-color);
}
.MLK__tex {
  font-family: KaTeX_Main, KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__tex-math {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
  font-style: italic;
}
.MLK__layer {
  display: none;
  outline: none;
}
.MLK__layer.is-visible {
  display: flex;
  flex-flow: column;
}
/* Keyboard layouts are made or rows of keys... */
.MLK__rows {
  --_keycap-width: var(--keycap-width, min(var(--_keycap-max-width), 10cqw));
  display: flex;
  flex-flow: column;
  align-items: center;
  border-collapse: separate;
  clear: both;
  border: 0;
  margin: 0;
  margin-bottom: var(--_keycap-gap);
  gap: var(--_keycap-gap);
  /* If the styling include, e.g., some shadows, they will be
  cut off by the overflow. In that case, set the padding to 
  compensate. */
  padding-left: var(--_row-padding-left);
  padding-right: var(--_row-padding-right);
  overflow: visible;
  touch-action: none;
}
.MLK__rows > .MLK__row {
  display: flex;
  flex-flow: row;
  justify-content: center;
  width: 100%;
  gap: var(--_keycap-gap);
  margin: 0;
  padding: 0;
  /* For the alignment of the text on some modifiers (e.g. shift) */
  /* Extra spacing between two adjacent keys */
}
.MLK__rows > .MLK__row .tex {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .tex-math {
  font-family: KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .big-op {
  font-size: calc(1.25 * var(--_keycap-font-size));
}
.MLK__rows > .MLK__row .small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__rows > .MLK__row .bottom {
  justify-content: flex-end;
}
.MLK__rows > .MLK__row .left {
  align-items: flex-start;
  padding-left: 12px;
}
.MLK__rows > .MLK__row .right {
  align-items: flex-end;
  padding-right: 12px;
}
.MLK__rows > .MLK__row .w0 {
  width: 0;
}
.MLK__rows > .MLK__row .w5 {
  width: calc(0.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w15 {
  width: calc(1.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w20 {
  width: calc(2 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w40 {
  width: calc(4 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w50 {
  width: calc(5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .MLK__keycap.w50 {
  font-size: 80%;
  padding-top: 10px;
  font-weight: 100;
}
.MLK__rows > .MLK__row .separator {
  background: transparent;
  border: none;
  pointer-events: none;
}
.MLK__rows > .MLK__row .horizontal-rule {
  height: 6px;
  margin-top: 3px;
  margin-bottom: 0;
  width: 100%;
  border-radius: 0;
  border-top: var(--_horizontal-rule);
}
.MLK__rows > .MLK__row .ghost {
  background: var(--_toolbar-background);
  border: none;
  color: var(--_toolbar-text);
}
.MLK__rows > .MLK__row .ghost:hover {
  background: var(--_toolbar-background-hover);
}
.MLK__rows > .MLK__row .bigfnbutton {
  font-size: var(--_keycap-extra-small-font-size);
}
.MLK__rows > .MLK__row .shift,
.MLK__rows > .MLK__row .action {
  color: var(--_keycap-secondary-text);
  background: var(--_keycap-secondary-background);
  border-color: var(--_keycap-secondary-border);
  border-bottom-color: var(--_keycap-secondary-border-bottom);
  line-height: 0.8;
  font-size: min(1rem, var(--_keycap-small-font-size));
  font-weight: 600;
  padding: 8px 12px 8px 12px;
}
.MLK__rows > .MLK__row .shift:hover,
.MLK__rows > .MLK__row .action:hover {
  background: var(--_keycap-secondary-background-hover);
}
.MLK__rows > .MLK__row .action.primary {
  background: var(--_keycap-primary-background);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .action.primary:hover {
  background: var(--_keycap-primary-background-hover);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .shift.selected,
.MLK__rows > .MLK__row .action.selected {
  color: var(--_toolbar-text-active);
}
.MLK__rows > .MLK__row .shift.selected.is-pressed,
.MLK__rows > .MLK__row .action.selected.is-pressed,
.MLK__rows > .MLK__row .shift.selected.is-active,
.MLK__rows > .MLK__row .action.selected.is-active {
  color: white;
}
.MLK__rows > .MLK__row .warning {
  background: #cd0030;
  color: white;
}
.MLK__rows > .MLK__row .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
/** A regular keycap
 * Use the :where() pseudo-class to give it a very low specifity, 
 * so that it can be overriden by custom style.
 */
:where(.MLK__rows > .MLK__row div) {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: space-evenly;
  width: calc(var(--_keycap-width) - var(--_keycap-gap));
  height: var(--_keycap-height);
  box-sizing: border-box;
  padding: 0;
  vertical-align: top;
  text-align: center;
  float: left;
  color: var(--_keycap-text);
  fill: currentColor;
  font-size: var(--_keycap-font-size);
  background: var(--_keycap-background);
  border: 1px solid var(--_keycap-border);
  border-bottom-color: var(--_keycap-border-bottom);
  border-radius: 6px;
  cursor: pointer;
  touch-action: none;
  /* Keys with a variants panel */
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
:where(.MLK__rows > .MLK__row div):hover {
  overflow: visible;
  background: var(--_keycap-background-hover);
}
:where(.MLK__rows > .MLK__row div) .ML__latex {
  pointer-events: none;
  touch-action: none;
}
:where(.MLK__rows > .MLK__row div) svg.svg-glyph {
  margin: 8px 0;
  width: var(--_keycap-glyph-size);
  height: var(--_keycap-glyph-size);
  min-height: var(--_keycap-glyph-size);
}
:where(.MLK__rows > .MLK__row div) svg.svg-glyph-lg {
  margin: 8px 0;
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
:where(.MLK__rows > .MLK__row div).MLK__tex-math {
  font-size: 25px;
}
:where(.MLK__rows > .MLK__row div).is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row div).action.is-active,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row div).action.is-pressed {
  z-index: calc(var(--_keyboard-zindex) - 5);
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active aside,
:where(.MLK__rows > .MLK__row div).action.is-active aside,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed aside,
:where(.MLK__rows > .MLK__row div).action.is-pressed aside {
  display: none;
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row div).action.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed .MLK__shift,
:where(.MLK__rows > .MLK__row div).action.is-pressed .MLK__shift {
  display: none;
}
:where(.MLK__rows > .MLK__row div).shift.is-pressed,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row div).action.is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
}
:where(.MLK__rows > .MLK__row div).shift.is-active,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row div).action.is-active {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row div) small {
  color: var(--_keycap-secondary-text);
}
:where(.MLK__rows > .MLK__row div) aside {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 10px;
  line-height: 10px;
  color: var(--_keycap-secondary-text);
}
/* Add an attribute 'data-tooltip' to display a tooltip on hover.
Note there are a different set of tooltip rules for the keyboard toggle
(it's in a different CSS tree) */
.ML__keyboard [data-tooltip] {
  position: relative;
}
.ML__keyboard [data-tooltip]::after {
  position: absolute;
  display: inline-table;
  content: attr(data-tooltip);
  top: inherit;
  bottom: 100%;
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  background: #616161;
  color: #fff;
  text-align: center;
  z-index: 2;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-weight: 400;
  font-size: 12px;
  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1) 1s;
  opacity: 0;
  transform: scale(0.5);
}
.ML__keyboard [data-tooltip]:hover {
  position: relative;
}
.ML__keyboard [data-tooltip]:hover::after {
  opacity: 1;
  transform: scale(1);
}
.MLK__toolbar {
  align-self: center;
  display: flex;
  flex-flow: row;
  justify-content: space-between;
  width: 100%;
  max-width: 996px;
  min-height: 32px;
  /* Icons for undo/redo, etc. */
}
.MLK__toolbar svg {
  height: 20px;
  width: 20px;
}
.MLK__toolbar > .left {
  position: relative;
  display: flex;
  justify-content: flex-start;
  flex-flow: row;
}
.MLK__toolbar > .right {
  display: flex;
  justify-content: flex-end;
  flex-flow: row;
}
.MLK__toolbar > div > div {
  /* "button" in the toolbar */
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--_toolbar-text);
  fill: currentColor;
  background: var(--_toolbar-background);
  font-size: var(--_toolbar-font-size);
  padding: 4px 15px;
  cursor: pointer;
  width: max-content;
  min-width: 42px;
  min-height: 34px;
  border: none;
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 8px;
  padding-top: 8px;
  margin-top: 0;
  margin-bottom: 4px;
  margin-left: 4px;
  margin-right: 4px;
  border-radius: 8px;
  box-shadow: none;
  border-bottom: 2px solid transparent;
}
.MLK__toolbar > div > div:not(.disabled):not(.selected):hover {
  background: var(--_toolbar-background-hover);
}
.MLK__toolbar > div > div.disabled svg,
.MLK__toolbar > div > div.disabled:hover svg,
.MLK__toolbar > div > div.disabled.is-pressed svg {
  color: var(--_toolbar-text);
  opacity: 0.2;
}
.MLK__toolbar > div > div:hover,
.MLK__toolbar > div > div:active,
.MLK__toolbar > div > div.is-pressed,
.MLK__toolbar > div > div.is-active {
  color: var(--_toolbar-text-active);
}
.MLK__toolbar > div > div.selected {
  color: var(--_toolbar-text-active);
  background: var(--_toolbar-background-selected);
  border-radius: 0;
  border-bottom-color: var(--_toolbar-text-active);
  padding-bottom: 4px;
  margin-bottom: 8px;
}
/* This is the element that displays variants on press+hold */
.MLK__variant-panel {
  visibility: hidden;
  position: fixed;
  display: flex;
  flex-flow: row wrap-reverse;
  justify-content: center;
  align-content: center;
  margin: 0;
  padding: 0;
  bottom: auto;
  top: 0;
  box-sizing: content-box;
  transform: none;
  z-index: calc(var(--_keyboard-zindex) + 1);
  touch-action: none;
  max-width: 350px;
  background: var(--_variant-panel-background);
  text-align: center;
  border-radius: 6px;
  padding: 6px;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
  transition: none;
}
.MLK__variant-panel.is-visible {
  visibility: visible;
}
.MLK__variant-panel.compact {
  --_variant-keycap-length: var(--variant-keycap-length, 50px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 10px);
}
.MLK__variant-panel .item {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
  font-size: var(--_variant-keycap-font-size);
  height: var(--_variant-keycap-length);
  width: var(--_variant-keycap-length);
  margin: 0;
  box-sizing: border-box;
  border-radius: 5px;
  border: 1px solid transparent;
  background: transparent;
  pointer-events: all;
  cursor: pointer;
  color: var(--_variant-keycap-text);
  fill: currentColor;
}
@media (max-height: 412px) {
  .MLK__variant-panel .item {
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
.MLK__variant-panel .item .ML__latex {
  pointer-events: none;
}
.MLK__variant-panel .item.is-active {
  background: var(--_variant-keycap-background-active);
  color: var(--_variant-keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.is-pressed {
  background: var(--_variant-keycap-background-pressed);
  color: var(--_variant-keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__variant-panel .item.swatch-button {
  box-sizing: border-box;
  background: #fbfbfb;
}
.MLK__variant-panel .item.swatch-button > span {
  display: inline-block;
  margin: 6px;
  width: calc(100% - 12px);
  height: calc(100% - 12px);
  border-radius: 50%;
}
.MLK__variant-panel .item.swatch-button:hover {
  background: #f0f0f0;
}
.MLK__variant-panel .item.swatch-button:hover > span {
  border-radius: 2px;
}
.MLK__variant-panel .item.box > div,
.MLK__variant-panel .item.box > span {
  border: 1px dashed rgba(0, 0, 0, 0.24);
}
.MLK__variant-panel .item .warning {
  min-height: 60px;
  min-width: 60px;
  background: #cd0030;
  color: white;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
}
.MLK__variant-panel .item .warning.is-pressed,
.MLK__variant-panel .item .warning.is-active {
  background: red;
}
.MLK__variant-panel .item .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-xl);
  height: var(--_keycap-glyph-size-xl);
}
.MLK__variant-panel .item aside {
  font-size: var(--_variant-keycap-aside-font-size);
  line-height: 12px;
  opacity: 0.78;
  padding-top: 2px;
  width: 100%;
  text-align: center;
  text-wrap: wrap;
}
.MLK__keycap {
  position: relative;
}
.MLK__shift {
  display: block;
  position: absolute;
  right: 4px;
  top: 4px;
  font-size: var(--_keycap-shift-font-size);
  color: var(--_keycap-shift-color);
}
.hide-shift .MLK__shift {
  display: none;
}
@media (max-width: 414px) {
  .MLK__variant-panel {
    max-width: 350px;
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
/* @xs breakpoint: iPhone 5 */
@container (max-width: 414px) {
  .MLK__rows {
    --_keycap-gap: max(var(--_keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--_keycap-height), 42px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width)), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    font-size: 100%;
    margin-left: 2px;
    margin-right: 2px;
  }
  .MLK__rows .shift,
  .MLK__rows .action {
    font-size: 65%;
  }
  .MLK__rows .warning svg.svg-glyph {
    width: 14px;
    height: 14px;
    min-height: 14px;
  }
}
@container (max-width: 744px) {
  .MLK__rows {
    --_keycap-gap: max(var(--keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--keycap-height, 52px), 52px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    padding-left: 0;
    padding-right: 0;
  }
  .MLK__tooltip::after {
    padding: 8px 16px;
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.fnbutton {
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.bigfnbutton {
    font-size: calc(var(--_keycap-extra-small-font-size) / 1.55);
  }
  .MLK__rows > .MLK__row > div.small {
    font-size: 13px;
  }
  .MLK__rows > .MLK__row > div > aside {
    display: none;
  }
  .MLK__shift {
    display: none;
  }
}
/* Medium breakpoint: larger phones */
@container (max-width: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@media (max-height: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@container (max-width: 1444px) {
  .MLK__rows .if-wide {
    display: none;
  }
}
@media (prefers-color-scheme: dark) {
  .ML__keyboard {
    --_accent-color: var(--keyboard-accent-color, #0b5c9c);
    --_background: var(--keyboard-background, #151515);
    --_border: var(--keyboard-border, transparent);
    --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
    --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
    --keyboard-toolbar-background-hover: #303030;
    --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
    --_keycap-background: var(--keycap-background, #1f2022);
    --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
    --_keycap-border: var(--_keycap-border, transparent);
    --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
    --_keycap-text: var(--keycap-text, #e3e4e8);
    --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
    --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
    --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
    --keycap-secondary-border: transparent;
    --keycap-secondary-border-bottom: transparent;
    --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
    --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
    --_variant-panel-background: var(--variant-panel-background, #303030);
    --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
  }
}
/* Same as the media query, but with a class */
[theme='dark'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0b5c9c);
  --_background: var(--keyboard-background, #151515);
  --_border: var(--keyboard-border, transparent);
  --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
  --keyboard-toolbar-background-hover: #303030;
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
  --_keycap-background: var(--keycap-background, #1f2022);
  --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
  --_keycap-border: var(--_keycap-border, transparent);
  --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
  --_keycap-text: var(--keycap-text, #e3e4e8);
  --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
  --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
  --keycap-secondary-border: transparent;
  --keycap-secondary-border-bottom: transparent;
  --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
  --_variant-panel-background: var(--variant-panel-background, #303030);
  --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
}
[theme='light'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, white);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--_keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--_keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-textvar, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
}
`,HMe=`:host {
  --primary-color: #5898ff;
  --primary-color-dimmed: #c0c0f0;
  --primary-color-dark: var(--blue-500);
  --primary-color-light: var(--blue-100);
  --primary-color-reverse: #ffffff;
  --secondary-color: #ff8a65;
  --secondary-color-dimmed: #f0d5c5;
  --secondary-color-dark: var(--orange-500);
  --secondary-color-light: var(--orange-100);
  --secondary-color-reverse: #ffffff;
  --link-color: #5898ff;
  --link-color-dimmed: #c5c5c5;
  --link-color-dark: #121212;
  --link-color-light: #e2e2e2;
  --link-color-reverse: #ffffff;
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --neutral-100: #f5f5f5;
  --neutral-200: #eeeeee;
  --neutral-300: #e0e0e0;
  --neutral-400: #bdbdbd;
  --neutral-500: #9e9e9e;
  --neutral-600: #757575;
  --neutral-700: #616161;
  --neutral-800: #424242;
  --neutral-900: #212121;
  --red-25: #fff8f7;
  --red-50: #fff1ef;
  --red-100: #ffeae6;
  --red-200: #ffcac1;
  --red-300: #ffa495;
  --red-400: #ff7865;
  --red-500: #f21c0d;
  --red-600: #e50018;
  --red-700: #d30024;
  --red-800: #bd002c;
  --red-900: #a1002f;
  --orange-25: #fffbf8;
  --orange-50: #fff7f1;
  --orange-100: #fff3ea;
  --orange-200: #ffe1c9;
  --orange-300: #ffcca2;
  --orange-400: #ffb677;
  --orange-500: #fe9310;
  --orange-600: #f58700;
  --orange-700: #ea7c00;
  --orange-800: #dc6d00;
  --orange-900: #ca5b00;
  --brown-25: #fff8ef;
  --brown-50: #fff1df;
  --brown-100: #ffe9ce;
  --brown-200: #ebcca6;
  --brown-300: #cdaf8a;
  --brown-400: #af936f;
  --brown-500: #856a47;
  --brown-600: #7f5e34;
  --brown-700: #78511f;
  --brown-800: #6e4200;
  --brown-900: #593200;
  --yellow-25: #fffdf9;
  --yellow-50: #fffcf2;
  --yellow-100: #fffaec;
  --yellow-200: #fff2ce;
  --yellow-300: #ffe8ab;
  --yellow-400: #ffdf85;
  --yellow-500: #ffcf33;
  --yellow-600: #f1c000;
  --yellow-700: #dfb200;
  --yellow-800: #c9a000;
  --yellow-900: #ad8a00;
  --lime-25: #f4ffee;
  --lime-50: #e9ffdd;
  --lime-100: #ddffca;
  --lime-200: #a8fb6f;
  --lime-300: #94e659;
  --lime-400: #80d142;
  --lime-500: #63b215;
  --lime-600: #45a000;
  --lime-700: #268e00;
  --lime-800: #007417;
  --lime-900: #005321;
  --green-25: #f5fff5;
  --green-50: #ebffea;
  --green-100: #e0ffdf;
  --green-200: #a7ffa7;
  --green-300: #5afa65;
  --green-400: #45e953;
  --green-500: #17cf36;
  --green-600: #00b944;
  --green-700: #00a34a;
  --green-800: #008749;
  --green-900: #00653e;
  --teal-25: #f3ffff;
  --teal-50: #e6fffe;
  --teal-100: #d9fffe;
  --teal-200: #8dfffe;
  --teal-300: #57f4f4;
  --teal-400: #43e5e5;
  --teal-500: #17cfcf;
  --teal-600: #00c2c0;
  --teal-700: #00b5b1;
  --teal-800: #00a49e;
  --teal-900: #009087;
  --cyan-25: #f7fcff;
  --cyan-50: #eff8ff;
  --cyan-100: #e7f5ff;
  --cyan-200: #c2e6ff;
  --cyan-300: #95d5ff;
  --cyan-400: #61c4ff;
  --cyan-500: #13a7ec;
  --cyan-600: #069eda;
  --cyan-700: #0095c9;
  --cyan-800: #0088b2;
  --cyan-900: #0a7897;
  --blue-25: #f7faff;
  --blue-50: #eef5ff;
  --blue-100: #e5f1ff;
  --blue-200: #bfdbff;
  --blue-300: #92c2ff;
  --blue-400: #63a8ff;
  --blue-500: #0d80f2;
  --blue-600: #0077db;
  --blue-700: #006dc4;
  --blue-800: #0060a7;
  --blue-900: #005086;
  --indigo-25: #f8f7ff;
  --indigo-50: #f1efff;
  --indigo-100: #eae7ff;
  --indigo-200: #ccc3ff;
  --indigo-300: #ac99ff;
  --indigo-400: #916aff;
  --indigo-500: #63c;
  --indigo-600: #5a21b2;
  --indigo-700: #4e0b99;
  --indigo-800: #3b0071;
  --indigo-900: #220040;
  --purple-25: #fbf7ff;
  --purple-50: #f8f0ff;
  --purple-100: #f4e8ff;
  --purple-200: #e4c4ff;
  --purple-300: #d49aff;
  --purple-400: #c36aff;
  --purple-500: #a219e6;
  --purple-600: #9000c4;
  --purple-700: #7c009f;
  --purple-800: #600073;
  --purple-900: #3d0043;
  --magenta-25: #fff8fb;
  --magenta-50: #fff2f6;
  --magenta-100: #ffebf2;
  --magenta-200: #ffcddf;
  --magenta-300: #ffa8cb;
  --magenta-400: #ff7fb7;
  --magenta-500: #eb4799;
  --magenta-600: #da3689;
  --magenta-700: #c82179;
  --magenta-800: #b00065;
  --magenta-900: #8a004c;
}
@media (prefers-color-scheme: dark) {
  :host {
    --semantic-blue: var(--blue-700);
    --semantic-red: var(--red-400);
    --semantic-orange: var(--orange-400);
    --semantic-green: var(--green-700);
    --semantic-bg-blue: var(--blue-25);
    --semantic-bg-red: var(--red-25);
    --semantic-bg-orange: var(--orange-25);
    --semantic-bg-green: var(--green-25);
    --neutral-100: #121212;
    --neutral-200: #424242;
    --neutral-300: #616161;
    --neutral-400: #757575;
    --neutral-500: #9e9e9e;
    --neutral-600: #bdbdbd;
    --neutral-700: #e0e0e0;
    --neutral-800: #eeeeee;
    --neutral-900: #f5f5f5;
  }
}
:host([theme='dark']) {
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --semantic-bg-blue: var(--blue-25);
  --semantic-bg-red: var(--red-25);
  --semantic-bg-orange: var(--orange-25);
  --semantic-bg-green: var(--green-25);
  --neutral-100: #121212;
  --neutral-200: #424242;
  --neutral-300: #616161;
  --neutral-400: #757575;
  --neutral-500: #9e9e9e;
  --neutral-600: #bdbdbd;
  --neutral-700: #e0e0e0;
  --neutral-800: #eeeeee;
  --neutral-900: #f5f5f5;
}
/* @media (prefers-color-scheme: dark) {
  :host {
      --label-color: #fff;
      --active-label-color: #000;
      --menu-bg: #525252;
      --active-bg: #5898ff;
      --active-bg-dimmed: #5c5c5c;
  }
} */
:host {
  --ui-font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
  --ui-font-size: 14px;
  --ui-line-height: 1.5;
  --ui-letter-spacing: 0.007em;
  --mono-font-family: 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Source Code Pro', Menlo, Monaco, 'Courier New', monospace;
  --ui-layer-1: var(--neutral-100);
  --ui-layer-2: var(--neutral-200);
  --ui-layer-3: var(--neutral-300);
  --ui-layer-4: var(--neutral-400);
  --ui-layer-5: var(--neutral-500);
  --ui-layer-6: var(--neutral-600);
  --ui-border-color: var(--primary-color);
  --ui-border-radius: 4px;
  --ui-text: var(--neutral-900);
  --ui-text-secondary: var(--neutral-700);
  --ui-text-placeholder: var(--neutral-500);
  --ui-text-muted: var(--neutral-300);
  /** A field is a UI element in which a user can type data, for
  * example an input or textarea element.
  */
  --ui-field-bg: var(--neutral-100);
  --ui-field-bg-hover: var(--neutral-100);
  --ui-field-bg-disabled: var(--neutral-300);
  --ui-field-bg-invalid: var(--red-100);
  --ui-field-bg-focus: var(--neutral-100);
  --ui-field-border: 0.5px solid var(--border-color);
  --ui-field-border-hover: 0.5px solid var(--border-color);
  --ui-field-border-disabled: 0.5px solid var(--border-color);
  --ui-field-border-invalid: 0.5px solid var(--border-color);
  --ui-field-border-focus: 0.5px solid var(--border-color);
  --ui-menu-bg: var(--neutral-100);
  --ui-menu-text: var(--neutral-900);
  --ui-menu-bg-hover: var(--neutral-200);
  --ui-menu-text-hover: var(--neutral-900);
  /** The \`active\` state is used for the state of menu items
  * when they are selected.
  */
  --ui-menu-bg-active: var(--primary-color);
  --ui-menu-text-active: var(--primary-color-reverse);
  /** The \`active-muted\` set is used for the state of
  * submenus when they are open.
  */
  --ui-menu-bg-active-muted: var(--neutral-300);
  --ui-menu-text-active-muted: var(--neutral-900);
  /* --ui-menu-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.302),
0 2px 6px 2px rgba(60, 64, 67, 0.149); */
  --ui-menu-shadow: 0 0 2px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 0, 0, 0.2);
  --ui-menu-divider: 0.5px solid #c7c7c7;
  /* var(--neutral-300); */
  --ui-menu-z-index: 10000;
  --page-bg: var(--neutral-100);
  --content-bg: var(--neutral-200);
}
@media (prefers-color-scheme: dark) {
  :host {
    --ui-menu-bg: var(--neutral-200);
  }
}
:host([theme='dark']) {
  --ui-menu-bg: var(--neutral-200);
}
/* PingFang SC is a macOS font. Microsoft Yahei is a Windows font. 
  Noto  is a Linux/Android font.
*/
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh) {
  --ui-font-family: -apple-system, system-ui, 'PingFang SC', 'Hiragino Sans GB', 'Noto Sans CJK SC', 'Noto Sans SC', 'Noto Sans', 'Microsoft Yahei UI', 'Microsoft YaHei New', 'Microsoft Yahei', '微软雅黑', SimSun, '宋体', STXihei, '华文细黑', sans-serif;
}
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans', 'Microsoft JhengHei UI', 'Microsoft JhengHei', '微軟正黑體', '新細明體', 'PMingLiU', '細明體', 'MingLiU', sans-serif;
}
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac) {
  --ui-font-family: -apple-system, system-ui, 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Noto Sans CJK JP', 'Noto Sans JP', 'Noto Sans', '游ゴシック', '游ゴシック体', YuGothic, 'Yu Gothic', 'メイリオ', Meiryo, 'ＭＳ Ｐゴシック', 'MS PGothic', sans-serif;
}
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR', 'Noto Sans', 'Malgun Gothic', '맑은 고딕', 'Apple SD Gothic Neo', '애플 SD 산돌고딕 Neo', 'Apple SD 산돌고딕 Neo', '돋움', Dotum, sans-serif;
}
:lang(ko-kr-apple) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR', 'Noto Sans', 'Apple SD Gothic Neo', '애플 SD 산돌고딕 Neo', 'Apple SD 산돌고딕 Neo', '돋움', Dotum, sans-serif;
}
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh),
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo),
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac),
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std),
:lang(ko-kr-apple) {
  --ui-font-size: 1rem;
  --ui-line-height: 1.7;
  --ui-letter-spacing: 0;
}
:dir(rtl) {
  --ui-line-height: auto;
  --ui-letter-spacing: 0;
}
`,WMe=`.ui-menu *,
.ui-menu ::before,
.ui-menu ::after {
  box-sizing: border-box;
}
.ui-menu {
  display: none;
  color-scheme: light dark;
  -webkit-user-select: none;
  /* Important: Safari iOS doesn't respect user-select */
  user-select: none;
  cursor: default;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: rgba(0 0 0 0);
  --active-label-color: #fff;
  /* ui-menu-text-active */
  --label-color: #121212;
  /* ui-menu-text */
  --menu-bg: #e2e2e2;
  /* ui-menu-background */
  --active-bg: #5898ff;
  /* ui-menu-background-active */
  --active-bg-dimmed: #c5c5c5;
  /* ui-menu-background-active-muted */
}
/** Use the :where pseudo selector to make the specificity of the
 * selector 0, so that it can be overridden by the user.
 */
:where(.ui-menu-container) {
  position: absolute;
  overflow: visible;
  width: auto;
  height: auto;
  z-index: 10000;
  border-radius: 8px;
  background: var(--ui-menu-bg);
  box-shadow: var(--ui-menu-shadow);
  list-style: none;
  padding: 6px 0 6px 0;
  margin: 0;
  user-select: none;
  cursor: default;
  color: var(--ui-menu-text);
  font-weight: normal;
  font-style: normal;
  text-shadow: none;
  text-transform: none;
  letter-spacing: 0;
  outline: none;
  opacity: 1;
  /* The [popover] elements have a 1px solid black border. Ugh. */
  border: none;
  width: fit-content;
  height: fit-content;
}
:where(.ui-menu-container > li) {
  display: flex;
  flex-flow: row;
  align-items: center;
  padding: 1px 7px 1px 7px;
  margin-top: 0;
  margin-left: 6px;
  margin-right: 6px;
  border-radius: 4px;
  white-space: nowrap;
  position: relative;
  outline: none;
  fill: currentColor;
  user-select: none;
  cursor: default;
  text-align: left;
  color: inherit;
  font-family: var(--ui-font-family);
  font-size: var(--ui-font-size);
  line-height: var(--ui-line-height);
  letter-spacing: var(--ui-letter-spacing);
}
:where(.ui-menu-container > li > .label) {
  display: flex;
  align-items: center;
  justify-content: space-between;
  appearance: none;
  background: none;
  outline: none;
  width: 100%;
  margin: 0;
  padding: 1px 2px 1px 1px;
  overflow: visible;
  border: 1px solid transparent;
  white-space: nowrap;
  text-align: start;
  align-content: center;
}
:where(.ui-menu-container > li:has(.heading)) {
  margin-top: 0.5em;
}
:where(.ui-menu-container > li > .label.heading) {
  font-weight: bold;
  opacity: 0.4;
}
:where(.ui-menu-container > li.indent > .label) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li > .label.indent) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li[role='divider']) {
  border-bottom: 1px solid var(--ui-menu-divider);
  border-radius: 0;
  padding: 0;
  margin-left: 15px;
  margin-right: 15px;
  padding-top: 5px;
  margin-bottom: 5px;
  width: calc(100% - 30px);
  /** 100% - (margin-left + margin-right) */
}
:where(.ui-menu-container > li[aria-disabled='true']) {
  opacity: 0.5;
}
:where(.ui-menu-container > li.active) {
  background: var(--ui-menu-bg-active);
  background: -apple-system-control-accent;
  color: var(--ui-menu-text-active);
}
:where(.ui-menu-container > li.active.is-submenu-open) {
  background: var(--ui-menu-bg-active-muted);
  color: inherit;
}
:where(.ui-menu-container > li[aria-haspopup='true'] > .label) {
  padding-inline-end: 0;
}
:where(.ui-menu-container > li[aria-haspopup='true'].active::after) {
  color: var(--ui-menu-text-active);
}
/** Keyboard shortcut */
:where(.ui-menu-container > li > kbd) {
  font-family: var(--ui-font-family);
  margin-inline-start: 12px;
  opacity: 0.4;
}
:where(.ui-menu-container > li.active > kbd) {
  opacity: 0.85;
}
.ui-trailing-chevron {
  display: flex;
  margin-inline-start: 24px;
  width: 10px;
  height: 10px;
  margin-bottom: 4px;
}
.ui-trailing-chevron:dir(rtl) {
  transform: scaleX(-1);
}
.ui-checkmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
.ui-mixedmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
`,z1;function B1(t){let e="";switch(t){case"mathfield-element":e=`
    :host { display: inline-block; background-color: field; color: fieldtext; border-width: 1px; border-style: solid; border-color: #acacac; border-radius: 2px;}
    :host([hidden]) { display: none; }
    :host([disabled]), :host([disabled]:focus), :host([disabled]:focus-within) { outline: none; opacity:  .5; }
    :host(:focus), :host(:focus-within) {
      outline: Highlight auto 1px;    /* For Firefox */
      outline: -webkit-focus-ring-color auto 1px;
    }
    :host([readonly]:focus), :host([readonly]:focus-within),
    :host([read-only]:focus), :host([read-only]:focus-within) {
      outline: none;
    }`;break;case"core":e=qMe;break;case"mathfield":e=jMe;break;case"environment-popover":e=UMe;break;case"suggestion-popover":e=VMe;break;case"keystroke-caption":e=GMe;break;case"virtual-keyboard":e=ZMe;break;case"ui":e=HMe;break;case"menu":e=WMe;break}return e}function Hd(t){return z1||(z1={}),z1[t]||(z1[t]=new CSSStyleSheet,z1[t].replaceSync(B1(t))),z1[t]}var Hu;function Wu(t){var e;try{if(!("adoptedStyleSheets"in document)){if(window.document.getElementById(`mathlive-style-${t}`))return;let r=window.document.createElement("style");r.id=`mathlive-style-${t}`,r.append(window.document.createTextNode(B1(t))),window.document.head.appendChild(r);return}if(Hu||(Hu={}),((e=Hu[t])!=null?e:0)!==0)Hu[t]+=1;else{let r=Hd(t);document.adoptedStyleSheets=[...document.adoptedStyleSheets,r],Hu[t]=1}}catch(r){console.error("Error injecting stylesheet",t,r)}}function dh(t){if("adoptedStyleSheets"in document&&Hu!=null&&Hu[t]&&(Hu[t]-=1,Hu[t]<=0)){let e=z1[t];document.adoptedStyleSheets=document.adoptedStyleSheets.filter(r=>r!==e)}}var Rv=class XZ extends it{constructor(e){var r;super(je(we({},e),{type:"accent",body:(r=e.body)!=null?r:void 0})),e.accentChar?this.accent=e.accentChar:this.svgAccent=e==null?void 0:e.svgAccent,this.skipBoundary=!0,this.captureSelection=!0}static fromJson(e){return new XZ(e)}toJson(){return je(we({},super.toJson()),{accentChar:this.accent,svgAccent:this.svgAccent})}render(e){var r;let i=new pi({parent:e,mathstyle:"cramp"},this.style),n=(r=it.createBox(i,this.body))!=null?r:new kt("▢",{style:this.style}),a=0;!this.hasEmptyBranch("body")&&this.body.length===2&&this.body[1].isCharacterBox()&&(a=n.skew);let s=Math.min(n.height,uh),o;if(this.svgAccent)o=Tv(this.svgAccent),s=i.metrics.bigOpSpacing1-s;else if(this.accent){let u=new kt(this.accent,{fontFamily:"Main-Regular"});u.italic=0;let c=this.accent===8407||this.accent===8411||this.accent===8412?" ML__accent-combining-char":"";o=new kt(new kt(u),{classes:"ML__accent-body"+c})}o=new ba({shift:0,children:[{box:new kt(n)},-s,{box:o,marginLeft:n.left+2*a,classes:["ML__center"]}]});let l=new kt(o,{type:"lift"});return this.caret&&(l.caret=this.caret),this.bind(i,l.wrap(i)),this.attachSupsub(i,{base:l})}},jv={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},qv=Object.fromEntries(Object.entries(jv).map(([t,e])=>[e,t]));function Uv(t){var e;return(e={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"∣":8739,"∥":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[t])!=null?e:t.codePointAt(0)}function YMe(t,e,r,i){var n;let a=new kt(Uv(t),{fontFamily:"Main-Regular",isSelected:i.isSelected,classes:"ML__small-delim "+((n=i.classes)!=null?n:"")}).wrap(e);return r&&a.setTop((1-e.scalingFactor)*c0),a}function zU(t,e,r,i,n){var a,s;let o=new pi({parent:i,mathstyle:"textstyle"},n==null?void 0:n.style),l=new kt(Uv(t),{fontFamily:`Size${e}-Regular`,isSelected:n.isSelected,classes:((a=n.classes)!=null?a:"")+` ML__delim-size${e}`,type:(s=n.type)!=null?s:"ignore"}).wrap(o);return r&&l.setTop((1-o.scalingFactor)*c0),l}function BU(t,e,r,i,n){var a;let s,o,l,u;s=l=u=Uv(t),o=null;let c="Size1-Regular";t==="\\vert"||t==="\\lvert"||t==="\\rvert"||t==="\\mvert"||t==="\\mid"?l=s=u=8739:t==="\\Vert"||t==="\\lVert"||t==="\\rVert"||t==="\\mVert"||t==="\\|"?l=s=u=8741:t==="\\uparrow"?l=u=9168:t==="\\Uparrow"?l=u=8214:t==="\\downarrow"?s=l=9168:t==="\\Downarrow"?s=l=8214:t==="\\updownarrow"?(s=8593,l=9168,u=8595):t==="\\Updownarrow"?(s=8657,l=8214,u=8659):t==="["||t==="\\lbrack"?(s=9121,l=9122,u=9123,c="Size4-Regular"):t==="]"||t==="\\rbrack"?(s=9124,l=9125,u=9126,c="Size4-Regular"):t==="\\lfloor"||t==="⌊"?(l=s=9122,u=9123,c="Size4-Regular"):t==="\\lceil"||t==="⌈"?(s=9121,l=u=9122,c="Size4-Regular"):t==="\\rfloor"||t==="⌋"?(l=s=9125,u=9126,c="Size4-Regular"):t==="\\rceil"||t==="⌉"?(s=9124,l=u=9125,c="Size4-Regular"):t==="("||t==="\\lparen"?(s=9115,l=9116,u=9117,c="Size4-Regular"):t===")"||t==="\\rparen"?(s=9118,l=9119,u=9120,c="Size4-Regular"):t==="\\{"||t==="\\lbrace"?(s=9127,o=9128,u=9129,l=9130,c="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(s=9131,o=9132,u=9133,l=9130,c="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(s=9127,u=9129,l=9130,c="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(s=9131,u=9133,l=9130,c="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(s=9127,u=9133,l=9130,c="Size4-Regular"):t==="\\rmoustache"||t==="⎱"?(s=9131,u=9129,l=9130,c="Size4-Regular"):t==="\\surd"?(s=57345,u=9143,l=57344,c="Size4-Regular"):t==="\\ulcorner"?(s=9484,l=u=32):t==="\\urcorner"?(s=9488,l=u=32):t==="\\llcorner"?(u=9492,l=s=32):t==="\\lrcorner"&&(s=9496,l=s=32);let h=jd(s,c),p=h.height+h.depth,d=jd(l,c),m=d.height+d.depth,f=jd(u,c),v=f.height+f.depth,y=0,x=1;if(o!==null){let T=jd(o,c);y=T.height+T.depth,x=2}let g=p+v+y,b=Math.max(0,Math.ceil((e-g)/(x*m))),k=g+b*x*m,w=c0;r&&(w=w*i.scalingFactor);let N=k/2-w,A=[];A.push({box:new kt(u,{fontFamily:c})}),A.push(-.008);let $=new kt(l,{fontFamily:c});if(o===null)for(let T=0;T<b;T++)A.push({box:$});else{for(let T=0;T<b;T++)A.push({box:$});A.push(-.008),A.push({box:new kt(o,{fontFamily:c})}),A.push(-.008);for(let T=0;T<b;T++)A.push({box:$})}A.push(-.008),A.push({box:new kt(s,{fontFamily:c})});let D="";c==="Size1-Regular"?D=" delim-size1":c==="Size4-Regular"&&(D=" delim-size4");let _=new ba({bottom:N,children:A},{classes:D});return new kt(_,je(we({},n??{}),{classes:((a=n==null?void 0:n.classes)!=null?a:"")+" ML__delim-mult"}))}var OU=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","⌊","⌋","⌈","⌉"]),KMe=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","⟮","⟯","⎰","⎱"]),FU=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),XMe=[0,1.2,1.8,2.4,3];function QMe(t,e,r,i){return t===void 0||t==="."?O1(r,i.classes):(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),OU.has(t)||FU.has(t)?zU(t,e,!1,r,i):KMe.has(t)?BU(t,XMe[e],!1,r,i):null)}var JMe=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],eke=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],tke=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function rke(t){return t.type==="small"?"Main-Regular":t.type==="large"?"Size"+t.size+"-Regular":(t.type,"Size4-Regular")}function ike(t,e,r,i){let n={"-4":0,"-3":1,0:2}[i.mathstyle.sizeDelta];for(let a=n;a<r.length&&r[a].type!=="stack";a++){let s=jd(t,rke(r[a]));if(s.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let o=s.height+s.depth;if(r[a].type==="small"&&(r[a].mathstyle==="scriptscriptstyle"?o*=Math.max(jw[Math.max(1,i.size-2)],i.minFontScale):r[a].mathstyle==="scriptstyle"&&(o*=Math.max(jw[Math.max(1,i.size-1)],i.minFontScale))),o>e)return r[a]}return r[r.length-1]}function Vv(t,e,r,i,n,a){if(!e||e.length===0||e===".")return O1(n);e==="<"||e==="\\lt"?e="\\langle":(e===">"||e==="\\gt")&&(e="\\rangle");let s;FU.has(e)?s=JMe:OU.has(e)?s=tke:s=eke;let o=ike(Uv(e),r,s,n),l=new pi({parent:n,mathstyle:o.mathstyle},a==null?void 0:a.style);return o.type==="small"?YMe(e,l,i,je(we({},a),{type:t})):o.type==="large"?zU(e,o.size,i,l,je(we({},a),{type:t})):(o.type,BU(e,r,i,l,je(we({},a),{type:t})))}function A2(t,e,r,i,n,a){if(e===".")return O1(n,a==null?void 0:a.classes);let s=c0*n.scalingFactor,o=901,l=5/Rd,u=Math.max(r-s,i+s),c=Math.max(u/500*o,2*u-l);return Vv(t,e,c,!0,n,a)}function O1(t,e){let r=new kt(null,{classes:" ML__nulldelimiter "+(e??""),type:"ignore"});return r.width=t.getRegisterAsEm("nulldelimiterspace"),r.wrap(new pi({parent:t,mathstyle:"textstyle"}))}var H0=class QZ extends it{constructor(e){var r;super({type:"placeholder",command:"\\placeholder",mode:(r=e==null?void 0:e.mode)!=null?r:"math",style:e==null?void 0:e.style}),this.captureSelection=!0}static fromJson(e){return new QZ(e)}toJson(){return super.toJson()}render(e){let r;return this.value=e.placeholderSymbol,typeof e.renderPlaceholder=="function"?r=e.renderPlaceholder(e):r=this.createBox(e),this.caret&&(r.classes+=" ML__placeholder-selected"),r}_serialize(e){return e.skipPlaceholders?"":"\\placeholder{}"}},PU=["matrix","matrix*","pmatrix","pmatrix*","bmatrix","bmatrix*","Bmatrix","Bmatrix*","vmatrix","vmatrix*","Vmatrix","Vmatrix*"],rM=["cases","dcases","rcases"],RU=["align","align*","aligned","gather","gather*","gathered","split"],nke=["array","subequations","eqnarray"];function ake(t){return RU.includes(t)||rM.includes(t)||rM.includes(t)||PU.includes(t)||nke.includes(t)}function jU(t){return PU.includes(t)}function ske(t){return rM.includes(t)}function oke(t){return RU.includes(t)}function lke(t,e,r){let i=0;for(let u of r.columns)"align"in u&&(i+=1);i=Math.max(i,r.minColumns);let n=0,a=[];for(let u of e){n=Math.max(n,Math.min(u.length,i));let c=0;for(;c<u.length;){let h=[],p=Math.min(u.length,c+i);for(;c<p;)h.push(uke(u[c],t.mode)),c+=1;if(h.length<r.minColumns)for(;h.length<r.minColumns;)h.push([new it({type:"first",mode:t.mode})]);a.push(h)}}!t.isMultiline&&a.length>0&&a[a.length-1].length===1&&cke(a[a.length-1][0])&&a.pop();let s=[];for(let u of a){if(u.length!==n)for(let c=u.length;c<n;c++)t.isMultiline?u.push([new it({type:"first",mode:t.mode})]):u.push([new it({type:"first",mode:t.mode}),new H0]);s.push(u)}let o=0,l=0;for(let u of s){l=0;for(let c of u){for(let h of c)h.parent=t,h.parentBranch=[o,l];l+=1}o+=1}return t.isDirty=!0,s}function uke(t,e){return t.length===0?[new it({type:"first",mode:e})]:t[0].type!=="first"?[new it({type:"first",mode:e}),...t]:(t.slice(1).some(r=>r.type==="first"),t)}function cke(t){return t.length===1&&t[0].type==="first"}var Jr=class JZ extends it{get isMultiline(){let e=this.environmentName;return["lines","multline","multline*","align","split","gather","gathered"].includes(e)}constructor(e,r,i,n={}){var a,s,o,l;if(super({type:"array",isRoot:n.isRoot}),this.environmentName=e,n.columns)n.columns.length===0?this.colFormat=[{align:"l"}]:this.colFormat=[...n.columns];else if(n.minColumns){let u=[];for(let c=0;c<n.minColumns;c++)u.push({align:"l"});this.colFormat=u}else this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}];this.minColumns=(a=n.minColumns)!=null?a:1,this.minRows=(s=n.minRows)!=null?s:1,this.maxRows=(o=n.maxRows)!=null?o:1/0,this._rows=lke(this,r,{columns:this.colFormat,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows}),this.rowGaps=i,n.arraycolsep!==void 0&&(this.arraycolsep=n.arraycolsep),this.colSeparationType=n.colSeparationType,n.arraystretch!==void 0&&(this.arraystretch=n.arraystretch),n.mathstyleName&&(this.mathstyleName=n.mathstyleName),n.leftDelim&&(this.leftDelim=n.leftDelim),n.rightDelim&&(this.rightDelim=n.rightDelim),this.classes=(l=n.classes)!=null?l:[]}static fromJson(e){return new JZ(e.environmentName,e.array,e.rowGaps,e)}toJson(){let e=je(we({},super.toJson()),{environmentName:this.environmentName,array:this._rows.map(r=>r.map(i=>i.map(n=>n.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows});return this.arraystretch!==void 0&&(e.arraystretch=this.arraystretch),this.arraycolsep!==void 0&&(e.arraycolsep=this.arraycolsep),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.isRoot&&(e.isRoot=!0),e.minColumns=this.minColumns,e.minRows=this.minRows,e.maxRows=this.maxRows,this.mathstyleName&&(e.mathstyleName=this.mathstyleName),this.classes.length>0&&(e.classes=this.classes),e}branch(e){var r;if(Zu(e))return(r=this._rows[e[0]][e[1]])!=null?r:void 0}createBranch(e){var r;return Zu(e)?(this.isDirty=!0,(r=this.branch(e))!=null?r:[]):[]}get rowCount(){return this._rows.length}get colCount(){return this._rows[0].length}get maxColumns(){return this.colFormat.filter(e=>!!e.align).length}removeBranch(e){if(T1(e))return super.removeBranch(e);let[r,...i]=this.branch(e);return r.type,this._rows[e[0]][e[1]]=void 0,i.forEach(n=>{n.parent=void 0,n.parentBranch=void 0}),this.isDirty=!0,i}get hasChildren(){return this.children.length>0}get children(){let e=[];for(let r of this._rows)for(let i of r)if(i)for(let n of i)e.push(...n.children),e.push(n);return[...e,...super.children]}render(e){var r,i,n,a,s,o;let l=new pi({parent:e,mathstyle:this.mathstyleName},this.style),u=l.getRegisterAsEm("arrayrulewidth"),c=l.getRegisterAsEm("arraycolsep"),h=l.getRegisterAsEm("doublerulesep"),p=(i=(r=this.arraystretch)!=null?r:l.getRegisterAsNumber("arraystretch"))!=null?i:1,d=typeof this.arraycolsep=="number"?this.arraycolsep:c;this.colSeparationType==="small"&&(d=.2778*(new pi({parent:e,mathstyle:"scriptstyle"}).scalingFactor/e.scalingFactor));let m=p*oMe,f=.7*m,v=.3*m,y=0,x=[],g=0,b=this._rows.length;for(let Z=0;Z<b;++Z){let W=this._rows[Z];g=Math.max(g,W.length);let Y=new pi({parent:l,mathstyle:this.mathstyleName},this.style),ie=f/Y.scalingFactor,re=v/Y.scalingFactor,R={cells:[],height:0,depth:0,pos:0};for(let E of W){let oe=(n=it.createBox(Y,E,{type:"ignore"}))!=null?n:new kt(null,{type:"ignore"});re=Math.max(re,oe.depth),ie=Math.max(ie,oe.height),R.cells.push(oe)}let X=(a=MU(this.rowGaps[Z]))!=null?a:0;X>0&&(X+=v,re=Math.max(re,X),X=0),Z<b-1&&!jU(this.environmentName)&&this.environmentName!=="cases"&&this.environmentName!=="array"&&(re+=l.getRegisterAsEm("jot")),R.height=ie,R.depth=re,y+=ie,R.pos=y,y+=re+X,x.push(R)}let k=y/2+c0,w=[];for(let Z=0;Z<g;Z++){let W=[];for(let Y of x){let ie=Y.cells[Z];ie&&(ie.depth=Y.depth,ie.height=Y.height,W.push({box:ie,shift:Y.pos-k}))}W.length>0&&w.push(new ba({individualShift:W}))}let N=[],A=!1,$=!1,D=0,_=!this.leftDelim,{colFormat:T}=this;for(let Z of T){if("align"in Z&&D>=w.length)break;if("align"in Z)A?N.push(Zv(2*d)):($||_)&&N.push(Zv(d)),N.push(new kt(w[D],{classes:"col-align-"+Z.align})),D++,A=!0,$=!1,_=!1;else if("gap"in Z){if(typeof Z.gap=="number")N.push(Zv(Z.gap));else{let W=hke(e,x,k,Z.gap);W&&N.push(W)}A=!1,$=!1,_=!1}else if("separator"in Z){let W=new kt(null,{classes:"ML__vertical-separator"});W.height=y,W.setStyle("height",y,"em"),W.setStyle("border-right",`${u}em ${Z.separator} currentColor`),W.setStyle("vertical-align",-(y-k),"em");let Y=0;$?Y=h-u:A&&(Y=d-u),W.left=Y,N.push(W),A=!1,$=!0,_=!1}}A&&!this.rightDelim&&N.push(Zv(d));let z=new kt(N,{classes:["ML__mtable",...this.classes].join(" ")});if((!this.leftDelim||this.leftDelim===".")&&(!this.rightDelim||this.rightDelim==="."))return this.caret&&(z.caret=this.caret),this.bind(e,z);let P=z.height,q=z.depth,L=this.bind(e,new kt([this.bind(e,A2("open",(s=this.leftDelim)!=null?s:".",P,q,l,{isSelected:this.isSelected})),z,this.bind(e,A2("close",(o=this.rightDelim)!=null?o:".",P,q,l,{isSelected:this.isSelected}))],{type:"ord"}));return L?(L.setStyle("display","inline-block"),this.caret&&(L.caret=this.caret),this.bind(e,this.attachSupsub(e,{base:L}))):null}_serialize(e){var r;let i=[];if(this.environmentName==="lines"?i.push("\\displaylines{"):i.push(`\\begin{${this.environmentName}}`),this.environmentName==="array"){if(i.push("{"),this.colFormat!==void 0)for(let n of this.colFormat)"align"in n&&typeof n.align=="string"?i.push(n.align):"separator"in n&&n.separator==="solid"?i.push("|"):"separator"in n&&n.separator==="dashed"&&i.push(":");i.push("}")}for(let n=0;n<this._rows.length;n++){for(let a=0;a<this._rows[n].length;a++)a>0&&i.push(" & "),i.push(it.serialize(this._rows[n][a],e));if(n<this._rows.length-1){let a=this.rowGaps[n];a!=null&&a.dimension?i.push(`\\\\[${a.dimension} ${(r=a.unit)!=null?r:"pt"}] `):i.push("\\\\ ")}}return this.environmentName==="lines"?i.push("}"):i.push(`\\end{${this.environmentName}}`),Hr(i)}forEachCell(e){for(let r=0;r<this.rowCount;r++)for(let i=0;i<this.colCount;i++)e(this._rows[r][i],r,i)}getCell(e,r){var i;return(i=this._rows[e])==null?void 0:i[r]}setCell(e,r,i){this.type==="array"&&Array.isArray(this._rows)&&this._rows[e][r];for(let a of this._rows[e][r])a.parent=void 0,a.parentBranch=void 0;let n=[new it({type:"first",mode:this.mode}),...i.filter(a=>a.type!=="first")];this._rows[e][r]=n,F1(this),this.isDirty=!0}addRowBefore(e){this.type==="array"&&Array.isArray(this._rows),this._rows.splice(e,0,new Array(this.colCount).fill(Gv(this,!this.isMultiline))),F1(this),this.isDirty=!0}addRowAfter(e){this.type==="array"&&Array.isArray(this._rows),this._rows.splice(e+1,0,new Array(this.colCount).fill(Gv(this,!this.isMultiline))),F1(this),this.isDirty=!0}removeRow(e){this.type==="array"&&Array.isArray(this._rows)&&this.rowCount>e;let r=this._rows.splice(e,1);for(let i of r)for(let n of i)if(n)for(let a of n)a.parent=void 0,a.parentBranch=void 0;F1(this),this.isDirty=!0}addColumnBefore(e){this.type==="array"&&Array.isArray(this._rows);for(let r of this._rows)r.splice(e,0,Gv(this));F1(this),this.isDirty=!0}addColumnAfter(e){this.type==="array"&&Array.isArray(this._rows);for(let r of this._rows)r.splice(e+1,0,Gv(this));F1(this),this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(e){this.type==="array"&&Array.isArray(this._rows)&&this.colCount>e;for(let r of this._rows){let i=r.splice(e,1);for(let n of i)if(n)for(let a of n)a.parent=void 0,a.parentBranch=void 0}F1(this),this.isDirty=!0}get cells(){let e=[];for(let r of this._rows)for(let i of r)i&&e.push(i.filter(n=>n.type!=="first"));return e}get rows(){return this._rows}};function Gv(t,e=!1){let r=new it({type:"first",mode:t.mode});r.parent=t;let i=[r];if(e){let n=new H0;n.parent=t,i.push(n)}return i}function F1(t){for(let e=0;e<t.rowCount;e++)for(let r=0;r<t.colCount;r++){let i=t.getCell(e,r);if(i)for(let n of i)n&&(n.parent=t,n.parentBranch=[e,r])}}function Zv(t){let e=new kt(null,{classes:"ML__arraycolsep"});return e.width=t,e}function hke(t,e,r,i){if(!i)return null;let n=[];for(let a of e){let s=it.createBox(t,i,{type:"ignore"});s&&(s.depth=a.depth,s.height=a.height,n.push({box:s,shift:a.pos-r}))}return new ba({individualShift:n}).wrap(t)}var mh=class eH extends it{constructor(e){super({mode:e.mode,command:e.command,style:e.style,body:e.body,type:"box"}),this.framecolor=e.framecolor,this.backgroundcolor=e.backgroundcolor,this.padding=e.padding,this.offset=e.offset,this.border=e.border}static fromJson(e){return new eH(e)}toJson(){return je(we({},super.toJson()),{framecolor:this.framecolor,backgroundcolor:this.backgroundcolor,padding:this.padding,offset:this.offset,border:this.border})}render(e){var r,i,n,a;let s=it.createBox(e,this.body,{type:"lift"});if(!s)return null;let o=e.toEm((r=this.offset)!=null?r:{dimension:0});s.depth+=o,s.setStyle("display","inline-block"),s.setStyle("position","relative"),s.setStyle("height",Math.floor(100*s.height+s.depth)/100,"em"),s.setStyle("vertical-align",-Math.floor(100*s.height)/100,"em");let l=new pi({parent:e},this.style),u=l.toEm((i=this.padding)!=null?i:{register:"fboxsep"}),c=new kt(null,{classes:"ML__box"});c.height=s.height+u,c.depth=s.depth+u,c.setStyle("box-sizing","border-box"),c.setStyle("position","absolute"),c.setStyle("top",-u+.3,"em"),c.setStyle("left",0),c.setStyle("height",c.height+c.depth,"em"),c.setStyle("width","100%"),this.backgroundcolor&&c.setStyle("background-color",(n=l.toColor(this.backgroundcolor))!=null?n:"transparent"),this.framecolor&&c.setStyle("border",`${l.getRegisterAsEm("fboxrule",2)}em solid ${(a=l.toColor(this.framecolor))!=null?a:"black"}`),this.border&&c.setStyle("border",this.border);let h=new kt([c,s],{type:"lift"});return h.setStyle("display","inline-block"),h.setStyle("position","relative"),h.setStyle("line-height",0),h.height=s.height+u+(o>0?o:0),h.depth=s.depth+u+(o<0?-o:0),h.setStyle("padding-left",u,"em"),h.setStyle("padding-right",u,"em"),h.setStyle("height",Math.floor(100*(s.height+s.depth+2*u+Math.abs(o)))/100,"em"),h.setStyle("margin-top",-u,"em"),h.setStyle("top",Math.floor(100*(s.depth-s.height+2*u-o))/100,"em"),h.setStyle("vertical-align",Math.floor(100*(s.depth+2*u))/100,"em"),this.caret&&(h.caret=this.caret),this.attachSupsub(e,{base:h})}_serialize(e){return e.skipStyles?Hr([this.bodyToLatex(e),this.supsubToLatex(e)]):super._serialize(e)}},qU=class tH extends it{constructor(e,r){var i;super({type:"composition",mode:(i=r==null?void 0:r.mode)!=null?i:"math",value:e})}static fromJson(e){return new tH(e.value,e)}toJson(){return super.toJson()}render(e){let r=new kt(this.value,{classes:"ML__composition",type:"composition"});return this.bind(e,r),this.caret&&(r.caret=this.caret),r}_serialize(e){return""}},P1=class rH extends it{constructor(e){super({type:"error",value:e,command:e,mode:"math"}),this.verbatimLatex=e}static fromJson(e){return new rH(e.command)}toJson(){return super.toJson()}render(e){let r=this.createBox(e,{classes:"ML__error"});return this.caret&&(r.caret=this.caret),r}},UU=class iH extends it{constructor(e,r){super({type:"group",mode:r}),this.body=e,this.boxType=e.length>1?"ord":"ignore",this.skipBoundary=!0,this.displayContainsHighlight=!1,e&&e.length===1&&e[0].command===","&&(this.captureSelection=!0)}static fromJson(e){return new iH(e.body,e.mode)}render(e){let r=it.createBox(e,this.body,{type:this.boxType});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ss(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):`{${this.bodyToLatex(e)}}`}},On=class nH extends it{constructor(e,r,i){super({type:"leftright",style:i.style,displayContainsHighlight:!0}),this.variant=e,this.body=r,this.leftDelim=i.leftDelim,this.rightDelim=i.rightDelim}static fromJson(e){var r;return new nH((r=e.variant)!=null?r:"",e.body,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}_serialize(e){var r,i;let n=this.matchingRightDelim();return this.variant==="left...right"?Hr(["\\left",(r=this.leftDelim)!=null?r:".",this.bodyToLatex(e),"\\right",n]):this.variant==="mleft...mright"?Hr(["\\mleft",(i=this.leftDelim)!=null?i:".",this.bodyToLatex(e),"\\mright",n]):Hr([!this.leftDelim||this.leftDelim==="."?"":this.leftDelim,this.bodyToLatex(e),n])}matchingRightDelim(){var e,r;if(this.rightDelim&&this.rightDelim!=="?")return this.rightDelim;let i=(e=this.leftDelim)!=null?e:".";return(r=jv[i])!=null?r:i}render(e){var r,i;let n=new pi({parent:e},this.style);this.body;let a=new pi({parent:e,mathstyle:"textstyle"},this.style),s=(r=it.createBox(n,this.body,{type:"inner"}))!=null?r:new kt(null,{type:"inner"}),o=s.height/a.scalingFactor,l=s.depth/a.scalingFactor,u=[];if(this.leftDelim&&u.push(this.bind(a,A2("open",this.leftDelim,o,l,a,{isSelected:this.isSelected,classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),s&&(VU(s.children,this,n,o,l),u.push(s)),this.rightDelim){let d=this.containsCaret?" ML__contains-caret":"",m=this.rightDelim;m==="?"&&(n.smartFence?(m=this.matchingRightDelim(),d+=" ML__smart-fence__close"):m="."),u.push(this.bind(a,A2("close",m,o,l,a,{isSelected:this.isSelected,classes:d+" ML__close",mode:this.mode,style:this.style})))}let c=this.variant==="mleft...mright",h=this.leftSibling;h&&(!c&&h.isFunction&&(c=!0),!c&&h.type==="subsup"&&(i=h.leftSibling)!=null&&i.isFunction&&(c=!0));let p=new kt(u,{type:c?"close":"inner",classes:"ML__left-right"});return p.setStyle("margin-top",`${-s.depth}em`),p.setStyle("height",`${s.height+s.depth}em`),this.caret&&(p.caret=this.caret),this.bind(n,p.wrap(n))}};function VU(t,e,r,i,n){if(t)for(let a=0;a<t.length;a++){let s=t[a];s.type==="middle"?(t[a]=e.bind(r,A2("inner",s.value,i,n,r,{isSelected:e.isSelected})),t[a].caret=s.caret,t[a].isSelected=s.isSelected,t[a].cssId=s.cssId,t[a].htmlData=s.htmlData,t[a].htmlStyle=s.htmlStyle,t[a].attributes=s.attributes,t[a].cssProperties=s.cssProperties):s.children&&VU(s.children,e,r,i,n)}}var GU=class aH extends it{constructor(e,r){var i;super({type:"macro",command:e,style:r.style}),this.body=r.body,r.captureSelection===void 0?r.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=r.captureSelection,this.macroArgs=r.args,this.expand=(i=r.expand)!=null?i:!1}static fromJson(e){return new aH(e.command,e)}toJson(){let e=super.toJson();return this.expand&&(e.expand=!0),this.captureSelection!==void 0&&(e.captureSelection=this.captureSelection),this.macroArgs&&(e.args=this.macroArgs),e}_serialize(e){var r;return e.expandMacro&&this.expand?this.bodyToLatex(e):this.command+((r=this.macroArgs)!=null?r:"")}applyStyle(e,r){let i={};e.color&&(i.color=e.color),e.backgroundColor&&(i.backgroundColor=e.backgroundColor),super.applyStyle(i,r)}render(e){let r=it.createBox(e,this.body,{type:"lift"});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}},pke=class sH extends it{constructor(){super({type:"macro-argument"})}static fromJson(e){return new sH}toJson(){return super.toJson()}_serialize(e){return""}render(e){return null}},ZU=class oH extends it{constructor(e,r,i=!1,n,a){var s;super({type:"prompt",mode:(s=a==null?void 0:a.mode)!=null?s:"math",style:a==null?void 0:a.style,command:"\\placeholder"}),this.body=n,this.correctness=r,this.placeholderId=e,this.locked=i,this.captureSelection=this.locked}static fromJson(e){return new oH(e.placeholderId,e.correctness,e.locked,e.body,e)}toJson(){let e=super.toJson();return this.placeholderId&&(e.placeholderId=this.placeholderId),this.body||delete e.body,this.body&&(e.body=this.body.filter(r=>r.type!=="first").map(r=>r.toJson())),this.correctness&&(e.correctness=this.correctness),e.locked=this.locked,e}render(e){let r=new pi({parent:e}),i=r.getRegisterAsEm("fboxsep"),n=i,a=i,s=it.createBox(e,this.body);if(!s)return null;s.height||(s.height=r.metrics.xHeight),s.setStyle("vertical-align",-s.height,"em"),this.correctness==="correct"?s.setStyle("color","var(--correct-color, var(--ML__correct-color))"):this.correctness==="incorrect"&&s.setStyle("color","var(--incorrect-color, var(--ML__incorrect-color))");let o=new kt(s,{type:"ord"});o.setStyle("display","inline-block"),o.setStyle("height",s.height+s.depth,"em"),o.setStyle("vertical-align",-a,"em");let l="ML__prompt ";this.locked?l+=" ML__lockedPromptBox ":l+=" ML__editablePromptBox ",this.correctness==="correct"?l+=" ML__correctPromptBox ":this.correctness==="incorrect"&&(l+=" ML__incorrectPromptBox "),this.containsCaret&&(l+=" ML__focusedPromptBox ");let u=new kt(null,{classes:l,attributes:{part:"prompt"}});u.height=o.height+a,u.depth=o.depth+a,u.width=o.width+2*n,u.setStyle("position","absolute"),u.setStyle("height",`calc(${o.height+o.depth+2*a}em - 2px)`),n===0&&u.setStyle("width","100%"),n!==0&&(u.setStyle("width",`calc(100% + ${2*n}em)`),u.setStyle("top",i,"em"),u.setStyle("left",-n,"em")),(!this.body||this.body.length===1)&&(u.width=3*n,u.setStyle("width",`calc(100% + ${3*n}em)`),u.setStyle("left",-1.5*n,"em"));let c="";this.correctness==="incorrect"&&(c+='<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="0.5" stroke="var(--incorrect-color, var(--ML__incorrect-color))" stroke-linecap="round" />'),c&&(u.svgOverlay=c);let h=new kt([u,o],{classes:"ML__prompt-atom"});return o.setStyle("line-height",1),h.setStyle("position","relative"),h.setStyle("display","inline-block"),h.setStyle("line-height",0),h.height=o.height+a+.2,h.depth=o.depth+a,h.left=n,h.right=n,h.setStyle("height",o.height+a,"em"),h.setStyle("top",o.depth-o.height,"em"),h.setStyle("vertical-align",o.depth+a,"em"),h.setStyle("margin-left",.5,"em"),h.setStyle("margin-right",.5,"em"),this.caret&&(h.caret=this.caret),this.bind(r,this.attachSupsub(e,{base:h}))}_serialize(e){var r;let i=(r=this.bodyToLatex(e))!=null?r:"";if(e.skipPlaceholders)return i;let n="\\placeholder";return this.placeholderId&&(n+=`[${this.placeholderId}]`),this.correctness==="correct"?n+="[correct]":this.correctness==="incorrect"&&(n+="[incorrect]"),this.locked&&(n+="[locked]"),rn(n,i)}},Hv=class lH extends it{constructor(e){super({type:"subsup",style:e==null?void 0:e.style}),this.subsupPlacement="auto"}get children(){if(!this._children){let e=[],r=this.branch("subscript");if(r)for(let n of r)e.push(...n.children),e.push(n);let i=this.branch("superscript");if(i)for(let n of i)e.push(...n.children),e.push(n);this._children=e}return this._children}static fromJson(e){let r=new lH(e);for(let i of Vd)e[i]&&r.setChildren(e[i],i);return r}render(e){var r;let i=new pi({parent:e,isPhantom:!0}),n=this.leftSibling,a=(r=n.render(i))!=null?r:new kt(null),s=new kt(null);return s.height=a.height,s.depth=a.depth,this.attachSupsub(e,{base:s,isCharacterBox:n.isCharacterBox(),type:"ignore"})}_serialize(e){return this.supsubToLatex(e)}};function Wd(t){return t?!/^(<$$>|<$>|<space>|<{>|<}>|#[0-9\?]|\\.+)$/.test(t):!1}var HU=class{constructor(t,e,r){this.errors=[],this.index=0,this.endCount=0;var i,n,a,s;r!=null||(r={}),this.tokens=t,this.context=e instanceof pi&&!(r!=null&&r.parseMode)&&!r.mathstyle?e:new pi({from:e,mathstyle:r.mathstyle},r.style),this.args=(i=r.args)!=null?i:void 0,this.smartFence=this.context.smartFence,this.parsingContext={parent:void 0,mathlist:[],style:(n=r.style)!=null?n:{},parseMode:(a=r.parseMode)!=null?a:"math",mathstyle:(s=r.mathstyle)!=null?s:"displaystyle",tabular:!1}}beginContext(t){var e,r,i,n,a,s;if(t!=null&&t.root){this.parsingContext={parent:this.parsingContext.parent,mathlist:[],style:{},parseMode:(e=t==null?void 0:t.mode)!=null?e:"math",mathstyle:(r=t==null?void 0:t.mathstyle)!=null?r:"displaystyle",tabular:(i=t==null?void 0:t.tabular)!=null?i:!1};return}let o=this.parsingContext,l={parent:o,mathlist:[],style:we({},o.style),parseMode:(n=t==null?void 0:t.mode)!=null?n:o.parseMode,mathstyle:(a=t==null?void 0:t.mathstyle)!=null?a:o.mathstyle,tabular:(s=t==null?void 0:t.tabular)!=null?s:!1};this.parsingContext=l}endContext(){this.parsingContext=this.parsingContext.parent}onError(t){this.errors.push(we({before:_1(this.tokens.slice(this.index,this.index+10)),after:_1(this.tokens.slice(Math.max(0,this.index-10),this.index))},t))}get mathlist(){return this.parsingContext.mathlist}set mathlist(t){this.parsingContext.mathlist=t}get parseMode(){return this.parsingContext.parseMode}set parseMode(t){this.parsingContext.parseMode=t}get tabularMode(){return this.parsingContext.tabular}get style(){let t=this.parsingContext;for(;t;){if(t.style)return we({},t.style);t=t.parent}return{}}set style(t){this.parsingContext.style=t}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}next(){this.index+=1}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}expandUnicode(){if(!this.peek()||this.parseMode!=="math")return;let t=Xwe(this.peek());t&&this.tokens.splice(this.index,1,...C2(t))}match(t){return this.tokens[this.index]===t?(this.index++,!0):!1}lastSubsupAtom(){let t;return this.mathlist.length>0&&(t=this.mathlist[this.mathlist.length-1],t.type==="subsup"||t.subsupPlacement!==void 0)||(t=new Hv({style:this.style}),this.mathlist.push(t)),t}hasPattern(t){return t.test(this.tokens[this.index])}hasInfixCommand(){var t;let{index:e}=this;if(e<this.tokens.length&&this.tokens[e].startsWith("\\")){let r=Ss(this.tokens[e],this.parseMode);return!r||r.definitionType==="symbol"||r.ifMode&&!r.ifMode.includes(this.parseMode)?!1:(t=r.infix)!=null?t:!1}return!1}matchColumnSeparator(){return!this.tabularMode||this.peek()!=="&"?!1:(this.index++,!0)}matchRowSeparator(){if(!this.tabularMode)return!1;let t=this.peek();return t!=="\\\\"&&t!=="\\cr"&&t!=="\\tabularnewline"?!1:(this.index++,!0)}placeholder(){var t;let e=(t=this.args)==null?void 0:t.call(this,"?");return e?Eo(e,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new H0({mode:this.parseMode,style:this.style})]}skipWhitespace(){for(;this.match("<space>"););}skipUntilToken(t){let e=this.tokens[this.index];for(;e&&e!==t;)e=this.tokens[++this.index];e===t&&this.index++}skipFiller(){for(;this.match("\\relax")||this.match("<space>"););}matchKeyword(t){let e=this.index,r=this.end(),i="";for(;!r;){let a=this.get();Wd(a)?(i+=a,r=this.end()||i.length>=t.length):r=!0}let n=t.toUpperCase()===i.toUpperCase();return n||(this.index=e),n}scanString(){let t="";for(;!this.end();){let e=this.peek();if(e==="]")return t;if(e==="<space>")t+=" ";else if(e.startsWith("\\"))this.onError({code:"unexpected-command-in-string"}),t+=e.substring(1);else if(Wd(e))t+=e;else return t;this.next()}return t}scanBalancedString(){let t="",e=this.end(),r=1;for(;!e;){let i=this.get();i==="<space>"?t+=" ":i==="<{>"?(t+="{",r+=1):i==="<}>"?(r-=1,r>0?t+="}":this.index-=1):i==="<$>"?t+="$":i==="<$$>"?t+="$$":t+=i,e=r===0||this.end()}return t}scanLiteralGroup(){var t;if(!this.match("<{>"))return"";let e="",r=1;for(;r>0&&!this.end();){let i=this.get();i==="<}>"?(r-=1,r>0&&(e+="}")):i==="<{>"?(r+=1,e+="{"):(/\\[a-zA-Z]+$/.test(e)&&/^[a-zA-Z]/.test(i)&&(e+=" "),e+=(t={"<space>":" ","<$$>":"$$","<$>":"$"}[i])!=null?t:i)}return e}scanNumber(t=!0){var e,r;let i=!1,n=this.peek();for(;n==="<space>"||n==="+"||n==="-";)this.get(),n==="-"&&(i=!i),n=this.peek();t=!!t;let a=10,s=/\d/;if(this.match("'"))a=8,s=/[0-7]/,t=!0;else if(this.match('"'))a=16,s=/[\dA-F]/,t=!0;else if(this.match("x"))a=16,s=/[\dA-Fa-f]/,t=!0;else if(this.match("`"))return n=this.get(),n?n.length===2&&n.startsWith("\\")?{number:(i?-1:1)*((e=n.codePointAt(1))!=null?e:0),base:"alpha"}:{number:(i?-1:1)*((r=n.codePointAt(0))!=null?r:0),base:"alpha"}:null;let o="";for(;this.hasPattern(s);)o+=this.get();if(!t&&(this.match(".")||this.match(",")))for(o+=".";this.hasPattern(s);)o+=this.get();let l=t?Number.parseInt(o,a):Number.parseFloat(o);return Number.isNaN(l)?null:{number:i?-l:l,base:a===16?"hexadecimal":a===8?"octal":"decimal"}}scanRegister(){var t;let e=this.index,r=this.scanNumber(!1);if(this.skipWhitespace(),this.match("\\relax"))return r;let i=!1;if(r===null)for(;;){let a=this.peek();if(a==="-")i=!i;else if(a!=="+")break;this.next(),this.skipWhitespace()}if(this.match("\\global")){this.skipWhitespace();let a=this.get();return a.startsWith("\\")?r?{register:a,global:!0,factor:(i?-1:1)*r.number}:i?{register:a,global:!0,factor:-1}:{register:a,global:!0}:(this.index=e,null)}let n=this.get();return n!=null&&n.startsWith("\\")?(n=n.substring(1),this.context.registers[n]?!i||r!==null?{register:n,factor:(i?-1:1)*((t=r==null?void 0:r.number)!=null?t:1)}:{register:n}:(this.index=e,null)):(this.index=e,null)}scanValue(){let t=this.scanRegister();if(t)return t;let e=this.index,r=this.scanGlueOrDimen();if(r&&("unit"in r||"glue"in r&&"unit"in r.glue))return r;this.index=e;let i=this.scanNumber();if(i)return i;if(this.end()||!Wd(this.peek()))return null;let n=this.scanString();return n.length>0?{string:n}:null}scanDimen(){let t=this.scanNumber(!1);if(t===null)return null;let e=t.number;this.skipWhitespace(),this.matchKeyword("true"),this.skipWhitespace();let r;return this.matchKeyword("pt")?r="pt":this.matchKeyword("mm")?r="mm":this.matchKeyword("cm")?r="cm":this.matchKeyword("ex")?r="ex":this.matchKeyword("px")?r="px":this.matchKeyword("em")?r="em":this.matchKeyword("bp")?r="bp":this.matchKeyword("dd")?r="dd":this.matchKeyword("pc")?r="pc":this.matchKeyword("in")?r="in":this.matchKeyword("mu")&&(r="mu"),r?{dimension:e,unit:r}:{dimension:e}}scanGlueOrDimen(){let t=this.scanDimen();if(t===null)return null;if(this.skipWhitespace(),this.match("\\relax"))return t;let e={glue:t};if(this.matchKeyword("plus")){let r=this.scanDimen();if(r)e.grow=r;else return e}if(this.skipWhitespace(),this.match("\\relax"))return e;if(this.skipWhitespace(),this.matchKeyword("minus")){let r=this.scanDimen();if(r)e.shrink=r;else return e}return!e.grow&&!e.shrink?t:e}scanColspec(){this.skipWhitespace();let t=[];for(;!this.end()&&!(this.peek()==="<}>"||this.peek()==="]");){let e=this.get();e==="c"||e==="r"||e==="l"?t.push({align:e}):e==="|"?t.push({separator:"solid"}):e===":"?t.push({separator:"dashed"}):e==="@"&&(this.match("<{>")&&(this.beginContext({mode:"math"}),t.push({gap:this.scan(r=>r==="<}>")}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return t}scanModeSet(){let t;if(this.match("\\(")&&(t="textstyle"),!t&&this.match("\\[")&&(t="displaystyle"),!t)return null;this.beginContext({mode:"math",mathstyle:t});let e=this.scan(r=>r===(t==="displaystyle"?"\\]":"\\)"));return this.match(t==="displaystyle"?"\\]":"\\)")||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanModeShift(){let t="";if(this.match("<$>")&&(t="<$>"),!t&&this.match("<$$>")&&(t="<$$>"),!t)return null;this.beginContext({mode:"math",mathstyle:t==="<$>"?"textstyle":"displaystyle"});let e=this.scan(r=>r===t);return this.match(t)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanEnvironment(){if(!this.match("\\begin"))return null;let t=this.scanArgument("string");if(!t)return null;let e=iMe(t);if(!e)return this.onError({code:"unknown-environment",arg:t}),null;let r=[];if(e.params)for(let o of e.params)if(o.isOptional)r.push(this.scanOptionalArgument(o.type));else{let l=this.scanArgument(o.type);l||this.onError({code:"missing-argument",arg:t}),r.push(l)}this.beginContext({tabular:e.tabular,root:e.rootOnly});let i=[],n=[],a=[],s=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:t}),s=!0),!s&&this.match("\\end")&&(this.scanArgument("string")!==t&&this.onError({code:"unbalanced-environment",arg:t}),s=!0),!s)if(this.matchColumnSeparator())a.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){a.push(this.mathlist),this.mathlist=[];let o=null;this.skipWhitespace(),this.match("[")&&(o=this.scanDimen(),this.skipWhitespace(),this.match("]")),n.push(o??{dimension:0}),i.push(a),a=[]}else this.mathlist.push(...this.scan(o=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(o)));while(!s);return a.push(this.mathlist),a.length>0&&i.push(a),this.endContext(),e.rootOnly&&(this.index=this.tokens.length),e.createAtom(t,i,n,r,this.context.maxMatrixCols)}scanExpression(){let t=this.mathlist;if(this.mathlist=[],this.parseExpression()){let e=this.mathlist;return this.mathlist=t,e}return this.mathlist=t,null}scan(t){this.beginContext(),t||(t=s=>s==="<}>");let e="",r=null,i=[],n=null;for(;!this.end()&&!t(this.peek());)this.hasInfixCommand()&&!e?(e=this.get(),r=Ss(e,"math"),r&&(i=this.scanArguments(r)[1]),n=this.mathlist,this.mathlist=[]):this.parseExpression();let a;return e?(i.unshift(this.mathlist),n&&i.unshift(n),a=[r.createAtom({command:e,args:i,style:this.style,mode:this.parseMode})]):a=this.mathlist,this.endContext(),a}scanGroup(){let t=this.index;if(!this.match("<{>"))return null;let e=this.scan(i=>i==="<}>");if(this.match("<}>")||this.onError({code:"unbalanced-braces"}),e.length===1&&e[0].type==="placeholder")return e[0];let r=new UU(e,this.parseMode);return r.verbatimLatex=_1(this.tokens.slice(t,this.index)),r}scanSmartFence(){if(this.skipWhitespace(),!this.match("("))return null;this.beginContext();let t=1;for(;!this.end()&&t!==0;)this.match("(")&&(t+=1),this.match(")")&&(t-=1),t!==0&&this.parseExpression();let e=new On("",this.mathlist,{leftDelim:"(",rightDelim:t===0?")":"?"});return this.endContext(),e}scanDelim(){this.skipWhitespace();let t=this.peek();if(!t)return this.onError({code:"unexpected-end-of-string"}),null;if(!Wd(t)&&!t.startsWith("\\"))return null;this.next();let e=Ss(t,"math");return e?e.definitionType==="function"&&e.ifMode&&!e.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:t}),null):e.definitionType==="symbol"&&(e.type==="mopen"||e.type==="mclose")||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(t)?t:(this.onError({code:"unexpected-delimiter",arg:t}),null):(this.onError({code:"unknown-command",arg:t}),null)}scanLeftRight(){var t;if(this.match("\\right"))return this.onError({code:"unbalanced-braces"}),new P1("\\right");if(this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),new P1("\\mright");let e="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;e="\\mright"}let r=this.scanDelim();if(!r)return this.onError({code:"unexpected-delimiter"}),new P1(e==="\\right"?"\\left":"\\mleft");for(this.beginContext();!this.end()&&!this.match(e);)this.parseExpression();let i=this.mathlist;this.endContext();let n=(t=this.scanDelim())!=null?t:".";return new On(e==="\\right"?"left...right":"mleft...mright",i,{leftDelim:r,rightDelim:n,style:this.style})}parseSupSub(){if(this.parseMode!=="math")return!1;let t=this.peek();if(t!=="^"&&t!=="_"&&t!=="'")return!1;let e=this.lastSubsupAtom();for(;t==="^"||t==="_"||t==="'";)this.match("'")?this.match("'")?e.addChild(new it({type:"mord",command:"\\doubleprime",mode:"math",value:"′′"}),"superscript"):e.addChild(new it({type:"mord",command:"\\prime",mode:"math",value:"′"}),"superscript"):(this.match("^")||this.match("_"))&&e.addChildren(Ft(this.scanArgument("expression")),t==="_"?"subscript":"superscript"),t=this.peek();return!0}parseLimits(){if(this.parseMode!=="math")return!1;let t=this.match("\\limits"),e=!t&&this.match("\\nolimits"),r=!e&&!t&&this.match("\\displaylimits");if(!t&&!e&&!r)return!1;let i=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return i===null?!1:(i.explicitSubsupPlacement=!0,t&&(i.subsupPlacement="over-under"),e&&(i.subsupPlacement="adjacent"),r&&(i.subsupPlacement="auto"),!0)}scanArguments(t){if(!(t!=null&&t.params))return[void 0,[]];let e,r=[],i=t.infix?2:0;for(;i<t.params.length;){let n=t.params[i];n.type==="rest"?r.push(this.scan(a=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(a))):n.isOptional?r.push(this.scanOptionalArgument(n.type)):n.type.endsWith("*")?e=n.type.slice(0,-1):r.push(this.scanArgument(n.type)),i+=1}return[e,r]}scanSymbolOrLiteral(){let t=this.peek();if(!t)return null;this.next();let e;if(Wd(t)){let r=Wo.createAtom(this.parseMode,t,we({},this.style));return r?[r]:null}if(e=this.scanMacro(t),e)return[e];if(t.startsWith("\\")){let r=Ss(t,this.parseMode);if(!r)return this.onError({code:"unknown-command",arg:t}),[new P1(t)];if(r.definitionType==="symbol"){let i=we({},this.style);r.variant&&(i.variant=r.variant),e=new it({type:r.type,command:t,style:i,value:String.fromCodePoint(r.codepoint),mode:this.parseMode,verbatimLatex:t})}else{if(r.applyMode||r.applyStyle||r.infix)return this.onError({code:"invalid-command",arg:t}),[new P1(t)];r.createAtom&&(e=r.createAtom({command:t,args:[],style:this.style,mode:this.parseMode}))}}return e?[e]:null}scanArgument(t){var e;this.skipFiller();let r=this.parseMode;if(t==="auto"&&(t=r),!this.match("<{>")){if(t==="string")return this.scanString();if(t==="value")return this.scanValue();if(t==="delim")return(e=this.scanDelim())!=null?e:".";if(t==="expression")return this.scanExpression();if(t==="math"){t!==r&&this.beginContext({mode:"math"});let n=this.scanSymbolOrLiteral();return t!==r&&this.endContext(),n}if(t==="text"){t!==r&&this.beginContext({mode:"text"});let n=this.scanSymbolOrLiteral();return t!==r&&this.endContext(),n}return t==="balanced-string"?null:t==="rest"?this.scan(n=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(n)):null}if(t==="text"){this.beginContext({mode:"text"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let n=this.mathlist;return this.endContext(),{group:n}}if(t==="math"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let n=this.mathlist;return this.endContext(),{group:n}}let i=null;if(t==="expression"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let n=this.mathlist;return this.endContext(),{group:n}}return t==="string"?i=this.scanString():t==="balanced-string"?i=this.scanBalancedString():t==="colspec"?i=this.scanColspec():t==="value"&&(i=this.scanValue()),this.skipUntilToken("<}>"),i}scanOptionalArgument(t){if(t=t==="auto"?this.parseMode:t,this.skipFiller(),!this.match("["))return null;let e=null;for(;!this.end()&&!this.match("]");)if(t==="string")e=this.scanString();else if(t==="value")e=this.scanValue();else if(t==="colspec")e=this.scanColspec();else if(t==="bbox"){let r={},i=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let n of i){let a=n.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(a)r.padding={dimension:parseInt(a[1]),unit:a[2]};else{let s=n.match(/^\s*border\s*:\s*(.*)/);s?r.border=s[1]:r.backgroundcolor={string:n}}}e=r}else t==="math"&&(this.beginContext({mode:"math"}),e=this.mathlist.concat(this.scan(r=>r==="]")),this.endContext());return e}scanSymbolOrCommand(t){var e,r,i;if(t==="\\placeholder"){let o=this.scanOptionalArgument("string"),l=this.scanOptionalArgument("math"),u=it.serialize(l,{defaultMode:"math"}),c=[],h;!h&&u==="correct"?h="correct":!h&&u==="incorrect"?h="incorrect":u!==""&&(c=l);let p=this.scanOptionalArgument("string")==="locked",d=this.scanArgument("auto"),m;return d&&Array.isArray(d)&&d.length>0?m=d:d&&typeof d=="object"&&"group"in d?m=d.group:m=c,o?[new ZU(o,h,p,m??c,{mode:this.parseMode,style:this.style})]:[new H0({mode:this.parseMode,style:this.style})]}if(t==="\\renewcommand"||t==="\\newcommand"||t==="\\providecommand"||t==="\\def"){let o=this.index,l=this.scanLiteralGroup()||this.next();if(!l)return null;if(this.context.registers[l.substring(1)]){let u=this.scanArgument("string");u!==null&&(this.context.registers[l.substring(1)]=u);let c=Hr([t,_1(this.tokens.slice(o,this.index))]);return[new it({type:"text",value:"",verbatimLatex:c})]}}let n=this.scanMacro(t);if(n)return[n];let a=Ss(t,this.parseMode);if(!a)return this.parseMode==="text"?(/[a-zA-Z]/.test((e=this.peek())!=null?e:"")&&(t+=" "),[...t].map(o=>new it({type:"text",value:o,mode:"text",style:this.style}))):(this.onError({code:"unknown-command",arg:t}),[new P1(t)]);let s=this.index;if(a.definitionType==="symbol"){let o=we({},this.style);a.variant&&(o.variant=a.variant),n=new it({type:a.type,command:t,style:o,value:String.fromCodePoint(a.codepoint),mode:this.parseMode})}else{if(a.ifMode&&!a.ifMode.includes(this.parseMode))return[];let o=this.parseMode;a.applyMode&&(this.parseMode=a.applyMode);let l,u=[];if(a.parse?u=a.parse(this):[l,u]=this.scanArguments(a),this.parseMode=o,a.applyMode&&!a.applyStyle&&!a.createAtom)return Ft(u[0]);if(a.infix)return this.onError({code:"too-many-infix-commands",arg:t}),null;if(typeof a.createAtom=="function")n=a.createAtom({command:t,args:u,style:this.style,mode:this.parseMode}),l&&(n.body=Ft(this.scanArgument(l)));else if(typeof a.applyStyle=="function"){let c=a.applyStyle(this.style,t,u,this.context),h=this.parseMode;if(a.applyMode&&(this.parseMode=a.applyMode),l){let p=this.style;this.style=c;let d=this.scanArgument(l);return this.style=p,this.parseMode=h,Ft(d)}this.style=c}else n=new it({type:"mord",command:(r=a.command)!=null?r:t,style:we({},this.style),value:t,mode:(i=a.applyMode)!=null?i:this.parseMode})}if(!n)return null;if(n instanceof it&&n.verbatimLatex===void 0&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(t)){let o=Hr([t,_1(this.tokens.slice(s,this.index))]);o&&(n.verbatimLatex=o)}if(n.verbatimLatex===null&&(n.verbatimLatex=void 0),n.isFunction&&this.smartFence){let o=this.scanSmartFence();if(o)return[n,o]}return[n]}scanSymbolCommandOrLiteral(){this.expandUnicode();let t=this.get();if(!t)return null;if(Wd(t)){let e=Wo.createAtom(this.parseMode,t,we({},this.style));if(!e)return null;if(e.isFunction&&this.smartFence){let r=this.scanSmartFence();if(r)return[e,r]}return[e]}return t.startsWith("\\")?this.scanSymbolOrCommand(t):t==="<space>"?this.parseMode==="text"?[new Gd(" "," ",this.style)]:null:(t==="<}>"?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:t}),null)}scanMacro(t){var e;let r=this.context.getMacro(t);if(!r)return null;let i=this.index,n=r.args,a={"?":(e=this.args)==null?void 0:e.call(this,"?")};for(let s=1;s<=n;s++){let o=this.scanLiteralGroup();if(!o){let l=this.index;this.scanExpression(),o=_1(this.tokens.slice(l,this.index))}a[s]=o}return new GU(t,{expand:r.expand,captureSelection:r.captureSelection,args:i===this.index?null:_1(this.tokens.slice(i,this.index)),style:this.parsingContext.style,body:Eo(r.def,{context:this.context,parseMode:this.parseMode,args:s=>a[s],mathstyle:this.parsingContext.mathstyle,style:this.parsingContext.style})})}parseExpression(){var t,e,r,i;let n=(i=(r=(e=(t=this.scanEnvironment())!=null?t:this.scanModeShift())!=null?e:this.scanModeSet())!=null?r:this.scanGroup())!=null?i:this.scanLeftRight();if(n===null){if(this.parseSupSub()||this.parseLimits())return!0;n=this.scanSymbolCommandOrLiteral()}return n?(hs(n)?this.mathlist.push(...n):this.mathlist.push(n),!0):!1}};function Eo(t,e){var r,i,n,a;let s=(r=e==null?void 0:e.args)!=null?r:void 0,o=new HU(C2(t,s),e==null?void 0:e.context,{args:s,mathstyle:(i=e==null?void 0:e.mathstyle)!=null?i:"displaystyle",parseMode:(n=e==null?void 0:e.parseMode)!=null?n:"math",style:(a=e==null?void 0:e.style)!=null?a:{}}),l=[];for(;!o.end();)l.push(...o.scan(()=>!1));return l}function dke(t,e){var r;let i=new HU(C2(t,null),e==null?void 0:e.context,{mathstyle:"displaystyle",parseMode:(r=e==null?void 0:e.parseMode)!=null?r:"math"});for(;!i.end();)i.scan();return i.errors}var WU=class uH extends it{constructor(e,r){super({type:"chem"},{command:e,mode:"math"});let i=xn.go(vt.go(r,e==="\\pu"?"pu":"ce"),!1);this.body=Eo(i),this._verbatimLatex=e+"{"+r+"}",this.arg=r,this.captureSelection=!0}static fromJson(e){return new uH(e.command,e.arg)}set verbatimLatex(e){}get verbatimLatex(){return this._verbatimLatex}toJson(){return je(we({},super.toJson()),{arg:this.arg})}render(e){let r=it.createBox(e,this.body,{type:"inner"});return this.caret&&(r.caret=this.caret),this.bind(e,r)}_serialize(e){return this.verbatimLatex,this.verbatimLatex}};ht(["ce","pu"],"{chemformula:balanced-string}",{createAtom:t=>{var e;return new WU(t.command,(e=t.args[0])!=null?e:"")}});var vt={go:function(t,e){if(!t)return[];e===void 0&&(e="ce");var r="0",i={};i.parenthesisLevel=0,t=t.replace(/\n/g," "),t=t.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),t=t.replace(/[\u2026]/g,"...");for(var n,a=10,s=[];;){n!==t?(a=10,n=t):a--;var o=vt.stateMachines[e],l=o.transitions[r]||o.transitions["*"];e:for(var u=0;u<l.length;u++){var c=vt.patterns.match_(l[u].pattern,t);if(c){for(var h=l[u].task,p=0;p<h.action_.length;p++){var d;if(o.actions[h.action_[p].type_])d=o.actions[h.action_[p].type_](i,c.match_,h.action_[p].option);else if(vt.actions[h.action_[p].type_])d=vt.actions[h.action_[p].type_](i,c.match_,h.action_[p].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+h.action_[p].type_+")"];vt.concatArray(s,d)}if(r=h.nextState||r,t.length>0){if(h.revisit||(t=c.remainder),!h.toContinue)break e}else return s}}if(a<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,e){if(e)if(Object.prototype.toString.call(e)==="[object Array]")for(var r=0;r<e.length;r++)t.push(e[r]);else t.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"(-)(9)^(-9)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"state of aggregation $":function(t){var e=vt.patterns.findObserveGroups(t,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(e&&e.remainder.match(/^($|[\s,;\)\]\}])/))return e;var r=t.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return r?{match_:r[0],remainder:t.substr(r[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(t){return vt.patterns.findObserveGroups(t,"^{","","","}")},"^($...$)":function(t){return vt.patterns.findObserveGroups(t,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(t){return vt.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(t){return vt.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(t){return vt.patterns.findObserveGroups(t,"_{","","","}")},"_($...$)":function(t){return vt.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(t){return vt.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(t){return vt.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(t){return vt.patterns.findObserveGroups(t,"","{","}","")},"{(...)}":function(t){return vt.patterns.findObserveGroups(t,"{","","","}")},"$...$":function(t){return vt.patterns.findObserveGroups(t,"","$","$","")},"${(...)}$":function(t){return vt.patterns.findObserveGroups(t,"${","","","}$")},"$(...)$":function(t){return vt.patterns.findObserveGroups(t,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(t){return vt.patterns.findObserveGroups(t,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(t){return vt.patterns.findObserveGroups(t,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(t){return vt.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(t){return vt.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(t){return vt.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(t){return vt.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return vt.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return vt.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(t){return vt.patterns.findObserveGroups(t,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(t){return vt.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(t){return vt.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(t){return vt.patterns.findObserveGroups(t,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(t){var e;if(e=t.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),e)return{match_:e[0],remainder:t.substr(e[0].length)};var r=vt.patterns.findObserveGroups(t,"","$","$","");return r&&(e=r.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/),e)?{match_:e[0],remainder:t.substr(e[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;var e=t.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return e?{match_:e[0],remainder:t.substr(e[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,e,r,i,n,a,s,o,l,u){var c=function(y,x){if(typeof x=="string")return y.indexOf(x)!==0?null:x;var g=y.match(x);return g?g[0]:null},h=function(y,x,g){for(var b=0;x<y.length;){var k=y.charAt(x),w=c(y.substr(x),g);if(w!==null&&b===0)return{endMatchBegin:x,endMatchEnd:x+w.length};if(k==="{")b++;else if(k==="}"){if(b===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];b--}x++}return null},p=c(t,e);if(p===null||(t=t.substr(p.length),p=c(t,r),p===null))return null;var d=h(t,p.length,i||n);if(d===null)return null;var m=t.substring(0,i?d.endMatchEnd:d.endMatchBegin);if(a||s){var f=this.findObserveGroups(t.substr(d.endMatchEnd),a,s,o,l);if(f===null)return null;var v=[m,f.match_];return{match_:u?v.join(""):v,remainder:f.remainder}}else return{match_:m,remainder:t.substr(d.endMatchEnd)}},match_:function(t,e){var r=vt.patterns.patterns[t];if(r===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+t+")"];if(typeof r=="function")return vt.patterns.patterns[t](e);var i=e.match(r);if(i){var n;return i[2]?n=[i[1],i[2]]:i[1]?n=i[1]:n=i[0],{match_:n,remainder:e.substr(i[0].length)}}return null}},actions:{"a=":function(t,e){t.a=(t.a||"")+e},"b=":function(t,e){t.b=(t.b||"")+e},"p=":function(t,e){t.p=(t.p||"")+e},"o=":function(t,e){t.o=(t.o||"")+e},"q=":function(t,e){t.q=(t.q||"")+e},"d=":function(t,e){t.d=(t.d||"")+e},"rm=":function(t,e){t.rm=(t.rm||"")+e},"text=":function(t,e){t.text_=(t.text_||"")+e},insert:function(t,e,r){return{type_:r}},"insert+p1":function(t,e,r){return{type_:r,p1:e}},"insert+p1+p2":function(t,e,r){return{type_:r,p1:e[0],p2:e[1]}},copy:function(t,e){return e},rm:function(t,e){return{type_:"rm",p1:e||""}},text:function(t,e){return vt.go(e,"text")},"{text}":function(t,e){var r=["{"];return vt.concatArray(r,vt.go(e,"text")),r.push("}"),r},"tex-math":function(t,e){return vt.go(e,"tex-math")},"tex-math tight":function(t,e){return vt.go(e,"tex-math tight")},bond:function(t,e,r){return{type_:"bond",kind_:r||e}},"color0-output":function(t,e){return{type_:"color0",color:e[0]}},ce:function(t,e){return vt.go(e)},"1/2":function(t,e){var r=[];e.match(/^[+\-]/)&&(r.push(e.substr(0,1)),e=e.substr(1));var i=e.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return i[1]=i[1].replace(/\$/g,""),r.push({type_:"frac",p1:i[1],p2:i[2]}),i[3]&&(i[3]=i[3].replace(/\$/g,""),r.push({type_:"tex-math",p1:i[3]})),r},"9,9":function(t,e){return vt.go(e,"9,9")}},createTransitions:function(t){var e,r,i,n,a={};for(e in t)for(r in t[e])for(i=r.split("|"),t[e][r].stateArray=i,n=0;n<i.length;n++)a[i[n]]=[];for(e in t)for(r in t[e])for(i=t[e][r].stateArray||[],n=0;n<i.length;n++){var s=t[e][r];if(s.action_){s.action_=[].concat(s.action_);for(var o=0;o<s.action_.length;o++)typeof s.action_[o]=="string"&&(s.action_[o]={type_:s.action_[o]})}else s.action_=[];for(var l=e.split("|"),u=0;u<l.length;u++)if(i[n]==="*")for(var c in a)a[c].push({pattern:l[u],task:s});else a[i[n]].push({pattern:l[u],task:s})}return a},stateMachines:{}};vt.stateMachines={ce:{transitions:vt.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(t,e){var r;if((t.d||"").match(/^[0-9]+$/)){var i=t.d;t.d=void 0,r=this.output(t),t.b=i}else r=this.output(t);return vt.actions["o="](t,e),r},"d= kv":function(t,e){t.d=e,t.dType="kv"},"charge or bond":function(t,e){if(t.beginsWithBond){var r=[];return vt.concatArray(r,this.output(t)),vt.concatArray(r,vt.actions.bond(t,e,"-")),r}else t.d=e},"- after o/d":function(t,e,r){var i=vt.patterns.match_("orbital",t.o||""),n=vt.patterns.match_("one lowercase greek letter $",t.o||""),a=vt.patterns.match_("one lowercase latin letter $",t.o||""),s=vt.patterns.match_("$one lowercase latin letter$ $",t.o||""),o=e==="-"&&(i&&i.remainder===""||n||a||s);o&&!t.a&&!t.b&&!t.p&&!t.d&&!t.q&&!i&&a&&(t.o="$"+t.o+"$");var l=[];return o?(vt.concatArray(l,this.output(t)),l.push({type_:"hyphen"})):(i=vt.patterns.match_("digits",t.d||""),r&&i&&i.remainder===""?(vt.concatArray(l,vt.actions["d="](t,e)),vt.concatArray(l,this.output(t))):(vt.concatArray(l,this.output(t)),vt.concatArray(l,vt.actions.bond(t,e,"-")))),l},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(t,e){return{type_:"state of aggregation",p1:vt.go(e,"o")}},comma:function(t,e){var r=e.replace(/\s*$/,""),i=r!==e;return i&&t.parenthesisLevel===0?{type_:"comma enumeration L",p1:r}:{type_:"comma enumeration M",p1:r}},output:function(t,e,r){var i;if(!t.r)i=[],!t.a&&!t.b&&!t.p&&!t.o&&!t.q&&!t.d&&!r||(t.sb&&i.push({type_:"entitySkip"}),!t.o&&!t.q&&!t.d&&!t.b&&!t.p&&r!==2?(t.o=t.a,t.a=void 0):!t.o&&!t.q&&!t.d&&(t.b||t.p)?(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):t.o&&t.dType==="kv"&&vt.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&t.dType==="kv"&&!t.q&&(t.dType=void 0),i.push({type_:"chemfive",a:vt.go(t.a,"a"),b:vt.go(t.b,"bd"),p:vt.go(t.p,"pq"),o:vt.go(t.o,"o"),q:vt.go(t.q,"pq"),d:vt.go(t.d,t.dType==="oxidation"?"oxidation":"bd"),dType:t.dType}));else{var n;t.rdt==="M"?n=vt.go(t.rd,"tex-math"):t.rdt==="T"?n=[{type_:"text",p1:t.rd||""}]:n=vt.go(t.rd);var a;t.rqt==="M"?a=vt.go(t.rq,"tex-math"):t.rqt==="T"?a=[{type_:"text",p1:t.rq||""}]:a=vt.go(t.rq),i={type_:"arrow",r:t.r,rd:n,rq:a}}for(var s in t)s!=="parenthesisLevel"&&s!=="beginsWithBond"&&delete t[s];return i},"oxidation-output":function(t,e){var r=["{"];return vt.concatArray(r,vt.go(e,"oxidation")),r.push("}"),r},"frac-output":function(t,e){return{type_:"frac-ce",p1:vt.go(e[0]),p2:vt.go(e[1])}},"overset-output":function(t,e){return{type_:"overset",p1:vt.go(e[0]),p2:vt.go(e[1])}},"underset-output":function(t,e){return{type_:"underset",p1:vt.go(e[0]),p2:vt.go(e[1])}},"underbrace-output":function(t,e){return{type_:"underbrace",p1:vt.go(e[0]),p2:vt.go(e[1])}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:vt.go(e[1])}},"r=":function(t,e){t.r=e},"rdt=":function(t,e){t.rdt=e},"rd=":function(t,e){t.rd=e},"rqt=":function(t,e){t.rqt=e},"rq=":function(t,e){t.rq=e},operator:function(t,e,r){return{type_:"operator",kind_:r||e}}}},a:{transitions:vt.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:vt.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:vt.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){var e={type_:"text",p1:t.text_};for(var r in t)delete t[r];return e}}}},pq:{transitions:vt.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(t,e){return{type_:"state of aggregation subscript",p1:vt.go(e,"o")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:vt.go(e[1],"pq")}}}},bd:{transitions:vt.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(t,e){return{type_:"color",color1:e[0],color2:vt.go(e[1],"bd")}}}},oxidation:{transitions:vt.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(t,e){return{type_:"roman numeral",p1:e||""}}}},"tex-math":{transitions:vt.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"tex-math tight":{transitions:vt.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,e){t.o=(t.o||"")+"{"+e+"}"},output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"9,9":{transitions:vt.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:vt.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(t,e){var r=[];return e[0]==="+-"||e[0]==="+/-"?r.push("\\pm "):e[0]&&r.push(e[0]),e[1]&&(vt.concatArray(r,vt.go(e[1],"pu-9,9")),e[2]&&(e[2].match(/[,.]/)?vt.concatArray(r,vt.go(e[2],"pu-9,9")):r.push(e[2])),(e[3]||e[4])&&(e[3]==="e"||e[4]==="*"?r.push({type_:"cdot"}):r.push({type_:"times"}))),e[5]&&r.push("10^{"+e[5]+"}"),r},"number^":function(t,e){var r=[];return e[0]==="+-"||e[0]==="+/-"?r.push("\\pm "):e[0]&&r.push(e[0]),vt.concatArray(r,vt.go(e[1],"pu-9,9")),r.push("^{"+e[2]+"}"),r},operator:function(t,e,r){return{type_:"operator",kind_:r||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){var e,r=vt.patterns.match_("{(...)}",t.d||"");r&&r.remainder===""&&(t.d=r.match_);var i=vt.patterns.match_("{(...)}",t.q||"");if(i&&i.remainder===""&&(t.q=i.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q){t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var n={d:vt.go(t.d,"pu"),q:vt.go(t.q,"pu")};t.o==="//"?e={type_:"pu-frac",p1:n.d,p2:n.q}:(e=n.d,n.d.length>1||n.q.length>1?e.push({type_:" / "}):e.push({type_:"/"}),vt.concatArray(e,n.q))}else e=vt.go(t.d,"pu-2");for(var a in t)delete t[a];return e}}},"pu-2":{transitions:vt.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,e){t.rm+="^{"+e+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){var e=[];if(t.rm){var r=vt.patterns.match_("{(...)}",t.rm||"");r&&r.remainder===""?e=vt.go(r.match_,"pu"):e={type_:"rm",p1:t.rm}}for(var i in t)delete t[i];return e}}},"pu-9,9":{transitions:vt.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){var r=t.text_.length%3;r===0&&(r=3);for(var i=t.text_.length-3;i>0;i-=3)e.push(t.text_.substr(i,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(0,r)),e.reverse()}else e.push(t.text_);for(var n in t)delete t[n];return e},"output-o":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){for(var r=t.text_.length-3,i=0;i<r;i+=3)e.push(t.text_.substr(i,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(i))}else e.push(t.text_);for(var n in t)delete t[n];return e}}}};var xn={go:function(t,e){if(!t)return"";for(var r="",i=!1,n=0;n<t.length;n++){var a=t[n];typeof a=="string"?r+=a:(r+=xn._go2(a),a.type_==="1st-level escape"&&(i=!0))}return!e&&!i&&r&&(r="{"+r+"}"),r},_goInner:function(t){return t&&xn.go(t,!0)},_go2:function(t){var e;switch(t.type_){case"chemfive":e="";var r={a:xn._goInner(t.a),b:xn._goInner(t.b),p:xn._goInner(t.p),o:xn._goInner(t.o),q:xn._goInner(t.q),d:xn._goInner(t.d)};r.a&&(r.a.match(/^[+\-]/)&&(r.a="{"+r.a+"}"),e+=r.a+"\\,"),(r.b||r.p)&&(e+="{\\vphantom{X}}",e+="^{\\hphantom{"+(r.b||"")+"}}_{\\hphantom{"+(r.p||"")+"}}",e+="{\\vphantom{X}}",e+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(r.b||"")+"}}",e+="_{\\vphantom{2}\\llap{\\smash[t]{"+(r.p||"")+"}}}"),r.o&&(r.o.match(/^[+\-]/)&&(r.o="{"+r.o+"}"),e+=r.o),t.dType==="kv"?((r.d||r.q)&&(e+="{\\vphantom{X}}"),r.d&&(e+="^{"+r.d+"}"),r.q&&(e+="_{\\smash[t]{"+r.q+"}}")):t.dType==="oxidation"?(r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"),r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}")):(r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}"),r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"));break;case"rm":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+xn._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+xn._goInner(t.p1);break;case"bond":if(e=xn._getBond(t.kind_),!e)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":var i="\\frac{"+t.p1+"}{"+t.p2+"}";e="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"pu-frac":var n="\\frac{"+xn._goInner(t.p1)+"}{"+xn._goInner(t.p2)+"}";e="\\mathchoice{\\textstyle"+n+"}{"+n+"}{"+n+"}{"+n+"}";break;case"tex-math":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+xn._goInner(t.p1)+"}{"+xn._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+xn._goInner(t.p1)+"}{"+xn._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+xn._goInner(t.p1)+"}{"+xn._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+xn._goInner(t.p1)+"}_{"+xn._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+xn._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":var a={rd:xn._goInner(t.rd),rq:xn._goInner(t.rq)},s=xn._getArrow(t.r);a.rd||a.rq?t.r==="<=>"||t.r==="<=>>"||t.r==="<<=>"||t.r==="<-->"?(s="\\long"+s,a.rd&&(s="\\overset{"+a.rd+"}{"+s+"}"),a.rq&&(t.r==="<-->"?s="\\underset{\\lower2mu{"+a.rq+"}}{"+s+"}":s="\\underset{\\lower6mu{"+a.rq+"}}{"+s+"}"),s=" {}\\mathrel{"+s+"}{} "):(a.rq&&(s+="[{"+a.rq+"}]"),s+="{"+a.rd+"}",s=" {}\\mathrel{\\x"+s+"}{} "):s=" {}\\mathrel{\\long"+s+"}{} ",e=s;break;case"operator":e=xn._getOperator(t.kind_);break;case"1st-level escape":e=t.p1+" ";break;case"space":e=" ";break;case"entitySkip":e="~";break;case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return e},_getArrow:function(t){switch(t){case"->":return"rightarrow";case"→":return"rightarrow";case"⟶":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"leftrightarrows";case"<=>":return"rightleftharpoons";case"⇌":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}},YU=class cH extends it{constructor(e){super(je(we({},e),{type:"delim"})),this.value=e.delim,this.size=e.size}static fromJson(e){return new cH(e)}toJson(){return je(we({},super.toJson()),{delim:this.value,size:this.size})}render(e){return new kt(this.value,{type:"middle"})}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ss(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):rn(this.command,this.value)}},KU=class hH extends it{constructor(e){super(je(we({},e),{type:"sizeddelim",value:e.delim})),this.delimType=e.delimType,this.size=e.size}static fromJson(e){return new hH(e)}toJson(){return je(we({},super.toJson()),{delim:this.value,size:this.size,delimType:this.delimType})}render(e){let r=QMe(this.value,this.size,e,{classes:{open:"ML__open",close:"ML__close"}[this.delimType],type:this.delimType,isSelected:this.isSelected});return r?(r=this.bind(e,r),this.caret&&(r.caret=this.caret),r):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ss(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):rn(this.command,this.value)}},$2=class pH extends it{constructor(e,r,i,n){var a,s;super({type:"enclose",command:e,style:n.style}),this.body=r,this.backgroundcolor=n.backgroundcolor,i.updiagonalarrow&&(i.updiagonalstrike=!1),i.box&&(i.left=!1,i.right=!1,i.bottom=!1,i.top=!1),this.notation=i,this.shadow=(a=n.shadow)!=null?a:"none",this.strokeWidth=(s=n.strokeWidth)!=null?s:"0.06em",this.strokeWidth||(this.strokeWidth="0.06em"),this.strokeStyle=n.strokeStyle,this.svgStrokeStyle=n.svgStrokeStyle,this.strokeColor=n.strokeColor,this.borderStyle=n.borderStyle,this.padding=n.padding,this.captureSelection=!1}static fromJson(e){return new pH(e.command,e.body,e.notation,e)}toJson(){return je(we({},super.toJson()),{notation:this.notation,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding})}_serialize(e){var r;if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let i=Ss(this.command,this.mode);if(i!=null&&i.serialize)return i.serialize(this,e);let n=(r=this.command)!=null?r:"";if(this.command==="\\enclose"){n+="{"+Object.keys(this.notation).join(" ")+"}";let a="",s="";this.backgroundcolor&&this.backgroundcolor!=="transparent"&&(a+=s+'mathbackground="'+this.backgroundcolor+'"',s=","),this.shadow&&this.shadow!=="auto"&&(a+=s+'shadow="'+this.shadow+'"',s=","),this.strokeWidth||this.strokeStyle!=="solid"?(a+=s+this.borderStyle,s=","):this.strokeColor&&this.strokeColor!=="currentColor"&&(a+=s+'mathcolor="'+this.strokeColor+'"',s=","),a&&(n+=`[${a}]`)}return rn(n,this.bodyToLatex(e))}render(e){let r=new pi({parent:e},this.style),i=it.createBox(r,this.body);if(!i)return null;let n=mke(this.borderStyle),a=r.toEm(!this.padding||this.padding==="auto"?{register:"fboxsep"}:{string:this.padding});i.setStyle("position","relative"),i.setStyle("display","inline-block"),i.setStyle("top",a,"em"),i.setStyle("height",i.height+i.depth,"em"),i.setStyle("width",i.width,"em");let s=new kt(null,{classes:"ML__notation"}),o=i.height+i.depth+2*a,l=i.width+2*a,u="";if(this.notation.horizontalstrike&&(u+=this.line(3,50,97,50)),this.notation.verticalstrike&&(u+=this.line(50,3,50,97)),this.notation.updiagonalstrike&&(u+=this.line(3,97,97,3)),this.notation.downdiagonalstrike&&(u+=this.line(3,3,97,97)),this.notation.updiagonalarrow){u+=this.line(a.toString(),(a+i.depth+i.height).toString(),(a+i.width).toString(),a.toString());let p=.03*Math.sqrt(l*l+o*o)*1,d=i.width*p,m=(i.depth+i.height)*p,f=a+i.width,v=a;v+m-.4*d<0&&(v=.4*d-m),u+='<polygon points="',u+=`${f},${v} ${f-d-.4*m},${v+m-.4*d} `,u+=`${f-.7*d},${v+.7*m} ${f-d+.4*m},${v+m+.4*d} `,u+=`${f},${v}`,u+=`" stroke='none' fill="${this.strokeColor}"`,u+="/>"}let c=0;if(this.notation.phasorangle){let p=XU(r),d=(i.height+i.depth+2*p+a).toString(),m=(i.height+i.depth)/2;u+=this.line(a.toString(),d,(a+m+i.width).toString(),d),u+=this.line(a.toString(),d,(a+m).toString(),(a-p).toString()),o+=p,c=m,i.left+=o/2-a}if(this.notation.longdiv){let p=XU(r);o+=p,u+=this.line(a.toString(),a.toString(),(a+i.width).toString(),a.toString());let d=.3;c=d+p,i.left+=d+p,i.setTop(a+p),u+='<path d="',u+=`M ${a} ${a}  a${d} ${(i.depth+i.height+2*p)/2}, 0, 1, 1, 0 ${i.depth+i.height+2*p} "`,u+=` stroke-width="${fke(r)}" stroke="${this.strokeColor}" fill="none"`,u+="/>"}if(s.width=i.width+2*a+c,s.height=i.height+a,s.depth=i.depth+a,s.setStyle("box-sizing","border-box"),s.setStyle("left",`calc(-${n} / 2 )`),s.setStyle("height",`${Math.floor(100*o)/100}em`),s.setStyle("top",`calc(${n} / 2 )`),this.backgroundcolor&&s.setStyle("background-color",this.backgroundcolor),this.notation.box&&s.setStyle("border","1px solid red"),this.notation.actuarial&&(s.setStyle("border-top",this.borderStyle),s.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(s.setStyle("border-bottom",this.borderStyle),s.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(s.setStyle("border-radius","8px"),s.setStyle("border",this.borderStyle)),this.notation.circle&&(s.setStyle("border-radius","50%"),s.setStyle("border",this.borderStyle)),this.notation.top&&s.setStyle("border-top",this.borderStyle),this.notation.left&&s.setStyle("border-left",this.borderStyle),this.notation.right&&s.setStyle("border-right",this.borderStyle),this.notation.bottom&&s.setStyle("border-bottom",this.borderStyle),u){let p="";this.shadow==="auto"&&(p+="filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)"),this.shadow!=="none"&&(p+=`filter: drop-shadow(${this.shadow})`),p+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,p+=' stroke-linecap="round"',this.svgStrokeStyle&&(p+=` stroke-dasharray="${this.svgStrokeStyle}"`),s.svgStyle=p,s.svgOverlay=u}let h=new kt([s,i]);return h.setStyle("position","relative"),h.setStyle("vertical-align",a,"em"),h.setStyle("height",`${Math.floor(100*(i.height+i.depth+2*a))/100}em`),h.setStyle("display","inline-block"),h.height=s.height,h.depth=s.depth,h.width=s.width-2*a,h.left=a,h.right=a,this.caret&&(h.caret=this.caret),h.wrap(r)}line(e,r,i,n){return`<line x1="${Wv(e)}"  y1="${Wv(r)}" x2="${Wv(i)}" y2="${Wv(n)}" vector-effect="non-scaling-stroke"></line>`}};function Wv(t){return typeof t=="number"?`${Math.floor(100*t)/100}%`:t}function mke(t){if(!t)return"1px";let e=t.match(/([0-9][a-zA-Z\%]+)/);return e===null?"1px":e[1]}function fke(t){return(Math.floor(100*t.metrics.sqrtRuleThickness/t.scalingFactor)/100/10).toString()+"em"}function XU(t){let e=t.isDisplayStyle?uh:t.metrics.defaultRuleThickness;return t.metrics.defaultRuleThickness+t.scalingFactor*e/4}var Yv={fractionNavigationOrder:"numerator-denominator"},R1=class dH extends it{constructor(e,r,i){var n,a,s;super(je(we({},i),{type:"genfrac",displayContainsHighlight:!0})),this.above=e,this.below=r,this.hasBarLine=(n=i==null?void 0:i.hasBarLine)!=null?n:!0,this.continuousFraction=(a=i==null?void 0:i.continuousFraction)!=null?a:!1,this.align=(s=i==null?void 0:i.align)!=null?s:"center",this.numerPrefix=i==null?void 0:i.numerPrefix,this.denomPrefix=i==null?void 0:i.denomPrefix,this.mathstyleName=i==null?void 0:i.mathstyleName,this.leftDelim=i==null?void 0:i.leftDelim,this.rightDelim=i==null?void 0:i.rightDelim}static fromJson(e){return new dH(e.above,e.below,e)}toJson(){let e={};return this.continuousFraction&&(e.continuousFraction=!0),this.align!=="center"&&(e.align=this.align),this.numerPrefix&&(e.numerPrefix=this.numerPrefix),this.denomPrefix&&(e.denomPrefix=this.denomPrefix),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.hasBarLine||(e.hasBarLine=!1),this.mathstyleName&&(e.mathstyleName=this.mathstyleName),we(we({},super.toJson()),e)}get children(){if(this._children)return this._children;let e=[];if(Yv.fractionNavigationOrder==="denominator-numerator"){for(let r of this.below)e.push(...r.children),e.push(r);for(let r of this.above)e.push(...r.children),e.push(r)}else{for(let r of this.above)e.push(...r.children),e.push(r);for(let r of this.below)e.push(...r.children),e.push(r)}return this._children=e,e}render(e){var r,i;let n=new pi({parent:e,mathstyle:this.mathstyleName},this.style),a=n.metrics,s=new pi({parent:n,mathstyle:this.continuousFraction?"":"numerator"},this.style),o=this.numerPrefix?new kt([new kt(this.numerPrefix),it.createBox(s,this.above)],{isTight:s.isTight,type:"ignore"}):(r=it.createBox(s,this.above,{type:"ignore"}))!=null?r:new kt(null,{type:"ignore"}),l=new pi({parent:n,mathstyle:this.continuousFraction?"":"denominator"},this.style),u=this.denomPrefix?new kt([new kt(this.denomPrefix),it.createBox(l,this.below,{type:"ignore"})]):(i=it.createBox(l,this.below,{type:"ignore"}))!=null?i:new kt(null,{type:"ignore"}),c=this.hasBarLine?a.defaultRuleThickness:0,h,p=0,d;n.isDisplayStyle?(h=s.metrics.num1,p=c>0?3*c:7*c,d=l.metrics.denom1):(c>0?(h=s.metrics.num2,p=c):(h=s.metrics.num3,p=3*a.defaultRuleThickness),d=l.metrics.denom2);let m=[];this.isSelected&&m.push("ML__selected");let f=o.depth,v=u.height,y;if(c<=0){let N=h-f-(v-d);N<p&&(h+=(p-N)/2,d+=(p-N)/2),y=new ba({individualShift:[{box:o,shift:-h,classes:[...m,Kv(this.align)]},{box:u,shift:d,classes:[...m,Kv(this.align)]}]}).wrap(n)}else{let N=new kt(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});N.softWidth=Math.max(o.width,u.width),N.height=c/2,N.depth=c/2;let A=c0+c/2;h<p+f+A&&(h=p+f+A);let $=c0-c/2;d<p+v-$&&(d=p+v-$),y=new ba({individualShift:[{box:u,shift:d,classes:[...m,Kv(this.align)]},{box:N,shift:-$,classes:m},{box:o,shift:-h,classes:[...m,Kv(this.align)]}]}).wrap(n)}let x=n.isDisplayStyle?a.delim1:a.delim2,g=this.leftDelim?this.bind(e,Vv("open",this.leftDelim,x,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):O1(n,"ML__open"),b=null;this.continuousFraction?b=new kt(null,{type:"close"}):this.rightDelim?b=this.bind(e,Vv("close",this.rightDelim,x,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):b=O1(n,"ML__close");let k=new kt([g,y,b],{isTight:n.isTight,type:"inner",classes:"ML__mfrac"}),w=this.bind(e,k);return this.caret&&(w.caret=this.caret),this.attachSupsub(e,{base:w})}};function Kv(t){var e;return(e={left:"ML__left",right:"ML__right",center:"ML__center"}[t])!=null?e:"ML__center"}var Ha=class mH extends it{constructor(e,r){var i;super({type:"latex",value:e,mode:"latex"}),this.isSuggestion=(i=r==null?void 0:r.isSuggestion)!=null?i:!1,this.isError=!1}static fromJson(e){let r=new mH(e.value);return e.isSuggestion&&(r.isSuggestion=!0),e.isError&&(r.isError=!0),r}toJson(){let e={};return this.isSuggestion&&(e.isSuggestion=!0),this.isError&&(e.isError=!0),we({type:"latex",value:this.value},e)}render(e){let r=new kt(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}},_2=class fH extends it{constructor(e=""){super({type:"latexgroup",mode:"latex"}),this.body=[...e].map(r=>new Ha(r)),this.skipBoundary=!0}static fromJson(e){return new fH}toJson(){return super.toJson()}render(e){let r=it.createBox(e,this.body);return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}_serialize(e){var r,i;return(i=(r=this.body)==null?void 0:r.map(n=>n.value).join(""))!=null?i:""}},iM=class gH extends it{constructor(e,r){super(je(we({},r),{type:"extensible-symbol",isFunction:r==null?void 0:r.isFunction})),this.value=e,this.variant=r==null?void 0:r.variant,this.subsupPlacement=r==null?void 0:r.limits}static fromJson(e){return new gH(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var r;let i=e.isDisplayStyle&&this.value!=="\\smallint",n=new kt(this.value,{fontFamily:i?"Size2-Regular":"Size1-Regular",classes:"ML__op-symbol "+(i?"ML__large-op":"ML__small-op"),type:"op",maxFontSize:e.scalingFactor,isSelected:this.isSelected});if(!n)return null;n.right=n.italic;let a=(n.height-n.depth)/2-c0*e.scalingFactor,s=n.italic;n.setTop(a);let o=n;if(this.superscript||this.subscript){let l=(r=this.subsupPlacement)!=null?r:"auto";l==="auto"&&e.isDisplayStyle&&(l="over-under"),o=l==="over-under"?this.attachLimits(e,{base:n,baseShift:a,slant:s}):this.attachSupsub(e,{base:n})}return new kt(this.bind(e,o),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ss(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let i=[];return i.push(this.command),this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&i.push("\\limits"),this.subsupPlacement==="adjacent"&&i.push("\\nolimits"),this.subsupPlacement==="auto"&&i.push("\\displaylimits")),i.push(this.supsubToLatex(e)),Hr(i)}},j1=class vH extends it{constructor(e){let r=e.body;super(je(we({},e),{type:"overlap",body:typeof r=="string"?[new it({value:r})]:r,style:e==null?void 0:e.style})),this.skipBoundary=!0,this.align=e==null?void 0:e.align,this.boxType=e==null?void 0:e.boxType}static fromJson(e){return new vH(e)}toJson(){let e={};return this.align&&(e.align=this.align),this.boxType&&(e.boxType=this.boxType),we(we({},super.toJson()),e)}render(e){let r=it.createBox(e,this.body,{classes:"ML__inner"});return r?(this.caret&&(r.caret=this.caret),this.bind(e,new kt([r,new kt(null,{classes:"ML__fix"})],{classes:this.align==="right"?"ML__rlap":"ML__llap",type:this.boxType}))):null}},Tl=class yH extends it{constructor(e){var r,i,n,a;super({type:"overunder",command:e.command,style:e.style,mode:e.mode,body:e.body,skipBoundary:(r=e.skipBoundary)!=null?r:!0}),this.subsupPlacement=e.supsubPlacement,this.svgAbove=e.svgAbove,this.svgBelow=e.svgBelow,this.svgBody=e.svgBody,this.above=e.above,this.below=e.below,this.boxType=(i=e.boxType)!=null?i:"ord",this.paddedBody=(n=e.paddedBody)!=null?n:!1,this.paddedLabels=(a=e.paddedLabels)!=null?a:!1}static fromJson(e){return new yH(e)}toJson(){let e=super.toJson();return this.skipBoundary||(e.skipBoundary=!1),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.svgAbove&&(e.svgAbove=this.svgAbove),this.svgBelow&&(e.svgBelow=this.svgBelow),this.svgBody&&(e.svgBody=this.svgBody),this.boxType!=="ord"&&(e.boxType=this.boxType),this.paddedBody&&(e.paddedBody=!0),this.paddedLabels&&(e.paddedLabels=!0),e}render(e){let r=this.svgBody?Tv(this.svgBody):it.createBox(e,this.body,{type:"ignore"}),i=new pi({parent:e,mathstyle:"scriptstyle"},this.style),n=null;this.svgAbove?n=Tv(this.svgAbove):this.above&&(n=it.createBox(i,this.above,{type:"ignore"}));let a=null;this.svgBelow?a=Tv(this.svgBelow):this.below&&(a=it.createBox(i,this.below,{type:"ignore"})),this.paddedBody&&(r=new kt([O1(e,"ML__open"),r,O1(e,"ML__close")],{type:"ignore"}));let s=gke(e,{base:r,above:n,below:a,type:this.boxType==="bin"||this.boxType==="rel"?this.boxType:"ord",paddedAboveBelow:this.paddedLabels});return s?(this.subsupPlacement==="over-under"?s=this.attachLimits(e,{base:s,type:s.type}):s=this.attachSupsub(e,{base:s}),this.caret&&(s.caret=this.caret),this.bind(e,s)):null}};function gke(t,e){if(!e.base)return null;if(!e.above&&!e.below){let o=new kt(e.base,{type:e.type});return o.setStyle("position","relative"),o}let r=0;e.above&&(r=t.metrics.bigOpSpacing5);let i=null,n=e.base,a=0,s=["ML__center"];if(e.paddedAboveBelow&&s.push("ML__label_padding"),e.below&&e.above){let o=t.metrics.bigOpSpacing5+e.below.height+e.below.depth+n.depth+a;i=new ba({bottom:o,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:s},{box:n,classes:["ML__center"]},r,{box:e.above,classes:s},t.metrics.bigOpSpacing5]})}else e.below?i=new ba({top:n.height-a,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:s},{box:n,classes:["ML__center"]}]}):e.above&&(i=new ba({bottom:n.depth+a,children:[{box:n,classes:["ML__center"]},r,{box:e.above,classes:s},t.metrics.bigOpSpacing5]}));return new kt(i,{type:e.type})}var E2=class bH extends it{constructor(e){var r,i,n,a;super(je(we({},e),{type:"phantom"})),this.captureSelection=!0,this.isInvisible=(r=e.isInvisible)!=null?r:!1,this.smashDepth=(i=e.smashDepth)!=null?i:!1,this.smashHeight=(n=e.smashHeight)!=null?n:!1,this.smashWidth=(a=e.smashWidth)!=null?a:!1}static fromJson(e){return new bH(e)}toJson(){let e={};return this.isInvisible&&(e.isInvisible=!0),this.smashDepth&&(e.smashDepth=!0),this.smashHeight&&(e.smashHeight=!0),this.smashWidth&&(e.smashWidth=!0),we(we({},super.toJson()),e)}render(e){let r=new pi({parent:e,isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return this.isInvisible,it.createBox(r,this.body,{classes:"ML__inner"});let i=it.createBox(this.isInvisible?r:e,this.body);if(!i)return null;if(this.smashWidth){let n=new kt(null,{classes:"ML__fix"});return new kt([i,n],{classes:"ML__rlap"}).wrap(e)}if(!this.smashHeight&&!this.smashDepth)return i;if(this.smashHeight&&(i.height=0),this.smashDepth&&(i.depth=0),i.children)for(let n of i.children)this.smashHeight&&(n.height=0),this.smashDepth&&(n.depth=0);return new ba({firstBaseline:[{box:i}]},{type:i.type}).wrap(e)}},I2=class xH extends it{constructor(e){var r;super(we({type:"spacing"},e)),this.width=e==null?void 0:e.width,this._braced=(r=e==null?void 0:e.braced)!=null?r:!1}static fromJson(e){return new xH(e)}toJson(){let e=super.toJson();return this.width!==void 0&&(e.width=this.width),this._braced&&(e.braced=!0),e}render(e){var r;if(this.command==="space")return new kt(this.mode==="math"?null:" ");let i;if(this.width!==void 0)i=new kt(null,{classes:"ML__mspace"}),i.left=e.toEm(this.width);else{let n=(r={"\\qquad":"ML__qquad","\\quad":"ML__quad","\\enspace":"ML__enspace","\\;":"ML__thickspace","\\:":"ML__mediumspace","\\>":"ML__mediumspace","\\,":"ML__thinspace","\\!":"ML__negativethinspace"}[this.command])!=null?r:"ML__mediumspace";i=new kt(null,{classes:n})}return i=this.bind(e,i),this.caret&&(i.caret=this.caret),i}_serialize(e){var r;if(!e.expandMacro&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let i=Ss(this.command,this.mode);if(i!=null&&i.serialize)return i.serialize(this,e);let n=(r=this.command)!=null?r:"";return this.width===void 0?n:this._braced&&!("register"in this.width)?`${n}{${ps(this.width)}}`:`${n}${ps(this.width)}`}},QU=class wH extends it{constructor(e){var r;super(je(we({},e),{type:"surd",mode:(r=e.mode)!=null?r:"math",style:e.style,displayContainsHighlight:!0,body:e.body})),this.above=e.index}static fromJson(e){return new wH(je(we({},e),{index:e.above}))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ss(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let i=this.command,n=this.bodyToLatex(e);return this.above&&!this.hasEmptyBranch("above")?rn(`${i}[${this.aboveToLatex(e)}]`,n):/^[0-9]$/.test(n)?`${i}${n}`:rn(i,n)}get children(){if(this._children)return this._children;let e=[];if(this.above)for(let r of this.above)e.push(...r.children),e.push(r);if(this.body)for(let r of this.body)e.push(...r.children),e.push(r);return this._children=e,e}render(e){var r;let i=new pi({parent:e,mathstyle:"cramp"},this.style),n=(r=it.createBox(i,this.body,{type:"inner"}))!=null?r:new kt(null),a=i.scalingFactor,s=i.metrics.defaultRuleThickness/a,o=e.isDisplayStyle?uh:s,l=new kt(null,{classes:"ML__sqrt-line",style:this.style});l.height=s,l.softWidth=n.width;let u=a*(s+o/4),c=Math.max(a*2*o,n.height+n.depth)+u+s,h=new pi({parent:e},this.style),p=this.bind(h,new kt(Vv("inner","\\surd",c,!1,h,{isSelected:this.isSelected}),{isSelected:this.isSelected,classes:"ML__sqrt-sign",style:this.style}));if(!p)return null;let d=p.height+p.depth-s;d>n.height+n.depth+u&&(u=(u+d-(n.height+n.depth))/2),p.setTop(p.height-n.height-u);let m=this.bind(e,new ba({firstBaseline:[{box:new kt(n)},u-2*s,{box:l},s]})),f=it.createBox(new pi({parent:e,mathstyle:"scriptscriptstyle"}),this.above,{type:"ignore"});if(!f){let x=new kt([p,m],{classes:this.containsCaret?"ML__contains-caret":"",type:"inner"});return x.setStyle("display","inline-block"),x.setStyle("height",x.height+x.depth,"em"),this.caret&&(x.caret=this.caret),this.bind(e,x)}let v=new ba({shift:-.6*(Math.max(p.height,m.height)-Math.max(p.depth,m.depth)),children:[{box:f}]}),y=new kt([new kt(v,{classes:"ML__sqrt-index",type:"ignore"}),p,m],{type:"inner",classes:this.containsCaret?"ML__contains-caret":""});return y.height=p.height,y.depth=p.depth,this.caret&&(y.caret=this.caret),this.bind(e,y)}},vke=class extends kt{constructor(t){super(null,{type:"skip"}),this._width=t}toMarkup(){return`<span style="display:inline-block;width:${Math.ceil(this.width*100)/100}em"></span>`}};function Xv(t,e){if(!t.parent)return;let r=t.parent.children,i=r.indexOf(t),n=i-1;for(;n>=0&&r[n].type==="ignore";)n-=1;if(n<0&&t.parent.parent&&t.parent.type==="lift"){Xv(t.parent,e);return}i>0&&r[i-1].type==="skip"?r[i-1].width+=e:r.splice(i,0,new vke(e))}var yke={ord:{op:3,bin:4,rel:5,inner:3},op:{ord:3,op:3,rel:5,inner:3},bin:{ord:4,op:4,open:4,inner:4},rel:{ord:5,op:5,open:5,inner:5},close:{op:3,bin:4,rel:5,inner:3},punct:{ord:3,op:3,rel:3,open:3,punct:3,inner:3},inner:{ord:3,op:3,bin:4,rel:5,open:3,punct:3,inner:3}},bke={ord:{op:3},op:{ord:3,op:3},close:{op:3},inner:{op:3}};function xke(t){L2(t,(e,r)=>{r.type==="bin"&&(!e||/^(middle|bin|op|rel|open|punct)$/.test(e.type))&&(r.type="ord"),(e==null?void 0:e.type)==="bin"&&/^(rel|close|punct)$/.test(r.type)&&(e.type="ord"),r.type!=="ignore"&&(e=r)})}function T2(t,e){if(!t.children)return t;let r=t.children;xke(r);let i=e.getRegisterAsEm("thinmuskip"),n=e.getRegisterAsEm("medmuskip"),a=e.getRegisterAsEm("thickmuskip");return L2(r,(s,o)=>{var l,u,c;if(!s)return;let h=s.type,p=o.isTight?(l=bke[h])!=null?l:null:(u=yke[h])!=null?u:null,d=(c=p==null?void 0:p[o.type])!=null?c:null;d===3&&Xv(o,i),d===4&&Xv(o,n),d===5&&Xv(o,a)}),t}function L2(t,e,r=void 0){if(!t)return r;t=[...t];for(let i of t)i.type==="lift"?r=L2(i.children,e,r):i.type==="ignore"?L2(i.children,e):(e(r,i),L2(i.children,e),r=i);return r}var nM=class MH extends it{constructor(e){super({type:"tooltip",command:e.command,mode:e.mode,style:e.style,body:e.body,displayContainsHighlight:!0}),this.tooltip=new it({type:"root",mode:e.content,body:e.tooltip,style:{}}),this.skipBoundary=!0,this.captureSelection=!1}static fromJson(e){return new MH(je(we({},e),{tooltip:fh(e.tooltip)}))}toJson(){var e;let r=(e=this.tooltip.body)==null?void 0:e.filter(i=>i.type!=="first").map(i=>i.toJson());return je(we({},super.toJson()),{tooltip:r})}render(e){let r=it.createBox(new pi,this.body);if(!r)return null;let i=new pi({parent:e,mathstyle:"displaystyle"},{fontSize:qw}),n=Ev(T2(new kt(this.tooltip.render(i),{classes:"ML__tooltip-content"}),i)),a=new kt([n,r],{classes:"ML__tooltip-container"});return this.caret&&(a.caret=this.caret),this.bind(e,a)}},q1=class kH extends it{constructor(e,r){super(je(we({},r),{type:"operator",isFunction:r==null?void 0:r.isFunction})),this.value=e,this.variant=r==null?void 0:r.variant,this.variantStyle=r==null?void 0:r.variantStyle,this.subsupPlacement=r==null?void 0:r.limits}static fromJson(e){return new kH(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.variantStyle&&(e.variantStyle=this.variantStyle),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var r;let i=new kt(this.value,{type:"op",mode:"math",maxFontSize:e.scalingFactor,style:{variant:this.variant,variantStyle:this.variantStyle},isSelected:this.isSelected,letterShapeStyle:e.letterShapeStyle}),n=i;if(this.superscript||this.subscript){let a=(r=this.subsupPlacement)!=null?r:"auto";n=a==="over-under"||a==="auto"&&e.isDisplayStyle?this.attachLimits(e,{base:i}):this.attachSupsub(e,{base:i})}return new kt(this.bind(e,n),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Ss(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let i=[this.command];return this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&i.push("\\limits"),this.subsupPlacement==="adjacent"&&i.push("\\nolimits"),this.subsupPlacement==="auto"&&i.push("\\displaylimits")),i.push(this.supsubToLatex(e)),Hr(i)}};function fh(t){if(hs(t))return t.map(i=>fh(i));if(typeof t=="string")return it.fromJson(t);t=we({},t);for(let i of Vd)t[i]&&(t[i]=fh(t[i]));t.args&&(t.args=wke(t.args)),t.array&&(t.array=fh(t.array));let e=t.type,r;e==="accent"&&(r=Rv.fromJson(t)),e==="array"&&(r=Jr.fromJson(t)),e==="box"&&(r=mh.fromJson(t)),e==="chem"&&(r=WU.fromJson(t)),e==="composition"&&(r=qU.fromJson(t)),e==="delim"&&(r=YU.fromJson(t)),e==="enclose"&&(r=$2.fromJson(t)),e==="error"&&(r=P1.fromJson(t)),e==="extensible-symbol"&&(r=iM.fromJson(t)),e==="genfrac"&&(r=R1.fromJson(t)),e==="group"&&(r=UU.fromJson(t)),e==="latex"&&(r=Ha.fromJson(t)),e==="latexgroup"&&(r=_2.fromJson(t)),e==="leftright"&&(r=On.fromJson(t)),e==="macro"&&(r=GU.fromJson(t)),e==="macro-argument"&&(r=pke.fromJson(t)),e==="operator"&&(r=q1.fromJson(t)),e==="overlap"&&(r=j1.fromJson(t)),e==="overunder"&&(r=Tl.fromJson(t)),e==="placeholder"&&(r=H0.fromJson(t)),e==="prompt"&&(r=ZU.fromJson(t)),e==="phantom"&&(r=E2.fromJson(t)),e==="sizeddelim"&&(r=KU.fromJson(t)),e==="spacing"&&(r=I2.fromJson(t)),e==="subsup"&&(r=Hv.fromJson(t)),e==="surd"&&(r=QU.fromJson(t)),e==="text"&&(r=Gd.fromJson(t)),e==="tooltip"&&(r=nM.fromJson(t)),r||(r=it.fromJson(t));for(let i of Vd)t[i]&&r.setChildren(t[i],i);return t.verbatimLatex!==void 0&&(r.verbatimLatex=t.verbatimLatex),t.subsupPlacement&&(r.subsupPlacement=t.subsupPlacement),t.explicitSubsupPlacement&&(r.explicitSubsupPlacement=!0),t.isFunction&&(r.isFunction=!0),t.skipBoundary&&(r.skipBoundary=!0),t.captureSelection&&(r.captureSelection=!0),r}function wke(t){if(t){if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e=>e==="<null>"?null:typeof e=="object"&&"group"in e?{group:e.group.map(r=>fh(r))}:typeof e=="object"&&"atoms"in e?e.atoms.map(r=>fh(r)):e)}}function aM(t,e){!t||!e||(hs(t)?t.forEach(r=>aM(r,e)):typeof t=="object"&&t.applyStyle(e,{unstyledOnly:!0}))}function sM(t,e,r,i){function n(s,o){for(let l of a)if(l.style[s]!==o)return!1;return!0}if(e=t.normalizeRange(e),e[0]===e[1])return!1;let a=t.getAtoms(e,{includeChildren:!0});i.operation==="toggle"&&(r.color&&n("color",r.color)&&(r.color="none",delete r.verbatimColor),r.backgroundColor&&n("backgroundColor",r.backgroundColor)&&(r.backgroundColor="none",delete r.verbatimBackgroundColor),r.fontFamily&&n("fontFamily",r.fontFamily)&&(r.fontFamily="none"),r.fontSeries&&n("fontSeries",r.fontSeries)&&(r.fontSeries="auto"),r.fontShape&&n("fontShape",r.fontShape)&&(r.fontShape="auto"),r.fontSize&&n("fontSize",r.fontSize)&&(r.fontSize=qw),r.variant&&n("variant",r.variant)&&(r.variant="normal"),r.variantStyle&&n("variantStyle",r.variantStyle)&&(r.variantStyle=""));for(let s of a)s.applyStyle(r);return!0}function Mke(t){return{up:"italic",bold:"bolditalic",italic:"italic",bolditalic:"bolditalic","":"italic"}[t??""]}function Qv(t){return{up:"up",bold:"bold",italic:void 0,bolditalic:"bold","":void 0}[t??""]}var JU={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams ML__bold"],"ams-italic":["AMS-Regular","ML__ams ML__it"],"ams-bolditalic":["AMS-Regular","ML__ams ML__bold ML__it"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans ML__it"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans ML__bold ML__it"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak ML__bold"],"fraktur-italic":["Fraktur-Regular","ML__frak ML__it"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak ML__bold ML__it"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb ML__bold"],"double-struck-italic":["AMS-Regular","ML__bb ML_italic"],"double-struck-bolditalic":["AMS-Regular","ML__bb ML_bolditalic"]},oM={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^’‘]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},eV=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,kke=/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/,Cke=[/^[a-z]$/,/^[A-Z]$/,eV,kke],Nke={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]},Ske=class extends Wo{constructor(){super("math")}createAtom(t,e,r){var i,n,a,s,o,l;if(e===null)return new it({type:"mord",mode:"math",command:t,value:t,style:r});let u;try{u=(a=(n=globalThis.MathfieldElement)==null?void 0:n.isFunction((i=e.command)!=null?i:t))!=null?a:!1}catch{u=!1}if(e.definitionType==="symbol"){let h=new it({type:(s=e.type)!=null?s:"mord",mode:"math",command:(o=e.command)!=null?o:t,value:String.fromCodePoint(e.codepoint),isFunction:u,style:r});return t.startsWith("\\")&&(h.verbatimLatex=t),h}let c=new it({type:"mord",mode:"math",command:(l=e.command)!=null?l:t,value:t,isFunction:u,style:r});return t.startsWith("\\")&&(c.verbatimLatex=t),c}serialize(t,e){let r=Dke(t,je(we({},e),{defaultMode:"math"}));return r.length===0||e.defaultMode!=="text"?r:["$ ",...r," $"]}getFont(t,e){var r,i;if(e.variant,e.fontFamily){let[u,c]=JU[e.fontFamily];return c&&(t.classes+=" "+c),u}let{variant:n}=e,{variantStyle:a}=e;if(n==="normal"&&!a&&/[\u00A3\u0131\u0237]/.test(t.value)&&(n="main",a="italic"),n==="normal"&&!a&&t.value.length===1){let u=!1;Cke.forEach((c,h)=>{var p;c.test(t.value)&&Nke[(p=e.letterShapeStyle)!=null?p:"tex"][h]==="it"&&(u=!0)}),u&&(a=Mke(a))}a==="up"&&(a=void 0);let s=a?n+"-"+a:n,[o,l]=JU[s];if(oM[n]&&!oM[n].test(t.value)){let u=ew(t.value,n,a);return u||(u=(r=ew(t.value,n))!=null?r:t.value,t.classes+=(i={bold:" ML__bold",italic:" ML__it","bold-italic":" ML__bold ML__it"}[a??""])!=null?i:""),t.value=u,null}return eV.test(t.value)&&(t.classes+=" lcGreek"),l&&(t.classes+=" "+l),o}};function Dke(t,e){return Gu(t,"bold").map(r=>{if(Gw(r[0])!=="bold"||Gw(r[0].parent)==="bold")return Hr(Jv(r,e));let i=Hr(r.map(n=>{var a;return(a=n.value)!=null?a:""}));return/^[a-zA-Z0-9]+$/.test(i)?rn("\\mathbf",Hr(Jv(r,e))):rn("\\bm",Hr(Jv(r,e)))})}function Jv(t,e){let{parent:r}=t[0],i=Zw(r);return Gu(t,"variant").map(n=>{let a=Zw(n[0]),s="";a&&a!==i&&(s={calligraphic:"\\mathcal","calligraphic-uo":"\\mathcal",fraktur:"\\mathfrak","fraktur-uo":"\\mathfrak","double-struck":"\\mathbb","double-struck-uo":"\\mathbb",script:"\\mathscr","script-uo":"\\mathscr",monospace:"\\mathtt","monospace-uo":"\\mathtt","sans-serif":"\\mathsf","sans-serif-uo":"\\mathsf",normal:"","normal-up":"\\mathrm","normal-italic":"\\mathnormal","normal-bold":"","normal-bolditalic":"\\mathbfit",ams:"","ams-up":"\\mathrm","ams-italic":"\\mathit","ams-bold":"","ams-bolditalic":"\\mathbfit",main:"","main-up":"\\mathrm","main-italic":"\\mathit","main-bold":"","main-bolditalic":"\\mathbfit"}[a]);let o=Hr(n.map(l=>l._serialize(e)));return s?rn(s,o):o})}new Ske;function Ake(t,e){return t.map(r=>r._serialize(e))}function $ke(t,e){return Gu(t,"fontShape").map(r=>{let i=Ake(r,e),{fontShape:n}=r[0].style,a="";return n==="it"&&(a="\\textit"),n==="sl"&&(a="\\textsl"),n==="sc"&&(a="\\textsc"),n==="n"&&(a="\\textup"),!a&&n?`{${rn("\\fontshape",n)}${Hr(i)}}`:a?rn(a,Hr(i)):Hr(i)})}function _ke(t,e){return Gu(t,"fontSeries").map(r=>{let i=$ke(r,e),{fontSeries:n}=r[0].style,a="";return n==="b"&&(a="\\textbf"),n==="l"&&(a="\\textlf"),n==="m"&&(a="\\textmd"),n&&!a?`{${rn("\\fontseries",n)}${Hr(i)}}`:a?rn(a,Hr(i)):Hr(i)})}function Eke(t,e){return Gu(t,"fontSize").map(r=>{var i,n;let a=_ke(r,e),s=(n=["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][(i=r[0].style.fontSize)!=null?i:""])!=null?n:"";return s?`${s} ${Hr(a)}`:Hr(a)})}function Ike(t,e,r){return Gu(t,"fontFamily").map(i=>{var n;r=r&&!i.every(l=>l.style.fontFamily||l.style.fontShape||l.style.fontSeries||l.style.fontSize);let a=Eke(i,e),{fontFamily:s}=i[0].style,o=(n={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[s??""])!=null?n:"";return o?`\\${o}{${Hr(a)}}`:s?`{\\fontfamily{${i[0].style.fontFamily}} ${Hr(a)}}`:r?`\\text{${Hr(a)}}`:Hr(a)})}var tV={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"},Tke=class extends Wo{constructor(){super("text")}createAtom(t,e,r){return e&&e.definitionType==="symbol"?new Gd(t,String.fromCodePoint(e.codepoint),r??{}):null}serialize(t,e){return Ike(t,je(we({},e),{defaultMode:"text"}),e.defaultMode!=="text")}getFont(t,e){var r,i,n,a,s;let{fontFamily:o}=e;if(tV[o]?t.classes+=" "+tV[o]:o&&t.setStyle("font-family",o),e.fontShape&&(t.classes+=" ",t.classes+=(r={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[e.fontShape])!=null?r:""),e.fontSeries){let l=e.fontSeries.match(/(.?[lbm])?(.?[cx])?/);l&&(t.classes+=" ",t.classes+=(n={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[(i=l[1])!=null?i:""])!=null?n:"",t.classes+=" ",t.classes+=(s={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[(a=l[2])!=null?a:""])!=null?s:"")}return"Main-Regular"}};new Tke;var Lke=class extends Wo{constructor(){super("latex")}createAtom(t){return new Ha(t)}serialize(t,e){return t.filter(r=>r instanceof Ha&&!r.isSuggestion).map(r=>r.value)}getFont(){return null}};new Lke;var zke={id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["x","X","≈","˛"],KeyC:["j","J","∆","Ô"],KeyD:["e","E","´","´"],KeyE:[".",">","≥","˘"],KeyF:["u","U","¨","¨"],KeyG:["i","I","ˆ","ˆ"],KeyH:["d","D","∂","Î"],KeyI:["c","C","ç","Ç"],KeyJ:["h","H","˙","Ó"],KeyK:["t","T","†","ˇ"],KeyL:["n","N","˜","˜"],KeyM:["m","M","µ","Â"],KeyN:["b","B","∫","ı"],KeyO:["r","R","®","‰"],KeyP:["l","L","¬","Ò"],KeyQ:["'",'"',"æ","Æ"],KeyR:["p","P","π","∏"],KeyS:["o","O","ø","Ø"],KeyT:["y","Y","¥","Á"],KeyU:["g","G","©","˝"],KeyV:["k","K","˚",""],KeyW:[",","<","≤","¯"],KeyX:["q","Q","œ","Œ"],KeyY:["f","F","ƒ","Ï"],KeyZ:[";",":","…","Ú"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["[","{","“","”"],Equal:["]","}","‘","’"],BracketLeft:["/","?","÷","¿"],BracketRight:["=","+","≠","±"],Backslash:["\\","|","«","»"],Semicolon:["s","S","ß","Í"],Quote:["-","_","–","—"],Backquote:["`","~","`","`"],Comma:["w","W","∑","„"],Period:["v","V","√","◊"],Slash:["z","Z","Ω","¸"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},lM={id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","ı"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","Î"],KeyE:["e","E","´","´"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","˝"],KeyH:["h","H","˙","Ó"],KeyI:["i","I","ˆ","ˆ"],KeyJ:["j","J","∆","Ô"],KeyK:["k","K","˚",""],KeyL:["l","L","¬","Ò"],KeyM:["m","M","µ","Â"],KeyN:["n","N","˜","˜"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®","‰"],KeyS:["s","S","ß","Í"],KeyT:["t","T","†","ˇ"],KeyU:["u","U","¨","¨"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","˛"],KeyY:["y","Y","¥","Á"],KeyZ:["z","Z","Ω","¸"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["-","_","–","—"],Equal:["=","+","≠","±"],BracketLeft:["[","{","“","”"],BracketRight:["]","}","‘","’"],Backslash:["\\","|","«","»"],Semicolon:[";",":","…","Ú"],Quote:["'",'"',"æ","Æ"],Backquote:["`","˜","`","`"],Comma:[",","<","≤","¯"],Period:[".",">","≥","˘"],Slash:["/","?","÷","¿"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},rV={id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","á","Á"],KeyB:["b","B","",""],KeyC:["c","C","©","¢"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","é","É"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","í","Í"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","ø","Ø"],KeyM:["m","M","µ",""],KeyN:["n","N","ñ","Ñ"],KeyO:["o","O","ó","Ó"],KeyP:["p","P","ö","Ö"],KeyQ:["q","Q","ä","Ä"],KeyR:["r","R","®",""],KeyS:["s","S","ß","§"],KeyT:["t","T","þ","Þ"],KeyU:["u","U","ú","Ú"],KeyV:["v","V","",""],KeyW:["w","W","å","Å"],KeyX:["x","X","",""],KeyY:["y","Y","ü","Ü"],KeyZ:["z","Z","æ","Æ"],Digit1:["1","!","¡","¹"],Digit2:["2","@","²",""],Digit3:["3","#","³",""],Digit4:["4","$","¤","£"],Digit5:["5","%","€",""],Digit6:["6","^","¼",""],Digit7:["7","&","½",""],Digit8:["8","*","¾",""],Digit9:["9","(","‘",""],Digit0:["0",")","’",""],Space:[" "," ","",""],Minus:["-","_","¥",""],Equal:["=","+","×","÷"],BracketLeft:["[","{","«",""],BracketRight:["]","}","»",""],Backslash:["\\","|","¬","¦"],Semicolon:[";",":","¶","°"],Quote:["'",'"',"´","¨"],Backquote:["`","~","",""],Comma:[",","<","ç","Ç"],Period:[".",">","",""],Slash:["/","?","¿",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}},iV={id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},Bke={id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","‡","Ω"],KeyB:["b","B","ß","∫"],KeyC:["c","C","©","¢"],KeyD:["d","D","∂","∆"],KeyE:["e","E","ê","Ê"],KeyF:["f","F","ƒ","·"],KeyG:["g","G","ﬁ","ﬂ"],KeyH:["h","H","Ì","Î"],KeyI:["i","I","î","ï"],KeyJ:["j","J","Ï","Í"],KeyK:["k","K","È","Ë"],KeyL:["l","L","¬","|"],KeyM:[",","?","∞","¿"],KeyN:["n","N","~","ı"],KeyO:["o","O","œ","Œ"],KeyP:["p","P","π","∏"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","®","‚"],KeyS:["s","S","Ò","∑"],KeyT:["t","T","†","™"],KeyU:["u","U","º","ª"],KeyV:["v","V","◊","√"],KeyW:["z","Z","Â","Å"],KeyX:["x","X","≈","⁄"],KeyY:["y","Y","Ú","Ÿ"],KeyZ:["w","W","‹","›"],Digit1:["&","1","","´"],Digit2:["é","2","ë","„"],Digit3:['"',"3","“","”"],Digit4:["'","4","‘","’"],Digit5:["(","5","{","["],Digit6:["§","6","¶","å"],Digit7:["è","7","«","»"],Digit8:["!","8","¡","Û"],Digit9:["ç","9","Ç","Á"],Digit0:["à","0","ø","Ø"],Space:[" "," "," "," "],Minus:[")","°","}","]"],Equal:["-","_","—","–"],BracketLeft:["^","¨","ô","Ô"],BracketRight:["$","*","€","¥"],Backslash:["`","£","@","#"],Semicolon:["m","M","µ","Ó"],Quote:["ù","%","Ù","‰"],Backquote:["<",">","≤","≥"],Comma:[";",".","…","•"],Period:[":","/","÷","\\"],Slash:["=","+","≠","±"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","•","Ÿ"],NumpadEqual:["=","=","=","="]}},Oke={id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["é","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["è","7","`",""],Digit8:["_","8","\\",""],Digit9:["ç","9","^",""],Digit0:["à","0","@",""],Space:[" "," ","",""],Minus:[")","°","]",""],Equal:["=","+","}",""],BracketLeft:["^","¨","",""],BracketRight:["$","£","¤",""],Backslash:["*","µ","",""],Semicolon:["m","M","",""],Quote:["ù","%","",""],Backquote:["²","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","§","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},Fke={id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@","Ω"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:[",","?","́","̋"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["z","Z","«","<"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["w","W","ł","Ł"],Digit1:["&","1","¹","¡"],Digit2:["é","2","~","⅛"],Digit3:['"',"3","#","£"],Digit4:["'","4","{","$"],Digit5:["(","5","[","⅜"],Digit6:["-","6","|","⅝"],Digit7:["è","7","`","⅞"],Digit8:["_","8","\\","™"],Digit9:["ç","9","^","±"],Digit0:["à","0","@","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:[")","°","]","¿"],Equal:["=","+","}","̨"],BracketLeft:["̂","̈","̈","̊"],BracketRight:["$","£","¤","̄"],Backslash:["*","µ","̀","̆"],Semicolon:["m","M","µ","º"],Quote:["ù","%","̂","̌"],Backquote:["²","~","¬","¬"],Comma:[";",".","─","×"],Period:[":","/","·","÷"],Slash:["!","§","̣","̇"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"]}},Pke={id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","‹"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","™"],KeyE:["e","E","€","‰"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","Ì"],KeyH:["h","H","ª","Ó"],KeyI:["i","I","⁄","Û"],KeyJ:["j","J","º","ı"],KeyK:["k","K","∆","ˆ"],KeyL:["l","L","@","ﬂ"],KeyM:["m","M","µ","˘"],KeyN:["n","N","~","›"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","«","»"],KeyR:["r","R","®","¸"],KeyS:["s","S","‚","Í"],KeyT:["t","T","†","˝"],KeyU:["u","U","¨","Á"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","Ù"],KeyY:["z","Z","Ω","ˇ"],KeyZ:["y","Y","¥","‡"],Digit1:["1","!","¡","¬"],Digit2:["2",'"',"“","”"],Digit3:["3","§","¶","#"],Digit4:["4","$","¢","£"],Digit5:["5","%","[","ﬁ"],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{","˜"],Digit9:["9",")","}","·"],Digit0:["0","=","≠","¯"],Space:[" "," "," "," "],Minus:["ß","?","¿","˙"],Equal:["´","`","'","˚"],BracketLeft:["ü","Ü","•","°"],BracketRight:["+","*","±",""],Backslash:["#","'","‘","’"],Semicolon:["ö","Ö","œ","Œ"],Quote:["ä","Ä","æ","Æ"],Backquote:["<",">","≤","≥"],Comma:[",",";","∞","˛"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","°","„","“"],NumpadEqual:["=","=","=","="]}},Rke={id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","µ",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"²",""],Digit3:["3","§","³",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["ß","?","\\","ẞ"],Equal:["´","`","",""],BracketLeft:["ü","Ü","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["ö","Ö","",""],Quote:["ä","Ä","",""],Backquote:["^","°","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}},jke={id:"linux.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","“","‘"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","€"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̣","̇"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","”","’"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ſ","ẞ"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","„","‚"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","«","‹"],KeyY:["z","Z","←","¥"],KeyZ:["y","Y","»","›"],Digit1:["1","!","¹","¡"],Digit2:["2",'"',"²","⅛"],Digit3:["3","§","³","£"],Digit4:["4","$","¼","¤"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["ß","?","\\","¿"],Equal:["́","̀","̧","̨"],BracketLeft:["ü","Ü","̈","̊"],BracketRight:["+","*","~","¯"],Backslash:["#","'","’","̆"],Semicolon:["ö","Ö","̋","̣"],Quote:["ä","Ä","̂","̌"],Backquote:["̂","°","′","″"],Comma:[",",";","·","×"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],PrintScreen:["","","",""],PageUp:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",",","",","],IntlBackslash:["<",">","|","̱"],AltRight:["\r","\r","\r","\r"],MetaRight:[".",".",".","."]}},qke={id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","ß",""],KeyC:["c","C","©"," "],KeyD:["d","D","∂","∆"],KeyE:["e","E","€","€"],KeyF:["f","F","ƒ","ﬁ"],KeyG:["g","G","","ﬂ"],KeyH:["h","H","™"," "],KeyI:["i","I"," "," "],KeyJ:["j","J","¶","¯"],KeyK:["k","K","§","ˇ"],KeyL:["l","L"," ","˘"],KeyM:["m","M","µ","˚"],KeyN:["n","N"," ","˙"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®"," "],KeyS:["s","S","∫"," "],KeyT:["t","T","†","‡"],KeyU:["u","U"," "," "],KeyV:["v","V","√","◊"],KeyW:["w","W","æ","Æ"],KeyX:["x","X","∑","›"],KeyY:["y","Y","¥"," "],KeyZ:["z","Z","Ω","‹"],Digit1:["1","!","|","ı"],Digit2:["2",'"',"@","˝"],Digit3:["3","·","#","•"],Digit4:["4","$","¢","£"],Digit5:["5","%","∞","‰"],Digit6:["6","&","¬"," "],Digit7:["7","/","÷","⁄"],Digit8:["8","(","“","‘"],Digit9:["9",")","”","’"],Digit0:["0","=","≠","≈"],Space:[" "," "," "," "],Minus:["'","?","´","¸"],Equal:["¡","¿","‚","˛"],BracketLeft:["`","^","[","ˆ"],BracketRight:["+","*","]","±"],Backslash:["ç","Ç","}","»"],Semicolon:["ñ","Ñ","~","˜"],Quote:["´","¨","{","«"],Backquote:["<",">","≤","≥"],Comma:[",",";","„",""],Period:[".",":","…","…"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["º","ª","\\","°"]}},Uke={id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","·","#",""],Digit4:["4","$","~",""],Digit5:["5","%","€",""],Digit6:["6","&","¬",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["¡","¿","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["ç","Ç","}",""],Semicolon:["ñ","Ñ","",""],Quote:["´","¨","{",""],Backquote:["º","ª","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},Vke={id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["z","Z","«","<"],Digit1:["1","!","|","¡"],Digit2:["2",'"',"@","⅛"],Digit3:["3","·","#","£"],Digit4:["4","$","~","$"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["'","?","\\","¿"],Equal:["¡","¿","̃","~"],BracketLeft:["̀","̂","[","̊"],BracketRight:["+","*","]","̄"],Backslash:["ç","Ç","}","̆"],Semicolon:["ñ","Ñ","~","̋"],Quote:["́","̈","{","{"],Backquote:["º","ª","\\","\\"],Comma:[",",";","─","×"],Period:[".",":","·","÷"],Slash:["-","_","̣","̇"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}};function nV(t){let e=t.split("+"),r={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:e.pop()};return e.includes("shift")&&(r.shift=!0),e.includes("alt")&&(r.alt=!0),e.includes("ctrl")&&(r.ctrl=!0),e.includes("cmd")&&(r.cmd=!0),e.includes("win")&&(r.win=!0),e.includes("meta")&&(r.meta=!0),r}function Yd(t){let e="";return t.shift&&(e+="shift+"),t.alt&&(e+="alt+"),t.ctrl&&(e+="ctrl+"),t.cmd&&(e+="cmd+"),t.win&&(e+="win+"),t.meta&&(e+="meta+"),e+t.key}var Gke={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},ey=[];function uM(){switch(Sd()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function Ko(t){(!t.platform||t.platform===uM())&&ey.push(t)}function Zke(t,e){var r;let i={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!t)return i;for(let[n,a]of Object.entries(e.mapping)){if(a[0]===t)return i.key=`[${n}]`,i;if(a[1]===t)return i.shift=!0,i.key=`[${n}]`,i;if(a[2]===t)return i.alt=!0,i.key=`[${n}]`,i;if(a[3]===t)return i.shift=!0,i.alt=!0,i.key=`[${n}]`,i}return i.key=(r=Gke[t])!=null?r:"",i}function Hke(t){if(t.code)return t;let e=Object.entries(z2().mapping),r=!1,i=!1,n="";for(let a=0;a<4;a++){for(let[s,o]of e)if(o[a]===t.key){n=s,a===3?(r=!0,i=!0):a===2?r=!0:a===1&&(i=!0);break}if(n)break}return new KeyboardEvent(t.type,je(we({},t),{altKey:r,shiftKey:i,code:n}))}function Wke(t){var e,r;if(!t||t.key==="Unidentified"||t.key==="Dead")return;let i=t.shiftKey&&t.altKey?3:t.altKey?2:t.shiftKey?1:0;for(let n of ey)((e=n.mapping[t.code])==null?void 0:e[i])===t.key?n.score+=1:(r=n.mapping[t.code])!=null&&r[i]&&(n.score=0);ey.sort((n,a)=>a.score-n.score)}function z2(){return ey[0]}function Yke(){switch(uM()){case"apple":return lM;case"windows":return rV;case"linux":return iV}return lM}switch(uM()){case"apple":Ko(lM),Ko(Bke),Ko(qke),Ko(Pke);break;case"windows":Ko(rV),Ko(Oke),Ko(Uke),Ko(Rke);break;case"linux":Ko(iV),Ko(Fke),Ko(Vke),Ko(jke);break}Ko(zke);function cM(t){var e;let r=/macos|ios/.test(Sd()),i=t.split("+"),n="";for(let a of i)n&&(n+=r?" ":'<span class="ML__shortcut-join">+</span>'),a.startsWith("[Key")?n+=a.slice(4,5):a.startsWith("Key")?n+=a.slice(3,4):a.startsWith("[Digit")?n+=a.slice(6,7):a.startsWith("Digit")?n+=a.slice(5,6):n+=(e={cmd:"⌘",meta:r?"⌘":"Ctrl",shift:r?"⇧":"Shift",alt:r?"⌥":"Alt",ctrl:r?"⌃":"Ctrl","\n":r?"⏎":"Return","[return]":r?"⏎":"Return","[enter]":r?"⌤":"Enter","[tab]":r?"⇥":"Tab","[escape]":"Esc","[backspace]":r?"⌫":"Backspace","[delete]":r?"⌦":"Del","[pageup]":r?"⇞":"Page Up","[pagedown]":r?"⇟":"Page Down","[home]":r?"⤒":"Home","[end]":r?"⤓":"End","[space]":"Space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"⇠",up:"⇡",right:"⇢",down:"⇣","[arrowleft]":"⇠","[arrowup]":"⇡","[arrowright]":"⇢","[arrowdown]":"⇣"}[a.toLowerCase()])!=null?e:a.toUpperCase();return n}function ty(t){if(t instanceof MouseEvent||t instanceof PointerEvent)return{x:t.clientX,y:t.clientY};if(typeof TouchEvent<"u"&&t instanceof TouchEvent){let e=[...t.touches].reduce((i,n)=>({x:i.x+n.clientX,y:i.y+n.clientY}),{x:0,y:0}),r=t.touches.length;return{x:e.x/r,y:e.y/r}}}function U1(t){let e={alt:!1,control:!1,shift:!1,meta:!1};return(t instanceof MouseEvent||t instanceof PointerEvent||typeof TouchEvent<"u"&&t instanceof TouchEvent||t instanceof KeyboardEvent)&&(t.altKey&&(e.alt=!0),t.ctrlKey&&(e.control=!0),t.metaKey&&(e.meta=!0),t.shiftKey&&(e.shift=!0)),e}function Kke(t,e){return!t&&e||t&&!e?!1:!t||!e?!0:t.alt===e.alt&&t.control===e.control&&t.shift===e.shift&&t.meta===e.meta}var Xke=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function ry(t){return t.ctrlKey||t.metaKey||["Dead","Process"].includes(t.key)?!1:t.code===""?!0:Xke.has(t.code)}function iy(){var t;let e=document.activeElement;for(;(t=e==null?void 0:e.shadowRoot)!=null&&t.activeElement;)e=e.shadowRoot.activeElement;return e}var h0=class nc{static get scrim(){return nc._scrim||(nc._scrim=new nc),nc._scrim}static open(e){nc.scrim.open(e)}static close(){nc.scrim.close()}static get state(){return nc.scrim.state}static get element(){return nc.scrim.element}constructor(e){var r,i;this.lightDismiss=(r=e==null?void 0:e.lightDismiss)!=null?r:!0,this.translucent=(i=e==null?void 0:e.translucent)!=null?i:!1,this.state="closed"}get element(){if(this._element)return this._element;let e=document.createElement("div");return e.setAttribute("role","presentation"),e.style.position="fixed",e.style.contain="content",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.zIndex="var(--scrim-zindex, 10099)",e.style.outline="none",this.translucent?(e.style.background="rgba(255, 255, 255, .2)",e.style.backdropFilter="contrast(40%)"):e.style.background="transparent",this._element=e,e}open(e){var r;if(this.state!=="closed")return;this.state="opening",this.onDismiss=e==null?void 0:e.onDismiss,this.savedActiveElement=iy();let{element:i}=this;((r=e==null?void 0:e.root)!=null?r:document.body).appendChild(i),i.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);let n=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";let a=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${a+n}px`;let s=document.querySelector(".MLK__plate");if(s instanceof HTMLElement){this.savedMlkPaddingRight=s.style.paddingRight;let o=Number.parseFloat(getComputedStyle(s).paddingRight);s.style.paddingRight=`${o+n}px`}e!=null&&e.child&&i.append(e.child),this.state="open"}close(){var e,r,i,n,a;if(this.state!=="open"){this.element.parentElement;return}this.state="closing",typeof this.onDismiss=="function"&&this.onDismiss(),this.onDismiss=void 0;let{element:s}=this;s.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),s.remove(),document.body.style.overflow=(e=this.savedOverflow)!=null?e:"",document.body.style.marginRight=(r=this.savedMarginRight)!=null?r:"";let o=document.querySelector(".MLK__plate");o instanceof HTMLElement&&(o.style.paddingRight=(i=this.savedMlkPaddingRight)!=null?i:""),iy()!==this.savedActiveElement&&((a=(n=this.savedActiveElement)==null?void 0:n.focus)==null||a.call(n)),s.innerHTML="",this.state="closed"}handleEvent(e){this.lightDismiss&&(e.target===this._element&&e.type==="click"?(this.close(),e.preventDefault(),e.stopPropagation()):e.target===document&&(e.type==="touchmove"||e.type==="scroll")&&(this.close(),e.preventDefault(),e.stopPropagation()))}};function Qke(t,e,r){let i=null,n=null,a=!1,s=!1,o=!1,l=new AbortController,u=l.signal;return t.addEventListener("keydown",c=>{if(a||c.key==="Process"||c.code==="CapsLock"||/(Control|Meta|Alt|Shift)(Left|Right)/.test(c.code)){i=null;return}i=c,n=null,r.onKeystroke(c)?t.textContent="":i=null},{capture:!0,signal:u}),t.addEventListener("keypress",c=>{a||(i&&n&&r.onKeystroke(i),n=c)},{capture:!0,signal:u}),t.addEventListener("compositionstart",c=>{t.textContent="",a=!0,r.onCompositionStart(c.data)},{capture:!0,signal:u}),t.addEventListener("compositionupdate",c=>{a&&r.onCompositionUpdate(c.data)},{capture:!0,signal:u}),t.addEventListener("compositionend",c=>{t.textContent="",a&&(a=!1,r.onCompositionEnd(c.data))},{capture:!0,signal:u}),t.addEventListener("beforeinput",c=>c.stopImmediatePropagation(),{signal:u}),t.addEventListener("input",c=>{var h;if(!a&&(t.textContent="",c.inputType!=="insertCompositionText")){if(c.inputType==="insertFromPaste"){c.preventDefault(),c.stopPropagation();return}r.onInput((h=c.data)!=null?h:""),c.preventDefault(),c.stopPropagation()}},{signal:u}),t.addEventListener("paste",c=>{t.focus({preventScroll:!0}),t.textContent="",r.onPaste(c)||c.preventDefault(),c.stopImmediatePropagation()},{signal:u}),t.addEventListener("cut",c=>r.onCut(c),{capture:!0,signal:u}),t.addEventListener("copy",c=>r.onCopy(c),{capture:!0,signal:u}),t.addEventListener("blur",c=>{var h,p;if(((p=(h=c.relatedTarget)==null?void 0:h._mathfield)==null?void 0:p.element)===e){t.focus({preventScroll:!0}),c.preventDefault(),c.stopPropagation();return}let d=!1,m=c.relatedTarget;for(;m;){if(m.classList.contains("ML__keyboard")){d=!0;break}m=m.parentElement}if(d){t.focus({preventScroll:!0}),c.preventDefault(),c.stopPropagation();return}let f=h0.state;if(f==="open"||f==="opening"){c.preventDefault(),c.stopPropagation();return}if(c.relatedTarget===c.target.getRootNode().host){c.preventDefault(),c.stopPropagation();return}o||s||(o=!0,i=null,n=null,r.onBlur(),o=!1)},{capture:!0,signal:u}),t.addEventListener("focus",c=>{o||s||(s=!0,r.onFocus(),s=!1)},{capture:!0,signal:u}),{dispose:()=>l.abort(),cancelComposition:()=>{a&&(typeof t.blur=="function"&&t.blur(),requestAnimationFrame(()=>t.focus({preventScroll:!0})))},blur:()=>{typeof t.blur=="function"&&t.blur()},focus:()=>{!s&&typeof t.focus=="function"&&t.focus({preventScroll:!0})},hasFocus:()=>iy()===t,setAriaLabel:c=>t.setAttribute("aria-label",c),setValue:c=>{var h;t.textContent!==c&&(t.textContent=c,t.style.left="-1000px",(h=window.getSelection())==null||h.selectAllChildren(t))},moveTo:(c,h)=>{t.style.top=`${h}px`,t.style.left=`${c}px`}}}function Kd(t){var e;if(!t||!ry(t))return"";let r;return t.key==="Unidentified"&&t.target&&(r=t.target.value),r=(e=r??t.key)!=null?e:t.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(r)&&(r=""),r}function aV(t){t=Hke(t);let e=[];return t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.length===0?`[${t.code}]`:(e.push(`[${t.code}]`),e.join("+"))}function Jke(t){if(Al()){let e=Sd(),r=t.startsWith("!"),i=t.endsWith(e);if(r&&!i||!r&&i)return!0}return t==="!other"?!1:t==="other"}function eCe(t,e,r){if(t.length===0)return"";let i=Yd(nV(aV(r))),n=Yd({key:r.key,shift:r.shiftKey,alt:r.altKey,ctrl:r.ctrlKey,meta:r.metaKey||r.ctrlKey&&/macos|ios/.test(Sd()),cmd:!1,win:!1});for(let a=t.length-1;a>=0;a--)if((t[a].key===i||t[a].key===n)&&(!t[a].ifMode||t[a].ifMode===e))return t[a].command;return""}function sV(t){let e=t;return hs(e)&&(e=e.length>0?e[0]+"("+e.slice(1).join("")+")":""),e}function tCe(t,e){let r=[];if(typeof e=="string"){let a=zMe[e];hs(a)?r=a.slice():a&&r.push(a)}let i=sV(e),n=new RegExp("^"+i.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(let a of t)n.test(sV(a.command))&&r.push(a.key);return r.map(cM)}function rCe(t,e){if(t.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(t.ifPlatform))throw new Error(`Unexpected platform "${t.ifPlatform}" for keybinding ${t.key}`);if(t.ifLayout!==void 0&&(e.score===0||!t.ifLayout.includes(e.id)))return;let r=nV(t.key),i=t.ifPlatform;if(r.cmd){if(i&&i!=="macos"&&i!=="ios")throw new Error('Unexpected "cmd" modifier with platform "'+i+`"
"cmd" modifier can only be used with macOS or iOS platform.`);i||(i=Sd()==="ios"?"ios":"macos"),r.win=!1,r.cmd=!1,r.meta=!0}if(r.win){if(i&&i!=="windows")throw new Error('Unexpected "win" modifier with platform "'+i+`"
"win" modifier can only be used with Windows platform.`);i="windows",r.win=!1,r.cmd=!1,r.meta=!0}if(i&&!Jke(i))return;if(/^\[.+\]$/.test(r.key))return je(we({},t),{key:Yd(r)});let n=Zke(r.key,e);if(!n)return je(we({},t),{key:Yd(r)});if(n.shift&&r.shift||n.alt&&r.alt)throw new Error(`The keybinding ${t.key} (${hM(t.command)}) is conflicting with the key combination ${Yd(n)} using the ${e.displayName} keyboard layout`);return n.shift=n.shift||r.shift,n.alt=n.alt||r.alt,n.meta=r.meta,n.ctrl=r.ctrl,je(we({},t),{key:Yd(n)})}function hM(t){if(Array.isArray(t)){let e=[...t];return e.shift()+"("+e.map(r=>typeof r=="string"?`"${r}"`:r.toString()).join(", ")+")"}return t}function iCe(t,e){let r=[],i=[];for(let n of t)try{let a=rCe(n,e);if(!a)continue;let s=i.find(o=>o.key===a.key&&o.ifMode===a.ifMode);if(s)throw new Error(`Ambiguous key binding ${n.key} (${hM(n.command)}) matches ${s.key} (${hM(s.command)}) with the ${e.displayName} keyboard layout`);i.push(a)}catch(a){a instanceof Error&&r.push(a.message)}return[i,r]}var nCe=class extends nn{constructor(){super("latex")}createAtom(t){return new Ha(t)}onPaste(t,e){if(!e)return!1;let r=typeof e=="string"?e:e.getData("application/x-latex")||e.getData("text/plain");return r&&t.model.contentWillChange({inputType:"insertFromPaste",data:r})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r)&&(t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),Nn(t)),t.startRecording(),!0):!1}insert(t,e,r){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;r||(r={}),r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder");let{silenceNotifications:i}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let n=t.silenceNotifications;t.silenceNotifications=!0,r.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(As(t.selection)):r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward");let a=[];for(let l of e)rMe.test(l)&&a.push(new Ha(l));let s=t.at(t.position);if(s instanceof _2&&(s=s.lastChild),!(s.parent instanceof _2)){let l=new _2;s.parent.addChildAfter(l,s),s=l.firstChild}let o=s.parent.addChildrenAfter(a,s);return t.silenceNotifications=n,r.selectionMode==="before"||(r.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(o)):o&&(t.position=t.offsetOf(o))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=i,!0}};function pM(t){return t.atoms.find(e=>e.type==="latexgroup")}function ny(t){var e,r;let i=pM(t);return(r=(e=i==null?void 0:i.body)==null?void 0:e.filter(n=>n.type==="latex"))!=null?r:[]}function oV(t,e){var r;let i=0,n=!1,a=Number.isFinite(e==null?void 0:e.before)?(r=e==null?void 0:e.before)!=null?r:0:t.lastOffset;for(;i<=a&&!n;){let l=t.at(i);n=l instanceof Ha&&l.isSuggestion,n||i++}if(!n)return[void 0,void 0];let s=i,o=!1;for(;s<=a&&!o;){let l=t.at(s);o=!(l instanceof Ha&&l.isSuggestion),o||s++}return[i-1,s-1]}new nCe;function aCe(t,e){t.flushInlineShortcutBuffer(),t.stopCoalescingUndo();let r=dM(t,e),{model:i}=t;return i.selectionIsCollapsed?(t.defaultStyle.fontSeries&&r.fontSeries===t.defaultStyle.fontSeries&&(r.fontSeries="auto"),r.fontShape&&r.fontShape===t.defaultStyle.fontShape&&(r.fontShape="auto"),r.color&&r.color===t.defaultStyle.color&&(r.color="none"),r.backgroundColor&&r.backgroundColor===t.defaultStyle.backgroundColor&&(r.backgroundColor="none"),r.fontSize&&r.fontSize===t.defaultStyle.fontSize&&(r.fontSize="auto"),t.defaultStyle=we(we({},t.defaultStyle),r)):t.model.deferNotifications({content:!0,type:"insertText"},()=>{i.selection.ranges.forEach(n=>sM(i,n,r,{operation:"toggle"})),t.snapshot("style-change")}),!0}uo({applyStyle:aCe},{target:"mathfield",canUndo:!0,changeContent:!0});function dM(t,e){var r,i,n,a,s,o,l,u,c,h;let p={};if(typeof e.color=="string"){let m=(i=t.colorMap((r=e.color)!=null?r:e.verbatimColor))!=null?i:"none";m!==e.color&&(p.verbatimColor=(n=e.verbatimColor)!=null?n:e.color),p.color=m}if(typeof e.backgroundColor=="string"){let m=(s=t.backgroundColorMap((a=e.backgroundColor)!=null?a:e.verbatimBackgroundColor))!=null?s:"none";m!==e.backgroundColor&&(p.verbatimBackgroundColor=(o=e.verbatimBackgroundColor)!=null?o:e.backgroundColor),p.backgroundColor=m}typeof e.fontFamily=="string"&&(p.fontFamily=e.fontFamily),typeof e.series=="string"&&(p.fontSeries=e.series),typeof e.fontSeries=="string"&&(p.fontSeries=e.fontSeries.toLowerCase()),p.fontSeries&&(p.fontSeries=(l={bold:"b",medium:"m",normal:"m"}[p.fontSeries])!=null?l:p.fontSeries),typeof e.shape=="string"&&(p.fontShape=e.shape),typeof e.fontShape=="string"&&(p.fontShape=e.fontShape.toLowerCase()),p.fontShape&&(p.fontShape=(u={italic:"it",up:"n",upright:"n",normal:"n"}[p.fontShape])!=null?u:p.fontShape),e.variant&&(p.variant=e.variant.toLowerCase()),e.variantStyle&&(p.variantStyle=e.variantStyle.toLowerCase());let d=(c=e.size)!=null?c:e.fontSize;return typeof d=="number"?p.fontSize=Math.max(1,Math.min(10,d)):typeof d=="string"&&(p.fontSize=(h={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[d.toLowerCase()])!=null?h:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[d]),p}function mM(t,e,r){var i,n;let a=t.model;if(a.mode==="latex")return{};let s=t.styleBias;if(s==="none")return t.defaultStyle;if(a.mode==="text")return(n=(i=a.at(s==="right"?r.after:r.before))==null?void 0:i.style)!=null?n:t.defaultStyle;if(a.mode==="math"){let o=a.at(s==="right"?r.after:r.before);return o?je(we({},o.style),{variant:"normal"}):t.defaultStyle}return{}}function Xd(t){let e=t.options.onInsertStyle;if(e===null)return{};e===void 0&&(e=mM);let r=t.model,i=t.styleBias,n=r.at(r.position),a=lV(r,n,i),s=lV(r,n.rightSibling,i);return e(t,r.position,{before:a,after:s})}function lV(t,e,r){var i;return!e||e.type==="first"&&r!=="right"?-1:e.type!=="group"?t.offsetOf(e):!e.body||e.body.length<2?-1:((i=e.body)==null?void 0:i.length)===1||r!=="right"?t.offsetOf(e.body[0]):t.offsetOf(e.body[e.body.length-1])}function ay(t){let e=ny(t.model).filter(r=>r.isSuggestion);if(e.length!==0){t.model.position=t.model.offsetOf(e[0].leftSibling);for(let r of e)r.parent.removeChild(r)}}function B2(t,e){var r;let{model:i}=t;ay(t);for(let c of ny(i))c.isError=!1;if(!i.selectionIsCollapsed||t.options.popoverPolicy==="off"){Jd(t);return}let n=[],a=i.at(i.position);for(;a&&a instanceof Ha&&/^[a-zA-Z\*]$/.test(a.value);)a=a.leftSibling;if(a&&a instanceof Ha&&a.value==="\\")for(n.push(a),a=a.rightSibling;a&&a instanceof Ha&&/^[a-zA-Z\*]$/.test(a.value);)n.push(a),a=a.rightSibling;let s=n.map(c=>c.value).join(""),o=nMe(t,s);if(o.length===0){if(/^\\[a-zA-Z\*]+$/.test(s))for(let c of n)c.isError=!0;Jd(t);return}let l=(r=e==null?void 0:e.atIndex)!=null?r:0;t.suggestionIndex=l<0?o.length-1:l%o.length;let u=o[t.suggestionIndex];if(u!==s){let c=n[n.length-1];c.parent.addChildrenAfter([...u.slice(s.length-u.length)].map(h=>new Ha(h,{isSuggestion:!0})),c),V1(t,{interactive:!0})}oCe(t,o)}function uV(t){let[e,r]=oV(t,{before:t.position});if(e===void 0||r===void 0)return!1;let i=!1;return t.getAtoms([e,r]).forEach(n=>{n.isSuggestion&&(n.isSuggestion=!1,i=!0)}),i}function Qd(t,e="accept",r){var i,n;Jd(t);let a=pM(t.model);if(!a)return!1;if(e==="accept-suggestion"||e==="accept-all"){let u=ny(t.model).filter(c=>c.isSuggestion);if(u.length!==0){for(let c of u)c.isSuggestion=!1;t.model.position=t.model.offsetOf(u[u.length-1])}if(e==="accept-suggestion")return u.length!==0}let s=ny(t.model).filter(u=>!u.isSuggestion).map(u=>u.value).join(""),o=a.leftSibling;if(a.parent.removeChild(a),t.model.position=t.model.offsetOf(o),t.switchMode((i=r==null?void 0:r.mode)!=null?i:"math"),e==="reject")return!0;let l=we({},Xd(t));return!/^[a-zA-Z0-9]$/.test(s)&&t.styleBias!=="none"&&(l.variant="normal",l.variantStyle=void 0),nn.insert(t.model,s,{selectionMode:(n=r==null?void 0:r.selectItem)!=null&&n?"item":"placeholder",format:"latex",mode:"math",style:l}),t.snapshot(),t.model.announce("replacement"),t.switchMode("math"),!0}function sy(t){var e;let r=document.getElementById(t);return r?r.dataset.refcount=Number(Number.parseInt((e=r.dataset.refcount)!=null?e:"0")+1).toString():(r=document.createElement("div"),r.setAttribute("aria-hidden","true"),r.dataset.refcount="1",r.id=t,document.body.append(r)),r}function fM(t){var e;let r=document.getElementById(t);if(!r)return;let i=Number.parseInt((e=r.getAttribute("data-refcount"))!=null?e:"0");i<=1?r.remove():r.dataset.refcount=Number(i-1).toString()}function sCe(t,e){let r=new pi({from:t.context}),i=new it({mode:"math",type:"root",body:Eo(e,{context:r})}),n=Ev(T2(new kt(i.render(r),{classes:"ML__base"}),r));return Iv(n,{classes:"ML__latex"}).toMarkup()}function oCe(t,e){var r;if(e.length===0){Jd(t);return}let i="";for(let[a,s]of e.entries()){let o=s,l=sCe(t,s),u=tCe(t.keybindings,o).join("<br>");i+=`<li role="button" data-command="${o}" ${a===t.suggestionIndex?"class=ML__popover__current":""}><span class="ML__popover__latex">${o}</span><span class="ML__popover__command">${l}</span>`,u&&(i+=`<span class="ML__popover__keybinding">${u}</span>`),i+="</li>"}let n=lCe(t,`<ul>${i}</ul>`);gM()&&((r=n.querySelector(".ML__popover__current"))==null||r.scrollIntoView({block:"nearest",inline:"nearest"})),setTimeout(()=>{var a;n&&!gM()&&(n.classList.add("is-visible"),oy(t),(a=n.querySelector(".ML__popover__current"))==null||a.scrollIntoView({block:"nearest",inline:"nearest"}))},32)}function gM(){let t=document.getElementById("mathlive-suggestion-popover");return t?t.classList.contains("is-visible"):!1}function oy(t,e){var r,i,n;if(!t.element||t.element.mathfield!==t||!gM())return;if(((r=t.model.at(t.model.position))==null?void 0:r.type)!=="latex"){Jd(t);return}if(e!=null&&e.deferred){setTimeout(()=>oy(t),32);return}let a=Pv(t.field);if(!a)return;let s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerWidth-document.documentElement.clientWidth,u=window.innerHeight-document.documentElement.clientHeight,c=(n=(i=window.mathVirtualKeyboard)==null?void 0:i.boundingRect.height)!=null?n:0,h=document.getElementById("mathlive-suggestion-popover");a.x+h.offsetWidth/2>o-l?h.style.left=`${o-h.offsetWidth-l}px`:a.x-h.offsetWidth/2<0?h.style.left="0":h.style.left=`${a.x-h.offsetWidth/2}px`;let p=a.y-a.height;s-u-c-a.y<p?(h.classList.add("ML__popover--reverse-direction"),h.classList.remove("top-tip"),h.classList.add("bottom-tip"),h.style.top=`${a.y-a.height-h.offsetHeight-15}px`):(h.classList.remove("ML__popover--reverse-direction"),h.classList.add("top-tip"),h.classList.remove("bottom-tip"),h.style.top=`${a.y+15}px`)}function Jd(t){t.suggestionIndex=0;let e=document.getElementById("mathlive-suggestion-popover");e&&(e.classList.remove("is-visible"),e.innerHTML="")}function lCe(t,e){let r=document.getElementById("mathlive-suggestion-popover");return r||(r=sy("mathlive-suggestion-popover"),Wu("suggestion-popover"),Wu("core"),r.addEventListener("pointerdown",i=>i.preventDefault()),r.addEventListener("click",i=>{let n=i.target;for(;n&&!n.dataset.command;)n=n.parentElement;n&&(Qd(t,"reject"),nn.insert(t.model,n.dataset.command,{selectionMode:"placeholder",format:"latex",mode:"math"}),t.dirty=!0,t.focus())})),r.innerHTML=globalThis.MathfieldElement.createHTML(e),r}function uCe(){document.getElementById("mathlive-suggestion-popover")&&(fM("mathlive-suggestion-popover"),dh("suggestion-popover"),dh("core"))}function cCe(){let t=String(new Error().stack).replace(/^Error.*\n/,"").split(`
`);if(t.length===0)return console.error(`Can't use relative paths to specify assets location because the sourcefile location could not be determined (unexpected stack trace format "${new Error().stack}").`),"";let e=t[1],r=e.match(/http.*\.ts[\?:]/);return r&&(e=t[2]),r=e.match(/(https?:.*):[0-9]+:[0-9]+/),r||(r=e.match(/at (.*(\.ts))[\?:]/),r||(r=e.match(/at (.*(\.mjs|\.js))[\?:]/))),r?r[1]:(console.error(t),console.error(`Can't use relative paths to specify assets location because the source file location could not be determined (unexpected location "${e}").`),"")}var em=null,cV,hV,vM=((hV=(cV=globalThis==null?void 0:globalThis.document)==null?void 0:cV.currentScript)==null?void 0:hV.src)||cCe();async function pV(t){if(/^(?:[a-z+]+:)?\/\//i.test(t)){try{return new URL(t).href}catch{}if(t.startsWith("//"))try{return new URL(`${window.location.protocol}${t}`).href}catch{}return t}if(em===null)try{let e=await fetch(vM,{method:"HEAD"});e.status===200&&(em=e.url,em=em.replace(/\/\+esm$/,"/"))}catch{console.error(`Invalid URL "${t}" (relative to "${vM}")`)}return new URL(t,em??vM).href}function hCe(t,e,r={}){return new FontFace(t,`url(${e}.woff2) format('woff2')`,r)}var Xo="not-loaded";async function pCe(){return Xo="not-loaded",ly()}async function ly(){var t;if(Xo==="not-loaded"){if(Xo="loading",(t=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))!=null?t:!1){Xo="ready";return}if(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document){let e=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"],r=Array.from(document.fonts).map(a=>a.family);if(e.every(a=>r.includes(a))){Xo="ready";return}if(!globalThis.MathfieldElement.fontsDirectory){Xo="not-loaded";return}let i=await pV(globalThis.MathfieldElement.fontsDirectory);if(!i){document.body.classList.add("ML__fonts-did-not-load"),Xo="error";return}let n=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular"],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(a=>hCe(a[0].replace(/-[a-zA-Z]+$/,""),`${i}/${a[0]}`,a[1]));try{(await Promise.all(n.map(a=>{try{return a.load()}catch{}}))).forEach(a=>document.fonts.add(a)),Xo="ready";return}catch(a){console.error(`MathLive 0.104.2: The math fonts could not be loaded from "${i}"`,{cause:a}),document.body.classList.add("ML__fonts-did-not-load")}Xo="error"}}}function dCe(t,e=0){let r=3735928559^e,i=1103547991^e;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);r=Math.imul(r^a,2654435761),i=Math.imul(i^a,1597334677)}return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(r^r>>>13,3266489909),4294967296*(2097151&i)+(r>>>0)}function Nn(t,e){!t||t.dirty||(t.resizeObserver.unobserve(t.field),t.dirty=!0,requestAnimationFrame(()=>{ph(t)&&t.dirty&&(t.atomBoundsCache=new Map,V1(t,e),t.atomBoundsCache=void 0,t.resizeObserver.observe(t.field),t.resizeObserverStarted=!0)}))}function mCe(t,e){var r;e=e??{};let i=new pi({from:je(we({},t.context),{atomIdsSettings:{seed:e.forHighlighting?dCe(it.serialize([t.model.root],{expandMacro:!1,defaultMode:t.options.defaultMode})):"random",groupNumbers:(r=e.forHighlighting)!=null?r:!1},letterShapeStyle:t.options.letterShapeStyle}),mathstyle:t.options.defaultMode==="inline-math"?"textstyle":"displaystyle"}),n=t.model.root.render(i);return Iv(T2(n,i),{classes:t.hasEditablePrompts?"ML__latex ML__prompting":"ML__latex",attributes:{translate:"no","aria-hidden":"true"}})}function dV(t,e){try{let{model:r}=t;r.root.caret=void 0,r.root.isSelected=!1,r.root.containsCaret=!0;for(let i of r.atoms)i.caret=void 0,i.isSelected=!1,i.containsCaret=!1;if(r.selectionIsCollapsed){let i=r.at(r.position);i.caret=t.model.mode;let n=i.parent;for(;n;)n.containsCaret=!0,n=n.parent}else{let i=r.getAtoms(r.selection,{includeChildren:!0});for(let n of i)n.isSelected=!0}return mCe(t,e).toMarkup()}catch(r){return console.error(r),'<span class="ML__latex" translate="no" aria-hidden="true">🚫</span>'}}function V1(t,e){if(!ph(t))return;e!=null||(e={});let r=t.element.querySelector("[part=virtual-keyboard-toggle]");r&&(r.style.display=t.hasEditableContent?"":"none");let i=t.field;if(!i)return;let n=t.isSelectionEditable&&t.hasFocus(),a=i.classList.contains("ML__focused");a&&!n?i.classList.remove("ML__focused"):!a&&n&&i.classList.add("ML__focused");let s=dV(t,e),o=t.element.querySelector("[part=menu-toggle]");if(o){let l=!1;(t.disabled||t.readOnly&&!t.hasEditableContent||t.userSelect==="none")&&(l=!0),!l&&i.offsetWidth<50&&(l=!0),o.style.display=l?"none":""}if(t.model.atoms.length<=1){let l=t.options.contentPlaceholder;l&&(s+=`<span part=placeholder class="ML__content-placeholder">${xa(l)}</span>`)}i.innerHTML=globalThis.MathfieldElement.createHTML(s),uy(t,e.interactive),t.dirty=!1}function uy(t,e){let r=t.field;if(!r)return;for(let s of r.querySelectorAll(".ML__selection, .ML__contains-highlight"))s.remove();if(!(e!=null&&e)&&Xo!=="error"&&Xo!=="ready"){setTimeout(()=>{Xo==="ready"?uy(t):setTimeout(()=>uy(t),128)},32);return}let i=t.model,n,a=()=>{if(n!==void 0)return n;let s=r.offsetWidth,o=r.getBoundingClientRect().width;return n=Math.floor(o)/s,isNaN(n)&&(n=1),n};if(i.selectionIsCollapsed){oy(t,{deferred:!0});let s=i.at(i.position);for(;s&&s.type!=="prompt"&&!(s.containsCaret&&s.displayContainsHighlight);)s=s.parent;if(s!=null&&s.containsCaret&&s.displayContainsHighlight){let o=a(),l=_U(t,Zd(t,s),o);if(l){l.left/=o,l.right/=o,l.top/=o,l.bottom/=o;let u=document.createElement("div");u.classList.add("ML__contains-highlight"),u.style.position="absolute",u.style.left=`${l.left+1}px`,u.style.top=`${Math.ceil(l.top)}px`,u.style.width=`${Math.ceil(l.right-l.left)}px`,u.style.height=`${Math.ceil(l.bottom-l.top)}px`,r.insertBefore(u,r.childNodes[0])}}return}for(let s of fCe(IU(t,{excludeAtomsWithBackground:!0}))){let o=a();s.left/=o,s.right/=o,s.top/=o,s.bottom/=o;let l=document.createElement("div");l.classList.add("ML__selection"),l.style.position="absolute",l.style.left=`${s.left}px`,l.style.top=`${s.top}px`,l.style.width=`${Math.ceil(s.right-s.left)}px`,l.style.height=`${Math.ceil(s.bottom-s.top-1)}px`,r.insertBefore(l,r.childNodes[0])}}function fCe(t){let e=[];for(let r of t){let i=!1;for(let n of e)if(r.left===n.left&&r.right===n.right&&r.top===n.top&&r.bottom===n.bottom){i=!0;break}i||e.push(r)}t=e,e=[];for(let r of t){let i=0;for(let n of t)if(r.left>=n.left&&r.right<=n.right&&r.top>=n.top&&r.bottom<=n.bottom&&(i+=1,i>1))break;i===1&&e.push(r)}return e}function mV(t){if(!t)return;let e=t.model,r=e.selection,i=it.serialize([e.root],{expandMacro:!1,defaultMode:t.options.defaultMode});nn.insert(e,i,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",silenceNotifications:!0,mode:"math"});let n=e.silenceNotifications;e.silenceNotifications=!0,e.selection=r,e.silenceNotifications=n,Nn(t)}function fV(){for(let t of document.querySelectorAll(".ML__mathfield"))"_mathfield"in t&&mV(t._mathfield)}var gV=3,W0;function uo(t,e){e=we({target:"mathfield",canUndo:!1,audioFeedback:void 0,changeContent:!1,changeSelection:!1},e??{}),W0||(W0={});for(let r of Object.keys(t))W0[r],W0[r]=je(we({},e),{fn:t[r]})}function yM(t){let e;if(Array.isArray(t)){if(t[0]==="performWithFeedback")return yM(t[1]);e=t[0]}else e=t;return W0[e]}function tm(t){var e;return(e=yM(t))==null?void 0:e.target}function gCe(t,e){var r,i;if(e=O2(e),!e)return!1;let n,a=[],s=!1,o=!1;hs(e)?(n=e[0],a=e.slice(1)):n=e;let l=W0[n],u=l==null?void 0:l.target;if(u==="model"){if(!t.isSelectionEditable&&l!=null&&l.changeContent)return t.model.announce("plonk"),!1;/^(delete|add)/.test(n)&&(n!=="deleteBackward"&&t.flushInlineShortcutBuffer(),t.snapshot(n)),/^complete/.test(n)||ay(t),W0[n].fn(t.model,...a),B2(t),o=!0,s=!0}else if(u==="virtual-keyboard")o=(i=(r=window.mathVirtualKeyboard)==null?void 0:r.executeCommand(e))!=null?i:!1,s=!0;else if(W0[n]){if(!t.isSelectionEditable&&l!=null&&l.changeContent)return t.model.announce("plonk"),!1;/^(undo|redo)/.test(n)&&t.flushInlineShortcutBuffer(),o=W0[n].fn(t,...a),s=!0}else throw new Error(`Unknown command "${n}"`);return u!=="virtual-keyboard"&&(!t.model.selectionIsCollapsed||l!=null&&l.changeSelection&&n!=="deleteBackward")&&(t.flushInlineShortcutBuffer(),l!=null&&l.changeContent||t.stopCoalescingUndo(),t.defaultStyle={}),o&&Nn(t),s}function vCe(t,e){var r;if(!t)return!1;t.focus(),JM.keypressVibration&&dR()&&navigator.vibrate(gV);let i=yM(e);globalThis.MathfieldElement.playSound((r=i==null?void 0:i.audioFeedback)!=null?r:"keypress");let n=t.executeCommand(e);return t.scrollIntoView(),n}uo({performWithFeedback:(t,e)=>vCe(t,e)});function yCe(t){return B2(t,{atIndex:t.suggestionIndex+1}),!1}function bCe(t){return B2(t,{atIndex:t.suggestionIndex-1}),!1}uo({complete:Qd},{target:"mathfield",audioFeedback:"return",canUndo:!0,changeContent:!0,changeSelection:!0}),uo({dispatchEvent:(t,e,r)=>{var i,n;return(n=(i=t.host)==null?void 0:i.dispatchEvent(new CustomEvent(e,{detail:r})))!=null?n:!1}},{target:"mathfield"}),uo({nextSuggestion:yCe,previousSuggestion:bCe},{target:"mathfield",audioFeedback:"keypress",changeSelection:!0});function O2(t){if(!t)return;if(hs(t)&&t.length>0){let i=t[0];return i.replace(/-\w/g,n=>n[1].toUpperCase()),i==="performWithFeedback"&&t.length===2?[i,O2(t[1])]:[i,...t.slice(1)]}if(typeof t!="string")return;let e=t.trim().match(/^([a-zA-Z0-9-]+)\((.*)\)$/);if(e){let i=e[1];i.replace(/-\w/g,a=>a[1].toUpperCase());let n=e[2].split(",").map(a=>a.trim());return[i,...n.map(a=>{if(/"[^"]*"/.test(a)||/'[^']*'/.test(a))return a.slice(1,-1);if(/^true$/.test(a))return!0;if(/^false$/.test(a))return!1;if(/^[-]?\d+$/.test(a))return parseInt(a,10);if(/^\{.*\}$/.test(a))try{return JSON.parse(a)}catch{return console.error("Invalid argument:",a),a}return O2(a)})]}let r=t;return r.replace(/-\w/g,i=>i[1].toUpperCase()),r}var cy="mathlive#virtual-keyboard-message";function bM(t){var e;return t.type!=="message"?!1:((e=t.data)==null?void 0:e.type)===cy}var xCe=class CH{constructor(){this.targetOrigin=window.origin,this.originValidator="none",this._boundingRect=new DOMRect(0,0,0,0),this._isShifted=!1,window.addEventListener("message",this),this.sendMessage("proxy-created"),this.listeners={}}static get singleton(){return this._singleton||(this._singleton=new CH),this._singleton}getKeycap(e){}setKeycap(e,r){this.sendMessage("update-setting",{setKeycap:{keycap:e,value:r}})}set alphabeticLayout(e){this.sendMessage("update-setting",{alphabeticLayout:e})}set layouts(e){this.sendMessage("update-setting",{layouts:e})}get normalizedLayouts(){return[]}set editToolbar(e){this.sendMessage("update-setting",{editToolbar:e})}set container(e){throw new Error("Container inside an iframe cannot be changed")}show(e){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!0},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("show",e),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}hide(e){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!1},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("hide",e),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}get isShifted(){return this._isShifted}get visible(){return this._boundingRect.height>0}set visible(e){e?this.show():this.hide()}get boundingRect(){return this._boundingRect}executeCommand(e){return this.sendMessage("execute-command",{command:e}),!0}updateToolbar(e){this.sendMessage("update-toolbar",e)}update(e){this.sendMessage("update-setting",e)}connect(){this.sendMessage("connect")}disconnect(){this.sendMessage("disconnect")}addEventListener(e,r,i){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(r)||this.listeners[e].add(r)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(r=>{typeof r=="function"?r(e):r==null||r.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,r,i){this.listeners[e]&&this.listeners[e].delete(r)}handleEvent(e){if(bM(e)){if(!tM(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");this.handleMessage(e.data)}}handleMessage(e){let{action:r}=e;if(r==="execute-command"){let{command:i}=e;tm(i)==="virtual-keyboard"&&this.executeCommand(i);return}if(r==="synchronize-proxy"){this._boundingRect=e.boundingRect,this._isShifted=e.isShifted;return}if(r==="geometry-changed"){this._boundingRect=e.boundingRect,this.dispatchEvent(new Event("geometrychange"));return}}sendMessage(e,r={}){if(!window.top)throw new DOMException("A frame does not have access to the top window and can‘t communicate with the keyboard. Review virtualKeyboardTargetOrigin and originValidator on mathfields embedded in an iframe","SecurityError");window.top.postMessage(we({type:cy,action:e},r),this.targetOrigin)}},wCe={numeric:{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",rows:[[{latex:"x",shift:"y",variants:["y","z","t","r","x^2","x^n","x^{#?}","x_n","x_i","x_{#?}",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"}]},{latex:"n",shift:"a",variants:["i","j","p","k","a","u"]},"[separator-5]","[7]","[8]","[9]","[/]","[separator-5]",{latex:"\\exponentialE",shift:"\\ln",variants:["\\exp","\\times 10^{#?}","\\ln","\\log_{10}","\\log","\\lg","\\operatorname{lb}"]},{latex:"\\imaginaryI",variants:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"]},{latex:"\\pi",shift:"\\sin",variants:["\\prod",{latex:"\\theta",aside:"theta"},{latex:"\\rho",aside:"rho"},{latex:"\\tau",aside:"tau"},"\\sin","\\cos","\\tan"]}],[{label:"<",latex:"<",class:"hide-shift",shift:{latex:"\\le",label:"≤"}},{label:">",latex:">",class:"hide-shift",shift:{latex:"\\ge",label:"≥"}},"[separator-5]","[4]","[5]","[6]","[*]","[separator-5]",{class:"hide-shift",latex:"#@^2}",shift:"#@^{\\prime}}"},{latex:"#@^{#0}}",class:"hide-shift",shift:"#@_{#?}"},{class:"hide-shift",latex:"\\sqrt{#0}",shift:{latex:"\\sqrt[#0]{#?}}"}}],["[(]","[)]","[separator-5]","[1]","[2]","[3]","[-]","[separator-5]",{latex:"\\int^{\\infty}_{0}\\!#?\\,\\mathrm{d}x",class:"small hide-shift",shift:"\\int",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{class:"hide-shift",latex:"\\forall",shift:"\\exists"},{label:"[backspace]",width:1}],[{label:"[shift]",width:2},"[separator-5]","[0]","[.]","[=]","[+]","[separator-5]","[left]","[right]",{label:"[action]",width:1}]]},greek:{label:"&alpha;&beta;&gamma;",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.greek",rows:[[{label:"<i>&#x03c6;</i>",class:"MLK__tex hide-shift",insert:"\\varphi",aside:"phi var.",shift:"\\Phi"},{label:"<i>&#x03c2;</i>",class:"MLK__tex hide-shift",insert:"\\varsigma",aside:"sigma var.",shift:"\\Sigma"},{label:"<i>&#x03f5;</i>",class:"MLK__tex hide-shift",insert:"\\epsilon",aside:"epsilon",shift:'\\char"0190'},{label:"<i>&rho;</i>",class:"MLK__tex hide-shift",insert:"\\rho",aside:"rho",shift:'\\char"3A1'},{label:"<i>&tau;</i>",class:"MLK__tex hide-shift",insert:"\\tau",aside:"tau",shift:'\\char"3A4'},{label:"<i>&upsilon;</i>",class:"MLK__tex hide-shift",insert:"\\upsilon",aside:"upsilon",shift:"\\Upsilon"},{label:"<i>&theta;</i>",class:"MLK__tex hide-shift",insert:"\\theta",aside:"theta",shift:"\\Theta"},{label:"<i>&iota;</i>",class:"MLK__tex hide-shift",insert:"\\iota",aside:"iota",shift:'\\char"399'},{label:"<i>&omicron;</i>",class:"MLK__tex hide-shift",insert:"\\omicron",aside:"omicron",shift:'\\char"39F'},{label:"<i>&pi;</i>",class:"MLK__tex hide-shift",insert:"\\pi",aside:"pi",shift:"\\Pi"}],["[separator-5]",{label:"<i>&alpha;</i>",class:"MLK__tex hide-shift",insert:"\\alpha",aside:"alpha",shift:'\\char"391'},{label:"<i>&sigma;</i>",class:"MLK__tex hide-shift",insert:"\\sigma",aside:"sigma",shift:"\\Sigma"},{label:"<i>&delta;</i>",class:"MLK__tex hide-shift",insert:"\\delta",aside:"delta",shift:"\\Delta"},{latex:"\\phi",class:"MLK__tex hide-shift",insert:"\\phi",aside:"phi",shift:"\\Phi"},{label:"<i>&gamma;</i>",class:"MLK__tex hide-shift",insert:"\\gamma",aside:"gamma",shift:"\\Gamma"},{label:"<i>&eta;</i>",class:"MLK__tex hide-shift",insert:"\\eta",aside:"eta",shift:'\\char"397'},{label:"<i>&xi;</i>",class:"MLK__tex hide-shift",insert:"\\xi",aside:"xi",shift:"\\Xi"},{label:"<i>&kappa;</i>",class:"MLK__tex hide-shift",insert:"\\kappa",aside:"kappa",shift:"\\Kappa"},{label:"<i>&lambda;</i>",class:"MLK__tex hide-shift",insert:"\\lambda",aside:"lambda",shift:"\\Lambda"},"[separator-5]"],["[shift]",{label:"<i>&zeta;</i>",class:"MLK__tex hide-shift",insert:"\\zeta",aside:"zeta",shift:'\\char"396'},{label:"<i>&chi;</i>",class:"MLK__tex hide-shift",insert:"\\chi",aside:"chi",shift:'\\char"3A7'},{label:"<i>&psi;</i>",class:"MLK__tex hide-shift",insert:"\\psi",aside:"psi",shift:"\\Psi"},{label:"<i>&omega;</i>",class:"MLK__tex hide-shift",insert:"\\omega",aside:"omega",shift:"\\Omega"},{label:"<i>&beta;</i>",class:"MLK__tex hide-shift",insert:"\\beta",aside:"beta",shift:'\\char"392'},{label:"<i>&nu;</i>",class:"MLK__tex hide-shift",insert:"\\nu",aside:"nu",shift:'\\char"39D'},{label:"<i>&mu;</i>",class:"MLK__tex hide-shift",insert:"\\mu",aside:"mu",shift:'\\char"39C'},"[backspace]"],["[separator]",{label:"<i>&#x03b5;</i>",class:"MLK__tex",insert:"\\varepsilon",aside:"epsilon var."},{label:"<i>&#x03d1;</i>",class:"MLK__tex",insert:"\\vartheta",aside:"theta var."},{label:"<i>&#x3f0;</i>",class:"MLK__tex",insert:"\\varkappa",aside:"kappa var."},{label:"<i>&#x03d6;</i>",class:"MLK__tex",insert:"\\varpi",aside:"pi var."},{label:"<i>&#x03f1;</i>",class:"MLK__tex",insert:"\\varrho",aside:"rho var."},"[left]","[right]","[action]"]]},symbols:{label:"&infin;≠∈",labelClass:"MLK__tex",tooltip:"keyboard.tooltip.symbols",rows:[[{latex:"\\sin",shift:"\\sin^{-1}",variants:[{class:"small",latex:"\\sinh"},{class:"small",latex:"\\sin^{-1}"},{class:"small",latex:"\\operatorname{arsinh}"}]},"\\ln",{latex:"\\mathrm{abs}",insert:"\\mathrm{abs}\\left(#0\\right)"},{latex:"\\rightarrow",shift:"\\Rightarrow",variants:[{latex:"\\implies",aside:"implies"},{latex:"\\to",aside:"to"},"\\dashv",{latex:"\\roundimplies",aside:"round implies"}]},{latex:"\\exists",variants:["\\nexists"],shift:"\\nexists"},{latex:"\\in",shift:"\\notin",variants:["\\notin","\\owns"]},"\\cup",{latex:"\\overrightarrow{#@}",shift:"\\overleftarrow{#@}",variants:["\\overleftarrow{#@}","\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"]},{class:"small hide-shift",latex:"\\lim_{#?}",shift:"\\lim_{x\\to\\infty}",variants:[{class:"small",latex:"\\liminf_{#?}"},{class:"small",latex:"\\limsup_{#?}"}]},"\\exponentialE"],[{latex:"\\cos",shift:"\\cos^{-1}",variants:[{class:"small",latex:"\\cosh"},{class:"small",latex:"\\cos^{-1}"},{class:"small",latex:"\\operatorname{arcosh}"}]},{latex:"\\log",shift:"\\log_{10}",variants:["\\log_{#0}","\\log_{10}"]},"\\left\\vert#0\\right\\vert",{latex:"\\larr",shift:"\\lArr",variants:[{latex:"\\impliedby",aside:"implied by"},{latex:"\\gets",aside:"gets"},"\\lArr","\\vdash",{latex:"\\models",aside:"models"}]},{latex:"\\forall",shift:"\\lnot",variants:[{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"}]},{latex:"\\ni",shift:"\\not\\owns"},"\\cap",{latex:"\\overline{#@}",shift:"\\underline{#@}",variants:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}","\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"]},{class:"hide-shift small",latex:"\\int",shift:"\\iint",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\intop","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"]},{latex:"\\pi",shift:"\\tau",variants:["\\tau"]}],[{latex:"\\tan",shift:"\\tan^{-1}",variants:[{class:"small",latex:"\\tanh"},{class:"small",latex:"\\tan^{-1}"},{class:"small",latex:"\\operatorname{artanh}"},{class:"small",latex:"\\arctan"},{class:"small",latex:"\\operatorname{arctg}"},{class:"small",latex:"\\operatorname{tg}"}]},{latex:"\\exp",insert:"\\exp\\left(#0\\right)",variants:["\\exponentialE^{#0}"]},"\\left\\Vert#0\\right\\Vert",{latex:"\\lrArr",shift:"\\leftrightarrow",variants:[{latex:"\\iff",aside:"if and only if"},"\\leftrightarrow","\\leftrightarrows","\\Leftrightarrow",{latex:"^\\biconditional",aside:"biconditional"}]},{latex:"\\vert",shift:"!"},{latex:"#@^{\\complement}",aside:"complement",variants:[{latex:"\\setminus",aside:"set minus"},{latex:"\\smallsetminus",aside:"small set minus"}]},{latex:"\\subset",shift:"\\subseteq",variants:["\\subset","\\subseteq","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsubseteq","\\supset","\\supseteq","\\supsetneq","\\supsetneqq","\\nsupset","\\nsupseteq"]},{latex:"#@^{\\prime}",shift:"#@^{\\doubleprime}",variants:["#@^{\\doubleprime}","#@\\degree"]},{latex:"\\mathrm{d}",shift:"\\partial",variants:["\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{latex:"\\infty",variants:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"]}],[{label:"[shift]",width:2},{class:"box",latex:",",shift:";",variants:[";","?"]},{class:"box",latex:"\\colon",shift:"\\Colon",variants:[{latex:"\\Colon",aside:"such that",class:"box"},{latex:":",aside:"ratio",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\therefore",aside:"therefore",class:"box"},{latex:"\\because",aside:"because",class:"box"}]},{class:"box",latex:"\\cdot",aside:"centered dot",shift:"\\ast",variants:["\\circ","\\bigcirc","\\bullet","\\odot","\\oslash","\\circledcirc","\\ast","\\star","\\times","\\doteq","\\doteqdot"]},"[separator]","[left]","[right]",{label:"[backspace]",width:1,class:"action hide-shift"},{label:"[action]",width:1}]]},compact:{label:"compact",rows:[["[+]","[-]","[*]","[/]","[=]","[.]","[(]","[)]","\\sqrt{#0}","#@^{#?}"],["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[0]"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]},minimalist:{label:"minimalist",layers:[{style:`
          div.minimalist-backdrop {
            display: flex;
            justify-content: center;
          }          
          div.minimalist-container {
            --keycap-height: 40px;
            --keycap-max-width: 53px;
            --keycap-small-font-size: 12px;
            background: var(--keyboard-background);
            padding: 20px 20px 0px 20px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            border: 1px solid var(--keyboard-border);
            box-shadow: 0 0 32px rgb(0 0 0 / 30%);
          }        
        `,backdrop:"minimalist-backdrop",container:"minimalist-container",rows:[["+","-","\\times",{latex:"\\frac{#@}{#0}",class:"small"},"=","[.]","(",")",{latex:"\\sqrt{#0}",class:"small"},{latex:"#@^{#?}",class:"small"}],["1","2","3","4","5","6","7","8","9","0"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]}]},"numeric-only":{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",id:"numeric-only",rows:[["7","8","9","[separator]",{label:"[backspace]",width:2}],["4","5","6","[separator]","[separator]","[separator]"],["1","2","3","[separator]","[separator]","[separator]"],["0",{label:"[.]",variants:[]},"-","[separator]","[left]","[right]"]]}},hy={0:["\\varnothing","\\infty"],1:["\\frac{1}{#@}","#@^{-1}","\\times 10^{#?}","\\phi","\\imaginaryI"],2:["\\frac{1}{2}","#@^2","\\sqrt2","\\exponentialE"],3:["\\frac{1}{3}","#@^3","\\sqrt3","\\pi"],4:["\\frac{1}{4}","#@^4"],5:["\\frac{1}{5}","#@^5","\\sqrt5"],6:["\\frac{1}{6}","#@^6"],7:["\\frac{1}{7}","#@^7"],8:["\\frac{1}{8}","#@^8"],9:["\\frac{1}{9}","#@^9"],".":[".",",",";","\\colon"],",":["{,}",".",";","\\colon"],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"å","à","á","â","ä","æ"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"Å","À","Á","Â","Ä","Æ"],b:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"},"ç"],d:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},"è","é","ê","ë"],E:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},"È","É","Ê","Ë"],g:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"},"ì","í","î","ï"],I:[{latex:"\\imaginaryI",aside:"imaginary i"},"Ì","Í","Î","Ï"],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"},"ñ"],o:["ø","œ","ò","ó","ô","ö"],O:["ø","Œ","Ò","Ó","Ô","Ö"],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],u:["ù","ú","û","ü"],U:["Ù","Ú","Û","Ü"],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],y:["ý","ÿ"],Y:["Ÿ"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br>⁻³⧸₁₈ em"},{latex:'\\char"203A\\,\\char"2039',insert:"\\,",aside:"thin space<br>³⧸₁₈ em"},{latex:'\\char"203A\\:\\char"2039',insert:"\\:",aside:"medium space<br>⁴⧸₁₈ em"},{latex:'\\char"203A\\;\\char"2039',insert:"\\;",aside:"thick space<br>⁵⧸₁₈ em"},{latex:'\\char"203A\\ \\char"2039',insert:"\\ ",aside:"⅓ em"},{latex:'\\char"203A\\enspace\\char"2039',insert:"\\enspace",aside:"½ em"},{latex:'\\char"203A\\quad\\char"2039',insert:"\\quad",aside:"1 em"},{latex:'\\char"203A\\qquad\\char"2039',insert:"\\qquad",aside:"2 em"}]},F2;function vV(t,e){var r,i,n,a,s;let o=gh.singleton;if(!o)return;let l=im(t),u="";if(window.mathVirtualKeyboard.isShifted){let y=(r=o.getKeycap(l==null?void 0:l.id))==null?void 0:r.shift;typeof y=="object"&&"variants"in y&&(u=(i=y.variants)!=null?i:"")}else u=(a=(n=o.getKeycap(l==null?void 0:l.id))==null?void 0:n.variants)!=null?a:"";if(typeof u=="string"&&!xM(u)||Array.isArray(u)&&u.length===0){e==null||e();return}let c={},h="";for(let y of kCe(u)){let x=wM(y),g=Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);c[g]=x;let[b,k]=py(x);h+=`<div id=${g} class="item ${k}">${b}</div>`}let p=document.createElement("div");p.setAttribute("aria-hidden","true"),p.className="MLK__variant-panel",p.style.height="auto";let d=Object.keys(c).length,m=5;d===1?m=1:d===2||d===4?m=2:d===3||d===5||d===6?m=3:d>=7&&d<14&&(m=4),p.style.width=`calc(var(--variant-keycap-length) * ${m} + 12px)`,p.innerHTML=JM.createHTML(h),h0.open({root:(s=o==null?void 0:o.container)==null?void 0:s.querySelector(".ML__keyboard"),child:p}),F2=new AbortController;let{signal:f}=F2,v=t==null?void 0:t.getBoundingClientRect();if(v){v.top-p.clientHeight<0&&(p.style.width="auto",d<=6?p.style.height="56px":d<=12?p.style.height="108px":d<=18?p.style.height="205px":p.classList.add("compact"));let y=Math.max(0,Math.min(window.innerWidth-p.offsetWidth,(v.left+v.right-p.offsetWidth)/2)),x=v.top-p.clientHeight+5;p.style.left=`${y}px`,p.style.top=`${x}px`,p.classList.add("is-visible"),requestAnimationFrame(()=>{var g;p.addEventListener("pointerup",b=>{let k=im(b.target);!(k!=null&&k.id)||!c[k.id]||(MM(c[k.id]),rm(),e==null||e(),b.preventDefault())},{capture:!0,passive:!1,signal:f}),p.addEventListener("pointerenter",b=>{let k=im(b.target);!(k!=null&&k.id)||!c[k.id]||k.classList.add("is-active")},{capture:!0,signal:f}),p.addEventListener("pointerleave",b=>{let k=im(b.target);b.target&&"tagName"in b.target&&typeof b.target.tagName=="string"&&b.target.tagName.toUpperCase()==="ASIDE"||!(k!=null&&k.id)||!c[k.id]||k.classList.remove("is-active")},{capture:!0,signal:f}),(g=o.getKeycap(l==null?void 0:l.id))!=null&&g.stickyVariantPanel?window.addEventListener("pointerdown",b=>{if(!(b.target instanceof Node))return;let k=p.contains(b.target);b.target===p||k||(rm(),e==null||e())},{signal:f}):(window.addEventListener("pointercancel",()=>{rm(),e==null||e()},{signal:f}),window.addEventListener("pointerup",()=>{rm(),e==null||e()},{signal:f}))})}}function rm(){F2==null||F2.abort(),F2=null,h0.state==="open"&&h0.close()}function MCe(t){if(t==="foreground-color"){let e=[];for(let r of Object.keys(k1))e.push({class:"swatch-button",label:'<span style="border: 3px solid '+k1[r]+'"></span>',command:["applyStyle",{color:r}]});return e}if(t==="background-color"){let e=[];for(let r of Object.keys(M1))e.push({class:"swatch-button",label:'<span style="background:'+M1[r]+'"></span>',command:["applyStyle",{backgroundColor:r}]});return e}}function xM(t){return hy[t]!==void 0}function kCe(t){var e;return typeof t!="string"?t:(hy[t]||(hy[t]=(e=MCe(t))!=null?e:[]),hy[t])}function CCe(t){return typeof t=="string"?t:Object.entries(t).map(([e,r])=>`${e}:${r} !important`).join(";")}function NCe(t){return Object.keys(t).map(e=>`${e} {${CCe(t[e])}}`).join("")}function P2(t){if(!t)return"";let e=new pi,r=new it({mode:"math",type:"root",body:Eo(t,{context:e,args:n=>n==="@"?"{\\class{ML__box-placeholder}{\\blacksquare}}":"\\placeholder{}"})}),i=Ev(T2(new kt(r.render(e),{classes:"ML__base"}),e));return Iv(i,{classes:"ML__latex"}).toMarkup()}function R2(t){if(Array.isArray(t))return t.map(r=>R2(r)).flat();let e=typeof t=="string"?{markup:t}:t;return"rows"in e&&Array.isArray(e.rows)&&(e.rows=e.rows.map(r=>r.map(i=>wM(i)))),e.id!=null||(e.id="ML__layer_"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36)),[e]}function SCe(){var t,e;let r=window.mathVirtualKeyboard.alphabeticLayout;if(r==="auto"){let s=z2();s&&(r=s.virtualLayout),(!r||r==="auto")&&(r=(t={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[Zr.locale.slice(0,2)])!=null?t:"qwerty")}let i={qwerty:["qwertyuiop"," asdfghjkl ","^zxcvbnm~"],azerty:["azertyuiop","qsdfghjklm","^ wxcvbn ~"],qwertz:["qwertzuiop"," asdfghjkl ","^yxcvbnm~"],dvorak:["^  pyfgcrl ","aoeuidhtns","qjkxbmwvz~"],colemak:[" qwfpgjluy ","arstdhneio","^zxcvbkm~"]},n=(e=i[r])!=null?e:i.qwerty,a=r==="azerty"?[[{label:"1",variants:"1"},{label:"2",shift:{latex:"é"},variants:"2"},{label:"3",shift:{latex:"ù"},variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{label:"(",latex:"("},variants:"5"},{label:"6",shift:{label:")",latex:")"},variants:"6"},{label:"7",shift:{latex:"è"},variants:"7"},{label:"8",shift:{latex:"ê"},variants:"8"},{label:"9",shift:{latex:"ç"},variants:"9"},{label:"0",shift:{latex:"à"},variants:"0"}]]:[[{label:"1",variants:"1"},{label:"2",variants:"2"},{label:"3",variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{latex:"\\frac{#@}{#?}"},variants:"5"},{label:"6",shift:{latex:"#@^#?"},variants:"6"},{label:"7",variants:"7"},{label:"8",shift:{latex:"\\times"},variants:"8"},{label:"9",shift:{label:"(",latex:"("},variants:"9"},{label:"0",shift:{label:")",latex:")"},variants:"0"}]];for(let s of n){let o=[];for(let l of s)/[a-z]/.test(l)?o.push({label:l,class:"hide-shift",shift:{label:l.toUpperCase(),variants:xM(l.toUpperCase())?l.toUpperCase():void 0},variants:xM(l)?l:void 0}):l==="~"?r!=="dvorak"?o.push("[backspace]"):o.push({label:"[backspace]",width:1}):l==="^"?o.push("[shift]"):l===" "&&o.push("[separator-5]");a.push(o)}return a.push(["[-]","[+]","[=]",{label:" ",width:1.5},{label:",",shift:";",variants:".",class:"hide-shift"},"[.]","[left]","[right]",{label:"[action]",width:1.5}]),{label:"abc",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.alphabetic",layers:R2({rows:a})}}function yV(t){if(t==="alphabetic")return SCe();if(typeof t=="string")return yV(wCe[t]);let e;if("rows"in t&&Array.isArray(t.rows)){let n=t,{rows:a}=n,s=B5(n,["rows"]);e=je(we({},s),{layers:R2({rows:t.rows})})}else if("markup"in t&&typeof t.markup=="string"){let n=t,{markup:a}=n,s=B5(n,["markup"]);e=je(we({},s),{layers:R2(t.markup)})}else e=we({},t),"layers"in t?e.layers=R2(t.layers):console.error('MathLive 0.104.2: provide either a "rows", "markup" or "layers" property');let r=!1,i=!1;for(let n of e.layers)if(n.rows)for(let a of n.rows.flat()){nm(a)&&(r=!0);let s=a.command;typeof s=="string"&&["undo","redo","cut","copy","paste"].includes(s)&&(i=!0)}return(!("displayShiftedKeycaps"in t)||t.displayShiftedKeycaps===void 0)&&(e.displayShiftedKeycaps=r),(!("displayEditToolbar"in t)||t.displayEditToolbar===void 0)&&(e.displayEditToolbar=!i),e}function DCe(t,e){var r,i;let n='<div class="left">';if(t.normalizedLayouts.length>1)for(let[a,s]of t.normalizedLayouts.entries()){let o=s,l=[a===e?"selected":"layer-switch"];o.tooltip&&l.push("MLK__tooltip"),o.labelClass&&l.push(...o.labelClass.split(" ")),n+=`<div class="${l.join(" ")}"`,o.tooltip&&(n+=" data-tooltip='"+((r=Ir(o.tooltip))!=null?r:o.tooltip)+"' "),a!==e&&(n+=`data-layer="${o.layers[0].id}"`),n+=`>${(i=o.label)!=null?i:"untitled"}</div>`}return n+="</div>",n}function ACe(t,e){let r="";if(t.editToolbar==="none")return"";let i=[];e.selectionIsCollapsed?i.push("undo","redo","pasteFromClipboard"):i.push("cutToClipboard","copyToClipboard","pasteFromClipboard");let n={undo:`<div class='action ${e.canUndo===!1?"disabled":""}'
          data-command='"undo"'
          data-tooltip='${Ir("tooltip.undo")}'>
          <svg><use xlink:href='#svg-undo' /></svg>
      </div>`,redo:`<div class='action ${e.canRedo===!1?"disabled":""}'
          data-command='"redo"'
          data-tooltip='${Ir("tooltip.redo")}'>
          <svg><use xlink:href='#svg-redo' /></svg>
      </div>`,cutToClipboard:`
        <div class='action'
            data-command='"cutToClipboard"'
            data-tooltip='${Ir("tooltip.cut to clipboard")}'>
            <svg><use xlink:href='#svg-cut' /></svg>
        </div>
    `,copyToClipboard:`
        <div class='action'
            data-command='"copyToClipboard"'
            data-tooltip='${Ir("tooltip.copy to clipboard")}'>
            <svg><use xlink:href='#svg-copy' /></svg>
        </div>
    `,pasteFromClipboard:`
        <div class='action'
            data-command='"pasteFromClipboard"'
            data-tooltip='${Ir("tooltip.paste from clipboard")}'>
            <svg><use xlink:href='#svg-paste' /></svg>
        </div>
    `};return r+=i.map(a=>n[a]).join(""),r}function $Ce(t){for(let e of t)_Ce(e)}function _Ce(t){let e=gh.singleton;if(!e)return;let r={};if(!t.id){if(t.hasAttribute("data-label")&&(r.label=t.dataset.label),t.hasAttribute("data-latex")&&(r.latex=t.dataset.latex),t.hasAttribute("data-key")&&(r.key=t.dataset.key),t.hasAttribute("data-insert")&&(r.insert=t.dataset.insert),t.hasAttribute("data-variants")&&(r.variants=t.dataset.variants),t.hasAttribute("data-aside")&&(r.aside=t.dataset.aside),t.className&&(r.class=t.className),!r.label&&!r.latex&&!r.key&&!r.insert&&(r.latex=t.innerText,r.label=t.innerHTML),t.hasAttribute("data-command"))try{r.command=JSON.parse(t.dataset.command)}catch{}t.id=e.registerKeycap(r)}if(!t.innerHTML){let[i]=py(r);t.innerHTML=globalThis.MathfieldElement.createHTML(i)}}function ECe(){Wu("virtual-keyboard"),Wu("core"),ly()}function ICe(){dh("core"),dh("virtual-keyboard")}var TCe=`<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

<symbol id="svg-delete-backward" viewBox="0 0 576 512">
  <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>
</symbol>

<symbol id="svg-shift" viewBox="0 0 384 512">
  <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>
</symbol>

<symbol id="svg-commit" viewBox="0 0 512 512">
  <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>
</symbol>


<symbol id="circle-plus" viewBox="0 0 512 512"><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344c0 13.3 10.7 24 24 24s24-10.7 24-24V280h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V168c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"/></symbol>

<symbol id="svg-command" viewBox="0 0 640 512">
  <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>
</symbol>

<symbol id="svg-undo" viewBox="0 0 512 512">
  <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>
</symbol>
<symbol id="svg-redo" viewBox="0 0 512 512">
  <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>
</symbol>
<symbol id="svg-arrow-left" viewBox="0 0 320 512">
  <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>
</symbol>
<symbol id="svg-arrow-right" viewBox="0 0 320 512">
  <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>
</symbol>
<symbol id="svg-tab" viewBox="0 0 448 512">
  <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>
</symbol>
<symbol id="svg-paste" viewBox="0 0 512 512"><path d="M160 32c11.6 0 21.3 8.2 23.5 19.2C185 58.6 191.6 64 199.2 64H208c8.8 0 16 7.2 16 16V96H96V80c0-8.8 7.2-16 16-16h8.8c7.6 0 14.2-5.4 15.7-12.8C138.7 40.2 148.4 32 160 32zM64 64h2.7C65 69 64 74.4 64 80V96c0 17.7 14.3 32 32 32H224c17.7 0 32-14.3 32-32V80c0-5.6-1-11-2.7-16H256c17.7 0 32 14.3 32 32h32c0-35.3-28.7-64-64-64H210.6c-9-18.9-28.3-32-50.6-32s-41.6 13.1-50.6 32H64C28.7 32 0 60.7 0 96V384c0 35.3 28.7 64 64 64H192V416H64c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM288 480c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32h96v56c0 22.1 17.9 40 40 40h56V448c0 17.7-14.3 32-32 32H288zM416 165.3L474.7 224H424c-4.4 0-8-3.6-8-8V165.3zM448 512c35.3 0 64-28.7 64-64V235.9c0-12.7-5.1-24.9-14.1-33.9l-59.9-59.9c-9-9-21.2-14.1-33.9-14.1H288c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H448z"/></symbol>
<symbol id="svg-cut" viewBox="0 0 512 512"><path d="M485.6 444.2L333.6 314.9C326.9 309.2 326.1 299.1 331.8 292.4C337.5 285.6 347.6 284.8 354.4 290.5L506.4 419.8C513.1 425.5 513.9 435.6 508.2 442.4C502.5 449.1 492.4 449.9 485.6 444.2zM485.7 67.76C492.5 62.07 502.5 62.94 508.2 69.69C513.9 76.45 513.1 86.55 506.3 92.24L208.5 343.1C218.3 359.7 224 379.2 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 288 112 288C141.5 288 168.4 299.4 188.4 318.1L262.2 256L188.4 193.9C168.4 212.6 141.5 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 132.8 218.3 152.3 208.5 168.9L287 235.1L485.7 67.76zM32 112C32 156.2 67.82 192 112 192C156.2 192 192 156.2 192 112C192 67.82 156.2 32 112 32C67.82 32 32 67.82 32 112zM112 480C156.2 480 192 444.2 192 400C192 355.8 156.2 320 112 320C67.82 320 32 355.8 32 400C32 444.2 67.82 480 112 480z"/></symbol>
<symbol id="svg-copy" viewBox="0 0 512 512"><path d="M272 416C263.2 416 256 423.2 256 432V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V192c0-17.67 14.33-32 32-32h112C184.8 160 192 152.8 192 144C192 135.2 184.8 128 176 128H63.99c-35.35 0-64 28.65-64 64l.0098 256C0 483.3 28.65 512 64 512h160c35.35 0 64-28.65 64-64v-16C288 423.2 280.8 416 272 416zM502.6 86.63l-77.25-77.25C419.4 3.371 411.2 0 402.7 0H288C252.7 0 224 28.65 224 64v256c0 35.35 28.65 64 64 64h160c35.35 0 64-28.65 64-64V109.3C512 100.8 508.6 92.63 502.6 86.63zM416 45.25L466.7 96H416V45.25zM480 320c0 17.67-14.33 32-32 32h-160c-17.67 0-32-14.33-32-32V64c0-17.67 14.33-32 32-32h96l.0026 64c0 17.67 14.33 32 32 32H480V320z"/>
</symbol>
<symbol id="svg-angle-double-right" viewBox="0 0 512 512"><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/>
</symbol>
<symbol id="svg-angle-double-left" viewBox="0 0 512 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/>
</symbol>
<symbol id="svg-trash" viewBox="0 0 448 512">
  <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>
</symbol>
<symbol id="svg-keyboard-down" viewBox="0 0 576 512"><path d="M64 48c-8.8 0-16 7.2-16 16V240c0 8.8 7.2 16 16 16H512c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64zM0 64C0 28.7 28.7 0 64 0H512c35.3 0 64 28.7 64 64V240c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM159 359c9.4-9.4 24.6-9.4 33.9 0l95 95 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L305 505c-4.5 4.5-10.6 7-17 7s-12.5-2.5-17-7L159 393c-9.4-9.4-9.4-24.6 0-33.9zm1-167c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V192zM120 88h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H120c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H200c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H280c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H360c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H440c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16z"/></symbol>
</svg>`;function LCe(t){t.resetKeycapRegistry(),ECe();let e=document.createElement("div");e.className="ML__keyboard";let r=document.createElement("div");r.className="MLK__plate",r.innerHTML=globalThis.MathfieldElement.createHTML(TCe+t.normalizedLayouts.map((s,o)=>zCe(t,s,o)).join(""));let i=document.createElement("div");i.className="MLK__backdrop",i.appendChild(r),e.appendChild(i),e.addEventListener("pointerdown",OCe,{passive:!1});let n=e.querySelectorAll(".ML__edit-toolbar");if(n)for(let s of n)s.addEventListener("click",o=>{var l,u;let c=o.target,h="";for(;c&&!h;)h=(l=c==null?void 0:c.getAttribute("data-command"))!=null?l:"",c=(u=c==null?void 0:c.parentElement)!=null?u:null;h&&t.executeCommand(JSON.parse(h))});$Ce(e.querySelectorAll(".MLK__keycap, .action, .fnbutton, .bigfnbutton"));let a=e.querySelectorAll(".MLK__layer");a.length>0;for(let s of a)s.addEventListener("pointerdown",o=>o.preventDefault());return t.currentLayer=t.latentLayer,e}function zCe(t,e,r){let i=[];if(!("layers"in e))return"";for(let n of e.layers)i.push(`<div tabindex="-1" class="MLK__layer" id="${n.id}">`),(t.normalizedLayouts.length>1||e.displayEditToolbar)&&(i.push("<div class='MLK__toolbar' role='toolbar'>"),i.push(DCe(t,r)),e.displayEditToolbar&&i.push('<div class="ML__edit-toolbar right"></div>'),i.push("</div>")),i.push(BCe(t,n)),i.push("</div>");return i.join("")}function BCe(t,e){if(typeof e=="string")return e;let r="";if(typeof e.style=="string"?r+=`<style>${e.style}</style>`:typeof e.style=="object"&&(r+=`<style>${NCe(e.style)}</style>`),e.backdrop&&(r+=`<div class='${e.backdrop}'>`),e.container&&(r+=`<div class='${e.container}'>`),e.rows){r+="<div class=MLK__rows>";for(let i of e.rows){r+='<div dir="ltr" class=MLK__row>';for(let n of i)if(n){let a=t.registerKeycap(n),[s,o]=py(n);/(^|\s)separator/.test(o)?r+=`<div class="${o}"`:r+=`<div tabindex="-1" id="${a}" class="${o}"`,n.tooltip&&(r+=` data-tooltip="${n.tooltip}"`),r+=`>${s}</div>`}r+="</div>"}r+="</div>"}else e.markup&&(r+=e.markup);return e.container&&(r+="</div>"),e.backdrop&&(r+="</div>"),r}function py(t,e={shifted:!1}){var r,i,n,a,s,o,l;let u="",c=(r=t.class)!=null?r:"";if(e.shifted&&nm(t)&&(c+=" is-active"),e.shifted&&"shift"in t)typeof t.shift=="string"?u=P2(t.shift):typeof t.shift=="object"&&(u=t.shift.label?t.shift.label:(i=P2(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?i:""),typeof t.shift=="object"&&(c=(a=(n=t.shift.class)!=null?n:t.class)!=null?a:"");else{if(u=t.label?t.label:(s=P2(t.latex||t.insert||"")||t.key)!=null?s:"",t.shift){let h;typeof t.shift=="string"?h=P2(t.shift):t.shift.label?h=t.shift.label:h=(o=P2(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?o:"",u+=`<span class="MLK__shift">${h}</span>`}t.aside&&(u+=`<aside>${t.aside}</aside>`)}return t.layer&&!/layer-switch/.test(c)&&(c+=" layer-switch"),/(^|\s)(separator|action|shift|fnbutton|bigfnbutton)($|\s)/.test(c)||(c+=" MLK__keycap"),!/\bw[0-9]+\b/.test(c)&&t.width&&(c+=(l={0:" w0",.5:" w5",1.5:" w15",2:" w20",5:" w50"}[t.width])!=null?l:""),[u,c||"MLK__keycap"]}var Yu={"[left]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-left /></svg>",command:"performWithFeedback(moveToPreviousChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-left /></svg>",command:"performWithFeedback(extendSelectionBackward)"}},"[right]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-right /></svg>",command:"performWithFeedback(moveToNextChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-right /></svg>",command:"performWithFeedback(extendSelectionForward)"}},"[up]":{class:"action hide-shift",label:"↑",command:"performWithFeedback(moveUp)",shift:{label:"↟",command:"performWithFeedback(extendSelectionUpward)"}},"[down]":{class:"action hide-shift",label:"↓",command:"performWithFeedback(moveDown)",shift:{label:"↡",command:"performWithFeedback(extendSelectionDownward)"}},"[return]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[action]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{label:"<svg class=svg-glyph><use xlink:href=#circle-plus /></svg>",command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[hr]":{class:"separator horizontal-rule"},"[hide-keyboard]":{class:"action",command:["hideVirtualKeyboard"],width:1.5,label:"<svg class=svg-glyph-lg><use xlink:href=#svg-keyboard-down /></svg>"},"[.]":{variants:".",command:"performWithFeedback(insertDecimalSeparator)",shift:",",class:"big-op hide-shift",label:"."},"[,]":{variants:",",command:"performWithFeedback(insertDecimalSeparator)",shift:".",class:"big-op hide-shift",label:","},"[+]":{variants:[{latex:"\\sum_{#0}^{#0}",class:"small"},"\\oplus"],latex:"+",label:"+",class:"big-op hide-shift",shift:{latex:"\\sum",insert:"\\sum",class:"small"}},"[-]":{variants:["\\pm","\\ominus"],latex:"-",label:"&#x2212;",shift:"\\pm",class:"big-op hide-shift"},"[/]":{class:"big-op hide-shift",shift:{class:"",latex:"\\frac{1}{#@}"},variants:["/","\\div","\\%","\\oslash"],latex:"\\frac{#@}{#?}",label:"&divide;"},"[*]":{variants:[{latex:"\\prod_{#0}^{#0}",class:"small"},"\\otimes","\\cdot"],latex:"\\cdot",label:"&times;",shift:{latex:"\\times"},class:"big-op hide-shift"},"[=]":{variants:["\\neq","\\equiv","\\varpropto","\\thickapprox","\\lt","\\gt","\\le","\\ge"],latex:"=",label:"=",shift:{label:"≠",latex:"\\ne"},class:"big-op hide-shift"},"[backspace]":{class:"action bottom right hide-shift",width:1.5,command:"performWithFeedback(deleteBackward)",label:"<svg class=svg-glyph><use xlink:href=#svg-delete-backward /></svg>",shift:{class:"action warning",label:"<svg class=svg-glyph><use xlink:href=#svg-trash /></svg>",command:"deleteAll"}},"[undo]":{class:"ghost if-can-undo",command:"undo",label:"<svg class=svg-glyph><use xlink:href=#svg-undo /></svg>",tooltip:"tooltip.undo"},"[redo]":{class:"ghost  if-can-redo",command:"redo",label:"<svg class=svg-glyph><use xlink:href=#svg-redo /></svg>",tooltip:"tooltip.redo"},"[(]":{variants:[{latex:"\\lbrack",key:"["},"\\langle","\\lfloor","\\lceil",{latex:"\\lbrace",key:"{"}],key:"(",label:"(",shift:{label:"[",key:"["},class:"hide-shift"},"[)]":{variants:[{latex:"\\rbrack",key:"]"},"\\rangle","\\rfloor","\\rceil",{latex:"\\rbrace",key:"}"}],key:")",label:")",shift:{label:"]",latex:"\\rbrack"},class:"hide-shift"},"[0]":{variants:"0",latex:"0",label:"0",shift:"\\infty",class:"hide-shift"},"[1]":{variants:"1",latex:"1",label:"1",shift:"#@^{-1}",class:"hide-shift"},"[2]":{variants:"2",latex:"2",label:"2",shift:"#@^2",class:"hide-shift"},"[3]":{variants:"3",latex:"3",label:"3",shift:"#@^3",class:"hide-shift"},"[4]":{variants:"4",latex:"4",label:"4",shift:"#@^4",class:"hide-shift"},"[5]":{variants:"5",latex:"5",label:"5",shift:"#@^5",class:"hide-shift"},"[6]":{variants:"6",latex:"6",label:"6",shift:"#@^6",class:"hide-shift"},"[7]":{variants:"7",latex:"7",label:"7",shift:"#@^7",class:"hide-shift"},"[8]":{variants:"8",latex:"8",label:"8",shift:"#@^8",class:"hide-shift"},"[9]":{variants:"9",latex:"9",label:"9",shift:"#@^9",class:"hide-shift"},"[separator-5]":{class:"separator",width:.5},"[separator]":{class:"separator"},"[separator-10]":{class:"separator"},"[separator-15]":{class:"separator",width:1.5},"[separator-20]":{class:"separator",width:2},"[separator-50]":{class:"separator",width:5},"[shift]":{class:"shift bottom left",width:1.5,label:"<span class=caps-lock-indicator></span><svg class=svg-glyph><use xlink:href=#svg-shift /></svg>"},"[foreground-color]":{variants:"foreground-color",command:["applyStyle",{color:"red"}],label:"<span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'>"},"[background-color]":{variants:"background-color",command:["applyStyle",{backgroundColor:"yellow"}],label:"<span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span>"}};function wM(t){var e;if(typeof t=="string"){if(t==="[.]"&&globalThis.MathfieldElement.decimalSeparator===","&&(t="[,]"),!Yu[t])return{latex:t};t={label:t}}let r;return"label"in t&&t.label&&Yu[t.label]&&(r=je(we(we({},Yu[t.label]),t),{label:Yu[t.label].label})),"key"in t&&t.key&&Yu[t.key]&&(r=je(we(we({},Yu[t.key]),t),{key:Yu[t.key].key})),r?(r.command==="insertDecimalSeparator"&&(r.label=(e=globalThis.MathfieldElement.decimalSeparator)!=null?e:"."),(r.tooltip===void 0||r.tooltip===null||r.tooltip===!1)&&delete r.tooltip,(r.tooltip===void 0||r.tooltip===null||r.tooltip===!1)&&delete r.tooltip,(r.aside===void 0||r.aside===null||r.aside===!1)&&delete r.aside,(r.variants===void 0||r.variants===null||r.variants===!1)&&delete r.variants,(r.shift===void 0||r.shift===null||r.shift===!1)&&delete r.shift,r):t}var j2;function OCe(t){var e;if(t.button!==0)return;let r=gh.singleton;if(!r)return;let i=t.target;for(;i&&!i.getAttribute("data-layer");)i=i.parentElement;if(i){r.currentLayer=(e=i.getAttribute("data-layer"))!=null?e:"",t.preventDefault();return}let n=im(t.target);if(!(n!=null&&n.id))return;let a=r.getKeycap(n.id);if(!a)return;t.type;let s=new AbortController,o=s.signal;n.classList.add("is-pressed"),n.addEventListener("pointerenter",dy(s),{capture:!0,signal:o}),n.addEventListener("pointerleave",dy(s),{capture:!0,signal:o}),n.addEventListener("pointercancel",dy(s),{signal:o}),n.addEventListener("pointerup",dy(s),{signal:o}),nm(a)&&(n.classList.add("is-active"),r.shiftPressCount++),a.variants&&(j2&&clearTimeout(j2),j2=setTimeout(()=>{n.classList.contains("is-pressed")&&(n.classList.remove("is-pressed"),n.classList.add("is-active"),t.target&&"releasePointerCapture"in t.target&&t.target.releasePointerCapture(t.pointerId),vV(n,()=>{s.abort(),n==null||n.classList.remove("is-active")}))},a.stickyVariantPanel?0:300)),t.preventDefault()}function dy(t){return e=>{let r=im(e.target);if(!(r!=null&&r.id))return;let i=gh.singleton;if(!i)return;let n=i.getKeycap(r.id);if(n){if(e.type==="pointerenter"&&e.target===r&&e.isPrimary&&r.classList.add("is-pressed"),e.type==="pointercancel"){r.classList.remove("is-pressed"),nm(n)&&(i.shiftPressCount--,r.classList.toggle("is-active",i.isShifted)),t.abort();return}if(e.type==="pointerleave"&&e.target===r){r.classList.remove("is-pressed"),nm(n)&&(i.shiftPressCount--,r.classList.toggle("is-active",i.isShifted));return}if(e.type==="pointerup"){j2&&clearTimeout(j2),nm(n)?r.classList.toggle("is-active",i.isShifted):r.classList.contains("is-pressed")&&(r.classList.remove("is-pressed"),i.isShifted&&n.shift?typeof n.shift=="string"?i.executeCommand(["insert",n.shift,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]):MM(n.shift):MM(n),i.shiftPressCount===1&&!e.shiftKey&&(i.shiftPressCount=0)),t.abort(),e.preventDefault();return}}}}function MM(t){var e;let r=t.command;!r&&t.insert&&(r=["insert",t.insert,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),!r&&t.key&&(r=["typedText",t.key,{focus:!0,feedback:!0,simulateKeystroke:!0}]),!r&&t.latex&&(r=["insert",t.latex,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),r||(r=["typedText",t.label,{focus:!0,feedback:!0,simulateKeystroke:!0}]),(e=gh.singleton)==null||e.executeCommand(r)}function FCe(t){if(t.nodeType!==1)return!1;let e=t.classList;return e.contains("MLK__keycap")||e.contains("shift")||e.contains("action")||e.contains("fnbutton")||e.contains("bigfnbutton")}function im(t){if(!t)return;let e=t;for(;e&&!FCe(e);)e=e.parentElement;return e??void 0}function nm(t){return!!t.class&&/(^|\s)shift($|\s)/.test(t.class)}var gh=class NH{constructor(){this.originalContainerBottomPadding=null,this.keycapRegistry={},this._shiftPressCount=0;var e;this.targetOrigin=window.origin,this.originValidator="none",this._alphabeticLayout="auto",this._layouts=Object.freeze(["default"]),this._editToolbar="default",this._container=void 0,this._visible=!1,this._rebuilding=!1,this.observer=new ResizeObserver(r=>{this.adjustBoundingRect(),this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})}),this.listeners={};try{(e=window.top)==null||e.addEventListener("message",this)}catch{window.addEventListener("message",this)}document.addEventListener("focusin",r=>{let i=r.target;i!=null&&i.isConnected&&setTimeout(()=>{let n=bV();n&&!n.readOnly&&n.mathVirtualKeyboardPolicy==="auto"&&pR()&&this.show({animate:!0})},300)}),document.addEventListener("focusout",r=>{r.target instanceof Q1&&r.target.mathVirtualKeyboardPolicy!=="manual"&&setTimeout(()=>{bV()||this.hide()},300)})}get currentLayer(){var e,r,i;return(i=(r=(e=this._element)==null?void 0:e.querySelector(".MLK__layer.is-visible"))==null?void 0:r.id)!=null?i:""}set currentLayer(e){var r;if(!this._element){this.latentLayer=e;return}let i=e?this._element.querySelector(`#${e}.MLK__layer`):null;i||(i=this._element.querySelector(".MLK__layer")),i&&((r=this._element.querySelector(".MLK__layer.is-visible"))==null||r.classList.remove("is-visible"),i.classList.add("is-visible")),this.render()}get shiftPressCount(){return this._shiftPressCount}set shiftPressCount(e){var r;this._shiftPressCount=e>2||e<0?0:e,(r=this._element)==null||r.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.render()}get isShifted(){return this._shiftPressCount>0}resetKeycapRegistry(){this.keycapRegistry={}}registerKeycap(e){let r="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);return this.keycapRegistry[r]=e,r}setKeycap(e,r){Yu[e]=wM(r),this.rebuild()}getKeycap(e){var r;return e?(r=Yu[e])!=null?r:this.keycapRegistry[e]:void 0}getLayer(e){let r=this.normalizedLayouts;for(let i of r)for(let n of i.layers)if(n.id===e)return n}get alphabeticLayout(){return this._alphabeticLayout}set alphabeticLayout(e){this._alphabeticLayout=e,this._normalizedLayouts=void 0,this.rebuild()}get layouts(){return this._layouts}set layouts(e){this.updateNormalizedLayouts(e),this.rebuild()}updateNormalizedLayouts(e){let r=Array.isArray(e)?[...e]:[e],i=r.findIndex(n=>n==="default");i>=0&&r.splice(i,1,"numeric","symbols","alphabetic","greek"),this._layouts=Object.freeze(r),this._normalizedLayouts=r.map(n=>yV(n))}get normalizedLayouts(){return this._normalizedLayouts||this.updateNormalizedLayouts(this._layouts),this._normalizedLayouts}get editToolbar(){return this._editToolbar}set editToolbar(e){this._editToolbar=e,this.rebuild()}get container(){return this._container===void 0?window.document.body:this._container}set container(e){this._container=e,this.rebuild()}static get singleton(){if(this._singleton===void 0)try{this._singleton=new NH}catch{this._singleton=null}return this._singleton}get style(){return this._style}addEventListener(e,r,i){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(r)||this.listeners[e].add(r)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(r=>{typeof r=="function"?r(e):r==null||r.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,r,i){this.listeners[e]&&this.listeners[e].delete(r)}get element(){return this._element}set element(e){var r;this._element!==e&&((r=this._element)==null||r.remove(),this._element=e)}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get boundingRect(){var e;if(!this._visible)return new DOMRect;let r=(e=this._element)==null?void 0:e.getElementsByClassName("MLK__plate")[0];return r?r.getBoundingClientRect():new DOMRect}adjustBoundingRect(){var e,r;let i=this.boundingRect.height;if(this.container===document.body){(e=this._element)==null||e.style.setProperty("--_keyboard-height",`calc(${i}px + var(--_padding-top) + var(--_padding-bottom) + env(safe-area-inset-bottom, 0))`);let n=i-1;this.container.style.paddingBottom=this.originalContainerBottomPadding?`calc(${this.originalContainerBottomPadding} + ${n}px)`:`${n}px`}else(r=this._element)==null||r.style.setProperty("--_keyboard-height",`${i}px`)}rebuild(){if(this._rebuilding||!this._element)return;this._rebuilding=!0;let e=this.currentLayer;requestAnimationFrame(()=>{this._rebuilding=!1,this._element&&(this._element.remove(),this._element=void 0),this.visible&&(this.buildAndAttachElement(),this.currentLayer=e,this.render(),this.adjustBoundingRect(),this._element.classList.add("is-visible"))})}render(){var e;if(!this._element)return;let r=this.getLayer(this.currentLayer);this._element.classList.toggle("backdrop-is-transparent",!!(r&&(r.backdrop||r.container)));let i=this._element.querySelectorAll(".MLK__layer.is-visible .MLK__keycap, .MLK__layer.is-visible .action, .fnbutton, .MLK__layer.is-visible .bigfnbutton, .MLK__layer.is-visible .shift");if(!i)return;let n=this.isShifted;for(let a of i){let s=this.getKeycap(a.id);if(s){let[o,l]=py(s,{shifted:n});a.innerHTML=globalThis.MathfieldElement.createHTML(o),a.className=l,n&&typeof s.shift=="object"&&(e=s.shift)!=null&&e.tooltip?a.dataset.tooltip=s.shift.tooltip:!n&&s.tooltip&&(a.dataset.tooltip=s.tooltip)}}}show(e){var r;if(this._visible)return;let i=this.container;if(i&&window.mathVirtualKeyboard&&this.stateWillChange(!0)){if(this._element||(this.buildAndAttachElement(),this.adjustBoundingRect()),!this._visible){let n=this._element.getElementsByClassName("MLK__plate")[0];if(n&&this.observer.observe(n),i===window.document.body){let a=i.style.paddingBottom;this.originalContainerBottomPadding=a;let s=n.offsetHeight-1;i.style.paddingBottom=a?`calc(${a} + ${s}px)`:`${s}px`}window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("keydown",this,{capture:!0}),window.addEventListener("keyup",this,{capture:!0}),(r=this._element)==null||r.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.currentLayer=this.latentLayer}this._visible=!0,e!=null&&e.animate?requestAnimationFrame(()=>{this._element&&(this._element.classList.add("animate"),this._element.addEventListener("transitionend",()=>{var n;return(n=this._element)==null?void 0:n.classList.remove("animate")},{once:!0}),this._element.classList.add("is-visible"),this.stateChanged())}):(this._element.classList.add("is-visible"),this.stateChanged())}}hide(e){var r;let i=this.container;if(i&&this._visible&&this.stateWillChange(!1)){if(this._visible=!1,this._element){this.latentLayer=this.currentLayer;let n=this._element.getElementsByClassName("MLK__plate")[0];n&&this.observer.unobserve(n),window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("keydown",this,{capture:!0}),window.removeEventListener("keyup",this,{capture:!0}),window.removeEventListener("contextmenu",this,{capture:!0}),rm(),ICe(),(r=this._element)==null||r.remove(),this._element=void 0,this.originalContainerBottomPadding!==null&&(i.style.paddingBottom=this.originalContainerBottomPadding)}this.stateChanged()}}get height(){var e,r;return(r=(e=this.element)==null?void 0:e.offsetHeight)!=null?r:0}buildAndAttachElement(){var e;this.element,this.element=LCe(this),window.addEventListener("contextmenu",this,{capture:!0}),this.element.addEventListener("contextmenu",r=>{r.shiftKey||((r.ctrlKey||r.button===2)&&vV(r.target),r.preventDefault(),r.stopPropagation())},{capture:!0}),(e=this.container)==null||e.appendChild(this.element)}handleEvent(e){if(bM(e)){if(!tM(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");e.data.action==="disconnect"?this.connectedMathfieldWindow=void 0:e.data.action!=="update-setting"&&e.data.action!=="proxy-created"&&e.data.action!=="execute-command"&&(e.source,this.connectedMathfieldWindow=e.source),this.handleMessage(e.data,e.source)}if(this._element)switch(e.type){case"mouseup":case"blur":document.body.style.userSelect="",this.shiftPressCount=0;break;case"contextmenu":e.button!==2&&e.preventDefault();break;case"keydown":{e.key==="Shift"&&!e.repeat&&(this.shiftPressCount=1);break}case"keyup":{(e.key==="Shift"||!e.getModifierState("Shift")&&this.shiftPressCount!==2)&&(this.shiftPressCount=0);break}}}handleMessage(e,r){let{action:i}=e;if(i==="execute-command"){let{command:n}=e,a=tm(n);if(window.top!==void 0&&a!=="virtual-keyboard")return;this.executeCommand(n);return}if((i==="connect"||i==="show")&&this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},r),i!=="disconnect"&&window===window.top){if(i==="show"){typeof e.animate<"u"?this.show({animate:e.animate}):this.show();return}if(i==="hide"){typeof e.animate<"u"?this.hide({animate:e.animate}):this.hide();return}if(i==="update-setting"){if(e.alphabeticLayout&&(this.alphabeticLayout=e.alphabeticLayout),e.layouts&&(this.layouts=e.layouts),e.editToolbar&&(this.editToolbar=e.editToolbar),e.setKeycap){let{keycap:n,value:a}=e.setKeycap;this.setKeycap(n,a),this.render()}return}if(i==="proxy-created"){this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},r);return}}}sendMessage(e,r,i){if(r.command&&this.dispatchEvent(new CustomEvent("math-virtual-keyboard-command",{detail:r.command})),i||(i=this.connectedMathfieldWindow),this.targetOrigin===null||this.targetOrigin==="null"||i===window){window.dispatchEvent(new MessageEvent("message",{source:window,data:we({type:cy,action:e},r)}));return}if(i)i.postMessage(we({type:cy,action:e},r),{targetOrigin:this.targetOrigin});else if(e==="execute-command"&&Array.isArray(r.command)&&r.command[0]==="insert"){let n=r.command[1].split("");for(let a of n)this.dispatchEvent(new KeyboardEvent("keydown",{key:a,bubbles:!0})),this.dispatchEvent(new KeyboardEvent("keyup",{key:a,bubbles:!0}))}}stateWillChange(e){return this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:e},bubbles:!0,cancelable:!0,composed:!0}))}stateChanged(){this.dispatchEvent(new Event("virtual-keyboard-toggle")),this._visible||(this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect}))}focus(){this.sendMessage("focus",{})}blur(){this.sendMessage("blur",{})}updateToolbar(e){let r=this._element;if(!r)return;r.classList.toggle("is-math-mode",e.mode==="math"),r.classList.toggle("is-text-mode",e.mode==="text"),r.classList.toggle("can-undo",e.canUndo),r.classList.toggle("can-redo",e.canRedo),r.classList.toggle("can-copy",!e.selectionIsCollapsed),r.classList.toggle("can-copy",!e.selectionIsCollapsed),r.classList.toggle("can-paste",!0);let i=r.querySelectorAll(".ML__edit-toolbar");if(i)for(let n of i)n.innerHTML=ACe(this,e)}update(e){this._style=e.style,this.updateToolbar(e)}connect(){this.connectedMathfieldWindow=window}disconnect(){this.connectedMathfieldWindow=void 0}executeCommand(e){if(e=O2(e),!e)return!1;let r,i=[],n=tm(e);return hs(e)?(r=e[0],r==="performWithFeedback"&&(n=tm(e.slice(1))),i=e.slice(1)):r=e,n==="virtual-keyboard"?W0[r].fn(void 0,...i):(this.sendMessage("execute-command",{command:e}),!1)}dispose(){window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("message",this)}};function bV(){let t=iy(),e=null;for(;t;){if("host"in t&&t.host instanceof Q1){e=t.host;break}t=t.parentNode}return e}if(Al()&&!("mathVirtualKeyboard"in window))if(window===window.top){let t=gh.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>t})}else Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>xCe.singleton,configurable:!0});function my(t){let e={};for(let r of Object.keys(t))switch(r){case"scriptDepth":let i=t.scriptDepth;if(hs(i))e.scriptDepth=[i[0],i[1]];else if(typeof i=="number")e.scriptDepth=[i,i];else if(typeof i=="string"){let[a,s]=i.split(",").map(o=>parseInt(o.trim()));e.scriptDepth=[a,s]}else throw new TypeError("Unexpected value for scriptDepth");break;case"mathVirtualKeyboardPolicy":let n=t.mathVirtualKeyboardPolicy.toLowerCase();if(n==="sandboxed"){if(window!==window.top){let a=gh.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>a})}n="manual"}e.mathVirtualKeyboardPolicy=n;break;case"letterShapeStyle":t.letterShapeStyle==="auto"?Zr.locale.startsWith("fr")?e.letterShapeStyle="french":e.letterShapeStyle="tex":e.letterShapeStyle=t.letterShapeStyle;break;case"defaultMode":["text","math","inline-math"].includes(t.defaultMode)?e.defaultMode=t.defaultMode:(console.error('MathLive 0.104.2:  valid values for defaultMode are "text", "math" or "inline-math"'),e.defaultMode="math");break;case"macros":e.macros=j5(t.macros);break;default:hs(t[r])?e[r]=[...t[r]]:typeof t[r]=="object"&&!(t[r]instanceof Element)&&r!=="computeEngine"?e[r]=we({},t[r]):e[r]=t[r]}return e}function G1(t,e){let r;typeof e=="string"?r=[e]:e===void 0?r=Object.keys(t):r=e;let i={};for(let n of r)t[n]===null?i[n]=null:hs(t[n])?i[n]=[...t[n]]:typeof t[n]=="object"&&!(t[n]instanceof Element)&&n!=="computeEngine"?i[n]=we({},t[n]):i[n]=t[n];return typeof e=="string"?i[e]:i}function fy(){return{readOnly:!1,defaultMode:"math",macros:{},registers:{},colorMap:O5,backgroundColorMap:K9,letterShapeStyle:Zr.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,isImplicitFunction:t=>["\\sin","\\cos","\\tan","\\arcsin","\\arccos","\\arctan","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th","\\lg","\\lb","\\log","\\ln"].includes(t),mathModeSpace:"",placeholderSymbol:"▢",contentPlaceholder:"",popoverPolicy:"auto",environmentPopoverPolicy:"off",keybindings:LMe,inlineShortcuts:NU,inlineShortcutTimeout:0,mathVirtualKeyboardPolicy:"auto",virtualKeyboardTargetOrigin:window==null?void 0:window.origin,originValidator:"none",onInsertStyle:mM,onInlineShortcut:()=>"",onScrollIntoView:null,onExport:TMe,value:""}}function xV(t){return t.defaultMode==="inline-math"?"math":t.defaultMode}function PCe(t,e){let r=t.at(t.position);if(r.type==="composition")r.value=e;else{let{caret:i}=r;r.caret=void 0;let n=new qU(e,{mode:r.mode});n.caret=i,r.parent.addChildAfter(n,r),t.position+=1}}function RCe(t){let e=t.at(t.position);e.type==="composition"&&(e.parent.removeChild(e),t.position-=1)}nw(["math","displaymath"],Io),nw("center",Io),Ru(["multline","multline*"],"",Io),ht("displaylines","",{parse:t=>{if(t.skipWhitespace(),!t.match("<{>"))return[];let e=[],r=[];t.mathlist.length>0&&e.push([t.mathlist]),t.beginContext({tabular:!0,root:!0});do{if(t.end()||t.match("<}>"))break;t.matchColumnSeparator()||t.matchRowSeparator()?(e.push([r]),r=[]):r.push(...t.scan(n=>["<}>","&","\\cr","\\\\","\\tabularnewline"].includes(n)))}while(!0);t.endContext(),e.push([r]);let i=t.scan();return i.length>0&&e.push([i]),e},createAtom:t=>new Jr("lines",t.args,[],{leftDelim:".",rightDelim:".",columns:[{align:"l"}],classes:["ML__multiline_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})}),Ru("split","",Io),Ru(["gather","gather*","gathered"],"",Io),Ru(["equation","equation*","subequations"],"",Io),nw(["align","align*","eqnarray"],Io,{tabular:!0}),Ru(["aligned"],"",Io),Ru("array","{columns:colspec}",(t,e,r,i)=>new Jr(t,e,r,{columns:i[0],mathstyleName:"textstyle"})),Ru(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",Io),Ru(["smallmatrix","smallmatrix*"],"[columns:colspec]",Io),Ru(["cases","dcases","rcases"],"",Io);function Io(t,e=[[[]]],r=[],i=[],n){switch(t){case"math":return new Jr(t,e,r,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"displaymath":return new Jr(t,e,r,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"center":return new Jr(t,e,r,{columns:[{align:"c"}],classes:["ML__center_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"multline":case"multline*":return new Jr(t,e,r,{columns:[{align:"m"}],leftDelim:".",rightDelim:".",isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"split":return new Jr(t,e,r,{columns:[{align:"r"},{align:"l"}],minColumns:2,minRows:1,isRoot:!1});case"gather":case"gather*":return new Jr(t,e,r,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1,isRoot:!0,classes:["ML__gather_environment"]});case"gathered":return new Jr(t,e,r,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1});case"equation":case"equation*":case"subequations":return new Jr(t,e,r,{columns:[{align:"c"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"aligned":{let a=0;for(let l of e)a=Math.max(a,l.length);let s=[{gap:0},{align:"r"},{gap:.25},{align:"l"}],o=2;for(;o<a;)s.push({gap:1},{align:"r"},{gap:.25},{align:"l"}),o+=2;return s.push({gap:0}),new Jr(t,e,r,{arraycolsep:0,columns:s,minColumns:2,minRows:1,isRoot:t!=="aligned"})}case"eqnarray":return new Jr(t,e,r,{arraycolsep:0,columns:[{gap:0},{align:"r"},{align:"c"},{align:"l"}],minColumns:3,maxColumns:3,minRows:1,isRoot:!0,classes:["ML__eqnarray_environment"]});case"align":case"align*":return new Jr(t,e,r,{arraycolsep:0,columns:[{gap:0},{align:"r"},{gap:.25},{align:"l"}],minColumns:2,maxColumns:2,minRows:1,isRoot:!0,classes:["ML__align_environment"]});case"pmatrix":case"pmatrix*":return new Jr(t,e,r,{mathstyleName:"textstyle",leftDelim:"(",rightDelim:")",columns:Z1(i[0],n)});case"bmatrix":case"bmatrix*":return new Jr(t,e,r,{mathstyleName:"textstyle",leftDelim:"[",rightDelim:"]",columns:Z1(i[0],n)});case"Bmatrix":case"Bmatrix*":return new Jr(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\lbrace",rightDelim:"\\rbrace",columns:Z1(i[0],n)});case"vmatrix":case"vmatrix*":return new Jr(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\vert",rightDelim:"\\vert",columns:Z1(i[0],n)});case"Vmatrix":case"Vmatrix*":return new Jr(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\Vert",rightDelim:"\\Vert",columns:Z1(i[0],n)});case"matrix":case"matrix*":return new Jr(t,e,r,{mathstyleName:"textstyle",leftDelim:".",rightDelim:".",columns:Z1(i==null?void 0:i[0],n)});case"smallmatrix":case"smallmatrix*":return new Jr(t,e,r,{mathstyleName:"scriptstyle",columns:Z1(i==null?void 0:i[0],n),colSeparationType:"small",arraystretch:.5});case"cases":case"dcases":return new Jr(t,e,r,{mathstyleName:t==="dcases"?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]});case"rcases":return new Jr(t,e,r,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]});case"lines":return new Jr(t,e,r,{leftDelim:".",rightDelim:".",columns:[{align:"l"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})}return new Jr(t,e,r,{mathstyleName:"textstyle"})}function Z1(t,e=10){return t??Array(e).fill({align:"c"})}function jCe(t){let e=t.at(t.position);for(;e&&!Zu(e.parentBranch);)e=e.parent;return[e.firstSibling,e.lastSibling]}function qCe(t,e){let r=t.at(t.position);for(;r&&!(r.parent instanceof Jr);)r=r.parent;if(r&&r.type==="array"&&r.environmentName,!r||!(r.parent instanceof Jr)){let i=t.at(t.position);if(r=i,!r.parent.parent){let n=t.extractAtoms([t.position,t.lastOffset]),a=t.extractAtoms([0,t.position]),s;return e.endsWith("column")?(a.length===0&&(a=vy()),n.length===0&&(n=vy()),s=Io("split",[[a,n]]),t.root=s,q2(s,0,0)?am(t,s,0,0):q2(s,0,1)?am(t,s,0,1):t.position=t.offsetOf(i)):(s=Io("lines",[[a],[n]]),t.root=s,am(t,s,1,0)),[void 0,[0,0]]}if(r.parent instanceof On){let n=r.parent,a=t.extractAtoms([t.position,t.offsetOf(n.lastChild)]),s=t.extractAtoms([t.offsetOf(n.firstChild),t.position]);s.length===0&&(s=vy()),a.length===0&&(a=vy());let o="pmatrix",l=n.leftDelim,u=n.rightDelim;l==="("&&(u===")"||u==="?")?o="pmatrix":(l==="["||l==="\\lbrack")&&(u==="]"||u==="\\rbrack"||u==="?")?o="bmatrix":l==="\\vert"&&u==="\\vert"?o="vmatrix":l==="\\Vert"&&u==="\\Vert"?o="Vmatrix":(l==="{"||l==="\\lbrace")&&(u==="."||u==="?")&&(o="cases");let c=Io(o,e.endsWith("column")?[[s,a]]:[[s],[a]]);return n.parent.addChildBefore(c,n),n.parent.removeChild(n),q2(c,0,0)?am(t,c,0,0):e.endsWith("column")?q2(c,0,1)?am(t,c,0,1):t.position=t.offsetOf(r):q2(c,1,0)?am(t,c,1,0):t.position=t.offsetOf(r),[void 0,[0,0]]}}return r&&r.parent instanceof Jr?[r.parent,r.parentBranch]:[void 0,[0,0]]}function q2(t,e,r){let i=t.getCell(e,r);return!i||i.length!==2?!1:i[1].type==="placeholder"}function UCe(t,e,r,i){let n=e.getCell(r,i);return n?[t.offsetOf(n[0]),t.offsetOf(n[n.length-1])]:-1}function am(t,e,r,i){let n=UCe(t,e,r,i);typeof n!="number"&&t.setSelection(n)}function gy(t,e,r,i,n){let a=e.getCell(r,i);a&&t.setPositionHandlingPlaceholder(t.offsetOf(a[n==="start"?0:a.length-1]))}function U2(t,e){let[r,[i,n]]=qCe(t,e);if(r)switch(e){case"after row":r.addRowAfter(i),gy(t,r,i+1,0,"end");break;case"after column":if(r.maxColumns<=r.colCount){t.announce("plonk");return}r.addColumnAfter(n),gy(t,r,i,n+1,"end");break;case"before row":r.addRowBefore(i),gy(t,r,i,0,"start");break;case"before column":if(r.maxColumns<=r.colCount){t.announce("plonk");return}r.addColumnBefore(n),gy(t,r,i,n,"start");break}}function wV(t){var e;let r=t.at(t.position);if(!Zu(r.parentBranch)&&r.parent!==t.root&&t.root.type!=="root")return t.announce("plonk"),!1;if(!t.contentWillChange({inputType:"insertText"}))return!1;if((e=t.parentEnvironment)!=null&&e.isMultiline){t.selectionIsCollapsed||t.deleteAtoms(As(t.selection));let[i,n]=jCe(t),a=t.extractAtoms([t.position,t.offsetOf(n)]),s=t.extractAtoms([t.offsetOf(i),t.position]),o=i.parent,[l,u]=i.parentBranch;return o.setCell(l,u,s),U2(t,"after row"),o.setCell(l+1,u,a),t.position=t.offsetOf(o.getCell(l+1,u)[0]),t.contentDidChange({inputType:"insertText"}),!0}return U2(t,"after row"),t.contentDidChange({inputType:"insertText"}),!0}function VCe(t){return t.contentWillChange({inputType:"insertText"})?(U2(t,"before row"),t.contentDidChange({inputType:"insertText"}),!0):!1}function MV(t){return t.contentWillChange({inputType:"insertText"})?(U2(t,"after column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function GCe(t){return t.contentWillChange({inputType:"insertText"})?(U2(t,"before column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function kV(t,e){if(!t.contentWillChange({}))return!1;t.mathfield.snapshot();let r=".",i=".";switch(e){case"pmatrix":case"pmatrix*":r="(",i=")";break;case"bmatrix":case"bmatrix*":r="[",i="]";break;case"Bmatrix":case"Bmatrix*":r="\\lbrace",i="\\rbrace";break;case"vmatrix":case"vmatrix*":r="\\vert",i="\\vert";break;case"Vmatrix":case"Vmatrix*":r="\\Vert",i="\\Vert";break;case"matrix":case"matrix*":r=".",i=".";break;case"cases":case"dcases":r="\\lbrace";break;case"rcases":i="\\rbrace";break}let n=t.at(t.position),a=n.type==="array"?n:t.parentEnvironment;return a.environmentName=e,a.leftDelim=r,a.rightDelim=i,t.contentDidChange({}),!0}function CV(t,e){let r=t.at(t.position);for(;r&&!(Array.isArray(r.parentBranch)&&r.parent instanceof Jr);)r=r.parent;if(Array.isArray(r==null?void 0:r.parentBranch)&&(r==null?void 0:r.parent)instanceof Jr){let i=r.parent,n=r.parentBranch,a;switch(e){case"row":if(i.rowCount>1){i.removeRow(n[0]);let s=i.getCell(Math.max(0,n[0]-1),n[1]);a=t.offsetOf(s[s.length-1])}break;case"column":if(i.colCount>i.minColumns){i.removeColumn(n[1]);let s=i.getCell(n[0],Math.max(0,n[1]-1));a=t.offsetOf(s[s.length-1])}break}a!==void 0&&t.setPositionHandlingPlaceholder(a)}}function ZCe(t){return t.contentWillChange({inputType:"deleteContent"})?(CV(t,"row"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}function HCe(t){return t.contentWillChange({inputType:"deleteContent"})?(CV(t,"column"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}uo({addRowAfter:wV,addColumnAfter:MV,addRowBefore:VCe,addColumnBefore:GCe,removeRow:ZCe,removeColumn:HCe,setEnvironment:kV},{target:"model",canUndo:!0,changeContent:!0,changeSelection:!0});function vy(){return[new H0]}var NV=class SH{constructor(e){this.recording=!1,this.model=e,this.reset()}reset(){this.stack=[],this.index=-1,this.lastOp=""}startRecording(){this.recording=!0}stopRecording(){this.recording=!1}canUndo(){return this.index-1>=0}canRedo(){return this.stack.length-1>this.index}stopCoalescing(e){e&&this.index>=0&&(this.stack[this.index].selection=e),this.lastOp=""}undo(){return this.canUndo()?(this.model.setState(this.stack[this.index-1],{silenceNotifications:!1,type:"undo"}),this.index-=1,this.lastOp="",!0):!1}redo(){return this.canRedo()?(this.index+=1,this.model.setState(this.stack[this.index],{silenceNotifications:!1,type:"redo"}),this.lastOp="",!0):!1}pop(){this.canUndo()&&(this.stack.splice(this.index,this.stack.length-this.index),this.index-=1)}snapshot(e){return this.recording?(e&&e===this.lastOp&&this.pop(),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index+=1,this.stack.length>SH.maximumDepth&&(this.stack.shift(),this.index-=1),this.lastOp=e??"",!0):!1}};NV.maximumDepth=1e3;var WCe=NV;function kM(t,e,r){if(t.at(e).mode!=="text")return e;let i=r==="backward"?-1:1,n;if(c2.test(t.at(e).value)){let a=e,s;do s=t.at(a).mode==="text"&&c2.test(t.at(a).value),a+=i;while(t.at(a)&&s);n=t.at(a)?a-2*i:a-i}else if(/\s/.test(t.at(e).value)){let a=e;for(;t.at(a)&&t.at(a).mode==="text"&&/\s/.test(t.at(a).value);)a+=i;if(!t.at(a))n=a-i;else{let s=!0;do s=t.at(a).mode==="text"&&!/\s/.test(t.at(a).value),a+=i;while(t.at(a)&&s);n=t.at(a)?a-2*i:a-i}}else{let a=e;for(;t.at(a)&&t.at(a).mode==="text"&&!/\s/.test(t.at(a).value);)a+=i;n=t.at(a)?a:a-i;let s=!0;for(;t.at(a)&&s;)s=t.at(a).mode==="text"&&/\s/.test(t.at(a).value),s&&(n=a),a+=i;n=t.at(a)?a-2*i:a-i}return n-(i>0?0:1)}function sm(t,e,r){var i,n,a,s,o,l,u;let c=t.position;(i=r==null?void 0:r.extend)!=null&&i||t.collapseSelection(e);let h=t.at(t.position);if(e==="forward"&&(h.type==="subsup"?(h=h.rightSibling,h||(h=t.at(t.position+1))):h=t.at(t.position+1)),!h)return t.announce("plonk"),!1;let p=t.offsetOf(h);if(h instanceof Gd)p=kM(t,p,e);else if(h instanceof Ha)if(h.isSuggestion)for(;h&&h instanceof Ha;)h.isSuggestion=!1,p=t.offsetOf(h),h=h.rightSibling;else if(e==="forward"){if(h=h.rightSibling,!h||!(h instanceof Ha))return t.announce("plonk"),!1;for(;h&&h instanceof Ha&&/[a-zA-Z\*]/.test(h.value);)p=t.offsetOf(h),h=h.rightSibling}else{if(h=h.leftSibling,!h||!(h instanceof Ha))return t.announce("plonk"),!1;for(;h&&h instanceof Ha&&/[a-zA-Z\*]/.test(h.value);)p=t.offsetOf(h),h=h.leftSibling}else if(e==="forward"&&h.type==="mopen"){let d=0;do h.type==="mopen"?d+=1:h.type==="mclose"&&(d-=1),h=h.rightSibling;while(!h.isLastSibling&&d!==0);p=t.offsetOf(h.leftSibling)}else if(e==="backward"&&h.type==="mclose"){let d=0;do h.type==="mopen"?d+=1:h.type==="mclose"&&(d-=1),h=h.leftSibling;while(!h.isFirstSibling&&d!==0);p=t.offsetOf(h)}else if(e==="backward")if(h.type==="first")for(;p>0&&h.type==="first";)p-=1,h=t.at(p);else{let d=h.type;h.type==="subsup"&&(p=t.offsetOf(t.at(p).leftSibling)),p-=1;let m=(n=t.at(p))==null?void 0:n.type;for(;p>=0&&m===d;)((a=t.at(p))==null?void 0:a.type)==="subsup"?p=t.offsetOf(t.at(p).leftSibling):p-=1,m=t.at(p).type}else{let{type:d}=h,m=(s=t.at(p))==null?void 0:s.type,{lastOffset:f}=t;for(;p<=f&&(m===d||m==="subsup");){for(;((o=t.at(p).rightSibling)==null?void 0:o.type)==="subsup";)p=t.offsetOf(t.at(p).rightSibling);p+=1,m=(l=t.at(p))==null?void 0:l.type}p-=1}if((u=r==null?void 0:r.extend)!=null&&u){if(!t.setSelection(t.anchor,p))return t.announce("plonk"),!1}else{if(p===t.position)return t.announce("plonk"),!1;t.position=p}return t.announce("move",c),t.mathfield.stopCoalescingUndo(),!0}function Y0(t,e,r){var i,n;if(r=r??{extend:!1},t.mathfield.styleBias=e==="backward"?"right":"left",e!=="forward"){let[o,l]=oV(t);o!==void 0&&l!==void 0&&t.deleteAtoms([o,l])}if(e==="upward")return KCe(t,r);if(e==="downward")return XCe(t,r);if(r.extend){let o=yy(t,t.position,e);o<0&&(o=0),o>t.lastOffset&&(o=t.lastOffset);let l=t.setSelection(t.anchor,o);return t.mathfield.stopCoalescingUndo(),l}if(t.selectionIsPlaceholder){t.collapseSelection(e);let o=Y0(t,e);return t.mathfield.stopCoalescingUndo(),o}let a=t.position,s=a;if(t.collapseSelection(e)?(a=t.position,SV(t,a)||(a=yy(t,a,e))):a=yy(t,a,e),a<0||a>t.lastOffset){let o=!0;return t.silenceNotifications||(o=(n=(i=t.mathfield.host)==null?void 0:i.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))!=null?n:!0),o&&t.announce("plonk"),o}return t.setPositionHandlingPlaceholder(a),t.mathfield.stopCoalescingUndo(),t.announce("move",s),!0}function yy(t,e,r){return e=e+(r==="forward"?1:-1),e<0||e>t.lastOffset||SV(t,e)?e:yy(t,e,r)}function SV(t,e){var r;let i=t.at(e),n=i.parent;for(;n&&!n.inCaptureSelection;)n=n.parent;return!(n!=null&&n.inCaptureSelection||(r=i.parent)!=null&&r.skipBoundary&&(!i.isFirstSibling&&i.isLastSibling||i.type==="first")||t.mathfield.hasEditablePrompts&&!i.parentPrompt)}function YCe(t,e,r){let i=1/0,n=0;for(;n<e.length;n++){let a=e[n],s=t.getHTMLElement(a);if(!s)continue;let o=TU(s).right,l=Math.abs(r-o);if(l<=i)i=l;else break}return e[n-1]}function by(t,e,r,i,n){let a=t.mathfield.hasEditablePrompts,s=a?r.filter(u=>u.type==="prompt"&&!u.captureSelection):r,o=TU(t.mathfield.getHTMLElement(e)).right,l=t.offsetOf(YCe(t.mathfield,s,o))-(a?1:0);if(i){let[u,c]=t.selection.ranges[0],h;l<(n==="up"?u:c)?h={ranges:[[l,c]],direction:"backward"}:h={ranges:[[u,l]],direction:"forward"},t.setSelection(h)}else t.setPositionHandlingPlaceholder(l);t.announce(`move ${n}`)}function KCe(t,e){var r,i;let n=(r=e==null?void 0:e.extend)!=null?r:!1;n||t.collapseSelection("backward");let a=()=>{var l,u;let c=!0;return t.silenceNotifications||(c=(u=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?u:!0),t.announce(c?"line":"plonk"),c},s=t.at(t.position),o=s;for(;o&&o.parentBranch!=="below"&&!(Array.isArray(o.parentBranch)&&o.parent instanceof Jr);)o=o.parent;if(Array.isArray(o==null?void 0:o.parentBranch)&&o.parent instanceof Jr){let l=o.parent;if(o.parentBranch[0]<1)return a();let u=o.parentBranch[0]-1,c=l.getCell(u,o.parentBranch[1]);if(!c.some(h=>h.type==="prompt"&&!h.captureSelection)&&t.mathfield.hasEditablePrompts)return a();by(t,s,c,n,"up")}else if(o){let l=(i=o.parent.branch("above"))!=null?i:o.parent.createBranch("above");if(!l.some(u=>u.type==="prompt"&&u.placeholderId)&&t.mathfield.hasEditablePrompts)return a();by(t,s,l,n,"up")}else return a();return t.mathfield.stopCoalescingUndo(),!0}function XCe(t,e){var r,i;let n=(r=e==null?void 0:e.extend)!=null?r:!1;n||t.collapseSelection("forward");let a=()=>{var l,u;let c=!0;return t.silenceNotifications||(c=(u=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?u:!0),t.announce(c?"line":"plonk"),c},s=t.at(t.position),o=s;for(;o&&o.parentBranch!=="above"&&!(Zu(o.parentBranch)&&o.parent instanceof Jr);)o=o.parent;if(Zu(o==null?void 0:o.parentBranch)&&o.parent instanceof Jr){let l=o.parent;if(o.parentBranch[0]+1>l.rows.length-1)return a();let u=o.parentBranch[0]+1,c=l.getCell(u,o.parentBranch[1]);if(!c.some(h=>h.type==="prompt"&&!h.captureSelection)&&t.mathfield.hasEditablePrompts)return a();by(t,s,c,n,"down")}else if(o){let l=(i=o.parent.branch("below"))!=null?i:o.parent.createBranch("below");if(!l.some(u=>u.type==="prompt")&&t.mathfield.hasEditablePrompts)return a();by(t,s,l,n,"down")}else return a();return!0}function DV(t){let e=t.position,r=t.at(e).parent;return r!=null&&r.parent?(t.position=t.offsetOf(r),t.mathfield.stopCoalescingUndo(),t.announce("move",e),!0):(t.announce("plonk"),!1)}function QCe(t){let e=0,r=t.at(t.position),i=!1;for(;r;)(!r.hasEmptyBranch("superscript")||!r.hasEmptyBranch("subscript"))&&(e+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(i=!1):i=!0,r=r.parent;return i?e:0}function JCe(t){let e=0,r=t.at(t.position),i=!1;for(;r;)(!r.hasEmptyBranch("superscript")||!r.hasEmptyBranch("subscript"))&&(e+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(i=!0):i=!1,r=r.parent;return i?e:0}function AV(t){var e;if(t.collapseSelection(),QCe(t)>=t.mathfield.options.scriptDepth[1])return t.announce("plonk"),!1;let r=t.at(t.position);return r.subsupPlacement===void 0&&(((e=r.rightSibling)==null?void 0:e.type)!=="subsup"&&r.parent.addChildAfter(new Hv({style:r.style}),r),r=r.rightSibling),r.createBranch("superscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(r.superscript[0]))),!0}function $V(t){var e;if(t.collapseSelection(),JCe(t)>=t.mathfield.options.scriptDepth[0])return t.announce("plonk"),!1;let r=t.at(t.position);return r.subsupPlacement===void 0&&(((e=t.at(t.position+1))==null?void 0:e.type)!=="subsup"&&r.parent.addChildAfter(new Hv({style:t.at(t.position).style}),r),r=t.at(t.position+1)),r.createBranch("subscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(r.subscript[0]))),!0}function eNe(){function t(l){let u=[],c=[];return[...l.querySelectorAll(`input, select, textarea, a[href], button,
        [tabindex], audio[controls], video[controls],
        [contenteditable]:not([contenteditable="false"]), details>summary`)].filter(e).forEach((h,p)=>{let d=i(h);d===0?u.push(h):c.push({documentOrder:p,tabIndex:d,node:h})}),c.sort((h,p)=>h.tabIndex===p.tabIndex?h.documentOrder-p.documentOrder:h.tabIndex-p.tabIndex).map(h=>h.node).concat(u)}function e(l){return!(!r(l)||n(l)||i(l)<0)}function r(l){return!(l.disabled||l.type==="hidden"&&l.tagName.toUpperCase()==="INPUT"||o(l))}function i(l){var u;let c=Number.parseInt((u=l.getAttribute("tabindex"))!=null?u:"NaN",10);return Number.isNaN(c)?l.contentEditable==="true"||(l.nodeName==="AUDIO"||l.nodeName==="VIDEO")&&l.getAttribute("tabindex")===null?0:l.tabIndex:c}function n(l){return l.tagName.toUpperCase()==="INPUT"&&l.type==="radio"&&!s(l)}function a(l,u){for(let c of l)if(c.checked&&c.form===u)return c;return null}function s(l){var u;if(!l.name)return!0;let c=((u=l.form)!=null?u:l.ownerDocument).querySelectorAll('input[type="radio"][name="'+l.name+'"]'),h=a(c,l.form);return!h||h===l}function o(l){if(!Al()||l===document.activeElement||l.contains(document.activeElement))return!1;if(getComputedStyle(l).visibility==="hidden")return!0;let u=l.getBoundingClientRect();if(u.width===0||u.height===0)return!0;for(;l;){if(getComputedStyle(l).display==="none")return!0;l=l.parentElement}return!1}return Al()?t(document.body):[]}function Zs(t,e,r="forward"){let i=t.position;if(hs(e)){let n=t.offsetOf(e[0]),a=t.offsetOf(e[e.length-1]);return r==="forward"?t.setSelection(n,a):t.setSelection(a,n),t.announce("move",i),t.mathfield.stopCoalescingUndo(),!0}return r==="forward"?Zs(t,[e.leftSibling,e]):Zs(t,[e,e.leftSibling])}function p0(t,e){let r=t.position;if(typeof e=="number"&&(e=t.at(e)),e.type==="prompt")t.setSelection(t.offsetOf(e.firstChild),t.offsetOf(e.lastChild));else{let i=t.offsetOf(e);e.type==="placeholder"?t.setSelection(i-1,i):t.position=i}return t.announce("move",r),t.mathfield.stopCoalescingUndo(),!0}function om(t,e){var r,i;let n=e==="forward"?1:-1;t.at(t.anchor).type==="placeholder"&&Y0(t,e);let a,s=t.at(t.anchor).parentPrompt;s?e==="forward"?a=t.offsetOf(s)+1:a=t.offsetOf(s.leftSibling):a=Math.max(t.position+n,0);let o=CM(t,a,e);if(!o||e==="forward"&&t.offsetOf(o)<a||e==="backward"&&t.offsetOf(o)>a){if(!((i=(r=t.mathfield.host)==null?void 0:r.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))==null||i))return t.announce("plonk"),!1;let l=eNe();if(!document.activeElement||l.length<=1)return t.announce("plonk"),!1;let u=l.indexOf(document.activeElement)+n;return u<0&&(u=l.length-1),u>=l.length&&(u=0),l[u].focus(),t.mathfield.stopCoalescingUndo(),!0}return p0(t,o),!0}function CM(t,e=0,r="forward"){return t.findAtom(i=>i.type==="placeholder"||i.type==="prompt"||!t.mathfield.readOnly&&i.treeDepth>2&&i.isFirstSibling&&i.isLastSibling,e,r)}uo({moveToOpposite:t=>{let e={superscript:"subscript",subscript:"superscript",above:"below",below:"above"},r=t.at(t.position),{parent:i}=r;if(!i)return t.announce("plonk"),!1;let n=r.parentBranch,a;if(typeof n=="string"&&(a=e[n]),!a){let o=r.subsupPlacement?$V(t):AV(t);return t.mathfield.stopCoalescingUndo(),o}i.branch(a)||i.createBranch(a);let s=t.setSelection(t.getBranchRange(t.offsetOf(i),a));return t.mathfield.stopCoalescingUndo(),s},moveBeforeParent:t=>{let{parent:e}=t.at(t.position);return e?(t.position=t.offsetOf(e),t.mathfield.stopCoalescingUndo(),!0):(t.announce("plonk"),!1)},moveAfterParent:t=>DV(t),moveToNextChar:t=>Y0(t,"forward"),moveToPreviousChar:t=>Y0(t,"backward"),moveUp:t=>Y0(t,"upward"),moveDown:t=>Y0(t,"downward"),moveToNextWord:t=>sm(t,"forward"),moveToPreviousWord:t=>sm(t,"backward"),moveToGroupStart:t=>{let e=t.offsetOf(t.at(t.position).firstSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToGroupEnd:t=>{let e=t.offsetOf(t.at(t.position).lastSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToNextGroup:t=>{var e,r,i,n;if(t.position===t.lastOffset&&t.anchor===t.lastOffset)return om(t,"forward");let a=t.at(t.position);if(a.mode==="text"){if(t.selectionIsCollapsed){let h=a;for(;h&&h.mode==="text";)h=h.leftSibling;let p=a;for(;((e=p.rightSibling)==null?void 0:e.mode)==="text";)p=p.rightSibling;if(h&&p)return Zs(t,[h,p])}if(a.rightSibling.mode==="text"){let h=a;for(;h&&h.mode==="text";)h=h.rightSibling;return h?(p0(t,(r=h.leftSibling)!=null?r:h),t.mathfield.switchMode("math"),!0):p0(t,t.lastOffset)}}let s=t.at(t.anchor).parentPrompt,o=s?t.offsetOf(s)+1:Math.max(t.position+1,0),l=CM(t,o,"forward");if(l&&t.offsetOf(l)<o)return om(t,"forward");if(l)return p0(t,l);let u=_V(t,a,h=>h.type==="leftright"||h.type==="text","forward");if(u){if(u.mode==="text"){let h=u;for(;h&&h.mode==="text";)h=h.rightSibling;return Zs(t,[(i=u.leftSibling)!=null?i:u,(n=h.leftSibling)!=null?n:h])}return Zs(t,u)}let c=a.parent;if(c){if(c.type==="leftright"||c.type==="surd")return Zs(t,c);if(a.parentBranch==="superscript"&&c.subscript)return Zs(t,c.subscript);if(a.parentBranch==="above"&&c.below)return Zs(t,c.below);if(a.parentBranch==="superscript"||a.parentBranch==="subscript")return p0(t,c);if(a.parentBranch==="above"||a.parentBranch==="below")return Zs(t,c)}return p0(t,t.lastOffset)},moveToPreviousGroup:t=>{var e;if(t.position===0&&t.anchor===0)return om(t,"backward");let r=t.at(t.position),i=r.mode;if(i==="text"){if(t.selectionIsCollapsed){let o=r;for(;o&&o.mode==="text";)o=o.leftSibling;let l=r;for(;((e=l.rightSibling)==null?void 0:e.mode)==="text";)l=l.rightSibling;if(o&&l)return Zs(t,[o,l])}for(;r&&r.mode==="text";)r=r.leftSibling;return r?p0(t,r):p0(t,0)}let n=t.at(t.anchor).parentPrompt,a=n?t.offsetOf(n.leftSibling):Math.max(t.position-1,0),s=CM(t,a,"backward");if(s&&t.offsetOf(s)>a)return om(t,"backward");if(s)return p0(t,s);if(i==="math"){let o=_V(t,r,u=>u.type==="leftright"||u.type==="text","backward");if(o){if(o.mode==="text"){let u=o;for(;u&&u.mode==="text";)u=u.leftSibling;return Zs(t,[o,u])}return Zs(t,o)}let l=r.parent;if(l){if(l.type==="leftright"||l.type==="surd")return Zs(t,l);if(r.parentBranch==="subscript"&&l.superscript)return Zs(t,l.superscript);if(r.parentBranch==="below"&&l.above)return Zs(t,l.above);if(r.parentBranch==="superscript"||r.parentBranch==="subscript")return p0(t,l);if(r.parentBranch==="above"||r.parentBranch==="below")return Zs(t,l)}return p0(t,0)}return!1},moveToMathfieldStart:t=>t.selectionIsCollapsed&&t.position===0?(t.announce("plonk"),!1):(t.position=0,t.mathfield.stopCoalescingUndo(),!0),moveToMathfieldEnd:t=>t.selectionIsCollapsed&&t.position===t.lastOffset?(t.announce("plonk"),!1):(t.position=t.lastOffset,t.mathfield.stopCoalescingUndo(),!0),moveToSuperscript:AV,moveToSubscript:$V},{target:"model",changeSelection:!0}),uo({moveToNextPlaceholder:t=>om(t,"forward"),moveToPreviousPlaceholder:t=>om(t,"backward")},{target:"model",changeSelection:!0,audioFeedback:"return"});function _V(t,e,r,i){if(i==="forward"){let a=e.rightSibling;for(;a&&!r(a);)a=a.rightSibling;return a}let n=e.leftSibling;for(;n&&!r(n);)n=n.leftSibling;return n}function xy(t,e,r){typeof e=="function"&&(r=e,e=1/0),e===void 0&&(e=1/0);let i=t.position,n=!1,a="";for(;!n;){let s=t.at(i);n=e===0||s===void 0||s.type==="first"||s.mode!=="math"||!(s.type&&/mord|mpunct|operator/.test(s.type)||s.type==="mop"&&/[a-zA-Z ]+/.test(s.value))||!s.hasEmptyBranch("superscript")||!s.hasEmptyBranch("subscript")||typeof r=="function"&&!r(s),n||(s.mode="text",s.command=s.value,s.verbatimLatex=void 0,a+=s.value),i-=1,e-=1}t.contentDidChange({data:a,inputType:"insertText"})}function V2(t,e,r){typeof e=="function"&&(r=e,e=1/0),e===void 0&&(e=1/0);let i=t.position,n=!1,a=[];for(;!n;){let s=t.at(i);n=e===0||!s||s.type==="first"||s.isFirstSibling||s.mode!=="text"||s.value===" "||typeof r=="function"&&!r(s),n||(a.push(it.serialize([s],{defaultMode:"math"})),s.mode="math"),i-=1,e-=1}NM(t),t.contentDidChange({data:Hr(a),inputType:"insertText"})}function NM(t){var e;let r=t.position-1;for(;r>=0&&((e=t.at(r))==null?void 0:e.mode)==="math";)r-=1;if(!(r<0)&&t.at(r).mode==="text"&&t.at(r).value===" "&&t.at(r-1).mode==="math"){t.at(r-1).parent.removeChild(t.at(r-1));let i=t.silenceNotifications;t.silenceNotifications=!0,t.position-=1,t.silenceNotifications=i,t.contentDidChange({inputType:"deleteContent"})}}function tNe(t){let e="",r=t.position,i=!1;for(;!i;){let n=t.at(r);i=!(n&&(n.mode==="text"||n.mode==="math"&&n.type&&/mord|mpunct/.test(n.type))),i||(e=n.value+e),r-=1}return e}function rNe(t,e,r){let{model:i}=t;if(i.mode==="latex"||!i.at(i.position).isLastSibling||!r||!ry(r))return!1;let n=Kd(r);if(!i.selectionIsCollapsed)return!!(t.model.mode==="text"&&/[/_^]/.test(n));let a=tNe(i)+n;if(t.model.mode==="text"){if(e==="Esc"||/[/\\]/.test(n))return!0;if(/[\^_]/.test(n))return/(^|\s)[a-zA-Z][^_]$/.test(a)&&V2(i,1),!0;let s={")":"(","}":"{","]":"["}[n],{parent:o}=i.at(i.position);if(s&&o instanceof On&&o.leftDelim===s)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(a))return!1;if(/[$€£₤₺¥¤฿¢₡₧₨₹₩₱]/u.test(n))return!0;if(/(^|[^a-zA-Z'’])[a-zA-Z] $/.test(a))return V2(i,1),!1;if(/\D\.[^\d\s]$/.test(a)){V2(i,1);let l=i.at(i.position);return l.value="⋅",l.style.variant="normal",l.command="\\cdot",l.verbatimLatex=void 0,i.contentDidChange({data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(a)||/\.\d$/.test(a)||/\([\d+\-.]$/.test(a))return V2(i,1),!0;if(/\([a-z][,;]$/.test(a))return V2(i,2),!0;if(/[\d+\-=><*|]$/.test(n))return NM(i),!0}else{if(e==="[Space]")return xy(i,void 0,s=>/[a-z][:,;.]$/.test(s.value)),!0;if(/[a-zA-Z]{3,}$/.test(a)&&!/(dxd|abc|xyz|uvw)$/.test(a))return xy(i,void 0,s=>/[a-zA-Z]/.test(s.value)),!0;if(/(^|\W)(if)$/i.test(a))return xy(i,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(a)&&!/(αβγ)$/.test(a))return xy(i,void 0,s=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(s.value)),!0;if(n==="?"||n==="."&&!/[\d-+]\.$/.test(a))return!0}return!1}function iNe(t,e){if(!t.isSelectionEditable||!t.keystrokeCaptionVisible)return;let r=EV(),i=t.element.getBoundingClientRect();r.style.left=`${i.left}px`,r.style.top=`${i.top-64}px`,r.innerHTML=globalThis.MathfieldElement.createHTML("<span>"+(cM(e)||e)+"</span>"+r.innerHTML),r.style.visibility="visible",setTimeout(()=>{r.childNodes.length>0&&r.childNodes[r.childNodes.length-1].remove(),r.childNodes.length===0&&(r.style.visibility="hidden")},3e3)}function nNe(t){if(t.keystrokeCaptionVisible=!t.keystrokeCaptionVisible,t.keystrokeCaptionVisible){let e=EV();e.innerHTML=""}else{let e=sy("mathlive-keystroke-caption-panel");e.style.visibility="hidden"}return!1}function EV(){return document.getElementById("mathlive-keystroke-caption-panel")||(Wu("keystroke-caption"),Wu("core"),sy("mathlive-keystroke-caption-panel"))}function aNe(){document.getElementById("mathlive-keystroke-caption-panel")&&(fM("mathlive-keystroke-caption-panel"),dh("core"),dh("keystroke-caption"))}function IV(t,e){var r,i,n,a;let{model:s}=t,o=aV(e);if(e.isTrusted){Wke(e);let f=z2();t.keyboardLayout!==f.id&&(t.keyboardLayout=f.id,t._keybindings=void 0)}if(clearTimeout(t.inlineShortcutBufferFlushTimer),t.inlineShortcutBufferFlushTimer=0,iNe(t,o),e.isTrusted&&e.defaultPrevented)return t.flushInlineShortcutBuffer(),!1;let l,u=0,c="",h=0,p=t.inlineShortcutBuffer;if(t.isSelectionEditable){if(s.mode==="math")if(o==="[Backspace]")t.undoManager.lastOp==="insert-shortcut"?c="undo":p.pop();else if(!ry(e))t.flushInlineShortcutBuffer();else{let f=Kd(e),v=[...(i=(r=p[p.length-1])==null?void 0:r.keystrokes)!=null?i:[],f];p.push({state:s.getState(),keystrokes:v,leftSiblings:sNe(t)}),u=0;let y="";for(;!l&&u<v.length;)h=p.length-(v.length-u),y=v.slice(u).join(""),l=Jw(p[h].leftSiblings,y,t.options.inlineShortcuts),!l&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(y)&&(l=t.options.onInlineShortcut(t,y)),u+=1;t.flushInlineShortcutBuffer({defer:!0})}t.options.smartMode&&(l?t.switchMode("math"):rNe(t,o,e)&&(t.switchMode({math:"text",text:"math"}[s.mode]),c=""))}if(!l){if(c||(c=eCe(t.keybindings,s.mode,e)),!c&&(o==="[Enter]"||o==="[Return]")){let f=!0;return s.contentWillChange({inputType:"insertLineBreak"})&&(t.host&&(f=t.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),!f&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):((n=s.parentEnvironment)!=null&&n.isMultiline&&t.executeCommand("addRowAfter"),s.contentDidChange({inputType:"insertLineBreak"}))),f}if((!c||o==="[Space]")&&s.mode==="math"){if(o==="[Space]"){if(t.styleBias="none",t.flushInlineShortcutBuffer(),t.options.mathModeSpace)return nn.insert(s,t.options.mathModeSpace,{format:"latex",mode:"math"}),t.snapshot("insert-space"),c="",t.dirty=!0,t.scrollIntoView(),e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!1;let f=s.at(s.position+1),v=s.at(s.position-1);if((f==null?void 0:f.mode)==="text"||(v==null?void 0:v.mode)==="text")return nn.insert(s," ",{mode:"text"}),t.snapshot("insert-space"),t.dirty=!0,t.scrollIntoView(),!1}(a=s.at(s.position))!=null&&a.isDigit()&&globalThis.MathfieldElement.decimalSeparator===","&&Kd(e)===","&&(c="insertDecimalSeparator")}}if(!l&&!c){if(s.mathfield.smartFence){if(DM(s,Kd(e),Xd(t)))return t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}else{let{parent:f}=s.at(s.position);if(f instanceof On&&f.rightDelim==="?"&&s.at(s.position).isLastSibling&&/^[)}\]|]$/.test(o))return t.snapshot(),f.isDirty=!0,f.rightDelim=o,s.position+=1,s.selectionDidChange(),s.contentDidChange({data:Kd(e),inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1;if(!s.selectionIsCollapsed){let v=Kd(e);if(v==="("||v==="{"||v==="["){let y={"(":"(","{":"\\lbrace","[":"\\lbrack"}[v],x={"(":")","{":"\\rbrace","[":"\\rbrack"}[v],[g,b]=As(s.selection);return t.snapshot(),s.position=b,nn.insert(s,x,{format:"latex"}),s.position=g,nn.insert(s,y,{format:"latex"}),s.setSelection(g+1,b+1),s.contentDidChange({data:v,inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}}}return!0}let d=s.at(Math.max(s.position,s.anchor)),{parent:m}=d;if(c==="moveAfterParent"&&(m==null?void 0:m.type)==="leftright"&&d.isLastSibling&&t.options.smartFence&&DM(s,".",t.defaultStyle)&&(c="",Nn(t)),t.keyboardDelegate.cancelComposition(),c)t.executeCommand(c);else if(l){let f=Xd(t);s.setState(p[h].state);let v=p[p.length-1].keystrokes;v=v.slice(u-1);for(let y of v)nn.insert(s,y,{silenceNotifications:!0,style:f});t.snapshot("insert-shortcut"),s.setState(p[h].state),s.deferNotifications({content:!0,selection:!0,data:l,type:"insertText"},()=>(nn.insert(s,l,{format:"latex",style:f}),NM(t.model),l.endsWith(" ")&&(t.switchMode("text"),nn.insert(s," ",{style:f,mode:"text"})),t.snapshot(),s.selectionIsCollapsed||t.flushInlineShortcutBuffer(),!0)),t.dirty=!0,s.announce("replacement")}return t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}function SM(t,e,r){let{model:i}=t;if(!t.isSelectionEditable){i.announce("plonk");return}r!=null||(r={}),r.focus&&t.focus(),r.feedback&&globalThis.MathfieldElement.playSound("keypress"),typeof r.mode=="string"&&(t.switchMode(r.mode),t.snapshot());let n=vU(e),a=window.mathVirtualKeyboard;if(a!=null&&a.isShifted&&(n=typeof n=="string"?n.toUpperCase():n.map(s=>s.toUpperCase())),r.simulateKeystroke){let s=!0;for(let o of n)IV(t,new KeyboardEvent("keypress",{key:o}))&&(s=!1);if(s)return}if(i.mode==="latex")i.deferNotifications({content:!0,selection:!0,data:e,type:"insertText"},()=>{ay(t);for(let s of n)nn.insert(i,s,{insertionMode:"replaceSelection"});t.snapshot("insert-latex"),B2(t)});else if(i.mode==="text"){let s=we(we({},lNe(i)),t.defaultStyle);for(let o of n)nn.insert(i,o,{style:s,insertionMode:"replaceSelection"});t.snapshot("insert-text")}else if(i.mode==="math")for(let s of n)oNe(t,s);t.dirty=!0,t.scrollIntoView()}function sNe(t){let e=t.model,r=[],i=e.at(Math.min(e.position,e.anchor));for(;i.type!=="first";)r.push(i),i=i.leftSibling;return r}function oNe(t,e){let r=t.model,i={"^":"moveToSuperscript",_:"moveToSubscript"," ":t.options.mathModeSpace?["insert",t.options.mathModeSpace]:"moveAfterParent"}[e];if(i){t.executeCommand(i);return}let n=we({},Xd(t));!/[a-zA-Z0-9]/.test(e)&&t.styleBias!=="none"&&(n.variant="normal",n.variantStyle=void 0);let a=r.at(r.position);if(/\d/.test(e)&&t.options.smartSuperscript&&a.parentBranch==="superscript"&&a.parent.type!=="mop"&&a.parent.type!=="operator"&&a.parent.type!=="extensible-symbol"&&a.hasNoSiblings){if(!nn.insert(r,e,{style:n,insertionMode:"replaceSelection"})){t.undoManager.pop();return}t.snapshot("insert-mord"),DV(r);return}let s=e;s==="{"?s="\\lbrace":s==="}"?s="\\rbrace":s==="&"?s="\\&":s==="#"?s="\\#":s==="$"?s="\\$":s==="%"?s="\\%":s==="~"?s="\\~":s==="\\"&&(s="\\backslash"),nn.insert(r,s,{style:n,insertionMode:"replaceSelection"})&&t.snapshot(`insert-${r.at(r.position).type}`)}function lNe(t){var e,r,i,n;if(t.selectionIsCollapsed)return(r=(e=t.at(t.position))==null?void 0:e.style)!=null?r:{};let a=As(t.selection)[0];return(n=(i=t.at(a+1))==null?void 0:i.style)!=null?n:{}}function DM(t,e,r){var i;if(!e||t.mode!=="math")return!1;let n=t.at(t.position),{parent:a}=n,s={"(":"(",")":")","{":"\\lbrace","}":"\\rbrace","[":"\\lbrack","]":"\\rbrack","|":"|"}[e];if(!s)return!1;let o=qv[s],l=jv[s];if(!t.selectionIsCollapsed){t.mathfield.snapshot();let[u,c]=As(t.selection),h=t.extractAtoms([u,c]),p=a.addChildrenAfter([new On("left...right",h,{leftDelim:s,rightDelim:l})],t.at(u));return t.setSelection(t.offsetOf(p.firstChild),t.offsetOf(p.lastChild)),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:s,inputType:"insertText"}),!0}if(s==="|"){let u=a instanceof On?a.leftDelim+a.rightDelim:"";if(u==="\\lbrace\\rbrace"||u==="\\{\\}"||u==="\\lbrace?")return t.mathfield.snapshot(),nn.insert(t,"\\,\\middle\\vert\\,",{format:"latex",style:r}),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:s,inputType:"insertText"}),!0}if(l){if(a instanceof On&&a.firstChild===n&&(a.leftDelim==="?"||a.leftDelim==="."))return a.leftDelim=s,a.isDirty=!0,t.mathfield.snapshot(),t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(!(a instanceof On)){let p=n;for(;p&&!(p.type==="mclose"&&p.value===l);)p=p.rightSibling;if(p){t.mathfield.snapshot();let d=t.extractAtoms([t.offsetOf(n),t.offsetOf(p)]);return d.pop(),a.addChildrenAfter([new On("left...right",d,{leftDelim:s,rightDelim:l})],n),t.position=t.offsetOf(a.firstChild)+1,t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}}let u=t.offsetOf(n.lastSibling),c;for(c=t.position;c<=u;c++){let p=t.at(c);if(p instanceof On&&(p.leftDelim==="?"||p.leftDelim===".")&&TV(s,p.rightDelim))break}let h=t.at(c);if(c<=u&&h instanceof On){h.leftDelim=s,t.mathfield.snapshot();let p=t.extractAtoms([t.position,c-1]);return p=p.filter(d=>d.type!=="first"),h.addChildren(p,h.parentBranch),t.position+=1,t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(a instanceof On&&(a.leftDelim==="?"||a.leftDelim===".")&&TV(s,a.rightDelim)){a.isDirty=!0,a.leftDelim=s,t.mathfield.snapshot();let p=t.extractAtoms([t.offsetOf(n.firstSibling),t.position]);for(let d of p)a.parent.addChildBefore(d,a);return t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(!(a instanceof On&&a.leftDelim==="|")){if(s==="("){let p=t.position-1,d=!1;for(;p>=0;){let m=t.at(p);if(m.type==="first")break;if(m.type==="mord"&&m.value&&/^[\d]$/.test(m.value)){p-=1;continue}if(m.type==="group"&&((i=m.body)==null?void 0:i.length)===2&&m.body[0].type==="first"&&m.body[1].value===","){d=!0;break}if(m.type==="mord"&&(m.value===","||m.value===".")){d=!0;break}break}if(d)return!1}if(t.mathfield.snapshot(),nn.insert(t,`\\left${s}\\right?`,{format:"latex",style:r}),n.lastSibling.type!=="first"){let p=t.offsetOf(n.lastSibling),d=t.extractAtoms([t.position,p]);t.at(t.position).body=d,t.position-=1}return t.mathfield.snapshot("insert-fence"),!0}}if(o){if(s===")"){let m=t.position-1,f=!1;for(;m>=0;){let v=t.at(m);if(v.type==="first")break;if(v.type==="mord"&&v.value&&/^[\d]$/.test(v.value)){f=!0,m-=1;continue}break}if(f&&t.at(m).type==="mopen"&&t.at(m).value==="(")return!1}let u=n;for(;u;){if(u.type==="mopen"&&u.value===o){t.mathfield.snapshot();let m=u.leftSibling,f=t.extractAtoms([t.offsetOf(u.leftSibling),t.offsetOf(n)]);[,...f]=f;let v=new On("left...right",f,{leftDelim:o,rightDelim:s});return a.addChildrenAfter([v],m),t.position=t.offsetOf(v),t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}u=u.leftSibling}if(a instanceof On&&n.isLastSibling&&AM(a.leftDelim,s))return t.mathfield.snapshot(),a.isDirty=!0,a.rightDelim=s,t.position+=1,t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let c=t.offsetOf(n.firstSibling),h;for(h=t.position;h>=c;h--){let m=t.at(h);if(m instanceof On&&(m.rightDelim==="?"||m.rightDelim===".")&&AM(m.leftDelim,s))break}let p=t.at(h);if(h>=c&&p instanceof On)return t.mathfield.snapshot(),p.rightDelim=s,p.addChildren(t.extractAtoms([h,t.position]),p.parentBranch),t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(a instanceof On&&(a.rightDelim==="?"||a.rightDelim===".")&&AM(a.leftDelim,s))return t.mathfield.snapshot(),a.isDirty=!0,a.rightDelim=s,a.parent.addChildren(t.extractAtoms([t.position,t.offsetOf(n.lastSibling)]),a.parentBranch),t.position=t.offsetOf(a),t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let d=a.parent;return d instanceof On&&(d.rightDelim==="?"||d.rightDelim===".")&&t.at(t.position).isLastSibling?(t.position=t.offsetOf(d),DM(t,s,r)):!1}return!1}function AM(t,e){return t?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t)?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e):jv[t]===e:!0}function TV(t,e){return e?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e)?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t):qv[e]===t:!0}uo({undo:t=>(t.undo(),!0),redo:t=>(t.redo(),!0),scrollIntoView:t=>(t.scrollIntoView(),!0),scrollToStart:t=>(t.field.scroll(0,0),!0),scrollToEnd:t=>{let e=t.field.getBoundingClientRect();return t.field.scroll(e.left-window.scrollX,0),!0},toggleKeystrokeCaption:nNe,toggleContextMenu:t=>{let e=t.toggleContextMenu();return e||t.model.announce("plonk"),e},plonk:t=>(t.model.announce("plonk"),!0),switchMode:(t,e,r,i)=>(t.switchMode(e,r,i),!0),insert:(t,e,r)=>t.insert(e,r),typedText:(t,e,r)=>(SM(t,e,r),!0),insertDecimalSeparator:t=>{let e=t.model;return e.mode==="math"&&globalThis.MathfieldElement.decimalSeparator===","&&e.at(Math.max(e.position,e.anchor)).isDigit()?(t.insert("{,}",{format:"latex"}),t.snapshot("insert-mord"),!0):(t.insert("."),!0)},commit:t=>{var e,r;let i=t.model;return i.contentWillChange({inputType:"insertLineBreak"})&&((e=t.host)==null||e.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),(r=i.parentEnvironment)!=null&&r.isMultiline&&t.executeCommand("addRowAfter"),i.contentDidChange({inputType:"insertLineBreak"})),!0},insertPrompt:(t,e,r)=>{let i=t.getPrompts(),n="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),a=0;for(;i.includes(n)&&a<100;){if(a===99)return console.error("could not find a unique ID after 100 tries"),!1;n="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),a++}return t.insert(`\\placeholder[${e??n}]{}`,r),!0}}),uo({copyToClipboard:t=>(t.focus(),t.model.selectionIsCollapsed&&t.select(),"queryCommandSupported"in document&&document.queryCommandSupported("copy")&&document.execCommand("copy")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("copy",{bubbles:!0,composed:!0})),!1)},{target:"mathfield"}),uo({cutToClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("cut")&&document.execCommand("cut")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("cut",{bubbles:!0,composed:!0})),!0),pasteFromClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("paste")?(document.execCommand("paste"),!0):(navigator.clipboard.readText().then(e=>{e&&t.model.contentWillChange({inputType:"insertFromPaste",data:e})?(t.stopCoalescingUndo(),t.stopRecording(),t.insert(e,{mode:t.model.mode})&&(B2(t),t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),Nn(t))):t.model.announce("plonk"),t.startRecording()}),!0))},{target:"mathfield",canUndo:!0,changeContent:!0,changeSelection:!0});function $M(t){let[e,r]=As(t.selection);if(e=LV(t,e,"backward"),r=LV(t,r,"forward"),e===r){let i=t.at(e);if(i.type==="leftright")return t.setSelection(t.offsetOf(i.firstChild)-1,r);if(i.type==="first"&&(i.parent.type==="leftright"||i.parent.type==="surd"))return t.setSelection(e-1,t.offsetOf(i.parent.lastChild)+1);t.setSelection(e-1,r)}else t.setSelection(e,r);return!0}function LV(t,e,r){var i,n,a;let s=t.at(e);if(!s)return e;let o=r==="forward"?1:-1;if(s.mode==="text"){for(;s&&!(s.mode!=="text"||!c2.test(s.value));)e+=o,s=t.at(e);return r==="backward"?e-1:e}if(s.mode==="latex"){if(/[a-zA-Z\*]/.test(s.value))if(r==="backward")for(;s&&s.mode==="latex"&&s.value!=="\\"&&/[a-zA-Z]/.test(s.value);)e+=o,s=t.at(e);else for(;s&&s.mode==="latex"&&/[a-zA-Z\*]/.test(s.value);)e+=o,s=t.at(e);else if(s.value==="{"){if(r==="forward"){for(;s&&s.mode==="latex"&&s.value!=="}";)e+=o,s=t.at(e);return e}return e-1}else if(s.value==="}"){if(r==="backward"){for(;s&&s.mode==="latex"&&s.value!=="{";)e+=o,s=t.at(e);return e-1}return e}return e-1}if(s.mode==="math"){if(s.isDigit()){for(;(i=t.at(e+o))!=null&&i.isDigit();)e+=o;return r==="backward"?e-1:e}if(s.style.variant||s.style.variantStyle){let l=(n=t.at(e))==null?void 0:n.style;for(;l&&l.variant===s.style.variant&&l.variantStyle===s.style.variantStyle;)l=(a=t.at(e+o))==null?void 0:a.style,e+=o;return r==="backward"?e-1:e}return e}return e}uo({selectGroup:t=>{let e=$M(t);return e||t.announce("plonk"),e},selectAll:t=>t.setSelection(0,t.lastOffset),extendSelectionForward:t=>Y0(t,"forward",{extend:!0}),extendSelectionBackward:t=>Y0(t,"backward",{extend:!0}),extendToNextWord:t=>sm(t,"forward",{extend:!0}),extendToPreviousWord:t=>sm(t,"backward",{extend:!0}),extendSelectionUpward:t=>Y0(t,"upward",{extend:!0}),extendSelectionDownward:t=>Y0(t,"downward",{extend:!0}),extendToNextBoundary:t=>sm(t,"forward",{extend:!0}),extendToPreviousBoundary:t=>sm(t,"backward",{extend:!0}),extendToGroupStart:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).firstSibling));return e||t.announce("plonk"),e},extendToGroupEnd:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).lastSibling));return e||t.announce("plonk"),e},extendToMathFieldStart:t=>{let e=t.setSelection(t.anchor,0);return e||t.announce("plonk"),e},extendToMathFieldEnd:t=>{let e=t.setSelection(t.anchor,t.lastOffset);return e||t.announce("plonk"),e}},{target:"model",changeSelection:!0});var H1=null,G2=0,wy=class Pl{static start(e,r,i,n){var a;Pl.element=e,(a=Pl.controller)==null||a.abort(),Pl.controller=new AbortController;let s={signal:Pl.controller.signal};"PointerEvent"in window?(e.addEventListener("pointermove",i,s),e.addEventListener("pointerup",n,s),e.addEventListener("pointercancel",n,s),_M(r)&&(Pl.pointerId=r.pointerId,e.setPointerCapture(r.pointerId))):(window.addEventListener("mousemove",i,s),window.addEventListener("blur",n,s),window.addEventListener("mouseup",n,s))}static stop(){var e;(e=Pl.controller)==null||e.abort(),Pl.controller=void 0,typeof Pl.pointerId=="number"&&(Pl.element.releasePointerCapture(Pl.pointerId),Pl.pointerId=void 0)}};function _M(t){return t!==null&&globalThis.PointerEvent!==void 0&&t instanceof PointerEvent}function zV(t,e){var r;if(e.buttons>1)return;t.atomBoundsCache=new Map;let i=t,n,a=!1,s=!1,o="none",l=!1,u=!1,c=e.clientX,h=e.clientY,p=Date.now(),d=i.field,m=setInterval(()=>{l?d.scroll({top:0,left:d.scrollLeft-16}):u&&d.scroll({top:0,left:d.scrollLeft+16})},32);function f(){wy.stop(),a=!1,clearInterval(m),t.element.classList.remove("tracking"),e&&e.preventDefault()}function v(x){if(!i.hasFocus()){f();return}let g=x.clientX,b=x.clientY,k=_M(x)&&x.pointerType==="touch"?20:5;if(Date.now()<p+500&&Math.abs(c-g)<k&&Math.abs(h-b)<k){x.preventDefault(),x.stopPropagation();return}let w=d.getBoundingClientRect();u=g>w.right,l=g<w.left;let N=n;_M(x)&&(x.isPrimary||(N=My(i,x.clientX,x.clientY,{bias:0})));let A=My(i,g,b,{bias:g<=c?g===c?0:-1:1});N>=0&&A>=0&&(i.model.extendSelectionTo(N,A),Nn(t)),s&&$M(i.model)}H1&&Math.abs(H1.x-c)<5&&Math.abs(H1.y-h)<5&&Date.now()<H1.time+500?(G2+=1,H1.time=p):(H1={x:c,y:h,time:p},G2=1);let y=d.getBoundingClientRect();if(c>=y.left&&c<=y.right&&h>=y.top&&h<=y.bottom){if(t.flushInlineShortcutBuffer(),n=My(t,c,h,{bias:0}),n!==t.model.anchor&&(t.defaultStyle={},t.styleBias="left"),n>=0){if(t.element.classList.add("tracking"),e.shiftKey){let x=t.model.selectionIsCollapsed;t.model.extendSelectionTo(t.model.anchor,n),uV(t.model)||x?o="all":o="selection"}else t.model.at(n).type==="placeholder"?(t.model.setSelection(n-1,n),o="selection"):((r=t.model.at(n).rightSibling)==null?void 0:r.type)==="placeholder"?(t.model.setSelection(n,n+1),o="selection"):(t.model.position=n,uV(t.model)?o="all":o="selection");e.detail===3||G2>2?(f(),(e.detail===3||G2===3)&&(t.model.selection={ranges:[[0,t.model.lastOffset]]},o="all")):a||(a=!0,wy.start(d,e,v,f),(e.detail===2||G2===2)&&(s=!0,$M(t.model),o="all"))}t.hasFocus()||(o="none",t.focus({preventScroll:!0}))}else H1=null;t.stopCoalescingUndo(),o!=="none"&&(t.model.selectionIsCollapsed&&(o="all"),Nn(t)),e.preventDefault()}function uNe(t,e,r){if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom)return 0;let i=t-(r.left+r.right)/2,n=e-(r.top+r.bottom)/2;return i*i+n*n}function EM(t,e,r,i,n){if(!r.id)return[1/0,null];if(e.has(r.id))return e.get(r.id);let a=Zd(t,r);if(!a)return[1/0,null];let s=[1/0,null],o=t.model;if(r instanceof Jr)for(let l of r.rows)for(let u of l){let c=[o.offsetOf(u[0]),o.offsetOf(u[u.length-1])],h=FMe(t,c);if(n>=h.top&&n<=h.bottom)for(let p of u){let d=EM(t,e,p,i,n);d[0]<=s[0]&&(s=d)}}else if(r.hasChildren&&!r.captureSelection&&i>=a.left&&i<=a.right){let l=r.children;for(let u of l){let c=EM(t,e,u,i,n);c[0]<=s[0]&&(s=c)}}return s[1]||(s=[uNe(i,n,a),r]),e.set(r.id,s),s}function cNe(t,e,r){let[,i]=EM(t,new Map,t.model.root,e,r);return i}function My(t,e,r,i){var n;let a=t.field.querySelector(".ML__latex").getBoundingClientRect();if(!a)return 0;if(e>a.right||r>a.bottom+8)return t.model.lastOffset;if(e<a.left||r<a.top-8)return 0;i=i??{},i.bias=(n=i.bias)!=null?n:0;let s=cNe(t,e,r),o=[],l=s;for(;l;)o.unshift(l),l=l.parent;for(let c of o)if(c.captureSelection){s=c;break}let u=t.model.offsetOf(s);if(u<0)return-1;if(s.leftSibling)if(i.bias===0&&s.type!=="placeholder"){let c=Zd(t,s);c&&e<(c.left+c.right)/2&&(u=t.model.offsetOf(s.leftSibling))}else i.bias<0&&(u=t.model.offsetOf(s.leftSibling));return u}var hNe=class extends nn{constructor(){super("math")}onPaste(t,e){if(!e||!t.model.contentWillChange({data:typeof e=="string"?e:null,dataTransfer:typeof e=="string"?null:e,inputType:"insertFromPaste"}))return!1;let r="",i="auto",n=typeof e!="string"?e.getData("application/json+mathlive"):"";if(n)try{let a=JSON.parse(n);if(a&&Array.isArray(a)){t.snapshot();let s=fh(a),{model:o}=t;o.selectionIsCollapsed||o.deleteAtoms(As(o.selection));let l=o.at(o.position);if(l.parent instanceof Jr){l.parentBranch;let u=[],c=[];s[0].type==="first"&&s.shift(),s[s.length-1].type==="first"&&s.pop();for(let m of s)m.type==="first"&&c.length>0?(u.push(c),c=[m]):c.push(m);c.length>0&&u.push(c);let h=Number(l.parentBranch[0]),p=Number(l.parentBranch[1]),d=l.parent.maxColumns;for(;l.parent.colCount-p<u.length&&l.parent.colCount<d;)l.parent.addColumn();l.parent.addChildrenAfter(u[0],l);for(let m=1;m<u.length;m++)p++,p>=d&&(p=0,l.parent.addRowAfter(h),h++),l.parent.setCell(h,p,u[m])}else l.parent.addChildrenAfter(s.filter(u=>u.type!=="first"),l);return o.position=o.offsetOf(s[s.length-1]),o.contentDidChange({inputType:"insertFromPaste"}),Nn(t),!0}}catch{}if(n=typeof e!="string"?e.getData("application/json"):"",n&&globalThis.MathfieldElement.computeEngine)try{let a=JSON.parse(n);if(typeof a=="object"&&"latex"in a&&a.latex&&(r=a.latex),!r){let s=globalThis.MathfieldElement.computeEngine.box(a);s&&!s.has("Error")&&(r=s.latex)}r||(i="latex")}catch{}if(!r&&typeof e!="string"&&(r=e.getData("application/x-latex"),r&&(i="latex")),r||(r=typeof e=="string"?e:e.getData("text/plain")),r){let a;return[a,r]=eM(r),i==="auto"&&a&&(i="latex"),t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r,{format:i})&&(t.startRecording(),t.snapshot("paste"),Nn(t)),t.startRecording(),!0}return!1}insert(t,e,r){var i,n;let a=typeof e=="string"?e:(n=(i=globalThis.MathfieldElement.computeEngine)==null?void 0:i.box(e).latex)!=null?n:"";if(!r.silenceNotifications&&!t.contentWillChange({data:a,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{silenceNotifications:s}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let o=t.silenceNotifications;t.silenceNotifications=!0;let l={"?":"\\placeholder{}","@":"\\placeholder{}"};l[0]=r.insertionMode==="replaceAll"?"":t.getValue(t.selection,"latex-unstyled"),r.insertionMode==="replaceSelection"?t.deleteAtoms(As(t.selection)):r.insertionMode==="replaceAll"?t.deleteAtoms():r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward"),!t.at(t.position).isLastSibling&&t.at(t.position+1).type==="placeholder"?t.deleteAtoms([t.position,t.position+1]):t.at(t.position).type==="placeholder"&&t.deleteAtoms([t.position-1,t.position]);let u=-1;l[0]?l["@"]=l[0]:typeof e=="string"&&/(^|[^\\])#@/.test(e)&&(u=pNe(t),u>=0&&(l["@"]=t.getValue(u,t.position,"latex"))),l[0]||(l[0]=l["?"]);let c=!1,h=v=>(c=!0,l[v]),[p,d]=BV(t,e,h,r);if(!d)return!1;let m=d.length===1&&d[0].type==="genfrac";if(m&&u>=0&&typeof t.mathfield.options.isImplicitFunction=="function"&&t.mathfield.options.isImplicitFunction(t.at(t.position).command)?(l["@"]=l["?"],c=!1,[p,d]=BV(t,e,h,r)):u>=0&&t.deleteAtoms([u,t.position]),d.length===1&&d[0].isRoot)t.root=d[0];else{let{parent:v}=t.at(t.position),y=v.hasEmptyBranch("body");if(m&&p!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&v instanceof On&&v.leftDelim==="("&&y){let g=v.parent,b=v.parentBranch;g.removeChild(v),g.setChildren(d,b)}let x=t.at(t.position);x.parent.addChildrenAfter(d,x),p==="latex"&&typeof e=="string"&&(v==null?void 0:v.type)==="root"&&y&&!c&&(v.verbatimLatex=e)}t.silenceNotifications=o;let f=d[d.length-1];if(r.selectionMode==="placeholder"){let v=d.flatMap(y=>[y,...y.children]).find(y=>y.type==="placeholder");if(v){let y=t.offsetOf(v);t.setSelection(y-1,y),t.announce("move")}else f&&(t.position=t.offsetOf(f))}else r.selectionMode==="before"||(r.selectionMode==="after"?f&&(t.position=t.offsetOf(f)):r.selectionMode==="item"&&t.setSelection(t.anchor,t.offsetOf(f)));return t.contentDidChange({data:a,inputType:"insertText"}),t.silenceNotifications=s,!0}};function BV(t,e,r,i){var n;let a,s=[];if(typeof e!="string"||i.format==="math-json"){let o=globalThis.MathfieldElement.computeEngine;if(!o)return["math-json",[]];[a,e]=["latex",o.box(e).latex],s=Eo(e,{context:t.mathfield.context})}else typeof e=="string"&&i.format==="ascii-math"?([a,e]=Fv(e,{format:"ascii-math",inlineShortcuts:t.mathfield.options.inlineShortcuts}),s=Eo(e,{context:t.mathfield.context}),a!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&(s=s.map(o=>ky(o)))):(i.format==="auto"||(n=i.format)!=null&&n.startsWith("latex"))&&(i.format==="auto"&&([a,e]=Fv(e,{format:"auto",inlineShortcuts:t.mathfield.options.inlineShortcuts})),i.format==="latex"&&([,e]=eM(e)),s=Eo(e,{context:t.mathfield.context,args:r}),i.format!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&(s=s.map(o=>ky(o))));return aM(s,i.style),[a??"latex",s]}function ky(t){var e;if(t instanceof On&&t.leftDelim!=="("&&t.rightDelim===")"){let r=(e=t.body)==null?void 0:e.filter(i=>i.type!=="first");if((r==null?void 0:r.length)===1&&r[0].type==="genfrac")return r[0]}for(let r of t.branches)t.hasEmptyBranch(r)||t.setChildren(t.branch(r).map(i=>ky(i)),r);return t instanceof Jr&&t.forEachCell((r,i,n)=>{t.setCell(i,n,r.map(a=>ky(a)))}),t}function pNe(t){let e=t.at(t.position);if(e.mode==="text"){for(;!e.isFirstSibling&&e.mode==="text";)e=e.leftSibling;return t.offsetOf(e)}let r=e,i=!1;if(e.type==="mclose"){let n=qv[e.value];for(;!e.isFirstSibling&&!(e.type==="mopen"&&e.value===n);)e=e.leftSibling;e.isFirstSibling||(e=e.leftSibling),i=!0}else e.type==="leftright"&&(e=e.leftSibling,i=!0);if(i)for(;!e.isFirstSibling&&(e.isFunction||OV(e));)e=e.leftSibling;else{let n=[];for(;!e.isFirstSibling&&(OV(e)||n.length>0);)e.type==="mclose"&&n.unshift(e.value),e.type==="mopen"&&n.length>0&&e.value===qv[n[0]]&&n.shift(),e=e.leftSibling}return r===e?-1:t.offsetOf(e)}function OV(t){return t.isDigit()?!0:t.type&&/^(mord|surd|subsup|leftright|mop|mclose)$/.test(t.type)?t.type!=="extensible-symbol":!1}new hNe;var dNe=class extends nn{constructor(){super("text")}onPaste(t,e){if(!e)return!1;let r=typeof e=="string"?e:e.getData("text/plain");return r&&t.model.contentWillChange({inputType:"insertFromPaste",data:r})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r)&&(t.model.contentDidChange({inputType:"insertFromPaste"}),t.startRecording(),t.snapshot("paste"),Nn(t)),t.startRecording(),!0):!1}insert(t,e,r={}){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{silenceNotifications:i}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let n=t.silenceNotifications;t.silenceNotifications=!0,r.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(As(t.selection)):r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward");let a=mNe(e,t.mathfield.context);if(aM(a,r.style),!a)return!1;let s=t.at(t.position),o=s.parent.addChildrenAfter(a,s);return t.silenceNotifications=n,r.selectionMode==="before"||(r.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(o)):o&&(t.position=t.offsetOf(o))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=i,!0}};function mNe(t,e){return t=t.replace(/\\/g,"\\textbackslash "),t=t.replace(/#/g,"\\#"),t=t.replace(/\$/g,"\\$"),t=t.replace(/%/g,"\\%"),t=t.replace(/&/g,"\\&"),t=t.replace(/_/g,"\\_"),t=t.replace(/{/g,"\\textbraceleft "),t=t.replace(/}/g,"\\textbraceright "),t=t.replace(/lbrace/g,"\\textbraceleft "),t=t.replace(/rbrace/g,"\\textbraceright "),t=t.replace(/\^/g,"\\textasciicircum "),t=t.replace(/~/g,"\\textasciitilde "),t=t.replace(/£/g,"\\textsterling "),Eo(t,{context:e,parseMode:"text"})}new dNe;function vh(t){return{value:t.model.getValue(),selectionIsCollapsed:t.model.selectionIsCollapsed,canUndo:t.canUndo(),canRedo:t.canRedo(),style:fNe(t.model),mode:t.model.mode}}function fNe(t){var e;if(t.selectionIsCollapsed)return(e=t.at(t.position))==null?void 0:e.style;let r=t.getAtoms(t.selection);if(r.length===0)return{};let i=we({},r[0].style);for(let n of r)for(let[a,s]of Object.entries(n.style))i[a]!==s&&delete i[a];return i}var ln=4,co=20,sa=2*(co+ln),Cy=(t,e)=>`
  <line x1="${t+co}" y1="${e+co}" 
    x2="${t>e?t+co:7*co+10*ln}" 
    y2="${t<e?e+co:7*co+10*ln}"/>
  <svg id="plus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.34-3.33,3.34h-6.67v6.66c0,1.84-1.49,3.34-3.33,3.34s-3.34-1.5-3.34-3.34v-6.66h-6.66c-1.84,0-3.34-1.5-3.34-3.34s1.5-3.33,3.34-3.33h6.66v-6.67c0-1.84,1.5-3.33,3.34-3.33s3.33,1.49,3.33,3.33v6.67h6.67c1.84,0,3.33,1.49,3.33,3.33Z"/>
  </svg>`,FV=(t,e)=>`
  <line x1="${t+co}" y1="${e+co}" 
    x2="${t>e?t+co:7*co+10*ln}" 
    y2="${t<e?e+co:7*co+10*ln}"/>
  <svg id="minus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.33-3.33,3.33H10c-1.84,0-3.34-1.49-3.34-3.33s1.5-3.34,3.34-3.34h20c1.84,0,3.33,1.5,3.33,3.34Z"/>
  </svg>`,Ny=(t,e,r)=>`
  <svg id="arrow" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <g transform="rotate(${r})" transform-origin="20 20">
      <path class="font" d="m17.7,7.23h4.6c.52,0,.94.42.94.94v13.82c0,.52.42.94.94.94h3.39c.83,0,1.25,1.01.66,1.6l-7.56,7.56c-.37.37-.96.37-1.32,0l-7.56-7.56c-.59-.59-.17-1.6.66-1.6h3.39c.52,0,.94-.42.94-.94v-13.82c0-.52.42-.94.94-.94Z"/>
    </g>  
  </svg>`,gNe=`
<svg class="MLEP__array-buttons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
viewBox=
"-2 -2 ${8*co+10*ln+5} ${8*co+10*ln+5}">
  <rect 
      class="MLEP__array-insert-background rows"
      x="0" 
      y="${sa+ln}" 
      height="${3*sa}" 
      width="${sa}" 
      rx="${sa/2}"/>
      <rect 
      class="MLEP__array-insert-background columns"
      x="${sa+ln}" 
      y="0" 
      height="${sa}" 
      width="${3*sa}" 
      rx="${sa/2}"/>
  <g data-command='"moveDown"'>
  ${Ny(2*(ln+sa),2*ln+3*sa,0)}
  </g>
  <g data-command='"moveUp"'>
  ${Ny(2*(ln+sa),2*ln+sa,180)}
  </g>
  <g data-command='"moveToNextWord"'>
  ${Ny(2*ln+3*sa,2*(ln+sa),-90)}
  </g>
  <g data-command='"moveToPreviousWord"'>
  ${Ny(2*ln+sa,2*(ln+sa),90)}
  </g>
  <g>

  <g data-command='"addColumnBefore"'>
  ${Cy(2*ln+sa,ln)}
  </g>
  <g data-command='"removeColumn"'>
  ${FV(2*ln+2*sa,ln)}
  </g>
  <g data-command='"addColumnAfter"'>
  ${Cy(2*ln+3*sa,ln)}
  </g>
  <g data-command='"addRowBefore"'>
  ${Cy(ln,2*ln+sa)}
  </g>
  <g data-command='"removeRow"'>
  ${FV(ln,2*ln+2*sa)}
  </g>
  <g data-command='"addRowAfter"'>
    ${Cy(ln,2*ln+3*sa)}
  </g>
</svg>`,vNe=t=>`
<svg id="matrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","matrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,yNe=t=>`
<svg id="pmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
data-command='["setEnvironment","pmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-3.96,4.6-3.96,11.4,0,16"/>
  <path class="cls-2" d="m22,4c3.96,4.6,3.96,11.4,0,16"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,PV=t=>`
<svg id="Bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","Bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <path class="cls-2" d="m22,4c1.1,0,2,.9,2,2v3c0,1.66.9,3,2,3-1.1,0-2,1.34-2,3v3c0,1.1-.9,2-2,2"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,bNe=t=>`
<svg id="bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4h-3v16h3"/>
  <path class="cls-2" d="m22,4h3v16h-3"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,xNe=t=>`
<svg id="vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="4" y1="4" x2="4" y2="20"/>
  <line class="cls-2" x1="24" y1="4" x2="24" y2="20"/>
</svg>`,wNe=t=>`
<svg id="Vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="-3.5 -3 35 30" 
  data-command='["setEnvironment","Vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="6" y1="4" x2="6" y2="20"/>
  <line class="cls-2" x1="22" y1="4" x2="22" y2="20"/>
  <line class="cls-2" x1="2" y1="4" x2="2" y2="20"/>
  <line class="cls-2" x1="26" y1="4" x2="26" y2="20"/>
</svg>`,MNe=t=>`
<svg id="cases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","cases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m10,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <circle cx="13" cy="8" r="1"/>
  <circle cx="13" cy="16" r="1"/>
  <circle cx="21" cy="8" r="1"/>
  <circle cx="21" cy="16" r="1"/>
</svg>`,kNe=t=>`
<svg id="rcases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","rcases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m18,20c1.1,0,2-.9,2-2v-3c0-1.66.9-3,2-3-1.1,0-2-1.34-2-3v-3c0-1.1-.9-2-2-2"/>
  <circle cx="15" cy="8" r="1"/>
  <circle cx="15" cy="16" r="1"/>
  <circle cx="7" cy="8" r="1"/>
  <circle cx="7" cy="16" r="1"/>
</svg>`,IM={matrix:vNe,pmatrix:yNe,bmatrix:bNe,Bmatrix:PV,vmatrix:xNe,Vmatrix:wNe},TM={cases:MNe,rcases:kNe,Bmatrix:PV};function CNe(t){var e,r;let i=(e=t.model.parentEnvironment)==null?void 0:e.rows;if(!i)return;let n=0;i.forEach(d=>{(!n||d.length>n)&&(n=d.length)});let a=document.getElementById("mathlive-environment-popover");a||(a=sy("mathlive-environment-popover"),Wu("environment-popover"),Wu("core"),a.setAttribute("aria-hidden","true"));let s,o=a.querySelector(".MLEP__environment-controls");o?s=o:(s=document.createElement("div"),a.innerHTML="",a.appendChild(s)),s.className="MLEP__environment-controls",s.style.display="flex",s.style.width="100%",s.style.height="100%",s.style.boxSizing="border-box",s.innerHTML=gNe;let l=[],u="",c=t.model.parentEnvironment.environmentName;if(jU(c)){let d=SNe(c);u=IM[d]("active");let m=IM,{[d]:f}=m,v=B5(m,[hR(d)]);l=Object.values(v).map(y=>y("inactive"))}else if(ske(c)){let d=DNe(c);u=TM[d]("active");let m=TM,{[d]:f}=m,v=B5(m,[hR(d)]);l=Object.values(v).map(y=>y("inactive"))}else oke(c)&&(u=IM.matrix("active"),l=Object.values(TM).map(d=>d("inactive")));let h=document.createElement("div");h.className="MLEP__environment-delimiter-controls",h.style.display="flex",h.style.flexDirection="column",h.innerHTML=`
  <div class='MLEP__array-delimiter-options'>
  ${u}
  ${l.join("")}
  </div>`,u&&s.appendChild(h),s.querySelectorAll("[data-command]").forEach(d=>{let m=d.dataset.command,f=m;try{f=JSON.parse(m)}catch{}d.addEventListener("mousedown",v=>v.preventDefault()),f&&d.addEventListener("click",()=>t.executeCommand(f))});let p=(r=t.field)==null?void 0:r.getBoundingClientRect();p&&(a.style.top=`${window.scrollY+(p.top-a.clientHeight-15)}px`,a.style.left=`${p.left+20}px`,a.classList.add("is-visible"))}function LM(){let t=document.getElementById("mathlive-environment-popover");t==null||t.classList.remove("is-visible")}function NNe(){document.getElementById("mathlive-environment-popover")&&(fM("mathlive-environment-popover"),dh("environment-popover"),dh("core"))}function Sy(t){if(!t.hasFocus())return;let e=!1;if(t.model.mode==="math"){let r=t.model.parentEnvironment;if(r!=null&&r.rows&&ake(r.environmentName)){let i=t.options.environmentPopoverPolicy;e=i==="auto"||i==="on"}}e?CNe(t):LM()}function SNe(t){return t.replace("*","")}function DNe(t){return t==="dcases"?"cases":t}function RV(t){let e=getComputedStyle(t).direction;return e==="ltr"||e==="rtl"?e:"ltr"}function jV(t,e,r){return e==="left"||e==="leading"&&r==="ltr"||e==="trailing"&&r==="rtl"?t.left:t.right}function zM(t,e,r,i){return r==="middle"?t-e/2:r==="start"&&i==="rtl"||r==="end"&&i==="ltr"||r==="top"||r==="right"?Math.max(0,t-e):t}function ANe(t,e,r,i){return r==="middle"?t-e/2:r==="start"&&i==="ltr"||r==="end"&&i==="rtl"||r==="top"||r==="right"?t:t-e}function $Ne(t,e){var r,i,n;let a=(r=RV(t))!=null?r:"ltr";t.style.position="fixed",t.style.left="",t.style.top="",t.style.right="",t.style.bottom="",t.style.height="",t.style.width="";let s=t.getBoundingClientRect(),o=Number.isFinite(e.maxHeight)?Math.min(e.maxHeight,window.innerHeight):window.innerHeight,l=Math.min(o,(i=e.height)!=null?i:s.height),u=zM(e.location.y,l,e.verticalPos,a);u+l>window.innerHeight-8&&(e.alternateLocation?(u=zM(e.alternateLocation.y,l,e.verticalPos,a),u+l>window.innerHeight-8&&(u=void 0)):u=void 0),Number.isFinite(u)||(u=Math.max(8,window.innerHeight-8-l),8+l>window.innerHeight-8&&(t.style.bottom="8px")),l=Math.min(u+l,window.innerHeight-8)-u;let c=Number.isFinite(e.maxWidth)?Math.min(e.maxWidth,window.innerWidth):window.innerWidth,h=Math.min(c,(n=e.width)!=null?n:s.width),p=zM(e.location.x,h,e.horizontalPos,a);p+h>window.innerWidth-8&&(e.alternateLocation?(p=ANe(e.alternateLocation.x,h,e.verticalPos,a),p+h>window.innerWidth-8&&(p=void 0)):p=void 0),Number.isFinite(p)||(p=Math.max(8,window.innerWidth-8-h),8+h>window.innerWidth-8&&(t.style.right="8px")),h=Math.min(p+h,window.innerWidth-8)-p,a==="rtl"?t.style.right=`${Math.ceil(window.innerWidth-p-h).toString()}px`:t.style.left=`${Math.ceil(p).toString()}px`,t.style.top=`${Math.ceil(u).toString()}px`,l!==s.height&&(t.style.height=`${Math.ceil(l).toString()}px`),h!==s.width&&(t.style.width=`${Math.ceil(h).toString()}px`)}function _Ne(t,e){return Math.hypot(e.x-t.x,e.y-t.y)}function lm(t){return"submenu"in t}function Ku(t){return"type"in t&&t.type==="command"||"onMenuSelect"in t||"id"in t}function BM(t){return"type"in t&&t.type==="divider"}function OM(t){return"type"in t&&t.type==="heading"}var qV={};function FM(t){let e=qV[t];if(!e){let r;switch(t){case"checkmark":r=`<span aria-hidden="true" class="ui-checkmark"><svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"></path></svg>
      </span>`;break;case"trailing-chevron":r='<span aria-hidden="true" class="ui-trailing-chevron"><svg focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg></span>';break;case"mixedmark":r='<span aria-hidden="true" class="ui-mixedmark"><svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24z"/></svg></span>'}if(r){let i=document.createElement("template");i.innerHTML=r,qV[t]=i,e=i}}if(e){if("content"in e)return e.content.cloneNode(!0);let r=document.createElement("svg");return r.innerHTML=e.innerHTML,r}}var UV=80,VV=class{constructor(t,e){this._className="",this._element=null;var r;this.parentMenu=e,this._declaration=t,Object.freeze(this._declaration),lm(t)?(this.type="submenu",this.submenu=new GV(t.submenu,{parentMenu:e,submenuClass:t.submenuClass,columnCount:t.columnCount})):this.type=(r=t.type)!=null?r:"command",this.hasCheck=Ku(t)&&t.checked!==void 0}get rootMenu(){return this.parentMenu.rootMenu}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}dispose(){var t,e;(t=this._abortController)==null||t.abort(),this._abortController=void 0,(e=this._element)==null||e.remove(),this._element=null,this.submenu&&this.submenu.dispose(),this.submenu=void 0}get menuItem(){return this._declaration}get label(){var t;return(t=this._label)!=null?t:""}set label(t){t===void 0&&(t=""),t!==this._label&&(this._label=t,this.dirty=!0)}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.dirty=!0)}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.element&&(t?this.element.removeAttribute("aria-disabled"):this.element.setAttribute("aria-disabled","true")),this.dirty=!0}get checked(){return this._checked}set checked(t){this._checked=t,this.dirty=!0}get tooltip(){return this._tooltip}set tooltip(t){t!==this._tooltip&&(this._tooltip=t,this.dirty=!0)}get ariaLabel(){return this._ariaLabel}set ariaLabel(t){t!==this._ariaLabel&&(this._ariaLabel=t,this.dirty=!0)}get active(){var t,e;return(e=(t=this.element)==null?void 0:t.classList.contains("active"))!=null?e:!1}set active(t){this.element&&this.element.classList.toggle("active",t)}updateState(t){var e,r,i;let n=this._declaration;if(BM(n)){this.enabled=!1,this.checked=!1;return}OM(n)&&(this.enabled=!1,this.checked=!1,this.visible=!0),Ku(n)&&(this.checked=(e=W1(n.checked,t))!=null?e:!1),(Ku(n)||lm(n))&&(this.enabled=(r=W1(n.enabled,t))!=null?r:!0,this.visible=(i=W1(n.visible,t))!=null?i:!0,this.visible&&this.enabled&&this.submenu&&(this.submenu.updateState(t),this.submenu.visible||(this.visible=!1))),(Ku(n)||OM(n)||lm(n))&&(this.label=W1(n.label,t),this._className=W1(n.class,t),this.tooltip=W1(n.tooltip,t),this.ariaLabel=W1(n.ariaLabel,t)),this._element&&this.updateElement()}set dirty(t){t&&this.parentMenu&&(this.parentMenu.dirty=!0)}updateElement(){var t;if(!this.visible||!this.element)return;let e=this.element;e.textContent="",e.className="",e.className=(t=this._className)!=null?t:"",this.enabled?e.removeAttribute("aria-disabled"):e.setAttribute("aria-disabled","true"),this.checked===!0?(e.setAttribute("aria-checked","true"),e.append(FM("checkmark"))):this.checked==="mixed"?(e.setAttribute("aria-checked","mixed"),e.append(FM("mixedmark"))):e.removeAttribute("aria-checked"),this.ariaLabel&&e.setAttribute("aria-label",this.ariaLabel);let r=document.createElement("span");if(r.className=this.parentMenu.hasCheck?"label indent":"label",this.type==="heading"&&r.classList.add("heading"),r.innerHTML=this.label,e.append(r),this._tooltip&&e.setAttribute("data-tooltip",this._tooltip),Ku(this._declaration)&&this._declaration.keyboardShortcut){let i=document.createElement("kbd");i.innerHTML=cM(this._declaration.keyboardShortcut),e.append(i)}this.type==="submenu"&&e.append(FM("trailing-chevron"))}get element(){if(this._element)return this._element;if(BM(this._declaration)){let r=document.createElement("li");return r.setAttribute("part","menu-divider"),r.setAttribute("role","divider"),this._element=r,r}let t=document.createElement("li");this._element=t,(Ku(this._declaration)||OM(this._declaration)||lm(this._declaration))&&t.setAttribute("part","menu-item"),t.setAttribute("tabindex","-1"),this.hasCheck?t.setAttribute("role","menuitemcheckbox"):t.setAttribute("role","menuitem"),this.type==="submenu"&&(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded","false"));let e=this.abortController.signal;return t.addEventListener("pointerenter",this,{signal:e}),t.addEventListener("pointerleave",this,{signal:e}),t.addEventListener("pointerup",this,{signal:e}),t.addEventListener("click",this,{signal:e}),this._element}dispatchSelect(){var t;if(!Ku(this._declaration))return;let e=new CustomEvent("menu-select",{cancelable:!0,bubbles:!0,detail:{modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data}});this.parentMenu.dispatchEvent(e)&&typeof this._declaration.onMenuSelect=="function"&&this._declaration.onMenuSelect({target:(t=this.parentMenu.host)!=null?t:void 0,modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data})}handleEvent(t){var e;if(!(!this.visible||!this.enabled)){if(t.type==="click"){this.rootMenu.state==="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}if(t.type==="pointerenter"){let r=t;this.rootMenu.cancelDelayedOperation(),this.parentMenu.isSubmenuOpen&&(e=this.parentMenu.activeMenuItem)!=null&&e.movingTowardSubmenu(r)?this.rootMenu.scheduleOperation(()=>{this.parentMenu.activeMenuItem=this,this.openSubmenu()}):(this.parentMenu.activeMenuItem=this,this.openSubmenu({withDelay:!0}));return}if(t.type==="pointerleave"){this.rootMenu.activeSubmenu===this.parentMenu&&(this.parentMenu.activeMenuItem=null);return}if(t.type==="pointerup"){this.rootMenu.state!=="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}}}select(){if(this.rootMenu.cancelDelayedOperation(),this.type==="submenu"){this.openSubmenu();return}this.active=!1,setTimeout(()=>{this.active=!0,setTimeout(()=>{this.active=!1,this.rootMenu.hide(),this.dispatchSelect()},UV)},UV)}openSubmenu(t){var e;if(this.type!=="submenu"||!this.element)return;if((e=t==null?void 0:t.withDelay)!=null&&e){this.rootMenu.scheduleOperation(()=>this.openSubmenu());return}let r=this.element.getBoundingClientRect(),i=RV(this.element);this.submenu.show({container:this.rootMenu.element.parentNode,location:{x:jV(r,"trailing",i),y:r.top-4},alternateLocation:{x:jV(r,"leading",i),y:r.top-4}})}movingTowardSubmenu(t){if(!this.element||this.type!=="submenu")return!1;let e=this.rootMenu.lastMoveEvent;if(!e)return!1;let r=t.timeStamp-e.timeStamp;if(r>500)return!1;let i=t.clientX-e.clientX;if(ENe(i,e.clientY-t.clientY,r)<=.2)return!1;let n="right";if(this.submenu.element){let a=this.submenu.element.getBoundingClientRect(),s=this.element.getBoundingClientRect();a.left<s.left+s.width/2&&(n="left")}return n==="right"?i>0:i<0}};function ENe(t,e,r){return Math.hypot(t,e)/r}function W1(t,e){return t===void 0||typeof t!="function"?t:(e!=null||(e={alt:!1,control:!1,shift:!1,meta:!1}),t(e))}var GV=class sg{constructor(e,r){this._element=null,this._activeMenuItem=null,this._dirty=!0;var i,n;this.parentMenu=(i=r==null?void 0:r.parentMenu)!=null?i:null,this._submenuClass=r==null?void 0:r.submenuClass,this.columnCount=(n=r==null?void 0:r.columnCount)!=null?n:1,this.isSubmenuOpen=!1,this.menuItems=e}get children(){return Object.freeze([...this._menuItems])}set menuItems(e){let r=this.parentMenu;this.dispose(),this.parentMenu=r,e=[...e],this._menuItems=e.map(i=>i.onCreate?i.onCreate(i,this):new VV(i,this)),this.hasCheck=void 0,this.dirty=!0}dispose(){var e;this.hide(),this._element&&this._element.remove(),this._abortController&&this._abortController.abort(),(e=this._menuItems)==null||e.forEach(r=>r.dispose()),this._menuItems=[],this._activeMenuItem=null,this.parentMenu=null}handleEvent(e){if(e.type==="wheel"&&this._element){let r=e;this._element.scrollBy(0,r.deltaY),e.stopPropagation()}}dispatchEvent(e){return this.rootMenu.dispatchEvent(e)}get host(){return this.rootMenu.host}get rootMenu(){return this.parentMenu.rootMenu}updateState(e){var r,i,n;this._menuItems.forEach(u=>u.updateState(e));let a=this.hasCheck;this.hasCheck=this._menuItems.some(u=>u.visible&&u.hasCheck),this.hasCheck!==a&&this._menuItems.forEach(u=>u.updateState(e));let s,o=0;for(let u of this._menuItems)u.type==="heading"?(s&&o===0&&(s.visible=!1),s=u,o=0):u.type==="divider"&&s?(s.visible=o>0,s=void 0,o=0):s&&u.visible&&(o+=1);s&&(s.visible=o>0);let l=!0;for(let u of this._menuItems)u.type==="divider"?(u.visible=!l,l=!0):u.visible&&(l=!1);(r=this.activeMenuItem)!=null&&r.visible||(this.activeMenuItem=null),!((i=this.activeMenuItem)!=null&&i.enabled)&&((n=this.activeMenuItem)==null?void 0:n.type)==="submenu"&&this._activeMenuItem.submenu.hide(),this._dirty=!1}get enabled(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible&&e.enabled)}get visible(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible)}set dirty(e){this._dirty!==e&&e&&this.parentMenu&&(this._dirty=!0,this.parentMenu.dirty=!0)}updateIfDirty(){this._dirty&&this.updateState(this.rootMenu.modifiers)}updateElement(){var e;if(this._element){this._element.textContent="";for(let{element:r,visible:i}of this._menuItems)r&&i&&this._element.append(r);(e=this._element.querySelector("li:first-of-type"))==null||e.setAttribute("tabindex","0")}}get element(){if(this._element)return this._element;let e=document.createElement("menu");e.setAttribute("role","menu"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-orientation","vertical"),e.setAttribute("part","ui-menu-container"),this._submenuClass&&e.classList.add(this._submenuClass),e.classList.add("ui-menu-container"),this._abortController||(this._abortController=new AbortController);let r=this._abortController.signal;return e.addEventListener("focus",this,{signal:r}),e.addEventListener("wheel",this,{passive:!0,signal:r}),this._element=e,this.updateElement(),e}get activeMenuItem(){return this._activeMenuItem}set activeMenuItem(e){var r,i,n,a;if(this.rootMenu.cancelDelayedOperation(),e!==this._activeMenuItem){if(this.activeMenuItem){let s=this.activeMenuItem;s.active=!1,(r=s.submenu)==null||r.hide()}if(!((i=e==null?void 0:e.visible)==null||i)){this._activeMenuItem=null;return}this._activeMenuItem=e,e&&(e.active=!0)}e?(n=e.element)==null||n.focus({preventScroll:!0}):(a=this._element)==null||a.focus({preventScroll:!0})}get firstMenuItem(){this.updateIfDirty();let e=0,r=!1,i=this._menuItems;for(;!r&&e<=i.length-1;){let n=i[e];r=n.type!=="divider"&&n.visible&&n.enabled,e+=1}return r?i[e-1]:null}get lastMenuItem(){this.updateIfDirty();let e=this._menuItems,r=e.length-1,i=!1;for(;!i&&r>=0;){let n=e[r];i=n.type!=="divider"&&n.visible&&n.enabled,r-=1}return i?e[r+1]:null}nextMenuItem(e){if(e===0)return this._activeMenuItem;if(!this._activeMenuItem)return e>0?this.firstMenuItem:this.lastMenuItem;if(!this.firstMenuItem||!this.lastMenuItem||!this._activeMenuItem)return null;this.updateIfDirty();let r=this._menuItems.indexOf(this.firstMenuItem),i=this._menuItems.indexOf(this.lastMenuItem),n=this._menuItems.indexOf(this._activeMenuItem),a=1;for(;n>=r&&n<=i;){n+=e>0?1:-1;let s=this._menuItems[n];if(!s)break;if(s.visible&&s.enabled){if(a===Math.abs(e))return this._menuItems[n];a+=1}}return e>0?this.lastMenuItem:this.firstMenuItem}getMenuItemColumn(e){this.updateIfDirty();let r=this._menuItems.filter(i=>i.visible&&i.enabled).indexOf(e);return r<0?-1:r%this.columnCount}static get collator(){return sg._collator||(sg._collator=new Intl.Collator(void 0,{usage:"search",sensitivity:"base"})),sg._collator}findMenuItem(e){var r;this.updateIfDirty();let i=this._menuItems.filter(o=>o.type!=="divider"&&o.visible&&o.enabled);if(i.length===0)return null;let n=Math.max(...i.map(o=>o.label.length))-e.length;if(n<0)return null;let a=null,s=0;for(;s<n&&!a;)a=(r=i.find(o=>sg.collator.compare(e,o.label.substring(s,e.length))===0))!=null?r:null,s++;return a}show(e){return!this.visible||!e.container?!1:(this.updateElement(),e.container.appendChild(this.element),mR()&&(this.element.popover="manual",this.element.showPopover()),e.location&&$Ne(this.element,{location:e.location,alternateLocation:e.alternateLocation,verticalPos:"bottom",horizontalPos:"start"}),ZV(),this.element.focus({preventScroll:!0}),HV(),this.parentMenu&&(this.parentMenu.openSubmenu=this),!0)}hide(){var e,r,i,n,a,s;this.openSubmenu=null,this.activeMenuItem=null,this.parentMenu&&(this.parentMenu.openSubmenu=null),!(!((e=this._element)!=null&&e.isConnected)||!this._element.parentElement)&&(mR()&&(r=this._element)!=null&&r.popover&&this._element.hidePopover(),ZV(),(n=(i=this.parentMenu)==null?void 0:i.element)==null||n.focus(),(s=(a=this._element)==null?void 0:a.parentNode)==null||s.removeChild(this._element),HV())}set openSubmenu(e){var r,i,n,a;let s=e!==null;((r=this.activeMenuItem)==null?void 0:r.type)==="submenu"&&((i=this.activeMenuItem.element)==null||i.setAttribute("aria-expanded",s.toString())),(a=(n=this.activeMenuItem)==null?void 0:n.element)==null||a.classList.toggle("is-submenu-open",s),this.isSubmenuOpen=s}};function ZV(){document.addEventListener("focusin",yh,!0),document.addEventListener("focusout",yh,!0),document.addEventListener("focus",yh,!0),document.addEventListener("blur",yh,!0)}function yh(t){t.stopImmediatePropagation(),t.preventDefault()}function HV(){document.removeEventListener("focusin",yh,!0),document.removeEventListener("focusout",yh,!0),document.removeEventListener("focus",yh,!0),document.removeEventListener("blur",yh,!0)}var WV=class DH extends GV{constructor(e,r){var i;super(e),this.state="closed",this.typingBufferResetTimer=0,this.hysteresisTimer=0,this._updating=!1,this._host=(i=r==null?void 0:r.host)!=null?i:null,this.isDynamic=e.some(KV),this._modifiers={shift:!1,control:!1,alt:!1,meta:!1},this.typingBuffer="",this.state="closed"}get modifiers(){return this._modifiers}set modifiers(e){Kke(this._modifiers,e)||(this._modifiers=e,this.dirty=!0)}get activeSubmenu(){let e=this;for(;e.isSubmenuOpen;)e=e.activeMenuItem.submenu;return e}set dirty(e){this._updating||this._dirty!==e&&(this._dirty=!0,e&&setTimeout(()=>{this.updateState(this.modifiers),this.updateElement()}))}updateState(e){this._updating=!0,this.modifiers=e??this.modifiers,super.updateState(this.modifiers),this._updating=!1}handleKeyupEvent(e){this.isDynamic&&(this.modifiers=U1(e)),e.stopImmediatePropagation()}handleKeydownEvent(e){var r,i,n;if(e.key==="Tab"||e.key==="Escape"){this.hide();return}this.isDynamic&&(this.modifiers=U1(e));let a=!0,s=this.activeSubmenu,o=s.activeMenuItem;switch(e.key){case" ":case"Space":case"Return":case"Enter":o==null||o.select(U1(e));break;case"ArrowRight":if((o==null?void 0:o.type)==="submenu")o.select(U1(e)),this.activeSubmenu.activeMenuItem=this.activeSubmenu.firstMenuItem;else if(!o)s.activeMenuItem=s.firstMenuItem;else{let l=(r=s.getMenuItemColumn(o))!=null?r:-1;if(l>=0&&l<((i=s.columnCount)!=null?i:1)-1){let u=s.nextMenuItem(1);u&&(s.activeMenuItem=u)}}break;case"ArrowLeft":if(s===this.rootMenu)o||(s.activeMenuItem=s.firstMenuItem);else if((o&&(n=s.getMenuItemColumn(o))!=null?n:-1)<=0||!o){s.hide();let l=s.parentMenu.activeMenuItem;if(l){let{element:u}=l;u==null||u.focus(),u==null||u.classList.remove("is-submenu-open")}}else{let l=s.nextMenuItem(-1);l&&(s.activeMenuItem=l)}break;case"ArrowDown":s.activeMenuItem=s.nextMenuItem(s.columnCount);break;case"ArrowUp":s.activeMenuItem=s.nextMenuItem(-s.columnCount);break;case"Home":case"PageUp":s.activeMenuItem=s.firstMenuItem;break;case"End":case"PageDown":s.activeMenuItem=s.lastMenuItem;break;case"Backspace":if(this.typingBuffer&&(this.typingBuffer=this.typingBuffer.slice(0,-1),this.typingBuffer)){clearTimeout(this.typingBufferResetTimer);let l=s.findMenuItem(this.typingBuffer);l&&(s.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}break;default:if(ry(e)){isFinite(this.typingBufferResetTimer)&&clearTimeout(this.typingBufferResetTimer),this.typingBuffer+=e.key;let l=s.findMenuItem(this.typingBuffer);l&&(s.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}else a=!1}a&&(e.preventDefault(),e.stopPropagation())}handleEvent(e){if(e.type==="keydown")this.handleKeydownEvent(e);else if(e.type==="keyup")this.handleKeyupEvent(e);else if(e.type==="pointermove")this.lastMoveEvent=e;else if(e.type==="pointerup"&&e.target===this.scrim)Number.isFinite(this.rootMenu._openTimestamp)&&Date.now()-this.rootMenu._openTimestamp<120?this.state="modal":this.state==="modal"&&this.hide();else if(e.type==="contextmenu"){e.preventDefault(),e.stopPropagation();return}super.handleEvent(e)}dispatchEvent(e){return this._host?this._host.dispatchEvent(e):!0}get host(){return this._host}get scrim(){return h0.element}connectScrim(e){let r=this.scrim;r.addEventListener("pointerup",this),r.addEventListener("contextmenu",this),r.addEventListener("keydown",this),r.addEventListener("keyup",this),r.addEventListener("pointermove",this),h0.open({root:e,onDismiss:()=>this.hide()})}disconnectScrim(){let e=this.scrim;e.removeEventListener("pointerup",this),e.removeEventListener("contextmenu",this),e.removeEventListener("keydown",this),e.removeEventListener("keyup",this),e.removeEventListener("pointermove",this),h0.state==="open"&&h0.scrim.close()}get rootMenu(){return this}show(e){return this._onDismiss=e==null?void 0:e.onDismiss,e!=null&&e.modifiers&&(this.modifiers=e.modifiers),this.updateState(),this.connectScrim(e==null?void 0:e.target),super.show(je(we({},e),{container:this.scrim}))?(this._openTimestamp=Date.now(),this.state="open",!0):(this.disconnectScrim(),!1)}hide(){this.cancelDelayedOperation(),this.state!==void 0&&(this.state!=="closed"&&(this.activeMenuItem=null,h0.element.parentElement.focus(),super.hide(),this.state="closed",this.disconnectScrim()),this._onDismiss&&(this._onDismiss(),this._onDismiss=void 0))}scheduleOperation(e){this.cancelDelayedOperation();let r=DH.SUBMENU_DELAY;if(r<=0){e();return}this.hysteresisTimer=setTimeout(()=>{this.hysteresisTimer=0,e()},r)}cancelDelayedOperation(){this.hysteresisTimer&&(clearTimeout(this.hysteresisTimer),this.hysteresisTimer=0)}};WV.SUBMENU_DELAY=120;var YV=WV;function KV(t){return BM(t)?!1:typeof t.label=="function"||typeof t.ariaLabel=="function"||typeof t.tooltip=="function"||(Ku(t)||lm(t))&&(typeof t.enabled=="function"||typeof t.visible=="function")||Ku(t)&&typeof t.checked=="function"?!0:lm(t)?t.submenu.some(KV):!1}var Dy=class{};Dy.DELAY=300,Dy.MAX_DISTANCE=10;function INe(t){return new Promise((e,r)=>{let i=ty(t);i||e(!1);let n=i,a=setTimeout(()=>{s.abort(),e(_Ne(n,i)<Dy.MAX_DISTANCE)},Dy.DELAY),s=new AbortController,o=s.signal;for(let l of["pointermove","pointerup","pointercancel"])window.addEventListener(l,u=>{if(u.type==="pointerup"||u.type==="pointercancel")clearTimeout(a),s.abort(),e(!1);else if(u.type==="pointermove"){let c=ty(u);c&&(n=c)}},{passive:!0,signal:o})})}async function XV(t,e,r){if(t.defaultPrevented)return!1;if(t.type==="contextmenu"){let i=t;if(r.show({target:e,location:ty(i),modifiers:U1(i)}))return t.preventDefault(),t.stopPropagation(),!0}if(t.type==="keydown"){let i=t;if(i.code==="ContextMenu"||i.code==="F10"&&i.shiftKey){let n=e==null?void 0:e.getBoundingClientRect();if(QV(e)&&n&&r.show({target:e,location:{x:Math.ceil(n.left+n.width/2),y:Math.ceil(n.top+n.height/2)},modifiers:U1(i)}))return t.preventDefault(),t.stopPropagation(),!0}}if(t.type==="pointerdown"&&t.pointerType!=="mouse"&&t.button===0){let i=t.target;for(;i&&e!==i;)i=i.parentNode;if(!i||!r.visible)return!1;let n=ty(t);if(await INe(t))return r.state!=="closed"||!QV(e)?!1:(r.show({target:e,location:n}),!0)}return!1}function QV(t){return t.dispatchEvent(new Event("contextmenu",{cancelable:!0}))}var JV={acute:714,grave:715,dot:729,ddot:168,dddot:8411,ddddot:8412,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};ht(Object.keys(JV),"{body:auto}",{createAtom:t=>new Rv(je(we({},t),{body:Ft(t.args[0]),accentChar:JV[t.command.slice(1)]}))}),ht(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:t=>{let e=xR(Ft(t.args[0]));return new Rv(je(we({},t),{body:Ft(t.args[0]),svgAccent:t.command.slice(1)+(e.length>5?"4":["1","1","2","2","3","3"][e.length])}))}}),ht(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:t=>new Rv(je(we({},t),{body:Ft(t.args[0]),svgAccent:"overarc"}))}),ht(["underarc","underparen"],"{body:auto}",{createAtom:t=>new Tl(je(we({},t),{body:Ft(t.args[0]),svgBelow:"underarc"}))}),ht("utilde","{body:auto}",{createAtom:t=>{let e=Ft(t.args[0]),r=xR(e),i="widetilde"+(r.length>5?"4":["1","1","2","2","3","3"][r.length]);return new Tl(je(we({},t),{body:e,svgBelow:i,boxType:N2(e)}))}}),ht("^","{:string}",{createAtom:t=>{var e;return new it(je(we({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"â",e:"ê",i:"î",o:"ô",u:"û",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û"}[t.args[0]])!=null?e:"^"}))}}),ht("`","{:string}",{createAtom:t=>{var e;return new it(je(we({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"à",e:"è",i:"ì",o:"ò",u:"ù",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù"}[t.args[0]])!=null?e:"`"}))}}),ht("'","{:string}",{createAtom:t=>{var e;return new it(je(we({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"á",e:"é",i:"í",o:"ó",u:"ú",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú"}[t.args[0]])!=null?e:"'"}))}}),ht('"',"{:string}",{createAtom:t=>{var e,r;return new it(je(we({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"ä",e:"ë",i:"ï",o:"ö",u:"ü",A:"Ä",E:"Ë",I:"Ë",O:"Ö",U:"Ü"}[t.args[0]])!=null?r:'"'+t.args[0]:'"'}))}}),ht(".","{:string}",{createAtom:t=>{var e,r;return new it(je(we({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"ȧ",e:"ė",i:"̇i",o:"ȯ",u:"̇u",A:"Ȧ",E:"Ė",I:"İ",O:"Ȯ",U:"̇U"}[t.args[0]])!=null?r:"."+t.args[0]:"."}))}}),ht("=","{:string}",{createAtom:t=>{var e,r;return new it(je(we({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"ā",e:"ē",i:"ī",o:"ō",u:"ū",A:"Ā",E:"Ē",I:"Ī",O:"Ō",U:"Ū"}[t.args[0]])!=null?r:"="+t.args[0]:"="}))}}),ht("~","{:string}",{createAtom:t=>{var e;return new it(je(we({type:"mord"},t),{isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={n:"ñ",N:"Ñ",a:"ã",o:"õ",A:"Ã",O:"Õ"}[t.args[0]])!=null?e:"´"}))}}),ht("c","{:string}",{createAtom:t=>{var e;return new it(je(we({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={c:"ç",C:"Ç"}[t.args[0]])!=null?e:""}))}}),ht("enclose","{notation:string}[style:string]{body:auto}",{createAtom:t=>{var e,r;let i=t.args,n={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"none",svgStrokeStyle:void 0,borderStyle:void 0,style:(e=t.style)!=null?e:{}};if(i[1]){let s=i[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let o of s){let l=o.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(l)n.strokeWidth=l[1],n.strokeStyle=l[2],n.strokeColor=l[3];else{let u=o.match(/\s*([a-z]*)\s*=\s*"(.*)"/);u&&(u[1]==="mathbackground"?n.backgroundcolor=u[2]:u[1]==="mathcolor"?n.strokeColor=u[2]:u[1]==="padding"?n.padding=u[2]:u[1]==="shadow"&&(n.shadow=u[2]))}}n.strokeStyle==="dashed"?n.svgStrokeStyle="5,5":n.strokeStyle==="dotted"&&(n.svgStrokeStyle="1,5")}n.borderStyle=`${n.strokeWidth} ${n.strokeStyle} ${n.strokeColor}`;let a={};return((r=i[0])!=null?r:"").split(/[, ]/).filter(s=>s.length>0).forEach(s=>{a[s.toLowerCase()]=!0}),new $2(t.command,Ft(i[2]),a,n)}}),ht("cancel","{body:auto}",{createAtom:t=>{var e;return new $2(t.command,Ft(t.args[0]),{updiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}}),ht("bcancel","{body:auto}",{createAtom:t=>{var e;return new $2(t.command,Ft(t.args[0]),{downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}}),ht("xcancel","{body:auto}",{createAtom:t=>{var e;return new $2(t.command,Ft(t.args[0]),{updiagonalstrike:!0,downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}}),ht(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:t=>{var e;return new Tl(je(we({},t),{body:Ft((e=t.args)==null?void 0:e[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgAbove:t.command.slice(1)}))}}),ht("overbrace","{:auto}",{createAtom:t=>new Tl(je(we({},t),{body:Ft(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgAbove:t.command.slice(1)}))}),ht(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:t=>new Tl(je(we({},t),{body:Ft(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgBelow:t.command.slice(1)}))}),ht(["underbrace"],"{:auto}",{createAtom:t=>new Tl(je(we({},t),{body:Ft(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgBelow:t.command.slice(1)}))}),ht(["xrightarrow","longrightarrow","xleftarrow","longleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","longleftrightarrow","xLeftrightarrow","xrightleftharpoons","longrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xleftrightarrows","longleftrightarrows","xRightleftharpoons","longRightleftharpoons","xLeftrightharpoons","longLeftrightharpoons"],"[:auto]{:auto}",{createAtom:t=>{var e,r,i,n,a;return new Tl(je(we({},t),{svgBody:t.command.slice(1),above:((r=Ft((e=t.args)==null?void 0:e[1]))==null?void 0:r.length)===0?void 0:Ft((i=t.args)==null?void 0:i[1]),below:(a=Ft((n=t.args)==null?void 0:n[0]))!=null?a:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"rel"}))},serialize:(t,e)=>t.command+(t.hasEmptyBranch("below")?"":`[${t.belowToLatex(e)}]`)+`{${t.aboveToLatex(e)}}${t.supsubToLatex(e)}`}),ht(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","deg","dim","exp","gcd","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,ifMode:"math",createAtom:t=>new q1(t.command.slice(1),je(we({},t),{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up"}))}),ht(["liminf","limsup"],"",{ifMode:"math",createAtom:t=>new q1({"\\liminf":"lim inf","\\limsup":"lim sup"}[t.command],je(we({},t),{limits:"over-under",variant:"main"}))}),ht(["lim","mod"],"",{ifMode:"math",createAtom:t=>new q1(t.command.slice(1),je(we({},t),{limits:"over-under",variant:"main"}))}),ht(["det","max","min"],"",{ifMode:"math",isFunction:!0,createAtom:t=>new q1(t.command.slice(1),je(we({},t),{limits:"over-under",isFunction:!0,variant:"main"}))}),ht("ang","{:math}",{ifMode:"math",createAtom:t=>new it(je(we({},t),{body:Ft(t.args[0])})),serialize:(t,e)=>`\\ang{${t.bodyToLatex(e)}}`,render:(t,e)=>{let r=t.createBox(e),i=r.caret;r.caret=void 0;let n=new kt("°",{style:je(we({},t.style),{variant:"normal",variantStyle:"up"})});return new kt([r,n],{type:"inner",isSelected:t.isSelected,caret:i})}}),ht("sqrt","[index:auto]{radicand:expression}",{ifMode:"math",createAtom:t=>new QU(je(we({},t),{body:Ft(t.args[1]),index:t.args[0]?Ft(t.args[0]):void 0}))}),ht(["frac","dfrac","tfrac","binom","dbinom","tbinom"],"{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=we({},t),r=t.command,i=t.args;switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":e.hasBarLine=!0;break;case"\\atopfrac":e.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":e.hasBarLine=!1,e.leftDelim="(",e.rightDelim=")";break;case"\\cfrac":e.hasBarLine=!0,e.continuousFraction=!0;break}switch(r){case"\\dfrac":case"\\dbinom":e.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":e.mathstyleName="textstyle";break}return new R1(i[0]?Ft(i[0]):[new H0],i[1]?Ft(i[1]):[new H0],e)},serialize:(t,e)=>{let r=t.aboveToLatex(e),i=t.belowToLatex(e);return/^[0-9]$/.test(r)&&/^[0-9]$/.test(i)?`${t.command}${r}${i}`:rn(t.command,r,i)}}),ht(["cfrac"],"[:string]{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=we({},t),r=t.args;return e.hasBarLine=!0,e.continuousFraction=!0,r[0]==="r"&&(e.align="right"),r[0]==="l"&&(e.align="left"),new R1(r[1]?Ft(r[1]):[new H0],r[2]?Ft(r[2]):[new H0],e)},serialize:(t,e)=>{let r=t.aboveToLatex(e),i=t.belowToLatex(e);return rn(t.command,r,i)}}),ht(["brace","brack"],"",{infix:!0,createAtom:t=>new R1(Ft(t.args[0]),Ft(t.args[1]),je(we({},t),{hasBarLine:!1,leftDelim:t.command==="\\brace"?"\\lbrace":"\\lbrack",rightDelim:t.command==="\\brace"?"\\rbrace":"\\rbrack"})),serialize:(t,e)=>Hr([t.aboveToLatex(e),t.command,t.belowToLatex(e)])}),ht(["over","atop","choose"],"",{infix:!0,createAtom:t=>{let e,r,i=t.args;return t.command==="\\choose"&&(e="(",r=")"),new R1(Ft(i[0]),Ft(i[1]),je(we({},t),{hasBarLine:t.command==="\\over",leftDelim:e,rightDelim:r}))},serialize:(t,e)=>Hr([t.aboveToLatex(e),t.command,t.belowToLatex(e)])}),ht(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:t=>{var e,r;let i=t.args;return new R1(Ft(i[0]),Ft(i[1]),je(we({},t),{leftDelim:(e=i[2])!=null?e:".",rightDelim:(r=i[3])!=null?r:".",hasBarLine:!1}))},serialize:(t,e)=>`${t.aboveToLatex(e)} ${t.command}${t.leftDelim}${t.rightDelim}${t.belowToLatex(e)}`}),ht("pdiff","{numerator}{denominator}",{ifMode:"math",createAtom:t=>new R1(Ft(t.args[0]),Ft(t.args[1]),je(we({},t),{hasBarLine:!0,numerPrefix:"∂",denomPrefix:"∂"})),serialize:(t,e)=>Hr([t.aboveToLatex(e),t.command,t.belowToLatex(e)])}),ht(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","intop"],"",{ifMode:"math",createAtom:t=>new iM({coprod:"∐",bigvee:"⋁",bigwedge:"⋀",biguplus:"⨄",bigcap:"⋂",bigcup:"⋃",intop:"∫",prod:"∏",sum:"∑",bigotimes:"⨂",bigoplus:"⨁",bigodot:"⨀",bigsqcup:"⨆",smallint:"∫"}[t.command.slice(1)],je(we({},t),{limits:"auto",variant:"main"}))}),ht("smallint","",{ifMode:"math",createAtom:t=>new q1("∫",je(we({},t),{limits:"adjacent",variant:"main"}))});var eG={int:"∫",iint:"∬",iiint:"∭",oint:"∮",oiint:"∯",oiiint:"∰",intclockwise:"∱",varointclockwise:"∲",ointctrclockwise:"∳",intctrclockwise:"⨑",sqcup:"⊔",sqcap:"⊓",uplus:"⊎",wr:"≀",amalg:"⨿",Cap:"⋒",Cup:"⋓",doublecap:"⋒",doublecup:"⋓"};ht(Object.keys(eG),"",{ifMode:"math",createAtom:t=>{let e=t.command,r=eG[e.slice(1)];return new iM(r,je(we({},t),{limits:"adjacent",variant:{"⋒":"ams","⋓":"ams"}[r]}))}}),ht(["Re","Im"],"",{ifMode:"math",createAtom:t=>new q1({"\\Re":"ℜ","\\Im":"ℑ"}[t.command],je(we({},t),{limits:"adjacent",isFunction:!0,variant:"fraktur"}))}),ht("middle","{:delim}",{ifMode:"math",createAtom:t=>{var e;return new YU(je(we({},t),{delim:(e=t.args[0])!=null?e:"|",size:1}))}}),ht("the","{:value}",{createAtom:t=>new it(je(we({},t),{captureSelection:!0,verbatimLatex:null})),render:(t,e)=>{var r;let i=new pi({parent:e},t.style),n="";t.isSelected&&(n+=" ML__selected");let a=i.evaluate(t.args[0]);return new kt(((r=ps(a))!=null?r:"").split("").map(s=>new kt(s,{type:"ord",classes:n,mode:t.mode,isSelected:t.isSelected,style:we({variant:"main"},t.style)})),{type:"lift",style:t.style,caret:t.caret,isSelected:t.isSelected,classes:n}).wrap(i)},serialize:t=>{var e;return`\\the${(e=ps(t.args[0]))!=null?e:"\\relax"}`}}),ht("mathtip","{:auto}{:math}",{createAtom:t=>new nM(je(we({},t),{body:Ft(t.args[0]),tooltip:Ft(t.args[1]),content:"math"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\mathtip{${t.bodyToLatex(e)}}{${it.serialize([t.tooltip],je(we({},e),{defaultMode:"math"}))}}`}),ht("texttip","{:auto}{:text}",{createAtom:t=>new nM(je(we({},t),{body:Ft(t.args[0]),tooltip:Ft(t.args[1]),content:"text"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\texttip{${t.bodyToLatex(e)}}{${it.serialize([t.tooltip],je(we({},e),{defaultMode:"text"}))}}`}),ht("error","{:math}",{createAtom:t=>new it(je(we({},t),{body:Ft(t.args[0])})),serialize:(t,e)=>`\\error{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__error"})}),ht("ensuremath","{:math}",{createAtom:t=>new it(je(we({},t),{body:Ft(t.args[0])})),serialize:(t,e)=>`${t.command}{${t.bodyToLatex(je(we({},e),{defaultMode:"math"}))}}`}),ht("color","{:value}",{applyStyle:(t,e,r,i)=>{var n,a;return je(we({},t),{verbatimColor:(n=ps(r[0]))!=null?n:void 0,color:i.toColor((a=r[0])!=null?a:{string:"red"})})}}),ht("textcolor","{:value}{content:auto*}",{applyStyle:(t,e,r,i)=>{var n,a;return je(we({},t),{verbatimColor:(n=ps(r[0]))!=null?n:void 0,color:i.toColor((a=r[0])!=null?a:{string:"red"})})}}),ht("boxed","{content:math}",{createAtom:t=>new mh(je(we({},t),{body:Ft(t.args[0]),framecolor:{string:"black"}}))}),ht("colorbox","{:value}{:text*}",{applyStyle:(t,e,r,i)=>{var n,a;return je(we({},t),{verbatimBackgroundColor:(n=ps(r[0]))!=null?n:void 0,backgroundColor:i.toBackgroundColor((a=r[0])!=null?a:{string:"yellow"})})}}),ht("fcolorbox","{frame-color:value}{background-color:value}{content:text}",{applyMode:"text",createAtom:t=>{var e,r;return new mh(je(we({},t),{body:Ft(t.args[2]),framecolor:(e=t.args[0])!=null?e:{string:"blue"},backgroundcolor:(r=t.args[1])!=null?r:{string:"yellow"}}))},serialize:(t,e)=>{var r,i;return e.skipStyles?t.bodyToLatex(je(we({},e),{defaultMode:"text"})):rn(t.command,(r=ps(t.framecolor))!=null?r:"",(i=ps(t.backgroundcolor))!=null?i:"",t.bodyToLatex(je(we({},e),{defaultMode:"text"})))}}),ht("bbox","[:bbox]{body:auto}",{createAtom:t=>{var e;let r=t.args[0],i=Ft(t.args[1]);return r?new mh(je(we({},t),{body:i,padding:r.padding,border:r.border,backgroundcolor:(e=r.backgroundcolor)!=null?e:void 0})):new mh(je(we({},t),{body:i}))},serialize:(t,e)=>{var r,i;if(e.skipStyles)return t.bodyToLatex(e);let n=t.command;if(Number.isFinite(t.padding)||t.border!==void 0||t.backgroundcolor!==void 0){let a=[];t.padding&&a.push((r=ps(t.padding))!=null?r:""),t.border&&a.push(`border: ${t.border}`),t.backgroundcolor&&a.push((i=ps(t.backgroundcolor))!=null?i:""),n+=`[${a.join(",")}]`}return rn(n,t.bodyToLatex(e))}}),ht(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:t=>new it(je(we({},t),{body:Ft(t.args[0])})),render:(t,e)=>{let r=new pi({parent:e,mathstyle:t.command.slice(1)},t.style),i=it.createBox(r,t.body,{type:"lift"});return t.caret&&(i.caret=t.caret),t.bind(e,i)},serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{${Hr([t.command,t.bodyToLatex(e)])}}`}),ht(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:(t,e)=>je(we({},t),{fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[e]})}),ht("fontseries","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var i;return je(we({},t),{fontSeries:(i=r[0])!=null?i:"auto"})}}),ht("fontshape","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var i;return je(we({},t),{fontShape:(i=r[0])!=null?i:"auto"})}}),ht("fontfamily","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var i;return je(we({},t),{fontFamily:(i=r[0])!=null?i:"roman"})}}),ht("selectfont","",{ifMode:"text",applyStyle:t=>t}),ht("bf","{:rest*}",{applyStyle:t=>je(we({},t),{fontSeries:"b",fontShape:"n",fontFamily:"roman"})}),ht(["boldsymbol","bm","bold"],"{:math*}",{applyMode:"math",applyStyle:t=>je(we({},t),{variantStyle:"bold"})}),ht("bfseries","{:rest*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontSeries:"b"})}),ht("mdseries","{:rest*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontSeries:"m"})}),ht("upshape","{:rest*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontShape:"n"})}),ht("slshape","{:rest*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontShape:"sl"})}),ht("scshape","{:rest*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontShape:"sc"})}),ht("textbf","{:text*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontSeries:"b"})}),ht("textmd","{:text*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontSeries:"m"})}),ht("textup","{:text*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontShape:"n"})}),ht("textnormal","{:text*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontShape:"n",fontSeries:"m"})}),ht("textsl","{:text*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontShape:"sl"})}),ht("textit","{:text*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontShape:"it"})}),ht("textsc","{:text*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontShape:"sc"})}),ht("textrm","{:text*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontFamily:"roman"})}),ht("textsf","{:text*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontFamily:"sans-serif"})}),ht("texttt","{:text*}",{applyMode:"text",applyStyle:t=>je(we({},t),{fontFamily:"monospace"})}),ht("mathbf","{:math*}",{applyMode:"math",applyStyle:t=>je(we({},t),{variant:"normal",variantStyle:"bold"})}),ht("mathit","{:math*}",{applyMode:"math",applyStyle:t=>je(we({},t),{variant:"main",variantStyle:"italic"})}),ht("mathnormal","{:math*}",{applyMode:"math",applyStyle:t=>je(we({},t),{variant:"normal",variantStyle:"italic"})}),ht("mathbfit","{:math*}",{applyMode:"math",applyStyle:t=>je(we({},t),{variant:"main",variantStyle:"bolditalic"})}),ht("mathrm","{:math*}",{applyMode:"math",applyStyle:t=>je(we({},t),{variant:"normal",variantStyle:"up"})}),ht("mathsf","{:math*}",{applyMode:"math",applyStyle:t=>je(we({},t),{variant:"sans-serif",variantStyle:"up"})}),ht("mathtt","{:math*}",{applyMode:"math",applyStyle:t=>je(we({},t),{variant:"monospace",variantStyle:"up"})}),ht("it","{:rest*}",{applyStyle:t=>je(we({},t),{fontSeries:"m",fontShape:"it",fontFamily:"roman",variantStyle:"italic"})}),ht("rmfamily","{:rest*}",{applyStyle:t=>je(we({},t),{fontFamily:"roman"})}),ht("sffamily","{:rest*}",{applyStyle:t=>je(we({},t),{fontFamily:"sans-serif"})}),ht("ttfamily","{:rest*}",{applyStyle:t=>je(we({},t),{fontFamily:"monospace"})}),ht(["Bbb","mathbb"],"{:math*}",{applyStyle:t=>je(we({},t),{variant:"double-struck",variantStyle:Qv(t.variantStyle)})}),ht(["frak","mathfrak"],"{:math*}",{applyStyle:t=>je(we({},t),{variant:"fraktur",variantStyle:Qv(t.variantStyle)})}),ht("mathcal","{:math*}",{applyStyle:t=>je(we({},t),{variant:"calligraphic",variantStyle:Qv(t.variantStyle)})}),ht("mathscr","{:math*}",{applyStyle:t=>je(we({},t),{variant:"script",variantStyle:Qv(t.variantStyle)})}),ht("mbox","{:text}",{ifMode:"math",createAtom:t=>new it(je(we({},t),{type:"mord",body:Ft(t.args[0]),mode:"math"})),serialize:(t,e)=>rn("\\mbox",t.bodyToLatex(je(we({},e),{defaultMode:"text"})))}),ht("text","{:text}",{ifMode:"math",applyMode:"text"}),ht(["class","htmlClass"],"{name:string}{content:auto}",{createAtom:t=>new it(je(we({},t),{body:Ft(t.args[1])})),serialize:(t,e)=>!t.args[0]||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`,render:(t,e)=>{var r;return t.createBox(e,{classes:(r=t.args[0])!=null?r:""})}}),ht(["cssId","htmlId"],"{id:string}{content:auto}",{createAtom:t=>new it(je(we({},t),{body:Ft(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let i=t.createBox(e);return i.cssId=(r=t.args[0])!=null?r:"",i}}),ht("htmlData","{data:string}{content:auto}",{createAtom:t=>new it(je(we({},t),{body:Ft(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`\\htmlData{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let i=t.createBox(e);return i.htmlData=(r=t.args[0])!=null?r:"",i}}),ht(["style","htmlStyle"],"{data:string}{content:auto}",{createAtom:t=>new it(je(we({},t),{body:Ft(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let i=t.createBox(e);return i.htmlStyle=(r=t.args[0])!=null?r:"",i}}),ht("href","{url:string}{content:auto}",{createAtom:t=>new it(je(we({},t),{body:Ft(t.args[1])})),render:(t,e)=>{var r;let i=t.createBox(e),n=(r=t.args[0])!=null?r:"";return n&&(i.htmlData=`href=${n}`),i}}),ht("em","{:rest}",{createAtom:t=>new it(je(we({},t),{body:Ft(t.args[0])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{\\em ${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})}),ht("emph","{:auto}",{createAtom:t=>new it(je(we({},t),{body:Ft(t.args[1])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\emph{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});var tG={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};ht(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:t=>{var e;return new KU(je(we({},t),{delim:(e=t.args[0])!=null?e:".",size:tG[t.command].size,delimType:tG[t.command].mclass}))}}),ht(["hspace","hspace*"],"{width:value}",{createAtom:t=>{var e;return new I2(je(we({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}}),ht(["mkern","kern","mskip","hskip","mspace"],"{width:value}",{createAtom:t=>{var e;return new I2(je(we({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}}),ht("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:t=>new it(t),render:(t,e)=>{let r=0,i=e.mathstyle.id;(i===zv||i===E1)&&(r=1),(i===Ud||i===Yo)&&(r=2),(i===I1||i===Gs)&&(r=3);let n=Ft(t.args[r]);return it.createBox(e,n)},serialize:(t,e)=>`\\mathchoice{${it.serialize(t.args[0],e)}}{${it.serialize(t.args[1],e)}}{${it.serialize(t.args[2],e)}}{${it.serialize(t.args[3],e)}}`}),ht("mathop","{:auto}",{createAtom:t=>new it(je(we({},t),{type:"mop",body:Ft(t.args[0]),limits:"over-under",isFunction:!0,captureSelection:!0})),render:(t,e)=>{var r;let i=it.createBox(e,t.body);if(t.superscript||t.subscript){let n=(r=t.subsupPlacement)!=null?r:"auto";i=n==="over-under"||n==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:i}):t.attachSupsub(e,{base:i})}return t.caret&&(i.caret=t.caret),new kt(t.bind(e,i),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let r=[rn(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&r.push("\\limits"),t.subsupPlacement==="adjacent"&&r.push("\\nolimits"),t.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(t.supsubToLatex(e)),Hr(r)}}),ht(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:t=>new it(je(we({},t),{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[t.command],body:Ft(t.args[0])}))}),ht(["operatorname","operatorname*"],"{operator:math}",{createAtom:t=>{let e=Ft(t.args[0]).map(r=>{var i;return r.type!=="first"&&(r.type="mord",r.value=(i={"∗":"*","−":"-"}[r.value])!=null?i:r.value,r.isFunction=!1,!r.style.variant&&!r.style.variantStyle&&(r.style.variant="main",r.style.variantStyle="up")),r});return new it(je(we({},t),{type:"mop",body:e,isFunction:!0,limits:t.command==="\\operatorname"?"adjacent":"over-under"}))},render:(t,e)=>{var r;let i=it.createBox(e,t.body);if(t.superscript||t.subscript){let n=(r=t.subsupPlacement)!=null?r:"auto";i=n==="over-under"||n==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:i}):t.attachSupsub(e,{base:i})}return t.caret&&(i.caret=t.caret),new kt(t.bind(e,i),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let r=[rn(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&r.push("\\limits"),t.subsupPlacement==="adjacent"&&r.push("\\nolimits"),t.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(t.supsubToLatex(e)),Hr(r)}}),ht(["char","unicode"],"{charcode:value}",{createAtom:t=>new it(je(we({},t),{type:t.mode==="text"?"text":"mord"})),serialize:t=>{var e;return`${t.command}${ps((e=t.args[0])!=null?e:{number:10067,base:"hexadecimal"})}`},render:(t,e)=>{let r=e.evaluate(t.args[0]);return(!r||!("number"in r))&&(r={number:10067,base:"hexadecimal"}),t.value=String.fromCodePoint(r.number),t.createBox(e)}}),ht("rule","[raise:value]{width:value}{thickness:value}",{createAtom:t=>new it(t),render:(t,e)=>{var r,i,n;let a=new pi({parent:e,mathstyle:"textstyle"},t.style),s=a.toEm((r=t.args[0])!=null?r:{dimension:0}),o=a.toEm((i=t.args[1])!=null?i:{dimension:10}),l=a.toEm((n=t.args[2])!=null?n:{dimension:10}),u=new kt(null,{classes:"ML__rule",type:"ord"});return u.width=o,u.height=l+s,u.depth=-s,u.setStyle("border-right-width",o,"em"),u.setStyle("border-top-width",l,"em"),u.setStyle("border-color",t.style.color),u.setStyle("vertical-align",s,"em"),t.isSelected&&u.setStyle("opacity","50%"),t.bind(a,u),t.caret&&(u.caret=t.caret),u.wrap(e)},serialize:t=>`\\rule${t.args[0]?`[${ps(t.args[0])}]`:""}{${ps(t.args[1])}}{${ps(t.args[2])}}`}),ht(["overline","underline"],"{:auto}",{createAtom:t=>new it(je(we({},t),{body:Ft(t.args[0])})),render:(t,e)=>{let r=t.command.substring(1),i=new pi({parent:e,mathstyle:"cramp"},t.style),n=it.createBox(i,t.body);if(!n)return null;let a=i.metrics.defaultRuleThickness/i.scalingFactor,s=new kt(null,{classes:r+"-line"});s.height=a,s.maxFontSize=a*1.125*i.scalingFactor;let o;return r==="overline"?o=new ba({shift:0,children:[{box:n},3*a,{box:s},a]}):o=new ba({top:n.height,children:[a,{box:s},3*a,{box:n}]}),t.caret&&(o.caret=t.caret),new kt(o,{classes:r,type:"ignore"})}}),ht("overset","{:auto}{base:auto}",{createAtom:t=>{let e=Ft(t.args[1]);return new Tl(je(we({},t),{above:Ft(t.args[0]),body:e,skipBoundary:!1,boxType:N2(e)}))},serialize:(t,e)=>rn(t.command,t.aboveToLatex(e),t.bodyToLatex(e))}),ht("underset","{:auto}{base:auto}",{createAtom:t=>{let e=Ft(t.args[1]);return new Tl(je(we({},t),{below:Ft(t.args[0]),body:e,skipBoundary:!1,boxType:N2(e)}))},serialize:(t,e)=>rn(t.command,t.belowToLatex(e),t.bodyToLatex(e))}),ht("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:t=>{let e=Ft(t.args[2]);return new Tl(je(we({},t),{above:Ft(t.args[0]),below:Ft(t.args[1]),body:e,skipBoundary:!1,boxType:N2(e)}))},serialize:(t,e)=>rn(t.command,t.belowToLatex(e),t.bodyToLatex(e))}),ht(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:t=>new Tl(je(we({},t),{body:Ft(t.args[2]),above:Ft(t.args[1]),below:Ft(t.args[0]),skipBoundary:!1,boxType:t.command==="\\stackrel"?"rel":"bin"})),serialize:(t,e)=>rn(t.command,t.aboveToLatex(e),t.bodyToLatex(e))}),ht("smash","[:string]{:auto}",{createAtom:t=>{var e,r,i,n;return new E2(je(we({},t),{body:Ft(t.args[1]),smashHeight:(r=(e=t.args[0])==null?void 0:e.includes("t"))!=null?r:!0,smashDepth:(n=(i=t.args[0])==null?void 0:i.includes("b"))!=null?n:!0}))}}),ht(["vphantom"],"{:auto}",{createAtom:t=>new E2(je(we({},t),{body:Ft(t.args[0]),isInvisible:!0,smashWidth:!0}))}),ht(["hphantom"],"{:auto}",{createAtom:t=>new E2(je(we({},t),{body:Ft(t.args[0]),isInvisible:!0,smashHeight:!0,smashDepth:!0}))}),ht(["phantom"],"{:auto}",{createAtom:t=>new E2(je(we({},t),{body:Ft(t.args[0]),isInvisible:!0}))}),ht("not","{:math}",{createAtom:t=>{let e=Ft(t.args[0]);return e.length===0?new it(je(we({},t),{type:"mrel",value:""})):new it(je(we({},t),{body:[new j1(je(we({},t),{body:"",align:"right"})),...e],captureSelection:!0}))},serialize:(t,e)=>{let r=t.args[0],i=r&&typeof r=="object"&&"group"in r;return t.value!==""?i?`\\not{${it.serialize(r.group,e)}}`:`\\not${it.serialize(r,e)}`:i?"\\not{}":"\\not"},render:(t,e)=>{if(t.value)return t.createBox(e);let r=t.args[0]&&typeof t.args[0]=="object"&&"group"in t.args[0]?"ord":N2(Ft(t.args[0])),i=it.createBox(e,t.body,{type:r});return t.caret&&(i.caret=t.caret),t.bind(e,i)}}),ht(["ne","neq"],"",{createAtom:t=>new it(je(we({},t),{type:"mrel",body:[new j1(je(we({},t),{body:"",align:"right",boxType:"rel"})),new it(je(we({},t),{value:"="}))],captureSelection:!0})),serialize:t=>t.command}),ht("rlap","{:auto}",{createAtom:t=>new j1(je(we({},t),{body:Ft(t.args[0]),align:"right"}))}),ht("llap","{:auto}",{createAtom:t=>new j1(je(we({},t),{body:Ft(t.args[0]),align:"left"}))}),ht("mathrlap","{:math}",{createAtom:t=>new j1(je(we({},t),{body:Ft(t.args[0]),align:"right"}))}),ht("mathllap","{:math}",{createAtom:t=>new j1(je(we({},t),{body:Ft(t.args[0]),align:"left"}))}),ht("raisebox","{:value}{:text}",{createAtom:t=>{var e;return new mh(je(we({},t),{body:Ft(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r;return rn("\\raisebox",(r=ps(t.offset))!=null?r:"0pt",t.bodyToLatex(e))}}),ht("raise","{:value}{:auto}",{createAtom:t=>{var e;return new mh(je(we({},t),{body:Ft(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r;return rn("\\raise",(r=ps(t.offset))!=null?r:"0pt",t.bodyToLatex(e))}}),ht("lower","{:value}{:auto}",{createAtom:t=>{var e;return new mh(je(we({},t),{body:Ft(t.args[1]),padding:{dimension:0},offset:(e=Z0(t.args[0],-1))!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r,i;return rn("\\lower",(i=ps(Z0((r=t.offset)!=null?r:{dimension:0},-1)))!=null?i:"0pt",t.bodyToLatex(e))}}),Za("0123456789/@.?!"),yR(65,90),yR(97,122),Za([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]),Za([["\\#",35],["\\&",38],["\\parallelogram",9649],["\\spadesuit",9824],["\\heartsuit",9825],["\\diamondsuit",9826],["\\clubsuit",9827],["\\flat",9837],["\\natural",9838],["\\sharp",9839]]),Za([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\pounds",163],["\\euro",8364]]),Za([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel"),Za([["\\mapsfrom",8612,"mrel"],["\\Mapsfrom",10502,"mrel"],["\\MapsTo",10503,"mrel"],["\\Yup",8516,"mord"],["\\lightning",8623,"mrel"],["\\leftarrowtriangle",8701,"mrel"],["\\rightarrowtriangle",8702,"mrel"],["\\leftrightarrowtriangle",8703,"mrel"],["\\boxdot",8865,"mbin"],["\\bigtriangleup",9651,"mbin"],["\\bigtriangledown",9661,"mbin"],["\\boxbar",9707,"mbin"],["\\Lbag",10181,"mopen"],["\\Rbag",10182,"mclose"],["\\llbracket",10214,"mopen"],["\\rrbracket",10215,"mclose"],["\\longmapsfrom",10235,"mrel"],["\\Longmapsfrom",10237,"mrel"],["\\Longmapsto",10238,"mrel"],["\\boxslash",10692,"mbin"],["\\boxbslash",10693,"mbin"],["\\boxast",10694,"mbin"],["\\boxcircle",10695,"mbin"],["\\boxbox",10696,"mbin"],["\\fatsemi",10783,"mop"],["\\leftslice",10918,"mrel"],["\\rightslice",10919,"mrel"],["\\interleave",10996,"mbin"],["\\biginterleave",11004,"mop"],["\\sslash",11005,"mbin"],["\\talloblong",11006,"mbin"]]),Za([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]),Za([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\twoheadrightarrowtail",10518],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nleftarrow",8602],["\\nrightarrow",8603],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\nvrightarrow",8696],["\\nvtwoheadrightarrow",10496],["\\nvrightarrowtail",10516],["\\nvtwoheadrightarrowtail",10519],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams"),Za([["+",43],["-",8722],["−",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin"),Za([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams"),Za([["\\surd",8730],["\\S",167],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\varkappa",1008,"mord","ams"],["\\coppa",985,"mord","ams"],["\\koppa",985,"mord","ams"],["\\Coppa",984,"mord","ams"],["\\Koppa",984,"mord","ams"],["\\sampi",993,"mord","ams"],["\\Sampi",992,"mord","ams"],["\\emptyset",8709]]),Za([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\coloneqq",8788],["\\colonequals",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",10178],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel"),Za([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams"),Za([["\\wp",8472],["\\aleph",8501]]),Za([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams"),Za([["\\ ",160],["~",160]],"space"),ht(["!",",",":",";",">","enskip","enspace","quad","qquad"],"",{createAtom:t=>new I2(t)}),ht("space","",{createAtom:t=>new I2(t)}),Za([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct"),Za([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner"),Za([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);var rG="<mo>&#x2061;</mo>",Ay="<mo>&#8290;</mo>";function $y(t){return t.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Hi(t,e){return!t||!e.generateID?"":` extid="${t}"`}function TNe(t,e,r){var i,n,a,s,o,l,u,c;let h=!1;e=e??t.atoms.length;let p="",d="",m=t.atoms[t.index],f=(i=m.style)==null?void 0:i.variant,v=(n=m.style)==null?void 0:n.variantStyle,y="";if(m.value&&(f||v)){let g=(a=ew(m.value,f,v))!=null?a:m.value;if(g!==m.value)return t.index+=1,p=`<mi${Hi(m.id,r)}>${g}</mi>`,K0(p,t,r)||(t.mathML+=p,t.lastType="mi"),!0;y=(s={upnormal:"normal",boldnormal:"bold",italicmain:"italic",bolditalicmain:"bold-italic","updouble-struck":"double-struck","double-struck":"double-struck",boldfraktur:"bold-fraktur",calligraphic:"script",upcalligraphic:"script",script:"script",boldscript:"bold-script",boldcalligraphic:"bold-script",fraktur:"fraktur","upsans-serif":"sans-serif","boldsans-serif":"bold-sans-serif","italicsans-serif":"sans-serif-italic","bolditalicsans-serif":"sans-serif-bold-italic",monospace:"monospace"}[(v??"")+(f??"")])!=null?s:"",y&&(y=` mathvariant="${y}"`)}let x={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"ℏ","\\cdotp":"⋅","\\ldots":"…","\\cdots":"⋯","\\ddots":"⋱","\\vdots":"⋮","\\ldotp":"."};if(m.command==="!")return t.index+=1,p="<mo>!</mo>",K0(p,t,r)||(t.mathML+=p,t.lastType="mo"),!0;if(x[m.command]){t.index+=1;let g=`<mi${Hi(m.id,r)}${y}>${x[m.command]}</mi>`;return(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mtext"||t.lastType==="fence")&&(g=Ay+g),K0(g,t,r)||(t.mathML+=g,t.lastType="mi"),!0}if(m.command==="\\operatorname")d=um(m.body),t.index+=1;else if(f||v)for(;t.index<e&&(m.type==="mord"||m.type==="macro")&&!m.isDigit()&&f===((l=(o=m.style)==null?void 0:o.variant)!=null?l:"")&&v===((c=(u=m.style)==null?void 0:u.variantStyle)!=null?c:"");)d+=um([m]),t.index+=1,m=t.atoms[t.index];else(m.type==="mord"||m.type==="macro")&&!m.isDigit()&&(d+=um([m]),t.index+=1);if(d.length>0){h=!0,p=`<mi${y}>${d}</mi>`;let g=t.lastType;p.endsWith(">f</mi>")||p.endsWith(">g</mi>")?(p+=rG,t.lastType="applyfunction"):t.lastType=/^<mo>(.*)<\/mo>$/.test(p)?"mo":"mi",K0(p,t,r)||((g==="mi"||g==="mn"||g==="mtext"||g==="fence")&&(p=Ay+p),t.mathML+=p)}return h}function iG(t){return t.index<t.atoms.length&&t.atoms[t.index].superscript&&t.atoms[t.index].type==="subsup"}function nG(t){let e=-1,r=t.index,i=!1,n=!1;for(;r<t.atoms.length&&!i&&!n;){let a=t.atoms[r];i=!a.isDigit(),n=!i&&a.superscript!==void 0,r++}return n&&(e=r-1),e}function K0(t,e,r){var i;let n=e.atoms[e.index-1];if(!n)return!1;if(!n.superscript&&!n.subscript)if(((i=e.atoms[e.index])==null?void 0:i.type)==="subsup")n=e.atoms[e.index],e.index+=1;else return!1;let a=e.lastType;e.lastType="";let s=ki(n.superscript,r);e.lastType="";let o=ki(n.subscript,r);if(e.lastType=a,!s&&!o)return!1;let l="";return s&&o?l=`<msubsup>${t}${o}${s}</msubsup>`:s?l=`<msup>${t}${s}</msup>`:o&&(l=`<msub>${t}${o}</msub>`),e.mathML+=l,e.lastType="",!0}function LNe(t,e,r){e=e??t.atoms.length;let i=t.index,n="",a=nG(t);for(a>=0&&a<e&&(e=a);t.index<e&&t.atoms[t.index].mode==="text";)n+=t.atoms[t.index].value?t.atoms[t.index].value:" ",t.index+=1;return n.length>0?(n=`<mtext ${Hi(t.atoms[i].id,r)}>${n}</mtext>`,a<0&&iG(t)&&(a=t.index,t.index+=1),K0(n,t,r)||(t.mathML+=n,t.lastType="mtext"),!0):!1}function zNe(t,e,r){e=e??t.atoms.length;let i=t.index,n="",a=nG(t);for(a>=0&&a<e&&(e=a);t.index<e&&t.atoms[t.index].isDigit();)n+=t.atoms[t.index].asDigit(),t.index+=1;return n.length<=0?!1:(n="<mn"+Hi(t.atoms[i].id,r)+">"+n+"</mn>",a<0&&iG(t)&&(a=t.index,t.index+=1),K0(n,t,r)||(t.mathML+=n,t.lastType="mn"),!0)}function BNe(t,e,r){let i=!1;e=e??t.atoms.length;let n="",a="";if(t.index<e&&t.atoms[t.index].type==="mopen"){let s=!1,o=0,l=t.index,u=-1,c=l+1;for(;c<e&&!s;)t.atoms[c].type==="mopen"?o+=1:t.atoms[c].type==="mclose"&&(o-=1),o===-1&&(s=!0,u=c),c+=1;s&&(n="<mrow>",n+=Y1(t.atoms[l],r),n+=ki(t.atoms,r,l+1,u),n+=Y1(t.atoms[u],r),n+="</mrow>",t.index=u+1,(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mfrac"||t.lastType==="fence")&&(t.mathML+=Ay),K0(n,t,r)&&(i=!0,t.lastType="",n=""),a="fence")}return n.length>0&&(i=!0,t.mathML+=n,t.lastType=a),i}function ONe(t,e,r){let i=!1;e=e??t.atoms.length;let n="",a="",s=t.atoms[t.index];if(!s)return!1;let o={"\\ne":"&ne;","\\neq":"&ne;","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"∥","\\mid":"∣","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lbrack":"[","\\rbrack":"]","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"};if(o[s.command]){t.index+=1;let l=`<mo${Hi(s.id,r)}>${o[s.command]}</mo>`;return K0(l,t,r)||(t.mathML+=l,t.lastType="mo"),!0}if(t.index<e&&(s.type==="mbin"||s.type==="mrel"))n+=PM(t.atoms[t.index],r),t.index+=1,a="mo";else if(t.index<e&&(s.type==="mop"||s.type==="operator"||s.type==="extensible-symbol")){if(s.subsupPlacement==="over-under"&&(s.superscript||s.subscript)){let l=Y1(s,r);return s.superscript&&s.subscript?(n+="<munderover>"+l,n+=ki(s.subscript,r),n+=ki(s.superscript,r),n+="</munderover>"):s.superscript?(n+="<mover>"+l,n+=ki(s.superscript,r),n+="</mover>"):s.subscript&&(n+="<munder>"+l,n+=ki(s.subscript,r),n+="</munder>"),t.mathML+=n,t.lastType="mo",t.index+=1,!0}{let l=t.atoms[t.index],u=l.value==="\\operatorname",c=u?'<mi class="MathML-Unit"'+Hi(l.id,r)+">"+um(l.value)+"</mi>":Y1(l,r);n+=c,!u&&!/^<mo>(.*)<\/mo>$/.test(c)?(n+=rG,a="applyfunction"):a=u?"mi":"mo"}(t.lastType==="mi"||t.lastType==="mn")&&!/^<mo>(.*)<\/mo>$/.test(n)&&(n=Ay+n),t.index+=1}return n.length>0&&(i=!0,K0(n,t,r)||(t.mathML+=n,t.lastType=a)),i}function ki(t,e,r,i){e!=null||(e={});let n={atoms:[],index:r??0,mathML:"",lastType:""};if(typeof t=="number"||typeof t=="boolean")n.mathML=t.toString();else if(typeof t=="string")n.mathML=t;else if(t instanceof it)n.mathML=PM(t,e);else if(Array.isArray(t)){n.atoms=t;let a=0;for(i=i||(t?t.length:0);n.index<i;)if(LNe(n,i,e)||zNe(n,i,e)||TNe(n,i,e)||ONe(n,i,e)||BNe(n,i,e))a+=1;else if(n.index<i){let s=PM(n.atoms[n.index],e);n.lastType==="mn"&&s.length>0&&n.atoms[n.index].type==="genfrac"&&(s="<mo>&#x2064;</mo>"+s),n.atoms[n.index].type==="genfrac"?n.lastType="mfrac":n.lastType="",n.index+=1,K0(s,n,e)?a+=1:s.length>0&&(n.mathML+=s,a+=1)}a>1&&(n.mathML="<mrow>"+n.mathML+"</mrow>")}return n.mathML}function Y1(t,e){let r="",i=um(t.value);return i&&(r="<mo"+Hi(t.id,e)+">"+i+"</mo>"),r}function um(t){if(!t)return"";if(typeof t=="string")return $y(t);if(!Array.isArray(t)&&typeof t.body=="string")return $y(t.body);let e="";for(let r of t)typeof r.value=="string"&&(e+=r.value);return $y(e)}function PM(t,e){var r,i,n,a,s,o,l,u,c,h,p,d,m,f,v,y,x,g,b,k,w,N;if(t.mode==="text")return`<mi${Hi(t.id,e)}>${t.value}</mi>`;let A={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",longleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",longrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",longrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xleftrightarrows:"⇄",xRightleftharpoons:"⇌",longRightleftharpoons:"⇌",xLeftrightharpoons:"⇋",longLeftrightharpoons:"⇋"},$={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\>":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5},D="",_="",T,z,P,q,L,Z,{command:W}=t;if(t.command==="\\error")return`<merror${Hi(t.id,e)}>${ki(t.body,e)}</merror>`;let Y={"\\vert":"|","\\Vert":"∥","\\mid":"∣","\\lbrack":"[","\\rbrack":"]","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"},ie={"\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};switch(t.type){case"first":break;case"group":case"root":D=ki(t.body,e);break;case"array":let re=t;if((re.leftDelim&&re.leftDelim!=="."||re.rightDelim&&re.rightDelim!==".")&&(D+="<mrow>",re.leftDelim&&re.leftDelim!=="."&&(D+="<mo>"+(Y[re.leftDelim]||re.leftDelim)+"</mo>")),D+="<mtable",re.colFormat){for(D+=' columnalign="',P=0;P<re.colFormat.length;P++){let ae=re.colFormat[P];"align"in ae&&(D+={l:"left",c:"center",r:"right"}[ae.align]+" ")}D+='"'}for(D+=">",z=0;z<re.rows.length;z++){for(D+="<mtr>",T=0;T<re.rows[z].length;T++)D+="<mtd>"+ki(re.rows[z][T],e)+"</mtd>";D+="</mtr>"}D+="</mtable>",(re.leftDelim&&re.leftDelim!=="."||re.rightDelim&&re.rightDelim!==".")&&(re.rightDelim&&re.rightDelim!=="."&&(D+="<mo>"+(Y[re.leftDelim]||re.rightDelim)+"</mo>"),D+="</mrow>");break;case"genfrac":let R=t;(R.leftDelim||R.rightDelim)&&(D+="<mrow>"),R.leftDelim&&R.leftDelim!=="."&&(D+="<mo"+Hi(t.id,e)+">"+(Y[R.leftDelim]||R.leftDelim)+"</mo>"),R.hasBarLine?(D+="<mfrac>",D+=ki(t.above,e)||"<mi>&nbsp;</mi>",D+=ki(t.below,e)||"<mi>&nbsp;</mi>",D+="</mfrac>"):(D+="<mtable"+Hi(t.id,e)+">",D+="<mtr>"+ki(t.above,e)+"</mtr>",D+="<mtr>"+ki(t.below,e)+"</mtr>",D+="</mtable>"),R.rightDelim&&R.rightDelim!=="."&&(D+="<mo"+Hi(t.id,e)+">"+(Y[R.rightDelim]||R.rightDelim)+"</mo>"),(R.leftDelim||R.rightDelim)&&(D+="</mrow>");break;case"surd":t.hasEmptyBranch("above")?(D+="<msqrt"+Hi(t.id,e)+">",D+=ki(t.body,e),D+="</msqrt>"):(D+="<mroot"+Hi(t.id,e)+">",D+=ki(t.body,e),D+=ki(t.above,e),D+="</mroot>");break;case"leftright":let X=t,E=X.leftDelim;D="<mrow>",E&&E!=="."&&(D+=`<mo${Hi(t.id,e)}>${(r=Y[E])!=null?r:E}</mo>`),t.body&&(D+=ki(t.body,e));let oe=X.matchingRightDelim();oe&&oe!=="."&&(D+=`<mo${Hi(t.id,e)}>${(i=Y[oe])!=null?i:oe}</mo>`),D+="</mrow>";break;case"sizeddelim":case"delim":D+=`<mo${Hi(t.id,e)}>${Y[t.value]||t.value}</mo>`;break;case"accent":let le=t;D+='<mover accent="true"'+Hi(t.id,e)+">",D+=ki(t.body,e),D+="<mo>"+(ie[W]||le.accent)+"</mo>",D+="</mover>";break;case"line":case"overlap":break;case"overunder":let ne=t;L=t.above,q=t.below,(ne.svgAbove||L)&&(ne.svgBelow||q)?Z=t.body:L&&L.length>0?(Z=t.body,(a=(n=t.body)==null?void 0:n[0])!=null&&a.below?(q=t.body[0].below,Z=t.body[0].body):((o=(s=t.body)==null?void 0:s[0])==null?void 0:o.type)==="first"&&(u=(l=t.body)==null?void 0:l[1])!=null&&u.below&&(q=t.body[1].below,Z=t.body[1].body)):q&&q.length>0&&(Z=t.body,(h=(c=t.body)==null?void 0:c[0])!=null&&h.above?(L=t.body[0].above,Z=t.body[0].body):((d=(p=t.body)==null?void 0:p[0])==null?void 0:d.type)==="first"&&(f=(m=t.body)==null?void 0:m[1])!=null&&f.above&&(L=t.body[1].above,Z=t.body[1].body)),(ne.svgAbove||L)&&(ne.svgBelow||q)?(D+=`<munderover ${Hi(t.id,e)}>`,D+=(v=A[ne.svgBody])!=null?v:ki(Z,e),D+=(y=A[ne.svgBelow])!=null?y:ki(q,e),D+=(x=A[ne.svgAbove])!=null?x:ki(L,e),D+="</munderover>"):ne.svgAbove||L?(D+=`<mover ${Hi(t.id,e)}>`+((g=A[ne.svgBody])!=null?g:ki(Z,e)),D+=(b=A[ne.svgAbove])!=null?b:ki(L,e),D+="</mover>"):(ne.svgBelow||q)&&(D+=`<munder ${Hi(t.id,e)}>`+((k=A[ne.svgBody])!=null?k:ki(Z,e)),D+=(w=A[ne.svgBelow])!=null?w:ki(q,e),D+="</munder>");break;case"placeholder":D+="?";break;case"mord":{D=typeof t.value=="string"?t.value:W,D.length>0&&D.startsWith("\\")&&(typeof t.value=="string"&&t.value.charCodeAt(0)>255?D="&#x"+("000000"+t.value.charCodeAt(0).toString(16)).slice(-4)+";":typeof t.value=="string"?D=t.value.charAt(0):(console.error("Did not expect this"),D=""));let ae=/\d/.test(D)?"mn":"mi";D=`<${ae}${Hi(t.id,e)}>${$y(D)}</${ae}>`;break}case"mbin":case"mrel":case"minner":D=Y1(t,e);break;case"mpunct":D='<mo separator="true"'+Hi(t.id,e)+">"+W+"</mo>";break;case"mop":case"operator":case"extensible-symbol":t.value!=="​"&&(D="<mo"+Hi(t.id,e)+">",D+=W==="\\operatorname"?t.body:W||t.body,D+="</mo>");break;case"box":let H=t;D='<menclose notation="box"',H.backgroundcolor&&(D+=' mathbackground="'+H.backgroundcolor+'"'),D+=Hi(t.id,e)+">"+ki(t.body,e)+"</menclose>";break;case"spacing":D+='<mspace width="'+((N=$[W])!=null?N:0)+'em"/>';break;case"enclose":let ue=t;D='<menclose notation="';for(let ae in ue.notation)Object.prototype.hasOwnProperty.call(ue.notation,ae)&&ue.notation[ae]&&(D+=_+ae,_=" ");D+=Hi(t.id,e)+'">'+ki(t.body,e)+"</menclose>";break;case"prompt":D='<menclose notation="roundexbox""">'+ki(t.body,e)+"</menclose>";break;case"space":D+="&nbsp;";break;case"subsup":break;case"phantom":break;case"composition":break;case"rule":break;case"chem":break;case"mopen":D+=Y1(t,e);break;case"mclose":D+=Y1(t,e);break;case"macro":{let ae=t.command+um(t.macroArgs);ae&&(D+=`<mo ${Hi(t.id,e)}>${ae}</mo>`)}break;case"latexgroup":D+=ki(t.body,e);break;case"latex":D+="<mtext"+Hi(t.id,e)+">"+t.value+"</mtext>";break;case"tooltip":D+=ki(t.body,e);break;case"text":D+=`<mtext ${Hi(t.id,e)}x>${t.value}</mtext>`;break;default:if(t.command==="\\displaystyle")return`<mrow ${Hi(t.id,e)} displaystyle="true">${ki(t.body,e)}</mrow>`;if(t.command==="\\textstyle")return`<mrow ${Hi(t.id,e)} displaystyle="false">${ki(t.body,e)}</mrow>`;console.info("Unexpected element in conversion to MathML:",t)}return D}var cm={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"imaginary eye ","\\imaginaryJ":"imaginary jay ","\\sum":"Summation ","\\prod":"Product ","+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\pm":"plus or minus","\\mp":"minus or plus","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","\\ne":"is not equal to ","\\neq":"is not equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","​":"","−":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},RM={array:"array",matrix:"matrix",pmatrix:"parenthesis matrix",bmatrix:"square brackets matrix",Bmatrix:"braces matrix",vmatrix:"bars matrix",Vmatrix:"double bars matrix","matrix*":"matrix",smallmatrix:"small matrix"};function FNe(t){let e="";return t.startsWith("\\")&&(e=" "+t.replace("\\","")+" "),e}function Z2(t){let e=0;if(hs(t))for(let r of t)r.type!=="first"&&(e+=1);return e===1}function PNe(t){if(hs(t)){for(let e of t)if(e.type!=="first"&&e.id)return e.id.toString()}return""}function aG(t){let e="";if(hs(t))for(let r of t)r.type!=="first"&&typeof r.value=="string"&&(e+=r.value);return e}function RNe(t){return t?t.map(e=>e.value).join(""):""}function _y(t){if(t&&!t.some(e=>e.type!=="first"&&e.value===void 0))return t.map(e=>e.value).join("")}function jM(t){return`<emphasis>${t}</emphasis>`}function jNe(t,e){var r;let i="",n=!1,a=!1;for(let s=0;s<e.length;s++)e[s].type!=="first"&&(e[s].mode!=="text"&&(a=!1),s<e.length-2&&e[s].type==="mopen"&&e[s+2].type==="mclose"&&e[s+1].type==="mord"?(i+=" of ",i+=jM(Vr(t,e[s+1])),s+=2):e[s].mode==="text"?a?i+=(r=e[s].value)!=null?r:" ":(a=!0,i+=Vr("text",e[s])):e[s].isDigit()?n?i+=e[s].asDigit():(n=!0,i+=Vr(t,e[s])):(n=!1,i+=Vr(t,e[s])));return i}function Vr(t,e){var r,i,n,a,s,o,l,u;function c(y){return globalThis.MathfieldElement.textToSpeechMarkup?/[a-z]/.test(y)?` <say-as interpret-as="character">${y}</say-as>`:/[A-Z]/.test(y)?`capital <say-as interpret-as="character">${y.toLowerCase()}</say-as>`:y:/[a-z]/.test(y)?" '"+y.toUpperCase()+"'":/[A-Z]/.test(y)?" 'capital "+y.toUpperCase()+"'":y}if(!e)return"";if(hs(e))return jNe(t,e);let h="";if(e.id&&t==="math"&&(h+='<mark name="'+e.id.toString()+'"/>'),e.mode==="text")return h+e.value;let p="",d="",m="",f=!1,{command:v}=e;switch(v){case"\\vec":return"vector "+Vr(t,e.body);case"\\acute":return Vr(t,e.body)+" acute";case"\\grave":return Vr(t,e.body)+" grave";case"\\dot":return"dot over"+Vr(t,e.body);case"\\ddot":return"double dot over"+Vr(t,e.body);case"\\mathring":return"ring over"+Vr(t,e.body);case"\\tilde":case"\\widetilde":return"tilde over"+Vr(t,e.body);case"\\bar":return Vr(t,e.body)+" bar";case"\\breve":return Vr(t,e.body)+" breve";case"\\check":case"\\widecheck":return"check over "+Vr(t,e.body);case"\\hat":case"\\widehat":return"hat over"+Vr(t,e.body);case"\\overarc":case"\\overparen":case"\\wideparen":return"arc over "+Vr(t,e.body);case"\\underarc":case"\\underparen":return"arc under "+Vr(t,e.body);case"\\mathop":return(r=_y(e.body))!=null?r:Vr(t,e.body);case"\\mathit":return(i=_y(e.body))!=null?i:Vr(t,e.body);case"\\mathrm":return(n=_y(e.body))!=null?n:Vr(t,e.body);case"\\mathbb":return"blackboard"+((a=_y(e.body))!=null?a:Vr(t,e.body))}switch(e.type){case"prompt":let y=e.body.length>1?'start input . <break time="500ms"/> '+Vr(t,e.body)+'. <break time="500ms"/> end input':"blank";h+=' <break time="300ms"/> '+y+'. <break time="700ms"/>'+((s=e.correctness)!=null?s:"")+' . <break time="700ms"/> ';break;case"array":let x=e.rows,g=e.environmentName;if(Object.keys(RM).includes(g)){h+=` begin ${RM[g]} `;for(let w=0;w<x.length;w++){w>0&&(h+=","),h+=` row ${w+1} `;for(let N=0;N<x[w].length;N++)N>0&&(h+=","),h+=` column ${N+1}: `,h+=Vr("math",x[w][N])}h+=` end ${RM[g]} `}break;case"group":v==="\\ne"?h+=" not equal ":(v==="\\not"&&(h+=" not "),h+=Vr("math",e.body));break;case"root":h+=Vr("math",e.body);break;case"genfrac":if(p=Vr("math",e.above),d=Vr("math",e.below),Z2(e.above)&&Z2(e.below)){let w={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[aG(e.above)+"/"+aG(e.below)];w?h=w:h+=p+" over "+d}else h+=' the fraction <break time="150ms"/>'+p+' over <break time="150ms"/>'+d+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(m=Vr("math",e.body),e.hasEmptyBranch("above"))h+=Z2(e.body)?" the square root of "+m+" , ":' the square root of <break time="200ms"/>'+m+'. <break time="200ms"/> End square root';else{let w=Vr("math",e.above);w=w.trim();let N=w.replace(/<mark([^/]*)\/>/g,"");N==="3"?h+=' the cube root of <break time="200ms"/>'+m+'. <break time="200ms"/> End cube root':N==="n"?h+=' the nth root of <break time="200ms"/>'+m+'. <break time="200ms"/> End root':h+=' the root with index: <break time="200ms"/>'+w+', of <break time="200ms"/>'+m+'. <break time="200ms"/> End root'}break;case"leftright":{let w=e;h+=(o=w.leftDelim?cm[w.leftDelim]:void 0)!=null?o:w.leftDelim,h+=Vr("math",e.body),h+=(l=w.rightDelim?cm[w.rightDelim]:void 0)!=null?l:w.rightDelim}break;case"rule":break;case"overunder":break;case"overlap":break;case"macro":let b=v.replace(/^\\/g,""),k=aw()[b];k&&(k!=null&&k.expand?h+=Vr("math",e.body):h+=`${b} `);break;case"placeholder":h+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{if(v==="\\mathbin"||v==="\\mathrel"||v==="\\mathopen"||v==="\\mathclose"||v==="\\mathpunct"||v==="\\mathord"||v==="\\mathinner"){h=Vr(t,e.body);break}let w=e.isDigit()?e.asDigit():e.value,N=e.command;if((e.type==="delim"||e.type==="sizeddelim")&&(N=e.value,w=N),t==="text")h+=w;else{if(e.type==="mbin"&&(h+='<break time="150ms"/>'),w){let A=cm[w]||(N?cm[N.trim()]:"");if(A)h+=" "+A;else{let $=N?FNe(N.trim()):"";h+=$||c(w)}}else h+=Vr("math",e.body);e.type==="mbin"&&(h+='<break time="150ms"/>')}break}case"mop":case"operator":case"extensible-symbol":if(e.value!=="​"){let w=e.command;if(w==="\\sum")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let N=Vr("math",e.superscript);N=N.trim();let A=Vr("math",e.subscript);A=A.trim(),h+=' the summation from <break time="200ms"/>'+A+'<break time="200ms"/> to  <break time="200ms"/>'+N+'<break time="200ms"/> of <break time="150ms"/>',f=!0}else if(e.hasEmptyBranch("subscript"))h+=" the summation of";else{let N=Vr("math",e.subscript);N=N.trim(),h+=' the summation from <break time="200ms"/>'+N+'<break time="200ms"/> of <break time="150ms"/>',f=!0}else if(w==="\\prod")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let N=Vr("math",e.superscript);N=N.trim();let A=Vr("math",e.subscript);A=A.trim(),h+=' the product from <break time="200ms"/>'+A+'<break time="200ms"/> to <break time="200ms"/>'+N+'<break time="200ms"/> of <break time="150ms"/>',f=!0}else if(e.hasEmptyBranch("subscript"))h+=" the product  of ";else{let N=Vr("math",e.subscript);N=N.trim(),h+=' the product from <break time="200ms"/>'+N+'<break time="200ms"/> of <break time="150ms"/>',f=!0}else if(w==="\\int")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let N=Vr("math",e.superscript);N=N.trim();let A=Vr("math",e.subscript);A=A.trim(),h+=' the integral from <break time="200ms"/>'+jM(A)+'<break time="200ms"/> to <break time="200ms"/>'+jM(N)+' <break time="200ms"/> of ',f=!0}else h+=' the integral of <break time="200ms"/> ';else if(w==="\\operatorname"||w==="\\operatorname*")h+=RNe(e.body)+" ";else if(typeof e.value=="string"){let N=(u=cm[e.value])!=null?u:e.command?cm[e.command]:void 0;h+=N||" "+e.value}else e.command&&(e.command==="\\mathop"?h+=Vr("math",e.body):h+=e.command.startsWith("\\")?" "+e.command.slice(1):" "+e.command)}break;case"enclose":m=Vr("math",e.body),h+=" crossed out "+m+". End crossed out.";break}if(!f&&!e.hasEmptyBranch("superscript")){let y=Vr(t,e.superscript);y=y.trim();let x=y.replace(/<[^>]*>/g,"");if(Z2(e.superscript)){if(t==="math"){let g=PNe(e.superscript);g&&(h+='<mark name="'+g+'"/>')}x==="′"?h+=" prime ":x==="2"?h+=" squared ":x==="3"?h+=" cubed ":Number.isNaN(Number.parseInt(x))?h+=" to the "+y+"; ":h+=' to the <say-as interpret-as="ordinal">'+x+"</say-as> power; "}else Number.isNaN(Number.parseInt(x))?h+=" raised to the "+y+"; ":h+=' raised to the <say-as interpret-as="ordinal">'+x+"</say-as> power; "}if(!f&&!e.hasEmptyBranch("subscript")){let y=Vr("math",e.subscript);y=y.trim(),h+=Z2(e.subscript)?" sub "+y:" subscript "+y+". End subscript. "}return h}function K1(t){var e,r;let i=globalThis.MathfieldElement;if(i.textToSpeechRules==="sre"&&("sre"in window||"SRE"in window)){let a=ki(t);if(a){i.textToSpeechMarkup&&(i.textToSpeechRulesOptions=(e=i.textToSpeechRulesOptions)!=null?e:{},i.textToSpeechRulesOptions=je(we({},i.textToSpeechRulesOptions),{markup:i.textToSpeechMarkup}),i.textToSpeechRulesOptions.markup==="ssml"&&(i.textToSpeechRulesOptions=je(we({},i.textToSpeechRulesOptions),{markup:"ssml_step"})),i.textToSpeechRulesOptions=je(we({},i.textToSpeechRulesOptions),{rate:i.speechEngineRate}));let s=(r=window.SRE)!=null?r:globalThis.sre.System.getInstance();i.textToSpeechRulesOptions&&s.setupEngine(i.textToSpeechRulesOptions);let o="";try{o=s.toSpeech(a)}catch(l){console.error("MathLive 0.104.2: `SRE.toSpeech()` runtime error",l)}return o}return""}let n=Vr("math",t);if(i.textToSpeechMarkup==="ssml"){let a="";i.speechEngineRate&&(a='<prosody rate="'+i.speechEngineRate+'">'),n='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+a+"<p><s>"+n+"</s></p>"+(a?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else i.textToSpeechMarkup==="mac"&&Sd()==="macos"?n=n.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):n=n.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return n}var X0={"\\ne":"≠","\\neq":"≠","−":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\>":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" ","\\infty":"oo","\\R":"RR","\\mathbb{R}":"RR","\\N":"NN","\\mathbb{N}":"NN","\\Z":"ZZ","\\mathbb{Z}":"ZZ","\\Q":"QQ","\\mathbb{Q}":"QQ","\\C":"CC","\\mathbb{C}":"CC","\\emptyset":"O/","\\varnothing":"O/","\\varDelta":"Delta","\\varTheta":"Theta","\\varLambda":"Lambda","\\varXi":"Xi","\\varPi":"Pi","\\varSigma":"Sigma","\\varUpsilon":"Upsilon","\\varPhi":"Phi","\\varPsi":"Psi","\\varOmega":"Omega"},H2={"\\pm":"+-","\\colon":" : ","\\sum":" sum ","\\prod":" prod ","\\bigcap":" nnn ","\\bigcup":" uuu ","\\int":" int ","\\oint":" oint ","\\ge":">=","\\le":"<=","\\ne":"!=","\\neq":"!=","\\lt":"<","\\gt":">","\\gets":"<-","\\to":"->","\\land":" and ","\\lor":" or ","\\lnot":" not ","\\forall":" AA ","\\exists":" EE ","\\in":" in ","\\notin":" !in ","\\mapsto":"|->","\\implies":"=>","\\iff":"<=>","\\cdot":" * ","\\ast":" ** ","\\star":" *** ","\\times":" * ","\\div":" -: ","\\ltimes":" |>< ","\\rtimes":" ><| ","\\bowtie":" |><| ","\\circ":"@"},Ey={"\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrack":"[","\\rbrack":"]","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};function qNe(t){let e="";for(let r of t){let i=e[e.length-1];i!==void 0&&(/\d$/.test(i)&&/^\d/.test(r)||/[a-zA-Z]$/.test(i)&&/^[a-zA-Z]/.test(r))&&(e+=" "),e+=r}return e}function Sn(t,e){var r,i,n,a,s,o,l,u,c,h,p,d,m,f,v,y,x;if(!t)return"";if(hs(t)){if(t.length===0)return"";if(t[0].mode==="latex")return t.map($=>Sn($)).join("");if(t[0].mode==="text"){let $=0,D="";for(;((r=t[$])==null?void 0:r.mode)==="text";)D+=t[$].body?Sn(t[$].body,e):t[$].value,$++;return e!=null&&e.plain?D+Sn(t.slice($),e):`"${D}" ${Sn(t.slice($))}`}let N=0,A=[];for(;t[N]&&t[N].mode==="math";){let $="";for(;t[N]&&t[N].type==="mord"&&/\d/.test(t[N].value);)$+=t[N++].value;$?A.push($):A.push(Sn(t[N++],e))}return A.push(Sn(t.slice(N),e)),qNe(A)}if(t.mode==="text")return e!=null&&e.plain?t.value:`"${t.value}"`;let g="",{command:b}=t,k;if(b==="\\placeholder")return`(${Sn(t.body,e)})`;let w=it.serialize([t],{expandMacro:!1,defaultMode:"math"});switch(t.type){case"accent":let N={"\\vec":"vec","\\dot":"dot","\\ddot":"ddot","\\bar":"bar","\\hat":"hat","\\acute":"acute;","\\grave":"grave","\\tilde":"tilde","\\breve":"breave","\\check":"check"}[b];g=`${N??""} ${Sn(t.body,e)} `;break;case"first":return"";case"latexgroup":return t.body.map($=>$.value).join("");case"group":case"root":g=(i=X0[b])!=null?i:Sn(t.body,e);break;case"genfrac":{let $=t;($.leftDelim||$.rightDelim)&&(g=$.leftDelim==="."||!$.leftDelim?"{:":$.leftDelim),$.hasBarLine?(g+="(",g+=Sn($.above,e),g+=")/(",g+=Sn($.below,e),g+=")"):(g+="((",g+=Sn($.above,e),g+=") choose (",g+=Sn($.below,e),g+="))"),($.leftDelim||$.rightDelim)&&(g+=$.rightDelim==="."||!$.rightDelim?"{:":$.rightDelim)}break;case"surd":t.hasEmptyBranch("above")?g+=`sqrt(${Sn(t.body,e)})`:g+=`root(${Sn(t.above,e)})(${Sn(t.body,e)})`;break;case"latex":g=t.value;break;case"leftright":{let $=t,D=$.leftDelim;D&&Ey[D]&&(D=Ey[D]),g+=D==="."||!D?"{:":D,g+=Sn($.body,e);let _=$.matchingRightDelim();_&&Ey[_]&&(_=Ey[_]),g+=_==="."||!_?":}":_}break;case"sizeddelim":case"delim":g=t.value;break;case"overlap":break;case"overunder":break;case"mord":if(X0[w])return X0[w];g=(s=(a=(n=X0[b])!=null?n:b)!=null?a:b)!=null?s:typeof t.value=="string"?t.value:"",g.startsWith("\\")&&(g+=" "),k=b?b.match(/{?\\char"([\dabcdefABCDEF]+)}?/):null,k?g=String.fromCodePoint(Number.parseInt("0x"+k[1])):g.length>0&&g.startsWith("\\")&&(g=typeof t.value=="string"?t.value.charAt(0):t.command),g=UNe(g,t.style);break;case"mbin":case"mrel":case"minner":g=(u=(l=(o=X0[w])!=null?o:X0[b])!=null?l:H2[b])!=null?u:t.value;break;case"mopen":case"mclose":g=t.value;break;case"mpunct":g=(c=H2[b])!=null?c:b;break;case"mop":case"operator":case"extensible-symbol":t.value!=="​"&&(H2[b]?g=H2[b]:g=b==="\\operatorname"?Sn(t.body,e):(h=t.value)!=null?h:b,g+=" ");break;case"array":let A=t.environmentName;if(t.isMultiline)g=t.rows.map($=>$.map(D=>Sn(D,e)).join("")).join(`
`);else{let $=(p={bmatrix:["[","]"],"bmatrix*":["[","]"]}[A])!=null?p:["(",")"],D=[],_=t.rows;for(let z of _){let P=[];for(let q of z)P.push(Sn(q,e));D.push($[0]+P.join(",")+$[1])}let T=(d={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[A])!=null?d:["(",")"];g=T[0]+D.join(",")+T[1]}break;case"box":break;case"spacing":g=(f=(m=X0[w])!=null?m:X0[b])!=null?f:" ";break;case"enclose":g="("+Sn(t.body,e)+")";break;case"space":g=" ";break;case"subsup":g="";break;case"macro":g=(x=(y=(v=X0[w])!=null?v:X0[b])!=null?y:H2[b])!=null?x:Sn(t.body,e);break}if(!t.hasEmptyBranch("subscript")){g+="_";let N=Sn(t.subscript,e);g+=N.length!==1?`(${N})`:N}if(!t.hasEmptyBranch("superscript")){g+="^";let N=Sn(t.superscript,e);g+=N.length!==1?`(${N})`:N}return g}function UNe(t,e){if(!e)return t;let r=t;return e.variant==="double-struck"&&(r=`bbb "${r}"`),e.variant==="script"&&(r=`cc "${r}"`),e.variant==="fraktur"&&(r=`fr "${r}"`),e.variant==="sans-serif"&&(r=`sf "${r}"`),e.variant==="monospace"&&(r=`tt "${r}"`),e.variantStyle==="bold"&&(r=`bb "${r}"`),e.color?`color({${e.color}})(${r})`:r}function xa(t,e){var r;let i=je(we({},CU()),{renderPlaceholder:()=>new kt(160,{maxFontSize:1})});if(e!=null&&e.letterShapeStyle&&(e==null?void 0:e.letterShapeStyle)!=="auto"&&(i.letterShapeStyle=e.letterShapeStyle),e!=null&&e.macros){let u=j5(e==null?void 0:e.macros);i.getMacro=c=>sw(c,u)}e!=null&&e.registers&&(i.registers=we(we({},i.registers),e.registers));let n=(r=e==null?void 0:e.defaultMode)!=null?r:"math",a="math",s="displaystyle";n==="inline-math"?s="textstyle":n==="math"?s="displaystyle":n==="text"&&(s="textstyle",a="text");let o=new pi({from:i}),l=new it({type:"root",mode:a,body:Eo(t,{context:o,parseMode:a,mathstyle:s})}).render(o);return l?(Ev(T2(l,o)),Iv(l,{classes:"ML__latex"}).toMarkup()):""}function VNe(t,e={}){return ki(Eo(t,{parseMode:"math",args:()=>"",mathstyle:"displaystyle"}),e)}function GNe(t){let e=Eo(t,{parseMode:"math",mathstyle:"displaystyle"});return K1(e)}var Iy;function ZNe(t){var e,r;if(!Iy){let i=(e=globalThis[Symbol.for("io.cortexjs.compute-engine")])==null?void 0:e.ComputeEngine;i?Iy=new i:console.error(`MathLive 0.104.2: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`)}return(r=Iy==null?void 0:Iy.box(t).latex)!=null?r:""}function qM(t){if(typeof t=="string"){let e=HNe(t);if(!e)throw new Error(`Invalid color: ${t}`);return e}return"C"in t?YNe(t):"a"in t?sG(t):t}function hm(t){return t<0?0:t>255?255:Math.round(t)}function HNe(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&typeof e.a>"u"&&(e.a=1),e}function UM(t){let[e,r,i]=[t.L,t.C,t.H],n=i*Math.PI/180,a={L:e,a:r*Math.cos(n),b:r*Math.sin(n)};return t.alpha!==void 0&&(a.alpha=t.alpha),a}function WNe(t){let[e,r,i]=[t.L,t.a,t.b],n=Math.sqrt(r*r+i*i),a=Math.atan2(i,r)*180/Math.PI,s={L:e,C:n,H:a};return t.alpha!==void 0&&(s.alpha=t.alpha),s}function VM(t){let[e,r,i]=[t.L,t.a,t.b],n=Math.pow(.9999999984505198*e+.39633779217376786*r+.2158037580607588*i,3),a=Math.pow(1.00000000888176*e-.10556134232365635*r-.0638541747717059*i,3),s=Math.pow(e*1.000000054672411-.0894841820949657*r-1.2914855378640917*i,3),o=4.076741661347994*n-3.307711590408193*a+.230969928729428*s,l=-1.2684380040921763*n+2.6097574006633715*a-.3413193963102197*s,u=-.004196086541837188*n-.7034186144594493*a+1.7076147009309444*s,c=h=>{let p=Math.abs(h);return p<=.0031308?h*12.92:(Math.sign(h)||1)*(1.055*Math.pow(p,1/2.4)-.055)};return[c(o),c(l),c(u)]}function GM(t){let[e,r,i]=t;return e>=0&&e<=1&&r>=0&&r<=1&&i>=0&&i<=1}function ZM(t,e){let[r,i,n]=t;return r=hm(r*255),i=hm(i*255),n=hm(n*255),e!==void 0?{r,g:i,b:n,alpha:e}:{r,g:i,b:n}}function sG(t){let[e,r,i]=VM(t);if(GM([e,r,i]))return ZM([e,r,i],t.alpha);let n=WNe(t);if(n.C=0,[e,r,i]=VM(UM(n)),!GM([e,r,i]))return ZM([e,r,i],t.alpha);let a=0,s=t.L,o=(a+s)/2;n.C=o;let l=.36/Math.pow(2,12);for(;s-a>l;)o=(a+s)/2,n.C=o,[e,r,i]=VM(UM(n)),GM([e,r,i])?a=o:s=o;return ZM([e,r,i],t.alpha)}function YNe(t){return sG(UM(t))}function oG(t,e){let r=qM(t),i=qM(e),n=.56,a=.57,s=.62,o=.65,l=.022,u=1.414,c=.1,h=5e-4,p=1.14,d=.027,m=1.14,f=.027;function v(N){return N>=l?N:N+(l-N)**u}function y(N){return(N<0?-1:1)*Math.pow(Math.abs(N),2.4)}let x=v(y(i.r/255)*.2126729+y(i.g/255)*.7151522+y(i.b/255)*.072175),g=v(y(r.r/255)*.2126729+y(r.g/255)*.7151522+y(r.b/255)*.072175),b,k,w;return Math.abs(g-x)<h?k=0:g>x?(b=g**n-x**a,k=b*p):(b=g**o-x**s,k=b*m),Math.abs(k)<c?w=0:k>0?w=k-f:w=k+d,w*100}function lG(t,e,r){r!=null||(r="#fff"),e!=null||(e="#000");let i=oG(t,r),n=oG(t,e);return Math.abs(i)>Math.abs(n)?r:e}function KNe(t){let e=qM(t),r=((1<<24)+(hm(e.r)<<16)+(hm(e.g)<<8)+hm(e.b)).toString(16).slice(1);return e.alpha!==void 0&&e.alpha<1&&(r+=("00"+Math.round(e.alpha*255).toString(16)).slice(-2)),r[0]===r[1]&&r[2]===r[3]&&r[4]===r[5]&&r[6]===r[7]&&(r=r[0]+r[2]+r[4]+(e.alpha!==void 0&&e.alpha<1?r[6]:"")),"#"+r}function Wi(t){let e=uG(t),r="";for(let i of e){if(typeof i.value!="string")return"";r+=i.value}return r}function uG(t){let e=t.model.selection.ranges;if(e.length!==1)return[];let r=t.model.getAtoms(e[0]);return r.length===1&&r[0].isRoot&&(r=r[0].children),r.filter(i=>i.type!=="first")}function XNe(t,e){let r=uG(t);if(r.length!==1)return!1;let i=oM[e];return i?!!i.test(r[0].value):!1}function QNe(t){return Wi(t).length>0}function JNe(t){return[WM(t,"double-struck","mathbb","tooltip.blackboard"),WM(t,"fraktur","mathfrak","tooltip.fraktur"),WM(t,"calligraphic","mathcal","tooltip.caligraphic"),YM(t,"up","mathrm","tooltip.roman-upright"),YM(t,"bold","bm","tooltip.bold"),YM(t,"italic","mathit","tooltip.italic")]}function eSe(t){return[{id:"accent-vec",class:"ML__center-menu",label:()=>xa(`\\vec{${Wi(t)}}`),visible:()=>Wi(t).length===1,onMenuSelect:()=>t.insert("\\vec{#@}",{selectionMode:"item"})},{id:"accent-overrightarrow",class:"ML__center-menu",label:()=>xa(`\\overrightarrow{${Wi(t)}}`),visible:()=>Wi(t).length>0,onMenuSelect:()=>t.insert("\\overrightarrow{#@}",{selectionMode:"item"})},{id:"accent-overleftarrow",class:"ML__center-menu",label:()=>xa(`\\overleftarrow{${Wi(t)}}`),visible:()=>Wi(t).length>0,onMenuSelect:()=>t.insert("\\overleftarrow{#@}",{selectionMode:"item"})},{id:"accent-dot",class:"ML__center-menu",label:()=>xa(`\\dot{${Wi(t)}}`),visible:()=>Wi(t).length===1,onMenuSelect:()=>t.insert("\\dot{#@}",{selectionMode:"item"})},{id:"accent-ddot",class:"ML__center-menu",label:()=>xa(`\\ddot{${Wi(t)}}`),visible:()=>Wi(t).length===1,onMenuSelect:()=>t.insert("\\ddot{#@}",{selectionMode:"item"})},{id:"accent-bar",class:"ML__center-menu",label:()=>xa(`\\bar{${Wi(t)}}`),visible:()=>Wi(t).length===1,onMenuSelect:()=>t.insert("\\bar{#@}",{selectionMode:"item"})},{id:"accent-overline",class:"ML__center-menu",label:()=>xa(`\\overline{${Wi(t)}}`),visible:()=>Wi(t).length>0,onMenuSelect:()=>t.insert("\\overline{#@}",{selectionMode:"item"})},{id:"accent-overgroup",class:"ML__center-menu",label:()=>xa(`\\overgroup{${Wi(t)}}`),visible:()=>Wi(t).length>0,onMenuSelect:()=>t.insert("\\overgroup{#@}",{selectionMode:"item"})},{id:"accent-overbrace",class:"ML__center-menu",label:()=>xa(`\\overbrace{${Wi(t)}}`),visible:()=>Wi(t).length>0,onMenuSelect:()=>t.insert("\\overbrace{#@}",{selectionMode:"item"})},{id:"accent-underline",class:"ML__center-menu",label:()=>xa(`\\underline{${Wi(t)}}`),visible:()=>Wi(t).length>0,onMenuSelect:()=>t.insert("\\underline{#@}",{selectionMode:"item"})},{id:"accent-undergroup",class:"ML__center-menu",label:()=>xa(`\\undergroup{${Wi(t)}}`),visible:()=>Wi(t).length>0,onMenuSelect:()=>t.insert("\\undergroup{#@}",{selectionMode:"item"})},{id:"accent-underbrace",class:"ML__center-menu",label:()=>xa(`\\underbrace{${Wi(t)}}`),visible:()=>Wi(t).length>0,onMenuSelect:()=>t.insert("\\underbrace{#@}",{selectionMode:"item"})}]}function tSe(t){return[{id:"decoration-boxed",label:()=>xa(`\\boxed{${t.getValue(t.model.selection)}}}`),onMenuSelect:()=>t.insert("\\boxed{#@}",{selectionMode:"item"})},{id:"decoration-red-box",label:()=>xa(`\\bbox[5px, border: 2px solid red]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px solid red]{#@}",{selectionMode:"item"})},{id:"decoration-dashed-black-box",label:()=>xa(`\\bbox[5px, border: 2px dashed black]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px dashed black]{#@}",{selectionMode:"item"})}]}function rSe(t){let e=[];for(let r of Object.keys(M1))e.push({id:`background-color-${r}`,class:(KNe(lG(M1[r]))==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${M1[r]} "></span>`,ariaLabel:()=>{var i;return(i=Ir(r))!=null?i:r},checked:()=>{var i;return(i={some:"mixed",all:!0}[t.queryStyle({backgroundColor:r})])!=null?i:!1},onMenuSelect:()=>t.applyStyle({backgroundColor:r},{operation:"toggle"})});return e}function iSe(t){let e=[];for(let r of Object.keys(k1))e.push({id:`color-${r}`,class:(lG(k1[r])==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${k1[r]} "></span>`,ariaLabel:()=>{var i;return(i=Ir(r))!=null?i:r},checked:()=>{var i;return(i={some:"mixed",all:!0}[t.queryStyle({color:r})])!=null?i:!1},onMenuSelect:()=>t.applyStyle({color:r},{operation:"toggle"})});return e}var nSe=class extends VV{constructor(t,e,r,i){super(t,e),this.row=r,this.col=i}set active(t){let e=this.parentMenu.children;if(t)for(let r of e)r.element.classList.toggle("active",r.row<=this.row&&r.col<=this.col);else for(let r of e)r.element.classList.remove("active")}};function aSe(t){let e=[];for(let r=1;r<=5;r++)for(let i=1;i<=5;i++)e.push({id:`insert-matrix-${r}x${i}`,onCreate:(n,a)=>new nSe(n,a,r,i),label:"☐",tooltip:()=>Ir("tooltip.row-by-col",r,i),data:{row:r,col:i},onMenuSelect:()=>{t.insert(`\\begin{pmatrix}${Array(r).fill(Array(i).fill("#?").join(" & ")).join("\\\\")}\\end{pmatrix}`,{selectionMode:"item"})}});return e}function sSe(t){return[{label:()=>Ir("menu.array.add row above"),id:"add-row-above",onMenuSelect:()=>t.executeCommand("addRowBefore"),keyboardShortcut:"shift+alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!X1(t))return!1;let[e]=bh(t),[r]=pm(t);return e!==r}},{label:()=>Ir("menu.array.add row below"),id:"add-row-below",onMenuSelect:()=>t.executeCommand("addRowAfter"),keyboardShortcut:"alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!X1(t))return!1;let[e]=bh(t),[r]=pm(t);return e!==r}},{label:()=>Ir("menu.array.add column before"),id:"add-column-before",onMenuSelect:()=>t.executeCommand("addColumnBefore"),visible:()=>{if(!t.isSelectionEditable||!X1(t))return!1;let[e,r]=bh(t),[i,n]=pm(t);return r!==n},keyboardShortcut:"shift+alt+[Tab]",enabled:()=>{let e=t.model.parentEnvironment;if(!e)return!1;let[r]=HM(t);return r<e.maxColumns}},{label:()=>Ir("menu.array.add column after"),id:"add-column-after",onMenuSelect:()=>t.executeCommand("addColumnAfter"),keyboardShortcut:"alt+[Tab]",visible:()=>{if(!t.isSelectionEditable||!X1(t))return!1;let[e,r]=bh(t),[i,n]=pm(t);return r!==n}},{type:"divider"},{label:()=>Ir("menu.array.delete row"),id:"delete-row",onMenuSelect:()=>t.executeCommand("removeRow"),enabled:()=>{let[e]=bh(t),[r]=HM(t);return r>e},visible:()=>{if(!t.isSelectionEditable||!X1(t))return!1;let[e]=bh(t),[r]=pm(t);return e!==r}},{label:()=>Ir("menu.array.delete column"),id:"delete-column",onMenuSelect:()=>t.executeCommand("removeColumn"),enabled:()=>{let[e,r]=bh(t),[i,n]=HM(t);return n>r},visible:()=>{if(!t.isSelectionEditable||!X1(t))return!1;let[e,r]=bh(t),[i,n]=pm(t);return r!==n}},{type:"divider"},{label:()=>Ir("menu.borders"),visible:()=>(oSe(t)||X1(t))&&t.isSelectionEditable,submenu:[{label:" ⋱ ",id:"environment-no-border",onMenuSelect:()=>W2(t,"matrix")},{label:"(⋱)",id:"environment-parentheses",onMenuSelect:()=>W2(t,"pmatrix")},{label:"[⋱]",id:"environment-brackets",onMenuSelect:()=>W2(t,"bmatrix")},{label:"|⋱|",id:"environment-bar",onMenuSelect:()=>W2(t,"vmatrix")},{label:"{⋱}",id:"environment-braces",onMenuSelect:()=>W2(t,"Bmatrix")}],submenuClass:"border-submenu"},{type:"divider"},{label:()=>Ir("menu.insert matrix"),id:"insert-matrix",visible:()=>t.isSelectionEditable,submenu:aSe(t),submenuClass:"insert-matrix-submenu",columnCount:5},{type:"divider"},{label:()=>Ir("menu.insert"),id:"insert",submenu:uSe(t)},{type:"divider"},{label:()=>Ir("menu.mode"),id:"mode",visible:()=>t.isSelectionEditable&&t.model.selectionIsCollapsed,submenu:[{label:()=>Ir("menu.mode-math"),id:"mode-math",onMenuSelect:()=>{Qd(t,"accept-all"),t.executeCommand(["switchMode","math"])},checked:()=>t.model.mode==="math"},{label:()=>Ir("menu.mode-text"),id:"mode-text",onMenuSelect:()=>{Qd(t,"accept-all"),t.executeCommand(["switchMode","text"])},checked:()=>t.model.mode==="text"},{label:()=>Ir("menu.mode-latex"),id:"mode-latex",onMenuSelect:()=>t.executeCommand(["switchMode","latex"]),checked:()=>t.model.mode==="latex"}]},{type:"divider"},{label:()=>Ir("menu.font-style"),id:"variant",visible:()=>t.isSelectionEditable,submenu:JNe(t),submenuClass:"variant-submenu"},{label:()=>Ir("menu.color"),id:"color",visible:()=>t.isSelectionEditable,submenu:iSe(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>Ir("menu.background-color"),id:"background-color",visible:()=>t.isSelectionEditable,submenu:rSe(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>Ir("menu.accent"),id:"accent",visible:()=>t.isSelectionEditable,submenu:eSe(t),submenuClass:"variant-submenu"},{label:()=>Ir("menu.decoration"),id:"decoration",visible:()=>t.isSelectionEditable&&Wi(t).length>0,submenu:tSe(t),submenuClass:"variant-submenu"},{type:"divider"},{label:()=>Ir("menu.evaluate"),id:"ce-evaluate",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{let e=lSe(t);if(!e){t.model.announce("plonk");return}t.model.selectionIsCollapsed?(t.model.position=t.model.lastOffset,t.insert(`=${e}`,{insertionMode:"insertAfter",selectionMode:"item"})):t.insert(e,{insertionMode:"replaceSelection",selectionMode:"item"})}},{label:()=>Ir("menu.simplify"),id:"ce-simplify",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{var e,r;if(t.model.selectionIsCollapsed){let i=(e=t.expression)==null?void 0:e.simplify();if(t.model.position=t.model.lastOffset,!i){t.model.announce("plonk");return}t.insert(`=${i.latex}`,{insertionMode:"insertAfter",selectionMode:"item"})}else{let i=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.parse(t.getValue(t.model.selection)).simplify();if(!i){t.model.announce("plonk");return}t.insert(i.latex,{insertionMode:"replaceSelection",selectionMode:"item"})}}},{label:()=>{var e;let r=globalThis.MathfieldElement.computeEngine;if(r===null)return"";let i=(e=t.expression)==null?void 0:e.unknowns[0];if(i){let n=r.box(i).latex;return Ir("menu.solve-for",xa(n))}return Ir("menu.solve")},id:"ce-solve",visible:()=>{var e;return t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null&&((e=t.expression)==null?void 0:e.unknowns.length)===1&&t.expression.unknowns[0]!=="Nothing"},onMenuSelect:()=>{var e;let r=t.expression,i=r==null?void 0:r.unknowns[0],n=(e=r.solve(i))==null?void 0:e.map(a=>{var s;return(s=a.simplify().latex)!=null?s:""});if(!n){t.model.announce("plonk");return}t.insert(`${i}=${n.length===1?n[0]:"\\left\\lbrace"+(n==null?void 0:n.join(", "))+"\\right\\rbrace"}`,{insertionMode:"replaceAll",selectionMode:"item"})}},{type:"divider"},{label:()=>Ir("menu.cut"),id:"cut",onMenuSelect:()=>t.executeCommand("cutToClipboard"),visible:()=>!t.options.readOnly&&t.isSelectionEditable,keyboardShortcut:"meta+X"},{label:()=>Ir("menu.copy"),id:"copy",submenu:[{label:()=>Ir("menu.copy-as-latex"),id:"copy-latex",onMenuSelect:()=>nn.copyToClipboard(t,"latex"),keyboardShortcut:"meta+C"},{label:()=>Ir("menu.copy-as-ascii-math"),id:"copy-ascii-math",onMenuSelect:()=>nn.copyToClipboard(t,"ascii-math")},{label:()=>Ir("menu.copy-as-mathml"),id:"copy-math-ml",onMenuSelect:()=>nn.copyToClipboard(t,"math-ml")}]},{label:()=>Ir("menu.paste"),id:"paste",onMenuSelect:()=>t.executeCommand("pasteFromClipboard"),visible:()=>t.hasEditableContent,keyboardShortcut:"meta+V"},{label:()=>Ir("menu.select-all"),id:"select-all",keyboardShortcut:"meta+A",onMenuSelect:()=>t.executeCommand("selectAll")}]}function X1(t){var e,r;let i=(r=(e=t.model.parentEnvironment)==null?void 0:e.environmentName)!=null?r:"";return["array","matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(i)}function oSe(t){let e=t.model.at(t.model.position);if(e.type!=="array")return!1;let r=e.environmentName;return["matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(r)}function HM(t){var e;let r=(e=t.model.parentEnvironment)==null?void 0:e.rows;return r?[r.length,r.reduce((i,n)=>Math.max(i,n.length),0)]:[0,0]}function bh(t){let e=t.model.parentEnvironment;return e?[e.minRows,e.minColumns]:[0,0]}function pm(t){let e=t.model.parentEnvironment;return e?[e.maxRows,e.maxColumns]:[0,0]}function W2(t,e){ay(t),t.flushInlineShortcutBuffer(),kV(t.model,e),Nn(t)}function lSe(t){var e,r;let i;if(t.model.selectionIsCollapsed?i=(e=globalThis.MathfieldElement.computeEngine)==null?void 0:e.parse(t.getValue(),{canonical:!1}):i=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.parse(t.getValue(t.model.selection),{canonical:!1}),!i)return"";let n=i.evaluate();return n.isSame(i)&&(n=i.N()),n.latex}function WM(t,e,r,i){return{id:`variant-${e}`,label:()=>{var n;return Wi(t).length<12?xa(`\\${r}{${Wi(t)}}`):(n=Ir(i))!=null?n:i},class:"ML__xl",tooltip:()=>{var n;return(n=Ir(i))!=null?n:i},visible:()=>XNe(t,e),checked:()=>{var n;return(n={some:"mixed",all:!0}[t.queryStyle({variant:e})])!=null?n:!1},onMenuSelect:()=>t.applyStyle({variant:e},{operation:"toggle"})}}function YM(t,e,r,i){return{id:`variant-style-${e}`,label:()=>{var n;let a=Wi(t);return a.length>0&&a.length<12?xa(`\\${r}{${Wi(t)}}`):(n=Ir(i))!=null?n:i},class:()=>{let n=Wi(t);return n.length>0&&n.length<12?"ML__xl":""},tooltip:()=>{var n;return(n=Ir(i))!=null?n:i},visible:e==="bold"?!0:()=>QNe(t),checked:()=>{var n;return(n={some:"mixed",all:!0}[t.queryStyle({variantStyle:e})])!=null?n:!1},onMenuSelect:()=>t.applyStyle({variantStyle:e},{operation:"toggle"})}}function uSe(t){return[{label:()=>Qo("abs"),id:"insert-abs",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("|#?|")},{label:()=>Qo("nth-root"),id:"insert-nth-root",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sqrt[#?]{#?}")},{label:()=>Qo("log-base"),id:"insert-log-base",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\log_{#?}{#?}")},{type:"heading",label:()=>Ir("menu.insert.heading-calculus")},{label:()=>Qo("derivative"),id:"insert-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}}{\\mathrm{d}x}#?\\bigm|_{x=#?}")},{label:()=>Qo("nth-derivative"),id:"insert-nth-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}^#?}{\\mathrm{d}x^#?}#?\\bigm|_{x=#?}")},{label:()=>Qo("integral"),id:"insert-integral",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\int_#?^#?#?\\,\\mathrm{d}#?")},{label:()=>Qo("sum"),id:"insert-sum",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sum_#?^#?#?")},{label:()=>Qo("product"),id:"insert-product",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\prod_#?^#?#?")},{type:"heading",label:()=>Ir("menu.insert.heading-complex-numbers")},{label:()=>Qo("modulus"),id:"insert-modulus",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\lvert#?\\rvert")},{label:()=>Qo("argument"),id:"insert-argument",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\arg(#?)")},{label:()=>Qo("real-part"),id:"insert-real-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Re(#?)")},{label:()=>Qo("imaginary-part"),id:"insert-imaginary-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Im(#?)")},{label:()=>Qo("conjugate"),id:"insert-conjugate",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\overline{#?}")}]}function Qo(t){return`<span class='ML__insert-template'> ${xa(Ir(`menu.insert.${t}-template`))}</span><span class="ML__insert-label">${Ir(`menu.insert.${t}`)}</span>`}function xh(t,e){return typeof t=="string"?t+K1(e):K1(t)}function KM(t){var e;let r;if(t.parent.type==="prompt")t.parentBranch==="body"&&(r="prompt");else if(t.parentBranch==="body"){if(t.type==="first"&&(t.parent.type==="root"?r="mathfield":t.parent.type==="surd"?r="radicand":t.parent.type==="genfrac"?r="fraction":t.parent.type==="sizeddelim"&&(r="delimiter"),r))return r;t.type==="subsup"?t.superscript&&t.subscript?r="superscript and subscript":t.superscript?r="superscript":t.subscript&&(r="subscript"):t.type&&(r=(e={accent:"accented",array:"array",box:"box",chem:"chemical formula",delim:"delimiter",enclose:"cross out","extensible-symbol":"extensible symbol",error:"error",first:"first",genfrac:"fraction",group:"group",latex:"LaTeX",leftright:"delimiter",line:"line",subsup:"subscript-superscript",operator:"operator",overunder:"over-under",placeholder:"placeholder",rule:"rule",sizeddelim:"delimiter",space:"space",spacing:"spacing",surd:"square root",text:"text",prompt:"prompt",root:"math field",mop:"operator"}[t.type])!=null?e:"parent")}else if(t.parent.type==="genfrac"){if(t.parentBranch==="above")return"numerator";if(t.parentBranch==="below")return"denominator"}else t.parent.type==="surd"?t.parentBranch==="above"&&(r="index"):t.parentBranch==="superscript"?r="superscript":t.parentBranch==="subscript"&&(r="subscript");return r??"parent"}function cSe(t,e,r,i){let n="";if(e==="plonk"){globalThis.MathfieldElement.playSound("plonk"),t.flushInlineShortcutBuffer();return}if(e==="delete")n=xh("deleted: ",i);else if(e==="focus"||e.includes("move"))n=hSe(t.model,r),n+=pSe(t.model);else if(e==="replacement")n=xh(t.model.at(t.model.position));else if(e==="line"){let a=xh(t.model.root);t.keyboardDelegate.setAriaLabel(a)}else n=i?xh(e+" ",i):e;if(n){let a=t.ariaLiveText.textContent.includes(" ")?"   ":"   ";t.ariaLiveText.textContent=n+a}}function hSe(t,e){if(Number.isNaN(e))return"";let r=t.at(e);if(!r||r.treeDepth<=t.at(t.position).treeDepth)return"";let i="",n=r.parent,a=t.at(t.position).parent;for(;n!==t.root&&n!==a;)i+=`out of ${KM(n)};`,n=n.parent;return i}function pSe(t){if(!t.selectionIsCollapsed)return`selected: ${xh(t.getAtoms(t.selection))}`;let e="",r=t.at(t.position);if(r.isFirstSibling&&(e=`start of ${KM(r)}: `),r.isLastSibling){if(!r.isFirstSibling){if(!r.parent.parent)return`${xh(r)}; end of mathfield`;e=`${xh(r)}; end of ${KM(r)}`}}else e+=xh(r);return e}var dSe=class{constructor(t,e,r){this.mathfield=t,this.mode=e,this.silenceNotifications=!1,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.root=r}dispose(){this.mathfield=void 0}getState(){let t={ranges:[...this._selection.ranges]};return this.selection.direction&&this.selection.direction!=="none"&&(t.direction=this.selection.direction),{content:this.root.toJson(),selection:t,mode:this.mode}}setState(t,e){var r;let i=this.silenceNotifications;this.silenceNotifications=(r=e==null?void 0:e.silenceNotifications)!=null?r:!0;let n={};if((e==null?void 0:e.type)==="undo"&&(n={inputType:"historyUndo"}),(e==null?void 0:e.type)==="redo"&&(n={inputType:"historyRedo"}),this.contentWillChange(n)){let a=this.silenceNotifications;this.silenceNotifications=!0,this.mode=t.mode,this.root=fh(t.content),this.selection=t.selection,this.silenceNotifications=a,this.contentDidChange(n),this.selectionDidChange()}this.silenceNotifications=i}get atoms(){return this.root.children}get selection(){return this._selection}set selection(t){this.setSelection(t)}setSelection(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0,content:!0},()=>{var r,i,n;let a=this.normalizeSelection(t,e);if(a===void 0)throw new TypeError("Invalid selection");if(a.ranges.length===1&&a.ranges[0][0]===a.ranges[0][1]){let c=a.ranges[0][0];if(!this.mathfield.dirty&&!((r=this.at(c))!=null&&r.parentPrompt)&&this.mathfield.hasEditablePrompts){if((i=this.at(c-1))!=null&&i.parentPrompt){this._anchor=this.normalizeOffset(c-1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}if((n=this.at(c+1))!=null&&n.parentPrompt){this._anchor=this.normalizeOffset(c+1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}this._anchor=0,this._position=0,this._selection={ranges:[[0,0]]};return}this._anchor=c,this._position=c,this._selection=a;return}let s=As(a);a.direction==="backward"?[this._position,this._anchor]=s:[this._anchor,this._position]=s;let o=this.at(s[0]+1),l=this.at(s[1]),u=it.commonAncestor(o,l);(u==null?void 0:u.type)==="array"&&o.parent===u&&l.parent===u?this._selection={ranges:[s],direction:a.direction}:this._selection={ranges:[s],direction:a.direction},this._position>=0&&this._position<=this.lastOffset})}setPositionHandlingPlaceholder(t){var e;let r=this.at(t);(r==null?void 0:r.type)==="placeholder"?this.setSelection(t-1,t):((e=r==null?void 0:r.rightSibling)==null?void 0:e.type)==="placeholder"?this.setSelection(t,t+1):this.position=t,r instanceof Ha&&r.isSuggestion&&(r.isSuggestion=!1),this.mathfield.stopCoalescingUndo()}get position(){return this._position}set position(t){this.setSelection(t,t)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return Math.abs(this._anchor-this._position)===1?this.at(Math.max(this._anchor,this._position)).type==="placeholder":!1}collapseSelection(t="forward"){return this._anchor===this._position?!1:(t==="backward"?this.position=Math.min(this._anchor,this._position):this.position=Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(t){return this.atoms[t]}offsetOf(t){return this.atoms.indexOf(t)}getSiblingsRange(t){let e=this.at(t),{parent:r}=e;if(!r)return[0,this.lastOffset];let i=e.parent.branch(e.parentBranch);return[this.offsetOf(i[0]),this.offsetOf(i[i.length-1])]}getBranchRange(t,e){let r=this.at(t).branch(e);return[this.offsetOf(r[0]),this.offsetOf(r[r.length-1])]}getCellRange(t){var e;this.getParentCell(t);let r=this.at(t);if(r){for(;r&&((e=r.parent)==null?void 0:e.type)!=="array";)r=r.parent;if(!(!(r!=null&&r.parent)||r.parent.type!=="array"))return[this.offsetOf(r.firstSibling),this.offsetOf(r.lastSibling)]}}getAtoms(t,e,r){let i=r??{};if(Ov(t)){if(i=e??{},t.ranges.length>1)return t.ranges.reduce((u,c)=>[...u,...this.getAtoms(c,i)],[]);t=t.ranges[0]}let n,a;if(hh(t)){if(n=t,!hh(e))return[];a=e}else[n,a]=t,i=e??{};if(!Number.isFinite(n))return[];i.includeChildren===void 0&&(i.includeChildren=!1),n<0&&(n=this.lastOffset-n+1),a<0&&(a=this.lastOffset+a+1);let s=Math.min(n,a)+1,o=Math.max(n,a);if(!i.includeChildren&&s===1&&o===this.lastOffset)return[this.root];let l=[];for(let u=s;u<=o;u++){let c=this.atoms[u];cG(this,c,s,o)&&l.push(c)}return i.includeChildren||(l=l.filter(u=>{let c=!1,{parent:h}=u;for(;h&&!c;)c=cG(this,h,s,o),h=h.parent;return!c})),l}findAtom(t,e=0,r="forward"){let i,n=this.lastOffset;if(r==="forward"){for(let a=e;a<=n;a++)if(i=this.atoms[a],t(i))return i;for(let a=0;a<e;a++)if(i=this.atoms[a],t(i))return i;return}for(let a=e;a>=0;a--)if(i=this.atoms[a],t(i))return i;for(let a=n;a>e;a--)if(i=this.atoms[a],t(i))return i}extractAtoms(t){var e;let r=this.getAtoms(t);r.length===1&&!r[0].parent&&r[0].isRoot&&(r[0]instanceof Jr?r=r[0].rows.flatMap(i=>i.flatMap(n=>n)):r=[...(e=r[0].body)!=null?e:r[0].children],r=r.filter(i=>i.type!=="first"));for(let i of r)i.parent.removeChild(i);return r}deleteAtoms(t){t!=null||(t=[0,-1]),this.extractAtoms(t),this.position=t[0]}atomToString(t,e){let r=e??"latex";if(r.startsWith("latex"))return it.serialize([t],{expandMacro:r==="latex-expanded",skipStyles:r==="latex-unstyled",skipPlaceholders:r==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode});if(r==="math-ml")return ki(t);if(r==="spoken")return K1(t);if(r==="spoken-text"){let i=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="";let n=K1(t);return globalThis.MathfieldElement.textToSpeechMarkup=i,n}if(r==="spoken-ssml"||r==="spoken-ssml-with-highlighting"){let i=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="ssml";let n=K1(t);return globalThis.MathfieldElement.textToSpeechMarkup=i,n}return r==="plain-text"?Sn(t,{plain:!0}):r==="ascii-math"?Sn(t):(console.error(`MathLive 0.104.2: Unexpected format "${r}`),"")}getValue(t,e,r){if(t===void 0)return this.atomToString(this.root,"latex");if(typeof t=="string"&&t!=="math-json")return this.atomToString(this.root,t);let i,n;if(hh(t)&&hh(e)?(i=[this.normalizeRange([t,e])],n=r):Bv(t)?(i=[this.normalizeRange(t)],n=e):Ov(t)?(i=t.ranges,n=e):(i=[this.normalizeRange([0,-1])],n=t),n!=null||(n="latex"),n==="math-json"){if(!globalThis.MathfieldElement.computeEngine)return window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`The CortexJS Compute Engine library is not available.
Load the library, for example with:
import "https://unpkg.com/@cortex-js/compute-engine?module"`),'["Error", "compute-engine-not-available"]';let a=this.getValue({ranges:i},"latex-unstyled");try{let s=globalThis.MathfieldElement.computeEngine.parse(a);return JSON.stringify(s.json)}catch(s){return JSON.stringify(["Error",`'${s.toString()}'`])}}if(n.startsWith("latex")){let a={expandMacro:n==="latex-expanded",skipStyles:n==="latex-unstyled",skipPlaceholders:n==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode};return Hr(i.map(s=>it.serialize(this.getAtoms(s),a)))}return i.map(a=>this.getAtoms(a).map(s=>this.atomToString(s,n)).join("")).join("")}extendSelectionTo(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0},()=>{let r=this.normalizeRange([t,e]),[i,n]=r,{parent:a}=this.at(n);if(a&&(a.type==="genfrac"||a.type==="subsup"))for(;a!==this.root&&XM(this,a,[i,n]);)n=this.offsetOf(a),a=a.parent;for(a=this.at(i).parent;a!==this.root&&XM(this,a,[i,n]);)i=this.offsetOf(a.leftSibling),a=a.parent;if(a=this.at(n).parent,(a==null?void 0:a.type)==="genfrac")for(;a!==this.root&&XM(this,a,[i,n]);)n=this.offsetOf(a),a=a.parent;this._position=this.normalizeOffset(e),this._selection={ranges:[[i,n]],direction:"none"}})}announce(t,e,r=[]){var i,n;((n=(i=this.mathfield.host)==null?void 0:i.dispatchEvent(new CustomEvent("announce",{detail:{command:t,previousPosition:e,atoms:r},cancelable:!0,bubbles:!0,composed:!0})))==null||n)&&cSe(this.mathfield,t,e,r)}deferNotifications(t,e){let r=this._selection,i=this._anchor,n=this._position,a=this.silenceNotifications;this.silenceNotifications=!0;let s=this.root.changeCounter;e(),this.silenceNotifications=a;let o=i!==this._anchor||n!==this._position||SMe(this._selection,r)==="different";t.selection&&o&&this.selectionDidChange();let l=this.root.changeCounter!==s;return t.content&&l&&this.contentDidChange({inputType:t.type}),l||o}normalizeOffset(t){return t>0?t=Math.min(t,this.lastOffset):t<0&&(t=this.lastOffset+t+1),t}normalizeRange(t){let[e,r]=t;return e=this.normalizeOffset(e),r=this.normalizeOffset(r),e<r?[e,r]:[r,e]}normalizeSelection(t,e){var r;let i;if(hh(t)){let n=this.normalizeOffset(t);if(hh(e)){let a=this.normalizeOffset(e);i=n<=a?{ranges:[[n,a]],direction:"none"}:{ranges:[[a,n]],direction:"backward"}}else i={ranges:[[n,n]],direction:"none"}}else if(Bv(t)){let n=this.normalizeOffset(t[0]),a=this.normalizeOffset(t[1]);i=n<=a?{ranges:[[n,a]],direction:"none"}:{ranges:[[a,n]],direction:"backward"}}else Ov(t)&&(i={ranges:t.ranges.map(n=>this.normalizeRange(n)),direction:(r=t.direction)!=null?r:"none"});return i}get parentEnvironment(){let t=this.at(this.position).parent;if(t){for(;t.parent&&t.type!=="array";)t=t.parent;if(t.type==="array")return t}}get parentCell(){return this.getParentCell(this.position)}getParentCell(t){var e;let r=this.at(t);if(r){for(;r&&((e=r.parent)==null?void 0:e.type)!=="array";)r=r.parent;if(!(!(r!=null&&r.parent)||r.parent.type!=="array"))return r.parentBranch}}contentWillChange(t={}){if(this.silenceNotifications||!this.mathfield)return!0;let e=this.silenceNotifications;this.silenceNotifications=!0;let r=this.mathfield.onContentWillChange(t);return this.silenceNotifications=e,r}contentDidChange(t){if(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(vh(this.mathfield)),this.silenceNotifications||!this.mathfield||!this.mathfield.host)return;let e=this.silenceNotifications;this.silenceNotifications=!0,setTimeout(()=>{var r;!this.mathfield||!ph(this.mathfield)||!this.mathfield.host||this.mathfield.host.dispatchEvent(new InputEvent("input",je(we({},t),{data:t.data?t.data:(r=t.inputType)!=null?r:"",bubbles:!0,composed:!0})))},0),this.silenceNotifications=e}selectionDidChange(){if(!this.mathfield||(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(vh(this.mathfield)),this.silenceNotifications))return;let t=this.silenceNotifications;this.silenceNotifications=!0,this.mathfield.onSelectionDidChange(),this.silenceNotifications=t}};function cG(t,e,r,i){let n=t.offsetOf(e);if(n<r||n>i)return!1;if(!e.hasChildren)return!0;let a=t.offsetOf(e.firstChild);if(a>=r&&a<=i){let s=t.offsetOf(e.lastChild);if(s>=r&&s<=i)return!0}return!1}function XM(t,e,r){if(!(e!=null&&e.hasChildren))return!1;let[i,n]=r,a=t.offsetOf(e.firstChild),s=t.offsetOf(e.lastChild);return a>=i&&a<=n&&s>=a&&s<=n}function Y2(t,e,r,i){var n,a,s,o,l,u;let c=r.parent;if(Zu(i)&&r instanceof Jr&&r.isMultiline&&gSe(t,r,i[0],e))return!0;if(c&&r instanceof On){let h=!i&&e==="forward"||i==="body"&&e==="backward",p=h?t.offsetOf(r.firstChild):t.offsetOf(r.lastChild);return h?r.rightDelim!=="?"&&r.rightDelim!=="."?(r.leftDelim=".",r.isDirty=!0):(c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),p--):r.leftDelim!=="?"&&r.leftDelim!=="."?(r.rightDelim=".",r.isDirty=!0):(c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),p--),t.position=p,!0}if(c&&r.type==="surd"){if(e==="forward"&&!i||e==="backward"&&i==="body"){let h=r.leftSibling;r.hasChildren&&c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),t.position=t.offsetOf(h)}else e==="forward"&&i==="body"?t.position=t.offsetOf(r):!i&&e==="backward"?r.hasChildren?t.position=t.offsetOf(r.lastChild):(t.position=Math.max(0,t.offsetOf(r)-1),c.removeChild(r)):i==="above"&&(r.hasEmptyBranch("above")&&r.removeBranch("above"),e==="backward"?t.position=t.offsetOf(r.leftSibling):t.position=t.offsetOf(r.body[0]));return!0}if(c&&(r.type==="box"||r.type==="enclose")){let h=i&&e==="backward"||!i&&e==="forward"?r.leftSibling:r.lastChild;return c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),t.position=t.offsetOf(h),!0}if(r.type==="genfrac"||r.type==="overunder"){if(!i)return r.type==="overunder"&&r.hasEmptyBranch("body")||r.type==="genfrac"&&r.hasEmptyBranch("below")&&r.hasEmptyBranch("above")?!1:(t.position=t.offsetOf(e==="forward"?r.firstChild:r.lastChild),!0);let h=Q1.fractionNavigationOrder==="numerator-denominator"?"above":"below",p=h==="above"?"below":"above";if(c&&(e==="forward"&&i===h||e==="backward"&&i===p)){let d=r.removeBranch(h),m=r.removeBranch(p);return c.addChildrenAfter([...d,...m],r),c.removeChild(r),t.position=t.offsetOf(d.length>0?d[d.length-1]:m[0]),!0}return e==="backward"?t.position=t.offsetOf(r.leftSibling):t.position=t.offsetOf(r),!0}if(r.type==="extensible-symbol"||r.type==="subsup"){if(!i&&e==="forward")return!1;if(!i){if(r.subscript||r.superscript){let h=e==="forward"?(s=(n=r.superscript)==null?void 0:n[0])!=null?s:(a=r.subscript)==null?void 0:a[0]:(u=(o=r.subscript)==null?void 0:o[0].lastSibling)!=null?u:(l=r.superscript)==null?void 0:l[0].lastSibling;return h&&(t.position=t.offsetOf(h)),!0}return!1}if(!r.hasChildren&&r.type==="subsup"){let h=e==="forward"?t.offsetOf(r):Math.max(0,t.offsetOf(r)-1);return r.parent.removeChild(r),t.position=h,!0}if(i==="superscript")if(e==="backward"){let h=t.offsetOf(r.firstChild)-1;t.position=h}else r.subscript?t.position=t.offsetOf(r.subscript[0]):t.position=t.offsetOf(r);else i==="subscript"&&(e==="backward"&&r.superscript?t.position=t.offsetOf(r.superscript[0].lastSibling):e==="backward"?t.position=t.offsetOf(r.firstChild)-1:t.position=t.offsetOf(r));if(i&&r.hasEmptyBranch(i)&&(r.removeBranch(i),r.type==="subsup"&&!r.subscript&&!r.superscript)){let h=e==="forward"?t.offsetOf(r):Math.max(0,t.offsetOf(r)-1);r.parent.removeChild(r),t.position=h}return!0}if((c==null?void 0:c.type)==="genfrac"&&!i&&r.type!=="first"){let h=t.offsetOf(r.leftSibling);return c.removeChild(r),c.hasEmptyBranch("above")&&c.hasEmptyBranch("below")?(h=t.offsetOf(c.leftSibling),c.parent.removeChild(c),t.announce("delete",void 0,[c]),t.position=h,!0):(t.announce("delete",void 0,[r]),t.position=h,!0)}if(e==="backward"&&((c==null?void 0:c.command)==="\\ln"||(c==null?void 0:c.command)==="\\log")&&r.parentBranch!=="body"){let h=t.offsetOf(c.leftSibling);return c.parent.removeChild(c),t.announce("delete",void 0,[c]),t.position=h,!0}return!1}function mSe(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentBackward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let e=t.at(t.position);if(!(e&&Y2(t,"backward",e))){if(e!=null&&e.isFirstSibling){if(Y2(t,"backward",e.parent,e.parentBranch))return;e=null}if(!e){t.announce("plonk");return}t.position=t.offsetOf(e.leftSibling),e.parent.removeChild(e),t.announce("delete",void 0,[e])}}):d0(t,As(t.selection),"deleteContentBackward")}function fSe(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentForward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var e,r;let i=t.at(t.position).rightSibling;if(i&&Y2(t,"forward",i))return;if(i){if(t.at(t.position).isLastSibling&&Y2(t,"forward",i.parent,i.parentBranch))return}else{if(i=t.at(t.position),i.isLastSibling&&Y2(t,"forward",i.parent,i.parentBranch))return;i=void 0}if(t.position===t.lastOffset||!i){t.announce("plonk");return}i.parent.removeChild(i);let n=(e=t.at(t.position))==null?void 0:e.rightSibling;for(;(n==null?void 0:n.type)==="subsup";)n.parent.removeChild(n),n=(r=t.at(t.position))==null?void 0:r.rightSibling;t.announce("delete",void 0,[i])}):d0(t,As(t.selection),"deleteContentForward")}function d0(t,e,r){let i=t.getAtoms(e);if(i.length>0&&i[0].parent){let n=i[0];for(;n&&!(n instanceof Jr);)n=n.parent;let a=i[i.length-1];for(;a&&!(a instanceof Jr);)a=a.parent;if(n&&n instanceof Jr){let c=n;if(c&&a===c&&c.isMultiline){let[h,p]=[Math.min(t.position,t.anchor),Math.max(t.position,t.anchor)],[d,m]=t.at(h).parentBranch,[f,v]=t.at(p).parentBranch;if(f-d+1>2){t.extractAtoms([h,p]);for(let x=d+1;x<f;x++)c.removeRow(x);return t.position=h,!0}}}let s=i[0].parent.firstChild;s.type==="first"&&(s=s.rightSibling);let o=i[i.length-1].parent.lastChild,l=i[0];l.type==="first"&&(l=l.rightSibling);let u=i[i.length-1];if(l===s&&u===o){let c=i[0].parent;c.parent&&c.type!=="prompt"&&(e=[t.offsetOf(c.leftSibling),t.offsetOf(c)])}if(i.length===1&&i[0].type==="placeholder"&&i[0].parent.type==="genfrac"){let c=i[0].parent,h=i[0].parentBranch==="below"?"above":"below",p=t.offsetOf(c.leftSibling);return t.deferNotifications({content:!0,selection:!0,type:r},()=>{var d,m;let f=c.removeBranch(h);if(f.length===1&&f[0].type==="placeholder")(m=c.parent)==null||m.removeChild(c),t.position=Math.max(0,p);else{let v=c.parent.addChildrenAfter(f,c);(d=c.parent)==null||d.removeChild(c),t.position=t.offsetOf(v)}})}}return t.deferNotifications({content:!0,selection:!0,type:r},()=>t.deleteAtoms(e))}function gSe(t,e,r,i){if(!(e instanceof Jr)||!e.isMultiline||e.rows.length===1||e.rows[r].length>1)return!1;let n=e.getCell(r,0);if(e.removeRow(r),i==="backward"){let a=e.getCell(r-1,0);t.position=t.offsetOf(a[a.length-1]),e.setCell(r-1,0,[...a,...n])}else{let a=e.getCell(r,0);t.position=t.offsetOf(a[0]),e.setCell(r,0,[...n,...a])}return!0}uo({deleteAll:t=>t.contentWillChange({inputType:"deleteContent"})&&d0(t,[0,-1],"deleteContent"),deleteForward:t=>fSe(t),deleteBackward:t=>mSe(t),deleteNextWord:t=>t.contentWillChange({inputType:"deleteWordForward"})&&d0(t,[t.anchor,kM(t,t.position,"forward")],"deleteWordForward"),deletePreviousWord:t=>t.contentWillChange({inputType:"deleteWordBackward"})&&d0(t,[t.anchor,kM(t,t.position,"backward")],"deleteWordBackward"),deleteToGroupStart:t=>t.contentWillChange({inputType:"deleteSoftLineBackward"})&&d0(t,[t.anchor,t.offsetOf(t.at(t.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:t=>t.contentWillChange({inputType:"deleteSoftLineForward"})&&d0(t,[t.anchor,t.offsetOf(t.at(t.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:t=>t.contentWillChange({inputType:"deleteHardLineBackward"})&&d0(t,[t.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:t=>t.contentWillChange({inputType:"deleteHardLineForward"})&&d0(t,[t.anchor,-1],"deleteHardLineForward")},{target:"model",audioFeedback:"delete",canUndo:!0,changeContent:!0,changeSelection:!0});var vSe=`<svg xmlns="http://www.w3.org/2000/svg" style="width: 21px;"  viewBox="0 0 576 512" role="img" aria-label="${Ir("tooltip.toggle virtual keyboard")}"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg>`,ySe=`<svg xmlns="http://www.w3.org/2000/svg" style="height: 18px;" viewBox="0 0 448 512" role="img" aria-label="${Ir("tooltip.menu")}"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>`,bSe=class{constructor(t,e){this.focusBlurInProgress=!1;var r,i,n;this.options=we(je(we({},fy()),{macros:aw(),registers:kU()}),my(e)),this.eventController=new AbortController;let a=this.eventController.signal;e.eventSink&&(this.host=e.eventSink),this.element=t,t.mathfield=this,this.blurred=!0,this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.defaultStyle={},this.styleBias="left",this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline"),this.dirty=!1;let s=(i=(r=e.value)!=null?r:this.element.textContent)!=null?i:"";s=s.trim();let o=xV(this.options),l=Eo(s,{context:this.context}),u;l.length===1&&l[0].isRoot?u=l[0]:u=new it({type:"root",mode:o,body:l}),this.model=new dSe(this,o,u),this.undoManager=new WCe(this.model);let c=[];if(c.push("<span contenteditable=true role=textbox aria-autocomplete=none aria-multiline=false part=keyboard-sink class=ML__keyboard-sink autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none tabindex=0></span>"),c.push('<span part=container class=ML__container aria-hidden=true  style="visibility:hidden">'),c.push("<span part=content class=ML__content>"),c.push(dV(this)),c.push("</span>"),window.mathVirtualKeyboard&&(c.push(`<div part=virtual-keyboard-toggle class=ML__virtual-keyboard-toggle role=button ${this.hasEditableContent?"":'style="display:none;"'} data-l10n-tooltip="tooltip.toggle virtual keyboard">`),c.push(vSe),c.push("</div>")),c.push('<div part=menu-toggle class=ML__menu-toggle role=button data-l10n-tooltip="tooltip.menu">'),c.push(ySe),c.push("</div>"),c.push("</span>"),c.push("<span class=ML__sr-only>"),c.push("<span role=status aria-live=assertive aria-atomic=true></span>"),c.push("</span>"),this.element.innerHTML=globalThis.MathfieldElement.createHTML(c.join("")),!this.element.children){console.error("%cMathLive 0.104.2: Something went wrong and the mathfield could not be created.%c\nIf you are using Vue, this may be because you are using the runtime-only build of Vue. Make sure to include `runtimeCompiler: true` in your Vue configuration. There may a warning from Vue in the log above.","color:red;font-family:system-ui;font-size:1.2rem;font-weight:bold","color:inherit;font-family:system-ui;font-size:inherit;font-weight:inherit");return}this._l10Subscription=Zr.subscribe(()=>Zr.update(this.element)),Zr.update(this.element),this.field=this.element.querySelector("[part=content]"),this.field.addEventListener("click",p=>p.stopImmediatePropagation(),{capture:!1,signal:a}),this.field.addEventListener("wheel",this,{passive:!1,signal:a}),"PointerEvent"in window?this.field.addEventListener("pointerdown",this,{signal:a}):this.field.addEventListener("mousedown",this,{signal:a}),(n=this.element.querySelector("[part=virtual-keyboard-toggle]"))==null||n.addEventListener("click",()=>{window.mathVirtualKeyboard.visible?window.mathVirtualKeyboard.hide():(window.mathVirtualKeyboard.show({animate:!0}),window.mathVirtualKeyboard.update(vh(this)))},{signal:a}),this.field.addEventListener("contextmenu",this,{signal:a});let h=this.element.querySelector("[part=menu-toggle]");h==null||h.addEventListener("pointerdown",p=>{if(p.currentTarget!==h)return;let d=this.menu;if(d.state!=="closed")return;this.element.classList.add("tracking");let m=h.getBoundingClientRect();d.modifiers=U1(p),d.show({target:h,location:{x:m.left,y:m.bottom},onDismiss:()=>this.element.classList.remove("tracking")}),p.preventDefault(),p.stopPropagation()},{signal:a}),(this.model.atoms.length<=1||this.disabled||this.readOnly&&!this.hasEditableContent||this.userSelect==="none")&&(h.style.display="none"),this.ariaLiveText=this.element.querySelector("[role=status]"),this.keyboardDelegate=Qke(this.element.querySelector(".ML__keyboard-sink"),this.element,this),window.addEventListener("resize",this,{signal:a}),document.addEventListener("scroll",this,{signal:a}),this.resizeObserver=new ResizeObserver(p=>{if(this.resizeObserverStarted){this.resizeObserverStarted=!1;return}Nn(this)}),this.resizeObserverStarted=!0,this.resizeObserver.observe(this.field),window.mathVirtualKeyboard.addEventListener("virtual-keyboard-toggle",this,{signal:a}),Xo!=="ready"&&document.fonts.ready.then(()=>uy(this)),t.querySelector("[part=container]").style.removeProperty("visibility"),this.undoManager.startRecording(),this.undoManager.snapshot("set-value"),Nn(this)}connectToVirtualKeyboard(){this.connectedToVirtualKeyboard||(this.connectedToVirtualKeyboard=!0,window.addEventListener("message",this,{signal:this.eventController.signal}),window.mathVirtualKeyboard.connect(),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(vh(this)),Sy(this))}disconnectFromVirtualKeyboard(){this.connectedToVirtualKeyboard&&(window.removeEventListener("message",this),window.mathVirtualKeyboard.disconnect(),this.connectedToVirtualKeyboard=!1,LM())}showMenu(t){var e,r;let i=(r=(e=t==null?void 0:t.location)!=null?e:Pv(this.field))!=null?r:void 0,n=t==null?void 0:t.modifiers,a=this.element.querySelector("[part=container]");return this._menu.show({target:a,location:i,modifiers:n})}get colorMap(){return t=>{var e,r,i;return(i=(r=(e=this.options).colorMap)==null?void 0:r.call(e,t))!=null?i:O5(t)}}get backgroundColorMap(){return t=>{var e,r,i,n,a,s;return(s=(a=(r=(e=this.options).backgroundColorMap)==null?void 0:r.call(e,t))!=null?a:(n=(i=this.options).colorMap)==null?void 0:n.call(i,t))!=null?s:K9(t)}}get smartFence(){var t;return(t=this.options.smartFence)!=null?t:!1}get readOnly(){var t;return(t=this.options.readOnly)!=null?t:!1}get disabled(){var t,e;return(e=(t=this.host)==null?void 0:t.disabled)!=null?e:!1}get contentEditable(){return this.host?this.host.getAttribute("contenteditable")!=="false":!1}get userSelect(){if(!this.host)return"";let t=getComputedStyle(this.host);return t.getPropertyValue("user-select")||t.getPropertyValue("-webkit-user-select")}get hasEditableContent(){return this.disabled||!this.contentEditable?!1:!this.readOnly||this.hasEditablePrompts}get hasEditablePrompts(){return this.readOnly&&!this.disabled&&this.contentEditable&&this.model.findAtom(t=>t.type==="prompt"&&!t.locked)!==void 0}get isSelectionEditable(){if(this.disabled||!this.contentEditable)return!1;if(!this.readOnly)return!0;let t=this.model.at(this.model.anchor),e=this.model.at(this.model.position),r=it.commonAncestor(t,e);return!!((r==null?void 0:r.type)==="prompt"||r!=null&&r.parentPrompt)}get letterShapeStyle(){var t;return(t=this.options.letterShapeStyle)!=null?t:"tex"}get minFontScale(){return this.options.minFontScale}get maxMatrixCols(){return this.options.maxMatrixCols}queryStyle(t){let e=dM(this,t);"verbatimColor"in e&&delete e.verbatimColor,"verbatimBackgroundColor"in e&&delete e.verbatimBackgroundColor;let r=Object.keys(e).length;if(r===0)return"all";if(r>1){for(let l of Object.keys(e)){let u=this.queryStyle({[l]:e[l]});if(u==="none")return"none";if(u==="some")return"some"}return"all"}let i=Object.keys(e)[0],n=e[i];if(this.model.selectionIsCollapsed)return Xd(this)[i]===n?"all":"none";let a=this.model.getAtoms(this.model.selection,{includeChildren:!0}),s=a.length;if(s===0)return"none";let o=0;for(let l of a){if(l.type==="first"){s-=1;continue}l.style[i]===n&&(o+=1)}return o===0?"none":o===s?"all":"some"}get keybindings(){var t,e;if(this._keybindings)return this._keybindings;let[r,i]=iCe(this.options.keybindings,(t=z2())!=null?t:Yke());return((e=z2())==null?void 0:e.score)>0&&(this._keybindings=r,i.length>0&&console.error("MathLive 0.104.2: Invalid keybindings for current keyboard layout",i)),r}get menu(){return this._menu!=null||(this._menu=new YV(sSe(this),{host:this.host})),this._menu}set menuItems(t){this._menu?this._menu.menuItems=t:this._menu=new YV(t,{host:this.host})}setOptions(t){var e;this.options=we(we({},this.options),my(t)),this._keybindings=void 0,this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline");let r=this.options.defaultMode;r==="inline-math"&&(r="math"),((e=this.model.root.firstChild)==null?void 0:e.mode)!==r&&(this.model.root.firstChild.mode=r),this.options.readOnly&&this.hasFocus()&&window.mathVirtualKeyboard.visible&&this.executeCommand("hideVirtualKeyboard");let i=it.serialize([this.model.root],{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in t||this.model.getValue()!==i)&&mV(this),("value"in t||"registers"in t||"colorMap"in t||"backgroundColorMap"in t||"letterShapeStyle"in t||"minFontScale"in t||"maxMatrixCols"in t||"readOnly"in t||"placeholderContent"in t||"placeholderSymbol"in t)&&Nn(this)}getOptions(t){return G1(this.options,t)}getOption(t){return G1(this.options,t)}async handleEvent(t){var e;if(ph(this)){if(bM(t)){if(!tM(t.origin,(e=this.options.originValidator)!=null?e:"none"))throw new DOMException(`Message from unknown origin (${t.origin}) cannot be handled`,"SecurityError");let{action:r}=t.data;if(r==="execute-command"){let i=O2(t.data.command);if(!i||tm(i)==="virtual-keyboard")return;this.executeCommand(i)}else r==="update-state"||(r==="focus"?this.focus({preventScroll:!0}):r==="blur"&&this.blur());return}switch(t.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"mousedown":this.userSelect!=="none"&&zV(this,t);break;case"pointerdown":!t.defaultPrevented&&this.userSelect!=="none"&&(zV(this,t),t.shiftKey===!1&&await XV(t,this.element.querySelector("[part=container]"),this.menu)&&wy.stop());break;case"contextmenu":this.userSelect!=="none"&&t.shiftKey===!1&&await XV(t,this.element.querySelector("[part=container]"),this.menu)&&wy.stop();break;case"virtual-keyboard-toggle":this.hasFocus()&&Sy(this),this.hasFocus()&&(this.keyboardDelegate.blur(),this.keyboardDelegate.focus());break;case"resize":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>ph(this)&&this.onGeometryChange());break;case"scroll":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>ph(this)&&this.onGeometryChange());break;case"wheel":this.onWheel(t);break;case"message":break;default:console.warn("Unexpected event type",t.type)}}}dispose(){if(!ph(this))return;Zr.unsubscribe(this._l10Subscription),this.keyboardDelegate.dispose(),this.keyboardDelegate=void 0,this.eventController.abort(),this.eventController=void 0,this.resizeObserver.disconnect(),window.mathVirtualKeyboard.removeEventListener("virtual-keyboard-toggle",this),this.disconnectFromVirtualKeyboard(),this.model.dispose();let t=this.element;delete t.mathfield,this.element=void 0,this.host=void 0,this.field=void 0,this.ariaLiveText=void 0,aNe(),uCe(),NNe()}flushInlineShortcutBuffer(t){if(t!=null||(t={defer:!1}),!t.defer){this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=0;return}this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(t){return tm(t)==="virtual-keyboard"?(this.focus({preventScroll:!0}),window.mathVirtualKeyboard.executeCommand(t),requestAnimationFrame(()=>window.mathVirtualKeyboard.update(vh(this))),!1):gCe(this,t)}get errors(){return dke(this.model.getValue(),{context:this.context})}getValue(t,e,r){return this.model.getValue(t,e,r)}setValue(t,e){var r;e=e??{mode:"math"},e.insertionMode===void 0&&(e.insertionMode="replaceAll"),(e.format===void 0||e.format==="auto")&&(e.format="latex"),(e.mode===void 0||e.mode==="auto")&&(e.mode=(r=AMe(this.model,this.model.position))!=null?r:"math");let i=this.undoManager.canUndo();nn.insert(this.model,t,e)&&(Nn(this),i||this.undoManager.reset(),this.undoManager.snapshot("set-value"))}get expression(){let t=globalThis.MathfieldElement.computeEngine;return t?t.box(t.parse(this.model.getValue("latex-unstyled"))):(console.error("MathLive 0.104.2:  no compute engine available. Make sure the Compute Engine library is loaded."),null)}scrollIntoView(){var t;if(!this.element)return;if(this.host){if(this.options.onScrollIntoView)this.options.onScrollIntoView(this);else if(this.host.scrollIntoView({block:"nearest",inline:"nearest"}),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.container===window.document.body){let i=window.mathVirtualKeyboard.boundingRect,n=this.host.getBoundingClientRect();n.bottom>i.top&&((t=window.document.scrollingElement)==null||t.scrollBy(0,n.bottom-i.top+8))}}this.dirty&&V1(this,{interactive:!0});let e=this.field.getBoundingClientRect(),r=null;if(this.model.selectionIsCollapsed)r=Pv(this.field);else{let i=IU(this);if(i.length>0){let n=-1/0,a=-1/0;for(let s of i)s.right>n&&(n=s.right),s.top<a&&(a=s.top);r={x:n+e.left-this.field.scrollLeft,y:a+e.top-this.field.scrollTop,height:0}}}if(this.host&&r){let i=this.host.getBoundingClientRect(),n=r.y,a=this.host.scrollTop;n<i.top?a=n-i.top+this.host.scrollTop:n>i.bottom&&(a=n-i.bottom+this.host.scrollTop+r.height),this.host.scroll({top:a,left:0})}if(r){let i=r.x-window.scrollX,n=this.field.scrollLeft;i<e.left?n=i-e.left+this.field.scrollLeft-20:i>e.right&&(n=i-e.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:n})}}insert(t,e){if(typeof t!="string"||t.length===0&&((e==null?void 0:e.insertionMode)==="insertBefore"||(e==null?void 0:e.insertionMode)==="insertAfter")||t.length===0&&this.model.selectionIsCollapsed)return!1;if(this.flushInlineShortcutBuffer(),e=e??{mode:"math"},e.focus&&this.focus(),e.feedback&&(globalThis.MathfieldElement.keypressVibration&&dR()&&navigator.vibrate(gV),globalThis.MathfieldElement.playSound("keypress")),t==="\\\\")wV(this.model);else if(t==="&")MV(this.model);else if(this.model.selectionIsCollapsed){let r=we({},Xd(this));!/^[a-zA-Z0-9]$/.test(t)&&this.styleBias!=="none"&&(r.variant="normal",r.variantStyle=void 0),nn.insert(this.model,t,we({style:r},e))}else nn.insert(this.model,t,e);return this.snapshot(`insert-${this.model.at(this.model.position).type}`),Nn(this),e.scrollIntoView&&this.scrollIntoView(),!0}switchMode(t,e="",r=""){if(this.model.mode===t||!this.hasEditableContent||!this.contentEditable||this.disabled)return;let{model:i}=this,n=i.mode;if(i.mode=t,this.host&&!this.host.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))){i.mode=n;return}i.mode=n,i.deferNotifications({content:!!r||!!e,selection:!0,type:"insertText"},()=>{let a=i.at(i.position),s=(c,h)=>{if(!c)return;let p=i.mode==="math"?Eo(Fv(c,{format:"ascii-math"})[1],{context:this.context}):[...c].map(d=>new Gd(d,d,{}));if(h.select){let d=a.parent.addChildrenAfter(p,a);i.setSelection(i.offsetOf(p[0].leftSibling),i.offsetOf(d))}else i.position=i.offsetOf(a.parent.addChildrenAfter(p,a));u=!0},o=(c,h)=>{let p=new _2(c);a.parent.addChildAfter(p,a),h.select?i.setSelection(i.offsetOf(p.firstChild),i.offsetOf(p.lastChild)):i.position=i.offsetOf(p.lastChild),u=!0},l=()=>{let c=t==="latex"?"latex":t==="math"?"plain-text":"ascii-math",h=As(i.selection),p=this.model.getValue(h,c),d=this.model.extractAtoms(h);return d.length===1&&d[0].type==="placeholder"&&(p=r),a=i.at(h[0]),p},u=!1;if(this.flushInlineShortcutBuffer(),this.stopCoalescingUndo(),Qd(this,"accept"),i.selectionIsCollapsed)s(e,{select:!1}),i.mode=t,t==="latex"?o(r,{select:!1}):s(r,{select:!1});else{let c=l();i.mode=t,t==="latex"?o(c,{select:!0}):s(c,{select:!0})}return Nn(this),this.undoManager.snapshot(t==="latex"?"insert-latex":"insert"),u}),i.mode=t,window.mathVirtualKeyboard.update(vh(this))}hasFocus(){return!this.blurred}focus(t){var e;this.hasFocus()||(this.keyboardDelegate.focus(),this.connectToVirtualKeyboard(),this.onFocus(),this.model.announce("line")),(e=t==null?void 0:t.preventScroll)!=null&&e||this.scrollIntoView()}blur(){this.disconnectFromVirtualKeyboard(),this.hasFocus()&&this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]},this.focus()}applyStyle(t,e={}){var r;let i,n="set",a=!1;Bv(e)?i=e:(e.operation==="toggle"&&(n="toggle"),i=e.range,a=(r=e.silenceNotifications)!=null?r:!1),i&&(i=this.model.normalizeRange(i)),i&&i[0]===i[1]&&(i=void 0);let s=dM(this,t);if(i===void 0&&this.model.selectionIsCollapsed){if(n==="set"){let l=we({},this.defaultStyle);"color"in s&&delete l.verbatimColor,"backgroundColor"in s&&delete l.verbatimBackgroundColor,this.defaultStyle=we(we({},l),s),this.styleBias="none";return}let o=we({},this.defaultStyle);for(let l of Object.keys(s))o[l]===s[l]?(l==="color"&&delete o.verbatimColor,l==="backgroundColor"&&delete o.verbatimBackgroundColor,delete o[l]):o[l]=s[l];this.defaultStyle=o,this.styleBias="none";return}this.model.deferNotifications({content:!a,type:"insertText"},()=>{if(i===void 0)for(let o of this.model.selection.ranges)sM(this.model,o,s,{operation:n});else sM(this.model,i,s,{operation:n})}),Nn(this)}toggleContextMenu(){var t;let e=this.menu;if(!e.visible)return!1;if(e.state==="open")return e.hide(),!0;let r=(t=LU(this,this.model.position))==null?void 0:t.bounds;if(!r)return!1;let i={x:r.right,y:r.bottom};return e.show({target:this.element.querySelector("[part=container]"),location:i,onDismiss:()=>{var n;return(n=this.element)==null?void 0:n.focus()}}),!0}getPrompt(t){return this.model.findAtom(r=>r.type==="prompt"&&r.placeholderId===t)}getPromptValue(t,e){let r=this.getPrompt(t);if(!r)return"";let i=this.model.offsetOf(r.firstChild),n=this.model.offsetOf(r.lastChild);return this.model.getValue(i,n,e)}getPrompts(t){return this.model.atoms.filter(e=>e.type!=="prompt"?!1:t?!(t.id&&e.placeholderId!==t.id||t.locked&&e.locked!==t.locked||t.correctness==="undefined"&&e.correctness||t.correctness&&e.correctness!==t.correctness):!0).map(e=>e.placeholderId)}setPromptValue(t,e,r){if(e!==void 0){let i=this.getPrompt(t);if(!i){console.error(`MathLive 0.104.2: unknown prompt ${t}`);return}let n=this.model.getBranchRange(this.model.offsetOf(i),"body");this.model.setSelection(n),this.insert(e,je(we({},r),{insertionMode:"replaceSelection"}))}r!=null&&r.silenceNotifications&&(this.valueOnFocus=this.getValue()),Nn(this)}setPromptState(t,e,r){let i=this.getPrompt(t);if(!i){console.error(`MathLive 0.104.2: unknown prompt ${t}`);return}e==="undefined"?i.correctness=void 0:typeof e=="string"&&(i.correctness=e),typeof r=="boolean"&&(i.locked=r,i.captureSelection=r),Nn(this)}getPromptState(t){let e=this.getPrompt(t);return e?[e.correctness,e.locked]:(console.error(`MathLive 0.104.2: unknown prompt ${t}`),[void 0,!0])}getPromptRange(t){let e=this.getPrompt(t);return e?this.model.getBranchRange(this.model.offsetOf(e),"body"):(console.error(`MathLive 0.104.2: unknown prompt ${t}`),[0,0])}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(t){var e;this.undoManager.snapshot(t)&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(vh(this)),(e=this.host)==null||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}stopCoalescingUndo(){this.undoManager.stopCoalescing(this.model.selection)}stopRecording(){this.undoManager.stopRecording()}startRecording(){this.undoManager.startRecording()}undo(){var t;this.undoManager.undo()&&((t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var t;this.undoManager.redo()&&((t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"redo"}})))}resetUndo(){var t;(t=this.undoManager)==null||t.reset()}onSelectionDidChange(){var t,e;let r=this.model;if(this.keyboardDelegate.setValue(r.getValue(r.selection,"latex-expanded")),r.selectionIsCollapsed){let i=pM(r),n=r.position,a=r.at(n),s=(t=a.mode)!=null?t:xV(this.options);if(i&&(n<r.offsetOf(i.firstChild)-1||n>r.offsetOf(i.lastChild)+1))Qd(this,"accept",{mode:s}),r.position=r.offsetOf(a);else{let o=r.at(n+1);(o==null?void 0:o.type)==="first"&&o.mode==="latex"?r.position=n+1:i&&(o==null?void 0:o.mode)!=="latex"?r.position=n-1:this.switchMode(s)}}(e=this.host)==null||e.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0})),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(vh(this)),Sy(this)}onContentWillChange(t){var e,r,i;return(i=(r=this.host)==null?void 0:r.dispatchEvent(new InputEvent("beforeinput",je(we({},t),{data:t.data?t.data:(e=t.inputType)!=null?e:"",cancelable:!0,bubbles:!0,composed:!0}))))!=null?i:!0}onFocus(){this.focusBlurInProgress||!this.blurred||(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),this.stopCoalescingUndo(),V1(this,{interactive:!0}),this.valueOnFocus=this.model.getValue(),this.hasEditablePrompts&&!this.model.at(this.model.anchor).parentPrompt&&this.executeCommand("moveToNextPlaceholder"),this.focusBlurInProgress=!1)}onBlur(){var t,e,r;if(!(this.focusBlurInProgress||this.blurred)&&(this.focusBlurInProgress=!0,this.stopCoalescingUndo(),this.blurred=!0,this.ariaLiveText.textContent="",Jd(this),this.model.getValue()!==this.valueOnFocus&&((t=this.host)==null||t.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),this.disconnectFromVirtualKeyboard(),(e=this.host)==null||e.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),(r=this.host)==null||r.dispatchEvent(new UIEvent("focusout",{bubbles:!0,composed:!0})),Nn(this),this.focusBlurInProgress=!1,LM(),JM.restoreFocusWhenDocumentFocused)){let i=new AbortController,n=i.signal;window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{ph(this)&&this.focus({preventScroll:!0})},{once:!0,signal:n})},{once:!0,signal:n}),document.addEventListener("focusin",()=>i.abort(),{once:!0}),document.addEventListener("click",()=>i.abort(),{once:!0})}}onInput(t){SM(this,t)}onKeystroke(t){return IV(this,t)}onCompositionStart(t){d0(this.model,As(this.model.selection),"insertText");let e=Pv(this.field);e&&requestAnimationFrame(()=>{V1(this),this.keyboardDelegate.moveTo(e.x,e.y-e.height)})}onCompositionUpdate(t){PCe(this.model,t),Nn(this)}onCompositionEnd(t){RCe(this.model),SM(this,t,{simulateKeystroke:!0})}onCut(t){if(!this.isSelectionEditable){this.model.announce("plonk");return}this.model.contentWillChange({inputType:"deleteByCut"})&&(this.stopCoalescingUndo(),t.clipboardData?nn.onCopy(this,t):nn.copyToClipboard(this,"latex"),d0(this.model,As(this.model.selection),"deleteByCut"),this.snapshot("cut"),Nn(this))}onCopy(t){t.clipboardData?nn.onCopy(this,t):nn.copyToClipboard(this,"latex")}onPaste(t){let e=this.isSelectionEditable;return e&&(e=nn.onPaste(this.model.at(this.model.position).mode,this,t.clipboardData)),e||this.model.announce("plonk"),t.preventDefault(),t.stopPropagation(),e}onGeometryChange(){var t;(t=this._menu)==null||t.hide(),oy(this),Sy(this)}onWheel(t){let e=5*t.deltaX;if(!Number.isFinite(e)||e===0)return;let r=this.field;e<0&&r.scrollLeft===0||e>0&&r.offsetWidth+r.scrollLeft>=r.scrollWidth||(r.scrollBy({top:0,left:e}),t.preventDefault(),t.stopPropagation())}getHTMLElement(t){let e=t;for(;!e.id&&e.hasChildren;)e=t.children[0];return this.field.querySelector(`[data-atom-id="${e.id}"]`)}get context(){var t,e;return{registers:(t=this.options.registers)!=null?t:{},smartFence:this.smartFence,letterShapeStyle:this.letterShapeStyle,minFontScale:this.minFontScale,maxMatrixCols:this.maxMatrixCols,placeholderSymbol:(e=this.options.placeholderSymbol)!=null?e:"▢",colorMap:r=>this.colorMap(r),backgroundColorMap:r=>this.backgroundColorMap(r),getMacro:r=>sw(r,this.options.macros),atomIdsSettings:{seed:"random",groupNumbers:!1}}}};uo({speak:(t,e,r)=>xSe(t,e,r)},{target:"mathfield"});function xSe(t,e,r){var i;r=r??{withHighlighting:!1};let{model:n}=t;function a(c){let h=null;switch(c){case"all":h=n.root;break;case"selection":h=n.getAtoms(n.selection);break;case"left":{h=n.getAtoms(n.offsetOf(n.at(n.position).leftSibling),n.position);break}case"right":{h=n.getAtoms(n.position,n.offsetOf(n.at(n.position).rightSibling));break}case"group":h=n.getAtoms(n.getSiblingsRange(n.position));break;case"parent":{let{parent:p}=n.at(n.position);p!=null&&p.parent?h=p:h=n.root;break}default:h=n.root}return h}function s(c){let h="";switch(c){case"all":console.error("Internal failure: speak all failed");break;case"selection":h="no selection";break;case"left":h="at start";break;case"right":h="at end";break;case"group":console.error("Internal failure: speak group failed");break;case"parent":h="no parent";break;default:console.error('unknown speak_ param value: "'+c+'"');break}return h}let o=globalThis.MathfieldElement,l=a(e);if(l===null)return(i=o.speakHook)==null||i.call(o,s(e)),!1;(r.withHighlighting||o.speechEngine==="amazon")&&(o.textToSpeechMarkup=globalThis.sre&&o.textToSpeechRules==="sre"?"ssml_step":"ssml");let u=K1(l);return Al()&&r.withHighlighting?(Mh().readAloudMathfield=t,V1(t,{forHighlighting:!0}),o.readAloudHook&&o.readAloudHook(t.field,u)):o.speakHook&&o.speakHook(u),!1}function wSe(t){var e,r;if(!Al())return;let i=globalThis.MathfieldElement;if(!i.speechEngine||i.speechEngine==="local"){let n=new SpeechSynthesisUtterance(t);globalThis.speechSynthesis.speak(n)}else if(i.speechEngine==="amazon")if(!("AWS"in window))console.error("MathLive 0.104.2: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");else{let n=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),a={OutputFormat:"mp3",VoiceId:(e=i.speechEngineVoice)!=null?e:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes((r=i.speechEngineVoice)!=null?r:"Joanna")?"neural":"standard",Text:t,TextType:"ssml"};n.synthesizeSpeech(a,(s,o)=>{if(s)console.trace(`MathLive 0.104.2: \`polly.synthesizeSpeech()\` error: ${s}`);else if(o!=null&&o.AudioStream){let l=new Uint8Array(o.AudioStream),u=new Blob([l.buffer],{type:"audio/mpeg"}),c=URL.createObjectURL(u);new Audio(c).play().catch(h=>console.error(h))}})}else i.speechEngine==="google"&&console.error("MathLive 0.104.2: The Google speech engine is not supported yet. Please come again.")}function hG(t){if(t&&(t.classList.remove("ML__highlight"),t.children))for(let e of t.children)hG(e)}function QM(t,e){var r;t&&(!e||((r=t.dataset)==null?void 0:r.atomId)===e?(t.classList.add("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(i=>{i instanceof HTMLElement&&QM(i)})):(t.classList.remove("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(i=>{i instanceof HTMLElement&&QM(i,e)})))}function MSe(t,e){var r;if(!Al())return;if(globalThis.MathfieldElement.speechEngine!=="amazon"){console.error("MathLive 0.104.2: Use Amazon TTS Engine for synchronized highlighting"),typeof globalThis.MathfieldElement.speakHook=="function"&&globalThis.MathfieldElement.speakHook(e);return}if(!globalThis.AWS){console.error("MathLive 0.104.2: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");return}let i=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),n={OutputFormat:"json",VoiceId:(r=globalThis.MathfieldElement.speechEngineVoice)!=null?r:"Joanna",Engine:"standard",Text:e,TextType:"ssml",SpeechMarkTypes:["ssml"]};Mh().readAloudElement=t,i.synthesizeSpeech(n,(a,s)=>{if(a){console.trace(`MathLive 0.104.2: \`polly.synthesizeSpeech()\` error: ${a}`);return}if(!(s!=null&&s.AudioStream))return;let o=new TextDecoder("utf-8").decode(new Uint8Array(s.AudioStream));Mh().readAloudMarks=o.split(`
`).map(l=>l?JSON.parse(l):{}),Mh().readAloudTokens=[];for(let l of Mh().readAloudMarks)l.value&&Mh().readAloudTokens.push(l.value);Mh().readAloudCurrentMark="",n.OutputFormat="mp3",n.SpeechMarkTypes=[],i.synthesizeSpeech(n,(l,u)=>{if(l){console.trace(`MathLive 0.104.2: \`polly.synthesizeSpeech("${e}") error:${l}`);return}if(!(u!=null&&u.AudioStream))return;let c=new Uint8Array(u.AudioStream),h=new Blob([c.buffer],{type:"audio/mpeg"}),p=URL.createObjectURL(h),d=Mh();d.readAloudAudio?d.readAloudAudio.pause():(d.readAloudAudio=new Audio,d.readAloudAudio.addEventListener("ended",()=>{let m=d.readAloudMathfield;d.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),m?(V1(m),d.readAloudElement=null,d.readAloudMathfield=null,d.readAloudTokens=[],d.readAloudMarks=[],d.readAloudCurrentMark=""):hG(d.readAloudElement)}),d.readAloudAudio.addEventListener("timeupdate",()=>{let m="",f=d.readAloudAudio.currentTime*1e3+100;for(let v of d.readAloudMarks)v.time<f&&(m=v.value);d.readAloudCurrentMark!==m&&(d.readAloudCurrentToken=m,m&&m===d.readAloudFinalToken?d.readAloudAudio.pause():(d.readAloudCurrentMark=m,QM(d.readAloudElement,d.readAloudCurrentMark)))})),d.readAloudAudio.src=p,d.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),d.readAloudAudio.play()})})}Al()||console.error('MathLive 0.104.2: this version of the MathLive library is for use in the browser. A subset of the API is available on the server side in the "mathlive-ssr" library. If using server side rendering (with React for example) you may want to do a dynamic import of the MathLive library inside a `useEffect()` call.');var Oi=new WeakMap,kSe=.5,wh={letterShapeStyle:"mf.letterShapeStyle = ...",horizontalSpacingScale:'Removed. Use `"thinmuskip"`, `"medmuskip"`, and `"thickmuskip"` registers ',macros:"mf.macros = ...",registers:"mf.registers = ...",backgroundColorMap:"mf.backgroundColorMap = ...",colorMap:"mf.colorMap = ...",enablePopover:"mf.popoverPolicy = ...",mathModeSpace:"mf.mathModeSpace = ...",placeholderSymbol:"mf.placeholderSymbol = ...",readOnly:"mf.readOnly = ...",removeExtraneousParentheses:"mf.removeExtraneousParentheses = ...",scriptDepth:"mf.scriptDepth = ...",smartFence:"mf.smartFence = ...",smartMode:"mf.smartMode = ...",smartSuperscript:"mf.smartSuperscript = ...",inlineShortcutTimeout:"mf.inlineShortcutTimeout = ...",inlineShortcuts:"mf.inlineShortcuts = ...",keybindings:"mf.keybindings = ...",virtualKeyboardMode:"mf.mathVirtualKeyboardPolicy = ...",customVirtualKeyboardLayers:"mathVirtualKeyboard.layers = ...",customVirtualKeyboards:"mathVirtualKeyboard.layouts = ...",keypressSound:"mathVirtualKeyboard.keypressSound = ...",keypressVibration:"mathVirtualKeyboard.keypressVibration = ...",plonkSound:"mathVirtualKeyboard.plonkSound = ...",virtualKeyboardContainer:"mathVirtualKeyboard.container = ...",virtualKeyboardLayout:"mathVirtualKeyboard.alphabeticLayout = ...",virtualKeyboardTheme:"No longer supported",virtualKeyboardToggleGlyph:"No longer supported",virtualKeyboardToolbar:"mathVirtualKeyboard.editToolbar = ...",virtualKeyboards:"Use `mathVirtualKeyboard.layouts`",speechEngine:"`MathfieldElement.speechEngine`",speechEngineRate:"`MathfieldElement.speechEngineRate`",speechEngineVoice:"`MathfieldElement.speechEngineVoice`",textToSpeechMarkup:"`MathfieldElement.textToSpeechMarkup`",textToSpeechRules:"`MathfieldElement.textToSpeechRules`",textToSpeechRulesOptions:"`MathfieldElement.textToSpeechRulesOptions`",readAloudHook:"`MathfieldElement.readAloudHook`",speakHook:"`MathfieldElement.speakHook`",computeEngine:"`MathfieldElement.computeEngine`",fontsDirectory:"`MathfieldElement.fontsDirectory`",soundsDirectory:"`MathfieldElement.soundsDirectory`",createHTML:"`MathfieldElement.createHTML`",onExport:"`mf.onExport`",onInlineShortcut:"`mf.onInlineShortcut`",onScrollIntoView:"`mf.onScrollIntoView`",locale:"MathfieldElement.locale = ...",strings:"MathfieldElement.strings = ...",decimalSeparator:"MathfieldElement.decimalSeparator = ...",fractionNavigationOrder:"MathfieldElement.fractionNavigationOrder = ..."},wa=class _h extends HTMLElement{constructor(e){if(super(),this._observer=null,e){let r=[];for(let i of Object.keys(e))if(wh[i])if(wh[i].startsWith("mf."))if(wh[i].startsWith(`mf.${i}`))r.push(`Option \`${i}\` cannot be used as a constructor option. Use ${wh[i]}`);else{let n=wh[i].match(/([a-zA-Z]+) =/);r.push(`Option \`${i}\` has been renamed \`${n[1]}\``)}else r.push(`Option \`${i}\` cannot be used as a constructor option. Use ${wh[i]}`);if(r.length>0){console.group("%cMathLive 0.104.2: %cInvalid Options","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn("Some of the options passed to `new MathfieldElement(...)` are invalid. \n          See mathfield/changelog/ for details.");for(let i of r)console.warn(i);console.groupEnd()}}if(dm()&&(this._internals=this.attachInternals(),this._internals.role="math",this._internals.ariaLabel="math input field",this._internals.ariaMultiLine="false"),this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot&&"adoptedStyleSheets"in this.shadowRoot){this.shadowRoot.adoptedStyleSheets=[Hd("core"),Hd("mathfield"),Hd("mathfield-element"),Hd("ui"),Hd("menu")],this.shadowRoot.appendChild(document.createElement("span"));let r=document.createElement("slot");r.style.display="none",this.shadowRoot.appendChild(r)}else this.shadowRoot.innerHTML="<style>"+B1("core")+B1("mathfield")+B1("mathfield-element")+B1("ui")+B1("menu")+'</style><span></span><slot style="display:none"></slot>';e&&this._setOptions(e)}static get formAssociated(){return dm()}static get optionsAttributes(){return{"default-mode":"string","letter-shape-style":"string","min-font-scale":"number","max-matrix-cols":"number","popover-policy":"string","math-mode-space":"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","inline-shortcut-timeout":"string","script-depth":"string",placeholder:"string","virtual-keyboard-target-origin":"string","math-virtual-keyboard-policy":"string"}}static get observedAttributes(){return[...Object.keys(this.optionsAttributes),"contenteditable","disabled","readonly","read-only"]}static get fontsDirectory(){return this._fontsDirectory}static set fontsDirectory(e){e!==this._fontsDirectory&&(this._fontsDirectory=e,pCe())}get fontsDirectory(){throw new Error("Use MathfieldElement.fontsDirectory instead")}set fontsDirectory(e){throw new Error("Use MathfieldElement.fontsDirectory instead")}static get soundsDirectory(){return this._soundsDirectory}static set soundsDirectory(e){this._soundsDirectory=e,this.audioBuffers={}}get soundsDirectory(){throw new Error("Use MathfieldElement.soundsDirectory instead")}set soundsDirectory(e){throw new Error("Use MathfieldElement.soundsDirectory instead")}static get keypressSound(){return this._keypressSound}static set keypressSound(e){var r,i,n;this.audioBuffers={},e===null?this._keypressSound={spacebar:null,return:null,delete:null,default:null}:typeof e=="string"?this._keypressSound={spacebar:e,return:e,delete:e,default:e}:typeof e=="object"&&"default"in e&&(this._keypressSound={spacebar:(r=e.spacebar)!=null?r:e.default,return:(i=e.return)!=null?i:e.default,delete:(n=e.delete)!=null?n:e.default,default:e.default})}static get plonkSound(){return this._plonkSound}static set plonkSound(e){this.audioBuffers={},this._plonkSound=e}static get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}static get speechEngine(){return this._speechEngine}static set speechEngine(e){this._speechEngine=e}static get speechEngineRate(){return this._speechEngineRate}static set speechEngineRate(e){this._speechEngineRate=e}static get speechEngineVoice(){return this._speechEngineVoice}static set speechEngineVoice(e){this._speechEngineVoice=e}static get textToSpeechMarkup(){return this._textToSpeechMarkup}static set textToSpeechMarkup(e){this._textToSpeechMarkup=e}static get textToSpeechRules(){return this._textToSpeechRules}static set textToSpeechRules(e){this._textToSpeechRules=e}static get textToSpeechRulesOptions(){return this._textToSpeechRulesOptions}static set textToSpeechRulesOptions(e){this._textToSpeechRulesOptions=e}static get locale(){return Zr.locale}static set locale(e){e==="auto"&&(e=navigator.language.slice(0,5)),Zr.locale=e}get locale(){throw new Error("Use MathfieldElement.locale instead")}set locale(e){throw new Error("Use MathfieldElement.locale instead")}static get strings(){return Zr.strings}static set strings(e){Zr.merge(e)}get strings(){throw new Error("Use MathfieldElement.strings instead")}set strings(e){throw new Error("Use MathfieldElement.strings instead")}static get decimalSeparator(){return this._decimalSeparator}static set decimalSeparator(e){this._decimalSeparator=e,this._computeEngine&&(this._computeEngine.decimalSeparator=this.decimalSeparator===","?"{,}":".")}get decimalSeparator(){throw new Error("Use MathfieldElement.decimalSeparator instead")}set decimalSeparator(e){throw new Error("Use MathfieldElement.decimalSeparator instead")}static get fractionNavigationOrder(){return Yv.fractionNavigationOrder}static set fractionNavigationOrder(e){if(e!=="numerator-denominator"&&e!=="denominator-numerator")throw new Error("Invalid value");Yv.fractionNavigationOrder!==e&&(Yv.fractionNavigationOrder=e,fV())}static get computeEngine(){var e,r;if(this._computeEngine===void 0){let i=(e=window[Symbol.for("io.cortexjs.compute-engine")])==null?void 0:e.ComputeEngine;if(!i)return null;this._computeEngine=new i,this._computeEngine&&this.decimalSeparator===","&&(this._computeEngine.decimalSeparator="{,}")}return(r=this._computeEngine)!=null?r:null}static set computeEngine(e){this._computeEngine=e}get computeEngine(){throw new Error("Use MathfieldElement.computeEngine instead")}set computeEngine(e){throw new Error("Use MathfieldElement.computeEngine instead")}static get isFunction(){return typeof this._isFunction!="function"?()=>!1:this._isFunction}static set isFunction(e){this._isFunction=e,fV()}static async loadSound(e){delete this.audioBuffers[e];let r="";switch(e){case"keypress":r=this._keypressSound.default;break;case"return":r=this._keypressSound.return;break;case"spacebar":r=this._keypressSound.spacebar;break;case"delete":r=this._keypressSound.delete;break;case"plonk":r=this.plonkSound;break}if(typeof r!="string")return;r=r.trim();let i=this.soundsDirectory;if(!(i==null||i==="null"||r==="none"||r==="null"))try{let n=await(await fetch(await pV(`${i}/${r}`))).arrayBuffer(),a=await this.audioContext.decodeAudioData(n);this.audioBuffers[e]=a}catch{}}static async playSound(e){if((this.audioContext.state==="suspended"||this.audioContext.state==="interrupted")&&await this.audioContext.resume(),this.audioBuffers[e]||await this.loadSound(e),!this.audioBuffers[e])return;let r=this.audioContext.createBufferSource();r.buffer=this.audioBuffers[e];let i=this.audioContext.createGain();i.gain.value=kSe,r.connect(i).connect(this.audioContext.destination),r.start()}showMenu(e){var r,i;return(i=(r=this._mathfield)==null?void 0:r.showMenu(e))!=null?i:!1}get mathVirtualKeyboard(){throw new Error("The `mathVirtualKeyboard` property is not available on the MathfieldElement. Use `window.mathVirtualKeyboard` instead.")}onPointerDown(){window.addEventListener("pointerup",e=>{let r=this._mathfield;if(r&&e.target===this&&!r.disabled){this.dispatchEvent(new MouseEvent("click",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey}));let i=this.getOffsetFromPoint(e.clientX,e.clientY);i>=0&&_h.openUrl(RMe(r,i)),e.pointerType==="touch"&&this.selectionIsCollapsed&&(this.position=i)}},{once:!0})}getPromptValue(e,r){var i,n;return(n=(i=this._mathfield)==null?void 0:i.getPromptValue(e,r))!=null?n:""}setPromptValue(e,r,i){var n;(n=this._mathfield)==null||n.setPromptValue(e,r,i)}getPromptRange(e){var r,i;return(i=(r=this._mathfield)==null?void 0:r.getPromptRange(e))!=null?i:null}getPrompts(e){var r,i;return(i=(r=this._mathfield)==null?void 0:r.getPrompts(e))!=null?i:[]}get form(){var e;return(e=this._internals)==null?void 0:e.form}get name(){var e;return(e=this.getAttribute("name"))!=null?e:""}get type(){return this.localName}get mode(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.model.mode)!=null?r:this.defaultMode==="text"?"text":"math"}set mode(e){var r;(r=this._mathfield)==null||r.switchMode(e)}get expression(){if(this._mathfield)return window[Symbol.for("io.cortexjs.compute-engine")]?this._mathfield.expression:(console.error(`MathLive 0.104.2: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`),null)}set expression(e){var r,i;if(!this._mathfield)return;let n=(i=(r=_h.computeEngine)==null?void 0:r.box(e).latex)!=null?i:null;n!==null&&this._mathfield.setValue(n),window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`MathLive 0.104.2: The Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`)}get errors(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.errors)!=null?r:[]}_getOptions(e){return this._mathfield?G1(this._mathfield.options,e):Oi.has(this)?we({},G1(we(we({},fy()),my(Oi.get(this).options)),e)):null}getOptions(e){return console.warn("%cMathLive 0.104.2: %cDeprecated Usage%c\n      `mf.getOptions()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._mathfield?G1(this._mathfield.options,e):Oi.has(this)?G1(we(we({},fy()),my(Oi.get(this).options)),e):null}reflectAttributes(){let e=fy(),r=this._getOptions();Object.keys(_h.optionsAttributes).forEach(i=>{let n=Xu(i);_h.optionsAttributes[i]==="on/off"?e[n]!==r[n]?this.setAttribute(i,r[n]?"on":"off"):this.removeAttribute(i):e[n]!==r[n]&&(_h.optionsAttributes[i]==="boolean"?r[n]?this.setAttribute(i,""):this.removeAttribute(i):(typeof r[n]=="string"||typeof r[n]=="number")&&this.setAttribute(i,r[n].toString()))})}getOption(e){return console.warn("%cMathLive 0.104.2: %cDeprecated Usage%c\n      `mf.getOption()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._getOptions([e])[e]}_getOption(e){return this._getOptions([e])[e]}_setOptions(e){if(this._mathfield)this._mathfield.setOptions(e);else if(Oi.has(this)){let r=we(we({},Oi.get(this).options),e);Oi.set(this,je(we({},Oi.get(this)),{selection:{ranges:r.readOnly?[[0,0]]:[[0,-1]]},options:r}))}else Oi.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:e,menuItems:void 0});this.reflectAttributes()}setOptions(e){console.group("%cMathLive 0.104.2: %cDeprecated Usage","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn(" `mf.setOptions()` is deprecated. Set the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.");for(let r of Object.keys(e))wh[r]&&console.warn(`\`mf.setOptions({${r}:...})\` -> ${wh[r]}`);console.groupEnd(),this._setOptions(e)}executeCommand(...e){var r,i;let n;if(e.length===1?n=e[0]:n=[e[0],...e.slice(1)],n)return(i=(r=this._mathfield)==null?void 0:r.executeCommand(n))!=null?i:!1;throw new Error("Invalid selector")}getValue(e,r,i){var n,a;if(this._mathfield)return this._mathfield.model.getValue(e,r,i);if(Oi.has(this)){let s,o,l;if(Ov(e)?([s,o]=e.ranges[0],l=r):Bv(e)?([s,o]=e,l=r):hh(e)&&hh(r)?(s=e,o=r,l=i):(s=0,o=-1,l=e),(l===void 0||l==="latex")&&s===0&&o===-1)return(a=(n=Oi.get(this).value)!=null?n:this.textContent)!=null?a:""}return""}setValue(e,r){if(this._mathfield&&e!==void 0){if(this._mathfield.model.getValue()===e)return;r!=null||(r={silenceNotifications:!0,mode:"math"}),this._mathfield.setValue(e,r);return}if(Oi.has(this)){let n=Oi.get(this).options;Oi.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:n,menuItems:void 0});return}let i=Ty(this);Oi.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:i,menuItems:void 0})}hasFocus(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.hasFocus())!=null?r:!1}focus(){var e;(e=this._mathfield)==null||e.focus()}blur(){var e;(e=this._mathfield)==null||e.blur()}select(){var e;(e=this._mathfield)==null||e.select()}insert(e,r){var i,n;return(n=(i=this._mathfield)==null?void 0:i.insert(e,r))!=null?n:!1}applyStyle(e,r){var i;return(i=this._mathfield)==null?void 0:i.applyStyle(e,r)}queryStyle(e){var r,i;return(i=(r=this._mathfield)==null?void 0:r.queryStyle(e))!=null?i:"none"}getOffsetFromPoint(e,r,i){return this._mathfield?My(this._mathfield,e,r,i):-1}getElementInfo(e){return LU(this._mathfield,e)}resetUndo(){var e;(e=this._mathfield)==null||e.resetUndo()}canUndo(){return this._mathfield?this._mathfield.canUndo():!1}canRedo(){return this._mathfield?this._mathfield.canRedo():!1}handleEvent(e){var r,i,n,a,s,o;if(h0.state!=="closed"||((i=(r=this._mathfield)==null?void 0:r.menu)==null?void 0:i.state)!=="closed"||(e.type==="pointerdown"&&this.onPointerDown(),e.type==="focus"&&((n=this._mathfield)==null||n.focus()),e.type!=="blur"))return;let l=pR();l&&(a=window==null?void 0:window.mathVirtualKeyboard)!=null&&a.visible||((s=h0.scrim)==null?void 0:s.state)!=="closed"||l&&Rwe()||(o=this._mathfield)==null||o.blur()}connectedCallback(){var e,r,i,n;let a=this.shadowRoot,s=a.host,o=window.getComputedStyle(this).userSelect!=="none";if(o)s.addEventListener("pointerdown",this,!0);else{let c=a.querySelector("span");c.style.pointerEvents="none"}s.addEventListener("focus",this,!0),s.addEventListener("blur",this,!0),this._observer=new MutationObserver(()=>{var c;this.value=(c=this.textContent)!=null?c:""}),this._observer.observe(this,{childList:!0,characterData:!0,subtree:!0}),dm()||(this.hasAttribute("role")||this.setAttribute("role","math"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("aria-multiline","false")),o&&!this.hasAttribute("contenteditable")&&this.setAttribute("contenteditable","true"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");let l=a.querySelector("slot:not([name])");if(l)try{this._style=l.assignedElements().filter(c=>c.tagName.toLowerCase()==="style").map(c=>c.textContent).join("")}catch(c){console.error(c)}if(this._style){let c=document.createElement("style");c.textContent=this._style,a.appendChild(c)}let u="";if(this.hasAttribute("value")?u=this.getAttribute("value"):u=(e=l==null?void 0:l.assignedNodes().map(c=>c.nodeType===3?c.textContent:"").join("").trim())!=null?e:"",this._mathfield=new bSe(a.querySelector(":host > span"),je(we({},(i=(r=Oi.get(this))==null?void 0:r.options)!=null?i:Ty(this)),{eventSink:this,value:u})),!Oi.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(let c of Object.keys(_h.optionsAttributes))this.upgradeProperty(Xu(c))}if(!((n=this._mathfield)!=null&&n.model)){this._mathfield=null;return}if(Oi.has(this)){let c=this._mathfield,h=Oi.get(this),p=h.menuItems;c.model.deferNotifications({content:!1,selection:!1},()=>{let d=h.value;d!==void 0&&c.setValue(d),c.model.selection=h.selection,Oi.delete(this)}),p&&(this.menuItems=p)}window.queueMicrotask(()=>{this.isConnected&&this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))}),ly()}disconnectedCallback(){var e,r,i;if(this.shadowRoot.host.removeEventListener("pointerdown",this,!0),!this._mathfield)return;(e=this._observer)==null||e.disconnect(),this._observer=null,window.queueMicrotask(()=>this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})));let n=G1(this._mathfield.options,Object.keys(_h.optionsAttributes).map(a=>Xu(a)));Oi.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,menuItems:(i=(r=this._mathfield.menu)==null?void 0:r.menuItems)!=null?i:void 0,options:n}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(e){if(this.hasOwnProperty(e)){let r=this[e];delete this[e],(e==="readonly"||e==="read-only")&&(e="readOnly"),this[e]=r}}attributeChangedCallback(e,r,i){if(r===i)return;let n=i!==null;switch(e){case"contenteditable":Nn(this._mathfield);break;case"placeholder":i===!1&&(i=""),this.placeholder=i;break;case"disabled":this.disabled=n;break;case"read-only":case"readonly":this.readOnly=n;break}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(e){let r=!!e;r?(this.setAttribute("readonly",""),dm()?this._internals.ariaReadOnly="true":this.setAttribute("aria-readonly","true"),this.setAttribute("aria-readonly","true")):(dm()?this._internals.ariaReadOnly="false":this.removeAttribute("aria-readonly"),this.removeAttribute("readonly"),this.removeAttribute("read-only")),this._setOptions({readOnly:r})}get disabled(){return this.hasAttribute("disabled")}set disabled(e){var r;let i=!!e;i?this.setAttribute("disabled",""):this.removeAttribute("disabled"),dm()?this._internals.ariaDisabled=i?"true":"false":this.setAttribute("aria-disabled",i?"true":"false"),i&&(r=this._mathfield)!=null&&r.hasFocus&&window.mathVirtualKeyboard.visible&&this._mathfield.executeCommand("hideVirtualKeyboard")}get value(){return this.getValue()}set value(e){this.setValue(e)}get defaultMode(){return this._getOption("defaultMode")}set defaultMode(e){this._setOptions({defaultMode:e})}get macros(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("macros")}set macros(e){this._setOptions({macros:e})}get registers(){if(!this._mathfield)throw new Error("Mathfield not mounted");let e=this;return new Proxy({},{get:(r,i)=>{if(typeof i=="string")return e._getOption("registers")[i]},set(r,i,n){return typeof i!="string"?!1:(e._setOptions({registers:je(we({},e._getOption("registers")),{[i]:n})}),!0)},ownKeys:()=>Reflect.ownKeys(e._getOption("registers")),getOwnPropertyDescriptor:(r,i)=>{let n=e._getOption("registers")[i];if(n!==void 0)return{configurable:!0,enumerable:!0,value:n,writable:!0}}})}set registers(e){this._setOptions({registers:e})}get colorMap(){return this._getOption("colorMap")}set colorMap(e){this._setOptions({colorMap:e})}get backgroundColorMap(){return this._getOption("backgroundColorMap")}set backgroundColorMap(e){this._setOptions({backgroundColorMap:e})}get letterShapeStyle(){return this._getOption("letterShapeStyle")}set letterShapeStyle(e){this._setOptions({letterShapeStyle:e})}get minFontScale(){return this._getOption("minFontScale")}set minFontScale(e){this._setOptions({minFontScale:e})}get maxMatrixCols(){return this._getOption("maxMatrixCols")}set maxMatrixCols(e){this._setOptions({maxMatrixCols:e})}get smartMode(){return this._getOption("smartMode")}set smartMode(e){this._setOptions({smartMode:e})}get smartFence(){return this._getOption("smartFence")}set smartFence(e){this._setOptions({smartFence:e})}get smartSuperscript(){return this._getOption("smartSuperscript")}set smartSuperscript(e){this._setOptions({smartSuperscript:e})}get scriptDepth(){return this._getOption("scriptDepth")}set scriptDepth(e){this._setOptions({scriptDepth:e})}get removeExtraneousParentheses(){return this._getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(e){this._setOptions({removeExtraneousParentheses:e})}get mathModeSpace(){return this._getOption("mathModeSpace")}set mathModeSpace(e){this._setOptions({mathModeSpace:e})}get placeholderSymbol(){return this._getOption("placeholderSymbol")}set placeholderSymbol(e){this._setOptions({placeholderSymbol:e})}get placeholder(){var e;return(e=this.getAttribute("placeholder"))!=null?e:""}set placeholder(e){var r;typeof e=="string"&&((r=this._mathfield)==null||r.setOptions({contentPlaceholder:e}))}get popoverPolicy(){return this._getOption("popoverPolicy")}set popoverPolicy(e){this._setOptions({popoverPolicy:e})}get environmentPopoverPolicy(){return this._getOption("environmentPopoverPolicy")}set environmentPopoverPolicy(e){this._setOptions({environmentPopoverPolicy:e})}get menuItems(){var e;if(!this._mathfield)throw new Error("Mathfield not mounted");return(e=this._mathfield.menu._menuItems.map(r=>r.menuItem))!=null?e:[]}set menuItems(e){var r;if(!this._mathfield)throw new Error("Mathfield not mounted");if(this._mathfield){let i=(r=this._mathfield.element)==null?void 0:r.querySelector("[part=menu-toggle]");i&&(i.style.display=e.length===0?"none":""),this._mathfield.menu.menuItems=e}}get mathVirtualKeyboardPolicy(){return this._getOption("mathVirtualKeyboardPolicy")}set mathVirtualKeyboardPolicy(e){this._setOptions({mathVirtualKeyboardPolicy:e})}get inlineShortcuts(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("inlineShortcuts")}set inlineShortcuts(e){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({inlineShortcuts:e})}get inlineShortcutTimeout(){return this._getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(e){this._setOptions({inlineShortcutTimeout:e})}get keybindings(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("keybindings")}set keybindings(e){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({keybindings:e})}get onInsertStyle(){let e=this._getOption("onInsertStyle");return e===void 0?mM:e}set onInsertStyle(e){this._setOptions({onInsertStyle:e})}get onInlineShortcut(){return this._getOption("onInlineShortcut")}set onInlineShortcut(e){this._setOptions({onInlineShortcut:e})}get onScrollIntoView(){return this._getOption("onScrollIntoView")}set onScrollIntoView(e){this._setOptions({onScrollIntoView:e})}get onExport(){return this._getOption("onExport")}set onExport(e){this._setOptions({onExport:e})}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOptions({readOnly:e})}get isSelectionEditable(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.isSelectionEditable)!=null?r:!1}setPromptState(e,r,i){var n;(n=this._mathfield)==null||n.setPromptState(e,r,i)}getPromptState(e){var r,i;return(i=(r=this._mathfield)==null?void 0:r.getPromptState(e))!=null?i:[void 0,!0]}get virtualKeyboardTargetOrigin(){return this._getOption("virtualKeyboardTargetOrigin")}set virtualKeyboardTargetOrigin(e){this._setOptions({virtualKeyboardTargetOrigin:e})}get selection(){return this._mathfield?this._mathfield.model.selection:Oi.has(this)?Oi.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(e){if(typeof e=="number"&&(e={ranges:[[e,e]]}),this._mathfield){this._mathfield.model.selection=e,Nn(this._mathfield);return}if(Oi.has(this)){Oi.set(this,je(we({},Oi.get(this)),{selection:e}));return}Oi.set(this,{value:void 0,selection:e,options:Ty(this),menuItems:void 0})}get selectionIsCollapsed(){let e=this.selection;return e.ranges.length===1&&e.ranges[0][0]===e.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:Oi.has(this)?Oi.get(this).selection.ranges[0][0]:0}set position(e){if(this._mathfield&&(this._mathfield.model.position=e,Nn(this._mathfield)),Oi.has(this)){Oi.set(this,je(we({},Oi.get(this)),{selection:{ranges:[[e,e]]}}));return}Oi.set(this,{value:void 0,selection:{ranges:[[e,e]]},options:Ty(this),menuItems:void 0})}get lastOffset(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.model.lastOffset)!=null?r:-1}};wa.version="0.104.2",wa.openUrl=t=>{if(!t)return;let e=new URL(t);if(!["http:","https:","file:"].includes(e.protocol.toLowerCase())){wa.playSound("plonk");return}window.open(e,"_blank")},wa._fontsDirectory="./fonts",wa._soundsDirectory="./sounds",wa.keypressVibration=!0,wa._keypressSound={spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},wa._plonkSound="plonk.wav",wa.audioBuffers={},wa.createHTML=t=>t,wa._speechEngineRate="100%",wa._speechEngineVoice="Joanna",wa._textToSpeechMarkup="",wa._textToSpeechRules="mathlive",wa._textToSpeechRulesOptions={},wa.speakHook=wSe,wa.readAloudHook=MSe,wa.restoreFocusWhenDocumentFocused=!0,wa._decimalSeparator=".",wa._isFunction=t=>{var e,r;let i=globalThis.MathfieldElement.computeEngine;return(r=(e=i==null?void 0:i.parse(t).domain)==null?void 0:e.isFunction)!=null?r:!1};var Q1=wa;function Xu(t){return t.replace(/[^a-zA-Z\d]+(.)/g,(e,r)=>r.toUpperCase())}function Ty(t){let e={readOnly:!1},r=Q1.optionsAttributes;return Object.keys(r).forEach(i=>{var n;if(t.hasAttribute(i)){let a=t.getAttribute(i);i==="placeholder"?e.contentPlaceholder=a??"":r[i]==="boolean"?e[Xu(i)]=!0:r[i]==="on/off"?(a=(n=a==null?void 0:a.toLowerCase())!=null?n:"",a==="on"||a==="true"?e[Xu(i)]=!0:a==="off"||a==="false"?e[Xu(i)]=!1:e[Xu(i)]=void 0):r[i]==="number"?e[Xu(i)]=Number.parseFloat(a??"0"):e[Xu(i)]=a}}),e}function dm(){return!(!("ElementInternals"in window)||!HTMLElement.prototype.attachInternals||!("role"in window.ElementInternals.prototype))}var JM=Q1,pG,dG,mG;if(Al()&&!((pG=window.customElements)!=null&&pG.get("math-field"))){window[dG=Symbol.for("io.cortexjs.mathlive")]!=null||(window[dG]={});let t=window[Symbol.for("io.cortexjs.mathlive")];t.version="0.104.2",globalThis.MathfieldElement=Q1,(mG=window.customElements)==null||mG.define("math-field",Q1)}function CSe(t,e,r){let i=r,n=0,a=t.length;for(;i<e.length;){let s=e[i];if(n<=0&&e.slice(i,i+a)===t)return i;s==="\\"?i++:s==="{"?n++:s==="}"&&n--,i++}return-1}function Ly(t,e,r,i,n="latex"){let a=[];for(let s of t)if(s.type==="text"){let o=s.data,l=!0,u=0,c;c=o.indexOf(e),c!==-1&&(u=c,u>0&&a.push({type:"text",data:o.slice(0,u)}),l=!1);let h=!1;for(;!h;){if(l){if(c=o.indexOf(e,u),c===-1){h=!0;break}u!==c&&a.push({type:"text",data:o.slice(u,c)}),u=c}else{if(c=CSe(r,o,u+e.length),c===-1){h=!0;break}let p=o.slice(u+e.length,c);n==="ascii-math"&&([,p]=Fv(p,{format:"ascii-math"})),a.push({type:"math",data:p,mathstyle:i}),u=c+r.length}l=!l}u<o.length&&a.push({type:"text",data:o.slice(u)})}else a.push(s);return a}function fG(t,e){var r,i,n,a,s,o,l,u;let c=[{type:"text",data:t}];return(i=(r=e.TeX)==null?void 0:r.delimiters)!=null&&i.display&&e.TeX.delimiters.display.forEach(([h,p])=>{c=Ly(c,h,p,"displaystyle")}),(a=(n=e.TeX)==null?void 0:n.delimiters)!=null&&a.inline&&e.TeX.delimiters.inline.forEach(([h,p])=>{c=Ly(c,h,p,"textstyle")}),(o=(s=e.asciiMath)==null?void 0:s.delimiters)!=null&&o.inline&&e.asciiMath.delimiters.inline.forEach(([h,p])=>{c=Ly(c,h,p,"textstyle","ascii-math")}),(u=(l=e.asciiMath)==null?void 0:l.delimiters)!=null&&u.display&&e.asciiMath.delimiters.display.forEach(([h,p])=>{c=Ly(c,h,p,"displaystyle","ascii-math")}),c}function NSe(t,e){let r=document.createElement("span");r.setAttribute("translate","no");try{let i="<math xmlns='http://www.w3.org/1998/Math/MathML'>"+e.renderToMathML(t)+"</math>";r.innerHTML=globalThis.MathfieldElement.createHTML(i)}catch(i){console.error(`MathLive 0.104.2:  Could not convert "${t}"' to MathML with ${i}`),r.textContent=t}return r.className="ML__sr-only",r}function SSe(t,e,r){try{let i=e.renderToMarkup(t,je(we({},e),{defaultMode:r==="displaystyle"?"math":"inline-math"})),n=document.createElement("span");return n.dataset.latex=t,n.style.display=r==="displaystyle"?"flex":"inline-flex",n.setAttribute("aria-hidden","true"),n.setAttribute("translate","no"),n.innerHTML=globalThis.MathfieldElement.createHTML(i),n}catch(i){return console.error("Could not parse'"+t+"' with ",i),document.createTextNode(t)}}function K2(t,e,r){var i;let n=SSe(t,r,e||"textstyle"),a=(i=r.renderAccessibleContent)!=null?i:"";if(/\b(mathml|speakable-text)\b/i.test(a)){let s=document.createElement("span");if(/\bmathml\b/i.test(a)&&r.renderToMathML&&s.append(NSe(t,r)),/\bspeakable-text\b/i.test(a)&&r.renderToSpeakableText){let o=document.createElement("span");o.setAttribute("translate","no");let l=r.renderToSpeakableText(t);o.innerHTML=globalThis.MathfieldElement.createHTML(l),o.className="ML__sr-only",s.append(o)}return s.append(n),s}return n}function DSe(t,e){var r;if(/^\s*$/.test(t))return null;if((r=e.TeX)!=null&&r.processEnvironments&&/^\s*\\begin/.test(t))return[K2(t,"",e)];let i=fG(t,e);if(i.length===1&&i[0].type==="text")return null;let n=[];for(let a of i)a.type==="text"?n.push(a.data):n.push(K2(a.data,a.mathstyle==="textstyle"?"textstyle":"displaystyle",e));return n}function gG(t,e){var r,i,n,a,s,o,l,u,c,h,p,d,m,f,v,y,x,g;if(t.childNodes.length===1&&t.childNodes[0].nodeType===3){let k=(r=t.childNodes[0].textContent)!=null?r:"";if((i=e.TeX)!=null&&i.processEnvironments&&/^\s*\\begin/.test(k)){t.textContent="",t.append(K2(k,"",e));return}let w=fG(k,e);if(w.length===1){let N=w[0];if(N.type==="text")return;t.textContent="",t.append(K2(N.data,N.mathstyle==="textstyle"?"textstyle":"displaystyle",e));return}}let b=[...t.childNodes];for(let k of b)if(k.nodeType===3){let w=DSe((n=k.textContent)!=null?n:"",e);w&&k.replaceWith(...w)}else if(k.nodeType===1){let w=k.nodeName.toLowerCase();if(w==="script"){let N=k,A=N.type.toLowerCase();if(A==="module"||A==="javascript")continue;let $;if((a=e.processScriptTypePattern)!=null&&a.test(A))$=(s=N.textContent)!=null?s:"";else if((o=e.processMathJSONScriptTypePattern)!=null&&o.test(A))try{$=(u=e.serializeToLatex)==null?void 0:u.call(e,JSON.parse((l=N.textContent)!=null?l:""))}catch(D){console.error(D)}if($){let D="textstyle";for(let _ of A.split(";")){let[T,z]=_.split("=");T.trim()==="mode"&&(D=z.trim()==="display"?"displaystyle":"textstyle")}ek(N,$,D,e)}}else{let N=k;if((c=e.texClassDisplayPattern)!=null&&c.test(N.className)){ek(N,(h=N.textContent)!=null?h:"","displaystyle",e);continue}if((p=e.texClassInlinePattern)!=null&&p.test(N.className)){ek(N,(d=N.textContent)!=null?d:"","textstyle",e);continue}((f=(m=e.processClassPattern)==null?void 0:m.test(N.className))!=null&&f||!((y=(v=e.skipTags)==null?void 0:v.includes(w))!=null&&y||(g=(x=e.ignoreClassPattern)==null?void 0:x.test(N.className))!=null&&g))&&gG(N,e)}}}var ASe={skipTags:["math-field","noscript","style","textarea","pre","code","annotation","annotation-xml"],processScriptType:"math/tex",processMathJSONScriptType:"math/json",ignoreClass:"^(tex2jax_ignore|ML__latex)$",processClass:"tex2jax_process",renderAccessibleContent:"mathml",asciiMath:{delimiters:{inline:["`","`"]}},TeX:{processEnvironments:!0,delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"],["\\[","\\]"]]}}};function $Se(t,e){var r,i,n,a,s,o,l,u;try{let c=we(we({},ASe),e);c.ignoreClassPattern=new RegExp((r=c.ignoreClass)!=null?r:""),c.processClassPattern=new RegExp((i=c.processClass)!=null?i:""),c.processScriptTypePattern=new RegExp((n=c.processScriptType)!=null?n:""),c.processMathJSONScriptTypePattern=new RegExp((a=c.processMathJSONScriptType)!=null?a:""),(o=(s=c.TeX)==null?void 0:s.className)!=null&&o.display&&(c.texClassDisplayPattern=new RegExp(c.TeX.className.display)),(u=(l=c.TeX)==null?void 0:l.className)!=null&&u.inline&&(c.texClassInlinePattern=new RegExp(c.TeX.className.inline)),ly(),Wu("core"),gG(t,c)}catch(c){c instanceof Error?console.error("renderMathInElement(): "+c.message):console.error("renderMathInElement(): Could not render math for element",t)}}function ek(t,e,r,i){t.parentNode.replaceChild(K2(e,r,i),t)}function _Se(t,e){let r=gh.singleton;return r?(r.show(),rm(),r.currentLayer=e,r.render(),r.focus(),!0):!1}function ESe(){let t=window.mathVirtualKeyboard;return t.visible?t.hide({animate:!0}):t.show({animate:!0}),!1}uo({switchKeyboardLayer:_Se,toggleVirtualKeyboard:ESe,hideVirtualKeyboard:()=>(window.mathVirtualKeyboard.hide({animate:!0}),!1),showVirtualKeyboard:()=>(window.mathVirtualKeyboard.show({animate:!0}),!1)},{target:"virtual-keyboard"});function Mh(){var t;return globalThis[t=Symbol.for("io.cortexjs.mathlive")]!=null||(globalThis[t]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}function ISe(t){if(typeof t=="string"){let e=document.getElementById(t);if(e===null)throw new Error(`The element with ID "${t}" could not be found.`);return e}return t}function vG(t,e){if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",()=>vG(t));return}let r=ISe(t);if(!r)return;let i={};i.renderToMarkup!=null||(i.renderToMarkup=xa),i.renderToMathML!=null||(i.renderToMathML=VNe),i.renderToSpeakableText!=null||(i.renderToSpeakableText=GNe),i.serializeToLatex!=null||(i.serializeToLatex=ZNe),$Se(r,i)}function yG(...t){for(const e of t)if(e!=null)for(;(e==null?void 0:e.lastChild)!=null;)e.removeChild(e.lastChild)}function TSe(t,e){t.innerHTML=`$$${e}$$`,vG(t);const r=t.querySelectorAll("span");r.length>2&&(r[2].style.display="none")}function tk(t,e){if(e!=null)if(typeof e=="object"){if("latex"in e)TSe(t,e.latex??"");else if("image"in e){const r=document.createElement("img");r.src=e.image??e.value,r.style.width="30px",r.style.height="30px",t.appendChild(r)}else if("label"in e){const r=document.createElement("span");r.innerHTML=e.label??e.value,t.appendChild(r)}else if("svg"in e){const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox","-10 -10 20 20"),r.classList.add("svgChoice"),r.style.display="block",r.style.width="20px",r.style.height="20px",r.style.verticalAlign="middle",r.innerHTML=e.svg??"",t.appendChild(r)}}else throw Error(`Type de choix inconnu : ${e}`)}class rk{constructor(e,{choix0:r}={choix0:!1}){if(this.disabled=!1,this._kbIndex=-1,this.changed=!1,this._offset=0,this.reponse="",this._elts=[],arguments.length>2)throw Error("nombre d’arguments invalides");if(!Array.isArray(e))throw Error("Il faut passer une liste de choix");this.disabled=!1,this.choices=[...e],this.givenChoices=[...e],this._kbIndex=-1,this.changed=!1,this._offset=r?0:1,this.reponse="",this._elts=[]}_init({conteneur:e,sansFleche:r,select:i}={sansFleche:!1,select:0}){var a;if(!e)throw Error("Le conteneur est obligatoire pour la liste déroulante !");this.container=e,this.container.classList.add("listeDeroulante");const n="˅";if(this.spanSelected=document.createElement("span"),this.container.appendChild(this.spanSelected),this.spanSelected.className="currentChoice",this.spanSelected.role="listbox",this.spanSelected.tabIndex=0,this._clickListener=s=>{s==null||s.stopPropagation(),this.toggle()},this.container.onclick=this._clickListener,this._keydownListener=s=>{const{code:o,key:l}=s;o==="Tab"||l==="Tab"?this.hide():o==="ArrowDown"||l==="ArrowDown"?(s.preventDefault(),this._kbIndex<this.choices.length-1&&(this._kbIndex++,this.isVisible()||this.show(),this._kbSelect())):o==="ArrowUp"||l==="ArrowUp"?(s.preventDefault(),this._kbIndex===-1&&(this._kbIndex=this.choices.length),this._kbIndex>0&&(this._kbIndex--,this.isVisible()||this.show(),this._kbSelect())):(o==="Space"||l==="Space"||o==="Enter"||l==="Enter")&&(this.isVisible()?this.select(this._kbIndex,{withoutOffset:!0}):this.show())},!r){const s=document.createElement("span");s.className="trigger",s.textContent=n,this._clickListener&&(s.onclick=this._clickListener),this.container.appendChild(s)}this.ulContainer=document.createElement("ul"),this.container.appendChild(this.ulContainer),this.initialChoice=this._offset?this.choices.shift():this.choices[0];for(const[s,o]of this.choices.entries()){const l=document.createElement("li");l.role="option",(a=this.ulContainer)==null||a.appendChild(l),tk(l,o),l.addEventListener("click",u=>{u.stopPropagation(),this.select(s,{withoutOffset:!0})}),this._elts.push(l)}this.show(),this.hide(),this.spanSelected.addEventListener("keydown",this._keydownListener),document.body.addEventListener("click",({target:s})=>{let o=s;for(;o&&o instanceof HTMLElement;){if(o.classList.contains("listeDeroulante"))return;o=o.parentElement}this.hide()}),i?this.select(i):this._offset===0?this.select(0):this.reset(),this._replace()}focus(){this.spanSelected&&this.spanSelected.focus()}_replace(){var e;if(this.container){const r=this.container.offsetHeight,i=((e=this.spanSelected)==null?void 0:e.offsetWidth)??0;this.ulContainer&&(this.ulContainer.style.top=`${r}px`,this.ulContainer.style.left=`${i-(this.width??0)}px`)}}reset(){this.hide(),this.spanSelected&&(yG(this.spanSelected),tk(this.spanSelected,this.initialChoice),this.spanSelected.style.fontStyle="italic",this.spanSelected.style.color="Grey",this._kbIndex=-1,this.reponse="",this.changed=!1,this._replace())}select(e,{withoutOffset:r}={}){if(this.spanSelected!=null){if(this.disabled)return;if(this.spanSelected.style.fontStyle="",this.spanSelected.style.color="",!Number.isInteger(e))return Error(`index non entier : ${e}`);const i=r?e:e-this._offset;if(i<0||i>=this.choices.length)return console.error(r?`index invalide : ${e} non compris entre 0 et ${this.choices.length-1}`:`index invalide : ${e} non compris entre ${this._offset} et ${this.choices.length-1+this._offset}`);yG(this.spanSelected);const n=this.choices[i];if(tk(this.spanSelected,n),this.reponse=String(typeof n=="string"?n:typeof n=="object"?n==null?void 0:n.value:"undefined"),this.reponse==="undefined")throw Error(`Un problème avec la valeur de ce choix : ${n}`);this.changed=!0,this._kbIndex=e;for(const[a,s]of this._elts.entries())a===e?s.classList.add("selected"):s.classList.remove("selected");this._replace(),this.focus(),this.hide()}}_kbSelect(){for(const[e,r]of this._elts.entries())this._kbIndex===e?r.classList.add("selected"):r.classList.remove("selected")}hide(){this.ulContainer&&this.ulContainer.classList.remove("visible")}show(){var e;if(!this.disabled){for(const r of document.querySelectorAll(".listeDeroulante ul.visible"))r.classList.remove("visible");this.ulContainer&&this.ulContainer.classList.add("visible"),this.width||(this.width=(e=this.ulContainer)==null?void 0:e.offsetWidth,this._replace()),this.focus()}}toggle(){this.disabled||(this.isVisible()?this.hide():this.show())}isVisible(){return this.ulContainer?this.ulContainer.classList.contains("visible"):!1}getSelectedIndex(){return this._kbIndex}static create(e,r,{choix0:i,sansFleche:n,select:a}={choix0:!1,sansFleche:!1,select:0}){const s=new rk(r,{choix0:i});if(!e)throw Error("Impossible de créer la liste déroulante, pas de conteneur");return s._init({conteneur:e,sansFleche:n,select:a}),s}}class LSe extends HTMLElement{constructor(){super(),this._choices=[],this.attachShadow({mode:"open"})}static get observedAttributes(){return["choices"]}attributeChangedCallback(e,r,i){e==="choices"&&r!==i&&this.render()}connectedCallback(){this.render()}set choices(e){this._choices=e,this.render()}get choices(){return this._choices}render(){this.shadowRoot&&(this.shadowRoot.innerHTML="");const e=document.createElement("style");e.textContent=`
span.listeDeroulante {
  position: relative;
  display: inline-flex;
  align-items: center;
  background: #fff;
  color: #333;
  border: 1px solid #d1d5db; /* gris clair moderne */
  border-radius: 0.5rem;
  font-size: 0.95rem;
  line-height: 1.5;
  transition: all 0.2s ease;
  cursor: pointer;
  padding: 2px 6px;
}

span.listeDeroulante:hover {
  border-color: #3b82f6; /* bleu Tailwind */
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}

span.listeDeroulante span.currentChoice {
  display: flex;
  align-items: center;
  padding: 6px 10px;
  outline: none;
}

span.listeDeroulante .trigger {
  margin-left: auto;
  padding: 6px 8px;
  font-weight: bold;
  font-size: 0.9em;
  color: #6b7280; /* gris neutre */
  border-left: 1px solid #e5e7eb;
  transition: color 0.2s ease;
}

span.listeDeroulante .trigger:hover {
  color: #111827; /* noir doux */
}

span.listeDeroulante .ok {
  color: #10b981; /* vert moderne */
}

span.listeDeroulante .ko {
  color: #ef4444; /* rouge moderne */
}

/* Liste déroulante */
span.listeDeroulante ul {
  position: absolute;
  top: 100%;
  left: 0;
  width: max-content;
  min-width: 100%;
  background: #fff;
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  margin: 4px 0 0 0;
  padding: 4px 0;
  display: none;
  z-index: 100;
  box-shadow: 0 6px 16px rgba(0,0,0,0.12);
  animation: fadeIn 0.15s ease-out;
}

span.listeDeroulante ul.visible {
  display: block;
}

span.listeDeroulante ul li {
  display: flex;
  align-items: center;
  list-style-type: none;
  padding: 8px 12px;
  cursor: pointer;
  font-size: 0.95rem;
  color: #111827;
  background: #fff;
  transition: background 0.2s ease, color 0.2s ease;
  border: none;
}

span.listeDeroulante ul li:hover {
  background: #f3f4f6;
  color: #1d4ed8; /* bleu accent */
}

span.listeDeroulante ul li.selected {
  background: #e0f2fe;
  color: #0284c7;
  font-weight: 500;
}

span.listeDeroulante.disabled {
  cursor: not-allowed;
  background: #f9fafb;
  border-color: #e5e7eb;
  color: #9ca3af;
}

span.listeDeroulante.disabled .trigger {
  color: #d1d5db;
}

span.listeDeroulante.disabled span.currentChoice {
  pointer-events: none;
}

span.listeDeroulante math-field {
  pointer-events: none;
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
  padding: 0 !important;
}

span.listeDeroulante ul li svg.svgChoice {
  width: 1.2em;
  height: 1.2em;
  margin-right: 6px;
  flex-shrink: 0;
  fill: currentColor;
}

/* Animation d'apparition */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
`,this.shadowRoot.appendChild(e);const r=document.createElement("span");this.shadowRoot.appendChild(r);let i=this.choices;if(!i.length&&this.hasAttribute("choices"))try{const a=decodeURIComponent(this.getAttribute("choices"));i=JSON.parse(a)}catch{i=[]}const n=this.hasAttribute("choix0")?this.getAttribute("choix0")!=="false":!1;this._listeDeroulante=new rk(i,{choix0:n}),this._listeDeroulante._init({conteneur:r})}get value(){var e;return((e=this._listeDeroulante)==null?void 0:e.reponse)??""}set value(e){this._listeDeroulante&&this._listeDeroulante.select(this._listeDeroulante.choices.findIndex(r=>r.value===e)+this._listeDeroulante._offset)}}customElements.define("liste-deroulante",LSe);function mm(t,e,r,i={}){const n=new URL(window.location.href);if(t.formatInteractif==="qcm")return;let a=i==null?void 0:i.formatInteractif,s=i==null?void 0:i.precision,o=i==null?void 0:i.signe;a===void 0&&(a="calcul");let l;if(n.hostname==="localhost"&&n.searchParams.has("triche")&&console.info(`Réponses de l'exercice ${(t.numeroExercice??0)+1} - question ${e+1} : `,r),typeof r=="object"&&(a==="tableauMathlive"||a==="fillInTheBlank"))throw Error("setReponse ne doit pas être utilisé pour tableauMathlive ni fillInTheBlank, il faut utiliser handleAnswers");Array.isArray(r)?(l=[...r],r[0]instanceof _t?o=r[0].signe===-1:typeof r[0]=="number"?o=r[0]<0:o=Number(r[0])<0):(l=[r],r instanceof _t?o=r.signe===-1?!0:!!o:o=Number(r)<0?!0:!!o),i.signe=o;const u=l[0];let c;if(t!=null)switch(i.formatInteractif="mathlive",a){case"listeDeroulante":{t.autoCorrection==null&&(t.autoCorrection=[]),t.autoCorrection[e]==null&&(t.autoCorrection[e]={}),t.autoCorrection[e].reponse==null&&(t.autoCorrection[e].reponse={});const p=t.autoCorrection[e].reponse;p!=null&&(p.valeur==null&&(p.valeur={}),p.valeur.reponse==null&&(p.valeur.reponse={value:""}),p.param==null&&(p.param={}),p.param.formatInteractif="listeDeroulante",Object.assign(p.valeur.reponse.value,l));return}case"Num":return u instanceof _t?(Number.isNaN(u.num)||Number.isNaN(u.den))&&window.notify("setReponse : La fraction ne convient pas !",{reponses:l,exercice:t.uuid}):window.notify('setReponse : type "Num" une fraction est attendue !',{reponses:l,exercice:t.uuid}),cr(t,e,{reponse:{value:String(u.num),compare:cs}},i);case"Den":return u instanceof _t||window.notify('setReponse : type "Den" une fraction est attendue !',{reponses:l,exercice:t.uuid}),cr(t,e,{reponse:{value:String(u.den),compare:cs}},i);case"calcul":{if(l.length===1)return c=u,typeof c=="string"&&(c=c.replaceAll("dfrac","frac").replace(/\s/g,"").replace(",",".")),cr(t,e,{reponse:{value:c,compare:cs}},i);const p=[];for(let d=0;d<l.length;d++)c=l[d],typeof c=="string"?c=c.replaceAll("dfrac","frac").replace(/\s/g,"").replace(",","."):typeof c=="number"?c=String(c):c instanceof _t?c=c.texFraction.replaceAll("dfrac","frac"):c instanceof Cr&&(c=c.toString()),p.push(c);return cr(t,e,{reponse:{value:p,compare:cs}},i)}case"texte":return typeof u!="string"&&window.notify(`setReponse : type "texte" la réponse n'est pas un string !`,{reponses:l,exercice:t.uuid}),cr(t,e,{reponse:{value:Array.isArray(l)?l.map(String):String(l),compare:cs,options:{texteAvecCasse:!0}}},i);case"ignorerCasse":return typeof u!="string"&&window.notify(`setReponse : type "ignorerCasse" la réponse n'est pas un string !`,{reponses:l,exercice:t.uuid}),cr(t,e,{reponse:{value:Array.isArray(l)?l.map(p=>String(p).toLowerCase()):String(l).toLowerCase(),compare:cs,options:{texteSansCasse:!0}}},i);case"fractionEgale":if(u instanceof _t?(Number.isNaN(u.num)||Number.isNaN(u.den))&&window.notify("setReponse : La fraction ne convient pas !",{reponses:l,exercice:t.uuid}):window.notify('setReponse : type "fractionEgale" une fraction est attendue !',{reponses:l,exercice:t.uuid}),Array.isArray(u)&&window.notify("setReponse a reçu une liste de réponse pour le format fractionEgale, c'est incohérent !",{reponses:l,exercice:t.uuid}),u instanceof _t)return cr(t,e,{reponse:{value:u,compare:cs}},i);break;case"unites":if(s==null&&(s=0),u instanceof $a||window.notify(`setReponse : type "longueur" la réponse n'est pas une instance de Grandeur !`,{reponses:l,exercice:t.uuid}),u instanceof $a)return cr(t,e,{reponse:{value:u,compare:cs,options:{unite:!0,precisionUnite:10**s*10**(u.puissanceUnite*u.puissancePrefixe)}}},i);break;case"intervalleStrict":return(l.length!==2||l.filter(p=>typeof p!="number").length!==0)&&window.notify(`setReponse : type "intervalle" la réponse n'est pas un tupple [number,number] !`,{reponses:l,exercice:t.uuid}),cr(t,e,{reponse:{value:`]${l[0]};${l[1]}[`,compare:cs,options:{estDansIntervalle:!0}}},i);case"intervalle":return(!Array.isArray(l)||l.length!==2||l.filter(p=>typeof p!="number").length!==0)&&window.notify(`setReponse : type "intervalle" la réponse n'est pas un tupple [number,number] !`,{reponses:l,exercice:t.uuid}),cr(t,e,{reponse:{value:`[${l[0]};${l[1]}]`,compare:cs,options:{estDansIntervalle:!0}}},i);case"puissance":return typeof u!="string"&&window.notify(`setReponse : type "puissance" la réponse n'est pas un string !`,{reponses:l,exercice:t.uuid}),cr(t,e,{reponse:{value:String(u),compare:cs,options:{puissance:!0}}},i)}t.autoCorrection[e]===void 0&&(t.autoCorrection[e]={}),t.autoCorrection[e].reponse===void 0&&(t.autoCorrection[e].reponse={});const h=t.autoCorrection[e].reponse;h!=null&&(h.param=i,h.valeur=l)}function bG(t){const e=String(t).replace(/{,}/g,"").replace(",",".");return/^[+-]?\d+(.\d+)?$/.test(e)}function zSe(t){for(const[,e]of Object.entries(t))if(e!==void 0){if((e==null?void 0:e.value)!==void 0)if(Array.isArray(e.value))for(let r=0;r<e.value.length;r++)typeof e.value[r]!="string"&&((e.value[r]instanceof Cr||e.value[r]instanceof $a||e.value[r]instanceof Nu||typeof e.value[r]=="number")&&(e.value[r]=e.value[r].toString()),e.value[r]instanceof _t&&(e.value[r]=e.value[r].texFraction));else{if(typeof e.value=="string")continue;(e.value instanceof Cr||e.value instanceof $a||e.value instanceof Nu||typeof e.value=="number")&&(e.value=e.value.toString()),e.value instanceof _t&&(e.value=e.value.texFraction)}if(e.compare===void 0&&(e.compare=cs),e.options===void 0||Object.keys(e.options).length===0){let r;if(Array.isArray(e.value)){r=!0;for(let n=0;n<e.value.length;n++)r&&(r=bG(e.value[n]))}else r=bG(e.value);const i=r?{nombreDecimalSeulement:!0}:{};e.options=i}}return t}function cr(t,e,r,i={}){var o,l,u;let n=(i==null?void 0:i.formatInteractif)??((u=(l=(o=t.autoCorrection[e])==null?void 0:o.reponse)==null?void 0:l.param)==null?void 0:u.formatInteractif)??"mathlive";t.autoCorrection==null&&(t.autoCorrection=[]),r instanceof Object||window.notify(`handleAnswer() reponses doit être un objet : ${r}`,{reponses:r,exercice:t.uuid}),t.autoCorrection[e]===void 0&&(t.autoCorrection[e]={}),t.autoCorrection[e].reponse===void 0&&(t.autoCorrection[e].reponse={});const a=t.autoCorrection[e].reponse;a!=null&&(a.param=i??{formatInteractif:n},n===void 0&&(n="mathlive"),a.param.formatInteractif=n,a.valeur=zSe(r));const s=new URL(window.location.href);s.hostname==="localhost"&&s.searchParams.has("triche")&&console.info(`Réponses de l'exercice ${(t.numeroExercice??0)+1} - question ${e+1} : `,a.valeur)}const xG=(t="")=>AH(t).join(" ");function wG(t,e,r='style="display: none"'){const i=t.numeroExercice;return t==null||typeof i!="number"||typeof e!="number"?"":`<div class ="ml-2 py-2 italic text-coopmaths-warn-darkest dark:text-coopmathsdark-warn-darkest" id="feedbackEx${i}Q${e}" ${r!==""?r:""}></div>`}function gr(t,e,r="",i={}){return BSe({exercice:t,i:e,style:r},i)}function BSe(t,e={}){const{exercice:r,i,style:n=""}=t;let{texteAvant:a="",texteApres:s="",blocCenter:o=!1,espace:l=!1,placeholder:u=""}=e;if(s!==""&&(s=Be()+s),!r.interactif||n==="none")return"";typeof n!="string"&&window.notify(`style doit être une chaîne de caractères. Exercice ${r.id} ${r.uuid}`,{style:n}),n.includes("blocCenter")&&(o=!0);const c=xG(typeof n=="string"?n:""),h="math-field";let p=`<label>${a}</label><${h} data-keyboard="${c}" ${l?'data-space="true"':""} ${u?`placeholder="${u}"`:""} virtual-keyboard-mode=manual class="${n}" id="champTexteEx${r.numeroExercice}Q${i}"></${h}>${s?`<span>${s}</span>`:""} <span id="resultatCheckEx${r.numeroExercice}Q${i}"></span>`;return o&&(p=`<div style='display: flex;justify-content: center; margin:5px;'>${p}<div>`),p+=wG(r,i),p}function zy(t,e,r,i="",n="\\ldots"){let a="",s=r;for(;s;){const o=/^(.*?)%\{([^}]+)}(.*?)$/.exec(s);if(o){const[,l,u,c]=o,h=u;if(h==null)throw Error(`Définition de ${h} manquante`);a+=l,t.interactif?a+=`\\placeholder[${h}]{}`:a+=n,s=c??""}else a+=s,s=""}if(t.interactif&&Tt.isHtml){const o=xG(i);let l="";return i!==""?i==="fillInTheBlank"||i==="fillInTheBlanks"?l="fillInTheBlanks":l=["fillInTheBlanks",...i.split(" ").filter(u=>u!=="fillInTheBlank"&&u!=="fillInTheBlanks")].join(" "):l="fillInTheBlanks",`<math-field data-keyboard="${o}" virtual-keyboard-mode=manual readonly class="${l}" id="champTexteEx${t.numeroExercice}Q${e}">${a}</math-field><span id="resultatCheckEx${t.numeroExercice}Q${e}"></span>${wG(t,e)}`}return a===""?"":`$${a}$`}class OSe extends Os{constructor(e){super(),this.Exercices=e,this.correctionInteractives=[],this.besoinFormulaireCaseACocher=["Sujet officiel"],this.nbQuestions=this.Exercices.length,this.sup=!1,this.sup2=Array.from({length:this.nbQuestions},(r,i)=>i+1).join("-"),this.sup3=!1}nouvelleVersion(){var s,o,l,u,c,h;this.correctionInteractives=[],this.listeCanEnonces=[],this.listeCanReponsesACompleter=[],this.listeCanLiees=[],this.listeCanNumerosLies=[],this.answers={},this.nbQuestionsModifiable=this.sup3,this.besoinFormulaire2Texte=!1;let e;const r=this.sup2;let i=this.Exercices;const n=i.length;if(this.sup3?this.sup2=!1:(i=this.Exercices,this.nbQuestions=String(this.sup2).includes("-")?this.sup2.split("-").length:1),this.sup2)e=Xl({saisie:r,min:1,max:30,defaut:1,melange:31,shuffle:!1,nbQuestions:String(this.sup2).includes("-")?this.sup2.split("-").length:1});else{e=Bi(this.nbQuestions),i=this.Exercices;const p=Math.floor(this.nbQuestions/3),d=this.nbQuestions%3;let m=[p,p,p];for(let x=0;x<d;x++)m[x]++;m=o1(m,3);let f=i.slice(0,Math.floor(Math.max(n/3,m[0])));f=so(f),f=f.slice(0,m[0]);let v=i.slice(Math.max(n/3,m[0]),Math.max(2*n/3,m[0]+m[1]));v=so(v),v=v.slice(0,m[1]);let y=i.slice(Math.max(2*n/3,m[0]+m[1]),n);y=so(y),y=y.slice(0,m[2]),i=[...f,...v,...y]}let a=0;this.reinit();for(const p of e){let d=1;for(const m of i){if(p===d){const f=new m;if(f.numeroExercice=this.numeroExercice,f.canOfficielle=!!this.sup,f.interactif=this.interactif,f.seed=this.seed,f.nouvelleVersionWrapper(),f.listeQuestions.length===0){const v=f.consigne===""?"":`${f.consigne}<br>`;this.listeCorrections[a]=f.correction??"";const y=f.formatChampTexte??"",x=f.optionsChampTexte??{};if(f.canEnonce!=null&&(this.listeCanEnonces[a]=f.canEnonce),f.canReponseACompleter!=null&&(this.listeCanReponsesACompleter[a]=f.canReponseACompleter),this.listeCanLiees[a]=f.canLiee,this.listeCanNumerosLies[a]=f.canNumeroLie,f.formatInteractif==="fillInTheBlank"||typeof f.reponse=="object"&&"champ1"in f.reponse)this.listeQuestions[a]=v+zy(this,a,f.question,y,"\\ldots"),typeof f.reponse=="string"?cr(this,a,{champ1:{value:f.reponse,compare:f.compare??cs,options:x}}):typeof f.reponse=="object"?cr(this,a,f.reponse):window.notify("Erreur avec cette question de type fillInTheBlank qui contient une reponse au format inconnu",{reponse:f.reponse});else if(f.formatInteractif==="qcm")(s=f==null?void 0:f.question)==null||s.replaceAll("labelEx0Q0",`labelEx0Q${a}`),(o=f==null?void 0:f.question)==null||o.replaceAll("resultatCheckEx0",`resultatCheckEx${a}`),this.listeQuestions[a]=v+f.question,this.autoCorrection[a]=f.autoCorrection[0];else{if(f.compare==null){const g=f.optionsDeComparaison==null?{}:f.optionsDeComparaison;f.reponse.reponse instanceof Object&&f.reponse.reponse.value!=null&&typeof f.reponse.reponse.value=="string"?cr(this,a,f.reponse,g):cr(this,a,{reponse:{value:f.reponse,options:g}})}else{const g=f.compare,b=f.optionsDeComparaison==null?{}:f.optionsDeComparaison;if(typeof f.reponse=="string"||typeof f.reponse=="number"){const k=String(f.reponse);cr(this,a,{reponse:{value:k,compare:g,options:b}})}else if(typeof f.reponse=="object"){const k=f.reponse;k instanceof _t?cr(this,a,{reponse:{value:k.texFraction,compare:g,options:b}}):k instanceof Cr?cr(this,a,{reponse:{value:k.toString(),compare:g,options:b}}):k instanceof $a?cr(this,a,{reponse:{value:k.toString(),compare:g,options:b}}):Array.isArray(k)?cr(this,a,{reponse:{value:k,compare:g,options:b}}):cr(this,a,k)}else window.notify("Erreur avec cette question qui contient une reponse au format inconnu",{reponse:f.reponse})}this.listeQuestions[a]=v+f.question+gr(this,a,y,x)}}else{this.listeQuestions[a]=f.listeQuestions[0],this.listeCorrections[a]=f.listeCorrections[0],this.autoCorrection[a]=f.autoCorrection[0],this.listeQuestions[a]=this.listeQuestions[a].replaceAll("champTexteEx0Q0",`champTexteEx0Q${a}`),this.listeQuestions[a]=this.listeQuestions[a].replaceAll("resultatCheckEx0Q0",`resultatCheckEx0Q${a}`),this.listeQuestions[a]=this.listeQuestions[a].replaceAll("clockEx0Q0",`clockEx0Q${a}`);const v=(c=(u=(l=f.autoCorrection[0])==null?void 0:l.reponse)==null?void 0:u.param)==null?void 0:c.formatInteractif;if(v==="custom"){f.reinit(),f.nouvelleVersionWrapper(this.numeroExercice,a);const y=this;this.correctionInteractives[a]=function(x){const g=f.correctionInteractive(x);return f.answers&&(y.answers={...y.answers,...f.answers}),g},this.autoCorrection[a]=f.autoCorrection[a],this.listeQuestions[a]=f.listeQuestions[a],this.listeCorrections[a]=f.listeCorrections[a]}else v==="qcm"?this.autoCorrection[a]=f.autoCorrection[0]:cr(this,a,f.autoCorrection[0].reponse.valeur)}if(((h=f==null?void 0:f.autoCorrection[0])==null?void 0:h.propositions)!=null){const v=Mf(this,a);this.listeCanReponsesACompleter[a]=f.canReponseACompleter!=null?f.canReponseACompleter:v.texte;const y=f.consigne===null||f.consigne===""?"":`${f.consigne}<br>`,x=this.autoCorrection[a],g="enonce"in x?x.enonce:"";this.listeQuestions[a]=y+g+v.texte,this.listeCorrections[a]==null&&(this.listeCorrections[a]=v.texteCorr)}a++;break}d++}}a>30&&(a=30,window.notify("malgré des précautions prises, on a fabriqué plus de 30 questions dans MetaExercice",{nbQuestions:a}),this.listeQuestions=this.listeQuestions.slice(0,a),this.listeCorrections=this.listeCorrections.slice(0,a),this.autoCorrection=this.autoCorrection.slice(0,a)),this.besoinFormulaire2Texte=this.sup3?!1:["Choix des questions","Nombres séparés par des tirets :"],this.besoinFormulaire3CaseACocher=["Choix du nombre de questions"],this.comment=`Cet exercice fait partie des annales des Courses Aux Nombres (CAN).<br>
  Il est plus souvent composé de 30 questions (parfois 20 pour les CE1/CE2) réparties de la façon suivante. 
  Les 10 premières questions, parfois communes à plusieurs niveaux, font appel à des questions élémentaires et les 20 suivantes (qui ne sont pas rangées dans un ordre de difficulté) sont un peu plus « coûteuses » cognitivement.<br>
  Par défaut, les questions sont rangées dans le même ordre que le sujet officiel avec des données aléatoires. Ainsi, en cliquant sur « Nouvelles données », on obtient une nouvelle Course Aux Nombres avec des données différentes.<br>
  Dans les CAN depuis 2024, le choix des questions permet de choisir certaines questions parmi les 30. <br>
  Dans les CAN d'avant 2024, on pouvait seulement choisir le nombre de questions comme décrit ci-après. <br>
  En choisissant un nombre de questions inférieur à 30, on fabrique une « mini » Course Aux Nombres qui respecte la proportion de nombre de questions élémentaires par rapport aux autres.
  Par exemple, en choisissant 20 questions, la course aux nombres sera composée de 7 ou 8 questions élémentaires choisies aléatoirement dans les 10 premières questions du sujet officiel puis de 12 ou 13 autres questions choisies aléatoirement parmi les 20 autres questions du sujet officiel.`}}class FSe extends Os{constructor(){super(),this.versionOriginale=()=>{this.enonce="Enoncé de la question",this.correction="La correction"},this.nbQuestions=1,this.nbQuestionsModifiable=!1,this.spacing=1.5,this.spacingCorr=2,this.versionOriginale()}nouvelleVersion(){if(this.versionAleatoire!=null)for(let e=0,r=0;e<this.nbQuestions&&r<30&&(this.sup?this.versionOriginale():this.versionAleatoire(e),this.questionJamaisPosee(e,String(this.correction))&&(this.listeQuestions[e]=this.enonce,this.listeCorrections[e]=String(this.correction),e++),r++,!this.sup););else this.versionOriginale(),this.listeQuestions[0]=this.enonce,this.listeCorrections[0]=String(this.correction)}}class PSe extends Os{constructor(){super(),this.nbQuestions=1,this.consigne="Pour chaque affirmation, dire si elle est vraie ou fausse.",this.affirmations=[],this.besoinFormulaireCaseACocher=["Ajout de « Je ne sais pas »",!1],this.sup=!1}nouvelleVersion(){this.consigne=this.nbQuestions===1?"Dire si cette affirmation est vraie ou fausse.":"Pour chaque affirmation, dire si elle est vraie ou fausse.",this.affirmations=so(this.affirmations),this.nbQuestions=Math.min(this.affirmations.length,this.nbQuestions);for(let e=0,r=0;e<this.nbQuestions&&r<50;){let i=this.affirmations[e].texte;const n=[{texte:"Vrai",statut:this.affirmations[e].statut},{texte:"Faux",statut:!this.affirmations[e].statut}];this.sup&&n.push({texte:"Je ne sais pas",statut:!1}),this.autoCorrection[e]={options:{ordered:!0,vertical:!1,radio:!0},enonce:i,propositions:n};const a=Mf(this,e);this.interactif&&(i+=a.texte);let s=`L'affirmation est ${ye(this.affirmations[e].statut?"vraie":"fausse")}.<br>`;s+=this.affirmations[e].correction,this.questionJamaisPosee(e,this.affirmations[e].texte)&&(this.listeQuestions[e]=i,this.listeCorrections[e]=s,e++),r++}Cu(this)}}const RSe=!0,jSe="mathLive",qSe=!0,USe="AMCNum",VSe="Tables de multiplication",GSe="27/08/2024";class ZSe extends Os{constructor(e="2-3-4-5-6-7-8-9-10"){super(),this.sup=e,this.sup2="1",this.sup3=!0,this.sup4=!0,this.consigne="Calculer : ",this.spacing=2,this.besoinFormulaireTexte=["Choix des tables",`Nombres séparés par des tirets :
Choisir des tables entre 1 et 11.
Mettre 12 pour choisir une table au hasard.`],this.besoinFormulaire2Texte=["Type de questions",`Nombres séparés par des tirets :
1 : Classique
2 : À trous
3 : Quotient
4: Mélange`],this.besoinFormulaire3CaseACocher=["Le facteur de gauche est celui de la table",!0],this.besoinFormulaire4CaseACocher=["Changer le sens de l'égalité",!0]}nouvelleVersion(){const e=Xl({min:1,max:11,melange:12,defaut:12,nbQuestions:this.nbQuestions,saisie:this.sup,enleveDoublons:!0}),r=Xl({saisie:this.sup2,min:1,max:3,defaut:1,melange:4,listeOfCase:["classique","a_trous","quotient"],nbQuestions:this.nbQuestions}),i=Fve(e.map(Number),[2,3,4,5,6,7,8,9,10],81);for(let n=0,a,s=0,o,l;n<this.nbQuestions&&s<80;){const u=r[n],c=i[s][0],h=i[s][1],p=this.sup3||e.length===1&&u==="a_trous"?[!0]:[!0,!1],d=Pt(p),m=this.sup4;u==="classique"?(a=c*h,m?d?(o=`$ ${de(c,0)}\\times ${de(h,0)} =`,o+=this.interactif&&Tt.isHtml?"$"+gr(this,n,Xt.clavierNumbers):"\\ldots\\ldots$",l=`$ ${de(c,0)}\\times ${de(h,0)} = ${Ge(de(a,0))}$`):(o=`$ ${de(h,0)}\\times ${de(c,0)} = `,o+=this.interactif&&Tt.isHtml?"$"+gr(this,n,Xt.clavierNumbers):"\\ldots\\ldots$",l=`$ ${de(h,0)}\\times ${de(c,0)} = ${Ge(de(a,0))}$`):d?(o=this.interactif&&Tt.isHtml?gr(this,n,Xt.clavierNumbers):"$\\ldots\\ldots$ ",o+=`$ = ${de(c,0)}\\times ${de(h,0)}$`,l=`$ ${Ge(de(a,0))} = ${de(c,0)}\\times ${de(h,0)}$`):(o=this.interactif&&Tt.isHtml?"$"+gr(this,n,Xt.clavierNumbers)+"$":"$\\ldots\\ldots$",o+=`$ = ${de(h,0)}\\times ${de(c,0)}$`,l=`$ ${Ge(de(a,0))} = ${de(h,0)}\\times ${de(c,0)}$`),cr(this,n,{reponse:{value:String(c*h),options:{nombreDecimalSeulement:!0}}})):u==="a_trous"?(m?(d?(o="$"+c.toString()+"\\times ",o+=this.interactif&&Tt.isHtml?"$"+gr(this,n,Xt.clavierNumbers,{texteApres:` $=${(c*h).toString()}$`}):` \\ldots\\ldots =${(c*h).toString()}$`,a=h):(o=this.interactif&&Tt.isHtml?gr(this,n,Xt.clavierNumbers,{texteApres:` $\\times ${h.toString()} = ${(c*h).toString()}$`}):`$ \\ldots\\ldots \\times ${h.toString()} =${(c*h).toString()}$`,a=c),l=d?`$${c.toString()} \\times ${Ge(a.toString())} =${(c*h).toString()}$`:`$${Ge(a.toString())}\\times ${h.toString()} =${(c*h).toString()}$`):(d?(o=this.interactif&&Tt.isHtml?`$${(c*h).toString()}=$ `+gr(this,n,Xt.clavierNumbers,{texteApres:` $\\times ${c.toString()}$`}):`$${(c*h).toString()}= \\ldots\\ldots \\times ${c.toString()}$`,a=h):(o=this.interactif&&Tt.isHtml?`$${(c*h).toString()}=$ `+gr(this,n,Xt.clavierNumbers,{texteApres:` $\\times ${h.toString()}$`}):`$${(c*h).toString()}= \\ldots\\ldots \\times ${h.toString()}$`,a=c),l=d?`$${(c*h).toString()} = ${Ge(a.toString())} \\times ${c.toString()}$`:`$${(c*h).toString()} = ${Ge(a.toString())} \\times ${h.toString()}$`),cr(this,n,{reponse:{value:String(a),options:{nombreDecimalSeulement:!0}}})):(m?(o=`$${de(c*h,0)} \\div ${de(c,0)} = `,o+=this.interactif&&Tt.isHtml?"$"+gr(this,n,Xt.clavierNumbers):"\\ldots\\ldots$",l=`$ ${de(c*h,0)}\\div ${de(c,0)} = ${Ge(de(h,0))}$`,a=h):(o=this.interactif&&Tt.isHtml?gr(this,n,Xt.clavierNumbers):"$\\ldots\\ldots$ ",o+=` $= ${de(c*h,0)} \\div ${de(c,0)}$`,l=`$ ${Ge(de(h,0))} = ${de(c*h,0)}\\div ${de(c,0)}$`,a=h),cr(this,n,{reponse:{value:String(a),options:{nombreDecimalSeulement:!0}}})),this.questionJamaisPosee(n,c,h,u)&&(this.listeQuestions[n]=o,this.listeCorrections[n]=l,n++),s++}Cu(this)}}const HSe=Object.freeze(Object.defineProperty({__proto__:null,amcReady:qSe,amcType:USe,dateDeModifImportante:GSe,default:ZSe,interactifReady:RSe,interactifType:jSe,titre:VSe},Symbol.toStringTag,{value:"Module"}));function di(t){return typeof t=="number"&&(t=String(t)),`<b>${t}</b>`}function ho(t){if(t instanceof Cr)return t.isInteger()?de(t,0):de(t,2,!0);const e=Number(t);return e.toString()===e.toFixed(0)?de(t,0):de(t,2,!0)}function MG(t,e=!1){let r=Math.floor(t/60);r>23&&(r=r-24);const i=t%60;return e?i>9?`${r}${Be()}\\text{h}${Be()}${i}${Be()}\\text{min}`:`${r}${Be()}\\text{h}${Be()}0${i}${Be()}\\text{min}`:i>9?r+Be()+"h"+Be()+i+Be()+"min":r+Be()+"h"+Be()+"0"+i+Be()+"min"}function kh(t){let e=Math.floor(t/60);e>23&&(e=e-24);const r=t%60;return e===0?r+Be()+"min":r>9?e+Be()+"h"+Be()+r+Be()+"min":e+Be()+"h"+Be()+"0"+r+Be()+"min"}function ik(t){return[Math.floor(t/60),t%60]}function kG(t){return["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"][t-1]}function CG(){return Pt(["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"])}const NG=[{prenom:"Albert",pronom:"il"},{prenom:"Alice",pronom:"elle"},{prenom:"Benoît",pronom:"il"},{prenom:"Béatrice",pronom:"elle"},{prenom:"Céline",pronom:"elle"},{prenom:"Charles",pronom:"il"},{prenom:"David",pronom:"il"},{prenom:"Diane",pronom:"elle"},{prenom:"Émile",pronom:"il"},{prenom:"Élodie",pronom:"elle"},{prenom:"François",pronom:"il"},{prenom:"Fiona",pronom:"elle"},{prenom:"Gaspard",pronom:"il"},{prenom:"Gabrielle",pronom:"elle"},{prenom:"Hugo",pronom:"il"},{prenom:"Hélène",pronom:"elle"},{prenom:"Isabelle",pronom:"elle"},{prenom:"Julien",pronom:"il"},{prenom:"Julie",pronom:"elle"},{prenom:"Kevin",pronom:"il"},{prenom:"Karine",pronom:"elle"},{prenom:"Lucas",pronom:"il"},{prenom:"Léa",pronom:"elle"},{prenom:"Mathieu",pronom:"il"},{prenom:"Marie",pronom:"elle"},{prenom:"Nicolas",pronom:"il"},{prenom:"Nathalie",pronom:"elle"},{prenom:"Olivier",pronom:"il"},{prenom:"Océane",pronom:"elle"},{prenom:"Paul",pronom:"il"},{prenom:"Pascale",pronom:"elle"},{prenom:"Quentin",pronom:"il"},{prenom:"Quynh",pronom:"elle"},{prenom:"Romain",pronom:"il"},{prenom:"Roxane",pronom:"elle"},{prenom:"Sébastien",pronom:"il"},{prenom:"Sophie",pronom:"elle"},{prenom:"Thomas",pronom:"il"},{prenom:"Tania",pronom:"elle"},{prenom:"Ulysse",pronom:"il"},{prenom:"Ursule",pronom:"elle"},{prenom:"Victor",pronom:"il"},{prenom:"Valérie",pronom:"elle"},{prenom:"William",pronom:"il"},{prenom:"Wendy",pronom:"elle"},{prenom:"Xavier",pronom:"il"},{prenom:"Yasmine",pronom:"elle"},{prenom:"Zoé",pronom:"elle"},{prenom:"Yann",pronom:"il"},{prenom:"Yvette",pronom:"elle"},{prenom:"Zacharie",pronom:"il"},{prenom:"Madeleine",pronom:"elle"},{prenom:"Schona",pronom:"elle"},{prenom:"Lilian",pronom:"il"},{prenom:"Aude",pronom:"elle"},{prenom:"Carine",pronom:"elle"},{prenom:"Corinne",pronom:"elle"},{prenom:"Dalila",pronom:"elle"},{prenom:"Elsa",pronom:"elle"},{prenom:"Farida",pronom:"elle"},{prenom:"Karole",pronom:"elle"},{prenom:"Lisa",pronom:"elle"},{prenom:"Manon",pronom:"elle"},{prenom:"Marina",pronom:"elle"},{prenom:"Magalie",pronom:"elle"},{prenom:"Nadia",pronom:"elle"},{prenom:"Nawel",pronom:"elle"},{prenom:"Teresa",pronom:"elle"},{prenom:"Vanessa",pronom:"elle"},{prenom:"Arthur",pronom:"il"},{prenom:"Benjamin",pronom:"il"},{prenom:"Bernard",pronom:"il"},{prenom:"Christophe",pronom:"il"},{prenom:"Cyril",pronom:"il"},{prenom:"Fernando",pronom:"il"},{prenom:"Guillaume",pronom:"il"},{prenom:"Jean-Claude",pronom:"il"},{prenom:"Joachim",pronom:"il"},{prenom:"José",pronom:"il"},{prenom:"Kamel",pronom:"il"},{prenom:"Karim",pronom:"il"},{prenom:"Laurent",pronom:"il"},{prenom:"Mehdi",pronom:"il"},{prenom:"Nassim",pronom:"il"},{prenom:"Pablo",pronom:"il"},{prenom:"Rémi",pronom:"il"},{prenom:"Yazid",pronom:"il"}];function Ll(t=1,e=!1){const r=NG.filter(i=>i.pronom==="elle").map(i=>i.prenom);if(t===1){const i=Pt(r);return e?[i]:i}else return so(r).slice(0,t)}function zl(t=1,e=!1){const r=NG.filter(i=>i.pronom==="il").map(i=>i.prenom);if(t===1){const i=Pt(r);return e?[i]:i}else return so(r).slice(0,t)}const WSe=Object.freeze(Object.defineProperty({__proto__:null,amcReady:!0,amcType:"qcmMult",dateDeModifImportante:"28/03/2024",dateDePublication:"01/12/2021",default:class extends Os{constructor(){super(),this.besoinFormulaireNumerique=["Choix de la formulation :",2,`1 : Coche les informations qui servent à sa résolution.
2 : Coche les informations qui NE servent PAS à sa résolution.`],this.besoinFormulaire2Texte=["Choix des problèmes",`Nombres séparés par des tirets :
1 : Livres
2 : Haricots
3 : Villages de montagne
4 : Manga
5 : Film
6 : Vélo
7 : Taille
8 : Gare
9 : Livreur
10 : Cargo
11 : Tous les problèmes
`],this.besoinFormulaire3CaseACocher=["Certains problèmes peuvent être insolubles"],this.sup=1,this.sup2=11,this.sup3=!1,this.spacing=2}nouvelleVersion(){const e=["coche","indique"],r=["chaque","ce"],i=["servent","ne servent pas"];this.consigne="Dans ",this.consigne+=this.nbQuestions===1||Tt.isAmc?r[1]:r[0],this.consigne+=" problème, ",this.consigne+=e[0],this.consigne+=" les informations qui ",this.consigne+=di(this.sup!==1?i[1]:i[0]),this.consigne+=" à sa résolution.";const n=Xl({max:10,defaut:11,nbQuestions:this.nbQuestions,melange:11,saisie:this.sup2}),a=["père","frère","cousin","grand-père","voisin"],s=["mère","sœur","cousine","grand-mère","tante","voisine"];let o=0;for(let l=0,u,c,h,p,d,m,f,v,y,x,g;l<this.nbQuestions;l++){switch(this.autoCorrection[l]={},o=this.sup3?Pt([1,2,3]):Pt([1,2]),x="",g="",n[l]){case 1:switch(c=ge(17,35),h=ge(7,15),d=ge(3,10),m=10*ge(20,60),x+=`Dans une classe de ${c} élèves âgés de ${h}  à ${h+2}  ans,`,x+=` un professeur distribue à chaque enfant ${d} livres pesant ${m} g chacun.<br>`,o){case 1:x+="Quel est le nombre total de livres distribués ?",this.sup===1?(g+=ye(c+" élèves"),g+=" et "+ye(d+" livres")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(c)+`$${Be()}\\times${Be()}$`+ye(d+" livres")+"."):(g+=ye(h+" ans")+", "+ye(h+2+" ans"),g+=" et "+ye(m+" g")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(c)+`$${Be()}\\times${Be()}$`+di(d+" livres")+"."),this.autoCorrection[l].propositions=[{texte:`${c} élèves`,statut:this.sup===1},{texte:`${h} ans`,statut:this.sup!==1},{texte:`${h+2} ans`,statut:this.sup!==1},{texte:`${d} livres`,statut:this.sup===1},{texte:`${m} g`,statut:this.sup!==1}];break;case 2:x+="Quelle est la masse totale des livres distribués à chaque enfant ?",this.sup===1?(g+=ye(m+" g"),g+=" et "+ye(d+" livres")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(m+" g")+`$${Be()}\\times${Be()}$`+ye(d)+"."):(g+=ye(h+" ans")+", "+ye(h+2+" ans"),g+=" et "+ye(c+" élèves")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(m+" g")+`$${Be()}\\times${Be()}$`+di(d)+"."),this.autoCorrection[l].propositions=[{texte:`${c} élèves`,statut:this.sup!==1},{texte:`${h} ans`,statut:this.sup!==1},{texte:`${h+2} ans`,statut:this.sup!==1},{texte:`${d} livres`,statut:this.sup===1},{texte:`${m} g`,statut:this.sup===1}];break;default:x+=`Quel est, dans cette classe, le nombre exact d'enfants de ${h+1} ans ?`,this.sup===1?g+="Aucune donnée n'est utile pour la résolution du problème.<br>":(g+=ye(c+" élèves")+", "+ye(h+" ans")+", ",g+=ye(h+2+" ans")+", "+ye(d+" livres"),g+=" et "+ye(m+" g")+" ne sont pas utiles pour la résolution du problème.<br>"),g+="On ne peut pas répondre à ce problème. Il manque des informations.",this.autoCorrection[l].propositions=[{texte:`${c} élèves`,statut:this.sup!==1},{texte:`${h} ans`,statut:this.sup!==1},{texte:`${h+2} ans`,statut:this.sup!==1},{texte:`${d} livres`,statut:this.sup!==1},{texte:`${m} g`,statut:this.sup!==1}];break}break;case 2:switch(f=zl(),c=ge(2,5),h=Pt([250,500,600,750]),p=Co(yt(ge(10,50)/10+ge(1,9)/100)),d=ge(2,5,[c]),m=Co(yt(ge(20,40)/10+ge(1,9)/100)),x+=`Au marché, ${f} achète ${c} barquettes de haricots verts de ${h}${Be(1)}g chacune à ${p}${Be(1)}€ pièce `,x+=` et ${d}${Be(1)}ananas coûtant ${m}${Be(1)}€ l'unité.<br>`,o){case 1:x+="Quel est le prix total des fruits achetés ?",this.sup===1?(g+=ye(d+" ananas"),g+=" et "+ye(m+" €")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(d)+`$${Be()}\\times${Be()}$`+ye(m+" €")+"."):(g+=ye(c+" barquettes")+", "+ye(h+" g"),g+=" et "+ye(p+" €")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(d)+`$${Be()}\\times${Be()}$`+di(m+" €")+"."),this.autoCorrection[l].propositions=[{texte:`${c} barquettes`,statut:this.sup!==1},{texte:`${h} g`,statut:this.sup!==1},{texte:`${p} €`,statut:this.sup!==1},{texte:`${d} ananas`,statut:this.sup===1},{texte:`${m} €`,statut:this.sup===1}];break;case 2:x+="Quel est le prix total des légumes achetés ?",this.sup===1?(g+=ye(c+" barquettes"),g+=" et "+ye(p+" €")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(c)+`$${Be()}\\times${Be()}$`+ye(p+" €")+"."):(g+=ye(d+" ananas")+", "+ye(h+" g"),g+=" et "+ye(m+" €")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(c)+`$${Be()}\\times${Be()}$`+di(p+" €")+"."),this.autoCorrection[l].propositions=[{texte:`${c} barquettes`,statut:this.sup===1},{texte:`${h} g`,statut:this.sup!==1},{texte:`${p} €`,statut:this.sup===1},{texte:`${d} ananas`,statut:this.sup!==1},{texte:`${m} €`,statut:this.sup!==1}];break;default:x+="Quel est le prix total des boissons achetées ?",this.sup===1?g+="Aucune donnée n'est utile pour la résolution du problème.<br>":(g+=ye(c+" barquettes")+", "+ye(h+" g")+", ",g+=ye(p+" €")+", "+ye(d+" ananas"),g+=" et "+ye(m+" €")+" ne sont pas utiles pour la résolution du problème.<br>"),g+="On ne peut pas répondre à ce problème. Il manque des informations.",this.autoCorrection[l].propositions=[{texte:`${c} barquettes`,statut:this.sup!==1},{texte:`${h} g`,statut:this.sup!==1},{texte:`${p} €`,statut:this.sup!==1},{texte:`${d} ananas`,statut:this.sup!==1},{texte:`${m} €`,statut:this.sup!==1}];break}break;case 3:switch(f=zl(),v=Ll(),c=ge(501,978),h=ge(230,450),p=ge(5,11),d=ge(110,230),m=ge(128,Math.round(c/2)),x+=`Le village de Sainte-${v}-Les-Trois-Vallées compte ${c} habitants et se situe à une altitude de ${h} m.`,x+=` À ${p} km de là, le village de Saint-${f}-Le-Bouquetin, situé ${d} m plus haut, compte ${m} habitants de moins.<br>`,o){case 1:x+=`Combien d'habitants compte le village de Saint-${f}-Le-Bouquetin ?`,this.sup===1?(g+=ye(c+" habitants"),g+=" et "+ye(m+" habitants")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(c+" habitants")+`$${Be()}-${Be()}$`+ye(m+" habitants")+"."):(g+=ye(h+" m")+", "+ye(p+" km"),g+=" et "+ye(d+" m")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(c+" habitants")+`$${Be()}-${Be()}$`+di(m+" habitants")+"."),this.autoCorrection[l].propositions=[{texte:`${c} habitants`,statut:this.sup===1},{texte:`${h} m`,statut:this.sup!==1},{texte:`${p} km`,statut:this.sup!==1},{texte:`${d} m`,statut:this.sup!==1},{texte:`${m} habitants`,statut:this.sup===1}];break;case 2:x+=`À quelle altitude se situe le village de Saint-${f}-Le-Bouquetin ?`,this.sup===1?(g+=ye(h+" m"),g+=" et "+ye(d+" m")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(h+" m")+`$${Be()}+${Be()}$`+ye(d+" m")+"."):(g+=ye(c+" habitants")+", "+ye(p+" km"),g+=" et "+ye(m+" habitants")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(h+" m")+`$${Be()}+${Be()}$`+di(d+" m")+"."),this.autoCorrection[l].propositions=[{texte:`${c} habitants`,statut:this.sup!==1},{texte:`${h} m`,statut:this.sup===1},{texte:`${p} km`,statut:this.sup!==1},{texte:`${d} m`,statut:this.sup===1},{texte:`${m} habitants`,statut:this.sup!==1}];break;default:x+=`Combien de garçons compte le village de Sainte-${v}-Les-Trois-Vallées ?`,this.sup===1?g+="Aucune donnée n'est utile pour la résolution du problème.<br>":(g+=ye(c+" habitants")+", "+ye(h+" m")+", ",g+=ye(p+" km")+", "+ye(d+" m"),g+=" et "+ye(m+" habitants")+" ne sont pas utiles pour la résolution du problème.<br>"),g+="On ne peut pas répondre à ce problème. Il manque des informations.",this.autoCorrection[l].propositions=[{texte:`${c} habitants`,statut:this.sup!==1},{texte:`${h} m`,statut:this.sup!==1},{texte:`${p} km`,statut:this.sup!==1},{texte:`${d} m`,statut:this.sup!==1},{texte:`${m} habitants`,statut:this.sup!==1}];break}break;case 4:switch(y=Pt(a),v=Ll(),c="1 h "+5*ge(1,10),h=Co(yt(ge(50,90)/10+ge(1,9)/100)),p=ge(5,9),d=Pt([10,20,50]),m=4*ge(12,24),x+=`${v} vient de lire en ${c} un manga qu'elle avait payé ${h} €. `,x+=`Elle a remarqué que sur chaque page, il y avait exactement ${p} cases. `,x+=`C'est grâce au billet de ${d} € que lui a donné son ${y}, que ${v} a pu s'acheter ce livre de ${m} pages.<br>`,o){case 1:x+=`Combien y a-t-il de cases dans le manga de ${v} ?`,this.sup===1?(g+=ye(p+" cases"),g+=" et "+ye(m+" pages")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(p+" cases")+`$${Be()}\\times${Be()}$`+ye(m)+"."):(g+=ye(c)+", "+ye(h+" €"),g+=" et "+ye(d+" €")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(p+" cases")+`$${Be()}\\times${Be()}$`+di(m)+"."),this.autoCorrection[l].propositions=[{texte:`${c}`,statut:this.sup!==1},{texte:`${h} €`,statut:this.sup!==1},{texte:`${p} cases`,statut:this.sup===1},{texte:`${d} €`,statut:this.sup!==1},{texte:`${m} pages`,statut:this.sup===1}];break;case 2:x+=`Lorsqu'elle a acheté son manga, quelle somme d'argent a-t-on rendu à ${v} ?`,this.sup===1?(g+=ye(h+" €"),g+=" et "+ye(d+" €")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(d+" €")+`$${Be()}-${Be()}$`+ye(h+" €")+"."):(g+=ye(c)+", "+ye(p+" cases"),g+=" et "+ye(m+" pages")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(d+" €")+`$${Be()}-${Be()}$`+di(h+" €")+"."),this.autoCorrection[l].propositions=[{texte:`${c}`,statut:this.sup!==1},{texte:`${h} €`,statut:this.sup===1},{texte:`${p} cases`,statut:this.sup!==1},{texte:`${d} €`,statut:this.sup===1},{texte:`${m} pages`,statut:this.sup!==1}];break;default:x+=`À quelle heure ${v} a-t-elle commencé à lire son manga ?`,this.sup===1?g+="Aucune donnée n'est utile pour la résolution du problème.<br>":(g+=ye(c)+", "+ye(h+" €")+", ",g+=ye(p+" cases")+", "+ye(d+" €"),g+=" et "+ye(m+" pages")+" ne sont pas utiles pour la résolution du problème.<br>"),g+="On ne peut pas répondre à ce problème. Il manque des informations.",this.autoCorrection[l].propositions=[{texte:`${c}`,statut:this.sup!==1},{texte:`${h} €`,statut:this.sup!==1},{texte:`${p} cases`,statut:this.sup!==1},{texte:`${d} €`,statut:this.sup!==1},{texte:`${m} pages`,statut:this.sup!==1}];break}break;case 5:switch(y=ge(1,2)===1?"sa "+Pt(s):"son "+Pt(a),ge(1,2)===1?(f=zl(),v="il"):(f=Ll(),v="elle"),u=ge(13,21),c=CG()+" "+ge(2,29)+" "+kG(ge(1,12)),h=u+" h "+5*ge(2,11),p=u+2+" h "+5*ge(2,11),d=u+1+" h "+5*ge(2,11),m=ge(37,58),x+=`${f} décide de programmer la box de ${y} pour enregistrer un film prévu le ${c} et une émission prévue le lendemain. `,x+=`Le film doit commencer à ${h} et se terminer à ${p}. L'émission commence à ${d} et dure ${m} minutes.<br>`,o){case 1:x+="Quelle est la durée prévue du film ?",this.sup===1?(g+=ye(h),g+=" et "+ye(p)+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(p)+`$${Be()}-${Be()}$`+ye(h)+"."):(g+=ye(d)+", "+ye(c),g+=" et "+ye(m+" minutes")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(p)+`$${Be()}-${Be()}$`+di(h)+"."),this.autoCorrection[l].propositions=[{texte:`${c}`,statut:this.sup!==1},{texte:`${h}`,statut:this.sup===1},{texte:`${p}`,statut:this.sup===1},{texte:`${d}`,statut:this.sup!==1},{texte:`${m+" minutes"}`,statut:this.sup!==1}];break;case 2:x+="À quelle heure se termine l'émission ?",this.sup===1?(g+=ye(d),g+=" et "+ye(m+" minutes")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(d)+`$${Be()}+${Be()}$`+ye(m+" minutes")+"."):(g+=ye(h)+", "+ye(p),g+=" et "+ye(c)+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(d)+`$${Be()}+${Be()}$`+di(m+" minutes")+"."),this.autoCorrection[l].propositions=[{texte:`${c}`,statut:this.sup!==1},{texte:`${h}`,statut:this.sup!==1},{texte:`${p}`,statut:this.sup!==1},{texte:`${d}`,statut:this.sup===1},{texte:`${m+" minutes"}`,statut:this.sup===1}];break;default:x+=`À quelle heure de sa journée, ${f} décide-t-${v} de programmer la box de ${y} ?`,this.sup===1?g+="Aucune donnée n'est utile pour la résolution du problème.<br>":(g+=ye(h)+", "+ye(p)+", ",g+=ye(d)+", "+ye(m+" minutes"),g+=" et "+ye(c)+" ne sont pas utiles pour la résolution du problème.<br>"),g+="On ne peut pas répondre à ce problème. Il manque des informations.",this.autoCorrection[l].propositions=[{texte:`${c}`,statut:this.sup!==1},{texte:`${h}`,statut:this.sup!==1},{texte:`${p}`,statut:this.sup!==1},{texte:`${d}`,statut:this.sup!==1},{texte:`${m+" minutes"}`,statut:this.sup!==1}];break}break;case 6:switch(y=Pt(s),f=Pt(a),v=Ll(),c=Pt([15,18,21]),h=ge(214,625),p=ge(15,18),d=Co(yt(ge(2054,3298)/100)),m=Pt([2,3,4,6,12]),x+=`La ${y} de ${v} lui a acheté un superbe vélo de ${c} vitesses, coûtant ${h} €, avec des roues de ${p} pouces. `,x+=`Pour la protéger, son ${f} lui a offert un casque et du matériel d'éclairage valant ${d} €. `,x+=`La ${y} de ${v} a décidé de payer le vélo en ${m} fois.<br>`,o){case 1:x+=`Quel est le montant de chaque versement que payera la ${y} de ${v} ?`,this.sup===1?(g+=ye(h+" €"),g+=" et "+ye(m+" fois")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(h+" €")+`$${Be()}\\div${Be()}$`+ye(m)+"."):(g+=ye(c+" vitesses")+", "+ye(p+" pouces"),g+=" et "+ye(d+" €")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(h+" €")+`$${Be()}\\div${Be()}$`+di(m)+"."),this.autoCorrection[l].propositions=[{texte:`${c} vitesses`,statut:this.sup!==1},{texte:`${h} €`,statut:this.sup===1},{texte:`${p} pouces`,statut:this.sup!==1},{texte:`${d} €`,statut:this.sup!==1},{texte:`${m} fois`,statut:this.sup===1}];break;case 2:x+=`Quel est le montant total des cadeaux offerts à ${v} ?`,this.sup===1?(g+=ye(h+" €"),g+=" et "+ye(d+" €")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(d+" €")+`$${Be()}+${Be()}$`+ye(h+" €")+"."):(g+=ye(c+" vitesses")+", "+ye(p+" pouces"),g+=" et "+ye(m+" fois")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(d+" €")+`$${Be()}+${Be()}$`+di(h+" €")+"."),this.autoCorrection[l].propositions=[{texte:`${c} vitesses`,statut:this.sup!==1},{texte:`${h} €`,statut:this.sup===1},{texte:`${p} pouces`,statut:this.sup!==1},{texte:`${d} €`,statut:this.sup===1},{texte:`${m} fois`,statut:this.sup!==1}];break;default:x+=`Pour quel âge, ${v} a-t-elle reçu son vélo comme cadeau d'anniversaire ?`,this.sup===1?g+="Aucune donnée n'est utile pour la résolution du problème.<br>":(g+=ye(c+" vitesses")+", "+ye(h+" €")+", ",g+=ye(p+" pouces")+", "+ye(d+" €"),g+=" et "+ye(m+" fois")+" ne sont pas utiles pour la résolution du problème.<br>"),g+="On ne peut pas répondre à ce problème. Il manque des informations.",this.autoCorrection[l].propositions=[{texte:`${c} vitesses`,statut:this.sup!==1},{texte:`${h} €`,statut:this.sup!==1},{texte:`${p} pouces`,statut:this.sup!==1},{texte:`${d} €`,statut:this.sup!==1},{texte:`${m} fois`,statut:this.sup!==1}];break}break;case 7:switch(y=Pt(s),f=zl(),v=Ll(),c=ge(0,3),h=["3ème","4ème","5ème","6ème"][c],p=[14,13,12,11][c],d=Co(yt(ge(132,151)/100)),m=ge(21,42),x+=`${f}, un élève de ${h}, de ${p} ans, mesure ${d} m. `,x+=`${v} a ${c+2} ans de plus que ${f} et mesure ${m} cm de plus.<br>`,o){case 1:x+=`Quel est l'âge de ${v} ?`,this.sup===1?(g+=ye(p+" ans"),g+=" et "+ye(c+2+" ans")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(p+" ans")+`$${Be()}+${Be()}$`+ye(c+2+" ans ")+"."):(g+=ye(h)+", "+ye(d+" m"),g+=" et "+ye(m+" cm")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(p+" ans")+`$${Be()}+${Be()}$`+di(c+2+" ans ")+"."),this.autoCorrection[l].propositions=[{texte:`${c+2} ans`,statut:this.sup===1},{texte:`${h}`,statut:this.sup!==1},{texte:`${p} ans`,statut:this.sup===1},{texte:`${d} m`,statut:this.sup!==1},{texte:`${m} cm`,statut:this.sup!==1}];break;case 2:x+=`Combien mesure ${v} ?`,this.sup===1?(g+=ye(d+" m"),g+=" et "+ye(m+" cm")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(d+" m")+`$${Be()}+${Be()}$`+ye(m+" cm")+"."):(g+=ye(c+2+" ans, ")+ye(p+" ans"),g+=" et "+ye(h)+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(d+" m")+`$${Be()}+${Be()}$`+di(m+" cm")+"."),this.autoCorrection[l].propositions=[{texte:`${c+2} ans`,statut:this.sup!==1},{texte:`${h}`,statut:this.sup!==1},{texte:`${p} ans`,statut:this.sup!==1},{texte:`${d} m`,statut:this.sup===1},{texte:`${m} cm`,statut:this.sup===1}];break;default:x+=`En quelle classe est ${v} ?`,this.sup===1?g+="Aucune donnée n'est utile pour la résolution du problème.<br>":(g+=ye(c+2+" ans")+", "+ye(h)+", ",g+=ye(p+" ans")+", "+ye(d+" m"),g+=" et "+ye(m+" cm")+" ne sont pas utiles pour la résolution du problème.<br>"),g+="On ne peut pas répondre à ce problème. Il manque des informations.",this.autoCorrection[l].propositions=[{texte:`${c+2} ans`,statut:this.sup!==1},{texte:`${h}`,statut:this.sup!==1},{texte:`${p} ans`,statut:this.sup!==1},{texte:`${d} m`,statut:this.sup!==1},{texte:`${m} cm`,statut:this.sup!==1}];break}break;case 8:switch(y=Pt(a),f=zl(),c=ge(45,58),h=ge(3,5),p=ge(7,9)+" h "+5*ge(2,11),d=Co(yt(ge(9,15,10)/10),1)+"0",m=5*ge(4,11),x+=`Le ${y} de ${f}, âgé de ${c} ans, se rend ${h} fois par semaine à ${Pt(["Paris","Toulouse","Bordeaux","Rouen"])} en train. `,x+=`Une fois arrivé, il prend le métro à ${p}, après avoir acheté systématiquement le même journal, dans un kiosque de la gare, qui coûte ${d} €. Son trajet en métro dure ${m} minutes pour se rendre au travail.<br>`,o){case 1:x+=`Combien le ${y} de ${f} dépense-t-il chaque semaine pour son journal ?`,this.sup===1?(g+=ye(h+" fois"),g+=" et "+ye(d+" €")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(h)+`$${Be()}\\times${Be()}$`+ye(d+" € ")+"."):(g+=ye(c+" ans")+", "+ye(p),g+=" et "+ye(m+" min")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(h)+`$${Be()}\\times${Be()}$`+di(d+" € ")+"."),this.autoCorrection[l].propositions=[{texte:`${c} ans`,statut:this.sup!==1},{texte:`${h} fois`,statut:this.sup===1},{texte:`${p}`,statut:this.sup!==1},{texte:`${d} €`,statut:this.sup===1},{texte:`${m} min`,statut:this.sup!==1}];break;case 2:x+=`À quelle heure le ${y} de ${f} arrive-t-il à son travail ?`,this.sup===1?(g+=ye(p),g+=" et "+ye(m+" min")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(p)+`$${Be()}+${Be()}$`+ye(m+" min")+"."):(g+=ye(c+" ans, ")+ye(h+" fois"),g+=" et "+ye(d+" €")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(p)+`$${Be()}+${Be()}$`+di(m+" min")+"."),this.autoCorrection[l].propositions=[{texte:`${c} ans`,statut:this.sup!==1},{texte:`${h} fois`,statut:this.sup!==1},{texte:`${p}`,statut:this.sup===1},{texte:`${d} €`,statut:this.sup!==1},{texte:`${m} min`,statut:this.sup===1}];break;default:x+=`À quelle heure le ${y} de ${f} est-il parti de chez lui ?`,this.sup===1?g+="Aucune donnée n'est utile pour la résolution du problème.<br>":(g+=ye(c+" ans")+", "+ye(p)+", ",g+=ye(h+" fois")+", "+ye(d+" €"),g+=" et "+ye(m+" min")+" ne sont pas utiles pour la résolution du problème.<br>"),g+="On ne peut pas répondre à ce problème. Il manque des informations.",this.autoCorrection[l].propositions=[{texte:`${c} ans`,statut:this.sup!==1},{texte:`${h} fois`,statut:this.sup!==1},{texte:`${p}`,statut:this.sup!==1},{texte:`${d} €`,statut:this.sup!==1},{texte:`${m} min`,statut:this.sup!==1}];break}break;case 9:switch(y=Pt(s),f=zl(),v=Ll(),c=ge(21,39),h=ge(7,18),p=ge(7,15),d=ge(10,12)+" h "+5*ge(2,11),m=ge(16,29),x+=`Un livreur part de son entrepôt avec ${c} colis. Au premier arrêt, le plus près, il dépose ${h} colis. ${p} km plus loin, il livre le reste de ses colis. `,x+=`Ensuite, à ${d}, le livreur reprend la même route et retourne à l'entrepôt, à ${m} km de là.<br>`,o){case 1:x+="Quelle distance sépare l'entrepôt du premier arrêt ?",this.sup===1?(g+=ye(p+" km"),g+=" et "+ye(m+" km")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(m+" km")+`$${Be()}-${Be()}$`+ye(p+" km ")+"."):(g+=ye(c+" colis")+", "+ye(h+" colis"),g+=" et "+ye(d)+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(m+" km")+`$${Be()}-${Be()}$`+ye(p+" km ")+"."),this.autoCorrection[l].propositions=[{texte:`${c} colis`,statut:this.sup!==1},{texte:`${h} colis`,statut:this.sup!==1},{texte:`${p} km`,statut:this.sup===1},{texte:`${d}`,statut:this.sup!==1},{texte:`${m} km`,statut:this.sup===1}];break;case 2:x+="Combien de colis le livreur a-t-il déposé à son deuxième arrêt ?",this.sup===1?(g+=ye(c+" colis"),g+=" et "+ye(h+" colis")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(c+" colis")+`$${Be()}-${Be()}$`+ye(h+" colis")+"."):(g+=ye(p+" km, ")+ye(d),g+=" et "+ye(m+" km")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(c+" colis")+`$${Be()}-${Be()}$`+di(h+" colis")+"."),this.autoCorrection[l].propositions=[{texte:`${c} colis`,statut:this.sup===1},{texte:`${h} colis`,statut:this.sup===1},{texte:`${p} km`,statut:this.sup!==1},{texte:`${d}`,statut:this.sup!==1},{texte:`${m} km`,statut:this.sup!==1}];break;default:x+="À quelle heure ce livreur est-il rentré à l'entrepôt ?",this.sup===1?g+="Aucune donnée n'est utile pour la résolution du problème.<br>":(g+=ye(c+" colis")+", "+ye(d)+", ",g+=ye(h+" colis")+", "+ye(p+" km"),g+=" et "+ye(m+" km")+" ne sont pas utiles pour la résolution du problème.<br>"),g+="On ne peut pas répondre à ce problème. Il manque des informations.",this.autoCorrection[l].propositions=[{texte:`${c} colis`,statut:this.sup!==1},{texte:`${h} colis`,statut:this.sup!==1},{texte:`${p} km`,statut:this.sup!==1},{texte:`${d}`,statut:this.sup!==1},{texte:`${m} km`,statut:this.sup!==1}];break}break;case 10:switch(f=Pt(["du Havre","de Rotterdam","de Hambourg","de Marseille","de Lisbonne"]),v=Pt(["Hong-Kong","Rio de Janeiro","Auckland","Sidney","Kuala Lumpur"]),c=ge(85,153),h=ge(67,86),p=ge(23,30),d=ge(7,26),u=ge(14,21),m=u*d,x+=`Un cargo mesurant ${c} m transporte ${h} gros conteneurs de ${p} tonnes chacun ${f} à ${v}. `,x+=`Ce bateau transporte aussi ${d} petits conteneurs pour une masse totale de ${m} tonnes.<br>`,o){case 1:x+="Quelle est la masse de chacun des petits conteneurs, sachant qu'ils ont tous la même masse ?",this.sup===1?(g+=ye(d+" conteneurs"),g+=" et "+ye(m+" tonnes")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(m+" tonnes")+`$${Be()}\\div${Be()}$`+ye(d)+"."):(g+=ye(c+" m")+", "+ye(h+" conteneurs"),g+=" et "+ye(p+" tonnes")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(m+" tonnes")+`$${Be()}\\div${Be()}$`+di(d)+"."),this.autoCorrection[l].propositions=[{texte:`${c} m`,statut:this.sup!==1},{texte:`${h} conteneurs`,statut:this.sup!==1},{texte:`${p} tonnes`,statut:this.sup!==1},{texte:`${d} conteneurs`,statut:this.sup===1},{texte:`${m} tonnes`,statut:this.sup===1}];break;case 2:x+="Quelle est la masse totale des gros conteneurs ?",this.sup===1?(g+=ye(h+" conteneurs"),g+=" et "+ye(p+" tonnes")+" sont utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=ye(h)+`$${Be()}\\times${Be()}$`+ye(p+" tonnes")+"."):(g+=ye(c+" m, ")+ye(d+" conteneurs"),g+=" et "+ye(m+" tonnes")+" ne sont pas utiles pour la résolution du problème.<br>",g+="La solution du problème est donnée par : ",g+=di(h)+`$${Be()}\\times${Be()}$`+di(p+" tonnes")+"."),this.autoCorrection[l].propositions=[{texte:`${c} m`,statut:this.sup!==1},{texte:`${h} conteneurs`,statut:this.sup===1},{texte:`${p} tonnes`,statut:this.sup===1},{texte:`${d} conteneurs`,statut:this.sup!==1},{texte:`${m} tonnes`,statut:this.sup!==1}];break;default:x+="Quelle est la longueur d'un gros conteneur ?",this.sup===1?g+="Aucune donnée n'est utile pour la résolution du problème.<br>":(g+=ye(c+" m")+", "+ye(d+" conteneurs")+", ",g+=ye(h+" conteneurs")+", "+ye(p+" tonnes"),g+=" et "+ye(m+" tonnes")+" ne sont pas utiles pour la résolution du problème.<br>"),g+="On ne peut pas répondre à ce problème. Il manque des informations.",this.autoCorrection[l].propositions=[{texte:`${c} m`,statut:this.sup!==1},{texte:`${h} conteneurs`,statut:this.sup!==1},{texte:`${p} tonnes`,statut:this.sup!==1},{texte:`${d} conteneurs`,statut:this.sup!==1},{texte:`${m} tonnes`,statut:this.sup!==1}];break}break}this.autoCorrection[l].enonce=this.consigne+"<br>"+x,this.autoCorrection[l].options={ordered:!1,lastChoice:5};const b=Mf(this,l);x+=b.texte,this.listeQuestions.push(x),this.listeCorrections.push(g)}Cu(this)}},interactifReady:!0,interactifType:"qcm",refs:{"fr-fr":["6N5-3"],"fr-2016":["6C12-3"],"fr-ch":["9NO16-2"]},titre:"Trouver les informations utiles ou inutiles pour résoudre des problèmes",uuid:"7fb24"},Symbol.toStringTag,{value:"Module"})),YSe=!0,KSe="AMCHybride",XSe=!0,QSe="mathLive",JSe="Résoudre des problèmes avec des informations inutiles",eDe="01/03/2022",tDe="04/04/2024",rDe="529ad",iDe={"fr-fr":["6N5-4"],"fr-2016":["6C12-4"],"fr-ch":["9NO16-3"]};class nDe extends Os{constructor(){super(),this.besoinFormulaireTexte=["Choix des problèmes",`Nombres séparés par des tirets :
1 : Livres
2 : Haricots
3 : Villages de montagne
4 : Manga
5 : Film
6 : Vélo
7 : Taille
8 : Gare
9 : Livreur
10 : Cargo
11 : Tous les problèmes
`],this.nbQuestions=4,this.sup=11,this.spacing=2}nouvelleVersion(){const e=["chaque","ce"];this.consigne="Résoudre ",this.consigne+=this.nbQuestions===1?e[1]:e[0],this.consigne+=" problème.";const r=Xl({max:10,defaut:11,nbQuestions:this.nbQuestions,melange:11,saisie:this.sup}),i=["père","frère","cousin","grand-père","voisin"],n=["mère","sœur","cousine","grand-mère","tante","voisine"];let a=0;for(let s=0,o,l,u,c,h,p,d,m,f,v,y,x,g,b;s<this.nbQuestions;s++){switch(x=0,a=Pt([1,2]),v="",y="",r[s]){case 1:switch(l=ge(17,35),u=ge(7,15),h=ge(3,10),p=10*ge(20,60),v+=`Dans une classe de $${l}$ élèves âgés de $${u}$  à ${u+2}  ans,`,v+=` un professeur distribue à chaque enfant $${h}$ livres pesant $${p}$ g chacun.<br>`,a){case 1:v+="Quel est le nombre total de livres distribués ?",x=l*h,y+=`$${Ge(l,"blue")} \\times ${Ge(h,"blue")}$`+ye(" livres","blue")+`$${Be()}=${Ge(x,"blue")}$`+ye(" livres","blue")+"<br>",y+=`$${Ge(x)}$ livres sont distribués par le professeur.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"livres"}),cr(this,s,{reponse:{value:x}}));break;case 2:default:v+="Quelle est la masse totale des livres distribués à chaque enfant ?",x=p*h,y+=`$${Ge(p,"blue")}$`+ye(" g","blue")+`$${Be()}\\times${Be()}${Ge(h,"blue")}=${Ge(de(x),"blue")}$`+ye(" g","blue")+"<br>",y+=`La masse totale des livres distribués à chaque enfant est de $${Ge(de(x))}$ g.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"g"}),cr(this,s,{reponse:{value:x}}));break}break;case 2:switch(d=zl(),l=ge(2,5),u=Pt([250,500,600,750]),c=yt(ge(10,50)/10+ge(1,9)/100),b=yt(l*c),c=Co(c),h=ge(2,5,l),p=yt(ge(20,40)/10+ge(1,9)/100),g=yt(h*p),p=Co(p),v+=`Au marché, ${d} achète $${l}$ barquettes de haricots verts de $${u}$${Be(1)}g chacune à $${c}$${Be(1)}€ pièce `,v+=` et $${h}$${Be(1)}ananas coûtant $${p}$${Be(1)}€ l'unité.<br>`,a){case 1:v+="Quel est le prix total des fruits achetés ?",y+=`$${Ge(h,"blue")} \\times ${Ge(p,"blue")}$`+ye(" €","blue")+`$${Be()}=${Ge(ho(g),"blue")}$`+ye(" €","blue")+"<br>",y+=`Le prix total des fruits achetés est de $${Ge(ho(g))}$ €.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"€"}),cr(this,s,{reponse:{value:g}}));break;case 2:default:v+="Quel est le prix total des légumes achetés ?",y+=`$${Ge(l,"blue")} \\times ${Ge(c,"blue")}$`+ye(" €","blue")+`$${Be()}=${Ge(ho(b),"blue")}$`+ye(" €","blue")+"<br>",y+=`Le prix total des légumes achetés est de $${Ge(ho(b))}$ €.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"€"}),cr(this,s,{reponse:{value:b}}));break}break;case 3:switch(d=zl(),m=Ll(),l=ge(501,978),u=ge(230,450),c=ge(5,11),h=ge(110,230),p=ge(128,Math.round(l/2)),v+=`Le village de Sainte-${m}-Les-Trois-Vallées compte $${l}$ habitants et se situe à une altitude de $${u}$ m.`,v+=` À $${c}$ km de là, le village de Saint-${d}-Le-Bouquetin, situé $${h}$ m plus haut, compte $${p}$ habitants de moins.<br>`,a){case 1:v+=`Combien d'habitants compte le village de Saint-${d}-Le-Bouquetin ?`,x=l-p,y+=`$${Ge(l,"blue")}$`+ye(" habitants","blue")+`$${Be()}-${Be()} ${Ge(p,"blue")}$`+ye(" habitants","blue")+`$${Be()}=${Ge(de(x),"blue")}$`+ye(" habitants","blue")+"<br>",y+=`Le village de Saint-${d}-Le-Bouquetin compte $${Ge(de(x))}$ habitants.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"habitants"}),cr(this,s,{reponse:{value:x}}));break;case 2:default:v+=`À quelle altitude se situe le village de Saint-${d}-Le-Bouquetin ?`,x=u+h,y+=`$${Ge(u,"blue")}$`+ye(" m","blue")+`$${Be()}+${Be()} ${Ge(h,"blue")}$`+ye(" m","blue")+`$${Be()}=${Ge(de(x),"blue")}$`+ye(" m","blue")+"<br>",y+=`Le village de Saint-${d}-Le-Bouquetin se situe à $${Ge(de(x))}$ m d'altitude.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"m"}),cr(this,s,{reponse:{value:x}}));break}break;case 4:switch(f=Pt(i),m=Ll(),l="1 h "+5*ge(2,10)+" min",u=yt(ge(50,90)/10+ge(1,9)/100),c=ge(5,9),h=Pt([10,20,50]),p=4*ge(12,24),b=yt(h-u),u=ho(u),v+=`${m} vient de lire en ${l} un manga qu'elle avait payé $${u}$ €. `,v+=`Elle a remarqué que sur chaque page, il y avait exactement $${c}$ cases. `,v+=`C'est grâce au billet de $${h}$ € que lui a donné son ${f}, que ${m} a pu s'acheter ce livre de $${p}$ pages.<br>`,a){case 1:v+=`Combien y a-t-il de cases dans le manga de ${m} ?`,g=c*p,y+=`$${Ge(c,"blue")}$`+ye(" cases","blue")+`$${Be()}\\times${Be()} ${Ge(p,"blue")}$$${Be()}=${Ge(de(g),"blue")}$`+ye(" cases","blue")+"<br>",y+=`Il y a $${Ge(de(g))}$ cases dans le manga de ${m}.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"cases"}),cr(this,s,{reponse:{value:g}}));break;case 2:default:v+=`Lorsqu'elle a acheté son manga, quelle somme d'argent a-t-on rendu à ${m} ?`,y+=`$${Ge(h,"blue")}$`+ye(" €","blue")+`$${Be()}-${Be()} ${Ge(u,"blue")}$`+ye(" €","blue")+`$${Be()}=${Ge(ho(b),"blue")}$`+ye(" €","blue")+"<br>",y+=`On a rendu à ${m} $${Ge(ho(b))}$ €.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"€"}),cr(this,s,{reponse:{value:b}}));break}break;case 5:switch(f=ge(1,2)===1?"sa "+Pt(n):"son "+Pt(i),ge(1,2)===1?(d=zl(),m="il"):(d=Ll(),m="elle"),o=ge(13,21),l=CG()+" "+ge(2,29)+" "+kG(ge(1,12)),u=o*60+5*ge(2,11),c=(o+2)*60+5*ge(2,11),g=ik(c-u),u=kh(u),c=kh(c),h=(o+1)*60+5*ge(2,11),p=ge(37,58),b=ik(h+p),h=kh(h),v+=`${d} décide de programmer la box de ${f} pour enregistrer un film prévu le ${l} et une émission prévue le lendemain. `,v+=`Le film doit commencer à ${u} et se terminer à ${c}. L'émission commence à ${h} et dure $${p}$ minutes.<br>`,a){case 1:v+="Quelle est la durée prévue du film ?",y+=ye(c,"blue")+`$${Be()}-${Be()}$`+ye(u,"blue")+`${Be()}=${Be()}`+ye(kh(g[0]*60+g[1]),"blue")+"<br>",y+=`La durée prévue du film est de ${ye(kh(g[0]*60+g[1]))}.`,this.interactif&&(v+=zy(this,s,"%{champ1} ~\\text{h}~%{champ2}~\\text{min}",Xt.clavierDeBase),cr(this,s,{bareme:k=>[Math.min(k[0],k[1]),1],champ1:{value:g[0]},champ2:{value:g[1]}}));break;case 2:default:v+="À quelle heure se termine l'émission ?",y+=ye(h,"blue")+`$${Be()}+${Be()}$`+ye(p+" minutes","blue")+`${Be()}=${Be()}`+ye(kh(b[0]*60+b[1]),"blue")+"<br>",y+=`L'émission se termine à ${ye(MG(b[0]*60+b[1]))}.`,this.interactif&&(v+=zy(this,s,"%{champ1} ~\\text{h}~%{champ2}~\\text{min}",Xt.clavierDeBase),cr(this,s,{bareme:k=>[Math.min(k[0],k[1]),1],champ1:{value:b[0]},champ2:{value:b[1]}}));break}break;case 6:for(f=Pt(n),d=Pt(i),m=Ll(),l=Pt([15,18,21]),u=ge(214,625),c=ge(15,18),h=yt(ge(2054,3298)/100),p=Pt([2,3,4,6,12]);100*u%p!==0;)u=ge(214,625);switch(b=h+u,h=ho(h),v+=`La ${f} de ${m} lui a acheté un superbe vélo de $${l}$ vitesses, coûtant $${u}$ €, avec des roues de $${c}$ pouces. `,v+=`Pour la protéger, son ${d} lui a offert un casque et du matériel d'éclairage valant $${h}$ €. `,v+=`La ${f} de ${m} a décidé de payer le vélo en $${p}$ fois.<br>`,a){case 1:v+=`Quel est le montant de chaque versement que payera la ${f} de ${m} ?`,g=yt(u/p),y+=`$${Ge(u,"blue")}$`+ye(" €","blue")+`$${Be()}\\div${Be()}${Ge(p,"blue")}=${Ge(ho(g),"blue")}$`+ye(" €","blue")+"<br>",y+=`La ${f} de ${m} payera $${p}$ fois, la somme de $${Ge(ho(g))}$ €.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"€"}),cr(this,s,{reponse:{value:g}}));break;case 2:default:v+=`Quel est le montant total des cadeaux offerts à ${m} ?`,y+=`$${Ge(h,"blue")}$`+ye(" €","blue")+`$${Be()}+${Be()}${Ge(u,"blue")}$`+ye(" €","blue")+`$${Be()}=${Be()}${Ge(ho(b),"blue")}$`+ye(" €","blue")+"<br>",y+=`Le montant total des cadeaux offerts à ${m} est de $${Ge(ho(b))}$ €.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"€"}),cr(this,s,{reponse:{value:b}}));break}break;case 7:switch(f=Pt(n),d=zl(),m=Ll(),l=ge(0,3),u=["3ème","4ème","5ème","6ème"][l],c=[14,13,12,11][l],h=yt(ge(132,151)/100),p=ge(21,42),b=yt(h+p/100),h=de(h),v+=`${d}, un élève de ${u}, de $${c}$ ans, mesure $${h}$ m. `,v+=`${m} a $${l+2}$ ans de plus que ${d} et mesure $${p}$ cm de plus.<br>`,a){case 1:v+=`Quel est l'âge de ${m} ?`,g=l+2+c,y+=`$${Ge(c,"blue")}$`+ye(" ans","blue")+`$${Be()}+${Be()}${Ge(l+2,"blue")}$`+ye(" ans","blue")+`$${Be()}=${Ge(g,"blue")}$`+ye(" ans","blue")+"<br>",y+=`${m} a $${Ge(g)}$ ans.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"ans"}),cr(this,s,{reponse:{value:g}}));break;case 2:default:v+=`Combien mesure ${m} ?`,y+=`$${Ge(h,"blue")}$`+ye(" m","blue")+`$${Be()}+${Be()}${Ge(p,"blue")}$`+ye(" cm","blue")+`$${Be()}=${Be()}${Ge(h,"blue")}$`+ye(" m","blue")+`$${Be()}+${Be()}${Ge(de(yt(p/100)),"blue")}$`+ye(" m","blue")+`$${Be()}=${Be()}${Ge(de(b),"blue")}$`+ye(" m","blue")+"<br>",y+=`${m} mesure $${Ge(de(b))}$ m.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"m"}),cr(this,s,{reponse:{value:b}}));break}break;case 8:switch(f=Pt(i),d=zl(),l=ge(45,58),u=ge(3,5),c=ge(7,9)*60+5*ge(2,11),h=yt(ge(9,15,10)/10,1),g=yt(h*u),h=ho(h),p=5*ge(4,11),b=ik(c+p),c=kh(c),v+=`Le ${f} de ${d}, âgé de $${l}$ ans, se rend $${u}$ fois par semaine à ${Pt(["Paris","Toulouse","Bordeaux","Rouen"])} en train. `,v+=`Une fois arrivé, il prend le métro à ${c}, après avoir acheté systématiquement le même journal, dans un kiosque de la gare, qui coûte $${h}$ €. Son trajet en métro dure $${p}$ minutes pour se rendre au travail.<br>`,a){case 1:v+=`Combien le ${f} de ${d} dépense-t-il chaque semaine pour son journal ?`,y+=`$${Ge(u,"blue")} \\times ${Ge(h,"blue")}$`+ye(" €","blue")+`$${Be()}=${Ge(ho(g),"blue")}$`+ye(" €","blue")+"<br>",y+=`Le ${f} de ${d} dépense chaque semaine $${Ge(ho(g))}$ € pour son journal.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"€"}),cr(this,s,{reponse:{value:g}}));break;case 2:default:v+=`À quelle heure le ${f} de ${d} arrive-t-il à son travail ?`,y+=ye(c,"blue")+`$${Be()}+${Be()}$`+ye(p+" min","blue")+`${Be()}=${Be()}`+ye(kh(b[0]*60+b[1]),"blue")+"<br>",y+=`Le ${f} de ${d} arrive à son travail ${ye(MG(b[0]*60+b[1]))}.`,this.interactif&&(v+=zy(this,s,"%{champ1} ~\\text{h}~%{champ2}~\\text{min}",Xt.clavierDeBase),cr(this,s,{bareme:k=>[Math.min(k[0],k[1]),1],champ1:{value:b[0]},champ2:{value:b[1]}}));break}break;case 9:switch(f=Pt(n),d=zl(),m=Ll(),l=ge(21,39),u=ge(7,18),c=ge(7,15),h=ge(10,12)+" h "+5*ge(2,11)+" min",p=ge(16,29),v+=`Un livreur part de son entrepôt avec $${l}$ colis. Au premier arrêt, le plus près, il dépose $${u}$ colis. $${c}$ km plus loin, il livre le reste de ses colis. `,v+=`Ensuite, à ${h}, le livreur reprend la même route et retourne à l'entrepôt, à $${p}$ km de là.<br>`,a){case 1:v+="Quelle distance sépare l'entrepôt du premier arrêt ?",x=p-c,y+=`$${Ge(p,"blue")}$`+ye(" km","blue")+`$${Be()}-${Be()} ${Ge(c,"blue")}$`+ye(" km","blue")+`$${Be()}=${Ge(x,"blue")}$`+ye(" km","blue")+"<br>",y+=`La distance séparant l'entrepôt du premier arrêt est de $${Ge(x)}$ km.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"km"}),cr(this,s,{reponse:{value:x}}));break;case 2:default:v+="Combien de colis le livreur a-t-il déposé à son deuxième arrêt ?",x=l-u,y+=`$${Ge(l,"blue")}$`+ye(" colis","blue")+`$${Be()}-${Be()} ${Ge(u,"blue")}$`+ye(" colis","blue")+`$${Be()}=${Ge(x,"blue")}$`+ye(" colis","blue")+"<br>",y+=`Le livreur a déposé $${Ge(x)}$ colis à son deuxième arrêt.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"colis"}),cr(this,s,{reponse:{value:x}}));break}break;case 10:default:switch(d=Pt(["du Havre","de Rotterdam","de Hambourg","de Marseille","de Lisbonne"]),m=Pt(["Hong-Kong","Rio de Janeiro","Auckland","Sidney","Kuala Lumpur"]),l=ge(85,153),u=ge(67,86),c=ge(23,30),h=ge(7,26),o=yt(ge(140,210)/10,1),p=yt(o*h,1),b=o,p=de(p),v+=`Un cargo mesurant $${l}$ m transporte $${u}$ gros conteneurs de $${c}$ tonnes chacun ${d} à ${m}. `,v+=`Ce bateau transporte aussi $${h}$ petits conteneurs pour une masse totale de $${p}$ tonnes.<br>`,a){case 1:v+="Quelle est la masse, en kg, de chacun des petits conteneurs, sachant qu'ils ont tous la même masse ?",g=yt(b*1e3,0),y+=`$${Ge(p,"blue")}$`+ye(" tonnes","blue")+`$${Be()}\\div${Be()}${Ge(h,"blue")}=${Ge(de(b),"blue")}$`+ye(" tonnes","blue")+`$${Be()}=${Ge(de(g),"blue")}$`+ye(" kg","blue")+"<br>",y+=`La masse de chacun des petits conteneurs est de $${Ge(de(g))}$ kg.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"kg"}),cr(this,s,{reponse:{value:g}}));break;case 2:default:v+="Quelle est la masse totale, en tonnes, des gros conteneurs ?",x=u*c,y+=`$${Ge(u,"blue")} \\times ${Ge(c,"blue")}$`+ye(" tonnes","blue")+`$${Be()}=${Ge(de(x),"blue")}$`+ye(" tonnes","blue")+"<br>",y+=`La masse totale des gros conteneurs est de $${Ge(de(x))}$ tonnes.`,this.interactif&&(v+=gr(this,s,Xt.clavierDeBase,{texteApres:Be(3)+"tonnes"}),cr(this,s,{reponse:{value:x}}));break}break}this.listeQuestions.push(v),this.listeCorrections.push(y)}Cu(this)}}const aDe=Object.freeze(Object.defineProperty({__proto__:null,amcReady:YSe,amcType:KSe,dateDeModifImportante:tDe,dateDePublication:eDe,default:nDe,interactifReady:XSe,interactifType:QSe,refs:iDe,titre:JSe,uuid:rDe},Symbol.toStringTag,{value:"Module"}));function SG(t,e,r,i,n,a,s){const o=(r-t)/2,l=(i-e)/2,u=Math.cos(n),c=Math.sin(n),h=Math.abs(o*u)+Math.abs(l*c),p=Math.abs(o*c)+Math.abs(l*u),d=(t+r)/2,m=(e+i)/2,f=u*(d-a)-c*(m-s)+a,v=c*(d-a)+u*(m-s)+s;return[f-h,v-p,f+h,v+p]}class Ma extends br{constructor({name:e="",codeSvg:r,codeTikz:i,x:n=0,y:a=0,angle:s=0,scale:o={x:1,y:1},width:l,height:u,pixelsParCm:c=Tt.pixelsParCm,opacite:h=1,bordures:p}){super(),this.opacite=1,this.name=e,this.codeSvg=r,this.codeTikz=i,this.x=n,this.y=a,this.angle=s,this.scale=o,this.width=l,this.height=u,this.pixelsParCm=c,this.opacite=h,this.bordures=p??[this.x-this.width/2,this.y-this.height/2,this.x+this.width/2,this.y+this.height/2]}svg(e){return`<g opacity=${this.opacite} transform="translate(${(this.x*e).toFixed(2)}, ${(-this.y*e).toFixed(2)}) ${this.scale.x!==1||this.scale.y!==1||e!==20?`scale(${(this.scale.x*e/20).toFixed(3)},${(this.scale.y*e/20).toFixed(3)})`:""} ${this.angle!==0?`rotate(${(-this.angle).toFixed(2)})`:""}">${this.codeSvg}</g>`}tikz(){return`\\begin{scope}[fill opacity=${this.opacite}, shift={(${this.x.toFixed(2)},${this.y.toFixed(2)})}${this.scale.x!==1?`, xscale=${this.scale.x.toFixed(3)}`:""}${this.scale.y!==1?`, yscale=${this.scale.y.toFixed(3)}`:""}${this.angle!==0?`, rotate around={${this.angle}:(0,0)}`:""}]
    ${this.codeTikz}
    \\end{scope}`}updateBordures(){this.bordures=[this.x-this.width/2,this.y-this.height/2,this.x+this.width/2,this.y+this.height/2],this.angle!==0&&(this.bordures=SG(this.bordures[0],this.bordures[1],this.bordures[2],this.bordures[3],this.angle*Math.PI/180,this.x,this.y))}rotate(e){return this.angle+=e,this.bordures=SG(this.bordures[0],this.bordures[1],this.bordures[2],this.bordures[3],e*Math.PI/180,this.x,this.y),this}dilate(e){typeof e=="number"&&(e={x:e,y:e}),this.scale.x*=e.x,this.scale.y*=e.y,this.width=this.width*e.x,this.height=this.height*e.y;let r=this.bordures[0],i=this.bordures[1],n=this.bordures[2],a=this.bordures[3];return r=(r-this.x)*e.x+this.x,i=(i-this.y)*e.y+this.y,n=(n-this.x)*e.x+this.x,a=(a-this.y)*e.y+this.y,this.bordures=[r,i,n,a],this}translate(e,r){return this.x+=e,this.y+=r,this.bordures=[this.bordures[0]+e,this.bordures[1]+r,this.bordures[2]+e,this.bordures[3]+r],this}flip(e="x"){return e==="x"?(this.scale.x=-this.scale.x,this.angle=-this.angle):e==="y"?(this.scale.y=-this.scale.y,this.angle=-this.angle):e==="xy"&&(this.scale.x=-this.scale.x,this.scale.y=-this.scale.y),this}clone(){const e=String(this.codeTikz),r=String(this.codeSvg),i=Number(this.x),n=Number(this.y),a=Number(this.angle),s={x:this.scale.x,y:this.scale.y},o=Number(this.width),l=Number(this.height),u=Number(this.pixelsParCm);return new Ma({codeSvg:r,codeTikz:e,x:i,y:n,angle:a,scale:s,width:o,height:l,pixelsParCm:u,opacite:this.opacite,bordures:this.bordures})}}const sDe={2600:"<path fill='#FFAC33' d='M16 2s0-2 2-2 2 2 2 2v2s0 2-2 2-2-2-2-2V2zm18 14s2 0 2 2-2 2-2 2h-2s-2 0-2-2 2-2 2-2h2zM4 16s2 0 2 2-2 2-2 2H2s-2 0-2-2 2-2 2-2h2zm5.121-8.707s1.414 1.414 0 2.828-2.828 0-2.828 0L4.878 8.708s-1.414-1.414 0-2.829c1.415-1.414 2.829 0 2.829 0l1.414 1.414zm21 21s1.414 1.414 0 2.828-2.828 0-2.828 0l-1.414-1.414s-1.414-1.414 0-2.828 2.828 0 2.828 0l1.414 1.414zm-.413-18.172s-1.414 1.414-2.828 0 0-2.828 0-2.828l1.414-1.414s1.414-1.414 2.828 0 0 2.828 0 2.828l-1.414 1.414zm-21 21s-1.414 1.414-2.828 0 0-2.828 0-2.828l1.414-1.414s1.414-1.414 2.828 0 0 2.828 0 2.828l-1.414 1.414zM16 32s0-2 2-2 2 2 2 2v2s0 2-2 2-2-2-2-2v-2z'/><circle fill='#FFAC33' cx='18' cy='18' r='10'/>",2601:"<path fill='#CCD6DD' d='M27 8c-.701 0-1.377.106-2.015.298.005-.1.015-.197.015-.298 0-3.313-2.687-6-6-6-2.769 0-5.093 1.878-5.785 4.427C12.529 6.154 11.783 6 11 6c-3.314 0-6 2.686-6 6 0 3.312 2.686 6 6 6 2.769 0 5.093-1.878 5.785-4.428.686.273 1.432.428 2.215.428.375 0 .74-.039 1.096-.104-.058.36-.096.727-.096 1.104 0 3.865 3.135 7 7 7s7-3.135 7-7c0-3.866-3.135-7-7-7z'/><path fill='#E1E8ED' d='M31 22c-.467 0-.91.085-1.339.204.216-.526.339-1.1.339-1.704 0-2.485-2.015-4.5-4.5-4.5-1.019 0-1.947.351-2.701.921C22.093 14.096 19.544 12 16.5 12c-2.838 0-5.245 1.822-6.131 4.357C9.621 16.125 8.825 16 8 16c-4.418 0-8 3.582-8 8 0 4.419 3.582 8 8 8h23c2.762 0 5-2.238 5-5s-2.238-5-5-5z'/>",2764:"<path fill='#DD2E44' d='M35.885 11.833c0-5.45-4.418-9.868-9.867-9.868-3.308 0-6.227 1.633-8.018 4.129-1.791-2.496-4.71-4.129-8.017-4.129-5.45 0-9.868 4.417-9.868 9.868 0 .772.098 1.52.266 2.241C1.751 22.587 11.216 31.568 18 34.034c6.783-2.466 16.249-11.447 17.617-19.959.17-.721.268-1.469.268-2.242z'/>","1f603":"<path fill='#FFCC4D' d='M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18'/><ellipse fill='#664500' cx='11.5' cy='12.5' rx='2.5' ry='5.5'/><ellipse fill='#664500' cx='24.5' cy='12.5' rx='2.5' ry='5.5'/><path fill='#664500' d='M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z'/><path fill='#FFF' d='M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z'/>","1f44d":"<path fill='#FFDB5E' d='M34.956 17.916c0-.503-.12-.975-.321-1.404-1.341-4.326-7.619-4.01-16.549-4.221-1.493-.035-.639-1.798-.115-5.668.341-2.517-1.282-6.382-4.01-6.382-4.498 0-.171 3.548-4.148 12.322-2.125 4.688-6.875 2.062-6.875 6.771v10.719c0 1.833.18 3.595 2.758 3.885C8.195 34.219 7.633 36 11.238 36h18.044c1.838 0 3.333-1.496 3.333-3.334 0-.762-.267-1.456-.698-2.018 1.02-.571 1.72-1.649 1.72-2.899 0-.76-.266-1.454-.696-2.015 1.023-.57 1.725-1.649 1.725-2.901 0-.909-.368-1.733-.961-2.336.757-.611 1.251-1.535 1.251-2.581z'/><path fill='#EE9547' d='M23.02 21.249h8.604c1.17 0 2.268-.626 2.866-1.633.246-.415.109-.952-.307-1.199-.415-.247-.952-.108-1.199.307-.283.479-.806.775-1.361.775h-8.81c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583H28.7c.483 0 .875-.392.875-.875s-.392-.875-.875-.875h-5.888c-1.838 0-3.333 1.495-3.333 3.333 0 1.025.475 1.932 1.205 2.544-.615.605-.998 1.445-.998 2.373 0 1.028.478 1.938 1.212 2.549-.611.604-.99 1.441-.99 2.367 0 1.12.559 2.108 1.409 2.713-.524.589-.852 1.356-.852 2.204 0 1.838 1.495 3.333 3.333 3.333h5.484c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.416-.245-.953-.11-1.199.305-.285.479-.808.776-1.363.776h-5.484c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583h6.506c1.17 0 2.27-.626 2.867-1.633.247-.416.11-.953-.305-1.199-.419-.251-.954-.11-1.199.305-.289.487-.799.777-1.363.777h-7.063c-.873 0-1.583-.711-1.583-1.584s.71-1.583 1.583-1.583h8.091c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.417-.246-.953-.11-1.199.305-.289.486-.799.776-1.363.776H23.02c-.873 0-1.583-.71-1.583-1.583s.709-1.584 1.583-1.584z'/>","2b50":"<path fill='#FFAC33' d='M27.287 34.627c-.404 0-.806-.124-1.152-.371L18 28.422l-8.135 5.834c-.693.496-1.623.496-2.312-.008-.689-.499-.979-1.385-.721-2.194l3.034-9.792-8.062-5.681c-.685-.505-.97-1.393-.708-2.203.264-.808 1.016-1.357 1.866-1.363L12.947 13l3.179-9.549c.268-.809 1.023-1.353 1.874-1.353.851 0 1.606.545 1.875 1.353L23 13l10.036.015c.853.006 1.606.556 1.867 1.363.263.81-.022 1.698-.708 2.203l-8.062 5.681 3.034 9.792c.26.809-.033 1.695-.72 2.194-.347.254-.753.379-1.16.379z'/>","1f355":"<path fill='#F4900C' d='M18 4c7.257 0 13 4 14.699 2 .197-.323.301-.657.301-1 0-2-6.716-5-15-5C9.716 0 3 3 3 5c0 .343.104.677.301 1C5 8 10.743 4 18 4z'/><path fill='#FFCC4D' d='M18 3C11.787 3 7.384 4.81 5.727 5.618c-.477.233-.539.84-.415 1.278S16 34 16 34s.896 2 2 2 2-2 2-2L30.704 6.779s.213-.842-.569-1.229C28.392 4.689 24.047 3 18 3z'/><g fill='#BE1931'><path d='M18 31c0-2.208-1.791-4-4-4-.254 0-.5.029-.741.075L16 34s.071.14.19.342C17.279 33.627 18 32.399 18 31zm-1-11c0-2.209-1.792-4-4-4-1.426 0-2.67.752-3.378 1.876l2.362 5.978c.327.086.663.146 1.016.146 2.208 0 4-1.792 4-4z'/><circle cx='16' cy='8' r='4'/><path d='M25 9c-2.208 0-4 1.791-4 4s1.792 4 4 4c.682 0 1.315-.187 1.877-.488l1.89-4.806C28.227 10.135 26.752 9 25 9zm-6 16c0 1.868 1.288 3.425 3.019 3.864l2.893-7.357C24.342 21.194 23.697 21 23 21c-2.208 0-4 1.792-4 4zm-9-13c0-2.209-1.791-4-4-4-.087 0-.169.02-.255.026.55 1.412 1.575 4.016 2.775 7.057C9.416 14.349 10 13.248 10 12z'/></g>","1f37a":"<path fill='#FFAC33' d='M31 5.718h-6v4h4s2 0 2 2v12c0 2-2 2-2 2h-4v4h6c2.206 0 4-1.794 4-4v-16c0-2.206-1.794-4-4-4z'/><path fill='#FFCC4D' d='M27 6H3v26c0 2.209 1.791 4 4 4h16c2.209 0 4-1.791 4-4V6z'/><path fill='#F4900C' d='M8.5 32c-.552 0-1-.447-1-1V15c0-.552.448-1 1-1s1 .448 1 1v16c0 .553-.448 1-1 1zm6.5 0c-.552 0-1-.447-1-1V15c0-.552.448-1 1-1s1 .448 1 1v16c0 .553-.448 1-1 1zm6.5 0c-.553 0-1-.447-1-1V15c0-.552.447-1 1-1s1 .448 1 1v16c0 .553-.447 1-1 1z'/><path fill='#FFAC33' d='M3 5v7.445c.59.344 1.268.555 2 .555 1.674 0 3.104-1.031 3.701-2.491.35.302.801.491 1.299.491.677 0 1.273-.338 1.635-.853C12.345 11.258 13.583 12 15 12c1.301 0 2.445-.631 3.176-1.593C18.54 11.338 19.44 12 20.5 12c.949 0 1.765-.535 2.188-1.314l.147-.361c.497.271 1.059.439 1.665.439.981 0 1.865-.406 2.5-1.056V5H3z'/><path fill='#EEE' d='M24 0H4C2.343 0 1 1.343 1 3v4c0 2.209 1.791 4 4 4 1.674 0 3.104-1.031 3.701-2.491.35.302.801.491 1.299.491.677 0 1.273-.338 1.635-.853C12.345 9.258 13.583 10 15 10c1.301 0 2.445-.631 3.176-1.593C18.54 9.338 19.44 10 20.5 10c.949 0 1.765-.535 2.188-1.314.398.195.839.314 1.312.314 1.657 0 3-1.343 3-3V3c0-1.657-1.343-3-3-3z'/>","1f984":"<path fill='#C1CDD5' d='M36 19.854C33.518 9.923 25.006 1.909 16.031 6.832c0 0-4.522-1.496-5.174-1.948-.635-.44-1.635-.904-.912.436.423.782.875 1.672 2.403 3.317C8 12.958 9.279 18.262 7.743 21.75c-1.304 2.962-2.577 4.733-1.31 6.976 1.317 2.33 4.729 3.462 7.018 1.06 1.244-1.307.471-1.937 3.132-4.202 2.723-.543 4.394-1.791 4.394-4.375 0 0 .795-.382 1.826 6.009.456 2.818-.157 5.632-.039 8.783H36V19.854z'/><path fill='#60379A' d='M31.906 6.062c.531 1.312.848 3.71.595 5.318-.15-3.923-3.188-6.581-4.376-7.193-2.202-1.137-4.372-.979-6.799-.772.111.168.403.814.32 1.547-.479-.875-1.604-1.42-2.333-1.271-1.36.277-2.561.677-3.475 1.156-.504.102-1.249.413-2.372 1.101-1.911 1.171-4.175 4.338-6.737 3.511 1.042 2.5 3.631 1.845 3.631 1.845 1.207-1.95 4.067-3.779 6.168-4.452 7.619-1.745 12.614 3.439 15.431 9.398.768 1.625 2.611 7.132 4.041 10.292V10.956c-.749-1.038-1.281-3.018-4.094-4.894z'/><path fill='#C1CDD5' d='M13.789 3.662c.573.788 3.236.794 4.596 3.82 1.359 3.026-1.943 2.63-3.14 1.23-1.334-1.561-1.931-2.863-2.165-3.992-.124-.596-.451-2.649.709-1.058z'/><path fill='#758795' d='M14.209 4.962c.956.573 2.164 1.515 2.517 2.596.351 1.081-.707.891-1.349-.042-.641-.934-.94-1.975-1.285-2.263-.346-.289.117-.291.117-.291z'/><circle fill='#292F33' cx='15.255' cy='14.565' r='.946'/><path fill='#53626C' d='M8.63 26.877c.119.658-.181 1.263-.67 1.351-.49.089-.984-.372-1.104-1.03-.119-.659.182-1.265.671-1.354.49-.088.984.373 1.103 1.033z'/><path fill='#EE7C0E' d='M13.844 8.124l.003-.002-.005-.007-.016-.014c-.008-.007-.011-.019-.019-.025-.009-.007-.021-.011-.031-.018C12.621 7.078.933-.495.219.219-.51.948 10.443 9.742 11.149 10.28l.011.006.541.439c.008.007.01.018.018.024.013.01.028.015.042.024l.047.038-.009-.016c.565.361 1.427.114 1.979-.592.559-.715.577-1.625.066-2.079z'/><path fill='#C43512' d='M4.677 2.25l.009-.025c-.301-.174-.594-.341-.878-.5-.016.038-.022.069-.041.11-.112.243-.256.484-.429.716-.166.224-.349.424-.541.595-.02.018-.036.026-.056.043.238.22.489.446.745.676.234-.21.456-.449.654-.717.214-.287.395-.589.537-.898zm2.275 2.945c.306-.41.521-.822.66-1.212-.292-.181-.584-.36-.876-.538-.076.298-.247.699-.586 1.152-.31.417-.613.681-.864.845.259.223.52.445.779.665.314-.244.619-.552.887-.912zM9.87 7.32c.365-.49.609-.983.734-1.437l-.906-.586c-.023.296-.172.81-.631 1.425-.412.554-.821.847-1.1.978l.814.671c.381-.256.761-.611 1.089-1.051z'/>","1f436":"<path fill='#DD2E44' d='M15 27v6s0 3 3 3 3-3 3-3v-6h-6z'/><path fill='#BE1931' d='M15 33l.001.037c1.041-.035 2.016-.274 2.632-1.286.171-.281.563-.281.735 0 .616 1.011 1.591 1.251 2.632 1.286V27h-6v6z'/><path fill='#D99E82' d='M31.954 21.619c0 6.276-5 6.276-5 6.276h-18s-5 0-5-6.276c0-6.724 5-18.619 14-18.619s14 12.895 14 18.619z'/><path fill='#F4C7B5' d='M18 20c-7 0-10 3.527-10 6.395 0 3.037 2.462 5.5 5.5 5.5 1.605 0 3.042-.664 4.049-2.767.185-.386.716-.386.901 0 1.007 2.103 2.445 2.767 4.049 2.767 3.038 0 5.5-2.463 5.5-5.5C28 23.527 25 20 18 20z'/><path fill='#292F33' d='M15 22.895c-1 1 2 4 3 4s4-3 3-4-5-1-6 0zM13 19c-1.1 0-2-.9-2-2v-2c0-1.1.9-2 2-2s2 .9 2 2v2c0 1.1-.9 2-2 2zm10 0c-1.1 0-2-.9-2-2v-2c0-1.1.9-2 2-2s2 .9 2 2v2c0 1.1-.9 2-2 2z'/><path fill='#662113' d='M15 3.608C13.941 2.199 11.681.881 2.828 4.2-1.316 5.754.708 17.804 3.935 18.585c1.106 0 4.426 0 4.426-8.852 0-.22-.002-.423-.005-.625C10.35 6.298 12.5 4.857 15 3.608zm18.172.592C24.319.881 22.059 2.199 21 3.608c2.5 1.25 4.65 2.691 6.644 5.501-.003.201-.005.404-.005.625 0 8.852 3.319 8.852 4.426 8.852 3.227-.782 5.251-12.832 1.107-14.386z'/><circle fill='#D99E82' cx='23.5' cy='25.5' r='.5'/><circle fill='#D99E82' cx='11.5' cy='25.5' r='.5'/><circle fill='#D99E82' cx='25.5' cy='27.5' r='.5'/><circle fill='#D99E82' cx='10.5' cy='27.5' r='.5'/><circle fill='#D99E82' cx='23' cy='28' r='1'/><circle fill='#D99E82' cx='13' cy='28' r='1'/><path fill='#380F09' d='M9.883 7.232c-.259-.673-.634-1.397-1.176-1.939-.391-.391-1.023-.391-1.414 0s-.391 1.023 0 1.414c.57.57 1.066 1.934 1.068 2.346.145-.404.839-1.15 1.522-1.821zm16.217 0c.259-.672.634-1.397 1.176-1.939.391-.391 1.023-.391 1.414 0s.391 1.023 0 1.414c-.57.57-1.066 1.934-1.068 2.346-.145-.404-.839-1.15-1.522-1.821z'/>","1f431":"<path fill='#FFCC4D' d='M32.348 13.999s3.445-8.812 1.651-11.998c-.604-1.073-8 1.998-10.723 5.442 0 0-2.586-.86-5.276-.86s-5.276.86-5.276.86C10.001 3.999 2.605.928 2.001 2.001.207 5.187 3.652 13.999 3.652 13.999c-.897 1.722-1.233 4.345-1.555 7.16-.354 3.086.35 5.546.658 6.089.35.617 2.123 2.605 4.484 4.306 3.587 2.583 8.967 3.445 10.761 3.445s7.174-.861 10.761-3.445c2.361-1.701 4.134-3.689 4.484-4.306.308-.543 1.012-3.003.659-6.089-.324-2.814-.659-5.438-1.556-7.16z'/><path fill='#F18F26' d='M2.359 2.971c.2-.599 5.348 2.173 6.518 5.404 0 0-3.808 2.624-4.528 4.624 0 0-2.99-7.028-1.99-10.028z'/><path fill='#FFCC4D' d='M5.98 7.261c0-1.414 5.457 2.733 4.457 3.733s-1.255.72-2.255 1.72S5.98 8.261 5.98 7.261z'/><path fill='#F18F26' d='M33.641 2.971c-.2-.599-5.348 2.173-6.518 5.404 0 0 3.808 2.624 4.528 4.624 0 0 2.99-7.028 1.99-10.028z'/><path fill='#FFCC4D' d='M30.02 7.261c0-1.414-5.457 2.733-4.457 3.733s1.255.72 2.255 1.72 2.202-4.453 2.202-5.453z'/><path fill='#292F33' d='M14.001 20.001c0 1.105-.896 1.999-2 1.999s-2-.894-2-1.999c0-1.104.896-1.999 2-1.999s2 .896 2 1.999zm11.998 0c0 1.105-.896 1.999-2 1.999-1.105 0-2-.894-2-1.999 0-1.104.895-1.999 2-1.999s2 .896 2 1.999z'/><path fill='#FEE7B8' d='M2.201 30.458c-.148 0-.294-.065-.393-.19-.171-.217-.134-.531.083-.702.162-.127 4.02-3.12 10.648-2.605.275.021.481.261.46.536-.021.275-.257.501-.537.46-6.233-.474-9.915 2.366-9.951 2.395-.093.07-.202.106-.31.106zm8.868-4.663c-.049 0-.1-.007-.149-.022-4.79-1.497-8.737-.347-8.777-.336-.265.081-.543-.07-.623-.335-.079-.265.071-.543.335-.622.173-.052 4.286-1.247 9.362.338.264.083.411.363.328.627-.066.213-.263.35-.476.35zm22.73 4.663c.148 0 .294-.065.393-.19.171-.217.134-.531-.083-.702-.162-.127-4.02-3.12-10.648-2.605-.275.021-.481.261-.46.536.022.275.257.501.537.46 6.233-.474 9.915 2.366 9.951 2.395.093.07.202.106.31.106zm-8.868-4.663c.049 0 .1-.007.149-.022 4.79-1.497 8.737-.347 8.777-.336.265.081.543-.07.623-.335.079-.265-.071-.543-.335-.622-.173-.052-4.286-1.247-9.362.338-.264.083-.411.363-.328.627.066.213.263.35.476.35z'/><path fill='#67757F' d='M24.736 30.898c-.097-.258-.384-.392-.643-.294-.552.206-1.076.311-1.559.311-1.152 0-1.561-.306-2.033-.659-.451-.338-.956-.715-1.99-.803v-2.339c0-.276-.224-.5-.5-.5s-.5.224-.5.5v2.373c-.81.115-1.346.439-1.816.743-.568.367-1.059.685-2.083.685-.482 0-1.006-.104-1.558-.311-.258-.095-.547.035-.643.294-.097.259.035.547.293.644.664.247 1.306.373 1.907.373 1.319 0 2.014-.449 2.627-.845.524-.339.98-.631 1.848-.635.992.008 1.358.278 1.815.621.538.403 1.147.859 2.633.859.601 0 1.244-.126 1.908-.373.259-.097.391-.385.294-.644z'/><path fill='#E75A70' d='M19.4 24.807h-2.8c-.64 0-1.163.523-1.163 1.163 0 .639.523 1.163 1.163 1.163h.237v.345c0 .639.523 1.163 1.163 1.163s1.163-.523 1.163-1.163v-.345h.237c.639 0 1.163-.523 1.163-1.163s-.524-1.163-1.163-1.163z'/><path fill='#F18F26' d='M18.022 17.154c-.276 0-.5-.224-.5-.5V8.37c0-.276.224-.5.5-.5s.5.224.5.5v8.284c0 .277-.223.5-.5.5zM21 15.572c-.276 0-.5-.224-.5-.5 0-2.882 1.232-5.21 1.285-5.308.13-.244.435-.334.677-.204.243.13.334.433.204.677-.012.021-1.166 2.213-1.166 4.835 0 .276-.224.5-.5.5zm-6 0c-.276 0-.5-.224-.5-.5 0-2.623-1.155-4.814-1.167-4.835-.13-.244-.038-.546.205-.677.242-.131.545-.039.676.204.053.098 1.285 2.426 1.285 5.308.001.276-.223.5-.499.5z'/>","1f42d":"<circle fill='#99AAB5' cx='8.5' cy='9.5' r='8.5'/><circle fill='#99AAB5' cx='27.5' cy='9.5' r='8.5'/><path fill='#F4ABBA' d='M13.812 10.031c0 3.228-2.617 5.844-5.844 5.844s-5.844-2.616-5.844-5.844c0-3.227 2.617-5.844 5.844-5.844s5.844 2.617 5.844 5.844zm20.063 0c0 3.228-2.617 5.844-5.844 5.844-3.227 0-5.844-2.616-5.844-5.844 0-3.227 2.617-5.844 5.844-5.844 3.227.001 5.844 2.617 5.844 5.844z'/><path fill='#99AAB5' d='M30 18c0 7.18-8 15-12 15S6 25.18 6 18s7-9 12-9 12 1.82 12 9z'/><path fill='#F4ABBA' d='M20.905 29.648C20.905 31.252 18.894 33 18 33c-.894 0-2.905-1.748-2.905-3.352 0-1.605 1.788-1.956 2.905-1.956 1.117 0 2.905.351 2.905 1.956z'/><g fill='#66757F'><path d='M34.999 32.16c-.175 0-.353-.046-.514-.143-4.628-2.777-11.278-1.877-11.345-1.867-.559.079-1.053-.304-1.13-.85-.078-.547.302-1.053.848-1.131.301-.042 7.411-1.014 12.656 2.133.474.284.627.898.343 1.372-.187.313-.518.486-.858.486z'/><path d='M32.001 35.16c-.305 0-.604-.138-.801-.4-2.728-3.637-8.309-4.604-8.364-4.613-.545-.091-.913-.606-.822-1.15.09-.545.606-.92 1.15-.822.262.044 6.433 1.115 9.636 5.387.332.441.242 1.068-.2 1.399-.18.134-.39.199-.599.199zm-31-3c-.34 0-.671-.173-.858-.485-.284-.474-.131-1.088.343-1.372 5.244-3.146 12.355-2.175 12.656-2.133.546.078.926.584.848 1.131-.078.547-.582.93-1.13.85-.066-.009-6.717-.909-11.345 1.867-.161.096-.339.142-.514.142z'/><path d='M3.999 35.16c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.399 3.203-4.271 9.375-5.343 9.635-5.387.548-.097 1.059.276 1.15.821.091.544-.276 1.06-.82 1.151-.056.01-5.648.991-8.366 4.613-.195.263-.496.401-.8.401z'/></g><path fill='#272B2B' d='M12 21s0-2 2-2 2 2 2 2v2s0 2-2 2-2-2-2-2v-2zm8 0s0-2 2-2 2 2 2 2v2s0 2-2 2-2-2-2-2v-2z'/>","1f422":"<path fill='#77B255' d='M9.842 19.922c0 9.842 6.575 9.673 5.158 10.078-7 2-8.803-7.618-9.464-7.618-2.378 0-5.536-.423-5.536-2.46C0 17.883 2.46 15 6.151 15c2.379 0 3.691 2.883 3.691 4.922zM36 28.638c0 1.104-3.518-.741-5 0-2 1-2-.896-2-2s1.343-1 3-1 4 1.895 4 3z'/><path fill='#77B255' d='M16.715 33.143c0 2.761-1.279 2.857-2.857 2.857S11 35.903 11 33.143c0-.489.085-1.029.234-1.587.69-2.59 2.754-5.556 4.052-5.556 1.578 0 1.429 4.382 1.429 7.143zm8.571 0c0 2.761 1.278 2.857 2.856 2.857C29.721 36 31 35.903 31 33.143c0-.489-.085-1.029-.234-1.587-.691-2.59-2.754-5.556-4.052-5.556-1.578 0-1.428 4.382-1.428 7.143z'/><path fill='#3E721D' d='M32 27c0 4-5.149 4-11.5 4S9 31 9 27c0-6.627 5.149-12 11.5-12S32 20.373 32 27z'/><circle fill='#292F33' cx='5' cy='18' r='1'/><path fill='#5C913B' d='M23.667 25.1c0 3.591-1.418 3.9-3.167 3.9s-3.167-.31-3.167-3.9S18.75 17 20.5 17s3.167 4.51 3.167 8.1zM30 24c.871 3.482-.784 4-2.533 4-1.749 0-2.533.69-2.533-2.9s-1.116-6.5.633-6.5C27.315 18.6 29 20 30 24zm-13.933 1.1c0 3.591-.785 2.9-2.534 2.9s-3.404-.518-2.533-4c1-4 3.251-5.4 5-5.4 1.75 0 .067 2.91.067 6.5z'/>","1f419":"<path fill='#553788' d='M10 12c3 5 0 10.692-3 9.692s-4 2-1 3 9.465-.465 13-4c1-1 2-1 2-1L10 12z'/><path fill='#553788' d='M26 12c-3 5 0 10.692 3 9.692s4 2 1 3-9.465-.465-13-4c-1-1-2-1-2-1L26 12z'/><path fill='#744EAA' d='M30.188 16c-3 5 0 10.692 3 9.692s4 2 1 3-9.465-.465-13-4c-1-1-2-1-2-1l11-7.692zM5.812 16c3 5 0 10.692-3 9.692s-4 2-1 3 9.465-.465 13-4c1-1 2-1 2-1L5.812 16z'/><path fill='#9266CC' d='M33.188 31.375c-2.729.91-6.425-5.626-4.812-10.578C30.022 17.554 31 13.94 31 11c0-7.18-5.82-11-13-11S5 3.82 5 11c0 2.94.978 6.554 2.624 9.797 1.613 4.952-2.083 11.488-4.812 10.578-3-1-4 3-1 4s8.31-.627 12-4c2.189-2 4.189-2 4.189-2s2 0 4.188 2c3.69 3.373 9 5 12 4s1.999-5-1.001-4z'/><circle fill='#292F33' cx='14' cy='21' r='2'/><circle fill='#292F33' cx='22' cy='21' r='2'/>","1f41f":"<path fill='#3B88C3' d='M32.153 24c0-1 1.523-6.212 3.047-7.735 1.522-1.523 0-3.166-1.523-3.166-3.405 0-9.139 6.901-9.139 10.901 0 5 5.733 10.424 9.139 10.424 1.523 0 3.046-1.404 1.523-2.928C33.677 29.974 32.153 26 32.153 24z'/><path fill='#3B88C3' d='M9.021 14.384c0-3.046 1.497-6.093 3.02-6.093 4.569 0 13.322 4.823 14.845 12.439 1.524 7.616-17.865-6.346-17.865-6.346zm4.854 18.278c1.523 1.523 4.57 3.047 7.617 3.047 3.046 0-3.111-4.189-1.523-6.092 2.18-2.617-6.094 3.045-6.094 3.045z'/><path d='M2.071 28.727c.761-2.285.19-3.935-1.143-5.584-1.333-1.651 3.872-1.904 5.585.381s5.713 6.281 2.158 6.22c-3.553-.065-6.6-1.017-6.6-1.017z'/><path fill='#55ACEE' d='M.168 23.488c.959.874 7.223 4.309 7.165 5.137-.058.828-2.279-.088-3.105-.279-1.485-.342-1.905-.598-2.317-.526-.84.321-.554 1.201-.242 1.704 1.498 2.61 7.286 4.662 12.16 4.662 8.412 0 16.802-7.615 16.802-10.662 0-3.046-9.345-10.663-17.757-10.663C4.483 12.86.18 18.922.168 23.488z'/><path d='M7 17c1.104 0 2 .894 2 2 0 1.105-.896 2-2 2-1.105 0-2-.896-2-2 0-1.106.895-2 2-2z'/><path fill='#269' d='M15.08 29.98c-.156 0-.314-.036-.462-.113-.49-.256-.679-.86-.423-1.35 1.585-3.034 2.218-5.768.154-9.243-.282-.475-.126-1.088.349-1.371.475-.283 1.088-.124 1.371.349 2.693 4.535 1.46 8.202-.102 11.191-.178.342-.527.537-.887.537z'/>","1f98b":"<path fill='#1C6399' d='M20.004 20.243c-.426 0-.858.01-1.294.031-.436 1.268-.468 2.747 0 5.097.328 1.646 2.659 6.299 4.584 7.933.683.58 1.638.884 2.69.884 2.144 0 4.691-1.265 6.157-4.034 3.001-5.671-3.474-9.911-12.137-9.911z'/><path fill='#1C6399' d='M33.666 1.973c-.204 0-.425.021-.663.066-3.182.601-9.302 5.126-14.287 11.771 0 0-.789 5.16-.789 6.194 0 .336 1.264.5 3.058.5 3.717 0 9.709-.705 11.424-2.041 1.898-1.479 3.65-9.804 3.488-14.079-.046-1.175-.662-2.411-2.231-2.411z'/><path fill='#55ACEE' d='M27.098 13.936l6.629-.436s-1.055 3.619-3.102 4.656-7.719 1.5-7.719 1.5 2.33-4.261 3.286-5.29c.237-.256.559-.408.906-.43zm.52-1.952l7.526-8.151s.002 5.365-1.206 8.635c0 0-5.383.379-5.914.391-.703.016-.969-.265-.406-.875zm-6.068 7.672l5.5-8.547c.188-.22.253-.52.171-.798l-.968-3.233-6.722 6.609-.844 6.031 2.863-.062zM27.862 8.88c.172.406.516.5.938.125s6.074-6.094 6-6.218c0 0-2.832-1.194-7.8 3.463 0 0 .69 2.224.862 2.63zm-8.925 12.099l5.373 5.228c.203.178.255.473.125.709L22.06 31.25s-4.187-5.479-3.123-10.271zm7.282 6.301l5.549.741s-1.058 3.845-3.394 4.854c-3.906 1.688-5.312-.625-5.312-.625l2.352-4.562c.151-.298.477-.463.805-.408zm-5.95-6.426l5.375 4.958c.077.066.169.11.269.129l6.119.903s-1.219-3.031-4.429-4.531c-3.71-1.733-7.334-1.459-7.334-1.459z'/><path fill='#292F33' d='M20.004 20.243c-.426 0-.858.01-1.294.031-.436 1.268-.468 2.747 0 5.097.328 1.646 2.659 6.299 4.584 7.933.683.58 1.638.884 2.69.884 2.144 0 4.691-1.265 6.157-4.034 3.001-5.671-3.474-9.911-12.137-9.911zm10.537 9.326c-1.316 2.486-3.05 3.473-4.558 3.473-.767 0-1.704-.313-2.15-.691-1.695-1.439-3.437-4.58-4.25-7.224-.465-1.513-.354-4.022-.354-4.022l.667-.021c5.168 0 9.249 2.058 10.726 4.512.714 1.186.687 2.523-.081 3.973z'/><path fill='#292F33' d='M33.666 3.223c.231 0 .935 0 .981 1.208.102 2.681-.594 6.061-1.397 8.882-.541 1.901-1.586 3.292-2.094 3.687-.56.436-1.863 1.238-3.719 1.563-2.03.355-4.207.833-6.456.833-.827 0-1.433.019-1.794-.021.131-1.218.489-3.551.717-5.064 3.768-4.94 9.711-10.361 13.331-11.044.155-.029.3-.044.431-.044m0-1.25c-.204 0-.425.021-.663.066-3.182.601-9.302 5.126-14.287 11.771 0 0-.789 5.16-.789 6.194 0 .336 1.264.5 3.058.5 3.717 0 9.709-.705 11.424-2.041 1.898-1.479 3.65-9.804 3.488-14.079-.046-1.175-.662-2.411-2.231-2.411z'/><path fill='#1C6399' d='M3.902 30.154c1.466 2.769 4.012 4.034 6.157 4.034 1.052 0 2.007-.304 2.69-.884 1.925-1.633 4.256-6.286 4.584-7.933.468-2.35.436-3.828 0-5.097-.436-.021-.868-.031-1.294-.031-8.665 0-15.139 4.24-12.137 9.911z'/><path fill='#1C6399' d='M2.376 1.973C.807 1.973.19 3.209.146 4.383c-.162 4.275 1.59 12.601 3.488 14.079 1.715 1.336 7.706 2.041 11.424 2.041 1.794 0 3.058-.164 3.058-.5 0-1.033-.789-6.194-.789-6.194C12.341 7.165 6.22 2.64 3.039 2.039c-.238-.045-.459-.066-.663-.066z'/><path fill='#55ACEE' d='M8.943 13.936L2.315 13.5s1.055 3.619 3.102 4.656 7.719 1.5 7.719 1.5-2.33-4.261-3.286-5.29c-.237-.256-.559-.408-.907-.43zm-.519-1.952L.898 3.833s-.002 5.365 1.206 8.635c0 0 5.383.379 5.914.391.703.016.969-.265.406-.875zm6.068 7.672l-5.5-8.547c-.188-.22-.253-.52-.171-.798l.968-3.233 6.722 6.609.844 6.031-2.863-.062zM8.179 8.88c-.172.406-.516.5-.938.125s-6.074-6.094-6-6.218c0 0 2.832-1.194 7.8 3.463.001 0-.69 2.224-.862 2.63zm8.926 12.099l-5.373 5.228c-.203.178-.255.473-.125.709l2.375 4.333c-.001.001 4.187-5.478 3.123-10.27zM9.822 27.28l-5.549.741s1.058 3.845 3.394 4.854c3.906 1.688 5.312-.625 5.312-.625l-2.352-4.562c-.15-.298-.476-.463-.805-.408zm5.951-6.426l-5.375 4.958c-.077.066-.169.11-.269.129l-6.119.903s1.219-3.031 4.429-4.531c3.709-1.733 7.334-1.459 7.334-1.459z'/><path fill='#292F33' d='M3.902 30.154c1.466 2.769 4.012 4.034 6.157 4.034 1.052 0 2.007-.304 2.69-.884 1.925-1.633 4.256-6.286 4.584-7.933.468-2.35.436-3.828 0-5.097-.436-.021-.868-.031-1.294-.031-8.665 0-15.139 4.24-12.137 9.911zm1.518-4.559c1.477-2.454 5.558-4.512 10.726-4.512l.667.021s.111 2.51-.354 4.022c-.813 2.644-2.555 5.785-4.25 7.224-.446.379-1.383.691-2.15.691-1.508 0-3.242-.986-4.558-3.473-.768-1.449-.795-2.786-.081-3.973z'/><path fill='#292F33' d='M2.376 3.223c.131 0 .276.015.431.044 3.619.683 9.563 6.104 13.331 11.044.228 1.513.586 3.846.717 5.064-.361.04-.967.021-1.794.021-2.249 0-4.426-.478-6.456-.833-1.856-.325-3.159-1.127-3.719-1.563-.508-.396-1.553-1.786-2.094-3.687-.803-2.821-1.499-6.201-1.397-8.882.046-1.208.749-1.208.981-1.208m0-1.25C.807 1.973.19 3.209.146 4.383c-.162 4.275 1.59 12.601 3.488 14.079 1.715 1.336 7.706 2.041 11.424 2.041 1.794 0 3.058-.164 3.058-.5 0-1.033-.789-6.194-.789-6.194C12.341 7.165 6.22 2.64 3.039 2.039c-.238-.045-.459-.066-.663-.066z'/><path fill='#292F33' d='M21.887 4.762c-.25-.138-.563-.047-.701.203l-2.74 4.98c-.018.033-.022.068-.032.102-.127-.007-.244-.018-.393-.018-.148 0-.266.01-.392.018-.01-.034-.014-.069-.032-.102l-2.74-4.98c-.138-.25-.452-.341-.702-.203-.25.137-.341.451-.203.701l2.655 4.826c-1.179.784 1.15 3.438.381 9.204-1.033 7.75 1.033 9.817 1.033 9.817s2.067-2.067 1.033-9.817c-.769-5.766 1.56-8.42.381-9.204l2.656-4.826c.137-.25.046-.564-.204-.701z'/>","1f47b":"<path fill='#E1E8ED' d='M36 11c0-1.104-.896-2-2-2s-2 .896-2 2c0 0-.011 3.285-3 3.894V12c0-6.075-4.925-11-11-11S7 5.925 7 12v3.237C1.778 16.806 0 23.231 0 27c0 1.104.896 2 2 2s2-.896 2-2c0 0 .002-3.54 3.336-3.958C7.838 27.883 8.954 33 11 33h1c4 0 3 2 7 2s3-2 6-2 2.395 2 6 2c1.657 0 3-1.343 3-3 0-.675-2.274-4.994-3.755-9.268C35.981 21.348 36 14.58 36 11z'/><circle fill='#292F33' cx='13' cy='12' r='2'/><circle fill='#292F33' cx='23' cy='12' r='4'/><circle fill='#9AAAB4' cx='23' cy='13' r='2'/><path fill='#292F33' d='M22.192 19.491c2.65 1.987 3.591 5.211 2.1 7.199-1.491 1.988-4.849 1.988-7.5 0-2.65-1.987-3.591-5.211-2.1-7.199 1.492-1.989 4.849-1.988 7.5 0z'/>","1f409":"<path fill='#3E721D' d='M12.434 29.833c.626-6.708-4.417-7.542-6.417-6.083-1.097.8-1.353 2.323-.479 1.521 1.542-1.416 2.083-.375.917.375s-1.375 2.145-.083 1.188c1.292-.958 1.646-.334.646.895-.605.744.042 1.438 1.167-.062.938-1.251 3.2-1.294 2.662 2.99-.222 1.756 1.453.608 1.587-.824zm7.941-21.022c-.583-3.5-1.125-5.248-4.625-5.832s-6.417 1.75-6.417 1.75.583-3.5 2.333-4.667c.686-.458 1.167 1.75 1.75 1.75s1.167-1.75 2.917-1.75c.583 0 .583 1.75 1.167 1.75.583 0 2.243-.577 2.333 0 .126.812-.167 1.729.292 2.104s1.553-.148 1.901.489c.349.636-.61 1.553-.526 1.97s.719.583.526 1.375-.65.833-.692 1.417.885 1.081.692 1.686c-.192.606-.651.688-.859 1.459-.208.771.541.649.333 1.439-.208.79-.958.991-1.208 1.766-.25.774.666.941.208 1.691s-1.291.875-1.333 1.333.209.818.042 1.555c-.167.736-1.126.362-1.209.945s.209.875.209 1.583-.709.834-.625 1.542.75.167 1.167 1-.249 1.583.209 2.083 1.083-.667 1.708-.25c.625.417.677 1.25 1.359 1.375s.891-1.292 1.391-1.25 1.625.709 2.208.417.541-1.459 1-1.959 1.042-.041 1.458-.583-.145-1.175-.062-1.967.854-1.241.812-1.866-.667-.625-.917-1.292.458-1.25.208-1.875-1.332-.833-1.291-1.458.459-1.333.25-2.042-1.084-1.166-1.042-1.707.499-1.25.583-1.646-.749-.812-.666-1.479.624-.621.832-1.223c.208-.602-.749-.901-.249-1.672s.751-.27 1.167-.688c.416-.417-.001-1.334.416-1.542.417-.208 1.25-.042 1.667-.333s.417-.708.875-.875c.458-.167 1.042.542 1.417.542s1.041-.708 1.541-.542c.5.167 1.584 1.333.917 1.688s-5.751.605-5.792 2.938 2.793 12.917 1.959 15.583-4.291 8.334-8.25 7.25c-3.959-1.084-8.667-3.501-7.542-7.209 1.125-3.709 4.749-11.296 5.458-14.773z'/><path fill='#77B255' d='M21 7.897c0 3.978-2.382 8.144-5.833 7.566-5.323-.89-5.606-2.587-6.417-1.546-2.917 3.743-4.644-.485-5.307-1.186C3.276 12.555 0 11.59 0 9.744c0-1.197 1.75-2.418 2.917-1.231 1.722-.043 8.167-6.156 12.25-6.156C19.25 2.356 21 5.435 21 7.897z'/><path fill='#292F33' d='M14.583 7.062c0 .644-.523 1.167-1.167 1.167s-1.167-.523-1.167-1.167.523-1.167 1.167-1.167c.645.001 1.167.523 1.167 1.167z'/><path fill='#3E721D' d='M2.917 10.271c0 .483-.392.292-.875.292s-.875.191-.875-.292.392-.875.875-.875.875.392.875.875z'/><path fill='#FFF' d='M11.083 11.144c0 .645-.392.583-.875.583s-.875.061-.875-.583c0-.644.392-2.333.875-2.333s.875 1.689.875 2.333zm-2.333.583c0 .645-.392.583-.875.583-.483.001-.875.062-.875-.583 0-.644.392-2.333.875-2.333s.875 1.689.875 2.333z'/><path fill='#3E721D' d='M11.001 11.152c-3.095.442-6.215 1.224-7.558 1.579.167.177.403.579.709 1.021 1.472-.38 4.253-1.051 7.015-1.444.319-.046.54-.342.495-.661-.047-.32-.344-.542-.661-.495z'/><path fill='#77B255' d='M20.946 8.937c0 4.375-1.714 8.201-2.946 11.17-1.333 3.212-1 9 4 9s6.511-3.191 7-5c1.358-5.021-2-8-2-13 0-9 8-7 8-6s-6.934 1.374-3 9S36 36 22 36 8 27.107 10 23.107c1.416-2.832 4-7.107.5-9.045-2.282-1.263 10.446-5.125 10.446-5.125z'/><path fill='#3E721D' d='M11.335 7.771c-.256 0-.512-.098-.707-.293-.391-.391-.391-1.023 0-1.414.083-.083 2.081-2.043 5.374-2.043.552 0 1 .448 1 1s-.448 1-1 1c-2.435 0-3.945 1.442-3.96 1.457-.195.195-.451.293-.707.293z'/><path fill='#5C913B' d='M10.708 25.333c.627-6.708-5.417-7.542-7.417-6.083-1.097.8-1.353 2.323-.479 1.521 1.542-1.416 2.083-.375.917.375-1.167.75-1.375 2.146-.083 1.188s1.646-.334.646.895c-.605.744.042 1.438 1.167-.062.938-1.251 4.2-1.294 3.662 2.99-.222 1.756 1.454.608 1.587-.824z'/>","1f525":"<path fill='#F4900C' d='M35 19c0-2.062-.367-4.039-1.04-5.868-.46 5.389-3.333 8.157-6.335 6.868-2.812-1.208-.917-5.917-.777-8.164.236-3.809-.012-8.169-6.931-11.794 2.875 5.5.333 8.917-2.333 9.125-2.958.231-5.667-2.542-4.667-7.042-3.238 2.386-3.332 6.402-2.333 9 1.042 2.708-.042 4.958-2.583 5.208-2.84.28-4.418-3.041-2.963-8.333C2.52 10.965 1 14.805 1 19c0 9.389 7.611 17 17 17s17-7.611 17-17z'/><path fill='#FFCC4D' d='M28.394 23.999c.148 3.084-2.561 4.293-4.019 3.709-2.106-.843-1.541-2.291-2.083-5.291s-2.625-5.083-5.708-6c2.25 6.333-1.247 8.667-3.08 9.084-1.872.426-3.753-.001-3.968-4.007C7.352 23.668 6 26.676 6 30c0 .368.023.73.055 1.09C9.125 34.124 13.342 36 18 36s8.875-1.876 11.945-4.91c.032-.36.055-.722.055-1.09 0-2.187-.584-4.236-1.606-6.001z'/>","1f33c":"<path fill='#77B255' d='M28.938 27.441c-2.554-.89-8.111-.429-9.938 1.331V17c0-.553-.447-1-1-1s-1 .447-1 1v11.772c-1.827-1.76-7.384-2.221-9.938-1.331-.741.259 5.264 8.749 9.507 4.507.168-.168.306-.33.431-.49V35c0 .553.447 1 1 1s1-.447 1-1v-3.542c.125.16.263.322.431.49 4.243 4.242 10.248-4.248 9.507-4.507z'/><path fill='#CCD6DD' d='M12.562 25.65c-.619-.266-1.107-.837-1.378-1.513l-1.266-3.306-3.258-1.393c-1.336-.574-1.876-1.922-1.304-3.259l1.362-3.181-1.364-3.269c-.541-1.35.15-2.868 1.5-3.408l3.272-1.281 1.449-3.384C12.148.32 13.496-.22 14.833.352l3.258 1.396L21.358.382c.675-.271 1.411-.276 2.03-.011.619.265 1.114.819 1.385 1.494l1.274 3.29 3.309 1.417c1.336.572 1.875 1.921 1.305 3.258l-1.451 3.384 1.365 3.267c.541 1.35-.15 2.866-1.5 3.407l-3.271 1.281-1.363 3.183c-.572 1.336-1.922 1.877-3.258 1.305l-3.308-1.417-3.267 1.364c-.676.271-1.427.311-2.046.046z'/><path fill='#E1E8ED' d='M29.356 6.572l-3.309-1.417-.055-.143c-1.565 1.337-5.215 4.354-5.215 4.354l.007.123C20.015 8.879 19.057 8.5 18 8.5V1.709L14.833.353c-1.337-.572-2.685-.032-3.258 1.304l-1.449 3.384-.061.024 4.753 4.754c-.814.813-1.318 1.938-1.318 3.181H6.717l-1.361 3.178c-.572 1.337-.032 2.686 1.304 3.259l3.258 1.394.002.006 4.496-5.142c.822 1.09 2.115 1.805 3.584 1.805h.005c.006 1.979.015 5.273.012 6.801l3.164 1.356c1.336.572 2.686.031 3.258-1.305l1.362-3.18-5.192-4.517c1.14-.816 1.89-2.145 1.89-3.654 0-.071-.018-.137-.021-.208 1.802.182 4.951.472 6.822.642l-.092-.22L30.66 9.83c.571-1.337.031-2.686-1.304-3.258z'/><circle fill='#F4900C' cx='18' cy='13' r='5'/>","1f31f":"<path fill='#FFAC33' d='M28.84 17.638c-.987 1.044-1.633 3.067-1.438 4.493l.892 6.441c.197 1.427-.701 2.087-1.996 1.469l-5.851-2.796c-1.295-.62-3.408-.611-4.7.018l-5.826 2.842c-1.291.629-2.193-.026-2.007-1.452l.843-6.449c.186-1.427-.475-3.444-1.47-4.481l-4.494-4.688c-.996-1.037-.655-2.102.755-2.365l6.37-1.188c1.41-.263 3.116-1.518 3.793-2.789L16.762.956c.675-1.271 1.789-1.274 2.473-.009L22.33 6.66c.686 1.265 2.4 2.507 3.814 2.758l6.378 1.141c1.412.252 1.761 1.314.774 2.359l-4.456 4.72z'/><path fill='#FFD983' d='M9.783 2.181c1.023 1.413 2.446 4.917 1.717 5.447-.728.531-3.607-1.91-4.63-3.323-1.022-1.413-.935-2.668-.131-3.254.804-.587 2.02-.282 3.044 1.13zm19.348 2.124C28.109 5.718 25.23 8.16 24.5 7.627c-.729-.53.695-4.033 1.719-5.445C27.242.768 28.457.463 29.262 1.051c.803.586.89 1.841-.131 3.254zM16.625 33.291c-.001-1.746.898-5.421 1.801-5.421.897 0 1.798 3.675 1.797 5.42 0 1.747-.804 2.712-1.8 2.71-.994.002-1.798-.962-1.798-2.709zm16.179-9.262c-1.655-.539-4.858-2.533-4.579-3.395.277-.858 4.037-.581 5.69-.041 1.655.54 2.321 1.605 2.013 2.556-.308.95-1.469 1.42-3.124.88zM2.083 20.594c1.655-.54 5.414-.817 5.694.044.276.857-2.928 2.854-4.581 3.392-1.654.54-2.818.07-3.123-.88-.308-.95.354-2.015 2.01-2.556z'/>","1f514":"<path fill='#FFAC33' d='M28 13c0 11 5 10 5 15 0 0 0 2-2 2H5c-2 0-2-2-2-2 0-5 5-4 5-15C8 7.478 12.477 3 18 3s10 4.478 10 10z'/><circle fill='#FFAC33' cx='18' cy='3' r='3'/><path fill='#FFAC33' d='M18 36c2.209 0 4-1.791 4-4h-8c0 2.209 1.791 4 4 4z'/>","1f4a9":"<path fill='#BF6952' d='M33.541 23.198c.364-1.578.243-3.266-.458-4.946-.678-1.625-1.847-2.91-3.271-3.773.318-1.192.234-2.475-.324-3.75-.841-1.92-2.66-3.201-4.712-3.562.249-.572.329-1.289.036-2.167-1-3-5-1-8-4.999-2.44 1.464-2.97 3.64-2.878 5.487-2.421.412-3.8.936-3.8.936v.002c-1.36.55-2.322 1.883-2.322 3.442 0 .879.318 1.676.828 2.312l-.692.258.001.003c-2.33.871-3.975 2.976-3.975 5.439 0 1.047.3 2.027.82 2.878C1.971 22.027 0 24.781 0 28c0 4.418 3.691 8 8.244 8 3.269 0 6.559-.703 9.531-1.665C20.018 35.375 23.47 36 28.667 36 32.717 36 36 32.717 36 28.667c0-2.176-.953-4.125-2.459-5.469z'/><ellipse fill='#F5F8FA' cx='13.5' cy='15.5' rx='3.5' ry='4.5'/><ellipse fill='#F5F8FA' cx='23.5' cy='15.5' rx='3.5' ry='4.5'/><ellipse fill='#292F33' cx='14' cy='15.5' rx='2' ry='2.5'/><ellipse fill='#292F33' cx='23' cy='15.5' rx='2' ry='2.5'/><path fill='#292F33' d='M9.447 24.895C9.201 24.402 9.45 24 10 24h18c.55 0 .799.402.553.895C28.553 24.895 26 30 19 30s-9.553-5.105-9.553-5.105z'/><path fill='#F2ABBA' d='M19 26c-2.771 0-5.157.922-6.292 2.256C14.2 29.211 16.253 30 19 30s4.801-.789 6.292-1.744C24.157 26.922 21.771 26 19 26z'/>","1f680":"<path fill='#A0041E' d='M1 17l8-7 16 1 1 16-7 8s.001-5.999-6-12-12-6-12-6z'/><path fill='#FFAC33' d='M.973 35s-.036-7.979 2.985-11S15 21.187 15 21.187 14.999 29 11.999 32c-3 3-11.026 3-11.026 3z'/><circle fill='#FFCC4D' cx='8.999' cy='27' r='4'/><path fill='#55ACEE' d='M35.999 0s-10 0-22 10c-6 5-6 14-4 16s11 2 16-4c10-12 10-22 10-22z'/><path d='M26.999 5c-1.623 0-3.013.971-3.641 2.36.502-.227 1.055-.36 1.641-.36 2.209 0 4 1.791 4 4 0 .586-.133 1.139-.359 1.64 1.389-.627 2.359-2.017 2.359-3.64 0-2.209-1.791-4-4-4z'/><path fill='#A0041E' d='M8 28s0-4 1-5 13.001-10.999 14-10-9.001 13-10.001 14S8 28 8 28z'/>","1f3c1":"<path fill='#8899A6' d='M5 36c-1.104 0-2-.896-2-2V3c0-1.104.896-2 2-2s2 .896 2 2v31c0 1.104-.896 2-2 2z'/><path fill='#AAB8C2' d='M5 1c-1.105 0-2 .895-2 2v31c0 .276.224.5.5.5s.5-.224.5-.5V4.414C4 3.633 4.633 3 5.414 3H7c0-1.105-.895-2-2-2z'/><path fill='#8899A6' d='M5 36c-1.104 0-2-.896-2-2V3c0-1.104.896-2 2-2s2 .896 2 2v31c0 1.104-.896 2-2 2z'/><path fill='#AAB8C2' d='M5 1c-1.105 0-2 .895-2 2v31c0 .276.224.5.5.5s.5-.224.5-.5V4.414C4 3.633 4.633 3 5.414 3H7c0-1.105-.895-2-2-2z'/><path fill='#31373D' d='M32.396 3.082C30.732 2.363 28.959 2.006 27 1.974l-1.375.38L21 3l-1-.128c-.237.051-.476.099-.711.15-2.169.469-4.23.894-6.289.982L12 5 6 4v19h6l1 2h.077c2.244-.096 4.472-.556 6.633-1.022l.29-.061.646-.645 5.438-.708.916.41c1.68.032 3.193.335 4.604.944.309.133.665.103.945-.082.282-.186.451-.499.451-.836V4c0-.399-.237-.76-.604-.918z'/><path fill='#E1E8ED' d='M13 4.004c-.239.01-.478.035-.717.035-1.797 0-3.396-.313-4.887-.957-.308-.135-.665-.103-.945.083C6.169 3.349 6 3.664 6 4v6s3.292 1 7 1V4.004zM20 10s-3.75 1-7 1v7c3 0 7-1 7-1v-7zm7-1V1.974c-.096-.002-.186-.013-.283-.013-2.267 0-4.521.442-6.717.911V10s2.167-1 7-1zM6.604 23.918c1.5.648 3.09.993 4.82 1.082H13v-7c-4.167 0-7-1-7-1v6c0 .399.237.76.604.918zM20 17v6.916c2.313-.499 4.511-.955 6.717-.955.097 0 .187.011.283.013V16c-4.5 0-7 1-7 1zm7-1c2.676 0 4.82.56 6 .954V9.908C31.853 9.527 29.769 9 27 9v7z'/>","1f308":"<path fill='#8767AC' d='M36 1C16.118 1 1 16.118 1 36h17.042c0-9.917 8.042-17.958 17.958-17.958V1z'/><path fill='#EB2027' d='M0 35.999h3.042c0-18.189 14.734-32.935 32.917-32.957V0C16.095.023 0 16.131 0 35.999z'/><path fill='#F19020' d='M3.083 36h3C6.083 19.468 19.473 6.065 36 6.043v-3C17.817 3.065 3.083 17.811 3.083 36z'/><path fill='#FFCB4C' d='M6.083 36h3C9.083 21.125 21.13 9.065 36 9.043v-3C19.473 6.065 6.083 19.468 6.083 36z'/><path fill='#5C903F' d='M9.083 36h3c0-13.217 10.705-23.935 23.917-23.957v-3C21.13 9.065 9.083 21.125 9.083 36z'/><path fill='#226798' d='M12.083 36h3c0-11.56 9.362-20.934 20.917-20.956v-3.001C22.788 12.065 12.083 22.783 12.083 36z'/>","1f319":"<path fill='#FFD983' d='M30.312.776C32 19 20 32 .776 30.312c8.199 7.717 21.091 7.588 29.107-.429C37.9 21.867 38.03 8.975 30.312.776z'/><path d='M30.705 15.915c-.453.454-.453 1.189 0 1.644.454.453 1.189.453 1.643 0 .454-.455.455-1.19 0-1.644-.453-.454-1.189-.454-1.643 0zm-16.022 14.38c-.682.681-.682 1.783 0 2.465.68.682 1.784.682 2.464 0 .681-.682.681-1.784 0-2.465-.68-.682-1.784-.682-2.464 0zm13.968-2.147c-1.135 1.135-2.974 1.135-4.108 0-1.135-1.135-1.135-2.975 0-4.107 1.135-1.136 2.974-1.136 4.108 0 1.135 1.133 1.135 2.973 0 4.107z' fill='#FFCC4D'/>","1f352":"<path fill='#77B255' d='M25.999 24c-.198 0-.397-.059-.572-.181-6.543-4.58-12.166-12.366-15.397-17.439 1.699 10.528.997 16.458.962 16.744-.068.548-.562.93-1.115.868-.548-.068-.937-.567-.869-1.115.009-.079.936-8.033-1.986-21.668-.105-.487.166-.978.634-1.148.466-.172.991.028 1.226.468.079.148 8.007 14.873 17.691 21.652.453.316.562.94.246 1.392-.194.279-.504.427-.82.427z'/><path fill='#5C913B' d='M26.547 8.818c-3.476.96-5.051 2.546-10.749.667-4.72-1.557-7.037-4.207-6.345-6.305.692-2.098 3.18-3.163 7.9-1.606 4.749 1.567 4.123 3.466 9.194 7.244z'/><circle fill='#BE1931' cx='26' cy='28' r='8'/><circle fill='#BE1931' cx='11' cy='28' r='8'/>","1f34e":"<path fill='#DD2E44' d='M24 7c-3 0-3 1-6 1s-3-1-6-1c-4 0-9 2-9 9 0 11 6 20 10 20 3 0 3-1 5-1s2 1 5 1c4 0 10-9 10-20 0-7.001-5-9-9-9z'/><path fill='#77B255' d='M19 7s3-4 8-4c4 0 6 2 6 2s-4 3-7 3-7-1-7-1z'/><path fill='#662113' d='M18 10c-.552 0-1-.448-1-1 0-3.441 1.2-6.615 3.293-8.707.391-.391 1.023-.391 1.414 0s.391 1.024 0 1.414C19.986 3.427 19 6.085 19 9c0 .552-.448 1-1 1z'/>","1f427":"<path fill='#FFAC33' d='M28.068 31.355c-2.229 0-8.468.785-10.068 1.832-1.601-1.047-7.84-1.832-10.069-1.832-2.564 0-1.161 1.039-1.161 2.322C6.77 34.96 5.367 36 7.931 36c2.229 0 8.468-.785 10.069-1.832C19.601 35.215 25.84 36 28.068 36c2.565 0 1.161-1.04 1.161-2.322 0-1.283 1.405-2.323-1.161-2.323z'/><path fill='#292F33' d='M31.73 15.866c-1.25-2.499-3.152-4.995-4.942-6.723C24.337 3.711 20.759 0 18 0s-6.337 3.71-8.788 9.143c-1.791 1.729-3.693 4.224-4.943 6.724-2.438 4.876-3.116 11.426-2.078 11.944.873.437 2.324-1.552 4.208-5.082C6.667 33.604 13.446 33.678 18 33.678c4.553 0 11.333-.073 11.601-10.947 1.884 3.528 3.335 5.517 4.207 5.08 1.038-.519.361-7.069-2.078-11.945z'/><path fill='#F5F8FA' d='M21.675 6.943c-.85.607-2.172 1.186-3.675 1.186s-2.825-.578-3.675-1.185c-3.302 2.137-5.615 7.06-5.615 12.798 0 7.695 4.159 13.936 9.29 13.936 5.132 0 9.291-6.24 9.291-13.936 0-5.738-2.313-10.662-5.616-12.799z'/><path fill='#FFAC33' d='M28.452 6h-5.808C18.797 6 18 5.22 18 4.257c0-.962-.364-1.742 3.483-1.742C27.291 2.516 29.613 6 28.452 6z'/><path fill='#F5F8FA' d='M16.839 3.483c0 .642-.52 1.162-1.161 1.162-.642 0-1.161-.521-1.161-1.162 0-.641.52-1.161 1.161-1.161s1.161.52 1.161 1.161z'/>","1f34c":"<path fill='#FFE8B6' d='M28 2c2.684-1.342 5 4 3 13-1.106 4.977-5 9-9 12s-11-1-7-5 8-7 10-13c1.304-3.912 1-6 3-7z'/><path fill='#FFD983' d='M31 8c0 3-1 9-4 13s-7 5-4 1 5-7 6-11 2-7 2-3z'/><path fill='#FFCC4D' d='M22 20c-.296.592 1.167-3.833-3-6-1.984-1.032-10 1-4 1 3 0 4 2 2 4-.291.292-.489.603-.622.912-.417.346-.873.709-1.378 1.088-2.263 1.697-5.84 4.227-10 7-3 2-4 3-4 4 0 3 9 3 14 1s10-7 10-7l4-4c-3-4-7-2-7-2z'/><path fill='#FFE8B6' d='M22 20s1.792-4.729-3-7c-4.042-1.916-8-1-11 1s-2 4-3 5 1 2 3 0 8.316-4.895 11-4c3 1 2 2.999 3 5z'/><path fill='#A6D388' d='M26 35h-4c-2 0-3 1-4 1s-2-2 0-2 4 0 5-1 5 2 3 2z'/><circle fill='#3E721D' cx='18' cy='35' r='1'/><path fill='#FFCC4D' d='M32.208 28S28 35 26 35h-4c-2 0 0-1 1-2s5 0 5-6c0-3 4.208 1 4.208 1z'/><path fill='#FFE8B6' d='M26 19c3 0 8 3 7 9s-5 7-7 7h-2c-2 0-1-1 0-2s4 0 4-6c0-3-4-7-6-7 0 0 2-1 4-1z'/><path fill='#FFD983' d='M17 21c3 0 5 1 3 3-1.581 1.581-6 5-10 6s-8 1-5-1 9.764-8 12-8z'/><path fill='#C1694F' d='M2 31c1 0 1 0 1 .667C3 32.333 3 33 2 33s-1-1.333-1-1.333S1 31 2 31z'/>","1f353":"<path fill='#BE1931' d='M22.614 34.845c3.462-1.154 6.117-3.034 6.12-9.373C28.736 21.461 33 17 32.999 12.921 32.998 9 28.384 2.537 17.899 3.635 7.122 4.764 3 8 2.999 15.073c0 4.927 5.304 8.381 8.127 13.518C13 32 18.551 38.187 22.614 34.845z'/><path fill='#77B255' d='M26.252 3.572c-1.278-1.044-3.28-1.55-5.35-1.677.273-.037.542-.076.82-.094.973-.063 3.614-1.232 1.4-1.087-.969.063-1.901.259-2.837.423.237-.154.479-.306.74-.442C21 0 17 0 14.981 1.688 14.469 1.576 14 1 11 1c-2 0-4.685.926-3 1 .917.041 2 0 1.858.365C9.203 2.425 6 3 6 4c0 .353 2.76-.173 3 0-1.722.644-3 2-3 3 0 .423 2.211-.825 3-1-1 1-1.4 1.701-1.342 2.427.038.475 2.388-.09 2.632-.169.822-.27 3.71-1.258 4.6-2.724.117.285 2.963 1.341 4.11 1.466.529.058 2.62.274 2.141-.711C21 6 20 5 19.695 4.025c.446-.019 8.305.975 6.557-.453z'/><path fill='#F4ABBA' d='M9.339 17.306c-.136-1.46-2.54-3.252-2.331-1 .136 1.46 2.54 3.252 2.331 1zm7.458.553c-.069-.622-.282-1.191-.687-1.671-.466-.55-1.075-.362-1.234.316-.187.799.082 1.752.606 2.372l.041.048c-.213-.525-.427-1.05-.642-1.574l.006.047c.071.64.397 1.73 1.136 1.906.754.182.826-.988.774-1.444zm5.752-4.841c.476-.955.17-3.962-.831-1.954-.476.954-.171 3.962.831 1.954zm7.211-1.457c-.03-.357-.073-.78-.391-1.01-1.189-.858-2.381 2.359-1.385 3.08.02.012.036.025.055.039l-.331-.919c0 .018.001.035.003.052.049.564.376 1.377 1.084.948.667-.406 1.028-1.444.965-2.19zm-1.345 8.567c1.016-1.569-.545-3.451-1.78-1.542-1.016 1.568.546 3.45 1.78 1.542zm-5.748 2.894c.173-1.938-2.309-2.752-2.51-.496-.173 1.938 2.309 2.752 2.51.496zm-9.896-1.212l-.049.004 1.362.715c-.006-.004-.011-.011-.018-.017-.306-.28-1.353-1.083-1.788-.592-.44.497.498 1.421.804 1.703.342.314.928.763 1.429.73 1.437-.093-.783-2.605-1.74-2.543zm13.227 5.907c.969-1.066.725-4.05-.798-2.376-.969 1.066-.724 4.05.798 2.376zM12.599 13.753c.093-.005.187-.012.28-.019.703-.046 1.004-1.454 1.042-1.952.044-.571-.043-1.456-.785-1.407l-.281.019c-.702.047-1.004 1.454-1.042 1.952-.044.571.044 1.457.786 1.407zm7.846 15.257c.395.764.252 1.623-.32 1.919s-1.357-.081-1.753-.844c-.395-.764-.252-1.623.32-1.919.573-.296 1.357.081 1.753.844z'/>","1f347":"<path fill='#77B255' d='M9.999 12c-.15 0-.303-.034-.446-.106-4.38-2.19-7.484-7.526-8.501-10.578C.876.792 1.16.226 1.684.051c.525-.176 1.091.109 1.265.632.877 2.632 3.688 7.517 7.499 9.422.494.247.694.848.447 1.342-.176.351-.529.553-.896.553z'/><circle fill='#553788' cx='19' cy='29' r='7'/><circle fill='#9266CC' cx='10' cy='15' r='7'/><circle fill='#AA8DD8' cx='19' cy='12' r='7'/><circle fill='#744EAA' cx='27' cy='18' r='7'/><circle fill='#744EAA' cx='9' cy='26' r='7'/><circle fill='#9266CC' cx='18' cy='21' r='7'/><circle fill='#9266CC' cx='29' cy='29' r='7'/>","1f349":"<path fill='#5C913B' d='M2.472 6.572C1.528 8.698 1 11.038 1 13.5 1 23.165 9.059 31 19 31c7.746 0 14.33-4.767 16.868-11.44L2.472 6.572z'/><path fill='#FFE8B6' d='M4.332 7.295C3.479 9.197 3 11.293 3 13.5c0 8.591 7.164 15.556 16 15.556 6.904 0 12.77-4.26 15.013-10.218L4.332 7.295z'/><path fill='#DD2E44' d='M6.191 8.019C5.43 9.697 5 11.548 5 13.5c0 7.518 6.268 13.611 14 13.611 6.062 0 11.21-3.753 13.156-8.995L6.191 8.019z'/><path d='M9.916 14.277c-.307.46-.741.708-.971.555-.23-.153-.168-.649.139-1.109.307-.46.741-.708.971-.555.23.153.168.649-.139 1.109zm6 1c-.307.46-.741.708-.971.555-.23-.153-.168-.649.139-1.109.307-.46.741-.708.971-.555.23.153.168.649-.139 1.109zm5.082 4.678c.05.551-.132 1.016-.406 1.041-.275.025-.538-.4-.588-.951-.051-.551.132-1.016.406-1.04.275-.026.538.398.588.95zm-9-2c.05.551-.132 1.016-.406 1.041-.275.025-.538-.4-.588-.951-.05-.551.132-1.016.406-1.04.276-.026.538.398.588.95zm3.901 5.346c-.333.441-.78.663-1 .497-.221-.166-.129-.658.205-1.099.333-.441.781-.663 1-.497.221.166.13.657-.205 1.099zm8.036.454c.273.481.299.979.06 1.115-.241.137-.656-.143-.929-.624-.273-.48-.299-.979-.059-1.115.241-.138.655.141.928.624zm-7.017-5.028c.303.463.362.958.131 1.109-.231.152-.663-.1-.966-.562-.303-.462-.361-.958-.131-1.108.231-.154.663.097.966.561zm8.981 1.574c-.333.441-.78.663-1.001.497-.221-.166-.129-.658.205-1.099.333-.442.78-.663 1-.497.222.166.131.657-.204 1.099z'/>","1f348":"<path fill='#A6D388' d='M31.924 10.982c4.418 7.652 1.99 17.326-5.424 21.607-7.414 4.28-16.505 2.413-20.924-5.241C.577 18.688 3.086 9.156 10.5 4.876c7.414-4.28 17.924.044 21.424 6.106z'/><path fill='#77B255' d='M24 6c3 1 6 4 8 7 .836 1.254.729-.078-.294-2.348C28.02 4.768 17.777.675 10.5 4.876c-3.01 1.738-5.194 4.349-6.413 7.408C4.808 11.471 5.52 11 6 11c1 0-1.896 3.279 1 11 3 8 3 4 3 4s-2-9-1-12 2-5 3-4 5 9 7 14c2.259 5.647 2-1-1-8-2.841-6.628-3-8-2-8s3.465 1.464 7 5c2 2 3 5 4 6s1-1 0-4c-.707-2.121-3-6-6-8-2.496-1.664 0-2 3-1z'/><path fill='#5C913B' d='M11.934 6.358c-.479.276-1.091.112-1.367-.366-1.104-1.914-1.26-4.303-1.266-4.404-.033-.55.387-1.022.937-1.058.552-.034 1.025.385 1.061.936.001.021.137 2.027 1.001 3.525.275.479.112 1.091-.366 1.367z'/><path fill='#77B255' d='M11.961 30.533C11 30 10.234 28.557 9.552 27.308c-.682-1.249.276-1.276.886-.159.681 1.249 1.204 1.612 1.886 2.861.682 1.249.194.832-.363.523zm9.543.373c-.874-2.059-.812-3.057-1.686-5.114-.874-2.059-.749-4.055.124-1.997.874 2.059 1.748 4.118 1.687 5.115-.064.999-.125 1.996-.125 1.996zM27 19c1 3 0 2 1 5s1 5 1 0c0-3.162-1-6-2-7-1.581-1.581 0 2 0 2z'/>","1f34a":"<path fill='#F4900C' d='M3 19.5C3 10.388 10.387 3 19.499 3c9.113 0 16.5 7.387 16.5 16.5S28.612 36 19.499 36C10.387 36 3 28.613 3 19.5z'/><path fill='#662113' d='M11.414 7.585c-.267-.267-.797-.197-1.355.12-3.3-2.732-8.653-3.652-8.895-3.692-.546-.089-1.059.277-1.15.821-.091.544.276 1.06.821 1.151.053.009 4.934.854 7.821 3.16-.275.525-.324 1.015-.07 1.268.39.391 1.34.074 2.121-.707.781-.78 1.097-1.73.707-2.121z'/><path fill='#5C913B' d='M21 1s-3.106 4.318-7.021 5.273C11 7 7.041 7.07 6.646 6.15c-.394-.919 1.572-3.937 4.969-5.393C15.012-.698 21 1 21 1z'/>","1f34b":"<path fill='#5C913B' d='M11.405 3.339c6.48-1.275 8.453 1.265 11.655.084 3.202-1.181.093 2.82-.745 3.508-.84.688-8.141 4.809-11.307 3.298-3.166-1.511-3.182-6.186.397-6.89z'/><path fill='#77B255' d='M15.001 16c-.304 0-.605-.138-.801-.4-.687-.916-1.308-1.955-1.965-3.056C9.967 8.749 7.396 4.446.783 2.976c-.539-.12-.879-.654-.759-1.193.12-.54.654-.878 1.193-.759C8.671 2.68 11.599 7.581 13.952 11.519c.63 1.054 1.224 2.049 1.848 2.881.332.442.242 1.069-.2 1.4-.18.135-.39.2-.599.2z'/><path fill='#FFCC4D' d='M34.3 31.534c.002-.017-.003-.028-.003-.043 2.774-5.335 2.647-15.113-3.346-21.107-5.801-5.8-13.68-5.821-18.767-4.067-1.579.614-2.917.066-3.815.965-.881.881-.351 2.719-.714 3.819-3.169 5.202-3.405 13.025 2.688 19.117 4.962 4.962 10.438 6.842 19.98 4.853.002-.002.005-.001.008-.002 1.148-.218 2.95.523 3.566-.094 1.085-1.085.309-2.358.403-3.441z'/><path fill='#77B255' d='M8.208 6.583s-4.27-.59-6.857 4.599c-2.587 5.188.582 9.125.29 12.653-.293 3.53 1.566 1.265 2.621-.445s4.23-4.895 4.938-9.269c.707-4.376-.07-6.458-.992-7.538z'/>","1f351":"<path fill='#5C913B' d='M1.062 5.125s4.875-5 10-5C17.188.125 19 5.062 19 5.062s.625-4 5-4 6.938 3.125 6.938 3.125-3.562 2.125-4.625 2.562c-2.801 1.153-11.375 3.562-15.375 2.562S1.062 5.125 1.062 5.125z'/><path fill='#FF886C' d='M18 6s1.042-.896 6-.896c6.542 0 12 4.812 12 12.927 0 11.531-14.958 17.881-14.958 17.881S1 34.833 1 17.977C1 8.018 7.75 5 12 5c4.958 0 6 1 6 1z'/><path fill='#77B255' d='M1.062 5.125s4.875-5 10-5C17.188.125 19 5.062 19 5.062s-4.062 5.25-8.062 4.25-9.876-4.187-9.876-4.187z'/><path fill='#DD2E44' d='M22.999 30c-.19 0-.383-.055-.554-.168-.46-.307-.584-.927-.277-1.387C22.183 28.423 24 25.538 24 19c0-6.445-4.578-10.182-4.625-10.219-.431-.345-.501-.974-.156-1.405.346-.431.975-.501 1.406-.156C20.844 7.395 26 11.604 26 19c0 7.22-2.079 10.422-2.168 10.555-.192.289-.51.445-.833.445z'/>","1f350":"<path fill='#A6D388' d='M7.681 9.097c1.587-3.151 7.698-1.916 11.958 2.171 2.697 2.586 8.056 1.498 11.498 4.804 3.493 3.354 3.259 9.361-3.053 15.767C23 37 16 37 11.835 33.384c-4.388-3.811-2.476-8.61-4.412-13.585C5.487 14.823 3.1 9.375 7.681 9.097z'/><path fill='#662113' d='M8.178 9.534c-.43.448-1.114.489-1.527.093-3.208-3.079-3.918-7.544-3.946-7.776-.074-.586.348-1.157.939-1.278.592-.121 1.131.257 1.205.842.006.05.657 3.997 3.359 6.59.413.397.4 1.081-.03 1.529z'/>","1f34d":"<path fill='#5C913B' d='M18.241 9.633c-.277-3.307 2.17-4.72 2.17-4.72-3.199.113-4.894 2.826-4.894 2.826-.752-1.3.946-4.012 2.169-4.719-3.198.113-3.67 2.12-3.67 2.12-1.503-2.601-1.03-4.607-1.03-4.607-1.121.647-1.767 2.113-2.141 3.512l-2.318-2.67c-.23 1.044.157 3.174.573 4.959-3.055-1.79-5.903-.15-5.903-.15 3.95 1.188 5.45 3.788 5.45 3.788s-3.948-1.187-5.646 1.526c2.597-.092 4.5.499 5.856 1.23-1.163.289-3.145-.236-4.355 1.371 0 0 3.198-.113 3.851 1.055-2.172.614-3.575 2.251-3.575 2.251 4.422-.818 9.123 1.669 9.123 1.669l6.119-3.532c-1.029-4.607 2.642-6.727 2.642-6.727-2.724-1.895-4.421.818-4.421.818z'/><path fill='#FFAC33' d='M29.56 22.88c2.488 4.309 1.218 9.7-2.837 12.041-4.055 2.341-9.359.746-11.846-3.562l-1.589-2.753c-2.488-4.31-1.217-9.699 2.837-12.04 4.055-2.341 9.359-.747 11.846 3.562l1.589 2.752z'/><path fill='#FFCC4D' d='M30.562 25.364c-.209-.848-.54-1.685-1.002-2.484l-.186-.323v.001l-1.951-.828.624-1.471-.075-.131c-2.025-3.51-5.92-5.217-9.486-4.466l-.818 1.926-1.884-.8c-3.28 2.122-4.567 6.319-3.262 10.128l1.006.427-.401.946c.055.105.102.212.163.315l1.589 2.753c.685 1.187 1.59 2.16 2.618 2.909l.229-.538 1.951.828-.324.764c.665.277 1.357.465 2.061.572l.215-.507 1.403.595c1.144-.048 2.28-.336 3.343-.883l-.017-.007.828-1.951 1.189.504c.522-.521.973-1.104 1.334-1.736l-1.693-.72.828-1.951 1.667.707c.191-.7.301-1.427.316-2.167l-1.155-.49.828-1.951.062.029zm-6.212-7.243l1.95.829-.828 1.95-1.951-.828.829-1.951zm.294 4.731l-.828 1.95-1.951-.827.828-1.951 1.951.828zm-4.197-6.387l1.951.828-.829 1.952-1.951-.828.829-1.952zm-1.656 3.902l1.951.828-.828 1.951-1.95-.828.827-1.951zm-3.902-1.655l1.95.828-.828 1.949-1.95-.828.828-1.949zm-2.484 5.853l.828-1.952 1.951.828-.829 1.952-1.95-.828zm4.196 6.385l-1.951-.827.828-1.951 1.951.828-.828 1.95zm-.295-4.73l.829-1.951 1.951.827-.829 1.952-1.951-.828zm4.196 6.386l-1.95-.828.828-1.95 1.95.829-.828 1.949zm-.294-4.73l.828-1.952 1.951.829-.828 1.952-1.951-.829zm4.197 6.388l-1.951-.828.828-1.951 1.951.828-.828 1.951zm1.657-3.904l-1.95-.827.828-1.952 1.95.828-.828 1.951zm1.656-3.901l-1.951-.828.828-1.95 1.951.827-.828 1.951z'/>","1f95d":"<path fill='#C1694F' d='M25.94 15.188c2.045 8.239-1.642 16.246-8.235 17.881-6.592 1.636-13.593-3.719-15.638-11.958-2.044-8.24 1.642-16.246 8.236-17.882 6.59-1.636 13.593 3.718 15.637 11.959z'/><path fill='#C1694F' d='M34.146 13.151c2.391 9.635-6.295 17.402-14.948 19.548-8.653 2.146-14.34-3.532-16.385-11.773-2.044-8.24.328-15.92 8.98-18.066 8.652-2.148 19.801.005 22.353 10.291z'/><path fill='#77B255' d='M24.448 15.558c1.789 7.211-1.438 14.215-7.205 15.646-5.768 1.434-11.895-3.253-13.685-10.463-1.788-7.21 1.438-14.215 7.207-15.647 5.766-1.43 11.893 3.254 13.683 10.464z'/><path fill='#A6D388' d='M12.871 5.837c4.713 0 9.174 4.19 10.607 9.962.811 3.267.56 6.581-.707 9.331-1.231 2.674-3.28 4.486-5.768 5.103-.61.152-1.238.228-1.868.228-4.712 0-9.172-4.19-10.605-9.962-1.654-6.662 1.252-13.138 6.476-14.434.609-.151 1.236-.228 1.865-.228m0-1c-.702 0-1.406.084-2.106.257-5.769 1.432-8.995 8.437-7.206 15.647 1.572 6.335 6.492 10.721 11.575 10.721.702 0 1.409-.084 2.109-.258 5.766-1.431 8.994-8.435 7.205-15.646-1.573-6.335-6.494-10.721-11.577-10.721z'/><g fill='#A6D388'><path d='M18.974 18.518l-2.799 1.311 1.656 4.152-2.955-2.326-.697 4.171-1.378-4.098-2.651 1.745 1.006-3.976-3.043-1.701 2.8-1.315-1.657-4.149 2.957 2.115.697-4.172 1.379 4.31 2.645-1.745-1.001 3.973z'/><path d='M14.178 26.826c-.426 0-.81-.271-.947-.682l-.964-2.868-1.567 1.032c-.343.228-.792.221-1.129-.021-.336-.238-.491-.66-.39-1.06l.817-3.232-2.373-1.326c-.328-.184-.525-.534-.512-.908.013-.375.235-.71.574-.87l1.947-.914-1.308-3.274c-.165-.413-.038-.884.312-1.158.35-.273.838-.284 1.199-.026l1.653 1.183.432-2.59c.076-.456.454-.8.914-.833.472-.022.885.253 1.025.693l.977 3.053 1.544-1.019c.344-.227.794-.22 1.129.019.336.239.492.66.391 1.06l-.813 3.231 2.373 1.33c.326.184.523.535.51.909-.014.375-.235.71-.574.869l-1.945.912 1.307 3.276c.168.42.032.9-.33 1.171-.363.271-.862.265-1.217-.015l-1.628-1.282-.419 2.506c-.076.452-.45.796-.907.832l-.081.002zm-1.377-6.098c.11 0 .22.018.326.055.293.102.523.333.622.627l.103.306.038-.225c.058-.349.296-.64.625-.768.329-.126.701-.071.979.146l.027.021-.275-.691c-.196-.491.025-1.051.504-1.275l1.036-.485-1.342-.752c-.394-.221-.591-.679-.481-1.117l.372-1.477-.496.327c-.261.172-.588.213-.883.109-.295-.104-.524-.34-.62-.639l-.12-.375-.016.097c-.057.34-.285.627-.604.759-.318.133-.683.09-.964-.11l-.181-.129.391.979c.196.492-.024 1.051-.503 1.276l-1.038.487 1.343.75c.395.221.593.68.481 1.118l-.374 1.479.5-.329c.166-.109.357-.164.55-.164z'/></g><g fill='#C6E5B3'><path d='M16.788 18.019l-1.709.812 1.076 2.538-1.846-1.288-.378 2.556-.91-2.634-1.606 1.077.566-2.437-1.902-1.034 1.706-.813-1.078-2.539 1.852 1.286.373-2.556.911 2.637 1.61-1.079-.567 2.438z'/><path d='M13.931 23.137c-.211 0-.402-.134-.472-.337l-.698-2.021-1.066.716c-.17.114-.394.114-.563-.004-.169-.116-.25-.324-.203-.524l.48-2.066-1.569-.852c-.165-.09-.266-.265-.261-.453s.115-.357.285-.438l1.274-.607-.891-2.099c-.087-.205-.028-.443.145-.583.173-.141.417-.149.601-.022l1.188.826.256-1.757c.033-.228.218-.404.448-.425.228-.028.444.116.52.334l.7 2.024 1.071-.718c.171-.114.394-.112.562.004.169.117.25.325.203.525l-.48 2.067 1.568.854c.165.09.266.265.261.453-.005.188-.116.357-.285.438l-1.277.607.89 2.097c.087.205.028.443-.146.584-.173.141-.418.147-.601.021l-1.184-.826-.26 1.757c-.034.228-.219.403-.448.425h-.048zm-.91-3.634c.053 0 .107.009.159.026.147.049.263.164.313.311l.243.701.079-.533c.025-.171.138-.317.296-.386.159-.067.341-.051.484.049l.421.294-.398-.938c-.104-.247.004-.532.246-.646l.823-.392-1.04-.566c-.197-.107-.299-.333-.248-.552l.28-1.205-.558.374c-.129.086-.292.106-.438.059-.147-.049-.263-.164-.313-.311l-.241-.697-.077.525c-.025.171-.137.317-.295.386-.16.069-.342.051-.484-.048l-.429-.298.401.945c.104.246-.003.531-.245.646l-.821.391 1.041.565c.197.107.299.334.248.553l-.279 1.203.553-.371c.083-.056.18-.085.279-.085z'/></g><path fill='#292F33' d='M9.306 14.957c.229.497.147 1.024-.185 1.178-.332.153-.786-.127-1.016-.624-.229-.497-.147-1.024.185-1.177.331-.154.786.126 1.016.623zm6.698-2.936c-.129.532-.521.894-.876.809-.356-.087-.538-.589-.409-1.121.129-.532.521-.894.877-.807.354.085.537.586.408 1.119zm-2.644 9.914c-.129.532-.52.894-.875.809-.357-.087-.539-.588-.41-1.12.129-.531.521-.895.877-.808.354.086.537.587.408 1.119zm3.216 2.178c.229.497.147 1.023-.185 1.179-.331.151-.786-.128-1.016-.625-.228-.496-.148-1.023.185-1.178.332-.152.787.127 1.016.624zm1.121-7.683c-.304.292-.68.391-.843.225-.161-.17-.045-.542.258-.835.303-.292.681-.393.843-.224.162.169.047.542-.258.834zm-5.274-2.365c.181.38.158.768-.053.871-.212.098-.53-.129-.71-.509-.18-.38-.156-.77.056-.871.21-.101.528.128.707.509zm-3.98 7.094c-.304.292-.679.392-.843.225-.16-.169-.045-.542.258-.834.303-.291.68-.393.843-.225.162.169.047.542-.258.834zm10.622-.928c.329.356.382.842.116 1.093-.267.246-.752.159-1.082-.195-.33-.356-.384-.843-.116-1.094.267-.248.751-.16 1.082.196z'/>","1f96d":"<path fill='#77B255' d='M26.38 3.539c.483-.039 1.259-.655 1.664-.595.405.06 1.573 1.078 1.67 1.283.097.205-.637 1.178-.746 1.48-.109.302-.64.239-1.51-.543-.869-.782-1.078-1.625-1.078-1.625z'/><path fill='#EA564B' d='M12.3 3.139c4.545-2.66 11.267-2.611 13.685-.58 1.617 1.358 2.942 2.401 4.474 3.011 2.022.804 3.692 3.154 4.415 5.384.981 3.023 1.68 12.579-8.029 18.516-6.233 3.812-17.656 5.363-18.961 4.723-.984-.483-4.621-2.09-6.675-6.453S-1.324 11.111 12.3 3.139z'/><path fill='#F97253' d='M17.329 2.607C22.578 1.125 26.5 4.743 24.078 5c-4.359.463-9.015 4.969-12.625 8.375-6.625 6.25-8.125 13.75-9 12.5-1.424-2.034-1.468-9.148 3.561-15.386 5.029-6.238 9.104-7.257 11.315-7.882z'/><path fill='#77B255' d='M28.271 4.278c2.174.697 4.987 4.564 4.944 7.811-.114 8.655-4.132 11.992-4.132 11.992s-2.551-9.325-2.171-12.719c.278-2.478 1.646-3.166 1.891-4.569.229-1.305-.532-2.515-.532-2.515z'/>","1f4a5":"<path fill='#BB1A34' d='M22 0l-4 8.028-5-5.018v7.024L3 8.028l8 8.028-11 6.02h12L6 34.118l12-8.028 11 10.035-3-14.049h10l-8-6.021 8-9.031-12 3.01L22 0z'/><path fill='#FCAB40' d='M22.914 12.924l1.86-.467L30 11.146l-3.381 3.816-1.319 1.49 1.59 1.195 2.925 2.202h-5.918l.473 2.218 1.551 7.26-5.845-5.332-1.056-.964-1.188.795-5.24 3.506 2.406-4.828 1.322-2.655H9.564l3.759-2.059 2.145-1.172-1.727-1.735-3.044-3.053 3.221.646 2.186.439V8.686l1.45 1.455 1.794 1.799 1.133-2.276 1.273-2.556'/><path fill='#F5F8FA' d='M21.512 14.301l.767-.193 2.158-.541-1.396 1.576-.545.615.656.493 1.208.909h-2.443l.195.916.641 2.997-2.413-2.201-.437-.398-.49.328-2.163 1.448.993-1.994.546-1.096H16l1.553-.85.885-.484-.713-.716-1.257-1.261 1.329.267.903.181v-1.745l.599.6.74.743.468-.939.525-1.056'/>","1f381":"<path fill='#FDD888' d='M33 31c0 2.2-1.8 4-4 4H7c-2.2 0-4-1.8-4-4V14c0-2.2 1.8-4 4-4h22c2.2 0 4 1.8 4 4v17z'/><path fill='#FDD888' d='M36 11c0 2.2-1.8 4-4 4H4c-2.2 0-4-1.8-4-4s1.8-4 4-4h28c2.2 0 4 1.8 4 4z'/><path fill='#FCAB40' d='M3 15h30v2H3z'/><path fill='#DA2F47' d='M19 3h-2c-1.657 0-3 1.343-3 3v29h8V6c0-1.656-1.343-3-3-3z'/><path fill='#DA2F47' d='M16 7c1.1 0 1.263-.516.361-1.147L9.639 1.147c-.902-.631-2.085-.366-2.631.589L4.992 5.264C4.446 6.219 4.9 7 6 7h10zm4 0c-1.1 0-1.263-.516-.361-1.147l6.723-4.706c.901-.631 2.085-.366 2.631.589l2.016 3.527C31.554 6.219 31.1 7 30 7H20z'/>"},uk=class uk extends Ma{constructor({codeSvg:e,codeTikz:r,shapeDef:i,name:n,unicode:a,width:s=1,height:o=1}){super({codeSvg:e,codeTikz:r,width:s,height:o}),this.name=n,this.unicode=a,this.width=s,this.height=o,this.shapeDef=i}get unicodeValue(){return this.unicode}};uk.type="emojis";let nk=uk;function Lt(t,e,r=1,i=1){if(!t||!e)throw new Error("Emoji name and unicode must be provided");const n=`\\pic at (0,0) {${t}};`,a=`<use href="#${t}"></use>`,s=new br;return s.bordures=[-.5,-.5,.5,.5],s.svg=function(o){return`<defs>
    <g id=${t} transform="translate(-9,-9) scale(0.5)">${sDe[e]||`<text x="0" y="0" font-size="${o}" text-anchor="middle" dominant-baseline="central">${t}</text>`}</g>
    </defs>`},s.tikz=function(){return`
  \\tikzset{
   ${t}/.pic = {
    \\node[anchor=center, inner sep=0pt, scale=3] {\\twemoji{${e}}};
   }
  }`.trim()},new nk({codeSvg:a,codeTikz:n,shapeDef:s,name:t,unicode:e,width:r,height:i})}const oDe=new Ma({codeSvg:'<use href="#carre"></use>',codeTikz:"\\pic at (0,0) {carre};",width:1,height:1,opacite:1,name:"carré"}),lDe=new Ma({codeSvg:'<use href="#carre-bleu"></use>',codeTikz:"\\pic at (0,0) {carre-bleu};",width:1,height:1,opacite:1,name:"carré bleu"}),uDe=new Ma({codeSvg:'<use href="#rectangle-vert"></use>',codeTikz:"\\pic at (0,0) {rectangle-vert};",width:1,height:.5,opacite:1,name:"rectangle"}),By=new br;By.bordures=[-.5,-.25,.5,.25],By.svg=function(t){return`
  <!-- Rectangle 1x0.5 -->
  <defs>
    <g id="rectangle-vert">
      <rect x="-10" y="-5" width="20" height="10" fill="green" stroke="black" stroke-width="0.5" />
    </g>
  </defs>`},By.tikz=function(){return`
  \\tikzset{
   rectangle-vert/.pic = {
    \\draw[fill=green, draw=black, line width=0.3pt] (-0.5,-0.25) rectangle (0.5,0.25);
   }
  }`.trim()};const cDe=new Ma({codeSvg:'<use href="#allumette-verticale"></use>',codeTikz:"\\pic at (0,0) {allumette-verticale};",width:.2,height:1,opacite:1,name:"allumetteV"}),hDe=new Ma({codeSvg:'<use href="#allumette-verticale" transform="rotate(90)"></use>',codeTikz:"\\pic[rotate=90] at (0,0) {allumette-verticale};",width:1,height:.2,opacite:1,name:"allumetteH"}),pDe=new Ma({codeSvg:'<use href="#allumette-verticale" transform="rotate(30)"></use>',codeTikz:"\\pic[rotate=-30] at (0,0) {allumette-verticale};",width:.8,height:.8,opacite:1,name:"allumette60"}),dDe=new Ma({codeSvg:'<use href="#allumette-verticale" transform="rotate(-30)"></use>',codeTikz:"\\pic[rotate=30] at (0,0) {allumette-verticale};",width:.8,height:.8,opacite:1,name:"allumette120"}),J1=new br;J1.bordures=[-.1,-.5,.1,.5],J1.svg=function(t){return`
  <!-- Allumette verticale -->
  <defs>
    <g id="allumette-verticale">
      <rect x="-1" y="-8" width="2" height="18" fill="#deb887" stroke="#8b5c2a" stroke-width="0.5"/>
      <ellipse cx="0" cy="-9" rx="1.5" ry="2" fill="red" stroke="darkred" stroke-width="0.5"/>
    </g>
  </defs>`},J1.tikz=function(){return`
  \\tikzset{
   allumette-verticale/.pic = {
    % Tige
    \\draw[fill=brown!30!yellow, draw=brown!80!black, line width=0.3pt] (-0.05,-0.5) rectangle (0.05,0.4);
    % Tête
    \\draw[fill=red, draw=red!70!black, line width=0.3pt] (0,0.45) ellipse [x radius=0.075, y radius=0.1];
   }
  }`.trim()};const mDe=new Ma({codeSvg:'<use href="#segment-horizontal"></use>',codeTikz:"\\pic at (0,0) {segment-horizontal};",width:1,height:0,opacite:1,name:"segment horizontal"}),Oy=new br;Oy.bordures=[0,0,1,0],Oy.svg=function(t){return`
  <!-- Segment horizontal de (0,0) à (1,0) -->
  <defs>
      <line id="segment-horizontal" x1="-10" y1="0" x2="10" y2="0" stroke="black" stroke-width="2" />
  </defs>`},Oy.tikz=function(){return`
  \\tikzset{
   segment-horizontal/.pic = {
    \\draw[thick] (-0.5,0) -- (0.5,0);
   }
  }`.trim()};const fDe=new Ma({codeSvg:'<use href="#rectangle-blanc"></use>',codeTikz:"\\pic at (0,0) {rectangle-blanc};",width:1,height:.5,opacite:1,name:"rectangle blanc"}),Fy=new br;Fy.bordures=[-.5,-.25,.5,.25],Fy.svg=function(t){return`
  <!-- Rectangle blanc 1x0.5 -->
  <defs>
    <g id="rectangle-blanc">
      <rect x="-10" y="-5" width="20" height="10" fill="white" stroke="black" stroke-width="0.5" />
    </g>
  </defs>`},Fy.tikz=function(){return`
  \\tikzset{
   rectangle-blanc/.pic = {
    \\draw[fill=white, draw=black, line width=0.3pt] (-0.5,-0.25) rectangle (0.5,0.25);
   }
  }`.trim()};const gDe=new Ma({codeSvg:'<use href="#carre-arrondi"></use>',codeTikz:"\\pic at (0,0) {carre-arrondi};",width:1,height:1,opacite:1,name:"pastille"}),vDe=new Ma({codeSvg:'<use href="#losange"></use>',codeTikz:"\\pic at (0,0) {losange};",width:1,height:1,opacite:1,name:"losange"}),yDe=new Ma({codeSvg:'<use href="#hexagone"></use>',codeTikz:"\\pic at (0,0) {hexagone};",width:1,height:1,opacite:1,name:"hexagone"}),bDe=new Ma({codeSvg:'<use href="#hexagoneJaune"></use>',codeTikz:"\\pic at (0,0) {hexagoneJaune};",width:1,height:1,opacite:1,name:"hexagoneJaune"}),xDe=new Ma({codeSvg:'<use href="#pentagone"></use>',codeTikz:"\\pic at (0,0) {pentagone};",width:1,height:1,opacite:1,name:"pentagone"}),Py=new br;Py.bordures=[-.5,-.5,.5,.5],Py.svg=function(t){return`
  <!-- Pentagone régulier -->
  <defs>
    <g id="pentagone">
      <polygon points="0,-10 9.51,-3.09 5.88,8.09 -5.88,8.09 -9.51,-3.09"
        fill="orange" stroke="black" stroke-width="0.5" />
    </g>
  </defs>`},Py.tikz=function(){return`
  \\tikzset{
   pentagone/.pic = {
    \\draw[fill=orange, draw=black, line width=0.3pt]
      (0,0.5) -- (0.475,0.154) -- (0.294,-0.404) -- (-0.294,-0.404) -- (-0.475,0.154) -- cycle;
   }
  }`.trim()};const Ry=new br;Ry.bordures=[-.5,-.5,.5,.5],Ry.svg=function(t){return`
  <!-- Carré arrondi -->
  <defs>
    <g id="carre-arrondi">
      <rect x="-8" y="-8" width="16" height="16" rx="3" ry="3"
        fill="gray" stroke="black" stroke-width="0.5" />
    </g>
  </defs>`},Ry.tikz=function(){return`
  \\tikzset{
   carre-arrondi/.pic = {
    % Carré arrondi
    \\draw[fill=gray, draw=darkgray, line width=0.3pt, rounded corners=0.07cm]
      (-0.4,-0.4) rectangle (0.4,0.4);
   }
  }`.trim()};const jy=new br;jy.bordures=[-.5,-.5,.5,.5],jy.svg=function(t){return`
  <!-- Losange -->
  <defs>
      <polygon id="losange" points="0,-6 8,0 0,6 -8,0"
        fill="pink" stroke="black" stroke-width="0.3" />
  </defs>`},jy.tikz=function(){return`
  \\tikzset{
   losange/.pic = {
    % Losange
    \\draw[fill=pink, draw=darkgray, line width=0.3pt]
      (0,-0.3) -- (0.5,0) -- (0,0.3) -- (-0.5,0) -- cycle;
   }
  }`.trim()};const qy=new br;qy.bordures=[-.5,-.5,.5,.5],qy.svg=function(t){return`
  <!-- Carré -->
  <defs>
      <rect id="carre" x="-10" y="-10" width="20" height="20"
        fill="gray" stroke="black" stroke-width="0.5" />
  </defs>`},qy.tikz=function(){return`
  \\tikzset{
   carre/.pic = {
    % Carré
    \\draw[fill=gray, draw=darkgray, line width=0.3pt] (-0.5,-0.5) rectangle (0.5,0.5);
   }
  }`.trim()};const Uy=new br;Uy.bordures=[-.5,-.5,.5,.5],Uy.svg=function(t){return`
  <!-- Carré bleu -->
  <defs>
      <rect id="carre-bleu" x="-10" y="-10" width="20" height="20"
        fill="blue" stroke="black" stroke-width="0.5" />
  </defs>`},Uy.tikz=function(){return`
  \\tikzset{
   carre-bleu/.pic = {
    % Carré bleu
    \\draw[fill=blue, draw=darkgray, line width=0.3pt] (-0.5,-0.5) rectangle (0.5,0.5);
   }
  }`.trim()};const Vy=new br;Vy.bordures=[-.5,-.5,.5,.5],Vy.svg=function(t){return`
  <!-- Hexagone -->
  <defs>
    <g id="hexagone">
      <polygon points="10,0 5,8.66 -5,8.66 -10,0 -5,-8.66 5,-8.66"
        fill="lightblue" stroke="black" stroke-width="0.5" />
    </g>
  </defs>`},Vy.tikz=function(){return`
  \\tikzset{
   hexagone/.pic = {
    \\draw[fill=cyan!30, draw=darkgray, line width=0.3pt]
      (0.5,0) -- (0.25,0.433) -- (-0.25,0.433) -- (-0.5,0) -- (-0.25,-0.433) -- (0.25,-0.433) -- cycle;
   }
  }`.trim()};const Gy=new br;Gy.bordures=[-.5,-.5,.5,.5],Gy.svg=function(t){return`
  <!-- Hexagone -->
  <defs>
    <g id="hexagoneJaune">
      <polygon points="10,0 5,8.66 -5,8.66 -10,0 -5,-8.66 5,-8.66"
        fill="yellow" stroke="black" stroke-width="0.5" />
    </g>
  </defs>`},Gy.tikz=function(){return`
  \\tikzset{
   hexagoneJaune/.pic = {
    \\draw[fill=yellow, draw=darkgray, line width=0.3pt]
      (0.5,0) -- (0.25,0.433) -- (-0.25,0.433) -- (-0.5,0) -- (-0.25,-0.433) -- (0.25,-0.433) -- cycle;
   }
  }`.trim()};const wDe=new Ma({codeSvg:'<use href="#rond"></use>',codeTikz:"\\pic at (0,0) {rond};",width:1,height:1,opacite:1,name:"rond"}),Zy=new br;Zy.bordures=[-.5,-.5,.5,.5],Zy.svg=function(t){return`
  <!-- Rond -->
  <defs>
    <g id="rond">
      <circle cx="0" cy="0" r="10" fill="lightblue" stroke="blue" stroke-width="0.5" />
    </g>
  </defs>`},Zy.tikz=function(){return`
  \\tikzset{
   rond/.pic = {
    \\draw[fill=cyan!30, draw=blue, line width=0.3pt] (0,0) circle (0.5);
   }
  }`.trim()};const MDe=new Ma({codeSvg:'<use href="#balle"></use>',codeTikz:"\\pic at (0,0) {balle};",width:1,height:1,opacite:1,name:"balle"}),Hy=new br;Hy.bordures=[-.5,-.5,.5,.5],Hy.svg=function(t){return`
  <!-- Balle de tennis -->
 <defs>
    <g id="balle" transform="scale(0.2) translate(-60, -60)">
      <!-- Dégradé -->
      <radialGradient id="grad" cx="50%" cy="50%" r="50%" fx="30%" fy="30%">
        <stop offset="0%" stop-color="#f7f95a" />
        <stop offset="100%" stop-color="#b6d100" />
      </radialGradient>

      <!-- Ombre -->
      <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
        <feDropShadow dx="2" dy="4" stdDeviation="4" flood-color="#000" flood-opacity="0.3" />
      </filter>

      <!-- Corps de la balle -->
      <circle cx="60" cy="60" r="50" fill="url(#grad)" filter="url(#shadow)" />

      <!-- Couture principale -->
      <path d="M20,35 C40,30 80,35 100,25" stroke="white" stroke-width="5" fill="none" />

      <!-- Couture secondaire (plus haute et réduite) -->
      <path d="M35,110 C60,85 85,80 115,70" stroke="white" stroke-width="5" fill="none" />
    </g>
  </defs>`},Hy.tikz=function(){return`
  \\tikzset{
   balle/.pic = {
    % Balle de tennis jaune citron
    \\shade[ball color=lime, opacity=0.5] 
      (0,0) circle (0.5);
    % Couture principale
    \\draw[white, line width=0.3pt] 
      plot [smooth, tension=1] coordinates {(-0.45,-0.15) (-0.2,-0.22) (0.1,-0.18) (0.45,-0.25)};
    % Couture secondaire
    \\draw[white, line width=0.3pt] 
      plot [smooth, tension=1] coordinates {(-0.45,0.4) (-0.15,0.25) (0.2,0.28) (0.45,0.15)};
   }
  }`.trim()};const kDe=new Ma({codeSvg:'<use href="#triangle-equilateral"></use>',codeTikz:"\\pic at (0,0) {triangle-equilateral};",width:1,height:1,opacite:1,name:"triangle équilatéral"}),Wy=new br;Wy.bordures=[-.5,-.5,.5,.5],Wy.svg=function(t){return`
  <!-- Triangle équilatéral -->
  <defs>
    <g id="triangle-equilateral">
      <polygon points="0,-10 8.666,5 -8.666,5"
        fill="lightgreen" stroke="darkgreen" stroke-width="0.5" />
    </g>
  </defs>`},Wy.tikz=function(){return`
  \\tikzset{
   triangle-equilateral/.pic = {
    \\draw[fill=green!20, draw=green!50!black, line width=0.3pt]
      (0,0.5) -- (0.433,-0.25) -- (-0.433,-0.25) -- cycle;
   }
  }`.trim()};const CDe=new Ma({codeSvg:'<use href="#red-cross"></use>',codeTikz:"\\pic at (0,0) {red-cross};",width:1,height:1,opacite:1,name:"red cross"}),Yy=new br;Yy.bordures=[-.5,-.5,.5,.5],Yy.svg=function(t){return`
  <!-- Red Cross -->
  <defs>
    <g id="red-cross">
      <rect x="-3" y="-10" width="6" height="20" fill="red" stroke="darkred" stroke-width="0.5"/>
      <rect x="-10" y="-3" width="20" height="6" fill="red" stroke="darkred" stroke-width="0.5"/>
    </g>
  </defs>`},Yy.tikz=function(){return`
  \\tikzset{
   red-cross/.pic = {
    % Red Cross
    \\draw[fill=red, draw=red!70!black, line width=0.3pt] (-0.15,-0.5) rectangle (0.15,0.5);
    \\draw[fill=red, draw=red!70!black, line width=0.3pt] (-0.5,-0.15) rectangle (0.5,0.15);
   }
  }`.trim()};const DG={carré:{shape2D:oDe,nomSingulier:"carré",nomPluriel:"carrés",shapeDef:qy,articleSingulier:"un",articlePluriel:"des",articleCourt:"de "},carréRond:{shape2D:gDe,nomSingulier:"carré arrondi",nomPluriel:"carrés arrondis",shapeDef:Ry,articleSingulier:"un",articlePluriel:"des",articleCourt:"de "},losange:{shape2D:vDe,nomSingulier:"losange",nomPluriel:"losanges",shapeDef:jy,articleSingulier:"un",articlePluriel:"des",articleCourt:"de "},hexagone:{shape2D:yDe,nomSingulier:"hexagone",nomPluriel:"hexagones",shapeDef:Vy,articleSingulier:"un",articlePluriel:"des",articleCourt:"d'"},pentagone:{shape2D:xDe,nomSingulier:"pentagone",nomPluriel:"pentagones",shapeDef:Py,articleSingulier:"un",articlePluriel:"des",articleCourt:"de "},rond:{shape2D:wDe,nomSingulier:"disque",nomPluriel:"disques",shapeDef:Zy,articleSingulier:"un",articlePluriel:"des",articleCourt:"de "},balle:{shape2D:MDe,nomSingulier:"balle",nomPluriel:"balles",shapeDef:Hy,articleSingulier:"une",articlePluriel:"des",articleCourt:"de "},triangle:{shape2D:kDe,nomSingulier:"triangle équilatéral",nomPluriel:"triangles équilatéraux",shapeDef:Wy,articleSingulier:"un",articlePluriel:"des",articleCourt:"de "},redCross:{shape2D:CDe,nomSingulier:"croix rouge",nomPluriel:"croix rouges",shapeDef:Yy,articleSingulier:"une",articlePluriel:"des",articleCourt:"de "},carréBleu:{shape2D:lDe,nomSingulier:"carré bleu",nomPluriel:"carrés bleus",shapeDef:Uy,articleSingulier:"un",articlePluriel:"des",articleCourt:"de "},hexagoneJaune:{shape2D:bDe,nomSingulier:"hexagone jaune",nomPluriel:"hexagones jaunes",shapeDef:Gy,articleSingulier:"un",articlePluriel:"des",articleCourt:"d'"},rectangleBlanc:{shape2D:fDe,nomSingulier:"rectangle blanc",nomPluriel:"rectangles blancs",shapeDef:Fy,articleSingulier:"un",articlePluriel:"des",articleCourt:"de "},rectangleVert:{shape2D:uDe,nomSingulier:"rectangle vert",nomPluriel:"rectangles verts",shapeDef:By,articleSingulier:"un",articlePluriel:"des",articleCourt:"de "},allumetteV:{shape2D:cDe,nomSingulier:"allumette",nomPluriel:"allumettes",shapeDef:J1,articleSingulier:"une",articlePluriel:"des",articleCourt:"d'"},allumetteH:{shape2D:hDe,nomSingulier:"allumette",nomPluriel:"allumettes",shapeDef:J1,articleSingulier:"une",articlePluriel:"des",articleCourt:"d'"},allumette60:{shape2D:pDe,nomSingulier:"allumette",nomPluriel:"allumettes",shapeDef:J1,articleSingulier:"une",articlePluriel:"des",articleCourt:"d'"},allumette120:{shape2D:dDe,nomSingulier:"allumette",nomPluriel:"allumettes",shapeDef:J1,articleSingulier:"une",articlePluriel:"des",articleCourt:"d'"},segmentHorizontal:{shape2D:mDe,nomSingulier:"segment horizontal",nomPluriel:"segments horizontaux",shapeDef:Oy,articleSingulier:"un",articlePluriel:"des",articleCourt:"de "},smiley:{shape2D:Lt("smiley","1f603"),shapeDef:Lt("smiley","1f603").shapeDef,nomPluriel:"smileys",nomSingulier:"smiley",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},heart:{shape2D:Lt("heart","2764"),shapeDef:Lt("heart","2764").shapeDef,nomPluriel:"cœurs",nomSingulier:"cœur",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},thumbsUp:{shape2D:Lt("thumbsUp","1f44d"),shapeDef:Lt("thumbsUp","1f44d").shapeDef,nomPluriel:"pouces levés",nomSingulier:"pouce levé",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},étoile:{shape2D:Lt("étoile","2b50"),shapeDef:Lt("étoile","2b50").shapeDef,nomPluriel:"étoiles",nomSingulier:"étoile",articlePluriel:"des",articleSingulier:"une",articleCourt:"d'"},pizza:{shape2D:Lt("pizza","1f355"),shapeDef:Lt("pizza","1f355").shapeDef,nomPluriel:"parts de pizza",nomSingulier:"part de pizza",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},licorne:{shape2D:Lt("licorne","1f984"),shapeDef:Lt("licorne","1f984").shapeDef,nomPluriel:"licornes",nomSingulier:"licorne",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},chien:{shape2D:Lt("chien","1f436"),shapeDef:Lt("chien","1f436").shapeDef,nomPluriel:"chiens",nomSingulier:"chien",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},chat:{shape2D:Lt("chat","1f431"),shapeDef:Lt("chat","1f431").shapeDef,nomPluriel:"chats",nomSingulier:"chat",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},souris:{shape2D:Lt("souris","1f42d"),shapeDef:Lt("souris","1f42d").shapeDef,nomPluriel:"souris",nomSingulier:"souris",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},tortue:{shape2D:Lt("tortue","1f422"),shapeDef:Lt("tortue","1f422").shapeDef,nomPluriel:"tortues",nomSingulier:"tortue",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},pieuvre:{shape2D:Lt("pieuvre","1f419"),shapeDef:Lt("pieuvre","1f419").shapeDef,nomPluriel:"pieuvres",nomSingulier:"pieuvre",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},poisson:{shape2D:Lt("poisson","1f41f"),shapeDef:Lt("poisson","1f41f").shapeDef,nomPluriel:"poissons",nomSingulier:"poisson",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},papillon:{shape2D:Lt("papillon","1f98b"),shapeDef:Lt("papillon","1f98b").shapeDef,nomPluriel:"papillons",nomSingulier:"papillon",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},fantome:{shape2D:Lt("fantome","1f47b"),shapeDef:Lt("fantome","1f47b").shapeDef,nomPluriel:"fantômes",nomSingulier:"fantôme",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},dragon:{shape2D:Lt("dragon","1f409"),shapeDef:Lt("dragon","1f409").shapeDef,nomPluriel:"dragons",nomSingulier:"dragon",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},feu:{shape2D:Lt("feu","1f525"),shapeDef:Lt("feu","1f525").shapeDef,nomPluriel:"feux",nomSingulier:"feu",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},fleur:{shape2D:Lt("fleur","1f33c"),shapeDef:Lt("fleur","1f33c").shapeDef,nomPluriel:"fleurs",nomSingulier:"fleur",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},etoileBrillante:{shape2D:Lt("étoileBrillante","1f31f"),shapeDef:Lt("étoileBrillante","1f31f").shapeDef,nomPluriel:"étoiles brillantes",nomSingulier:"étoile brillante",articlePluriel:"des",articleSingulier:"une",articleCourt:"d'"},cloche:{shape2D:Lt("cloche","1f514"),shapeDef:Lt("cloche","1f514").shapeDef,nomPluriel:"cloches",nomSingulier:"cloche",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},crotte:{shape2D:Lt("crotte","1f4a9"),shapeDef:Lt("crotte","1f4a9").shapeDef,nomPluriel:"crottes",nomSingulier:"crotte",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},fusee:{shape2D:Lt("fusee","1f680"),shapeDef:Lt("fusee","1f680").shapeDef,nomPluriel:"fusées",nomSingulier:"fusée",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},drapeauDamier:{shape2D:Lt("drapeauDamier","1f3c1"),shapeDef:Lt("drapeauDamier","1f3c1").shapeDef,nomPluriel:"drapeaux à damier",nomSingulier:"drapeau à damier",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},arcEnCiel:{shape2D:Lt("arcEnCiel","1f308"),shapeDef:Lt("arcEnCiel","1f308").shapeDef,nomPluriel:"arcs-en-ciel",nomSingulier:"arc-en-ciel",articlePluriel:"des",articleSingulier:"un",articleCourt:"d'"},soleil:{shape2D:Lt("soleil","2600"),shapeDef:Lt("soleil","2600").shapeDef,nomPluriel:"soleils",nomSingulier:"soleil",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},lune:{shape2D:Lt("lune","1f319"),shapeDef:Lt("lune","1f319").shapeDef,nomPluriel:"lunes",nomSingulier:"lune",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},nuage:{shape2D:Lt("nuage","2601"),shapeDef:Lt("nuage","2601").shapeDef,nomPluriel:"nuages",nomSingulier:"nuage",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},cerise:{shape2D:Lt("cerise","1f352"),shapeDef:Lt("cerise","1f352").shapeDef,nomPluriel:"paires de cerises",nomSingulier:"paire de cerises",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},pomme:{shape2D:Lt("pomme","1f34e"),shapeDef:Lt("pomme","1f34e").shapeDef,nomPluriel:"pommes",nomSingulier:"pomme",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},biere:{shape2D:Lt("biere","1f37a"),shapeDef:Lt("biere","1f37a").shapeDef,nomPluriel:"bières",nomSingulier:"bière",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},pingouin:{shape2D:Lt("pingouin","1f427"),shapeDef:Lt("pingouin","1f427").shapeDef,nomPluriel:"pingouins",nomSingulier:"pingouin",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},banane:{shape2D:Lt("banane","1f34c"),shapeDef:Lt("banane","1f34c").shapeDef,nomPluriel:"bananes",nomSingulier:"banane",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},fraise:{shape2D:Lt("fraise","1f353"),shapeDef:Lt("fraise","1f353").shapeDef,nomPluriel:"fraises",nomSingulier:"fraise",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},raisin:{shape2D:Lt("raisin","1f347"),shapeDef:Lt("raisin","1f347").shapeDef,nomPluriel:"grappes de raisin",nomSingulier:"grappe de raisin",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},pasteque:{shape2D:Lt("pasteque","1f349"),shapeDef:Lt("pasteque","1f349").shapeDef,nomPluriel:"parts de pastèque",nomSingulier:"part de pastèque",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},melon:{shape2D:Lt("melon","1f348"),shapeDef:Lt("melon","1f348").shapeDef,nomPluriel:"melons",nomSingulier:"melon",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},orange:{shape2D:Lt("orange","1f34a"),shapeDef:Lt("orange","1f34a").shapeDef,nomPluriel:"oranges",nomSingulier:"orange",articlePluriel:"des",articleSingulier:"une",articleCourt:"d'"},citron:{shape2D:Lt("citron","1f34b"),shapeDef:Lt("citron","1f34b").shapeDef,nomPluriel:"citrons",nomSingulier:"citron",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},peche:{shape2D:Lt("peche","1f351"),shapeDef:Lt("peche","1f351").shapeDef,nomPluriel:"pêches",nomSingulier:"pêche",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},poire:{shape2D:Lt("poire","1f350"),shapeDef:Lt("poire","1f350").shapeDef,nomPluriel:"poires",nomSingulier:"poire",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},ananas:{shape2D:Lt("ananas","1f34d"),shapeDef:Lt("ananas","1f34d").shapeDef,nomPluriel:"ananas",nomSingulier:"ananas",articlePluriel:"des",articleSingulier:"un",articleCourt:"d'"},kiwi:{shape2D:Lt("kiwi","1f95d"),shapeDef:Lt("kiwi","1f95d").shapeDef,nomPluriel:"kiwis",nomSingulier:"kiwi",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "},mangue:{shape2D:Lt("mangue","1f96d"),shapeDef:Lt("mangue","1f96d").shapeDef,nomPluriel:"mangues",nomSingulier:"mangue",articlePluriel:"des",articleSingulier:"une",articleCourt:"de "},explosion:{shape2D:Lt("explosion","1f4a5"),shapeDef:Lt("explosion","1f4a5").shapeDef,nomPluriel:"explosions",nomSingulier:"explosion",articlePluriel:"des",articleSingulier:"une",articleCourt:"d'"},cadeau:{shape2D:Lt("cadeau","1f381"),shapeDef:Lt("cadeau","1f381").shapeDef,nomPluriel:"cadeaux",nomSingulier:"cadeau",articlePluriel:"des",articleSingulier:"un",articleCourt:"de "}};class ds{constructor({lignes:e,bottomBraces:r,topBraces:i,rightBraces:n}={lignes:[]}){this.lignes=[],this.lignes=e,this.rightBraces=[],r&&(this.bottomBraces=r),i&&(this.topBraces=i),n&&(this.rightBraces=n)}display(e=.8){var r,i,n,a;{let s=0,o=!1;for(const d of this.lignes)d.entete!==void 0&&(o=!0,(d.entete.longueur??0)>s&&(s=d.entete.longueur??0));this.maxEnteteLength=s;let l="";if(this.topBraces)for(let d=0;d<this.topBraces.length;d++){const m=this.topBraces[d],f=m.start,v=m.end,y=m.text,x=m.type??"accolade",g=m.options??{},b=g.justify??"center",k=g.color??"black",w=g.fontSize??"1em",N=g.fontWeight??"normal",A=g.lineHeight??"1.2em";f!=null&&v!=null&&y!=null&&(l+=x==="flèche"?`<div class="SchemaTop" style="grid-row: 1; grid-column-start: ${f+s}; grid-column-end: ${v+s}; text-align:center; border: none; --arrow-color: ${k}">
                    <div class="latexAccoladeTop" style="text-align: ${b}; color: ${k}; font-size: ${w}; font-weight: ${N}; line-height: ${A}">${y}</div>
                  <div class="horizontalArrow">
                    <div class="horizontalArrowHead" style="transform: rotate(180deg);"></div>
                    <div class="horizontalArrowLine"></div>
                    <div class="horizontalArrowHead"></div>
                  </div>
                </div>
`:`<div class="SchemaTop" style="grid-row: 1; grid-column-start: ${f+s}; grid-column-end: ${v+s}; text-align:center; border: none"; --brace-color: ${k}">
                    <div class="latexAccoladeTop" style="text-align: ${b}; color: ${k}; font-size: ${w}; font-weight: ${N}; line-height: ${A}">${y}</div>
                    <div class="braceTop">
                      <div class="braceTopLeft">
                        <div class="curlTopLeftLeft"></div>
                        <div class="lineTopLeftMiddle"></div>
                        <div class="curlTopLeftRight"></div>
                      </div>
                      <div class="braceTopRight">
                        <div class="curlTopRightLeft"></div>
                        <div class="lineTopRightMiddle"></div>
                        <div class="curlTopRightRight"></div>
                      </div>
                    </div>
                </div>
`)}const u=[];let c=0;for(let d=0;d<this.lignes.length;d++){const m=this.lignes[d],f=((r=m.entete)==null?void 0:r.content)??"",v=((i=m.entete)==null?void 0:i.couleur)??"black",y=((n=m.entete)==null?void 0:n.fontSize)??"1em",x=((a=m.entete)==null?void 0:a.fontWeight)??"normal",g=m.spacing??0,b=m.height??"1.2em";let k="",w=1;const N=m.barres??[];for(let A=0;A<N.length;A++){const $=N[A];if($.length<=0)continue;$.content==null&&($.content=""),$.color==null&&($.color="lightgray"),$.options==null&&($.options={});const D=$.options??{},_=D.justify??"center",T=D.color??"black",z=D.fontSize??"1em",P=D.fontWeight??"normal",q=D.style??"",L=$.type??"boite",Z=D.borderless??!1;k+=L==="boite"?`<div class="SchemaItem" style="grid-row: ${d+2+c};
                  grid-column-start: ${w+s};
                  grid-column-end: ${w+$.length+s};
                  background-color:${$.color};
                  justify-content:${_};
                  color:${T};
                  font-size:${z};
                  font-weight:${P};
                  line-height:${b};
                  ${Z?"border: none;":A>0?"border-left: none;":"border: solid 1px black;"}
                   ${q}">
                ${$.content.includes("<br>")?`<div style="text-align: center;">${$.content}</div>
`:$.content}
              </div>
`:`<div class="SchemaItem" style="grid-row: ${d+2+c};
                  grid-column-start: ${w+s};
                  grid-column-end: ${w+$.length+s};
                  background-color:${$.color};
                  font-size:${z};
                  font-weight:${P};
                  line-height:${b};
                  display: flex;
                  flex-direction: column;
                  align-items: center;
                  justify-content: center;
                  border: ${Z?"none":"solid 1px black"};
                  ${q}">
                <div class="horizontalArrow" style="width: 100%;margin-top: 0.5em; --arrow-color: ${T}">
                  <div class="horizontalArrowHead" style="border-left: 12px solid ${T}; transform: rotate(180deg);"></div>
                  <div class="horizontalArrowLine" style="--arrow-color: ${T}"></div>
                  <div class="horizontalArrowHead" style="border-left: 12px solid ${T};"></div>
                </div>
                <div style="width: 100%; text-align: center; color: ${T};">${$.content}</div>
              </div>
`,w+=$.length}o?u.push(`<div class="SchemaItem" style="grid-row: ${d+2+c}; grid-column-start: 1; grid-column-end: ${s+1}; border: none; color: ${v}; font-size: ${y}; font-weight: ${x}">${f}</div>
`+k):u.push(k),g>0&&(u.push(`<div class="SchemaItem" style="grid-row: ${d+3+c}; grid-column-start: 1; grid-column-end: 2; border: none; height: ${g}em"></div>
`),c++)}let h="";if(this.bottomBraces)for(let d=0;d<this.bottomBraces.length;d++){const m=this.bottomBraces[d],f=m.start,v=m.end,y=m.text,x=m.type??"accolade",g=m.options??{},b=g.justify??"center",k=g.color??"black",w=g.fontSize??"1em",N=g.fontWeight??"normal",A=g.lineHeight??"1.2em";f!=null&&v!=null&&y!=null&&(h+=x==="flèche"?`<div class="SchemaBottom" style="grid-row: ${this.lignes.length+2+c}; grid-column-start: ${f}; grid-column-end: ${v}; text-align:center; border: none; --brace-color: ${k}">
                  <div class="horizontalArrow">
                    <div class="horizontalArrowHead" style="transform: rotate(180deg);"></div>
                    <div class="horizontalArrowLine"></div>
                    <div class="horizontalArrowHead"></div>
                  </div>
                    <div class="latexAccoladeBottom" style="text-align: ${b}; color: ${k}; font-size: ${w}; font-weight: ${N}; line-height: ${A}">${y}</div>
                </div>
`:`<div class="SchemaBottom" style="grid-row: ${this.lignes.length+2+c}; grid-column-start: ${f+s}; grid-column-end: ${v+s}; text-align:center; border: none; --brace-color: ${k}">
                    <div class="braceBottom">
                      <div class="braceBottomLeft">
                        <div class="curlBottomLeftLeft"></div>
                        <div class="lineBottomLeftMiddle"></div>
                        <div class="curlBottomLeftRight"></div>
                      </div>
                    <div class="braceBottomRight">
                      <div class="curlBottomRightLeft"></div>
                      <div class="lineBottomRightMiddle"></div>
                      <div class="curlBottomRightRight"></div>
                    </div>
                  </div>
                <div class="latexAccoladeBottom" style="text-align: ${b}; color: ${k}; font-size: ${w}; font-weight: ${N}; line-height: ${A}">
                  ${y.includes("<br>")?`<div style="text-align: center;">${y}</div>
`:`${y}`}</div>

                  </div>
`)}let p="";if(this.rightBraces)for(let d=0;d<this.rightBraces.length;d++){const m=Math.max(...this.lignes.map(A=>A.barres.reduce(($,D)=>$+(D.length??0),0)+(s??0)+1)),f=this.rightBraces[d],v=f.start,y=f.end,x=f.text,g=f.options??{},b=g.justify??"center",k=g.color??"black",w=g.fontSize??"1em",N=g.fontWeight??"normal";v!=null&&y!=null&&x!=null&&(p+=`<div class="SchemaRight" style="grid-row: ${v}/${y}; grid-column-start: ${m+1}; grid-column-end: ${m+2}; text-align:center; border: none; --brace-color: ${k}">
    <div class="braceRight">
      <div class="braceRightTop">
        <div class="curlRightTopTop"></div>
        <div class="lineRightTopMiddle"></div>
        <div class="curlRightTopBottom"></div>
      </div>
      <div class="braceRightBottom">
        <div class="curlRightBottomTop"></div>
        <div class="lineRightBottomMiddle"></div>
        <div class="curlRightBottomBottom"></div>
      </div>
    </div>
  </div>
    <div class="latexAccoladeRight" style="grid-row: ${Math.round((v+y)/2)-1}; grid-column-start: ${m+2}; grid-column-end: ${m+10};text-align: ${b}; color: ${k}; font-size: ${w}; font-weight: ${N}">
     <div style="display: inline-block; text-align: center;">${x}</div>

    </div>
`)}return`<div class="SchemaContainer">${l}
${u.join(`
`)}
${h}${p}</div>
`}}static multiplication(e,r,i,n){return new ds({topBraces:[{start:1,end:8+i*2,text:r!=null?`$${de(r,i)}\\text{ fois}$`:"? fois"}],lignes:[{barres:[{color:"lightgray",length:2+i,content:e!=null?`$${de(e,i)}$`:"?",type:"boite"},{color:"lightgray",length:3,content:"\\ldots",type:"boite"},{color:"lightgray",length:2+i,content:e!=null?`$${de(e,i)}$`:"?",type:"boite"}]},{barres:[{color:"white",length:7+i*2,content:n??"?"}]}]})}static division(e,r,i,n){return new ds({topBraces:[{start:1,end:8+2*n,text:i==null?"? fois":`${de(i,0)} fois`}],lignes:[{barres:[{color:"lightgray",length:2+n,content:r==null?"?":`$${de(r,n)}$`,type:"boite"},{color:"lightgray",length:3,content:"\\ldots",type:"boite"},{color:"lightgray",length:2+n,content:r==null?"?":`$${de(r,n)}$`,type:"boite"}]},{barres:[{color:"white",length:7+2*n,content:e==null?"?":`$${de(e,n)}$`}]}]})}static multiplicationPuisDivisionAvecReste(e,r,i,n,a,s){const o=typeof e=="number"?e*3:10;return new ds({topBraces:e!=null?typeof e=="string"?[{start:1,end:o+1,text:`${e}`,type:"accolade"}]:[{start:1,end:o+1,text:`${de(e,0)}`,type:"accolade"}]:[{start:1,end:o+1,text:"? fois",type:"accolade"}],lignes:[{spacing:.5,barres:typeof e=="number"?uf(e-1).map(u=>({color:"white",length:3,content:r!=null?typeof r=="number"?`$${de(r,s)}$`:`${r}`:"?",type:"boite"})):[{color:"lightgray",length:3,content:r!=null?typeof r=="number"?`$${de(r,s)}$`:`${r}`:"?",type:"boite"},{color:"lightgray",length:o-3,content:"\\ldots",type:"boite",options:{justify:"start"}}]},{barres:[{color:"lightgray",length:3,content:i!=null?typeof i=="number"?`$${de(i,s)}$`:`${i}`:"?",type:"boite"},{color:"lightgray",length:o-6,content:"\\ldots",type:"boite",options:{justify:"start"}},{color:"lightgray",length:3,content:a!=null?typeof a=="number"?`$${de(a,s)}$`:`${a}`:"?",type:"boite",options:{justify:"center"}}]}],bottomBraces:[{start:1,end:o-2,text:n!=null?typeof n=="string"?n:`$${de(Number(n),s)}$`:"?",type:"flèche"}]})}static divisionAvecReste(e,r,i,n,a){return new ds({topBraces:[{start:1,end:8+2*n,text:i==null?"? fois":`$${i}$ fois`}],lignes:[{barres:[{color:"lightgray",length:2+n,content:r==null?"?":`$${de(r,n)}$`},{color:"lightgray",length:3,content:"\\ldots"},{color:"lightgray",length:2+n,content:r==null?"?":`$${de(r,n)}$`},{color:"lightgray",length:2,content:a??"?"}]},{barres:[{color:"white",length:9+2*n,content:e==null?"?":`$${de(e,n)}$`}]}]})}static addition(e,r,i){return new ds({lignes:[{barres:[{color:"lightgray",length:2+i,content:e!=null?`$${de(e,i)}$`:"?"},{color:"lightgray",length:2+i,content:r!=null?`$${de(r,i)}$`:"?"}]},{barres:[{color:"white",length:4+i*2,content:"?"}]}]})}static additionPartiesTout(e,r,i){const n=i.length,a=n<3?4:3;return new ds({topBraces:[{start:1,end:n*a+1,text:e!=null?typeof e=="string"?e:`$${de(e,r)}$`:"?",type:"accolade"}],lignes:[{barres:i.map((o,l)=>Object.assign({color:"lightgray",length:a,content:o!=null?typeof o=="string"?o:`$${de(Number(o),r)}$`:"?"},{}))}]})}static additionPartiesToutComparaison(e,r,i,n,a){return new ds({rightBraces:[{start:1,end:5,text:n!=null?`${de(n,a)}$`:"?",type:"accolade"}],lignes:[{barres:[{color:"lightgray",length:8+a,content:e==null?"?":`$${de(e,a)}$`}]},{barres:[{color:"lightgray",length:4+a,content:r==null?"?":`$${de(r,a)}$`},{color:"white",type:"flèche",length:4+a,content:i!=null?`$${de(i,a)}$`:"différence",options:{style:"border-left: none;border-top: none; border-bottom: none;border-right: dashed;"}}]}]})}static additionPartiesToutComparaison2(e,r,i,n,a,s){return new ds(s?Object.assign({},{lignes:[{spacing:.5,barres:[{color:"lightgray",length:3,content:e},{color:"lightgray",length:7,content:r}]},{barres:[{color:"lightgray",length:6,content:i},{color:"white",type:"flèche",length:4,content:n,options:{style:"border-left: none;border-top: none; border-bottom: none;border-right: dashed;"}}]}],topBraces:[{start:1,end:11,text:a,type:"accolade"}]}):Object.assign({},{lignes:[{spacing:.5,barres:[{color:"lightgray",length:3,content:e},{color:"lightgray",length:7,content:r}]},{barres:[{color:"lightgray",length:6,content:i},{color:"white",type:"flèche",length:4,content:n,options:{style:"border-left: none;border-top: none; border-bottom: none;border-right: dashed;"}}]}]}))}static soustraction(e,r,i,n){return new ds({lignes:[{barres:[{color:"lightgray",length:2+n,content:e==null?"?":`$${de(e,n)}$`},{color:"lightgray",length:2+n,content:i==null?"?":`$${de(i,n)}$`}]},{barres:[{color:"white",length:4+n*2,content:r==null?"?":`$${de(r,n)}$`}]}]})}}const NDe="Résoudre des problèmes grâce à des modélisations en barres",SDe=!0,DDe="mathLive",ADe="3/06/2025",$De="4e89d",_De={"fr-fr":["6N4A-3"],"fr-2016":[],"fr-ch":[]},EDe=[{nom:"ananas",valMin:80,valMax:150},{nom:"pasteque",valMin:40,valMax:60},{nom:"banane",valMin:8,valMax:16},{nom:"kiwi",valMin:8,valMax:12},{nom:"pomme",valMin:10,valMax:15},{nom:"poire",valMin:9,valMax:12},{nom:"orange",valMin:15,valMax:22},{nom:"citron",valMin:8,valMax:14},{nom:"melon",valMin:80,valMax:140},{nom:"peche",valMin:10,valMax:15}],IDe=[[[2,1,2,2],[3,2,2,2],[2,3,2,2],[4,2,3,2],[3,2,3,1]],[[2,1,2,3],[1,2,3,2],[3,1,3,3],[2,3,4,3],[4,2,1,2],[3,3,1,3],[4,1,1,1]],[[4,5,2,3],[3,8,1,3],[2,3,4,5],[7,4,2,1],[3,2,6,5],[2,3,5,6]],[[4,3,2,4],[2,3,7,6]]];class TDe extends Os{constructor(){super(),this.classe=6,this.nbQuestions=1,this.spacingCorr=2,this.besoinFormulaireTexte=["Niveaux de difficultés",`Nombres séparés par des tirets
1: soustraction
2 : soustraction puis division
3 multiplication puis soustraction
4 : multiplication, soustraction puis division
5 : Mélange`],this.sup="5",this.besoinFormulaire2CaseACocher=["Masse décimale (unité kg)",!1],this.sup2=!1}nouvelleVersion(){const e=this.sup2?"kg":"g",r=Xl({saisie:this.sup,nbQuestions:this.nbQuestions,min:1,max:4,melange:5,defaut:5}).map(Number);for(let i=0,n=0;i<this.nbQuestions&&n<50;){let a="On a effectué deux pesées :<br>",s="";const[o,l]=o1(EDe,2),u=ge(o.valMin,o.valMax)*10*(this.sup2?.001:1),c=ge(l.valMin,l.valMax)*10*(this.sup2?.001:1),[h,p,d,m]=Pt(IDe[r[i]-1]),f=DG[o.nom],v=DG[l.nom],y=[f.shapeDef,v.shapeDef],x=[f.shapeDef,v.shapeDef];for(let $=0;$<h;$++){const D=f.shape2D.clone().translate($*.9,-.5);y.push(D)}for(let $=h;$<h+p;$++){const D=v.shape2D.clone().translate($*.9,-.5);y.push(D)}for(let $=0;$<d;$++){const D=f.shape2D.clone().translate($*.9,-.5);x.push(D)}for(let $=d;$<d+m;$++){const D=v.shape2D.clone().translate($*.9,-.5);x.push(D)}const g=h*u+p*c,b=d*u+m*c,k=[D3(Gn(-.5,-1),Gn(-.2,-1.3),Gn((h+p-1)*.9+.2,-1.3),Gn((h+p-1)*.9+.5,-1)),Su(`${de(g,3)}\\text{ ${e}}`,(h+p)/2,-1.7,{letterSize:"small"})],w=[D3(Gn(-.5,-1),Gn(-.2,-1.3),Gn((d+m-1)*.9+.2,-1.3),Gn((d+m-1)*.9+.5,-1)),Su(`${de(b,3)}\\text{ ${e}}`,(d+m)/2,-1.7,{letterSize:"small"})];y.push(...k),x.push(...w),a+=ci(Object.assign({style:"display: block",pixelsParCm:30,scale:1},gi(y,{rxmin:0,rymin:0,rxmax:0,rymax:0})),y)+""+ci(Object.assign({style:"display: block",pixelsParCm:30,scale:1},gi(x,{rxmin:0,rymin:0,rxmax:0,rymax:0})),x);const N=ci(Object.assign({},gi([f.shapeDef,f.shape2D],{rxmin:0,rymin:0,rxmax:0,rymax:0}),{style:"display: inline-block",pixelsParCm:23,scale:.5}),[f.shapeDef,f.shape2D]),A=ci(Object.assign({},gi([v.shapeDef,v.shape2D],{rxmin:0,rymin:0,rxmax:0,rymax:0}),{style:"display: inline-block",pixelsParCm:23,scale:.5}),[v.shapeDef,v.shape2D]);switch(a+=`<br>Quelle est la masse  d'${f.articleSingulier} ${f.nomSingulier} ${this.interactif?`${gr(this,2*i,Xt.masse)}<br>`:""}
      et celle d'${v.articleSingulier} ${v.nomSingulier} ${this.interactif?gr(this,2*i+1,Xt.masse):""}?`,cr(this,2*i,{reponse:{value:`${Co(u,3)}${this.sup2?" kg":" g"}`,options:{unite:!0}}}),cr(this,2*i+1,{reponse:{value:`${Co(c,3)}${this.sup2?" kg":" g"}`,options:{unite:!0}}}),r[i]){case 1:if(h===d){s+=`On remarque que dans les deux pesées, il y a le même nombre ${f.articleCourt} ${f.nomPluriel}.<br>`,s+=`Par conséquent, la différence de masse entre les deux pesées se fait uniquement sur les ${v.nomPluriel} en plus.<br>`,s+=`La différence de masse est de : $${de(Math.max(p,m)*c+h*u,3)}$ ${e}$-${de(Math.min(p,m)*c+h*u,3)}$ ${e} soit $${de(Math.abs(p-m)*c,3)}$ ${e}.<br>`,s+=`${Bc(v.articleSingulier)} ${v.nomSingulier} pèse donc $${Ge(`${de(c,3)}\\text{ ${e}}`)}$`;const $=Bi(h).map(P=>N).join(`
`),D=Bi(p).map(P=>A).join(`
`),_=Bi(m).map(P=>A).join(`
`),T=new ds({topBraces:[{start:1,end:h+p+1,text:`$${de(g,3)}$ ${e}`}],bottomBraces:[{start:1,end:d+m+1,text:`$${de(b,3)}$ ${e}`}],lignes:[{barres:[{content:$,length:h,color:"white"},{content:D,length:p,color:"white"}]},{barres:[{content:$,length:h,color:"white"},{content:_,length:m,color:"white"}]}]});s+=T.display();const z=p>m?"deuxième":"première";s+=`Pour calculer la masse d'${f.articleSingulier} ${f.nomSingulier}, on utilise la ${z} pesée :<br>`,s+=`${d>1?`${d} ${f.nomPluriel} pèsent`:`Un ${f.nomSingulier} pèse`} d'après la ${z} pesée :<br>`,s+=`$${p>m?`${de(b,3)}\\text{ ${e}}-${de(m*c,3)}\\text{ ${e}}=${de(d*u,3)}\\text{ ${e}}$`:`${de(g,3)}\\text{ ${e}}-${de(p*c,3)}\\text{ ${e}}=${de(h*u,3)}\\text{ ${e}}$`}.<br>`,s+=`Donc ${f.articleSingulier} ${f.nomSingulier} pèse $${p>m?`${d===1?"":`\\dfrac{${de(d*u,3)}\\text{ ${e}}}{${d}}=`}`:`${h===1?"":`\\dfrac{${de(h*u,3)}\\text{ ${e}}}{${h}}=`}`} ${Ge(`${de(u,3)}\\text{ ${e}}`)}$`}else if(p===m){s+=`On remarque que dans les deux pesées, il y a le même nombre ${v.articleCourt} ${v.nomPluriel}.<br>`,s+=`Par conséquent, la différence de masse entre les deux pesées se fait uniquement sur les ${f.nomPluriel} en plus.<br>`,s+=`La différence de masse est de : $${de(Math.max(h,d)*u+p*c,3)}$ ${e}$-${de(Math.min(h,d)*u+p*c,3)}$ ${e} soit $${de(Math.abs(h-d)*u,3)}$ ${e}.<br>`,s+=`${Bc(f.articleSingulier)} ${f.nomSingulier} pèse donc $${Ge(`${de(u,3)}\\text{ ${e}}`)}$`;const $=Bi(p).map(P=>A).join(`
`),D=Bi(h).map(P=>N).join(`
`),_=Bi(d).map(P=>N).join(`
`),T=new ds({topBraces:[{start:h>d?1:Math.abs(h-d)+1,end:h>d?h+p+1:d+p+1,text:`$${de(g,3)}$ ${e}`}],bottomBraces:[{start:d>h?1:h-d+1,end:d>h?d+m+1:h+p+1,text:`$${de(b,3)}$ ${e}`}],lignes:[{barres:(h<d?[{content:"",length:d-h,color:"white"}]:[]).concat([{content:D,length:h,color:"white"},{content:$,length:p,color:"white"}])},{barres:(h>d?[{content:"",length:h-d,color:"white"}]:[]).concat([{content:_,length:Math.min(h,d),color:"white"},{content:$,length:p,color:"white"}])}]});s+=T.display();const z=h>d?"deuxième":"première";s+=`Pour calculer la masse d'${v.articleSingulier} ${v.nomSingulier}, on utilise la ${z} pesée :<br>`,s+=`${m>1?`${m} ${v.nomPluriel} pèsent`:`Un ${v.nomSingulier} pèse`} d'après la ${z} pesée :<br>`,s+=`$${h>d?`${de(b,3)}\\text{ ${e}}-${de(d*u,3)}\\text{ ${e}}=${de(m*c,3)}\\text{ ${e}}$`:`${de(g,3)}\\text{ ${e}}-${de(h*u,3)}\\text{ ${e}}=${de(p*c,3)}\\text{ ${e}}$`}.<br>`,s+=`Donc ${v.articleSingulier} ${v.nomSingulier} pèse $${h>d?`${m===1?"":`\\dfrac{${de(m*c,3)}\\text{ ${e}}}{${m}}=`}`:`${p===1?"":`\\dfrac{${de(p*c,3)}\\text{ ${e}}}{${p}}=`}`}${Ge(`${de(c,3)}\\text{ ${e}}`)}$`}else{console.error("Il y a un problème avec cette combinaison"),s+=`La masse d'${f.articleSingulier} ${f.nomSingulier} est ${de(u,3)}$ ${e} et celle d'${v.articleSingulier} ${v.nomSingulier} est ${de(c,3)}$ ${e}.`;break}break;case 2:if(h===d){s+=`On remarque que dans les deux pesées, il y a le même nombre ${f.articleCourt} ${f.nomPluriel}.<br>`,s+=`Par conséquent, la différence de masse entre les deux pesées se fait uniquement sur les ${v.nomPluriel} en plus.<br>`,s+=`La différence de masse est de : 
            $${de(Math.max(p,m)*c+h*u,3)}$ ${e}$-${de(Math.min(p,m)*c+h*u,3)}$ ${e} soit $${de(Math.abs(p-m)*c,3)}$ ${e} pour $${Math.abs(p-m)}$ ${Math.abs(p-m)===1?v.nomSingulier:v.nomPluriel}.<br>`,s+=`${Bc(v.articleSingulier)} ${v.nomSingulier} pèse donc $${`\\dfrac{${de(Math.abs(p-m)*c,3)}\\text{ ${e}}}{${Math.abs(p-m)}}=
              ${Ge(`${de(c,3)}\\text{ ${e}}`)}`}$`;const $=Bi(h).map(P=>N).join(`
`),D=Bi(p).map(P=>A).join(`
`),_=Bi(m).map(P=>A).join(`
`),T=new ds({topBraces:[{start:1,end:h+p+1,text:`$${de(g,3)}$ ${e}`}],bottomBraces:[{start:1,end:d+m+1,text:`$${de(b,3)}$ ${e}`}],lignes:[{barres:[{content:$,length:h,color:"white"},{content:D,length:p,color:"white"}]},{barres:[{content:$,length:h,color:"white"},{content:_,length:m,color:"white"}]}]});s+=T.display();const z=p>m?"deuxième":"première";s+=`Pour calculer la masse d'${f.articleSingulier} ${f.nomSingulier}, on utilise la ${z} pesée :<br>`,s+=`${d>1?`${d} ${f.nomPluriel} pèsent`:`Un ${f.nomSingulier} pèse`} d'après la ${z} pesée :<br>`,s+=`$${p>m?`${de(b,3)}\\text{ ${e}}-${de(m*c,3)}\\text{ ${e}}=${de(d*u,3)}\\text{ ${e}}$`:`${de(g,3)}\\text{ ${e}}-${de(p*c,3)}\\text{ ${e}}=${de(h*u,3)}\\text{ ${e}}$`}.<br>`,s+=`Donc ${f.articleSingulier} ${f.nomSingulier} pèse $${p>m?`${d===1?"":`\\dfrac{${de(d*u,3)}\\text{ ${e}}}{${d}}=`}`:`${h===1?"":`\\dfrac{${de(h*u,3)}\\text{ ${e}}}{${h}}=`}`} ${Ge(`${de(u,3)}\\text{ ${e}}`)}$`}else if(p===m){s+=`On remarque que dans les deux pesées, il y a le même nombre ${v.articleCourt} ${v.nomPluriel}.<br>`,s+=`Par conséquent, la différence de masse entre les deux pesées se fait uniquement sur les ${f.nomPluriel} en plus.<br>`,s+=`La différence de masse est de : $${de(Math.max(h,d)*u+p*c,3)}$ ${e}$-${de(Math.min(h,d)*u+p*c,3)}$ ${e} soit $${de(Math.abs(h-d)*u,3)}$ ${e} pour $${Math.abs(h-d)}$ ${Math.abs(h-d)===1?f.nomSingulier:f.nomPluriel}.<br>`,s+=`${Bc(f.articleSingulier)} ${f.nomSingulier} pèse donc $`,s+=`\\dfrac{${de(Math.abs(h-d)*u,3)}\\text { ${e}}}{${Math.abs(h-d)}}=
            ${Ge(`${de(u,3)}\\text{ ${e}}`)}$`;const $=Bi(p).map(P=>A).join(`
`),D=Bi(h).map(P=>N).join(`
`),_=Bi(d).map(P=>N).join(`
`),T=new ds({topBraces:[{start:d<h?1:d-h+1,end:d<h?h+p+1:d+p+1,text:`$${de(g,3)}$ ${e}`}],bottomBraces:[{start:d>h?1:h-d+1,end:d>h?d+m+1:h+p+1,text:`$${de(b,3)}$ ${e}`}],lignes:[{barres:(h<d?[{content:"",length:d-h,color:"white"}]:[]).concat([{content:D,length:h,color:"white"},{content:$,length:p,color:"white"}])},{barres:(h>d?[{content:"",length:h-d,color:"white"}]:[]).concat([{content:_,length:d,color:"white"},{content:$,length:p,color:"white"}])}]});s+=T.display();const z=h>d?"deuxième":"première";s+=`Pour calculer la masse d'${v.articleSingulier} ${v.nomSingulier}, on utilise la ${z} pesée :<br>`,s+=`${m>1?`${m} ${v.nomPluriel} pèsent`:`Un ${v.nomSingulier} pèse`} d'après la ${z} pesée :<br>`,s+=`$${h>d?`${de(b,3)}\\text{ ${e}}-${de(d*u,3)}\\text{ ${e}}=${de(m*c,3)}\\text{ ${e}}$`:`${de(g,3)}\\text{ ${e}}-${de(h*u,3)}\\text{ ${e}}=${de(p*c,3)}\\text{ ${e}}$`}.<br>`,s+=`Donc ${v.articleSingulier} ${v.nomSingulier} pèse $${h>d?`${m===1?"":`\\dfrac{${de(m*c,3)}\\text{ ${e}}}{${m}}=`}`:`${p===1?"":`\\dfrac{${de(p*c,3)}\\text{ ${e}}}{${p}}=`}`}${Ge(`${de(c,3)}\\text{ ${e}}`)}$.<br>`}else console.error("Il y a un problème avec cette combinaison"),s+=`La masse d'${f.articleSingulier} ${f.nomSingulier} est ${de(u,3)}$ ${e} et celle d'${v.articleSingulier} ${v.nomSingulier} est ${de(c,3)}$ ${e}.`;break;case 3:case 4:{const $=[[h/d,0],[p/m,1],[d/h,2],[m/p,3]].filter(T=>T[0]===Math.floor(T[0]));$.sort((T,z)=>z[1]-T[1]);const D=$[0][1],_={2:"double",3:"triple",4:"quadruple"};switch(D){case 0:{const T=Math.round(h/d);s+=`On remarque que le nombre de ${f.nomPluriel} dans la première pesée est ${_[T]} de celui de la deuxième pesée.<br>`,s+=`On va ${_[T]}r la deuxième pesée pour avoir le même nombre de ${f.nomPluriel}.<br>`;const z=Bi(h).map(L=>N).join(`
`)+Bi(p).map(L=>A).join(`
`);let P=Bi(d).map(L=>N).join(`
`);P+=Bi(m).map(L=>A).join(`
`);const q=new ds({topBraces:uf(T-1).map(L=>Object.assign({},{start:1+L*(d+m),end:1+(L+1)*(d+m),text:`$${de(b,3)}\\text{ ${e}}$`})),bottomBraces:[{start:1,end:h+p+1,text:`$${de(g,3)}$ ${e}`}],lignes:[{barres:Bi(T).map(()=>({content:P,length:d+m,color:"white"}))},{barres:[{content:z,length:h+p,color:"white"}]}],rightBraces:[{start:2,end:3,text:`$${de(T*b,3)}\\text{ ${e}}$`}]});s+=q.display(),s+=`La différence de masse s'explique donc par le nombre de ${v.nomPluriel} en plus.<br>`,s+=`On a : $${de(T*b,3)}\\text{ ${e}}-${de(g,3)}\\text{ ${e}}$ soit $${de(T*b-g,3)}\\text{ ${e}}$ pour $${T*m-p}$ ${T*m-p===1?v.nomSingulier:v.nomPluriel}.<br>`,s+=`${Bc(v.articleSingulier)} ${v.nomSingulier} pèse donc $${T*m-p===1?"":`\\dfrac{${de(T*b-g,3)}\\text{ ${e}}}{ ${T*m-p}}=`} ${Ge(`${de(c,3)}\\text{ ${e}}`)}$<br>`,s+=`Pour calculer la masse d'${f.articleSingulier} ${f.nomSingulier}, on utilise la deuxième pesée :<br>`,s+=`${d>1?`${d} ${f.nomPluriel} pèsent`:`Un ${f.nomSingulier} pèse`} :<br>`,s+=`$${de(b,3)}\\text{ ${e}} - ${de(m*c,3)}\\text{ ${e}} = ${de(d*u,3)}\\text{ ${e}}$<br>`,s+=`Donc ${f.articleSingulier} ${f.nomSingulier} pèse $${d===1?"":`\\dfrac{${de(d*u,3)}\\text{ ${e}}}{${d}}=`} ${Ge(`${de(u,3)}\\text{ ${e}}`)}$`}break;case 1:{const T=Math.round(p/m);s+=`On remarque que le nombre de ${v.nomPluriel} dans la première pesée est ${_[T]} de celui de la deuxième pesée.<br>`,s+=`On va ${_[T]}r la deuxième pesée pour avoir le même nombre de ${v.nomPluriel}.<br>`;const z=Bi(h).map(L=>N).join(`
`)+Bi(p).map(L=>A).join(`
`);let P=Bi(d).map(L=>N).join(`
`);P+=Bi(m).map(L=>A).join(`
`);const q=new ds({topBraces:uf(T-1).map(L=>Object.assign({},{start:1+L*(d+m),end:1+(L+1)*(d+m),text:`$${de(b,3)}\\text{ ${e}}$`})),bottomBraces:[{start:1,end:h+p+1,text:`$${de(g,3)}$ ${e}`}],lignes:[{barres:Bi(T).map(()=>({content:P,length:d+m,color:"white"}))},{barres:[{content:z,length:h+p,color:"white"}]}],rightBraces:[{start:2,end:3,text:`$${de(T*b,3)}\\text{ ${e}}$`}]});s+=q.display(),s+=`La différence de masse s'explique donc par le nombre de ${f.nomPluriel} en plus.<br>`,s+=`On a : $${de(T*b,3)}\\text{ ${e}}-${de(g,3)}\\text{ ${e}}$ soit $${de(T*b-g,3)}\\text{ ${e}}$ pour $${T*d-h}$ ${T*d-h===1?f.nomSingulier:f.nomPluriel}.<br>`,s+=`${Bc(f.articleSingulier)} ${f.nomSingulier} pèse donc $${T*d-h===1?"":`\\dfrac{${de(T*b-g,3)}\\text{ ${e}}}{ ${T*d-h}}=`} ${Ge(`${de(u,3)}\\text{ ${e}}`)}$<br>`,s+=`Pour calculer la masse d'${v.articleSingulier} ${v.nomSingulier}, on utilise la deuxième pesée :<br>`,s+=`${m>1?`${m} ${v.nomPluriel} pèsent`:`Un ${v.nomSingulier} pèse`} :<br>`,s+=`$${de(b,3)}\\text{ ${e}} - ${de(d*u,3)}\\text{ ${e}} = ${de(m*c,3)}\\text{ ${e}}$<br>`,s+=`Donc ${v.articleSingulier} ${v.nomSingulier} pèse $${m===1?"":`\\dfrac{${de(m*c,3)}\\text{ ${e}}}{${m}}=`} ${Ge(`${de(c,3)}\\text{ ${e}}`)}$`}break;case 2:{const T=Math.round(d/h);s+=`On remarque que le nombre de ${f.nomPluriel} dans la deuxième pesée est ${_[T]} de celui de la première pesée.<br>`,s+=`On va ${_[T]}r la première pesée pour avoir le même nombre de ${f.nomPluriel}.<br>`;const z=Bi(h).map(L=>N).join(`
`)+Bi(p).map(L=>A).join(`
`);let P=Bi(d).map(L=>N).join(`
`);P+=Bi(m).map(L=>A).join(`
`);const q=new ds({bottomBraces:[{start:1,end:d+m+1,text:`$${de(b,3)}$ ${e}`}],topBraces:uf(T-1).map(L=>Object.assign({},{start:1+L*(h+p),end:1+(L+1)*(h+p),text:`$${de(g,3)}\\text{ ${e}}$`})),lignes:[{barres:Bi(T).map(()=>({content:z,length:h+p,color:"white"}))},{barres:[{content:P,length:d+m,color:"white"}]}],rightBraces:[{start:2,end:3,text:`$${de(T*g,3)}\\text{ ${e}}$`}]});s+=q.display(),s+=`La différence de masse s'explique donc par le nombre de ${v.nomPluriel} en plus.<br>`,s+=T*g>b?`On a : $${de(T*g,3)}\\text{ ${e}}-${de(b,3)}\\text{ ${e}}$ soit $${de(T*g-b,3)}\\text{ ${e}}$ pour $${T*p-m}$ ${T*p-m===1?v.nomSingulier:v.nomPluriel}.<br>`:`On a : $${de(b,3)}\\text{ ${e}}-${de(T*g,3)}\\text{ ${e}}$ soit $${de(b-T*g,3)}\\text{ ${e}}$ pour $${m-T*p}$ ${m-T*p===1?v.nomSingulier:v.nomPluriel}.<br>`,s+=`${Bc(v.articleSingulier)} ${v.nomSingulier} pèse donc $${Math.abs(T*p-m)===1?"":`\\dfrac{${de(Math.abs(T*g-b),3)}\\text{ ${e}}}{ ${Math.abs(T*p-m)}}=`} ${Ge(`${de(c,3)}\\text{ ${e}}`)}$<br>`,s+=`Pour calculer la masse d'${f.articleSingulier} ${f.nomSingulier}, on utilise la première pesée :<br>`,s+=`${h>1?`${h} ${f.nomPluriel} pèsent`:`Un ${f.nomSingulier} pèse`} :<br>`,s+=`$${de(g,3)}\\text{ ${e}} - ${de(p*c,3)}\\text{ ${e}} = ${de(h*u,3)}\\text{ ${e}}$<br>`,s+=`Donc ${f.articleSingulier} ${f.nomSingulier} pèse $${h===1?"":`\\dfrac{${de(h*u,3)}\\text{ ${e}}}{${h}}=`} ${Ge(`${de(u,3)}\\text{ ${e}}`)}$`}break;case 3:{const T=Math.round(m/p);s+=`On remarque que le nombre de ${v.nomPluriel} dans la deuxième pesée  est ${_[T]} de celui de la deuxième pesée.<br>`,s+=`On va ${_[T]}r la première pesée pour avoir le même nombre de ${v.nomPluriel}.<br>`;const z=Bi(h).map(L=>N).join(`
`)+Bi(p).map(L=>A).join(`
`);let P=Bi(d).map(L=>N).join(`
`);P+=Bi(m).map(L=>A).join(`
`);const q=new ds({bottomBraces:[{start:1,end:d+m+1,text:`$${de(b,3)}$ ${e}`}],topBraces:uf(T-1).map(L=>Object.assign({},{start:1+L*(h+p),end:1+(L+1)*(h+p),text:`$${de(g,3)}\\text{ ${e}}$`})),lignes:[{barres:Bi(T).map(()=>({content:z,length:h+p,color:"white"}))},{barres:[{content:P,length:d+m,color:"white"}]}],rightBraces:[{start:2,end:3,text:`$${de(T*g,3)}\\text{ ${e}}$`}]});s+=q.display(),s+=`La différence de masse s'explique donc par le nombre de ${f.nomPluriel} en plus.<br>`,s+=T*g>b?`On a : $${de(T*g,3)}\\text{ ${e}}-${de(b,3)}\\text{ ${e}}$ soit $${de(T*g-b,3)}\\text{ ${e}}$ pour $${T*h-d}$ ${T*h-d===1?f.nomSingulier:f.nomPluriel}.<br>`:`On a : $${de(b,3)}\\text{ ${e}}-${de(T*g,3)}\\text{ ${e}}$ soit $${de(b-T*g,3)}\\text{ ${e}}$ pour $${d-T*h}$ ${d-T*h===1?f.nomSingulier:f.nomPluriel}.<br>`,s+=`${Bc(f.articleSingulier)} ${f.nomSingulier} pèse donc $${Math.abs(T*h-d)===1?"":`\\dfrac{${de(Math.abs(T*g-b),3)}\\text{ ${e}}}{ ${Math.abs(T*h-d)}}=`} ${Ge(`${de(u,3)}\\text{ ${e}}`)}$<br>`,s+=`Pour calculer la masse d'${v.articleSingulier} ${v.nomSingulier}, on utilise la première pesée :<br>`,s+=`${p>1?`${p} ${v.nomPluriel} pèsent`:`Un ${v.nomSingulier} pèse`} :<br>`,s+=`$${de(g,3)}\\text{ ${e}} - ${de(h*u,3)}\\text{ ${e}} = ${de(p*c,3)}\\text{ ${e}}$<br>`,s+=`Donc ${v.articleSingulier} ${v.nomSingulier} pèse $${p===1?"":`\\dfrac{${de(p*c,3)}\\text{ ${e}}}{${p}}=`} ${Ge(`${de(c,3)}\\text{ ${e}}`)}$`}break}}break;case 5:s+=`Soit x la masse d'un ${o.nom} et y la masse d'un ${l.nom}.<br>`,s+=`$${hf(h)}x + ${hf(p)}y = ${de(g,3)}$ ${e}<br>`,s+=`$${hf(d)}x + ${hf(m)}y = ${de(b,3)}$ ${e}<br>`,s+="On peut résoudre ce système par substitution ou par combinaison.<br>",s+="Par exemple, en multipliant la première équation par "+m+" et la deuxième par "+p+", puis en retranchant membre à membre  , on obtient :<br>",s+=`$${m*h}x + ${m*p}y - ${p*d} x - ${p*m}y = ${de(m*g,3)} - ${de(p*b,3)}$ ${e}<br>`,s+=`$${hf(m*h-p*d)}x = ${de(m*g-p*b,3)} \\Rightarrow ${o.nom} = ${de((m*g-p*b)/(m*h-p*d),3)}$ ${e}<br>`,s+="En remplaçant dans l'une des deux équations, on trouve :<br>",s+=`${l.nom}$ = ${de((g-h*(m*g-p*b)/(m*h-p*d))/p,3)}$ ${e}`;break}this.questionJamaisPosee(i,a)?(this.listeQuestions.push(a),this.listeCorrections.push(s),i++):n++}}}const LDe=Object.freeze(Object.defineProperty({__proto__:null,dateDePublication:ADe,default:TDe,interactifReady:SDe,interactifType:DDe,refs:_De,titre:NDe,uuid:$De},Symbol.toStringTag,{value:"Module"}));class zDe extends br{constructor(e=-30,r=-30,i=30,n=30,a="gray",s=.4,o=1,l=0){super(),this.color=Ze(a),this.opacite=s,this.objets=[];let u=e,c=Math.round((i-e)/o);for(let p=0;p<=c;p++){const d=He(u,r,u,n,a);u+=o,d.opacite=this.opacite,l&&(d.pointilles=5),this.objets.push(d)}let h=r;c=Math.round((n-r)/o);for(let p=0;p<=c;p++){const d=He(e,h,i,h,a);h+=o,d.opacite=this.opacite,l&&(d.pointilles=5),this.objets.push(d)}this.bordures=[e,r,i,n]}svg(e){let r="";if(this.objets==null)return r;for(const i of this.objets)r+=`
	`+i.svg(e);return r}tikz(){let e="";if(this.objets==null)return e;for(const r of this.objets)e+=`
	`+r.tikz();return e}svgml(e,r){let i="";if(this.objets==null)return i;for(const n of this.objets)n.svgml?i+=`
	`+n.svgml(e,r):i+=`
	`+n.svg(e);return i}tikzml(e){let r="";if(this.objets==null)return r;for(const i of this.objets)typeof i.tikzml>"u"?r+=`
	`+i.tikz():r+=`
	`+i.tikzml(e);return r}}function AG(t=-30,e=-30,r=30,i=30,n="gray",a=.4,s=1,o=0){return new zDe(t,e,r,i,n,a,s,o)}class BDe extends br{constructor(e=0,r=0,i=15,n=15,a=.5,s=.2){super(),this.objets=[];for(let o=r;o<=n;o=o+.25)if(o%1!==0){const l=He(e,o,i,o,"red");l.opacite=s,this.objets.push(l)}this.objets.push(AG(e,r,i,n,"blue",a,1))}svg(e){let r="";if(this.objets==null)return r;for(const i of this.objets)r+=`
	`+i.svg(e);return r}tikz(){let e="";if(this.objets==null)return e;for(const r of this.objets)e+=`
	`+r.tikz();return e}}function ODe(t,e,r,i,n=.5,a=.2){return new BDe(t,e,r,i,n,a)}const FDe="14/11/2021",PDe=!0,RDe="AMCOpen",jDe="Construire par symétrie...";function qDe(t,e="dessus"){if(t.b===0){let r,i;return r=e==="gauche"?ge(-8,-1):e==="sur"?0:ge(1,8),i=ge(-8,8),be(r,i)}else if(t.a===0){let r,i;return i=e==="dessus"?ge(1,8):e==="sur"?0:ge(-8,-1),r=ge(-8,8),be(r,i)}else{let r,i;if(-t.b/t.a>0){r=ge(-8,6);const n=-(t.a*r+t.c)/t.b;i=e==="dessus"?ge(Math.ceil(n),8):e==="dessous"?ge(-8,Math.floor(n)):i=n}else{r=ge(-6,8);const n=-(t.a*r+t.c)/t.b;i=e==="dessus"?ge(Math.ceil(n),8):e==="dessous"?ge(-8,Math.floor(n)):i=n}return be(r,i)}}function Ch(t,e=["dessus","dessous","sur"]){let r,i,n,a,s,o,l,u,c,h,p,d,m=0,f=0,v=!1;do{v=!1;let y=!1;do e[0]==="sur"?r=zs(t,ge(-6,6),""):r=qDe(t,e[0]),a=N3(r,t),h=qi(r,a),m++;while((h<2&&e[0]!=="sur"||d7(t,r)!==e[0])&&m<100);m<100&&(y=!0),m=0;let x=!1;do e[1]==="sur"?i=zs(t,ge(-6,6),""):i=be(ge(-8,8,Math.round(r.x)),ge(-8,8,Math.round(r.y))),s=N3(i,t),p=qi(i,s),m++;while((p<2&&e[1]!=="sur"||d7(t,i)!==e[1])&&m<100);m<100&&(x=!0),m=0;let g=!1;do e[2]==="sur"?n=zs(t,ge(-8,8),""):n=be(ge(-8,8,[Math.round(r.x),Math.round(i.x)]),ge(-8,8,[Math.round(r.y),Math.round(i.y)])),o=N3(n,t),d=qi(n,o),m++;while((d<2&&e[2]!=="sur"||d7(t,n)!==e[2])&&m<100);m<100&&(g=!0),l=qi(a,s),u=qi(a,o),c=qi(s,o),v=y&&x&&g,f++}while((l<2||u<2||c<2||!v||Number(AB(er(r,i,n)))<15)&&f<100);return[r,i,n]}class UDe extends Os{constructor(){super(),this.nbQuestions=1,this.sup=1,this.sup2=1,this.sup3=1,this.sup4=!1,this.figure=!1,this.version=6,this.besoinFormulaireNumerique=["Type de questions",6,`1 : Axe horizontal ou vertical
2 : Axe oblique à 45°
3 : Axe avec une légère pente
4 : Toutes les symétries axiales
5 : Symétrie centrale
6 : Mélange`],this.besoinFormulaire2Numerique=["Type de cahier",3,` 1 : Cahier à petits carreaux
 2 : Cahier à gros carreaux (Seyes)
 3 : Feuille blanche`],this.besoinFormulaire3Numerique=["Niveau de difficulté pour la symétrie axiale",5,`1 : Tous les points du même côté de l'axe
2 : Deux points du même côté et le troisième sur l'axe
3 : Un point sur l'axe et un de chaque côté
4 : Deux points d'un côté de l'axe et le troisième de l'autre côté
5 : Mélange`],this.besoinFormulaire4CaseACocher=["Avec les quadrillages, décentrer l'axe ou le centre",!1],this.comment="Décentrer l'axe ou le centre, permt d'éviter les stratégies de comptage à partir du bord du quadrillage"}nouvelleVersion(){this.version===5&&(this.sup=5,this.sup3=5);let e,r;this.sup=r3(1,6,this.sup,6),this.sup3=r3(1,5,this.sup3,5);let i=[];this.sup3===1?e=Pt([["dessus","dessus","dessus"],["dessous","dessous","dessous"]]):this.sup3===2?e=Pt([["dessus","sur","dessus"],["dessous","sur","dessous"]]):this.sup3===3?e=Pt([["dessus","dessous","sur"],["sur","dessous","dessus"],["dessus","sur","dessous"]]):this.sup3===4?e=Pt([["dessus","dessous","dessus"],["dessus","dessus","dessous"]]):e=Pt([["dessus","dessous","dessus"],["dessus","dessus","dessous"],["dessus","sur","dessus"],["dessous","sur","dessus"],["dessus","dessous","sur"],["sur","dessous","dessus"],["dessus","sur","dessous"],["dessus","dessous","dessus"],["dessus","dessus","dessous"]]);let n=[];switch(this.sup){case 1:this.figure?n=[3]:n=[0];break;case 2:this.figure?n=[4]:n=[1];break;case 3:this.figure?n=[5]:n=[2];break;case 4:this.figure?n=[3,4,5]:n=[0,1,2];break;case 5:this.figure?n=[7]:n=[6];break;case 6:this.figure?n=[3,4,5,7]:n=[0,1,2,6];break}const a=o1(n,this.nbQuestions);let s,o,l,u,c;this.sup2===2?c=.8:c=.5;let h,p,d,m,f,v,y,x,g,b,k,w,N,A,$,D,_,T,z,P,q,L,Z,W,Y,ie,re,R=!1;const X=[],E=[];let oe,le,ne;for(let H=0,ue=0,ae;H<this.nbQuestions&&ue<50;){switch(i=H%3===0?["PQXD"]:i,X.length=0,E.length=0,a[H]){case 0:ne=zc(5,i),i.push(ne),R=Pt([!0,!1]),h=be(0,0),R?L=xf(h):L=td(h),f=zs(L,6,""),L.epaisseur=2,R?this.sup3===1?e=Pt([["dessus","dessus","dessus"],["dessous","dessous","dessous"]]):this.sup3===2?e=Pt([["dessus","sur","dessus"],["dessous","dessous","sur"]]):this.sup3===3?e=Pt([["sur","dessus","dessous"],["dessus","sur","dessous"]]):e=Pt([["dessus","dessous","dessus"],["dessous","dessus","dessous"]]):this.sup3===1?e=Pt([["gauche","gauche","gauche"],["droite","droite","droite"]]):this.sup3===2?e=Pt([["gauche","sur","gauche"],["droite","droite","sur"]]):this.sup3===3?e=Pt([["sur","gauche","droite"],["gauche","sur","droite"]]):e=Pt([["gauche","droite","gauche"],["droite","gauche","droite"]]),[v,k,D]=Ch(L,e),v.nom=ne[2],v.positionLabel="above",k.nom=ne[3],k.positionLabel="above",D.nom=ne[4],D.positionLabel="above",y=_a(v,L,`${ne[2]}'`,"above"),w=_a(k,L,`${ne[3]}'`,"above"),_=_a(D,L,`${ne[4]}'`,"above"),x=v.estSur(L)?v:qa(v,y,"red","|"),N=k.estSur(L)?k:qa(k,w,"blue","X"),T=D.estSur(L)?D:qa(D,_,"green","O"),g=v.estSur(L)?Un():He(v,y),A=k.estSur(L)?Un():He(k,w),z=D.estSur(L)?Un():He(D,_),b=ri(y,_,"","gray"),b.pointilles=5,P=ri(_,k,"","gray"),P.pointilles=5,$=ri(w,D,"","gray"),$.pointilles=5,q=ri(v,D,"","gray"),q.pointilles=5,E.push(L,Cn(v,k,D,y,w,_),ma(v,k,D,y,w,_),x,N,T,g,A,z,P,$,b,q),X.push(Cn(v,k,D),ma(v,k,D),L),ae=0,Z=ut(ae)+" Reproduire la figure ci-dessous.<br>",Z+=ut(ae+1)+` Construire le point $${ne[2]}'$, symétrique de $${ne[2]}$ par rapport à la droite $(d)$.<br>`,Z+=ut(ae+2)+` Construire le point $${ne[3]}'$, symétrique de $${ne[3]}$ par rapport à la droite $(d)$.<br>`,Z+=ut(ae+3)+` Construire le point $${ne[4]}'$, symétrique de $${ne[4]}$ par rapport à la droite $(d)$.<br>`,Z+=ut(ae+4)+" Coder la figure.<br><br>",s=Math.floor(Math.min(h.x,f.x,v.x,k.x,D.x,_.x,y.x,w.x)-1),o=Math.ceil(Math.max(h.x,f.x,v.x,k.x,D.x,_.x,y.x,w.x)+1),l=Math.floor(Math.min(h.y,f.y,v.y,k.y,D.y,_.y,y.y,w.y)-1),u=Math.ceil(Math.max(h.y,f.y,v.y,k.y,D.y,_.y,y.y,w.y)+1);break;case 1:ne=zc(5,i),i.push(ne),h=be(0,0,`${ne[0]}`,"above"),re=Pt([-1,1]),L=p1(h,re),f=zs(L,6,`${ne[1]}`,"above"),L.epaisseur=2,[v,k,D]=Ch(L,e),v.nom=ne[2],v.positionLabel="above",k.nom=ne[3],k.positionLabel="above",D.nom=ne[4],D.positionLabel="above",y=_a(v,L,`${ne[2]}'`,"above"),w=_a(k,L,`${ne[3]}'`,"above"),_=_a(D,L,`${ne[4]}'`,"above"),x=v.estSur(L)?v:qa(v,y,"red","|"),N=k.estSur(L)?k:qa(k,w,"blue","X"),T=D.estSur(L)?D:qa(D,_,"green","O"),g=v.estSur(L)?Un():He(v,y),A=k.estSur(L)?Un():He(k,w),z=D.estSur(L)?Un():He(D,_),b=ri(y,_,"","gray"),b.pointilles=5,P=ri(_,k,"","gray"),P.pointilles=5,$=ri(w,D,"","gray"),$.pointilles=5,q=ri(v,D,"","gray"),q.pointilles=5,E.push(L,Cn(v,k,D,y,w,_),ma(v,k,D,y,w,_),x,N,T,g,A,z,P,$,b,q),X.push(Cn(v,k,D),ma(v,k,D),L),ae=0,Z=ut(ae)+" Reproduire la figure ci-dessous.<br>",Z+=ut(ae+1)+` Construire le point $${ne[2]}'$, symétrique de $${ne[2]}$ par rapport à la droite $(d)$.<br>`,Z+=ut(ae+2)+` Construire le point $${ne[3]}'$, symétrique de $${ne[3]}$ par rapport à la droite $(d)$.<br>`,Z+=ut(ae+3)+` Construire le point $${ne[4]}'$, symétrique de $${ne[4]}$ par rapport à la droite $(d)$.<br>`,Z+=ut(ae+4)+" Coder la figure.<br><br>",s=Math.floor(Math.min(h.x,f.x,v.x,k.x,D.x,_.x,y.x,w.x)-1),o=Math.ceil(Math.max(h.x,f.x,v.x,k.x,D.x,_.x,y.x,w.x)+1),l=Math.floor(Math.min(h.y,f.y,v.y,k.y,D.y,_.y,y.y,w.y)-1),u=Math.ceil(Math.max(h.y,f.y,v.y,k.y,D.y,_.y,y.y,w.y)+1);break;case 2:ne=zc(5,i),i.push(ne),h=be(0,ge(-1,1),`${ne[0]}`,"above"),f=be(6,Pt([-1,1],[h.y]),`${ne[1]}`,"above"),L=ri(h,f),L.epaisseur=2,[v,k,D]=Ch(L,e),v.nom=ne[2],v.positionLabel="above",k.nom=ne[3],k.positionLabel="above",D.nom=ne[4],D.positionLabel="above",y=_a(v,L,`${ne[2]}'`,"above"),w=_a(k,L,`${ne[3]}'`,"above"),_=_a(D,L,`${ne[4]}'`,"above"),x=v.estSur(L)?v:qa(v,y,"red","|"),N=k.estSur(L)?k:qa(k,w,"blue","X"),T=D.estSur(L)?D:qa(D,_,"green","O"),g=v.estSur(L)?Un():He(v,y),A=k.estSur(L)?Un():He(k,w),z=D.estSur(L)?Un():He(D,_),b=He(y,_,"gray"),b.pointilles=5,P=He(_,k,"gray"),P.pointilles=5,$=He(w,D,"gray"),$.pointilles=5,q=He(v,D,"gray"),q.pointilles=5,E.push(L,Cn(v,k,D,y,w,_),ma(v,k,D,y,w,_),x,N,T,g,A,z,P,$,b,q),X.push(Cn(v,k,D),ma(v,k,D),L),ae=0,Z=ut(ae)+" Reproduire la figure ci-dessous.<br>",Z+=ut(ae+1)+` Construire le point $${ne[2]}'$, symétrique de $${ne[2]}$ par rapport à la droite $(d)$.<br>`,Z+=ut(ae+2)+` Construire le point $${ne[3]}'$, symétrique de $${ne[3]}$ par rapport à la droite $(d)$.<br>`,Z+=ut(ae+3)+` Construire le point $${ne[4]}'$, symétrique de $${ne[4]}$ par rapport à la droite $(d)$.<br>`,Z+=ut(ae+4)+" Coder la figure.<br><br>",s=Math.floor(Math.min(h.x,f.x,v.x,k.x,D.x,_.x,y.x,w.x)-1),o=Math.ceil(Math.max(h.x,f.x,v.x,k.x,D.x,_.x,y.x,w.x)+1),l=Math.floor(Math.min(h.y,f.y,v.y,k.y,D.y,_.y,y.y,w.y)-1),u=Math.ceil(Math.max(h.y,f.y,v.y,k.y,D.y,_.y,y.y,w.y)+1);break;case 3:ne=zc(5,i),i.push(ne),h=be(0,0,`${ne[0]}`,"above"),R=Pt([!0,!1]),R?L=xf(h):L=td(h),f=zs(L,6,`${ne[1]}`,"above"),R?this.sup3===1?e=Pt([["dessus","dessus","dessus"],["dessous","dessous","dessous"]]):this.sup3===2?e=Pt([["dessus","sur","dessus"],["dessous","dessous","sur"]]):this.sup3===3?e=Pt([["sur","dessus","dessous"],["dessus","sur","dessous"]]):e=Pt([["dessus","dessous","dessus"],["dessous","dessus","dessous"]]):this.sup3===1?e=Pt([["gauche","gauche","gauche"],["droite","droite","droite"]]):this.sup3===2?e=Pt([["gauche","sur","gauche"],["droite","droite","sur"]]):this.sup3===3?e=Pt([["sur","gauche","droite"],["gauche","sur","droite"]]):e=Pt([["gauche","droite","gauche"],["droite","gauche","droite"]]),L.epaisseur=2,[v,k,D]=Ch(L,e),v.nom=ne[2],v.positionLabel="above",k.nom=ne[3],k.positionLabel="above",D.nom=ne[4],D.positionLabel="above",oe=er(v,k,D),le=_a(oe,L),le.listePoints[0].nom=`${ne[2]}'`,le.listePoints[1].nom=`${ne[3]}'`,le.listePoints[2].nom=`${ne[4]}'`,y=qr(oe),w=qr(le),x=oe.listePoints[0].estSur(L)?Un():qa(oe.listePoints[0],le.listePoints[0],"red","|"),N=oe.listePoints[1].estSur(L)?Un():qa(oe.listePoints[1],le.listePoints[1],"blue","X"),T=oe.listePoints[2].estSur(L)?Un():qa(oe.listePoints[2],le.listePoints[2],"green","O"),g=oe.listePoints[0].estSur(L)?Un():He(oe.listePoints[0],le.listePoints[0],"red"),A=oe.listePoints[1].estSur(L)?Un():He(oe.listePoints[1],le.listePoints[1],"blue"),z=oe.listePoints[2].estSur(L)?Un():He(oe.listePoints[2],le.listePoints[2],"green"),g=He(oe.listePoints[0],le.listePoints[0],"red"),A=He(oe.listePoints[1],le.listePoints[1],"blue"),z=He(oe.listePoints[2],le.listePoints[2],"green"),b=ri(oe.listePoints[2],oe.listePoints[1],"","gray"),b.pointilles=5,P=ri(le.listePoints[2],le.listePoints[1],"","gray"),P.pointilles=5,E.push(L,x,N,T,g,A,z,y,w,oe,le,b,P),X.push(y,oe,L),ae=0,Z=ut(ae)+" Reproduire la figure ci-dessous.<br>",Z+=ut(ae+1)+` Construire le triangle  $${ne[2]}'${ne[3]}'${ne[4]}'$ symétrique de $${ne[2]}${ne[3]}${ne[4]}$ par rapport à la droite $(d)$.<br>`,Z+=ut(ae+2)+" Coder la figure.<br><br>",s=Math.floor(Math.min(h.x,f.x,v.x,k.x,oe.listePoints[0].x,oe.listePoints[1].x,oe.listePoints[2].x,le.listePoints[0].x,le.listePoints[1].x,le.listePoints[2].x)-1),o=Math.ceil(Math.max(h.x,f.x,v.x,k.x,oe.listePoints[0].x,oe.listePoints[1].x,oe.listePoints[2].x,le.listePoints[0].x,le.listePoints[1].x,le.listePoints[2].x)+1),l=Math.floor(Math.min(h.y,f.y,v.y,k.y,oe.listePoints[0].y,oe.listePoints[1].y,oe.listePoints[2].y,le.listePoints[0].y,le.listePoints[1].y,le.listePoints[2].y)-1),u=Math.ceil(Math.max(h.y,f.y,v.y,k.y,oe.listePoints[0].y,oe.listePoints[1].y,oe.listePoints[2].y,le.listePoints[0].y,le.listePoints[1].y,le.listePoints[2].y)+1);break;case 4:ne=zc(5,i),i.push(ne),h=be(0,0,`${ne[0]}`,"above"),re=Pt([-1,1]),L=p1(h,re),f=zs(L,6,`${ne[1]}`,"above"),L.epaisseur=2,[v,k,D]=Ch(L,e),v.nom=ne[2],v.positionLabel="above",k.nom=ne[3],k.positionLabel="above",D.nom=ne[4],D.positionLabel="above",oe=er(v,k,D),le=_a(oe,L),le.listePoints[0].nom=`${ne[2]}'`,le.listePoints[1].nom=`${ne[3]}'`,le.listePoints[2].nom=`${ne[4]}'`,y=qr(oe),w=qr(le),x=oe.listePoints[0].estSur(L)?Un():qa(oe.listePoints[0],le.listePoints[0],"red","|"),N=oe.listePoints[1].estSur(L)?Un():qa(oe.listePoints[1],le.listePoints[1],"blue","X"),T=oe.listePoints[2].estSur(L)?Un():qa(oe.listePoints[2],le.listePoints[2],"green","O"),g=He(oe.listePoints[0],le.listePoints[0],"red"),A=He(oe.listePoints[1],le.listePoints[1],"blue"),z=He(oe.listePoints[2],le.listePoints[2],"green"),b=ri(oe.listePoints[2],oe.listePoints[1],"","gray"),b.pointilles=5,P=ri(le.listePoints[2],le.listePoints[1],"","gray"),P.pointilles=5,E.push(L,x,N,T,g,A,z,y,w,oe,le,b,P),X.push(y,oe,L),ae=0,Z=ut(ae)+" Reproduire la figure ci-dessous.<br>",Z+=ut(ae+1)+` Construire le triangle  $${ne[2]}'${ne[3]}'${ne[4]}'$ symétrique de $${ne[2]}${ne[3]}${ne[4]}$ par rapport à la droite $(d)$.<br>`,Z+=ut(ae+2)+" Coder la figure.<br><br>",s=Math.floor(Math.min(h.x,f.x,v.x,k.x,oe.listePoints[0].x,oe.listePoints[1].x,oe.listePoints[2].x,le.listePoints[0].x,le.listePoints[1].x,le.listePoints[2].x)-1),o=Math.ceil(Math.max(h.x,f.x,v.x,k.x,oe.listePoints[0].x,oe.listePoints[1].x,oe.listePoints[2].x,le.listePoints[0].x,le.listePoints[1].x,le.listePoints[2].x)+1),l=Math.floor(Math.min(h.y,f.y,v.y,k.y,oe.listePoints[0].y,oe.listePoints[1].y,oe.listePoints[2].y,le.listePoints[0].y,le.listePoints[1].y,le.listePoints[2].y)-1),u=Math.ceil(Math.max(h.y,f.y,v.y,k.y,oe.listePoints[0].y,oe.listePoints[1].y,oe.listePoints[2].y,le.listePoints[0].y,le.listePoints[1].y,le.listePoints[2].y)+1);break;case 5:ne=zc(5,i),i.push(ne),h=be(0,ge(-1,1),`${ne[0]}`,"above"),f=be(6,Pt([-1,1],[h.y]),`${ne[1]}`,"above"),L=ri(h,f),L.epaisseur=2,[v,k,D]=Ch(L,e),v.nom=ne[2],v.positionLabel="above",k.nom=ne[3],k.positionLabel="above",D.nom=ne[4],D.positionLabel="above",oe=er(v,k,D),le=_a(oe,L),le.listePoints[0].nom=`${ne[2]}'`,le.listePoints[1].nom=`${ne[3]}'`,le.listePoints[2].nom=`${ne[4]}'`,y=qr(oe),w=qr(le),x=oe.listePoints[0].estSur(L)?Un():qa(oe.listePoints[0],le.listePoints[0],"red","|"),N=oe.listePoints[1].estSur(L)?Un():qa(oe.listePoints[1],le.listePoints[1],"blue","X"),T=oe.listePoints[2].estSur(L)?Un():qa(oe.listePoints[2],le.listePoints[2],"green","O"),g=He(oe.listePoints[0],le.listePoints[0],"red"),A=He(oe.listePoints[1],le.listePoints[1],"blue"),z=He(oe.listePoints[2],le.listePoints[2],"green"),b=ri(oe.listePoints[2],oe.listePoints[1],"","gray"),b.pointilles=5,P=ri(le.listePoints[2],le.listePoints[1],"","gray"),P.pointilles=5,E.push(L,x,N,T,g,A,z,y,w,oe,le,b,P),X.push(y,oe,L),ae=0,Z=ut(ae)+" Reproduire la figure ci-dessous.<br>",Z+=ut(ae+1)+` Construire le triangle  $${ne[2]}'${ne[3]}'${ne[4]}'$ symétrique de $${ne[2]}${ne[3]}${ne[4]}$ par rapport à la droite $(d)$.<br>`,Z+=ut(ae+2)+" Coder la figure.<br><br>",s=Math.floor(Math.min(h.x,f.x,v.x,k.x,oe.listePoints[0].x,oe.listePoints[1].x,oe.listePoints[2].x,le.listePoints[0].x,le.listePoints[1].x,le.listePoints[2].x)-1),o=Math.ceil(Math.max(h.x,f.x,v.x,k.x,oe.listePoints[0].x,oe.listePoints[1].x,oe.listePoints[2].x,le.listePoints[0].x,le.listePoints[1].x,le.listePoints[2].x)+1),l=Math.floor(Math.min(h.y,f.y,v.y,k.y,oe.listePoints[0].y,oe.listePoints[1].y,oe.listePoints[2].y,le.listePoints[0].y,le.listePoints[1].y,le.listePoints[2].y)-1),u=Math.ceil(Math.max(h.y,f.y,v.y,k.y,oe.listePoints[0].y,oe.listePoints[1].y,oe.listePoints[2].y,le.listePoints[0].y,le.listePoints[1].y,le.listePoints[2].y)+1);break;case 6:ne=zc(5,i),i.push(ne),f=be(ge(-8,8),ge(-3,3),`${ne[1]}`,"above"),L=p1(f,0),[h,v,k]=Ch(L,Pt([["dessus","dessous","dessus"],["dessous","dessus","dessous"]])),h.nom=ne[0],h.positionLabel="above",v.nom=ne[2],v.positionLabel="above",k.nom=ne[3],k.positionLabel="above",y=zt(v,f,180,`${ne[2]}'`,"above"),w=zt(k,f,180,`${ne[3]}'`,"above"),p=zt(h,f,180,`${ne[0]}'`,"above"),x=rd(v,y,"red","|",!1),N=rd(k,w,"blue","||",!1),d=rd(h,p,"green","|||",!1),g=He(v,y),A=He(k,w),m=He(h,p),E.push(Cn(h,f,v,k,y,w,p),ma(h,f,v,k,y,w,p),x,N,d,g,A,m),X.push(Cn(h,f,v,k),ma(h,f,v,k)),ae=0,Z=ut(ae)+" Reproduire la figure ci-dessous.<br>",Z+=ut(ae+1)+` Construire le point $${ne[2]}'$ symétrique de $${ne[2]}$ par rapport au point $${ne[1]}$.<br>`,Z+=ut(ae+2)+` Construire le point $${ne[3]}'$ symétrique de $${ne[3]}$ par rapport au point $${ne[1]}$.<br>`,Z+=ut(ae+3)+` Construire le point $${ne[0]}'$ symétrique de $${ne[0]}$ par rapport au point $${ne[1]}$.<br>`,Z+=ut(ae+4)+" Coder la figure.<br><br>",s=Math.floor(Math.min(h.x,f.x,v.x,k.x,p.x,y.x,w.x)-1),o=Math.ceil(Math.max(h.x,f.x,v.x,k.x,p.x,y.x,w.x)+1),l=Math.floor(Math.min(h.y,f.y,v.y,k.y,p.y,y.y,w.y)-1),u=Math.ceil(Math.max(h.y,f.y,v.y,k.y,p.y,y.y,w.y)+1);break;case 7:default:ne=zc(5,i),i.push(ne),f=be(ge(-8,8),ge(-3,3),`${ne[1]}`,"above"),L=p1(f,0),[h,v,k]=Ch(L,Pt([["dessus","dessous","dessus"],["dessous","dessus","dessous"]])),h.nom=ne[0],h.positionLabel="above",v.nom=ne[2],v.positionLabel="above",k.nom=ne[3],k.positionLabel="above",oe=er(h,v,k),le=zt(oe,f,180),le.listePoints[0].nom=`${ne[0]}'`,le.listePoints[1].nom=`${ne[2]}'`,le.listePoints[2].nom=`${ne[3]}'`,y=qr(oe),w=qr(le),x=rd(oe.listePoints[0],le.listePoints[0],"red","|",!1),N=rd(oe.listePoints[1],le.listePoints[1],"blue","X",!1),d=rd(oe.listePoints[2],le.listePoints[2],"green","O",!1),m=He(oe.listePoints[0],le.listePoints[0],"red"),g=He(oe.listePoints[1],le.listePoints[1],"blue"),A=He(oe.listePoints[2],le.listePoints[2],"green"),E.push(Cn(f),ma(f),x,N,d,g,A,m,w,y,oe,le),X.push(Cn(f),ma(f),y,oe),ae=0,Z=ut(ae)+" Reproduire la figure ci-dessous.<br>",Z+=ut(ae+1)+` Construire le triangle  $${ne[0]}'${ne[2]}'${ne[3]}'$ symétrique de $${ne[0]}${ne[2]}${ne[3]}$ par rapport au point $${ne[1]}$.<br>`,Z+=ut(ae+2)+" Coder la figure.<br><br>",s=Math.floor(Math.min(h.x,f.x,v.x,k.x,oe.listePoints[0].x,oe.listePoints[1].x,oe.listePoints[2].x,le.listePoints[0].x,le.listePoints[1].x,le.listePoints[2].x)-1),o=Math.ceil(Math.max(h.x,f.x,v.x,k.x,oe.listePoints[0].x,oe.listePoints[1].x,oe.listePoints[2].x,le.listePoints[0].x,le.listePoints[1].x,le.listePoints[2].x)+1),l=Math.floor(Math.min(h.y,f.y,v.y,k.y,oe.listePoints[0].y,oe.listePoints[1].y,oe.listePoints[2].y,le.listePoints[0].y,le.listePoints[1].y,le.listePoints[2].y)-1),u=Math.ceil(Math.max(h.y,f.y,v.y,k.y,oe.listePoints[0].y,oe.listePoints[1].y,oe.listePoints[2].y,le.listePoints[0].y,le.listePoints[1].y,le.listePoints[2].y)+1);break}if(a[H]<6&&(r=xr(zs(L,L.b===0?l+1:s+1,""),Jl(Jt(L.a,L.b),h,.5/Xye(Jt(L.a,L.b)))),X.push(Ql("(d)",r,0,"black",1.5,"milieu",!0)),E.push(Ql("(d)",r,0,"black",1.5,"milieu",!0))),this.sup4&&this.sup2!==3){const Ne=ge(1,3),ze=ge(1,3,[Ne]);a[H]===0||a[H]===3?Pt([0,1])===0?R?l=l-ze:s=s-Ne:R?u=u+ze:o=o+Ne:(Pt([0,1])===0?s=s-Ne:o=o+Ne,Pt([0,1])===0?l=l-ze:u=u+ze)}const $e={xmin:s,ymin:l,xmax:o,ymax:u,pixelsParCm:20,scale:c};this.sup2<3?Y=AG(s,l,o,u,"gray",.7):Y=Un(),this.sup2===2?(re=.8,ie=ODe(s,l,o,u)):(re=.5,ie=Un()),Z+=ci($e,Y,ie,...X),W=ci($e,Y,ie,...E),this.questionJamaisPosee(H,s,o,l,u)&&(this.listeQuestions[H]=Z,this.listeCorrections[H]=W,H++),ue++}Cu(this)}}const VDe=Object.freeze(Object.defineProperty({__proto__:null,amcReady:PDe,amcType:RDe,dateDeModifImportante:FDe,default:UDe,titre:jDe},Symbol.toStringTag,{value:"Module"})),GDe="Résoudre des problèmes mettant en jeu des distances à un point",ZDe=!1,HDe="03/08/2025",WDe="29c3c",YDe={"fr-fr":["6G2C"],"fr-2016":["6G54"],"fr-ch":["9ES4-15"]};class KDe extends Os{constructor(){super(),this.comment="Cet exercice n'est pas interactif, il s'agit d'un problème de géométrie plane classique à faire sur papier.",this.nbQuestions=1,this.besoinFormulaireTexte=["Types de question",`Nombres séparés par des tirets :
1 : Cabane au coin de l'enclos
2 : Cabane sur un côté de l'enclos
3 : Cabane sans contact avec l'enclos
4 : Mélange`],this.sup="1"}nouvelleVersion(){const e=Xl({saisie:this.sup,nbQuestions:this.nbQuestions,min:1,max:3,defaut:1,melange:4}).map(Number);for(let r=0,i=0;r<this.nbQuestions&&i<50;){const n=ge(12,16),a=ge(10,n-1),s=ge(4,Math.ceil(n/3)),o=ge(3,Math.min(Math.ceil(a/3),s-1)),l=ge(1,s-1),u=ge(Math.max(l,s-l+1),a-o),c=[],h=[];let p="",d="";const m=be(0,0),f=be(n,0),v=be(n,a),y=be(0,a),x=ri(m,f),g=ri(f,v),b=ri(v,y),k=ri(y,m);let w,N,A,$,D;const _=er(m,f,v,y);switch(e[r]){case 2:{w=be(n,ge(3,a-o-1)),N=be(n,w.y+o),$=be(w.x-s,w.y),A=be($.x,N.y),D=be(w.x-l,w.y,"P","above");const oe=Qi(He(w,f),`${w.y}\\,\\text{m}`,.2,"black",1,1,"gray",!0);c.push(oe);let le;const ne=Jl(D,w,(l+u)/l),H=ns(D,u);if(w.y>=u)if(u<l){le=_i(ri(w,$),H,"",2);const Ne=ni(le,D,-Math.abs(Rt(le,D,ne)),!0,"pink","black",.4);Ne.couleurDesHachures=Ze("black"),Ne.hachures="north east lines",Ne.opacite=.2,h.push(Ne)}else{le=_i(ri(w,f),H,"",2);const Ne=ni(le,D,-Math.abs(Rt(le,D,ne)),!0,"pink","black",.4);Ne.couleurDesHachures=Ze("black"),Ne.hachures="north east lines",Ne.opacite=.2;const ze=er(le,w,D);ze.couleurDeRemplissage=Ze("pink"),ze.opaciteDeRemplissage=.4,ze.couleurDesHachures=Ze("black"),ze.hachures="north east lines",ze.opacite=.2,h.push(Ne,ze)}else if(u<l){le=_i(ri(w,$),H,"",2);const Ne=_i(x,H,"",2),ze=_i(x,H,"",1),Te=ni(le,D,-Math.abs(Rt(le,D,Ne)),!0,"pink","black",.4);Te.couleurDesHachures=Ze("black"),Te.hachures="north east lines",Te.opacite=.2;const Qe=er(D,Ne,ze);Qe.couleurDeRemplissage=Ze("pink"),Qe.opaciteDeRemplissage=.4,Qe.couleurDesHachures=Ze("black"),Qe.hachures="north east lines",Qe.opacite=.2;const nt=ni(ze,D,-Math.abs(Rt(ze,D,ne)),!0,"pink","black",.4);nt.couleurDesHachures=Ze("black"),nt.hachures="north east lines",nt.opacite=.2,h.push(Te,Qe,nt)}else if(u**2>=l**2+w.y**2){const Ne=_i(x,H,"",1);le=Ne;const ze=er(D,w,f,Ne);ze.couleurDeRemplissage=Ze("pink"),ze.opaciteDeRemplissage=.4,ze.couleurDesHachures=Ze("black"),ze.hachures="north east lines",ze.opacite=.2;const Te=ni(Ne,D,-Math.abs(Rt(Ne,D,ne)),!0,"pink","black",.4);Te.couleurDesHachures=Ze("black"),Te.hachures="north east lines",Te.opacite=.2,h.push(ze,Te)}else{le=_i(ri(w,f),H,"",2);const Ne=_i(x,H,"",2),ze=_i(x,H,"",1);if(le.y!==w.y){const rt=er(D,w,le);rt.couleurDeRemplissage=Ze("pink"),rt.opaciteDeRemplissage=.4,rt.couleurDesHachures=Ze("black"),rt.hachures="north east lines",rt.opacite=.2,h.push(rt)}const Te=ni(le,D,-Math.abs(Rt(le,D,Ne)),!0,"pink","black",.4);Te.couleurDesHachures=Ze("black"),Te.hachures="north east lines",Te.opacite=.2;const Qe=er(D,Ne,ze);Qe.couleurDeRemplissage=Ze("pink"),Qe.opaciteDeRemplissage=.4,Qe.couleurDesHachures=Ze("black"),Qe.hachures="north east lines",Qe.opacite=.2;const nt=ni(ze,D,-Math.abs(Rt(ze,D,ne)),!0,"pink","black",.4);nt.couleurDesHachures=Ze("black"),nt.hachures="north east lines",nt.opacite=.2,h.push(Te,Qe,nt)}const ue=Qi(He(D,le),`${u}\\,\\text{m}`,0,"black",.5,.5,"gray",!0);h.push(ue);const ae=u-(s-l),$e=Qi(He(D,$),`${s-l}\\,\\text{m}`,.5,"black",1,.5,"black");if(ae+w.y>a){const Ne=ns($,ae),ze=_i(b,Ne,"",1),Te=Qi(He($,ze),`${ae}\\,\\text{m}`,0,"black",.5,.5,"gray",!0),Qe=ni(ne,$,Rt(ne,$,ze),!0,"pink","black",.3);Qe.couleurDesHachures=Ze("black"),Qe.hachures="north east lines",Qe.opacite=.2;const nt=Du(ri(A,$),b),rt=er(ze,$,nt);rt.couleurDeRemplissage=Ze("pink"),rt.opaciteDeRemplissage=.3,rt.couleurDesHachures=Ze("black"),rt.hachures="north east lines",rt.opacite=.2;const Ue=ae-o;if(Ue**2>=s**2+(a-N.y)**2){const lt=er(nt,v,N,A);lt.couleurDeRemplissage=Ze("pink"),lt.opaciteDeRemplissage=.2,lt.couleurDesHachures=Ze("black"),lt.hachures="north east lines",lt.opacite=.2,h.push(lt)}else{const lt=ns(A,Ue),J=_i(b,lt,"",2),me=er(nt,J,A),Oe=Jl(zt(nt,A,-45),A,Ue/qi(A,nt)),te=Qi(He(A,Oe),`${Ue}\\,\\text{m}`,0,"black",1,.5,"gray",!0);if(me.couleurDeRemplissage=Ze("pink"),me.opaciteDeRemplissage=.2,me.couleurDesHachures=Ze("black"),me.hachures="north east lines",me.opacite=.2,h.push(me,te),Ue>s){const fe=_i(g,lt,"",1),xe=ni(J,A,Rt(J,A,fe),!0,"pink","black",.2);xe.couleurDesHachures=Ze("black"),xe.hachures="north east lines",xe.opacite=.2;const Ee=er(fe,A,N);Ee.couleurDeRemplissage=Ze("pink"),Ee.opaciteDeRemplissage=.2,Ee.couleurDesHachures=Ze("black"),Ee.hachures="north east lines",Ee.opacite=.2,h.push(xe,Ee)}else{const fe=ni(J,A,Rt(J,A,N),!0,"pink","black",.2);fe.couleurDesHachures=Ze("black"),fe.hachures="north east lines",fe.opacite=.2,h.push(fe)}}h.push(Qe,rt,Te)}else{const Ne=ni(ne,$,-90,!0,"pink","black",.3);Ne.hachures="north east lines",Ne.couleurDesHachures=Ze("black"),Ne.opacite=.2;const ze=zt(ne,$,-45),Te=Qi(He($,ze),`${ae}\\,\\text{m}`,0,"black",.5,.5,"gray",!0);if(h.push(Ne,Te,$e),ae>o){const Qe=ae-o,nt=zt(ne,$,-90),rt=ni(nt,A,-90,!0,"pink","black",.2);rt.hachures="north east lines",rt.couleurDesHachures=Ze("black"),rt.opacite=.2;const Ue=zt(nt,A,-45),lt=Qi(He(A,Ue),`${Qe}\\,\\text{m}`,0,"black",.5,.5,"gray",!0);h.push(rt,lt)}}}break;case 3:{w=be(ge(Math.ceil(n/3)+s,n-2),ge(Math.max(2,Math.floor(a/2-o/2)),Math.min(a-o-2,Math.floor(a/2+o/2)))),N=be(w.x,w.y+o),$=be(w.x-s,w.y),A=be($.x,N.y),D=be(w.x-l,w.y,"P","above");const oe=Qi(He(w,Gn(w.x,0)),`${w.y}\\,\\text{m}`,.2,"darkgray",1,1,"gray",!0),le=Qi(He(Gn(0,A.y),A),`${A.x}\\,\\text{m}`,.2,"darkgray",1,1,"gray",!0);c.push(oe,le);const ne=u-l,H=u-(s-l),ue=ne-o,ae=H-o,$e=u>w.y,Ne=$.y+H>a,ze=w.y+ne>a;let Te,Qe,nt,rt;const Ue=ns(D,u);if($e){Te=_i(x,Ue,"",1),Te.x<0&&(Te=m),Qe=_i(x,Ue,"",2),Qe.x>n&&(Qe=f);const Pe=er(D,Te,Qe);Pe.couleurDeRemplissage=Ze("pink"),Pe.opaciteDeRemplissage=.4,Pe.couleurDesHachures=Ze("black"),Pe.hachures="north east lines";const We=Qi(He(D,Te),`${u}\\,\\text{m}`,0,"black",.5,.5,"gray",!0),ot=Qi(He(D,Qe),`${u}\\,\\text{m}`,0,"black",.5,.5,"gray",!0);h.push(Pe,We,ot);const jt=be(0,w.y);D.x-u<0&&Te.x>0?rt=_i(k,Ue,"",2):rt=jt;const Er=Math.abs(Te.x)<.01?er(Te,D,rt):ni(Te,D,Rt(Te,D,rt),!0);if(Er.opaciteDeRemplissage=.4,Er.couleurDeRemplissage=Ze("pink"),Er.couleurDesHachures=Ze("black"),Er.hachures="north east lines",Er.opacite=.2,rt.y<w.y){const Se=er(D,rt,jt);Se.couleurDeRemplissage=Ze("pink"),Se.opaciteDeRemplissage=.4,Se.couleurDesHachures=Ze("black"),Se.hachures="north east lines",Se.opacite=.2;const Ke=Qi(He($,jt),`${$.x}\\,\\text{m}`,0,"black",.5,.5,"gray",!0);h.push(Se,Ke)}D.x+u>n&&Qe.x<n?nt=_i(g,Ue,"",2):nt=be(Math.min(n,D.x+u),w.y);const U=Qe.x===n?er(Qe,D,nt):ni(Qe,D,Rt(Qe,D,nt),!0);U.opaciteDeRemplissage=.4,U.couleurDeRemplissage=Ze("pink"),U.couleurDesHachures=Ze("black"),U.hachures="north east lines",U.opacite=.2,h.push(Er,U)}else{const Pe=be(D.x,D.y-u);D.x+u>=n?nt=_i(g,Ue,"",2):nt=be(D.x+u,w.y),D.x-u<0?rt=_i(k,Ue,"",2):rt=be(D.x-u,w.y);const We=Qi(He(D,Pe),`${u}\\,\\text{m}`,0,"black",.5,.5,"gray",!0),ot=Qi(He(w,nt),`${ne}\\,\\text{m}`,0,"black",.5,-.5,"gray",!0),jt=Qi(He($,rt),`${H}\\,\\text{m}`,0,"black",.5,.5,"gray",!0),Er=ni(nt,D,-Math.abs(Rt(nt,D,rt)),!0,"pink","black",.4);Er.couleurDesHachures=Ze("black"),Er.hachures="north east lines",Er.opacite=.2,h.push(Er,We,ot,jt)}if(nt.y<w.y){const Pe=er(nt,D,be(n,w.y));Pe.couleurDeRemplissage=Ze("pink"),Pe.opaciteDeRemplissage=.4,Pe.couleurDesHachures=Ze("black"),Pe.hachures="north east lines",Pe.opacite=.2,h.push(Pe)}const lt=ns(w,ne),J=_i(ri(w,N),lt,"",1);let me,Oe;if(ze){const Pe=_i(b,lt,"",2);me=be(w.x,a);const We=Qi(He(w,Gn(n,w.y)),`${n-w.x}\\,\\text{m}`,0,"black",.5,-.5,"gray",!0);if(Pe.x-n>=0){const ot=er(w,be(n,w.y),v,me);ot.couleurDeRemplissage=Ze("pink"),ot.opaciteDeRemplissage=.3,ot.couleurDesHachures=Ze("black"),ot.hachures="north east lines",ot.opacite=.2,h.push(ot)}else if(D.x+u>n){let ot=_i(g,lt,"",1);ot.y>a&&(ot=v);const jt=er(w,be(n,w.y),ot),Er=er(w,Pe,me);Oe=ni(ot,w,Rt(ot,w,Pe),!0,"pink","black",.3),[jt,Oe,Er].forEach(U=>{U.couleurDeRemplissage=Ze("pink"),U.opaciteDeRemplissage=.3,U.couleurDesHachures=Ze("black"),U.hachures="north east lines",U.opacite=.2}),h.push(jt,Oe,Er)}h.push(We)}else{if(me=N,D.x+u<=n){const Pe=be(D.x+u,w.y);Oe=ni(Pe,w,Rt(Pe,w,J),!0,"pink","black",.3)}else{let Pe=_i(g,lt,"",1);Pe.y>a&&(Pe=v);const We=er(be(n,w.y),w,Pe);We.couleurDeRemplissage=Ze("pink"),We.opaciteDeRemplissage=.3,We.couleurDesHachures=Ze("black"),We.hachures="north east lines",We.opacite=.2,h.push(We);const ot=Qi(He(w,Gn(n,w.y)),`${n-w.x}\\,\\text{m}`,0,"black",.5,-.5,"gray",!0),jt=Qi(He(w,Pe),`${ne}\\,\\text{m}`,0,"black",.5,-.5,"gray",!0);if(Oe=ni(Pe,w,Rt(Pe,w,J),!0,"pink","black",.3),ue>0){const Er=Qi(He(N,Gn(N.x,A.y+ue)),`${ue}\\,\\text{m}`,0,"black",.5,-.7,"gray",!0);h.push(Er)}h.push(ot,jt)}Oe.couleurDesHachures=Ze("black"),Oe.hachures="north east lines",Oe.opacite=.2,h.push(Oe)}const te=ns($,H),fe=_i(ri(A,$),te,"",1);let xe,Ee;if(Ne){const Pe=_i(b,te,"",1);xe=be($.x,a);const We=Qi(He(xe,A),`${a-A.y}\\,\\text{m}`,-.2,"black",.5,-.7,"gray",!0);if(h.push(We),Pe.x<=0){const ot=er($,be(0,w.y),y,be($.x,a));ot.couleurDeRemplissage=Ze("pink"),ot.opaciteDeRemplissage=.3,ot.couleurDesHachures=Ze("black"),ot.hachures="north east lines",ot.opacite=.2,h.push(ot)}else{let ot;if(D.x-u<=0){if(ot=_i(k,te,"",1),ot.y>a&&(ot=y),ot.y>$.y){const U=er($,be(0,w.y),ot);U.couleurDeRemplissage=Ze("pink"),U.opaciteDeRemplissage=.3,U.couleurDesHachures=Ze("black"),U.hachures="north east lines",U.opacite=.2,h.push(U)}}else ot=be($.x-H,$.y);const jt=er($,Pe,xe),Er=Qi(He($,Pe),`${H}\\,\\text{m}`,0,"black",.5,.5,"gray",!0);Ee=ni(ot,$,Rt(ot,$,Pe),!0,"pink","black",.3),[Ee,jt].forEach(U=>{U.couleurDeRemplissage=Ze("pink"),U.opaciteDeRemplissage=.3,U.couleurDesHachures=Ze("black"),U.hachures="north east lines",U.opacite=.2}),h.push(Ee,jt,Er)}}else{if(xe=$,D.x-u>=0){const Pe=be(D.x-u,w.y);Ee=ni(Pe,$,Rt(Pe,$,fe),!0,"pink","black",.3);const We=Qi(He($,Pe),`${H}\\,\\text{m}`,0,"black",.5,.5,"gray",!0);h.push(We)}else{let Pe=_i(k,te,"",1);const We=Qi(He($,Pe),`${H}\\,\\text{m}`,0,"black",.5,-.5,"gray",!0),ot=Qi(He(A,Gn(A.x,$.y+H)),`${ae}\\,\\text{m}`,0,"black",.5,.5,"gray",!0);Pe.y>a&&(Pe=y);const jt=er(be(0,w.y),$,Pe);jt.couleurDeRemplissage=Ze("pink"),jt.opaciteDeRemplissage=.3,jt.couleurDesHachures=Ze("black"),jt.hachures="north east lines",jt.opacite=.2,h.push(jt,We,ot),Ee=ni(Pe,$,Rt(Pe,$,fe),!0,"pink","black",.3)}Ee.couleurDesHachures=Ze("black"),Ee.hachures="north east lines",Ee.opacite=.2,h.push(Ee)}if(ue<=0&&ae<=0)break;const Me=ns(N,Math.max(ue,0)),Le=ns(A,Math.max(ae,0)),st=p7(Me,Le,"",1);let mt,ft;if(ze?ft=_i(b,Me,"",1):ft=J,Ne?mt=_i(b,Le,"",2):mt=fe,st&&st.y<a){if(st.y>=N.y){if(me.y===a&&me.x!==ft.x){const ot=er(N,me,ft);ot.couleurDeRemplissage=Ze("pink"),ot.opaciteDeRemplissage=.3,ot.couleurDesHachures=Ze("black"),ot.hachures="north east lines",ot.opacite=.3,h.push(ot)}if(xe.y===a&&xe.x!==mt.x){const ot=er(A,xe,mt);ot.couleurDeRemplissage=Ze("pink"),ot.opaciteDeRemplissage=.3,ot.couleurDesHachures=Ze("black"),ot.hachures="north east lines",ot.opacite=.3,h.push(ot)}if(st.y>N.y){const ot=er(N,A,st);ot.couleurDeRemplissage=Ze("pink"),ot.opaciteDeRemplissage=.3,ot.couleurDesHachures=Ze("black"),ot.hachures="north east lines",ot.opacite=.2,h.push(ot)}const Pe=ni(st,N,Rt(st,N,ft),!0,"pink","black",.3);Pe.couleurDesHachures=Ze("black"),Pe.hachures="north east lines",Pe.opacite=.3;const We=ni(st,A,Rt(st,A,mt),!0,"pink","black",.3);We.couleurDesHachures=Ze("black"),We.hachures="north east lines",We.opacite=.3,h.push(We,Pe)}}else if(st){const Pe=er(N,Gn(N.x,a),Gn(A.x,a),A);Pe.couleurDeRemplissage=Ze("pink"),Pe.opaciteDeRemplissage=.2,Pe.couleurDesHachures=Ze("black"),Pe.hachures="north east lines",Pe.opacite=.2,h.push(Pe)}else{if(ue<=0&&ae<=0)break;if(ue>0){const Pe=_i(ri(N,A),Me,"",1),We=ni(ft,N,Rt(ft,N,Pe),!0,"pink","black",.3);We.couleurDesHachures=Ze("black"),We.hachures="north east lines",We.opacite=.2;const ot=er(N,ft,be(N.x,a));ot.couleurDeRemplissage=Ze("pink"),ot.opaciteDeRemplissage=.3,ot.couleurDesHachures=Ze("black"),ot.hachures="north east lines",ot.opacite=.3,h.push(We,ot)}if(ae>0){const Pe=_i(ri(N,A),Le,"",2),We=ni(mt,A,Rt(mt,A,Pe),!0,"pink","black",.3);We.couleurDesHachures=Ze("black"),We.hachures="north east lines",We.opacite=.2;const ot=er(A,mt,be(A.x,a));ot.couleurDeRemplissage=Ze("pink"),ot.opaciteDeRemplissage=.3,ot.couleurDesHachures=Ze("black"),ot.hachures="north east lines",ot.opacite=.3,h.push(We,ot)}}}break;case 1:default:{w=be(n,a-o),N=v,A=be(n-s,a),$=be(n-s,a-o),D=be(n-l,a-o,"P","above");const oe=ns(D,u),le=_i(ri(f,v),oe,"",2),ne=wf(`${u}\\text{ m}`,D,le,{distance:-.7,horizontal:!0,letterSize:"normalsize"}),H=Jl(D,w,(l+u)/l),ue=er(le,w,D);ue.couleurDeRemplissage=Ze("pink"),ue.opaciteDeRemplissage=.4,ue.couleurDesHachures=Ze("black"),ue.hachures="north east lines";const ae=ni(le,D,-Math.abs(Rt(le,D,H)),!0,"pink","black",.4);ae.couleurDesHachures=Ze("black"),ae.hachures="north east lines";const $e=Qi(He(D,$),`${s-l}\\,\\text{m}`,.5,"black",1,.5,"black"),Ne=u-(s-l);if(Ne<o){const ze=ni(H,$,-90,!0,"pink","black",.2);ze.hachures="north east lines",ze.couleurDesHachures=Ze("black"),ze.opacite=.2;const Te=wf(`${Ne}\\,\\text{m}`,$,zt(H,$,-90),{distance:.7,horizontal:!0,letterSize:"normalsize"});h.push(ze,Te,$e)}else{const ze=ns($,Ne),Te=_i(ri(v,y),ze,"",1),Qe=ni(H,$,-Math.abs(Rt(H,$,Te)),!0,"pink","black",.2);Qe.couleurDesHachures=Ze("black"),Qe.hachures="north east lines";const nt=er($,A,Te);nt.couleurDeRemplissage=Ze("pink"),nt.opaciteDeRemplissage=.2,nt.couleurDesHachures=Ze("black"),nt.hachures="north east lines";const rt=wf(`${Ne}\\,\\text{m}`,$,Te,{distance:.7,horizontal:!0,letterSize:"normalsize"});nt.opacite=.2,Qe.opacite=.2,h.push(Qe,nt,rt,$e)}ae.opacite=.2,ue.opacite=.2,h.push(ae,ne,ue)}break}const T=new $B({xMin:1,xMax:4,yMin:a,yMax:a+1.2});T.addColor({colorBackground:"darkgray",color:"black",opacity:1,backgroudOpacity:.2}),T.addTextIn({textIn:"Enclos",color:"black",opacity:.8,size:1});const z=er(w,N,A,$),P=new $B({xMin:(w.x+$.x)/2-1.5,xMax:(w.x+$.x)/2+1.5,yMin:(w.y+N.y)/2-.6,yMax:(w.y+N.y)/2+.6});P.addTextIn({textIn:"Cabane",color:"black",opacity:.8,size:1}),P.addColor({colorBackground:"darkgray",color:"none",opacity:0,backgroudOpacity:.2});const q=Qi(He(A,N),`${s}\\text{ m}`,.2,"black",.5,.7,"gray",!0),L=Qi(He(N,w),`${o}\\text{ m}`,.2,"black",.5,.7,"gray",!0),Z=Qi(He(w,D),`${l}\\text{ m}`,.2,"black",.5,.7,"gray",!0),W=Qi(He(f,m),`${n}\\text{ m}`,.2,"black",1,.7,"gray",!0),Y=Qi(He(m,y),`${a}\\text{ m}`,.2,"black",1,1,"gray",!0),ie=$r(D,m,u*.85,"$\\text{chèvre}$","below left"),re=na("chèvre",ie.x-.6,ie.y-.5,0,"gray",1,"milieu",!1,1),R=Jye(D,ie),X=na("Corde",(D.x+ie.x)/2+.5,(D.y+ie.y)/2-.5,0,"gray",1,"milieu"),E=Cn(D,ie);E.style="o",c.push(Cn(m),_,z,P.render(),T.render(),q,L,Z,W,Y,E,ma(D),re,R,X),h.push(_,z,P.render(),T.render(),Cn(D),ma(D),Z,q,L),p+="Dans l'enclos rectangulaire représenté ci-dessous, on a attaché une chèvre à un piquet $(P)$ situé sur le mur d'une cabane rectangulaire, elle aussi.<br>",p+=`La corde qui limite les déplacements de la chèvre mesure $${u}\\,\\text{m}$.<br>`,p+=`${ut(0)} Représenter le schéma de l'enclos en utilisant comme échelle : $1\\,\\text{cm}$ pour $1\\,\\text{m}$.<br>`,p+=`${ut(1)} Délimiter et hachurer la zone de l'enclos dans laquelle peut brouter la chèvre.<br><br>`,p+=ci(Object.assign({scale:.5},gi(c)),c),d+=ci(Object.assign({},gi(h)),h),this.questionJamaisPosee(r,n,a,s,o,u,l)&&(this.listeQuestions.push(p),this.listeCorrections.push(d),r++),i++}}}const XDe=Object.freeze(Object.defineProperty({__proto__:null,dateDePublication:HDe,default:KDe,interactifReady:ZDe,refs:YDe,titre:GDe,uuid:WDe},Symbol.toStringTag,{value:"Module"})),QDe="Déterminer la valeur d'un angle en utilisant la somme des angles dans un triangle",JDe=!0,eAe="mathLive",tAe=!0,rAe="AMCHybride",iAe="06/04/2025",nAe="dc8c9",aAe={"fr-fr":["6G6D"],"fr-2016":["5G31"],"fr-ch":["9ES2-9","1mG1-2"]},fm=function(t,e){return t+e<=180?180-(t+e):-1};class sAe extends Os{constructor(){super(),this.besoinFormulaireTexte=["Situations différentes",["Nombres séparés par des tirets  :","1 : Triangle quelconque avec deux angles aigus connus","2 : Triangle rectangle avec un angle aigu connu","3 : Triangle isocèle avec un angle à la base connu","4 : Triangle rectangle isocèle","5 : Triangle équilatéral","6 : Triangle rectangle avec un angle aigu double de l'autre (*)","7 : Triangle rectangle avec un angle aigu quart de l'autre (*)","8 : Triangle rectangle avec un angle aigu quintuple de l'autre (*)","9 : Triangle rectangle avec un angle aigu tiers de l'autre (*)","10 : Triangle rectangle avec un angle aigu deux tiers de l'autre (*)","11 : Triangle isocèle avec un angle aigu double de l'autre (*)","12 : Triangle isocèle avec l'angle au sommet principal connu (*)","13 : Mélange","14: Triangle quelconque avec un angle obtus et un angle aigu connus","(*) : Question plus difficile"].join(`
`)],this.besoinFormulaire2CaseACocher=["Ajouter un schéma aux questions"],this.besoinFormulaire3CaseACocher=["Dans l'ordre des situations différentes"],this.besoinFormulaire4Texte=["Précision des angles",["Nombres séparés par des tirets  :","1 : angles définis au degré près","2 : angles multiples de 5°","3 : angles multiples de 10°"].join(`
`)],this.sup="1-2-3-4-5",this.sup2=!1,this.sup3=!0,this.sup4="1",this.spacingCorr=2,this.spacing=2,this.nbQuestions=5,this.correctionDetailleeDisponible=!0,this.nbCols=2,this.nbColsCorr=2}nouvelleVersion(){const e=Xl({saisie:this.sup,min:1,max:14,melange:13,defaut:13,nbQuestions:this.nbQuestions,shuffle:!this.sup3}),r=Xl({saisie:this.sup4,min:1,max:3,melange:4,defaut:1,nbQuestions:this.nbQuestions});let i,n,a,s,o,l,u,c,h=0;for(let p=0,d,m,f,v=0;p<this.nbQuestions&&v<50;){const y=[],x=[];let g=[];const b=[];let k=so([0,1,2]);i=ge(1,26),n=ge(1,26,[i]),s=Qt(i),o=Qt(n),a=ge(1,24,[i,n]),l=Qt(a);const w=be(ge(0,2),0,s),N=e[p]===8?be(ge(1,4),ge(4,6),o):be(ge(1,5),ge(8,10),o);let A,$,D,_,T;switch(f="",m="",e[p]){case 1:k=[0],b.push(o+l+s);do u=ge(20,40),c=ge(20,100);while(u+c<60);r[p]===2?(u=5*Math.round(u/5),c=5*Math.round(c/5)):r[p]===3&&(u=10*Math.round(u/10),c=10*Math.round(c/10)),d=`$${s+o+l}$ est un triangle quelconque. L'angle $\\widehat{${s+o+l}}$ mesure $${u}^\\circ$ et l'angle $\\widehat{${o+s+l}}$ mesure $${c}^\\circ$.<br>Quelle est la mesure de l'angle $\\widehat{${o+l+s}}$ ?`,A=Vo(w,N,c,u),$=A.listePoints[2],$.nom=l,y.push(A,qr(A)),x.push(A,qr(A)),D=pr(N,w,c,1,"","blue",2,1,"none",.2,!0,!1,"",1.2),_=pr(w,N,-u,1,"","blue",2,1,"none",.2,!0,!1,"",1.2),y.push(D,_),D=pr(N,w,c,.7,"","blue",2,1,"none",.2,!0,!1,"",1.2),_=pr(w,N,-u,.7,"","blue",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,180-c-u,1,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),x.push(D,_,T),this.correctionDetaillee&&(m+="Dans un triangle, la somme des angles est égale à $180^\\circ$.<br>",m+=`D'où : $\\widehat{${s+o+l}} + \\widehat{${o+l+s}} + \\widehat{${o+s+l}}=180^\\circ$.<br>`,m+=`D'où : $\\widehat{${o+l+s}}=180- \\left(\\widehat{${s+o+l}} + \\widehat{${o+s+l}}\\right)$.<br>D'où : `),m+=`$\\widehat{${o+l+s}}= 180^\\circ-\\left(${u}^\\circ+${c}^\\circ\\right)=180^\\circ-${u+c}^\\circ=${fm(u,c)}^\\circ$.<br>`,m+=`L'angle $${Ge("\\widehat{"+o+l+s+"}","black")}$ mesure $${Ge(fm(u,c))}^\\circ$.`,g=[fm(u,c)];break;case 14:k=[0],b.push(o+l+s),u=ge(20,40),c=ge(95,180-u-20),r[p]===2?(u=5*Math.round(u/5),c=5*Math.round(c/5)):r[p]===3&&(u=10*Math.round(u/10),c=10*Math.round(c/10)),d=`$${s+o+l}$ est un triangle quelconque. L'angle $\\widehat{${s+o+l}}$ mesure $${u}^\\circ$ et l'angle $\\widehat{${o+s+l}}$ mesure $${c}^\\circ$.<br>Quelle est la mesure de l'angle $\\widehat{${o+l+s}}$ ?`,A=Vo(w,N,c,u),$=A.listePoints[2],$.nom=l,y.push(A,qr(A)),x.push(A,qr(A)),D=pr(N,w,c,1,"","blue",2,1,"none",.2,!0,!1,"",1.2),_=pr(w,N,-u,1,"","blue",2,1,"none",.2,!0,!1,"",1.2),y.push(D,_),D=pr(N,w,c,.7,"","blue",2,1,"none",.2,!0,!1,"",1.2),_=pr(w,N,-u,.7,"","blue",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,180-c-u,1,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),x.push(D,_,T),this.correctionDetaillee&&(m+="Dans un triangle, la somme des angles est égale à $180^\\circ$.<br>",m+=`D'où : $\\widehat{${s+o+l}} + \\widehat{${o+l+s}} + \\widehat{${o+s+l}}=180^\\circ$.<br>`,m+=`D'où : $\\widehat{${o+l+s}}=180- \\left(\\widehat{${s+o+l}} + \\widehat{${o+s+l}}\\right)$.<br>D'où : `),m+=`$\\widehat{${o+l+s}}= 180^\\circ-\\left(${u}^\\circ+${c}^\\circ\\right)=180^\\circ-${u+c}^\\circ=${fm(u,c)}^\\circ$.<br>`,m+=`L'angle $${Ge("\\widehat{"+o+l+s+"}","black")}$ mesure $${Ge(fm(u,c))}^\\circ$.`,g=[fm(u,c)];break;case 2:k=[0],b.push(o+l+s),u=90,c=ge(20,70),r[p]===2?c=5*Math.round(c/5):r[p]===3&&(c=10*Math.round(c/10)),d=`$${s+o+l}$ est un triangle rectangle en $${o}$ et l'angle $\\widehat{${o+s+l}}$ mesure $${c}^\\circ$.<br>Quelle est la mesure de l'angle $\\widehat{${o+l+s}}$ ?`,A=Vo(w,N,c,u),$=A.listePoints[2],$.nom=l,y.push(A,qr(A)),x.push(A,qr(A)),D=pr(N,w,$,1,"","blue",2,1,"none",.2,!0,!1,"",1.2),_=Qr(w,N,$,"blue",1,1.5),y.push(D,_),D=pr(N,w,$,1,"","blue",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,N,1,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),x.push(D,_,T),this.correctionDetaillee&&(m+=`Le triangle $${s+o+l}$ étant rectangle en $${o}$, les angles $\\widehat{${o+s+l}}$ et $\\widehat{${o+l+s}}$ sont complémentaires (leur somme est égale à $90^\\circ$).<br>`,m+=`D'où : $\\widehat{${o+l+s}}+ \\widehat{${o+s+l}}=90^\\circ$<br>D'où : `),m+=`$\\widehat{${o+l+s}}=90^\\circ-${c}^\\circ=${90-c}^\\circ$<br>`,m+=`L'angle $${Ge("\\widehat{"+o+l+s+"}","black")}$ mesure $${Ge(90-c)}^\\circ$.`,g=[90-c];break;case 12:k=[0],b.push(o+l+s),u=2*ge(15,75),r[p]===2?u=10*Math.round(u/10):r[p]===3&&(u=20*Math.round(u/20)),c=(180-u)/2,d=`$${s+o+l}$ est un triangle isocèle en $${o}$. L'angle $\\widehat{${s+o+l}}$ mesure $${u}^\\circ$.<br>Quelle est la mesure de l'angle $\\widehat{${o+l+s}}$ ?`,A=Vo(w,N,c,u),$=A.listePoints[2],$.nom=l,y.push(A,qr(A),ui("||","blue",He(A.listePoints[1],A.listePoints[2]),He(A.listePoints[1],A.listePoints[0]),2)),x.push(A,qr(A),ui("||","blue",He(A.listePoints[1],A.listePoints[2]),He(A.listePoints[1],A.listePoints[0]),2)),_=pr(w,N,-u,1,"","blue",2,1,"none",.2,!0,!1,"",1.2),_.echelleMark=2,y.push(_),D=pr(N,w,c,1,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),D.angleArrondi=1,_=pr(w,N,-u,1,"","blue",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,180-c-u,1,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),T.angleArrondi=1,x.push(D,_,T),this.correctionDetaillee&&(m+="Les angles à la base d'un triangle isocèle sont de même mesure.<br>",m+=`D'où : $\\widehat{${o+s+l}}=\\widehat{${o+l+s}}$.<br>`,m+="Or, dans un triangle, la somme des angles est égale à $180^\\circ$.<br>",m+=`D'où : $\\widehat{${s+o+l}}+ \\widehat{${o+l+s}}+ \\widehat{${o+s+l}}=180^\\circ$.<br>`,m+=`D'où : $\\widehat{${s+o+l}}+2\\times  \\widehat{${o+l+s}}=180^\\circ$.<br>`,m+=`Soit  $${u}^\\circ+2\\times  \\widehat{${o+l+s}}=180^\\circ$.<br>`,m+=`D'où $2\\times  \\widehat{${o+l+s}}=180^\\circ-${u}^\\circ$.<br>D'où `),m+=`$\\widehat{${o+l+s}}=\\left(180^\\circ-${u}^\\circ\\right)\\div  2=${180-u}^\\circ\\div  2=${de((180-u)/2)}^\\circ$<br>`,m+=`L'angle $${Ge("\\widehat{"+o+l+s+"}","black")}$ mesure $${Ge(de((180-u)/2))}^\\circ$.`,g=[yt((180-u)/2,1)];break;case 3:k=[0],b.push(o+l+s),c=ge(30,60,[90]),r[p]===2?c=5*Math.round(c/5):r[p]===3&&(c=10*Math.round(c/10)),u=c,d=`$${s+o+l}$ est un triangle isocèle en $${l}$. L'angle $\\widehat{${s+o+l}}$ mesure $${u}^\\circ$.<br>Quelle est la mesure de l'angle $\\widehat{${o+l+s}}$ ?`,A=Vo(w,N,c,u),$=A.listePoints[2],$.nom=l,y.push(A,qr(A),ui("||","blue",He(A.listePoints[1],A.listePoints[2]),He(A.listePoints[2],A.listePoints[0]),2)),x.push(A,qr(A),ui("||","blue",He(A.listePoints[1],A.listePoints[2]),He(A.listePoints[2],A.listePoints[0]),2)),_=pr(w,N,-u,1,"","blue",2,1,"none",.2,!0,!1,"",1.2),_.echelleMark=2,y.push(_),D=pr(N,w,c,1,"","blue",2,1,"none",.2,!0,!1,"",1.2),_=pr(w,N,-u,1,"","blue",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,180-c-u,1,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),x.push(D,_,T),this.correctionDetaillee&&(m+="Les deux angles à la base d'un triangle isocèle sont égaux.<br>",m+=`Donc $\\widehat{${s+o+l}}=\\widehat{${o+s+l}}=${c}^\\circ$.<br>`,m+="Or, dans un triangle, la somme des angles est égale à $180^\\circ$.<br>D'où : "),m+=`$\\widehat{${o+l+s}}=180^\\circ-2\\times ${c}^\\circ=180^\\circ-${2*c}^\\circ=${180-2*c}^\\circ$.<br>`,m+=`L'angle $${Ge("\\widehat{"+o+l+s+"}","black")}$ mesure $${Ge(180-2*c)}^\\circ$.`,g=[180-2*c];break;case 4:k=[0],b.push(s+l+o),d=`$${s+o+l}$ est un triangle rectangle en $${s}$ et $\\widehat{${s+l+o}}=\\widehat{${s+o+l}}$.<br>Quelle est la mesure de l'angle $\\widehat{${s+l+o}}$ ?`,u=45,c=90,A=Vo(w,N,c,u),$=A.listePoints[2],$.nom=l,y.push(A,qr(A)),x.push(A,qr(A)),D=Qr(N,w,$,"blue",1,1.5),D.echelleMark=2,_=pr(w,N,$,1,"|","blue",2),_.echelleMark=2,T=pr(w,$,N,1,"|","blue",2),T.echelleMark=2,y.push(D,_,T),_=pr(w,N,-u,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,c,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),_.angleArrondi=0,T.angleArrondi=0,x.push(D,_,T),m+=`$\\widehat{${s+l+o}}=\\widehat{${s+o+l}}$.<br>`,this.correctionDetaillee?(m+="Or, dans un triangle, la somme des angles est égale à $180^\\circ$.<br>",m+=`D'où : $2 \\times  \\widehat{${s+l+o}} + 90^\\circ=180^\\circ$.<br>`,m+=`D'où : $2 \\times  \\widehat{${s+l+o}}=180^\\circ-90^\\circ=90^\\circ$.<br>`):m+=`D'où : $2 \\times  \\widehat{${s+l+o}} + 90^\\circ=180^\\circ$.<br>`,m+=`D'où : $\\widehat{${s+l+o}}=90^\\circ \\div  2=45^\\circ$.<br>`,m+=`L'angle $${Ge("\\widehat{"+s+l+o+"}","black")}$ mesure $${Ge("45")}^\\circ$.`,g=[45];break;case 6:k=so([0,1]),b.push(s+l+o,s+o+l),d=`$${s+o+l}$ est un triangle rectangle en $${s}$. L'angle $\\widehat{${s+o+l}}$ mesure le double de l'angle $\\widehat{${s+l+o}}$.<br>`,d+=`Quelles sont les mesures respectives des angles $\\widehat{${b[k[0]]}}$ et $\\widehat{${b[k[1]]}}$ ?`,u=60,c=90,A=Vo(w,N,c,u),$=A.listePoints[2],$.nom=l,y.push(A,qr(A)),x.push(A,qr(A)),D=Qr(N,w,$,"blue",1,1.5),D.echelleMark=2,_=pr(w,N,$,1,"||","blue",2),_.echelleMark=2,T=pr(w,$,N,1,"|","blue",1.5),T.echelleMark=2,y.push(D,_,T),_=pr(w,N,-u,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,c,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),_.angleArrondi=0,T.angleArrondi=0,x.push(D,_,T),m+=`$\\widehat{${s+o+l}}=2\\times \\widehat{${s+l+o}}$.<br>`,this.correctionDetaillee&&(m+=`De plus, le triangle $${s+o+l}$ étant rectangle en $${s}$, les angles $\\widehat{${s+l+o}}$ et $\\widehat{${s+o+l}}$ sont complémentaires (leur somme est égale à $90^\\circ$).<br>`,m+=`D'où : $2 \\times  \\widehat{${s+l+o}} + \\widehat{${s+l+o}}=90^\\circ$.<br>`,m+=`D'où :  $3 \\times  \\widehat{${s+l+o}}=90^\\circ$.<br>`),m+=`D'où : $\\widehat{${s+l+o}}=90^\\circ \\div  3=30^\\circ$.<br>`,m+=`$\\widehat{${s+o+l}}=2\\times \\widehat{${s+l+o}}=2\\times  30^\\circ=60^\\circ$<br>`,m+=`L'angle $${Ge("\\widehat{"+s+l+o+"}","black")}$ mesure $${Ge("30")}^\\circ$ et l'angle $${Ge("\\widehat{"+s+o+l+"}","black")}$ mesure $${Ge("60")}^\\circ$.`,g=[30,60];break;case 7:k=so([0,1]),b.push(s+l+o,s+o+l),d=`$${s+o+l}$ est un triangle rectangle en $${s}$. L'angle $\\widehat{${s+o+l}}$ mesure le quart de l'angle $\\widehat{${s+l+o}}$.<br>`,d+=`Quelles sont les mesures respectives des angles $\\widehat{${b[k[0]]}}$ et $\\widehat{${b[k[1]]}}$ ?`,u=18,c=90,A=Vo(w,N,c,u),$=A.listePoints[2],$.nom=l,y.push(A,qr(A)),x.push(A,qr(A)),D=Qr(N,w,$,"blue",1,1.5),D.echelleMark=2,_=pr(w,N,$,1,"|","blue",2),_.echelleMark=2,T=pr(w,$,N,1,"||||","blue",1.5),T.echelleMark=2,y.push(D,_,T),_=pr(w,N,-u,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,180-c-u,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),_.angleArrondi=1,T.angleArrondi=1,x.push(D,_,T),m+=`Comme $\\widehat{${s+o+l}}=\\dfrac{\\widehat{${s+l+o}}}{4}$, on en déduit que $\\widehat{${s+l+o}}=4\\times \\widehat{${s+o+l}}$.<br>`,this.correctionDetaillee&&(m+=`De plus, le triangle $${s+o+l}$ étant rectangle en $${s}$, les angles $\\widehat{${s+l+o}}$ et $\\widehat{${s+o+l}}$ sont complémentaires (leur somme est égale à $90^\\circ$).<br>`,m+=`D'où : $4 \\times  \\widehat{${s+o+l}} + \\widehat{${s+o+l}}=90^\\circ$.<br>D'où `,m+=` $5 \\times  \\widehat{${s+o+l}}=90^\\circ$.<br>D'où `),m+=`$\\widehat{${s+o+l}}=90^\\circ \\div  5=18^\\circ$.<br>`,m+=`$\\widehat{${s+l+o}}=4\\times \\widehat{${s+o+l}}=4\\times  18^\\circ=72^\\circ$.<br>`,m+=`L'angle $${Ge("\\widehat{"+s+l+o+"}","black")}$ mesure $${Ge("72")}^\\circ$ et l'angle $${Ge("\\widehat{"+s+o+l+"}","black")}$ mesure $${Ge("18")}^\\circ$.`,g=[72,18];break;case 8:k=so([0,1]),b.push(s+l+o,s+o+l),d=`$${s+o+l}$ est un triangle rectangle en $${s}$. L'angle $\\widehat{${s+o+l}}$ est cinq fois plus grand que l'angle $\\widehat{${s+l+o}}$.<br>`,d+=`Quelles sont les mesures respectives des angles $\\widehat{${b[k[0]]}}$ et $\\widehat{${b[k[1]]}}$ ?`,u=75,c=90,A=Vo(w,N,c,u),$=A.listePoints[2],$.nom=l,y.push(A,qr(A)),x.push(A,qr(A)),D=Qr(N,w,$,"blue",1,1.5),D.echelleMark=2,_=pr(w,N,$,1,"|||||","blue",2),_.echelleMark=2,T=pr(w,$,N,1,"|","blue",2),T.echelleMark=2,y.push(D,_,T),_=pr(w,N,-u,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,180-c-u,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),_.angleArrondi=1,T.angleArrondi=1,x.push(D,_,T),m+=`$\\widehat{${s+o+l}}=5\\times \\widehat{${s+l+o}}$.<br>`,this.correctionDetaillee?(m+=`De plus, le triangle $${s+o+l}$ étant rectangle en $${s}$, les angles $\\widehat{${s+l+o}}$ et $\\widehat{${s+o+l}}$ sont complémentaires (leur somme est égale à $90^\\circ$).<br>`,m+=`D'où : $5 \\times  \\widehat{${s+l+o}} + \\widehat{${s+l+o}}=90^\\circ$.<br>`,m+=`D'où : $6 \\times  \\widehat{${s+l+o}}=90^\\circ$.<br>`):m+=`D'où : $5 \\times  \\widehat{${s+l+o}} + \\widehat{${s+l+o}}=90^\\circ$.<br>`,m+=`D'où : $\\widehat{${s+l+o}}=90^\\circ \\div  6=15^\\circ$<br>`,m+=`$\\widehat{${s+o+l}}=5\\times \\widehat{${s+l+o}}=5\\times  15^\\circ=75^\\circ$<br>`,m+=`L'angle $${Ge("\\widehat{"+s+l+o+"}","black")}$ mesure $${Ge("15")}^\\circ$ et l'angle $${Ge("\\widehat{"+s+o+l+"}","black")}$ mesure $${Ge("75")}^\\circ$.`,g=[15,75];break;case 5:k=[0],b.push(s+o+l),d=`$${s+o+l}$ est un triangle dont les trois angles sont égaux. Quelle est la mesure de chacun de ces angles ?`,A=Vo(w,N,60,60),$=A.listePoints[2],$.nom=l,D=pr(N,w,60,1,"|","blue",2),D.echelleMark=2,_=pr(w,N,-60,1,"|","blue",2),_.echelleMark=2,T=pr(w,$,60,1,"|","blue",2),T.echelleMark=2,y.push(A,D,_,T,qr(A)),D=pr(N,w,60,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),_=pr(w,N,-60,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,60,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),x.push(A,D,_,T,qr(A)),m+=`Comme le triangle $${s+o+l}$ a trois angles égaux, $\\widehat{${s+o+l}}=\\widehat{${s+l+o}}=\\widehat{${o+s+l}}$<br>`,this.correctionDetaillee&&(m+="Or, dans un triangle, la somme des angles est égale à $180^\\circ$.<br>",m+=`D'où $3\\times \\widehat{${s+o+l}}=180^\\circ$.<br>`),m+=`D'où : $\\widehat{${s+o+l}}=180^\\circ\\div  3=60^\\circ$.<br>`,m+=`On a donc $${Ge("\\widehat{"+s+o+l+"}","black")}=${Ge("\\widehat{"+s+l+o+"}","black")}=${Ge("\\widehat{"+o+s+l+"}","black")}=${Ge("60")}^\\circ$.<br>`,m+=`Le triangle $${s+o+l}$ est un triangle équilatéral.`,g=[60];break;case 9:k=so([0,1]),b.push(s+l+o,s+o+l),d=`$${s+o+l}$ est un triangle rectangle en $${s}$. L'angle $\\widehat{${s+o+l}}$ mesure le tiers de l'angle $\\widehat{${s+l+o}}$.<br>`,d+=`Quelles sont les mesures respectives des angles $\\widehat{${b[k[0]]}}$ et $\\widehat{${b[k[1]]}}$ ?`,u=22.5,c=90,A=Vo(w,N,c,u),$=A.listePoints[2],$.nom=l,y.push(A,qr(A)),x.push(A,qr(A)),D=Qr(N,w,$,"blue",1,1.5),D.echelleMark=2,_=pr(w,N,$,1,"|","blue",2),_.echelleMark=2,T=pr(w,$,N,1,"|||","blue",2),T.echelleMark=2,y.push(D,_,T),_=pr(w,N,-u,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,c,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),_.angleArrondi=1,T.angleArrondi=1,x.push(D,_,T),m+=`Comme $\\widehat{${s+o+l}}=\\dfrac{\\widehat{${s+l+o}}}{3}$, on en déduit que $\\widehat{${s+l+o}}=3\\times \\widehat{${s+o+l}}$.<br>`,this.correctionDetaillee?(m+=`De plus, le triangle $${s+o+l}$ étant rectangle en $${s}$, les angles $\\widehat{${s+l+o}}$ et $\\widehat{${s+o+l}}$ sont complémentaires (leur somme est égale à $90^\\circ$).<br>`,m+=`D'où : $3 \\times  \\widehat{${s+o+l}} + \\widehat{${s+o+l}}=90^\\circ$.<br>D'où : `,m+=` $4 \\times  \\widehat{${s+o+l}}=90^\\circ$.<br>D'où : `):m+=`D'où : $3 \\times  \\widehat{${s+o+l}} + \\widehat{${s+o+l}}=90^\\circ$.<br>D'où : `,m+=`$\\widehat{${s+o+l}}=90^\\circ \\div  4=22,5^\\circ$.<br>`,m+=`$\\widehat{${s+l+o}}=3\\times \\widehat{${s+o+l}}=3\\times  22,5^\\circ=67,5^\\circ$<br>`,m+=`L'angle $${Ge("\\widehat{"+s+l+o+"}","black")}$ mesure $${Ge("67.5")}^\\circ$ et l'angle $${Ge("\\widehat{"+s+o+l+"}","black")}$ mesure $${Ge("22.5")}^\\circ$.`,g=[67.5,22.5];break;case 10:b.push(s+l+o,s+o+l,o+s+l),d=`$${s+o+l}$ est un triangle isocèle en $${s}$. L'angle $\\widehat{${o+s+l}}$ mesure les deux tiers de l'angle $\\widehat{${s+o+l}}$.<br>`,d+=`Quelles sont les mesures respectives des angles $\\widehat{${b[k[0]]}}$, $\\widehat{${b[k[1]]}}$ et $\\widehat{${b[k[2]]}}$ ?`,u=67.5,c=45,A=Vo(w,N,c,u),$=A.listePoints[2],$.nom=l,y.push(A,qr(A),ui("XX","blue",He(A.listePoints[0],A.listePoints[2]),He(A.listePoints[1],A.listePoints[0]),2)),x.push(A,qr(A),ui("XX","blue",He(A.listePoints[0],A.listePoints[2]),He(A.listePoints[1],A.listePoints[0]),2)),D=pr(N,w,$,1,"||","blue",2),D.echelleMark=2,_=pr(w,N,$,1,"|||","blue",2),_.echelleMark=2,y.push(D,_),D=pr(N,w,c,1,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),_=pr(w,N,-u,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,180-c-u,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),_.angleArrondi=1,T.angleArrondi=1,x.push(D,_,T),m+=`Comme $\\widehat{${o+s+l}}=\\dfrac{2\\times  \\widehat{${s+l+o}}}{3}$, on en déduit que $\\widehat{${s+l+o}}=\\dfrac{3\\times \\widehat{${o+s+l}}}{2}$.<br>`,this.correctionDetaillee?(m+=`De plus, comme le triangle $${s+o+l}$ est isocèle en $${s}$, $\\widehat{${s+l+o}}$ et $\\widehat{${s+o+l}}$ sont égaux, alors $\\widehat{${s+o+l}}=\\widehat{${s+l+o}}=\\dfrac{3\\times \\widehat{${o+s+l}}}{2}$.<br>`,m+="Or, dans un triangle, la somme des angles est égale à $180^\\circ$.<br>",m+=`D'où : $\\widehat{${s+l+o}}+\\widehat{${s+o+l}}+\\widehat{${o+s+l}}=180^\\circ$.<br>`,m+=`D'où : $\\dfrac{3 \\times  \\widehat{${o+s+l}}}{2} + \\dfrac{3 \\times  \\widehat{${o+s+l}}}{2} + \\widehat{${o+s+l}}=180^\\circ$.<br>`,m+=`D'où : $\\dfrac{3 \\times  \\widehat{${o+s+l}}}{2}\\times  2 + \\widehat{${o+s+l}}=180^\\circ$.<br>`,m+=`D'où : $3 \\times  \\widehat{${o+s+l}} + \\widehat{${o+s+l}}=180^\\circ$.<br>`,m+=`D'où : $4 \\times  \\widehat{${o+s+l}}=180^\\circ$.<br>D'où : `):m+=`D'où : $\\dfrac{3 \\times  \\widehat{${o+s+l}}}{2} + \\dfrac{3 \\times  \\widehat{${o+s+l}}}{2} + \\widehat{${o+s+l}}=180^\\circ$.<br>`,m+=`$\\widehat{${o+s+l}}=180^\\circ \\div  4=45^\\circ$.<br>`,m+=`$\\widehat{${s+l+o}}=\\widehat{${s+o+l}}=\\dfrac{3\\times \\widehat{${o+s+l}}}{2}=\\dfrac{3\\times  45^\\circ}{2}=\\dfrac{135^\\circ}{2}=67,5^\\circ$<br>`,m+=`L'angle $${Ge("\\widehat{"+s+l+o+"}","black")}$ mesure $${Ge("67.5")}^\\circ$, l'angle $${Ge("\\widehat{"+s+o+l+"}","black")}$ mesure $${Ge("67.5")}^\\circ$ et l'angle $${Ge("\\widehat{"+o+s+l+"}","black")}$ mesure $${Ge("45")}^\\circ$.`,g=[67.5,67.5,45];break;case 11:default:b.push(s+l+o,s+o+l,o+s+l),d=`$${s+o+l}$ est un triangle isocèle en $${s}$. L'angle $\\widehat{${s+o+l}}$ mesure le double de l'angle $\\widehat{${o+s+l}}$.<br>`,d+=`Quelles sont les mesures respectives des angles $\\widehat{${b[k[0]]}}$, $\\widehat{${b[k[1]]}}$ et $\\widehat{${b[k[2]]}}$ ?`,u=72,c=36,A=Vo(w,N,c,u),$=A.listePoints[2],$.nom=l,y.push(A,qr(A),ui("|||","blue",He(A.listePoints[0],A.listePoints[2]),He(A.listePoints[1],A.listePoints[0]),2)),x.push(A,qr(A),ui("|||","blue",He(A.listePoints[0],A.listePoints[2]),He(A.listePoints[1],A.listePoints[0]),2)),D=pr(N,w,$,1,"|","blue",2),D.echelleMark=2,_=pr(w,N,$,1,"||","blue",2),_.echelleMark=2,y.push(D,_),D=pr(N,w,c,1,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),_=pr(w,N,-u,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),T=pr(w,$,180-c-u,.8,"","#f15929",2,1,"none",.2,!0,!1,"",1.2),x.push(D,_,T),m+=`On a $\\widehat{${s+o+l}}=2\\times  \\widehat{${o+s+l}}$.<br>`,this.correctionDetaillee?(m+=`De plus, comme le triangle $${s+o+l}$ est isocèle en $${s}$, $\\widehat{${s+l+o}}$ et $\\widehat{${s+o+l}}$ sont égaux, alors $\\widehat{${s+l+o}}=\\widehat{${s+o+l}}=2\\times \\widehat{${o+s+l}}$.<br>`,m+="Or, dans un triangle, la somme des angles est égale à $180^\\circ$.<br>",m+=`D'où : $\\widehat{${s+l+o}}+\\widehat{${s+o+l}}+\\widehat{${o+s+l}}=180^\\circ$.<br>`,m+=`D'où : $2 \\times  \\widehat{${o+s+l}} + 2 \\times  \\widehat{${o+s+l}} + \\widehat{${o+s+l}}=180^\\circ$.<br>`,m+=`D'où : $4 \\times  \\widehat{${o+s+l}} + \\widehat{${o+s+l}}=180^\\circ$.<br>D'où `,m+=` $5 \\times  \\widehat{${o+s+l}}=180^\\circ$.<br>D'où `):m+=`D'où : $2 \\times  \\widehat{${o+s+l}} + 2 \\times  \\widehat{${o+s+l}} + \\widehat{${o+s+l}}=180^\\circ$.<br>`,m+=`$\\widehat{${o+s+l}}=180^\\circ \\div  5=36^\\circ$.<br>`,m+=`$\\widehat{${s+o+l}}=\\widehat{${s+l+o}}=2\\times \\widehat{${o+s+l}}=2\\times  36^\\circ=72^\\circ$<br>`,m+=`L'angle $${Ge("\\widehat{"+s+l+o+"}","black")}$ mesure $${Ge("72")}^\\circ$, l'angle $${Ge("\\widehat{"+s+o+l+"}","black")}$ mesure $${Ge("72")}^\\circ$ et l'angle $${Ge("\\widehat{"+o+s+l+"}","black")}$ mesure $${Ge("36")}^\\circ$.`,g=[72,72,36];break}const z=[g[k[0]]];mm(this,h,g[k[0]]),g.length>1&&(z.push(g[k[1]]),mm(this,h+1,g[k[1]]),g.length>2&&(z.push(g[k[2]]),mm(this,h+2,g[k[2]]))),this.interactif&&(d+="<br>"+gr(this,h," ",{texteAvant:`$\\widehat{${b[k[0]]}} = $`,texteApres:"$^\\circ$"}),g.length>1&&(d+="<br>"+gr(this,h+1," ",{texteAvant:`$\\widehat{${b[k[1]]}} = $`,texteApres:"$^\\circ$"}),g.length>2&&(d+="<br>"+gr(this,h+2," ",{texteAvant:`$\\widehat{${b[k[2]]}} = $`,texteApres:"$^\\circ$"})))),h+=b.length;const P=qr(A);y.push(P);const q=Math.min(w.x,N.x,$.x)-2,L=Math.max(w.x,N.x,$.x)+2,Z=Math.min(w.y,N.y,$.y)-2,W=Math.max(w.y,N.y,$.y)+2,Y={xmin:q,ymin:Z,xmax:L,ymax:W,pixelsParCm:20,scale:.3};this.sup2?d+="<br>"+ci(Y,y):this.correctionDetaillee&&(f+="<br>",f+=ci(Y,y)),f+=m,f+="<br>"+ci(Object.assign(gi(x),{pixelsParCm:20,scale:.3}),x),this.questionJamaisPosee(p,d)&&(this.listeQuestions[p]=d,this.listeCorrections[p]=f,p++),v++}Cu(this)}}const oAe=Object.freeze(Object.defineProperty({__proto__:null,amcReady:tAe,amcType:rAe,dateDeModifImportante:iAe,default:sAe,interactifReady:JDe,interactifType:eAe,refs:aAe,titre:QDe,uuid:nAe},Symbol.toStringTag,{value:"Module"})),lAe="Agrandir ou réduire des figures, d'après une situation de proportionnalité",uAe=!0,cAe="mathLive",hAe=!0,pAe="AMCHybride",dAe="13/03/2022",mAe="03/04/2025",fAe="4c6e2",gAe={"fr-fr":[],"fr-ch":[]};class vAe extends Os{constructor(){super(),this.besoinFormulaireTexte=["Type de figures",["Nombres séparés par des tirets  :","1 : Triangle équilatéral","2 : Carré","3 : Triangle avec coefficient de réduction ou d'agrandissement","4 : Triangle avec longueur initiale et longueur finale","5 : Rectangle avec coefficient de réduction ou d'agrandissement","6 : Rectangle avec longueur initiale et longueur finale","7 : Mélange"].join(`
`)],this.besoinFormulaire2Texte=["Longueur maximum dans la figure à produire (5 minimum)",""],this.sup=7,this.sup2="15",this.nbQuestions=4,this.spacing=2,this.comment="Parce que, selon les questions, le nombre de réponses attendu n'est pas identique, cet exercice ne doit pas être utilisé sous Capytale sous peine de ne pas avoir le même nombre de champs réponse par élève et un problème dana le bilan numérique."}nouvelleVersion(){const e=Xl({max:6,defaut:7,melange:7,nbQuestions:this.nbQuestions,saisie:this.sup}),r=Math.max(5,Number(this.sup2)),i=[[" agrandissement","e réduction"],["l'agrandissement demandé","la réduction demandée"]];let n=0,a=0;for(let s=0,o=0;s<this.nbQuestions&&o<200;){let l,u,c,h,p;do{a=0,l="",u="";const d=[],m=[1.5,2,3,5,.5,.25,.75],f=[new _t(1,2),new _t(1,4),new _t(3,4)],v=ge(0,6),y=be(0,0),x=v<4?ge(5,11,[6,9]):2*ge(4,7);switch(c=x,h=m[v],e[s]){case 1:{const g=yt(m[v]*x,1),b=ge(10,170),k=ge(10,170,[b]),w=Pt([-1,1]),N=aa(y,x,w*b),A=aa(y,g,w*k),$=aa(y,x,w*(b+60)),D=aa(y,g,w*(k+60)),_=er(y,N,$),T=er(y,A,D),z=ge(1,26,[4,5,15,23,24,25]),P=ge(1,26,[4,5,15,23,24,25,z]),q=ge(1,26,[4,5,15,23,24,25,z,P]),L=Qt(z)+Qt(P)+Qt(q),Z=ge(1,26,[4,5,15,23,24,25,z,P,q]),W=ge(1,26,[4,5,15,23,24,25,z,P,Z]),Y=ge(1,26,[4,5,15,23,24,25,z,P,Z,W]),ie=Qt(Z)+Qt(W)+Qt(Y);d.push(_,ui("||","red",_.listePoints),En(w<0?y:N,w<0?N:y,"blue",.5,"",!0),qr(_,L)),l=`On décide d'effectuer un${i[0][v<4?0:1]} de coefficient $${de(m[v])}$ du triangle équilatéral ${L}. Quelle sera la longueur du côté du triangle à construire ?`;const R="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d);l+=R,this.interactif?(l+=gr(this,n,""),cr(this,n,{reponse:{value:g}}),a++):(l=`Trace un${i[0][v<4?0:1]} de coefficient $${de(m[v])}$ du triangle ${L}.`,l+="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d)),u=`Effectuer un${i[0][v<4?0:1]} de coefficient $${de(m[v])}$ implique de multiplier toutes les longueurs par ce coefficient`,v>=4&&(u+=` ou bien, comme $${de(m[v])}=${f[v-4].texFraction}$, cela revient à diviser toutes les longueurs par $${f[v-4].den}$`,u+=v===6?" puis multiplier chacun de ces résultats par 3":""),u+=".<br>",u+=`$${x} \\times ${m[v]}=${de(g)}$`,v===6?u+=` ou bien $(${x} \\div 4) \\times 3=${de(yt(x/4,1))} \\times 3=${de(g)}$`:v>=4&&(u+=` ou bien $${x} \\div ${f[v-4].den}=${de(g)}$`),u+=`<br>Le triangle équilatéral issu d'un${i[0][v<4?0:1]} du triangle ${L} de coefficient $${de(m[v])}$ possède donc des côtés de longueur $${Ge(de(g))}$.`,u+="<br>En voici, une réalisation ci-dessous.",d.push(T,ui("|||","blue",T.listePoints),En(w<0?y:A,w<0?A:y,"red",.5,"",!0),qr(T,ie)),u+="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d),p=g}break;case 2:{const g=yt(m[v]*x,1),b=ge(10,170),k=ge(10,170,[b]),w=Pt([-1,1]),N=aa(y,x,w*b),A=aa(y,g,w*k),$=zt(y,N,90),D=zt(N,y,-90),_=zt(y,A,90),T=zt(A,y,-90),z=er(y,N,$,D),P=er(y,A,_,T),q=ge(1,26,[4,5,15,23,24,25]),L=ge(1,26,[4,5,15,23,24,25,q]),Z=ge(1,26,[4,5,15,23,24,25,q,L]),W=ge(1,26,[4,5,15,23,24,25,q,L,Z]),Y=Qt(q)+Qt(L)+Qt(Z)+Qt(W),ie=ge(1,26,[4,5,15,23,24,25,q,L,Z]),re=ge(1,26,[4,5,15,23,24,25,q,L,ie]),R=ge(1,26,[4,5,15,23,24,25,q,L,ie,re]),X=ge(1,26,[4,5,15,23,24,25,q,L,ie,re,R]),E=Qt(ie)+Qt(re)+Qt(R)+Qt(X);d.push(z,ui("||","red",z.listePoints),En(y,N,"blue",.5,"",!0),qr(z,Y)),d.push(Qr(y,N,$),Qr(D,$,N),Qr(y,D,$),Qr(N,y,D)),l=`On décide d'effectuer un${i[0][v<4?0:1]} de coefficient $${de(m[v])}$, du carré ${Y}. Quelle sera la longueur du côté du carré à construire ?`;const le="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d);l+=le,this.interactif?(l+=gr(this,n,""),cr(this,n,{reponse:{value:g}}),a++):(l=`Trace un${i[0][v<4?0:1]} de coefficient $${de(m[v])}$ du carré ${Y}.`,l+="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d)),u=`Effectuer un${i[0][v<4?0:1]} de coefficient $${de(m[v])}$ implique de multiplier toutes les longueurs par ce coefficient`,v>=4&&(u+=` ou bien, comme $${de(m[v])}=${f[v-4].texFraction}$, cela revient à diviser toutes les longueurs par $${f[v-4].den}$`,u+=v===6?" puis multiplier chacun de ces résultats par 3":""),u+=".<br>",u+=`$${x} \\times ${m[v]}=${de(g)}$`,v===6?u+=` ou bien $(${x} \\div 4) \\times 3=${de(yt(x/4,1))} \\times 3=${de(g)}$`:v>=4&&(u+=` ou bien $${x} \\div ${f[v-4].den}=${de(g)}$`),u+=`<br>Le carré issu d'un${i[0][v<4?0:1]} du carré ${Y} de coefficient $${de(m[v])}$ possède donc des côtés de longueur $${Ge(de(g))}$.`,u+="<br>En voici, une réalisation ci-dessous.",d.push(P,ui("|||","blue",P.listePoints),En(y,A,"red",.5,"",!0),qr(P,E)),d.push(Qr(y,A,_),Qr(T,_,A),Qr(y,T,_),Qr(A,y,T)),u+="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d),p=g}break;case 3:{const g=v<4?ge(5,11,[6,9,x]):2*ge(4,7,[yt(x/2,0)]),b=v<4?ge(1+Math.abs(x-g),x+g-1,[6,9,x,g]):2*ge(4,7,[yt(x/2,0),yt(g/2,0)]),k=yt(m[v]*x,1),w=yt(m[v]*g,1),N=yt(m[v]*b,1),A=ge(10,170),$=ge(10,170,[A]),D=Pt([-1,1]),_=aa(y,x,D*A),T=aa(y,k,D*$),z=ge(1,2),P=S3(y,_,g,b,z),q=P.listePoints[2],L=S3(y,T,w,N,z),Z=L.listePoints[2],W=ge(1,26,[4,5,15,23,24,25]),Y=ge(1,26,[4,5,15,23,24,25,W]),ie=ge(1,26,[4,5,15,23,24,25,W,Y]),re=Qt(W)+Qt(Y)+Qt(ie);d.push(P,qr(P,re)),d.push(En(Rt(q,y,_)>0?y:_,Rt(q,y,_)>0?_:y,"blue",.5,"",!0)),d.push(En(Rt(y,_,q)>0?_:q,Rt(y,_,q)>0?q:_,"blue",.5,"",!0)),d.push(En(Rt(_,q,y)>0?q:y,Rt(_,q,y)>0?y:q,"blue",.5,"",!0));const R=`On décide d'effectuer un${i[0][v<4?0:1]} de coefficient $${de(m[v])}$ du triangle ${re}. Quelles seront les longueurs respectives de chaque côté du triangle à construire ?`,X="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d);if(this.interactif){l=R,l+=X,l+="<br> Dans le nouveau triangle, la plus petite longueur sera :"+gr(this,n,""),cr(this,n,{reponse:{value:Math.min(k,w,N)}}),a++,l+="<br> Dans le nouveau triangle, la plus grande longueur sera :"+gr(this,n+a,""),cr(this,n+a,{reponse:{value:Math.max(k,w,N)}}),a++,l+="<br> Dans le nouveau triangle, la dernière longueur sera :"+gr(this,n+a,"");let E;const oe=Math.min(k,w,N),le=Math.max(k,w,N);oe===le?E=oe:E=[k,w,N].filter(ue=>ue!==oe&&ue!==le)[0],cr(this,n+a,{reponse:{value:E}}),a++}else l=`Trace un${i[0][v<4?0:1]} de coefficient $${de(m[v])}$ du triangle ${re}.`,l+="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d);u=`Effectuer un${i[0][v<4?0:1]} de coefficient $${de(m[v])}$ implique de multiplier toutes les longueurs par ce coefficient`,v>=4&&(u+=` ou bien, comme $${de(m[v])}=${f[v-4].texFraction}$, cela revient à diviser toutes les longueurs par $${f[v-4].den}$`,u+=v===6?" puis multiplier chacun de ces résultats par 3":""),u+=".<br>",u+=`$${x} \\times ${m[v]}=${de(k)}${Be(10)}$`,u+=`$${g} \\times ${m[v]}=${de(w)}${Be(10)}$`,u+=`$${b} \\times ${m[v]}=${de(N)}$`,v===6?(u+=`${Be(10)} ou bien ${Be(10)}$(${x} \\div 4) \\times 3=${de(yt(x/4,1))} \\times 3=${de(k)}$`,u+=`${Be(10)}$(${g} \\div 4) \\times 3=${de(yt(g/4,1))} \\times 3=${de(w)}$`,u+=`${Be(10)}$(${b} \\div 4) \\times 3=${de(yt(b/4,1))} \\times 3=${de(N)}$`):v>=4&&(u+=`${Be(10)} ou bien ${Be(10)}$${x} \\div ${f[v-4].den}=${de(k)}$`,u+=`${Be(10)}$${g} \\div ${f[v-4].den}=${de(w)}$`,u+=`${Be(10)}$${b} \\div ${f[v-4].den}=${de(N)}$`),u+=`<br>Le triangle issu d'un${i[0][v<4?0:1]} du triangle ${re} de coefficient $${de(m[v])}$ possède donc des côtés de longueur respective $${Ge(de(k))}$ ; $${Ge(de(w))}$ et $${Ge(de(N))}$.`,u+="<br>En voici, une réalisation ci-dessous.",d.push(L),d.push(En(Rt(Z,y,T)>0?y:T,Rt(Z,y,T)>0?T:y,"red",.5,"",!0)),d.push(En(Rt(y,T,Z)>0?T:Z,Rt(y,T,Z)>0?Z:T,"red",.5,"",!0)),d.push(En(Rt(T,Z,y)>0?Z:y,Rt(T,Z,y)>0?y:Z,"red",.5,"",!0)),u+="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d),p=Math.max(k,w,N)}break;case 4:{const g=v<4?ge(5,11,[6,9,x]):2*ge(4,7,[yt(x/2,0)]),b=v<4?ge(5,11,[6,9,x,g]):2*ge(4,7,[yt(x/2,0),yt(g/2,0)]),k=yt(m[v]*x,1),w=yt(m[v]*g,1),N=yt(m[v]*b,1),A=ge(10,170),$=ge(10,170,[A]),D=Pt([-1,1]),_=aa(y,x,D*A),T=aa(y,k,D*$),z=ge(1,2),P=S3(y,_,g,b,z),q=P.listePoints[2],L=S3(y,T,w,N,z),Z=L.listePoints[2],W=ge(1,26,[4,5,15,23,24,25]),Y=ge(1,26,[4,5,15,23,24,25,W]),ie=ge(1,26,[4,5,15,23,24,25,W,Y]),re=Qt(W)+Qt(Y)+Qt(ie),R=ge(1,26,[4,5,15,23,24,25,W,Y,ie]),X=ge(1,26,[4,5,15,23,24,25,W,Y,R]),E=ge(1,26,[4,5,15,23,24,25,W,Y,R,X]),oe=Qt(R)+Qt(X)+Qt(E);d.push(P,qr(P,re)),d.push(En(Rt(q,y,_)>0?y:_,Rt(q,y,_)>0?_:y,"blue",.5,"",!0)),d.push(En(Rt(y,_,q)>0?_:q,Rt(y,_,q)>0?q:_,"blue",.5,"",!0)),d.push(En(Rt(_,q,y)>0?q:y,Rt(_,q,y)>0?y:q,"blue",.5,"",!0));const le=`On décide d'effectuer un${i[0][v<4?0:1]} du triangle ${re}, de telle sorte que la longueur du côté associé à [${Qt(Y)+Qt(ie)}] mesurera $${de(N)}$.<br>Quelles seront les longueurs respectives des deux autres côtés du triangle à construire ?`,ne="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d);this.interactif?(l=le,l+=ne,l+="<br> Dans le nouveau triangle, la plus petite longueur à trouver sera :"+gr(this,n,""),cr(this,n,{reponse:{value:Math.min(k,w)}}),a++,l+="<br> Dans le nouveau triangle, la plus grande longueur à trouver sera :"+gr(this,n+a,""),cr(this,n+a,{reponse:{value:Math.max(k,w)}}),a++):(l=`Trace un${i[0][v<4?0:1]} du triangle ${re} de telle sorte que la longueur du côté associé à [${Qt(Y)+Qt(ie)}] mesurera $${de(N)}$.`,l+="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d)),u=`Effectuer un${i[0][v<4?0:1]} implique de multiplier toutes les longueurs par un coefficient de proportionnalité. Trouvons ce coefficient.<br>`,u+=`Pour trouver ce coefficient, divisons la longueur connue du futur triangle par sa longueur associée dans le triangle actuel : $${de(N)} \\div ${b} = ${m[v]}$. Le coefficient de proportionnalité est donc $${m[v]}$.<br>`,u+=`Multiplions toutes les longueurs connues du triangle actuel par $${m[v]}$`,v>=4&&(u+=`, ou bien, comme $${de(m[v])}=${f[v-4].texFraction}$, cela revient à diviser toutes les longueurs par $${f[v-4].den}$`,u+=v===6?" puis multiplier chacun de ces résultats par 3":""),u+=`.<br>$${x} \\times ${m[v]}=${de(k)}${Be(10)}$`,u+=`$${g} \\times ${m[v]}=${de(w)}$`,v===6?(u+=`${Be(10)} ou bien ${Be(10)}$(${x} \\div 4) \\times 3=${de(yt(x/4,1))} \\times 3=${de(k)}$`,u+=`${Be(10)}$(${g} \\div 4) \\times 3=${de(yt(g/4,1))} \\times 3=${de(w)}$`):v>=4&&(u+=`${Be(10)} ou bien ${Be(10)}$${x} \\div ${f[v-4].den}=${de(k)}$`,u+=`${Be(10)}$${g} \\div ${f[v-4].den}=${de(w)}$`),u+=`<br>Le triangle issu d'un${i[0][v<4?0:1]} du triangle ${re} de coefficient $${de(m[v])}$ possède donc des côtés de longueur respective $${de(N)}$ ; $${Ge(de(w))}$ et $${Ge(de(k))}$.`,u+="<br>En voici, une réalisation ci-dessous.",d.push(L,qr(L,oe)),d.push(En(Rt(Z,y,T)>0?y:T,Rt(Z,y,T)>0?T:y,"red",.5,"",!0)),d.push(En(Rt(y,T,Z)>0?T:Z,Rt(y,T,Z)>0?Z:T,"red",.5,"",!0)),d.push(En(Rt(T,Z,y)>0?Z:y,Rt(T,Z,y)>0?y:Z,"red",.5,"",!0)),u+="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d),p=Math.max(k,w,N)}break;case 5:{const g=v<4?ge(5,11,[6,9,x]):2*ge(4,7,[yt(x/2,0)]),b=yt(m[v]*x,1),k=yt(m[v]*g,1),w=ge(10,170),N=ge(10,170,[w]),A=Pt([-1,1]),$=aa(y,x,A*w),D=aa(y,b,A*N),_=zt(aa($,g,180+A*w),$,-90),T=zt(aa(D,k,180+A*N),D,-90),z=zt(aa(y,g,A*w),y,90),P=zt(aa(y,k,A*N),y,90),q=er(y,$,_,z),L=er(y,D,T,P),Z=ge(1,26,[4,5,15,23,24,25]),W=ge(1,26,[4,5,15,23,24,25,Z]),Y=ge(1,26,[4,5,15,23,24,25,Z,W]),ie=ge(1,26,[4,5,15,23,24,25,Z,W,Y]),re=Qt(Z)+Qt(W)+Qt(Y)+Qt(ie),R=ge(1,26,[4,5,15,23,24,25,Z,W,Y]),X=ge(1,26,[4,5,15,23,24,25,Z,W,R]),E=ge(1,26,[4,5,15,23,24,25,Z,W,R,X]),oe=ge(1,26,[4,5,15,23,24,25,Z,W,R,X,E]),le=Qt(R)+Qt(X)+Qt(E)+Qt(oe);d.push(q,qr(q,re)),d.push(ui("||","red",y,$,_,z)),d.push(ui("X","red",$,_,z,y)),d.push(En(Rt($,_,z)>0?_:z,Rt($,_,z)>0?z:_,"blue",.5,"",!0)),d.push(En(Rt(_,z,y)>0?z:y,Rt(_,z,y)>0?y:z,"blue",.5,"",!0)),d.push(Qr(y,$,_),Qr(z,_,$),Qr(y,z,_),Qr($,y,z));const ne=`On décide d'effectuer un${i[0][v<4?0:1]} de coefficient $${de(m[v])}$ du rectangle ${re}. Quelles seront les longueurs respectives de chaque côté du rectangle à construire ?`,H="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d);this.interactif?(l=ne,l+=H,l+="<br> Dans le nouveau rectangle, le côté le moins long aura pour longueur : "+gr(this,n,""),cr(this,n,{reponse:{value:Math.min(b,k)}}),a++,l+="<br> Dans le nouveau rectangle, le côté le plus long aura pour longueur : "+gr(this,n+a,""),cr(this,n+a,{reponse:{value:Math.max(b,k)}}),a++):(l=`Trace un${i[0][v<4?0:1]} de coefficient $${de(m[v])}$ du rectangle ${re}.`,l+="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d)),u=`Effectuer un${i[0][v<4?0:1]} de coefficient $${de(m[v])}$ implique de multiplier toutes les longueurs par ce coefficient`,v>=4&&(u+=` ou bien, comme $${de(m[v])}=${f[v-4].texFraction}$, cela revient à diviser toutes les longueurs par $${f[v-4].den}$`,u+=v===6?" puis multiplier chacun de ces résultats par 3":""),u+=".<br>",u+=`$${x} \\times ${m[v]}=${de(b)}${Be(10)}$`,u+=`$${g} \\times ${m[v]}=${de(k)}$`,v===6?(u+=`${Be(10)} ou bien ${Be(10)}$(${x} \\div 4) \\times 3=${de(yt(x/4,1))} \\times 3=${de(b)}$`,u+=`${Be(10)}$(${g} \\div 4) \\times 3=${de(yt(g/4,1))} \\times 3=${de(k)}$`):v>=4&&(u+=`${Be(10)} ou bien ${Be(10)}$${x} \\div ${f[v-4].den}=${de(b)}$`,u+=`${Be(10)}$${g} \\div ${f[v-4].den}=${de(k)}$`),u+=`<br>Le rectangle issu d'un${i[0][v<4?0:1]} du rectangle ${re} de coefficient $${de(m[v])}$ possède donc des côtés de longueur respective $${Ge(de(b))}$ et $${Ge(de(k))}$.`,u+="<br>En voici, une réalisation ci-dessous.",d.push(L,qr(L,le)),d.push(ui("|||","blue",y,D,T,P)),d.push(ui("XX","blue",D,T,P,y)),d.push(En(Rt(T,y,D)>0?y:D,Rt(T,y,D)>0?D:y,"red",.5,"",!0)),d.push(En(Rt(y,D,T)>0?D:T,Rt(y,D,T)>0?T:D,"red",.5,"",!0)),d.push(Qr(y,D,T),Qr(P,T,D),Qr(y,P,T),Qr(D,y,P)),u+="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d),p=Math.max(b,k)}break;default:{const g=v<4?ge(5,11,[6,9,x]):2*ge(4,7,[yt(x/2,0)]),b=yt(m[v]*x,1),k=yt(m[v]*g,1),w=ge(10,170),N=ge(10,170,[w]),A=Pt([-1,1]),$=aa(y,x,A*w),D=aa(y,b,A*N),_=zt(aa($,g,180+A*w),$,-90),T=zt(aa(D,k,180+A*N),D,-90),z=zt(aa(y,g,A*w),y,90),P=zt(aa(y,k,A*N),y,90),q=er(y,$,_,z),L=er(y,D,T,P),Z=ge(1,26,[4,5,15,23,24,25]),W=ge(1,26,[4,5,15,23,24,25,Z]),Y=ge(1,26,[4,5,15,23,24,25,Z,W]),ie=ge(1,26,[4,5,15,23,24,25,Z,W,Y]),re=Qt(Z)+Qt(W)+Qt(Y)+Qt(ie),R=ge(1,26,[4,5,15,23,24,25,Z,W,Y]),X=ge(1,26,[4,5,15,23,24,25,Z,W,R]),E=ge(1,26,[4,5,15,23,24,25,Z,W,R,X]),oe=ge(1,26,[4,5,15,23,24,25,Z,W,R,X,E]),le=Qt(R)+Qt(X)+Qt(E)+Qt(oe);d.push(q,qr(q,re)),d.push(ui("||","red",y,$,_,z)),d.push(ui("X","red",$,_,z,y)),d.push(En(Rt($,_,z)>0?_:z,Rt($,_,z)>0?z:_,"blue",.5,"",!0)),d.push(En(Rt(_,z,y)>0?z:y,Rt(_,z,y)>0?y:z,"blue",.5,"",!0)),d.push(Qr(y,$,_),Qr(z,_,$),Qr(y,z,_),Qr($,y,z));const ne=`On décide d'effectuer un${i[0][v<4?0:1]} du rectangle ${re}, de telle sorte que la longueur du côté associé à [${Qt(Z)+Qt(W)}] mesurera $${de(b)}$. Quelle sera l'autre dimension du rectangle à construire ?`,H="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d);this.interactif?(l=ne,l+=gr(this,n,""),l+=H,cr(this,n,{reponse:{value:k}}),a++):(l=`Trace un${i[0][v<4?0:1]} du rectangle ${re} de telle sorte que la longueur du côté associé à [${Qt(Z)+Qt(W)}] mesurera $${de(b)}$.`,l+="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d)),u=`Effectuer un${i[0][v<4?0:1]} implique de multiplier toutes les longueurs par un coefficient de proportionnalité. Trouvons ce coefficient.<br>`,u+=`Pour trouver ce coefficient, divisons la longueur connue du futur rectangle par sa longueur associée dans le rectangle actuel : $${de(b)} \\div ${x} = ${m[v]}$. Le coefficient de proportionnalité est donc $${m[v]}$.<br>`,u+=`Multiplions toutes les longueurs connues du triangle actuel par $${m[v]}$`,v>=4&&(u+=` ou bien, comme $${de(m[v])}=${f[v-4].texFraction}$, cela revient à diviser toutes les longueurs par $${f[v-4].den}$`,u+=v===6?" puis multiplier chacun de ces résultats par 3":""),u+=".<br>",u+=`$${g} \\times ${m[v]}=${de(k)}$`,v===6?u+=`${Be(10)} ou bien ${Be(10)}$(${g} \\div 4) \\times 3=${de(yt(g/4,1))} \\times 3=${de(k)}$`:v>=4&&(u+=`${Be(10)} ou bien ${Be(10)}$${g} \\div ${f[v-4].den}=${de(k)}$`),u+=`<br>Le rectangle issu d'un${i[0][v<4?0:1]} du rectangle ${re} de coefficient $${de(m[v])}$ possède donc des côtés de longueur respective $${Ge(de(b))}$ et $${Ge(de(k))}$.`,u+="<br>En voici, une réalisation ci-dessous.",d.push(L,qr(L,le)),d.push(ui("|||","blue",y,D,T,P)),d.push(ui("XX","blue",D,T,P,y)),d.push(En(Rt(T,y,D)>0?y:D,Rt(T,y,D)>0?D:y,"red",.5,"",!0)),d.push(En(Rt(y,D,T)>0?D:T,Rt(y,D,T)>0?T:D,"red",.5,"",!0)),d.push(Qr(y,D,T),Qr(P,T,D),Qr(y,P,T),Qr(D,y,P)),u+="<br>"+ci(Object.assign({pixelsParCm:20,scale:.5},gi(d)),d),p=Math.max(b,k)}break}o++}while(p>r&&o<200);this.questionJamaisPosee(s,c,h,e[s])&&(this.listeQuestions[s]=l,this.listeCorrections[s]=u,n+=a,s++),o++}Cu(this)}}const yAe=Object.freeze(Object.defineProperty({__proto__:null,amcReady:hAe,amcType:pAe,dateDeModifImportante:mAe,dateDePublication:dAe,default:vAe,interactifReady:uAe,interactifType:cAe,refs:gAe,titre:lAe,uuid:fAe},Symbol.toStringTag,{value:"Module"}));class bAe extends br{constructor(e,r,i='begin="0s" dur="2s" repeatCount="indefinite"'){super(),this.liste=Array.isArray(e)?e:[e],this.v=r,this.animation=i;const n=this.liste.map(s=>xr(s,r)),a=gi(this.liste.concat(n));this.bordures=[a.xmin,a.ymin,a.xmax,a.ymax]}svg(e){let r="<g> ";if(Array.isArray(this.liste))for(const i of this.liste)r+=`
`+i.svg(e);else r+=`
`+this.liste.svg(e);if(Array.isArray(this.v)){r+='<animateMotion path="M 0 0 l';for(const i of this.v)r+=` ${i.xSVG(e)} ${i.ySVG(e)} `;r+=`${this.animation} />`}else r+=`<animateMotion path="M 0 0 l ${this.v.xSVG(e)} ${this.v.ySVG(e)} " ${this.animation} />`;return r+="</g>",r}tikz(){return""}}function ak(t,e,r='begin="0s" dur="2s" repeatCount="indefinite"'){return new bAe(t,e,r)}class xAe extends br{constructor(e,r,i,n='begin="0s" dur="2s" repeatCount="indefinite"'){super(),this.liste=Array.isArray(e)?e:[e],this.O=r,this.angle=i,this.animation=n;const a=this.liste.map(o=>zt(o,r,i)),s=gi([...this.liste.concat(a)]);this.bordures=[s.xmin,s.ymin,s.xmax,s.ymax]}svg(e){let r="<g> ";for(const i of this.liste)r+=`
`+i.svg(e);return r+=`<animateTransform
  attributeName="transform"
  type="rotate"
  from="0 ${this.O.xSVG(e)} ${this.O.ySVG(e)}"
  to="${-this.angle} ${this.O.xSVG(e)} ${this.O.ySVG(e)}"
  ${this.animation}
  />`,r+="</g>",r}tikz(){return""}}function gm(t,e,r,i='begin="0s" dur="2s" repeatCount="indefinite"'){return new xAe(t,e,r,i)}class wAe extends br{constructor(e,r,i='begin="0s" dur="2s" repeatCount="indefinite"'){super(),this.p=e,this.d=r,this.animation=i;const n=gi([e,_a(e,r)]);this.bordures=[n.xmin,n.ymin,n.xmax,n.ymax]}svg(e){const r=this.p.binomesXY(e),n=_a(this.p,this.d).binomesXY(e);return`<polygon stroke="${this.p.color[0]}" stroke-width="${this.p.epaisseur}" fill="${this.p.couleurDeRemplissage[0]}" >
    <animate attributeName="points" ${this.animation}
    from="${r}"
    to="${n}"
    />
    </polygon>`}tikz(){return""}}function sk(t,e,r='begin="0s" dur="2s" repeatCount="indefinite"'){return new wAe(t,e,r)}const Hs=px({addDependencies:tx,detDependencies:MT,divideDependencies:NT,indexDependencies:sge,invDependencies:lx,matrixDependencies:pa,multiplyDependencies:jp,parseDependencies:ux,subsetDependencies:rx,transposeDependencies:nge,zerosDependencies:Rp,fractionDependencies:ix},{epsilon:1e-12,matrix:"Array",number:"Fraction",precision:64,predictable:!1,randomSeed:null});class Ky{constructor(e){this._data=Array.isArray(e)?e:Hs.zeros(e,e).valueOf(),this.dim=this._data.length}determinant(){return Hs.det(this._data)}inverse(){return Hs.det(this._data)!==0?Kn(Hs.inv(this._data)):new Ky(Hs.zeros(this.dim,this.dim).valueOf())}subset(e,r){const i=Hs.subset(this._data,Hs.index(e,r));return typeof i=="number"?i:Kn(i)}getValue(e,r){return Hs.subset(this._data,Hs.index(e,r))}transpose(){return Kn(Hs.transpose(this._data))}multiply(e){const r=e._data??e,i=Hs.multiply(this._data,r);return Array.isArray(i)?Kn(i):i}add(e){return Kn(Hs.add(this._data,e))}divide(e){return Kn(Hs.divide(this._data,e))}toTex(){return Hs.parse(this.toString()).toTex().replaceAll("bmatrix","pmatrix")}toArray(){return this._data}toString(){return"["+this._data.map(e=>"["+e.join(",")+"]").join(",")+"]"}texDet(){let e="";for(let r=0;r<this._data.length;r++)e+=`${this._data[r].join(" & ")}`,r<this._data.length-1&&(e+="\\\\");return`\\begin{vmatrix}
${e}
\\end{vmatrix}`}reduite(e,r){const i=cf(0,this.dim-1,e),n=cf(0,this.dim-1,r);return Kn(Hs.subset(this._data,Hs.index(i,n)))}}function Kn(t){if(Array.isArray(t)||typeof t=="number")return new Ky(t);if(t._data!=null)return new Ky(t._data);throw new Error("Invalid argument for matrice()")}function Dn(t,e,r,i=[0,0],n=1){e.length===2&&e.push(1);const a=r[0],s=r[1],o=i[0],l=i[1],u=n,c=Kn([[1,0,a],[0,1,s],[0,0,1]]),h=Kn([[1,0,-a],[0,1,-s],[0,0,1]]);let p;switch(t){case 1:p=Kn([[0,1,0],[1,0,0],[0,0,1]]).multiply(h);break;case 2:p=Kn([[0,-1,0],[-1,0,0],[0,0,1]]).multiply(h);break;case 3:p=Kn([[1,0,0],[0,-1,0],[0,0,1]]).multiply(h);break;case 4:p=Kn([[-1,0,0],[0,1,0],[0,0,1]]).multiply(h);break;case 5:p=Kn([[0,-1,0],[1,0,0],[0,0,1]]).multiply(h);break;case 6:p=Kn([[0,1,0],[-1,0,0],[0,0,1]]).multiply(h);break;case 7:p=Kn([[-1,0,0],[0,-1,0],[0,0,1]]).multiply(h);break;case 11:p=Kn([[.5,-Math.sin(Math.PI/3),0],[Math.sin(Math.PI/3),.5,0],[0,0,1]]).multiply(h);break;case 12:p=Kn([[.5,Math.sin(Math.PI/3),0],[-Math.sin(Math.PI/3),.5,0],[0,0,1]]).multiply(h);break;case 13:p=Kn([[-.5,-Math.sin(Math.PI/3),0],[Math.sin(Math.PI/3),-.5,0],[0,0,1]]).multiply(h);break;case 14:p=Kn([[-.5,Math.sin(Math.PI/3),0],[-Math.sin(Math.PI/3),-.5,0],[0,0,1]]).multiply(h);break;case 8:p=Kn([[1,0,o],[0,1,l],[0,0,1]]).multiply(h);break;case 9:p=Kn([[u,0,0],[0,u,0],[0,0,1]]).multiply(h);break;case 10:p=Kn([[1/u,0,0],[0,1/u,0],[0,0,1]]).multiply(h);break}const d=p.multiply(e),m=c.multiply(d);return typeof m.toArray=="function"?m.toArray().slice(0,2):Array.isArray(m)?m.slice(0,2):[0,0]}const MAe=!0,kAe="mathLive",CAe=!0,NAe="AMCHybride";class SAe extends Os{constructor(){super(),this.nbQuestions=1,this.nbQuestionsModifiable=!1,this.besoinFormulaireNumerique=["Transformations",4,` 1 : Symétries axiales
 2 : Symétries centrales
 3 : Translations
 4 : Rotations
 5 : Homothéties
`],this.listeAvecNumerotation=!1,this.besoinFormulaire2Texte=["Choix des pavages",`Nombres séparés par des tirets :
Choix entre 1 et 7
Choix 8 pour un mélange de tous les pavages`],this.sup2=1,this.sup=1,this.level=6}nouvelleVersion(e){const r=[],i=[];this.level===3?(this.besoinFormulaireNumerique=!1,this.besoinFormulaire2Texte=!1,this.sup=4):this.level===4?this.sup=3:this.level===5?this.sup=2:this.sup=1;const n=[[5,5,4,0,4,4,0,4,30,0],[5,5,6,0,8,8,0,6,60,-9],[5,5,8,0,4,4,2,8,50,0],[5,5,4,0,6,4,0,6,50,11],[4,6,8,0,7,4,-1,4,50,0],[5,5,8,0,4,4,0,8,50,0],[5,5,4,0,3,2*Math.sin(Math.PI/3),2,4*Math.sin(Math.PI/3),20,20],[4,4,3,1,4,4,1,3,20,-18]],a=[],s=[];let o,l,u,c,h,p,d,m,f,v,y,x,g,b,k,w,N,A,$,D,_,T,z,P,q,L,Z,W,Y,ie,re,R,X,E,oe,le,ne,H,ue,ae,$e,Ne,ze,Te,Qe,nt="",rt="";const Ue=[],lt=[],J=[],me=[];let Oe=[],te;switch(this.sup){case 1:te=0;break;case 2:te=ge(0,7);break;case 3:te=ge(0,7);break;case 4:default:te=0;break}Oe=n[te];let fe,xe,Ee;const Me=Oe[0],Le=Oe[1];let st=Oe[2],mt=Oe[3],ft=Oe[4],Pe=Oe[5],We=Oe[6],ot=Oe[7];const jt=Oe[8],Er=Oe[9],U=be(0,0);te!==0?(fe=vi(be(st,mt),U,Er,22/jt),xe=vi(be(ft,Pe),U,Er,22/jt),Ee=vi(be(We,ot),U,Er,22/jt),st=fe.x,mt=fe.y,ft=xe.x,Pe=xe.y,We=Ee.x,ot=Ee.y):(fe=be(st,mt),xe=be(ft,Pe),Ee=be(We,ot));const Se=st+ft-We,Ke=mt+Pe-ot,gt=Zi(fe,xe),ar=Zi(Ee,xe),vr=ft+We-st,Ii=Pe+ot-mt;let un,An,oa,Bt=[0,0,0],wr=!1,tr,Di,la,Mr=0,O=0,j,at,Q,ke=0,si=0,ct,Pr,ka,Yt=0,xi=0,Fi,Fn,De,Xn=0,Fe=0,Ws=0,Ta=0,Kr=0,Yi=0,yr=0,Jo=0,po=0,Qu=0,vm=0,Q0=0;const el=Pt(["S","T","L","W","R","G","E","F","G","K"]),Wa=Pt(["S","T","L","W","R","G","E","F","G","K"],[el]),Nh=Pt(["S","T","L","W","R","G","E","F","G","K"],[el,Wa]),X2=Math.min(-1,Le*vr),Q2=Math.max(Me*Se+1,Me*Se+Le*vr+1),J2=Math.min(-1,Me*Ke),eg=Math.max(Me*Ke+Le*Ii+1,Le*Ii+1);for(let Et=0;Et<Le;Et++)for(let ep=0;ep<Me;ep++)un=Math.round((ep*Se+Et*vr)*100)/100,An=Math.round((ep*Ke+Et*Ii)*100)/100,oa=2*ep+4*Et*Me,Ue.push([un,An,oa]),a[oa]=xr(er(U,fe,xe,Ee),Jt(un,An)),s[oa]=xr(er(U,fe,xe,Ee),Jt(un,An)),lt.push([un+Math.round(st*100)/100,An+Math.round(mt*100)/100,oa+1]),a[oa+1]=xr(zt(er(U,fe,xe,Ee),gt,180),Jt(un,An)),s[oa+1]=xr(zt(er(U,fe,xe,Ee),gt,180),Jt(un,An)),me.push([un+Math.round(We*100)/100,An+Math.round(ot*100)/100,oa+2*Me]),a[oa+2*Me]=xr(zt(er(U,fe,xe,Ee),ar,180),Jt(un,An)),s[oa+2*Me]=xr(zt(er(U,fe,xe,Ee),ar,180),Jt(un,An)),J.push([un+Math.round(ft*100)/100,An+Math.round(Pe*100)/100,oa+2*Me+1]),a[oa+2*Me+1]=xr(xr(er(U,fe,xe,Ee),Jt(U,xe)),Jt(un,An)),s[oa+2*Me+1]=xr(xr(er(U,fe,xe,Ee),Jt(U,xe)),Jt(un,An));for(let Et=0;Et<a.length;Et++)r.push(a[Et],Ql(String(Et),h7(a[Et],"","center"),0,"black",1,"milieu",!1)),s[Et].color=Ze(o3("gray",50)),i.push(s[Et],Ql(String(Et),h7(a[Et],"","center"),0,o3("gray",50),1,"milieu",!1));let Ya,Pn,Ca,Ka,J0,m0,eu,tu;switch(parseInt(this.sup)){case 1:for(tr=ge(0,Me*Le-1),Di=Ue[tr][2],R=ge(0,Me*Le-1,[tr]),Mr=me[R][0],O=me[R][1],Bt=Dn(2,[Ue[tr][0],Ue[tr][1]],[Mr,O]),wr=!1;wr===!1;){for(let Et=0;Et<Me*Le;Et++)if(lr(Bt[0],J[Et][0],.05)&&lr(Bt[1],J[Et][1],.05)){wr=!0,Fi=Ue[Et][2],Kr=Ue[tr][0],Yi=Ue[tr][1],d=m7(be(Kr,Yi),be(Bt[0],Bt[1]),"","green"),d.epaisseur=2,E=He(be(Kr,Yi),Zi(be(Kr,Yi),be(Bt[0],Bt[1])),"green"),oe=He(be(Bt[0],Bt[1]),Zi(be(Kr,Yi),be(Bt[0],Bt[1])),"green"),E.epaisseur=2,E.pointilles=2,oe.epaisseur=2,oe.pointilles=2,i.push(Qr(zs(d,1,""),Zi(be(Kr,Yi),be(Bt[0],Bt[1])),be(Kr,Yi),"green",.8,1)),a[Di].couleurDeRemplissage=Ze("green"),a[Di].opaciteDeRemplissage=.6;break}wr===!1&&(tr=ge(0,Me*Le-1),Di=Ue[tr][2],R=ge(0,Me*Le-1,[tr]),Mr=me[R][0],O=me[R][1],Bt=Dn(2,[Ue[tr][0],Ue[tr][1]],[Mr,O]))}for(J0=ut(0)+" Quel est le numéro de la figure symétrique de la figure "+ye(`${Di}`,"green")+` dans la symétrie d'axe  $${Ge("(d_1)","green")}$  ?`+gr(this,0,"")+"<br>",nt+=J0,rt+=ut(0)+" La figure symétrique de la figure "+ye(`${Di}`,"green")+` dans la symétrie d'axe  $${Ge("(d_1)","green")}$  porte le numéro ${ye(String(Fi))}.<br>`,j=ge(0,Me*Le-1),at=me[j][2],re=ge(0,Me*Le-1,[j]),ke=Ue[re][0],si=Ue[re][1],Bt=Dn(1,[me[j][0],me[j][1]],[ke,si]),wr=!1;wr===!1;){for(let Et=0;Et<Me*Le;Et++)if(lr(Bt[0],lt[Et][0],.05)&&lr(Bt[1],lt[Et][1],.05)){wr=!0,Fn=lt[Et][2],Ws=me[j][0],Ta=me[j][1]-4,m=m7(be(Ws,Ta+4),be(Bt[0],Bt[1]),"","red"),m.epaisseur=2,le=He(be(Ws,Ta+4),Zi(be(Ws,Ta+4),be(Bt[0],Bt[1])),"red"),ne=He(be(Bt[0],Bt[1]),Zi(be(Ws,Ta+4),be(Bt[0],Bt[1])),"red"),le.epaisseur=2,le.pointilles=2,ne.epaisseur=2,ne.pointilles=2,i.push(Qr(zs(m,1,""),Zi(be(Ws,Ta+4),be(Bt[0],Bt[1])),be(Ws,Ta+4),"red",.8,1)),a[at].couleurDeRemplissage=Ze("red"),a[at].opaciteDeRemplissage=.6;break}wr===!1&&(j=ge(0,Me*Le-1),at=me[j][2],re=ge(0,Me*Le-1,[j]),ke=Ue[re][0],si=Ue[re][1],Bt=Dn(1,[me[j][0],me[j][1]],[ke,si]))}for(m0=ut(1)+" Quel est le numéro de la figure symétrique de la figure "+ye(`${at}`,"red")+` dans la symétrie d'axe  $${Ge("(d_2)","red")}$  ?`+gr(this,1,"")+"<br>",nt+="<br>"+m0,rt+="<br>"+ut(1)+" La figure symétrique de la figure "+ye(`${at}`,"red")+` dans la symétrie d'axe  $${Ge("(d_2)","red")}$  porte le numéro ${ye(String(Fn))}.<br>`,ct=ge(0,Me*Le-1),Pr=J[ct][2],X=ge(0,4,Math.floor(ct/5))*5,Yt=J[X][0],xi=J[X][1],Bt=Dn(3,[J[ct][0],J[ct][1]],[Yt,xi]),wr=!1;wr===!1;){for(let Et=0;Et<Me*Le;Et++)if(lr(Bt[0],J[Et][0],.05)&&lr(Bt[1],J[Et][1],.05)){wr=!0,De=lt[Et][2],Xn=J[ct][0],Fe=J[ct][1],f=m7(be(Xn,Fe),be(Bt[0],Bt[1]),"","blue"),f.epaisseur=2,H=He(be(Xn,Fe),Zi(be(Xn,Fe),be(Bt[0],Bt[1])),"blue"),ue=He(be(Bt[0],Bt[1]),Zi(be(Xn,Fe),be(Bt[0],Bt[1])),"blue"),H.epaisseur=2,H.pointilles=2,ue.epaisseur=2,ue.pointilles=2,i.push(Qr(zs(f,1,""),Zi(be(Xn,Fe),be(Bt[0],Bt[1])),be(Xn,Fe),"blue",.8,1)),a[Pr].couleurDeRemplissage=Ze("blue"),a[Pr].opaciteDeRemplissage=.6;break}if(wr===!1){ct=ge(0,Me*Le-1),Pr=J[ct][2];const Et=ge(0,4,Math.floor(ct/5))*5;Yt=J[Et][0],xi=J[Et][1],Bt=Dn(3,[J[ct][0],J[ct][1]],[Yt,xi])}}if(eu=ut(2)+" Quel est le numéro de la figure symétrique de la figure "+ye(`${Pr}`,"blue")+` dans la symétrie d'axe  $${Ge("(d_3)","blue")}$  ?`+gr(this,2,"")+"<br>",nt+="<br>"+eu,rt+="<br>"+ut(2)+" La figure symétrique de la figure "+ye(`${Pr}`,"blue")+` dans la symétrie d'axe  $${Ge("(d_3)","blue")}$  porte le numéro ${ye(String(De))}.<br>`,d==null||m==null||f==null||Fi==null||Fn==null||De==null)throw Error("mediatrice1, mediatrice2 ou mediatrice3 ou num1, num2 ou num3 est null");r.push(d,m,f),i.push(d,m,f),i.push(sk(a[Di],d,`id="anim${e}A" dur ="2s" repeatcount="1"`),sk(a[at],m,`id="anim${e}B" dur="2s" repeatcount="1"`),sk(a[Pr],f,`id="anim${e}C" dur="2s" repeatcount="1"`)),Ca=Du(d,xf(be(Tt.fenetreMathalea2d[2],Tt.fenetreMathalea2d[3]))),Ka=Du(d,td(be(Tt.fenetreMathalea2d[0],Tt.fenetreMathalea2d[1]))),Ca.x>Ka.x?(r.push(Gi("(d_1)",Ca.x,Ca.y-2.5,"green",20,10,"",12)),i.push(Gi("(d_1)",Ca.x,Ca.y-2.5,"green",20,10,"",12))):(r.push(Gi("(d_1)",Ka.x+2.5,Ka.y,"green",20,10,"",12)),i.push(Gi("(d_1)",Ka.x+2.5,Ka.y,"green",20,10,"",12))),Ca=Du(m,xf(be(Tt.fenetreMathalea2d[0],Tt.fenetreMathalea2d[1]))),Ka=Du(m,td(be(Tt.fenetreMathalea2d[0],Tt.fenetreMathalea2d[1]))),Ca.x>Ka.x?(r.push(Gi("(d_2)",Ca.x,Ca.y+2.5,"red",20,10,"",12)),i.push(Gi("(d_2)",Ca.x,Ca.y+2.5,"red",20,10,"",12))):Ca.x<Ka.x?(r.push(Gi("(d_2)",Ka.x+2.5,Ka.y,"red",20,10,"",12)),i.push(Gi("(d_2)",Ka.x+2.5,Ka.y,"red",20,10,"",12))):(r.push(Gi("(d_2)",Ka.x+3.5,Ka.y+1,"red",20,10,"",12)),i.push(Gi("(d_2)",Ka.x+3.5,Ka.y+1,"red",20,10,"",12))),Ca=Du(f,td(be(Tt.fenetreMathalea2d[2],Tt.fenetreMathalea2d[3]))),r.push(Gi("(d_3)",Ca.x-2,Ca.y+1.5,"blue",20,10,"",12)),i.push(Gi("(d_3)",Ca.x-2,Ca.y+1.5,"blue",20,10,"",12)),i.push(E,oe,le,ne,H,ue),i.push(ui("OO","green",E,oe)),i.push(ui("XX","red",le,ne)),i.push(ui("|||","blue",H,ue)),tu=ci(Object.assign({pixelsParCm:15,scale:.3,optionsTikz:["every node/.style={scale=0.6}"]},gi(r,{rxmin:-1,rxmax:1,rymin:-1,rymax:1})),r),nt+=tu,c=xr(a[Fi],Jt(0,0)),c.couleurDeRemplissage=Ze("green"),c.opaciteDeRemplissage=.3,h=xr(a[Fn],Jt(0,0)),h.couleurDeRemplissage=Ze("red"),h.opaciteDeRemplissage=.3,p=xr(a[De],Jt(0,0)),p.couleurDeRemplissage=Ze("blue"),p.opaciteDeRemplissage=.3,i.push(a[Di],a[at],a[Pr],c,h,p),rt+=ci({xmin:X2,xmax:Q2,ymin:J2,ymax:eg,pixelsParCm:15,scale:.3,optionsTikz:["every node/.style={scale=0.6}"],mainlevee:!1},i);break;case 2:for(tr=ge(0,Me*Le-1),Di=Ue[tr][2],la=ge(0,Me*Le-1,tr),Mr=(st+ft)/2+lt[la][0]-st,O=(mt+Pe)/2+lt[la][1]-mt,Bt=Dn(7,[J[tr][0],J[tr][1]],[Mr,O]),wr=!1;wr===!1;){for(let Et=0;Et<Me*Le;Et++)if(lr(Bt[0],lt[Et][0],.05)&&lr(Bt[1],lt[Et][1],.05)){wr=!0,Fi=lt[Et][2],Kr=Ue[tr][0],Yi=Ue[tr][1],v=be(Mr,O,el,"left"),a[Di].couleurDeRemplissage=Ze("green"),a[Di].opaciteDeRemplissage=.6;break}wr===!1&&(tr=ge(0,Me*Le-1),Di=Ue[tr][2],la=ge(0,Me*Le-1,tr),Mr=(st+ft)/2+lt[la][0]-st,O=(mt+Pe)/2+lt[la][1]-mt,Bt=Dn(7,[J[tr][0],J[tr][1]],[Mr,O]))}for(J0=ut(0)+ye(` Quel est le numéro de la figure symétrique de la figure ${Di} dans la symétrie de centre ${el} ?`,"green")+gr(this,0,"")+"<br>",nt+=J0,rt=ut(0)+ye(` La figure symétrique de la figure ${Di} dans la symétrie de centre ${el} porte le numéro ${Fi}.<br>`,"green"),j=ge(0,Me*Le-1),at=me[j][2],Q=ge(0,Me*Le-1,[j]),ke=(We+ft)/2+me[Q][0]-We,si=(ot+Pe)/2+me[Q][1]-ot,Bt=Dn(7,[me[j][0],me[j][1]],[ke,si]),wr=!1;wr===!1;){for(let Et=0;Et<Me*Le;Et++)if(lr(Bt[0],J[Et][0],.05)&&lr(Bt[1],J[Et][1],.05)){wr=!0,Fn=Ue[Et][2],Ws=Ue[j][0],Ta=Ue[j][1],y=be(ke,si,Wa,"left"),a[at].couleurDeRemplissage=Ze("red"),a[at].opaciteDeRemplissage=.6;break}wr===!1&&(j=ge(0,Me*Le-1),at=me[j][2],Q=ge(0,Me*Le-1,[j]),ke=(We+ft)/2+me[Q][0]-We,si=(ot+Pe)/2+me[Q][1]-ot,Bt=Dn(7,[me[j][0],me[j][1]],[ke,si]))}for(m0=ut(1)+ye(` Quel est le numéro de la figure symétrique de la figure ${at} dans la symétrie de centre ${Wa} ?`,"red")+gr(this,1,"")+"<br>",nt+="<br>"+m0,rt+=ut(1)+ye(` La figure symétrique de la figure ${at} dans la symétrie de centre ${Wa} porte le numéro ${Fn}.<br>`,"red"),ct=ge(0,Me*Le-1),Pr=J[ct][2],ka=ge(0,Me*Le-1,[ct]),Yt=We/2+J[ka][0],xi=ot/2+J[ka][1],Bt=Dn(7,[J[ct][0]+ft,J[ct][1]+Pe],[Yt,xi]),wr=!1;wr===!1;){for(let Et=0;Et<Me*Le;Et++)if(lr(Bt[0],me[Et][0],.01)&&lr(Bt[1],me[Et][1],.01)){wr=!0,De=me[Et][2],Xn=Ue[ct][0],Fe=Ue[ct][1],x=be(Yt,xi,Nh,"left"),a[Pr].couleurDeRemplissage=Ze("blue"),a[Pr].opaciteDeRemplissage=.6;break}wr===!1&&(ct=ge(0,Me*Le-1),Pr=J[ct][2],ka=ge(0,Me*Le-1,[ct]),Yt=We/2+J[ka][0],xi=ot/2+J[ka][1],Bt=Dn(7,[J[ct][0]+ft,J[ct][1]+Pe],[Yt,xi]))}if(v==null||y==null||x==null||Fi==null||Fn==null||De==null)throw Error("centre1, centre2 ou centre3 ou num1, num2 ou num3 est null");eu=ut(2)+ye(` Quel est le numéro de la figure symétrique de la figure ${Pr} dans la symétrie de centre ${Nh} ?`,"blue")+gr(this,2,"")+"<br>",nt+="<br>"+eu,rt+=ut(2)+ye(` La figure symétrique de la figure ${Pr} dans la symétrie de centre ${Nh} porte le numéro ${De}.<br>`,"blue"),o=Cn(v,"red"),o.epaisseur=2,o.taille=2,l=Cn(y,"red"),l.epaisseur=2,l.taille=2,u=Cn(x,"red"),u.epaisseur=2,u.taille=2,r.push(o,l,u,ma(v,"red"),ma(y,"red"),ma(x,"red")),i.push(o,l,u,ma(v,"red"),ma(y,"red"),ma(x,"red")),i.push(gm(a[Di],v,180,`id="anim${e}A" dur ="2s" repeatcount="1"`),gm(a[at],y,180,`id="anim${e}B" dur="2s" repeatcount="1"`),gm(a[Pr],x,180,`id="anim${e}C" dur="2s" repeatcount="1"`)),tu=ci(Object.assign({pixelsParCm:15,scale:.3,optionsTikz:["every node/.style={scale=0.6}"]},gi(r,{rxmin:-1,rxmax:1,rymin:-1,rymax:1})),r),nt+=tu,c=xr(a[Fi],Jt(0,0)),c.couleurDeRemplissage=Ze("green"),c.opaciteDeRemplissage=.3,h=xr(a[Fn],Jt(0,0)),h.couleurDeRemplissage=Ze("red"),h.opaciteDeRemplissage=.3,p=xr(a[De],Jt(0,0)),p.couleurDeRemplissage=Ze("blue"),p.opaciteDeRemplissage=.3,g=ni(be(Ue[tr][0],Ue[tr][1]),v,180),w=He(be(Ue[tr][0],Ue[tr][1]),v),N=zt(w,v,180),w.pointilles=2,N.pointilles=2,g.pointilles=2,b=ni(be(me[j][0],me[j][1]),y,180),A=He(be(me[j][0],me[j][1]),y),$=zt(A,y,180),A.pointilles=2,$.pointilles=2,b.pointilles=2,k=ni(be(J[ct][0],J[ct][1]),x,180),D=He(be(J[ct][0],J[ct][1]),x),_=zt(D,x,180),D.pointilles=2,_.pointilles=2,k.pointilles=2,i.push(c,h,p,g,b,k,w,N,A,$,D,_),rt+=ci({xmin:X2,xmax:Q2,ymin:J2,ymax:eg,pixelsParCm:15,scale:.3,optionsTikz:["every node/.style={scale=0.6}"],mainlevee:!1},i);break;case 3:for(tr=ge(0,Me*Le-1),Di=Ue[tr][2],ae=ge(0,Me*Le-1),$e=ge(0,Me*Le-1,[ae]),yr=lt[$e][0]-lt[ae][0],Jo=lt[$e][1]-lt[ae][1],Bt=Dn(8,[Ue[tr][0],Ue[tr][1]],[0,0],[yr,Jo]),wr=!1;wr===!1;){for(let Et=0;Et<Me*Le;Et++)if(lr(Bt[0],Ue[Et][0],.05)&&lr(Bt[1],Ue[Et][1],.05)){wr=!0,Fi=Ue[Et][2],Kr=Ue[tr][0],Yi=Ue[tr][1],W=be(lt[ae][0],lt[ae][1]),q=Jt(W,be(lt[$e][0],lt[$e][1])),T=q.representant(W),T.color=Ze("green"),T.epaisseur=2,T.pointilles=2,a[Di].couleurDeRemplissage=Ze("green"),a[Di].opaciteDeRemplissage=.6;break}wr===!1&&(tr=ge(0,Me*Le-1),Di=Ue[tr][2],ae=ge(0,Me*Le-1),$e=ge(0,Me*Le-1,[ae]),yr=lt[$e][0]-lt[ae][0],Jo=lt[$e][1]-lt[ae][1],Bt=Dn(8,[Ue[tr][0],Ue[tr][1]],[0,0],[yr,Jo]))}for(J0=ut(0)+ye(` Dans la translation qui transforme la figure ${lt[ae][2]} en la figure ${lt[$e][2]}, quel est le numéro de l'image de la figure ${Di} ?`,"green")+gr(this,0,"")+"<br>",nt+=J0,rt=ut(0)+ye(` La figure image de la figure ${Di}  dans la translation qui transforme la figure ${lt[ae][2]} en la figure ${lt[$e][2]} porte le numéro ${Fi}.<br>`,"green"),j=ge(0,Me*Le-1),at=me[j][2],ze=ge(0,Me*Le-1),Te=ge(0,Me*Le-1,[ze]),po=Ue[Te][0]-J[ze][0],Qu=Ue[Te][1]-J[ze][1],Bt=Dn(8,[me[j][0],me[j][1]],[0,0],[po,Qu]),wr=!1;wr===!1;){for(let Et=0;Et<Me*Le;Et++)if(lr(Bt[0],lt[Et][0],.05)&&lr(Bt[1],lt[Et][1],.05)){wr=!0,Fn=lt[Et][2],Ws=me[j][0],Ta=me[j][1],Y=be(J[ze][0],J[ze][1]),L=Jt(Y,be(Ue[Te][0],Ue[Te][1])),z=L.representant(Y),z.color=Ze("red"),z.epaisseur=2,z.pointilles=2,a[at].couleurDeRemplissage=Ze("red"),a[at].opaciteDeRemplissage=.6;break}wr===!1&&(j=ge(0,Me*Le-1),at=me[j][2],ze=ge(0,Me*Le-1),Te=ge(0,Me*Le-1,[ze]),po=Ue[Te][0]-J[ze][0],Qu=Ue[Te][1]-J[ze][1],Bt=Dn(8,[me[j][0],me[j][1]],[0,0],[po,Qu]))}for(m0=ut(1)+ye(` Dans la translation qui transforme la figure ${J[ze][2]} en la figure ${Ue[Te][2]}, quel est le numéro de l'image de la figure ${at} ?`,"red")+gr(this,1,"")+"<br>",nt+="<br>"+m0,rt+=ut(1)+ye(` La figure image de la figure ${at}  dans la translation qui transforme la figure ${J[ze][2]} en la figure ${Ue[Te][2]} porte le numéro ${Fn}.<br>`,"red"),ct=ge(0,Me*Le-1),Pr=J[ct][2],Qe=ge(0,Me*Le-1),Ne=ge(0,Me*Le-1,[Qe]),vm=Ue[Ne][0]-J[Qe][0],Q0=Ue[Ne][1]-J[Qe][1],Bt=Dn(8,[J[ct][0],J[ct][1]],[0,0],[vm,Q0]),wr=!1;wr===!1;){for(let Et=0;Et<Me*Le;Et++)if(lr(Bt[0],Ue[Et][0],.05)&&lr(Bt[1],Ue[Et][1],.05)){wr=!0,De=Ue[Et][2],Xn=J[ct][0],Fe=J[ct][1],ie=be(J[Qe][0],J[Qe][1]),Z=Jt(ie,be(Ue[Ne][0],Ue[Ne][1])),P=Z.representant(ie),P.color=Ze("blue"),P.epaisseur=2,P.pointilles=2,a[Pr].couleurDeRemplissage=Ze("blue"),a[Pr].opaciteDeRemplissage=.6;break}wr===!1&&(ct=ge(0,Me*Le-1),Pr=J[ct][2],Qe=ge(0,Me*Le-1),Ne=ge(0,Me*Le-1,[Qe]),vm=Ue[Ne][0]-J[Qe][0],Q0=Ue[Ne][1]-J[Qe][1],Bt=Dn(8,[J[ct][0],J[ct][1]],[0,0],[vm,Q0]))}if(Fi==null||Fn==null||De==null||q==null||L==null||Z==null)throw Error("num1, num2 ou num3 est null");eu=ut(2)+ye(` Dans la translation qui transforme la figure ${J[Qe][2]} en la figure ${Ue[Ne][2]}, quel est le numéro de l'image de la figure ${Pr} ?`,"blue")+gr(this,2,"")+"<br>",nt+="<br>"+eu,rt+=ut(2)+ye(` La figure image de la figure ${Pr}  dans la translation qui transforme la figure ${J[Qe][2]} en la figure ${Ue[Ne][2]} porte le numéro ${De}.<br>`,"blue"),r.push(T,z,P),i.push(T,z,P),i.push(ak(a[Di],q,`id="anim${e}A" dur="2s" repeatcount="1"`),ak(a[at],L,`id="anim${e}B" dur="2s" repeatcount="1"`),ak(a[Pr],Z,`id="anim${e}C" dur="2s" repeatcount="1"`)),tu=ci(Object.assign({pixelsParCm:15,scale:.3,optionsTikz:["every node/.style={scale=0.6}"]},gi(r,{rxmin:-1,rxmax:1,rymin:-1,rymax:1})),r),nt+=tu,c=xr(a[Fi],Jt(0,0)),c.couleurDeRemplissage=Ze("green"),c.opaciteDeRemplissage=.3,h=xr(a[Fn],Jt(0,0)),h.couleurDeRemplissage=Ze("red"),h.opaciteDeRemplissage=.3,p=xr(a[De],Jt(0,0)),p.couleurDeRemplissage=Ze("blue"),p.opaciteDeRemplissage=.3,w=q.representant(be(Kr,Yi)),w.color=Ze("green"),w.epaisseur=2,A=L.representant(be(Ws,Ta)),A.color=Ze("red"),A.epaisseur=2,D=Z.representant(be(Xn,Fe)),D.color=Ze("blue"),D.epaisseur=2,i.push(c,h,p,w,A,D),rt+=ci({xmin:X2,xmax:Q2,ymin:J2,ymax:eg,pixelsParCm:15,scale:.3,optionsTikz:["every node/.style={scale=0.6}"],mainlevee:!1},i);break;case 4:for(tr=ge(0,Me*Le-1),Di=Ue[tr][2],la=ge(0,Me*Le-1,[tr]),Mr=Ue[la][0],O=Ue[la][1],Bt=Dn(6,[lt[tr][0],lt[tr][1]],[Mr,O]),wr=!1;wr===!1;){for(let Et=0;Et<Me*Le;Et++)if(lr(Bt[0],me[Et][0],.1)&&lr(Bt[1],me[Et][1],.1)){wr=!0,Fi=me[Et][2],Kr=Ue[tr][0],Yi=Ue[tr][1],v=be(Mr,O,el,"above left"),a[Di].couleurDeRemplissage=Ze("green"),a[Di].opaciteDeRemplissage=.6;break}wr===!1&&(tr=ge(0,Me*Le-1),Di=Ue[tr][2],la=ge(0,Me*Le-1,[tr]),Mr=Ue[la][0],O=Ue[la][1],Bt=Dn(6,[lt[tr][0],lt[tr][1]],[Mr,O]))}for(J0=ut(0)+" Quel est le numéro de la figure image de la figure "+ye(`${Di}`,"green")+" dans la rotation de centre "+ye(`${el}`,"green")+" et d'angle 90° dans le sens des aiguilles d'une montre ?"+gr(this,0,"")+"<br>",nt+=J0,rt+=ut(0)+" La figure image de la figure "+ye(`${Di}`,"green")+" dans la rotation de centre "+ye(`${el}`,"green")+" et d'angle 90° dans le sens des aiguilles d'une montre porte le numéro "+ye(`${Fi}`,"#f15929")+".<br>",j=ge(0,Me*Le-1),at=me[j][2],Q=ge(0,Me*Le-1,[j]),ke=lt[Q][0],si=lt[Q][1],Bt=Dn(5,[me[j][0],me[j][1]],[ke,si]),wr=!1;wr===!1;){for(let Et=0;Et<Me*Le;Et++)if(lr(Bt[0],4+J[Et][0],.1)&&lr(Bt[1],J[Et][1],.1)){wr=!0,Fn=J[Et][2],Ws=Ue[j][0],Ta=Ue[j][1],y=be(ke,si,Wa,"above left"),a[at].couleurDeRemplissage=Ze("red"),a[at].opaciteDeRemplissage=.6;break}wr===!1&&(j=ge(0,Me*Le-1),at=me[j][2],Q=ge(0,Me*Le-1,[j]),ke=lt[Q][0],si=lt[Q][1],Bt=Dn(5,[me[j][0],me[j][1]],[ke,si]))}for(m0=ut(1)+" Quel est le numéro de la figure image de la figure "+ye(`${at}`,"red")+" dans la rotation de centre "+ye(`${Wa}`,"red")+" et d'angle 90° dans le sens contraire des aiguilles d'une montre ?"+gr(this,1,"")+"<br>",nt+="<br>"+m0,rt+="<br>"+ut(1)+" La figure image de la figure "+ye(`${at}`,"red")+" dans la rotation de centre "+ye(`${Wa}`,"red")+" et d'angle 90° dans le sens contraire des aiguilles d'une montre porte le numéro "+ye(`${Fn}`,"#f15929")+".<br>",ct=ge(0,Me*Le-1),Pr=J[ct][2],ka=ge(0,Me*Le-1,[ct]),Yt=lt[ka][0],xi=lt[ka][1],Bt=Dn(6,[J[ct][0],J[ct][1]],[Yt,xi]),wr=!1;wr===!1;){for(let Et=0;Et<Me*Le;Et++)if(lr(Bt[0],me[Et][0],.1)&&lr(Bt[1],4+me[Et][1],.1)){wr=!0,De=me[Et][2],Xn=Ue[ct][0],Fe=Ue[ct][1],x=be(Yt,xi,Nh,"above left"),a[Pr].couleurDeRemplissage=Ze("blue"),a[Pr].opaciteDeRemplissage=.6;break}wr===!1&&(ct=ge(0,Me*Le-1),Pr=J[ct][2],ka=ge(0,Me*Le-1,[ct]),Yt=lt[ka][0],xi=lt[ka][1],Bt=Dn(6,[J[ct][0],J[ct][1]],[Yt,xi]))}if(v==null||y==null||x==null||Fi==null||Fn==null||De==null)throw Error("centre1, centre2 ou centre3 ou num1, num2 ou num3 est null");eu=ut(2)+" Quel est le numéro de la figure image de la figure "+ye(`${Pr}`,"blue")+" dans la rotation de centre "+ye(`${Nh}`,"blue")+" et d'angle 90° dans le sens des aiguilles d'une montre ?"+gr(this,2,"")+"<br>",nt+="<br>"+eu,rt+="<br>"+ut(2)+" La figure image de la figure "+ye(`${Pr}`,"blue")+" dans la rotation de centre "+ye(`${Nh}`,"blue")+" et d'angle 90° dans le sens des aiguilles d'une montre porte le numéro "+ye(`${De}`,"#f15929")+".<br>",Ya=Cn(v,"green"),Pn=ma(v,"green"),Ya.epaisseur=2,Ya.taille=4,r.push(Ya,Pn),i.push(Ya,Pn),Ya=Cn(y,"red"),Pn=ma(y,"red"),Ya.epaisseur=2,Ya.taille=4,r.push(Ya,Pn),i.push(Ya,Pn),Ya=Cn(x,"blue"),Pn=ma(x,"blue"),Ya.epaisseur=2,Ya.taille=4,r.push(Ya,Pn),i.push(Ya,Pn),i.push(gm(a[Di],v,-90,`id="anim${e}A" dur ="2s" repeatcount="1"`),gm(a[at],y,90,`id="anim${e}B" dur="2s" repeatcount="1"`),gm(a[Pr],x,-90,`id="anim${e}C" dur="2s" repeatcount="1"`)),tu=ci(Object.assign({pixelsParCm:15,scale:.3,optionsTikz:["every node/.style={scale=0.6}"]},gi(r,{rxmin:-1,rxmax:1,rymin:-1,rymax:1})),r),nt+=tu,c=xr(a[Fi],Jt(0,0)),c.couleurDeRemplissage=Ze("green"),c.opaciteDeRemplissage=.3,h=xr(a[Fn],Jt(0,0)),h.couleurDeRemplissage=Ze("red"),h.opaciteDeRemplissage=.3,p=xr(a[De],Jt(0,0)),p.couleurDeRemplissage=Ze("blue"),p.opaciteDeRemplissage=.3,g=ni(be(Ue[tr][0],Ue[tr][1]),v,-90),w=He(be(Ue[tr][0],Ue[tr][1]),v,"green"),N=zt(w,v,-90),w.pointilles=2,N.pointilles=2,N.color=Ze("green"),g.pointilles=2,g.epaisseur=2,g.color=Ze("green"),b=ni(be(me[j][0],me[j][1]),y,90),A=He(be(me[j][0],me[j][1]),y,"red"),$=zt(A,y,90),A.pointilles=2,$.pointilles=2,$.color=Ze("red"),b.pointilles=2,b.epaisseur=2,b.color=Ze("red"),k=ni(be(J[ct][0],J[ct][1]),x,-90),D=He(be(J[ct][0],J[ct][1]),x,"blue"),_=zt(D,x,-90),D.pointilles=2,_.pointilles=2,_.color=Ze("blue"),k.pointilles=2,k.epaisseur=2,k.color=Ze("blue"),i.push(c,h,p,g,b,k,w,N,A,$,D,_,Qr(be(Ue[tr][0],Ue[tr][1]),v,zt(be(Ue[tr][0],Ue[tr][1]),v,-90),"green",1,1),Qr(be(me[j][0],me[j][1]),y,zt(be(me[j][0],me[j][1]),y,90),"red",1,1),Qr(be(J[ct][0],J[ct][1]),x,zt(be(J[ct][0],J[ct][1]),x,-90),"blue",1,1),ui("|||","green",w,N),ui("OO","red",A,$),ui("XXX","blue",D,_)),rt+=ci(Object.assign({},gi(i),{pixelsParCm:15,scale:.3,optionsTikz:["every node/.style={scale=0.6}"]}),i);break}mm(this,0,String(Fi)),mm(this,1,String(Fn)),mm(this,2,String(De)),rt+="<br>",rt+=`<button class="btn ui labeled icon button"  style="margin:10px" onclick="document.getElementById('anim${e}A').beginElement()"><i class="redo circle icon"></i>Relancer l'animation verte</button>`,rt+=`<button class="btn ui labeled icon button"  style="margin:10px" onclick="document.getElementById('anim${e}B').beginElement()"><i class="redo circle icon"></i>Relancer l'animation rouge</button>`,rt+=`<button class="btn ui labeled icon button"  style="margin:10px" onclick="document.getElementById('anim${e}C').beginElement()"><i class="redo circle icon"></i>Relancer l'animation bleue</button>`,this.listeQuestions.push(nt),this.listeCorrections.push(rt),Ove(this)}}const DAe=Object.freeze(Object.defineProperty({__proto__:null,amcReady:CAe,amcType:NAe,default:SAe,interactifReady:MAe,interactifType:kAe},Symbol.toStringTag,{value:"Module"}));function $G(t,e){const r=c3(t,e);let i=t/r,n=e/r;return i<0&&n<0&&([i,n]=[-i,-n]),i>0&&n<0&&([i,n]=[-i,-n]),[i,n]}function ok(t,e){return Math.abs(t)%Math.abs(e)===0?de(t/e,0):AAe($G(t,e)[0],$G(t,e)[1])}function AAe(t,e){return e===1?String(t):t*e>0?`\\dfrac{${de(Math.abs(t))}}{${de(Math.abs(e))}}`:t*e<0?`-\\dfrac{${de(Math.abs(t))}}{${de(Math.abs(e))}}`:"0"}const $Ae="11/04/2025",_Ae=!0,EAe="mathLive",IAe=!0,TAe="AMCHybride";class LAe extends Os{constructor(){super(),this.can=!1,this.nbQuestions=1,this.besoinFormulaireTexte=["Choix des transformations",`Choisir 3 nombres maximum, séparés par des tirets : 
 1 & 2 : Symétries obliques
 3 & 4 : Symétries horizontales ou verticales
 5 & 6 : Rotations de 90°
 7 : Symétrie centrale
 8 : Translation
 9 : Homothéties k>1
 10 : Homothéties k<1`],this.sup=1}nouvelleVersion(){const e=this.can?1:3,r=Xl({max:10,defaut:ge(1,10),nbQuestions:this.nbQuestions*e,saisie:this.sup,melange:11}).map(Number),i=be(0,0,"O","above right"),n=p1(i,1),a=xf(i),s=p1(i,-1),o=td(i);n.epaisseur=2,s.epaisseur=2,a.epaisseur=2,o.epaisseur=2,n.opacite=.5,s.opacite=.5,a.opacite=.5,o.opacite=.5;const l=["brown","green","blue","purple"],u=4,c=4,h=o1(cf(-3,3),1),p=o1(cf(-3,3),1);for(let d=0,m,f,v,y,x,g,b,k,w,N,A,$,D,_,T=0;d<this.nbQuestions&&T<50;){m="",f="",D=[],_=[];const z=[0,0,0],P=[0,0,0],q=[1,1,1],L=[[]],Z=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],W=[],Y=[],ie=[15],re=[44];N=[44],A=[];for(let E=0;E<10;E++)for(let oe=0;oe<10;oe++)w=Cn(be(oe-4,E-4),"gray"),w.taille=2,w.style="x",w.opacite=1,D.push(w),_.push(Cn(be(oe-4,E-4),o3("gray",50))),D.push(ia(Number(oe+10*E).toString(),oe-4.2,E-4.2,0,"black",.8,"milieu",!1,.8)),_.push(ia(Number(oe+10*E).toString(),oe-4.2,E-4.2,0,o3("gray",50),.8,"milieu",!1,.8));let R;for(let E=0;E<e;E++){for(v=h[E],v===0&&p[E]===0&&Rve(p,E),y=p[E],r[E]===10?q[E]=Pt([2,3,4])*ge(-1,1,[0]):r[E]===9&&(q[E]=Pt([1,1.5,2,2.5,3,4,5])*ge(-1,1,[0])),A=[],z[E]=ge(0,99,re),L[E]=Dn(r[E],[z[E]%10,Math.floor(z[E]/10)],[u,c],[v,y],q[E]),P[E]=L[E][0]+L[E][1]*10,r[E]===1&&P[E]%11===0&&(L[E][0]=-1),r[E]===3&&Math.floor(P[E]/10)===4&&(L[E][0]=-1),r[E]===4&&P[E]%10===4&&(L[E][0]=-1),R=lr(L[E][0],Math.floor(L[E][0]),.001)&&lr(L[E][1],Math.floor(L[E][1]),.001),A=o1(re,1);L[E][0]<0||L[E][0]>9||L[E][1]<0||L[E][1]>9||R===!1;)A.push(z[E]),z[E]=ge(0,99,A),L[E]=Dn(r[E],[z[E]%10,Math.floor(z[E]/10)],[u,c],[v,y],q[E]),P[E]=yt(L[E][0]+L[E][1]*10,0),r[E]===1&&P[E]%11===0&&(L[E][0]=-1),r[E]===3&&Math.floor(P[E]/10)===4&&(L[E][0]=-1),r[E]===4&&P[E]%10===4&&(L[E][0]=-1),lr(L[E][0],Math.floor(L[E][0]),.001)&&lr(L[E][1],Math.floor(L[E][1]),.001)?R=!0:R=!1;Y[E]=be(yt(L[E][0]-4,0),yt(L[E][1]-4,0),"above left"),W[E]=be(z[E]%10-4,Math.floor(z[E]/10-4),"above left"),re.push(z[E]),re.push(yt(L[E][0]+10*L[E][1],0))}for(let E=0;E<e;E++)Z[r[E]-1]=z[E];for(let E=0,oe,le,ne,H,ue,ae,$e,Ne;E<e;E++){switch(v=h[E],y=p[E],H=Cn(W[E]),ue=Cn(Y[E]),H.epaisseur=2,H.opacite=1,ue.opacite=1,ue.epaisseur=2,ue.color=Ze("#f15929"),ae=Cn(i),ae.epaisseur=2,ae.opacite=1,oe=l7({points:[i],color:"red",taille:10,couleurDeRemplissage:"none"}),r[E]){case 1:n.color=Ze(l[E]),ut(E)+` Donner le numéro du symétrique du point $${z[E]}$ par rapport à la droite $(d_1)$.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro du symétrique du point $${z[E]}$ par rapport à la droite $${Lc("(d_1)",l[E])}$.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` Le symétrique du point $${z[E]}$ par rapport à $${Lc("(d_1)",l[E])}$ est le point $${Ge(String(P[E]))}$.<br>`,D.push(n,H,Gi("(d_1)",4.8,4.2,l[E],20,10,"",12)),_.push(n,H,ue,Gi("(d_1)",4.8,4.2,l[E],20,10,"",12),He(W[E],Y[E],l[E]),ui("O",l[E],W[E],Zi(W[E],Y[E]),Zi(W[E],Y[E]),Y[E]),Qr(W[E],Zi(W[E],Y[E]),zs(n,1,""),l[E],.4,1)),_.push(ia(Number(L[E][0]+10*L[E][1]).toString(),L[E][0]-4.2,L[E][1]-4.2,0,"#f15929",1,"milieu",!1,.8)),_.push(ia(z[E].toString(),z[E]%10-4.2,Math.floor(z[E]/10)-4.2,0,l[E],1,"milieu",!1,.8));break;case 2:s.color=Ze(l[E]),ut(E)+` Donner le numéro du symétrique du point $${z[E]}$ par rapport à la droite $(d_2)$.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro du symétrique du point $${z[E]}$ par rapport à la droite $${Lc("(d_2)",l[E])}$.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` Le symétrique du point $${z[E]}$ par rapport à $${Lc("(d_2)",l[E])}$ est le point $${Ge(String(P[E]))}$.<br>`,D.push(s,H,Gi("(d_2)",4.3,-3.7,l[E],20,10,"",12)),_.push(s,H,ue,Gi("(d_2)",4.3,-3.7,l[E],15,10,"",12),He(W[E],Y[E],l[E]),ui("||",l[E],W[E],Zi(W[E],Y[E]),Zi(W[E],Y[E]),Y[E]),Qr(W[E],Zi(W[E],Y[E]),zs(s,1,""),l[E],.4,1)),_.push(ia(Number(L[E][0]+10*L[E][1]).toString(),L[E][0]-4.2,L[E][1]-4.2,0,"#f15929",1,"milieu",!1,.8)),_.push(ia(z[E].toString(),z[E]%10-4.2,Math.floor(z[E]/10)-4.2,0,l[E],1,"milieu",!1,.8));break;case 3:a.color=Ze(l[E]),ut(E)+` Donner le numéro du symétrique du point $${z[E]}$ par rapport à la droite $(d_3)$.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro du symétrique du point $${z[E]}$ par rapport à la droite $${Lc("(d_3)",l[E])}$.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` Le symétrique du point $${z[E]}$ par rapport à $${Lc("(d_3)",l[E])}$ est le point $${Ge(String(P[E]))}$.<br>`,D.push(a,H,Gi("(d_3)",-4.2,.3,l[E],20,10,"",12)),_.push(a,H,ue,Gi("(d_3)",-4.2,.3,l[E],15,10,"",12),He(W[E],Y[E],l[E]),ui("///",l[E],W[E],Zi(W[E],Y[E]),Zi(W[E],Y[E]),Y[E]),Qr(W[E],Zi(W[E],Y[E]),zs(a,1,""),l[E],.4,1)),_.push(ia(Number(L[E][0]+10*L[E][1]).toString(),L[E][0]-4.2,L[E][1]-4.2,0,"#f15929",1,"milieu",!1,.8)),_.push(ia(z[E].toString(),z[E]%10-4.2,Math.floor(z[E]/10)-4.2,0,l[E],1,"milieu",!1,.8));break;case 4:o.color=Ze(l[E]),ut(E)+` Donner le numéro du symétrique du point $${z[E]}$ par rapport à la droite $(d_4)$.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro du symétrique du point $${z[E]}$ par rapport à la droite $${Lc("(d_4)",l[E])}$.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` Le symétrique du point $${z[E]}$ par rapport à $${Lc("(d_4)",l[E])}$ est le point $${Ge(String(P[E]))}$.<br>`,D.push(o,H,Gi("(d_4)",.2,4.5,l[E],15,10,"",12)),_.push(o,H,ue,Gi("(d_4)",.2,4.5,l[E],20,10,"",12),He(W[E],Y[E],l[E]),ui("OO",l[E],W[E],Zi(W[E],Y[E]),Zi(W[E],Y[E]),Y[E]),Qr(W[E],Zi(W[E],Y[E]),zs(o,1,""),"#f15929",.4,1)),_.push(ia(Number(L[E][0]+10*L[E][1]).toString(),L[E][0]-4.2,L[E][1]-4.2,0,"#f15929",1,"milieu",!1,.8)),_.push(ia(z[E].toString(),z[E]%10-4.2,Math.floor(z[E]/10)-4.2,0,l[E],1,"milieu",!1,.8));break;case 5:ut(E)+` Donner le numéro de  l'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 90° dans le sens anti-horaire.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro de  l'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 90° dans le sens anti-horaire.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` L'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 90° dans le sens anti-horaire est le point $${Ge(String(P[E]))}$.<br>`,D.push(H,ae,oe),_.push(H,ue,ae,oe,He(W[E],i,l[E]),He(Y[E],i,l[E]),ui("|||",l[E],W[E],i,i,Y[E]),id(W[E],i,Y[E]),Qr(W[E],i,Y[E],l[E],.4,1)),_.push(ia(Number(L[E][0]+10*L[E][1]).toString(),L[E][0]-4.2,L[E][1]-4.2,0,"#f15929",1,"milieu",!1,.8)),_.push(ia(z[E].toString(),z[E]%10-4.2,Math.floor(z[E]/10)-4.2,0,l[E],1,"milieu",!1,.8));break;case 6:ut(E)+` Donner le numéro de  l'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 90° dans le sens horaire.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro de  l'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 90° dans le sens horaire.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` L'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 90° dans le sens horaire est le point $${Ge(String(P[E]))}$.<br>`,D.push(H,ae,oe),_.push(H,ue,ae,oe,He(W[E],i,l[E]),He(Y[E],i,l[E]),ui("////","red",W[E],i,i,Y[E]),id(W[E],i,Y[E]),Qr(W[E],i,Y[E],l[E],.8,1)),_.push(ia(Number(L[E][0]+10*L[E][1]).toString(),L[E][0]-4.2,L[E][1]-4.2,0,"#f15929",1,"milieu",!1,.8)),_.push(ia(z[E].toString(),z[E]%10-4.2,Math.floor(z[E]/10)-4.2,0,l[E],1,"milieu",!1,.8));break;case 7:ut(E)+` Donner le numéro de l'image du point $${z[E]}$ par la symétrie de centre O.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro de l'image du point $${z[E]}$ par la symétrie de centre O.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` L'image du point $${z[E]}$ par la symétrie de centre $O$ est le point $${Ge(String(P[E]))}$.<br>`,D.push(H,ae,oe),_.push(H,ue,ae,oe,He(W[E],i,l[E]),He(Y[E],i,l[E]),ui("OOO",l[E],W[E],i,i,Y[E])),_.push(ia(Number(L[E][0]+10*L[E][1]).toString(),L[E][0]-4.2,L[E][1]-4.2,0,"#f15929",1,"milieu",!1,.8)),_.push(ia(z[E].toString(),z[E]%10-4.2,Math.floor(z[E]/10)-4.2,0,l[E],1,"milieu",!1,.8));break;case 8:x=ge(1,26,ie),ie.push(x),k=ge(1,26,ie),ie.push(k),ut(E)+` Donner le numéro de l'image du point $${z[E]}$ par la translation qui transforme ${Qt(x)} en ${Qt(k)}.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro de l'image du point $${z[E]}$ par la translation qui transforme ${Qt(x)} en ${Qt(k)}.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` L'image du point $${z[E]}$ par la translation qui transforme ${Qt(x)} en ${Qt(k)} est le point $${Ge(String(P[E]))}$.<br>`,N=Pve(re),$=re.length;for(let ze=0;ze<$;ze++)N.push(re[ze]-v-10*y);for(g=be(ge(-1,2,[W[E].x,0]),ge(-1,2,[W[E].y,0]),Qt(x),"above right");tB(N,44+g.x+10*g.y)!==0;)g=be(ge(-1,2,[W[E].x,0]),ge(-1,2,[W[E].y,0]),Qt(x),"above right");b=xr(g,Jt(v,y),Qt(k),"above right"),$e=Cn(g),Ne=Cn(b),$e.epaisseur=1,Ne.epaisseur=1,le=l7({points:[g],color:l[E],taille:8,couleurDeRemplissage:"none"}),ne=l7({points:[b],color:l[E],taille:8,couleurDeRemplissage:"none"}),re.push(44+g.x+10*g.y),re.push(44+b.x+10*b.y),D.push(H,$e,Ne,le,ne),_.push(Jt(W[E],Y[E]).representant(W[E],l[E]),Jt(W[E],Y[E]).representant(g,l[E]),H,ue,$e,Ne,le,ne),_.push(ia(Number(L[E][0]+10*L[E][1]).toString(),L[E][0]-4.2,L[E][1]-4.2,0,"#f15929",1,"milieu",!1,.8)),_.push(ia(z[E].toString(),z[E]%10-4.2,Math.floor(z[E]/10)-4.2,0,l[E],1,"milieu",!1,.8));break;case 9:ut(E)+` Donner le numéro de l'image du point $${z[E]}$ par l'homothétie de centre $O$ et de rapport $${de(q[E])}$.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro de l'image du point $${z[E]}$ par l'homothétie de centre $O$ et de rapport $${de(q[E])}$.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` L'image du point $${z[E]}$ par l'homothétie de centre $O$ et de rapport $${de(q[E])}$ est le point $${Ge(String(P[E]))}$.<br>`,D.push(H,ae,oe),_.push(H,ue,ae,oe,He(W[E],i,l[E]),He(Y[E],i,l[E])),_.push(ia(Number(L[E][0]+10*L[E][1]).toString(),L[E][0]-4.2,L[E][1]-4.2,0,"#f15929",1,"milieu",!1,.8)),_.push(ia(z[E].toString(),z[E]%10-4.2,Math.floor(z[E]/10)-4.2,0,l[E],1,"milieu",!1,.8));break;case 10:ut(E)+` Donner le numéro de l'image du point $${z[E]}$ par l'homothétie de centre $O$ et de rapport $${ok(1,q[E])}$.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro de l'image du point $${z[E]}$ par l'homothétie de centre $O$ et de rapport $${ok(1,q[E])}$.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` L'image du point $${z[E]}$ par l'homothétie de centre $O$ et de rapport $${ok(1,q[E])}$ est le point $${Ge(String(P[E]))}$.<br>`,D.push(H,ae,oe),_.push(H,ue,ae,oe,He(W[E],i,l[E]),He(Y[E],i,l[E])),_.push(ia(Number(L[E][0]+10*L[E][1]).toString(),L[E][0]-4.2,L[E][1]-4.2,0,"#f15929",1,"milieu",!1,.8)),_.push(ia(z[E].toString(),z[E]%10-4.2,Math.floor(z[E]/10)-4.2,0,l[E],1,"milieu",!1,.8));break;case 11:ut(E)+` Donner le numéro de  l'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 60° dans le sens anti-horaire.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro de l'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 60° dans le sens anti-horaire.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` L'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 60° dans le sens anti-horaire est le point $${Ge(String(P[E]))}$.<br>`,D.push(H,ae,oe),_.push(H,ue,ae,oe,He(W[E],i,"blue"),He(Y[E],i,"blue"),ui("||","red",W[E],i,i,Y[E]),id(W[E],i,Y[E]));break;case 12:ut(E)+` Donner le numéro de  l'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 60° dans le sens horaire.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro de l'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 60° dans le sens horaire.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` L'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 60° dans le sens horaire est le point $${Ge(String(P[E]))}$.<br>`,D.push(H,ae,oe),_.push(H,ue,ae,oe,He(W[E],i,"blue"),He(Y[E],i,"blue"),ui("||","red",W[E],i,i,Y[E]),id(W[E],i,Y[E]));break;case 13:ut(E)+` Donner le numéro de  l'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 120° dans le sens anti-horaire.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro de l'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 120° dans le sens anti-horaire.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` L'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 120° dans le sens anti-horaire est le point $${Ge(String(P[E]))}$.<br>`,D.push(H,ae,oe),_.push(H,ue,ae,oe,He(W[E],i,"blue"),He(Y[E],i,"blue"),ui("||","red",W[E],i,i,Y[E]),id(W[E],i,Y[E]));break;case 14:ut(E)+` Donner le numéro de  l'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 120° dans le sens horaire.`,m+=(E===0?ut(E):"<br>"+ut(E))+` Donner le numéro de l'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 120° dans le sens horaire.<br>`,f+=(E===0?ut(E):"<br>"+ut(E))+` L'image du point $${z[E]}$ par la rotation de centre $O$ et d'angle 120° dans le sens horaire est le point $${Ge(String(P[E]))}$.<br>`,D.push(H,ae,oe),_.push(H,ue,ae,oe,He(W[E],i,"blue"),He(Y[E],i,"blue"),ui("||","red",W[E],i,i,Y[E]),id(W[E],i,Y[E]));break}this.can&&(m=m.replaceAll(ut(0),""),f=f.replaceAll(ut(0),"")),cr(this,d*e+E,{reponse:{value:String(P[E])}}),m+=gr(this,d*e+E,"")}const X=ci({xmin:-4.5,ymin:-4.5,xmax:5.8,ymax:5.3,pixelsParCm:40,scale:.8,optionsTikz:["every node/.style={scale=0.6}"],mainlevee:!1},D);m+="<br>"+X,f+="<br>"+ci({xmin:-4.5,ymin:-4.5,xmax:5.8,ymax:5.3,pixelsParCm:40,scale:.8,optionsTikz:["every node/.style={scale=0.6}"],mainlevee:!1},_),this.questionJamaisPosee(d,z.map(String).join(""))&&(this.listeQuestions[d]=m,this.listeCorrections[d]=f,d++),T++}Cu(this)}}const lk={Exercice:Os,ExerciceSimple:BB,ExerciceQcm:FB,ExerciceQcmA:Bbe,ExerciceCan:Obe,MetaExerciceCan:OSe,ExerciceBrevet:FSe,ExerciceVraiFaux:PSe,listeQuestionsToContenu:Cu,tablesDeMultiplications:HSe,eN5_3:WSe,eN5_4:aDe,eN4A_3:LDe,construireParSymetrie:VDe,eG2C:XDe,eG6D:oAe,e6P14_NoCapytale:yAe,pavagesEtTransformations:DAe,transformations:Object.freeze(Object.defineProperty({__proto__:null,amcReady:IAe,amcType:TAe,dateDeModifImportante:$Ae,default:LAe,interactifReady:_Ae,interactifType:EAe},Symbol.toStringTag,{value:"Module"}))};return typeof globalThis<"u"&&(globalThis.MathALEA=lk),typeof window<"u"&&(window.MathALEA=lk),lk});
